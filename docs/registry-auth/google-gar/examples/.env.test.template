# Google Artifact Registry Test Configuration
# Copy this file to .env.test and fill in your values

# Google Cloud Configuration
GCP_REGION=europe-west2                # Your chosen GCP region (e.g., europe-west2, us-central1)
GCP_PROJECT_ID=                        # From: gcloud config get-value project

# Artifact Registry Repository
GAR_REPOSITORY_URI=                    # Format: REGION-docker.pkg.dev/PROJECT_ID/REPO_NAME (includes repo name)
GAR_IMAGE_TAG=test:latest              # Format: IMAGE_NAME:TAG (do NOT include repo name here)

# Service Account Credentials (Base64-encoded JSON key file)
# Generate with: cat gar-service-account.json | base64
GAR_KEY_FILE=                          # Base64-encoded service account JSON

# Example filled in:
# GCP_REGION=europe-west2
# GCP_PROJECT_ID=my-project-12345
# GAR_REPOSITORY_URI=europe-west2-docker.pkg.dev/my-project-12345/flux-test-repo
# GAR_IMAGE_TAG=test:latest
# GAR_KEY_FILE=eyJ0eXBlIjoic2VydmljZV9hY2NvdW50IiwicHJvamVjdF9pZCI6Im15LXByb2plY3QtMTIzNDUi...

# How to generate GAR_KEY_FILE:
# 1. Create service account: gcloud iam service-accounts create fluxos-gar-test
# 2. Grant permissions: gcloud projects add-iam-policy-binding PROJECT_ID --member="serviceAccount:fluxos-gar-test@PROJECT_ID.iam.gserviceaccount.com" --role="roles/artifactregistry.reader"
# 3. Generate key: gcloud iam service-accounts keys create gar-service-account.json --iam-account=fluxos-gar-test@PROJECT_ID.iam.gserviceaccount.com
# 4. Encode: cat gar-service-account.json | base64
# 5. Paste the base64 output as the value for GAR_KEY_FILE
