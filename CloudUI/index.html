<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/images/logo.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FluxCloud - Decentralized Web3 Cloud Infrastructure</title>

  <!-- Primary Meta Tags -->
  <meta name="title" content="FluxCloud - Decentralized Web3 Cloud Infrastructure" />
  <meta name="description" content="Deploy applications on FluxCloud's decentralized Web3 infrastructure. Host games, WordPress sites, and custom apps on a network of 8,000+ FluxNodes worldwide. Starting at $0.99/month." />
  <meta name="keywords" content="decentralized cloud, Web3 hosting, blockchain infrastructure, FluxNodes, decentralized apps, game server hosting, WordPress hosting" />
  <meta name="author" content="Flux Network" />
  <meta name="theme-color" content="#2196F3" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://cloud.runonflux.com/" />
  <meta property="og:title" content="FluxCloud - Decentralized Web3 Cloud Infrastructure" />
  <meta property="og:description" content="Deploy applications on FluxCloud's decentralized Web3 infrastructure. Host games, WordPress sites, and custom apps on a network of 8,000+ FluxNodes worldwide. Starting at $0.99/month." />
  <meta property="og:image" content="https://cloud.runonflux.com/images/logo.png" />
  <meta property="og:site_name" content="FluxCloud" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://cloud.runonflux.com/" />
  <meta name="twitter:title" content="FluxCloud - Decentralized Web3 Cloud Infrastructure" />
  <meta name="twitter:description" content="Deploy applications on FluxCloud's decentralized Web3 infrastructure. Host games, WordPress sites, and custom apps on a network of 8,000+ FluxNodes worldwide. Starting at $0.99/month." />
  <meta name="twitter:image" content="https://cloud.runonflux.com/images/logo.png" />
  <meta name="twitter:site" content="@RunOnFlux" />
  <meta name="twitter:creator" content="@RunOnFlux" />

  <!-- Canonical URL -->
  <link rel="canonical" href="https://cloud.runonflux.com/" />

  <!-- Preconnect to critical third-party domains for better performance -->
  <link rel="preconnect" href="https://api.runonflux.io" crossorigin />
  <link rel="preconnect" href="https://stats.runonflux.io" crossorigin />

  <!-- Preconnect for third-party resources that will be used -->
  <link rel="preconnect" href="https://widget.kapa.ai" crossorigin />
  <link rel="preconnect" href="https://raw.githubusercontent.com" crossorigin />

  <!-- DNS-prefetch for additional resources -->
  <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
  <link rel="dns-prefetch" href="https://fonts.gstatic.com" />

  <!-- Critical CSS inlined to avoid render-blocking request -->
  <style>
    /* Loader CSS - Critical for initial loading screen */
    body {
      margin: 0;
      background-color: var(--initial-loader-bg, #fff) !important;
      color: var(--initial-text-color, #000) !important;
      transition: none !important;
    }
    html {
      overflow-x: hidden;
      overflow-y: scroll;
      background-color: var(--initial-loader-bg, #fff) !important;
    }
    body, #app {
      transition: none !important;
    }
    #app {
      background-color: var(--initial-loader-bg, #fff) !important;
      color: var(--initial-text-color, #000) !important;
      min-height: 100vh;
    }
    #loading-bg {
      position: absolute;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: var(--initial-loader-bg, #fff);
      block-size: 100%;
      gap: 2rem 0;
      inline-size: 100%;
    }
    .loading-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .loading {
      position: relative;
      box-sizing: border-box;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      block-size: 200px;
      inline-size: 200px;
    }
    .loading .loading-logo {
      position: absolute;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fade-in-scale 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }
    .loading .loading-logo img {
      width: 80px;
      height: auto;
      filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1));
      animation: pulse-grow 2s ease-in-out infinite;
    }
    @keyframes pulse-grow {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }
    .loading .effect-1, .loading .effect-2, .loading .effect-3 {
      position: absolute;
      box-sizing: border-box;
      border: 4px solid transparent;
      border-radius: 50%;
      block-size: 100%;
      inline-size: 100%;
    }
    .loading .effect-1 {
      animation: rotate 2s linear infinite;
      border-width: 4px;
      border-color: var(--initial-loader-color, #eee) transparent transparent transparent;
      border-style: solid;
      box-shadow: 0 0 20px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.5),
                  inset 0 0 20px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.1);
    }
    .loading .effect-2 {
      animation: rotate 3s linear infinite reverse;
      border-width: 3px;
      border-color: transparent transparent var(--initial-loader-color, #eee) var(--initial-loader-color, #eee);
      opacity: 0.6;
      transform: scale(1.15);
      box-shadow: 0 0 30px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.4),
                  inset 0 0 15px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.1);
      filter: blur(0.5px);
    }
    .loading .effect-3 {
      animation: pulse-rotate 4s ease-in-out infinite;
      border-width: 2px;
      border-color: var(--initial-loader-color, #eee) transparent var(--initial-loader-color, #eee) transparent;
      opacity: 0.4;
      transform: scale(1.3);
      box-shadow: 0 0 40px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.3),
                  inset 0 0 10px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.05);
      filter: blur(1px);
    }
    .loading .effects { transition: all 0.3s ease; }
    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes pulse-rotate {
      0% { transform: scale(1.3) rotate(0deg); opacity: 0.3; }
      25% { transform: scale(1.35) rotate(90deg); opacity: 0.5; }
      50% { transform: scale(1.3) rotate(180deg); opacity: 0.3; }
      75% { transform: scale(1.35) rotate(270deg); opacity: 0.5; }
      100% { transform: scale(1.3) rotate(360deg); opacity: 0.3; }
    }
    @keyframes fade-in-scale {
      0% { opacity: 0; transform: scale(0.5); }
      100% { opacity: 1; transform: scale(1); }
    }
    .loading-screen {
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: var(--initial-loader-bg, #fff);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.8s ease;
      backdrop-filter: blur(10px);
    }
    .loading-screen.fade-out {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transform: scale(1.1);
    }
    .loading-text {
      margin-top: 3rem;
      text-align: center;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      font-size: 1.2rem;
      font-weight: 600;
      letter-spacing: 1px;
      background: linear-gradient(135deg, var(--initial-loader-color, #7367F0) 0%, #9c93ff 50%, var(--initial-loader-color, #7367F0) 100%);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: fade-in-up 1s ease-out 0.5s both, gradient-shift 3s ease infinite, text-glow 2s ease-in-out infinite;
      filter: drop-shadow(0 0 30px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.6));
    }
    @keyframes fade-in-up {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    @keyframes text-glow {
      0%, 100% { filter: drop-shadow(0 0 20px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.5)); }
      50% { filter: drop-shadow(0 0 40px rgba(var(--initial-loader-color-rgb, 115, 103, 240), 0.8)); }
    }
  </style>
  <style>
    /* Hide reCAPTCHA error message that appears before v-overlay-container */
    .v-overlay-container ~ div:not([id]):not([class]) {
      display: none !important;
    }
    /* Alternative: hide the preceding sibling of v-overlay-container without id/class */
    body > div:not([id]):not([class]) + .v-overlay-container {
      & ~ div:not([id]):not([class]),
      + div:not([id]):not([class]) {
        display: none !important;
      }
    }
    /* Target the div that contains reCAPTCHA text specifically */
    body > div:not([id]):not([class]):has(div:only-child) {
      display: none !important;
    }
    /* Ensure reCAPTCHA invisible badge doesn't block clicks */
    .grecaptcha-badge {
      z-index: 1 !important;
      pointer-events: none;
    }
    /* Prevent invisible reCAPTCHA iframe from blocking UI */
    iframe[src*="recaptcha"][style*="visibility: hidden"],
    iframe[src*="recaptcha"][style*="opacity: 0"] {
      pointer-events: none !important;
    }
  </style>
  <script type="module" crossorigin src="/assets/index-QPPWK7xw.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/ansi-utils-ChIB8aIv.js">
  <link rel="modulepreload" crossorigin href="/assets/socketio-BDGyx5_k.js">
  <link rel="modulepreload" crossorigin href="/assets/uuid-B49X2dQj.js">
  <link rel="modulepreload" crossorigin href="/assets/crypto-metamask-D6vz180a.js">
  <link rel="modulepreload" crossorigin href="/assets/apexcharts-nIAyciCq.js">
  <link rel="modulepreload" crossorigin href="/assets/i18n-Bm8bpAAW.js">
  <link rel="modulepreload" crossorigin href="/assets/vuetify-_4u1He_j.js">
  <link rel="modulepreload" crossorigin href="/assets/unhead-DEOrWl0D.js">
  <link rel="modulepreload" crossorigin href="/assets/vueuse-Bid7ZbHY.js">
  <link rel="modulepreload" crossorigin href="/assets/vue-core-CU9AIURn.js">
  <link rel="modulepreload" crossorigin href="/assets/cookie-BfmCf_44.js">
  <link rel="modulepreload" crossorigin href="/assets/unjs-utils-GcjLqAqW.js">
  <link rel="modulepreload" crossorigin href="/assets/http-BZQDkn3h.js">
  <link rel="modulepreload" crossorigin href="/assets/query-parser-C3-dT-Rr.js">
  <link rel="modulepreload" crossorigin href="/assets/casl-DNC8KRD8.js">
  <link rel="modulepreload" crossorigin href="/assets/scrollbar-CXs_Utq1.js">
  <link rel="modulepreload" crossorigin href="/assets/icons-mdi-_QP0sdRJ.js">
  <link rel="modulepreload" crossorigin href="/assets/sanitizer-DAUAC_Zc.js">
  <link rel="modulepreload" crossorigin href="/assets/lodash-C_Sw0jJq.js">
  <link rel="modulepreload" crossorigin href="/assets/element-plus-Cr1Qs4Q_.js">
  <link rel="stylesheet" crossorigin href="/assets/vuetify-BqjjTxSh.css">
  <link rel="stylesheet" crossorigin href="/assets/element-plus-H5mEkztP.css">
  <link rel="stylesheet" crossorigin href="/assets/index-D7n2qfYx.css">
</head>

<body>
  <noscript>
    <strong>
      We're sorry but FluxCloud doesn't work properly without
      JavaScript enabled. Please enable it to continue.
    </strong>
  </noscript>
  <div id="loading-bg" class="loading-screen">
    <div class="loading-wrapper">
      <div class="loading">
        <div class="loading-logo">
          <img src="/images/logo.png" alt="Logo" />
        </div>
        <div class="effect-1 effects"></div>
        <div class="effect-2 effects"></div>
        <div class="effect-3 effects"></div>
      </div>
    </div>
    <div class="loading-text">
      Flux, Your Gateway to a Decentralized World
    </div>
  </div>
  <div id="app"></div>

  <!-- Node.js polyfills - Load Buffer locally (must block) -->
  <script src="/polyfills/buffer.min.js"></script>
  <script>
    // Set window.Buffer from bundled buffer exports
    if (typeof bufferExports !== 'undefined') {
      window.Buffer = bufferExports.Buffer;
    }
  </script>

  <!-- Set global and process polyfills -->
  <script>
    // Polyfills MUST be available before any module loads (including async chunks)
    (function() {
      'use strict';

      // Global
      if (typeof window.global === 'undefined') {
        window.global = window.globalThis || window;
      }

      // Process polyfill - inline minimal implementation
      if (typeof window.process === 'undefined') {
        window.process = {
          env: {},
          version: 'v16.0.0',
          platform: 'browser',
          browser: true,
          cwd: function() { return '/'; },
          nextTick: function(fn) {
            var args = Array.prototype.slice.call(arguments, 1);
            Promise.resolve().then(function() { fn.apply(null, args); });
          }
        };
      }
    })();
  </script>


  <!-- Kapa AI widget - deferred loading after app is ready -->
  <script>
    (function() {
      // Default English disclaimer (fallback)
      const defaultDisclaimer = 'Get instant answers about Flux products, deployment, and app management. Powered by AI trained on official docs, whitepapers, and support resources.'

      // Function to initialize Kapa widget with disclaimer
      function initKapaWidget(disclaimer) {
        if (document.getElementById('kapa-widget-script')) return
        const kapaScript = document.createElement('script')
        kapaScript.defer = true
        kapaScript.id = 'kapa-widget-script'
        kapaScript.src = 'https://widget.kapa.ai/kapa-widget.bundle.js'
        kapaScript.setAttribute('data-website-id', '16d7ee8e-1911-40a9-9bed-15eaadbcd99d')
        kapaScript.setAttribute('data-project-name', 'Flux')
        kapaScript.setAttribute('data-button-hide', 'true')
        kapaScript.setAttribute('data-modal-override-open-id-ask-ai', 'flux-ai-button')
        kapaScript.setAttribute('data-user-analytics-fingerprint-enabled', 'true')
        kapaScript.setAttribute('data-search-mode-enabled', 'true')
        kapaScript.setAttribute('data-project-logo', 'https://raw.githubusercontent.com/RunOnFlux/media-logos/refs/heads/master/Flux_Asset_SVG/Flux%20Logo/Symbol/Round%20Symbol/SVG/Flux_symbol_blue-white.svg')
        kapaScript.setAttribute('data-modal-image', 'https://raw.githubusercontent.com/RunOnFlux/media-logos/refs/heads/master/Flux_Asset_SVG/Flux%20Logo/Symbol/Round%20Symbol/SVG/Flux_symbol_blue-white.svg')
        kapaScript.setAttribute('data-modal-disclaimer', disclaimer)
        document.body.appendChild(kapaScript)
      }

      // Wait for app-ready event before loading Kapa (non-blocking)
      window.addEventListener('app-ready', function() {
        // Use requestIdleCallback if available, otherwise setTimeout
        const scheduleLoad = window.requestIdleCallback || function(cb) { setTimeout(cb, 1) }
        scheduleLoad(function() {
          // Listen for i18n ready event from Vue app
          const handleI18nReady = function(event) {
            initKapaWidget(event.detail?.disclaimer || defaultDisclaimer)
            window.removeEventListener('i18n-ready', handleI18nReady)
          }
          window.addEventListener('i18n-ready', handleI18nReady)

          // Fallback: if i18n doesn't fire within 2 seconds after app-ready, use default
          setTimeout(function() {
            if (!document.getElementById('kapa-widget-script')) {
              initKapaWidget(defaultDisclaimer)
            }
          }, 2000)
        })
      })
    })()
  </script>

  <script>
    const loaderColor = localStorage.getItem('vuexy-initial-loader-bg') || '#FFFFFF'
    const primaryColor = localStorage.getItem('vuexy-initial-loader-color') || '#7367F0'

    // Detect theme from stored theme or background color brightness
    const storedTheme = localStorage.getItem('vuexy-theme') || 'light'

    // Determine text color based on theme
    const isDarkTheme = storedTheme === 'dark' || (loaderColor && loaderColor.toLowerCase() !== '#ffffff' && loaderColor.toLowerCase() !== '#fff')
    const textColor = isDarkTheme ? 'rgba(255, 255, 255, 0.87)' : 'rgba(0, 0, 0, 0.87)'

    // Convert hex to RGB for glow effects
    function hexToRgb(hex) {
      const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
      return result ?
        `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` :
        '115, 103, 240';
    }

    // Apply background and text color immediately to prevent theme flash
    document.body.style.backgroundColor = loaderColor
    document.body.style.color = textColor
    document.documentElement.style.backgroundColor = loaderColor
    document.documentElement.style.color = textColor

    document.documentElement.style.setProperty('--initial-loader-bg', loaderColor)
    document.documentElement.style.setProperty('--initial-loader-color', primaryColor)
    document.documentElement.style.setProperty('--initial-loader-color-rgb', hexToRgb(primaryColor))
    document.documentElement.style.setProperty('--initial-text-color', textColor)

    // Set Vuetify theme colors immediately to prevent flash
    if (isDarkTheme) {
      document.documentElement.classList.add('v-theme--dark')
      document.documentElement.classList.remove('v-theme--light')
    } else {
      document.documentElement.classList.add('v-theme--light')
      document.documentElement.classList.remove('v-theme--dark')
    }

    // Transitions are managed by Vuetify and component styles
    // Do not add global transitions as they interfere with Vuetify positioning

    // Check if page path should skip loader
    const skipLoaderPaths = ['/successcheckout']
    const shouldSkipLoader = skipLoaderPaths.some(path => window.location.pathname === path)

    if (shouldSkipLoader) {
      // Remove loader immediately for specific pages
      const loader = document.getElementById('loading-bg')
      if (loader) loader.remove()
    } else {
      // Normal loader behavior for other pages
      window.addEventListener('app-ready', () => {
        setTimeout(() => {
          requestAnimationFrame(() => {
            requestAnimationFrame(() => {
              const loader = document.getElementById('loading-bg')
              if (loader) {
                loader.classList.add('fade-out')
                setTimeout(() => loader.remove(), 800)
              }
            })
          })
        }, 500)
      })
    }
  </script>
</body>

</html>
