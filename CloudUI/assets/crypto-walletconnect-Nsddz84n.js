const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/crypto-viem-CJP2v0S5.js","assets/crypto-metamask-D6vz180a.js","assets/ansi-utils-ChIB8aIv.js","assets/socketio-BDGyx5_k.js","assets/uuid-B49X2dQj.js","assets/event-utils-DGlX1gEp.js"])))=>i.map(i=>d[i]);
import{E as $A}from"./event-utils-DGlX1gEp.js";import{y as lye,i as Be,r as pi,a as W,n as L}from"./lit-Ba94Z-Zv.js";import{_ as fe,p as qm,r as Do,e as uye,s as dye}from"./crypto-metamask-D6vz180a.js";import{f as TA,e as F3,a as RE,h as mo,t as wo,c as NA,g as pd,S as T1,P as wz,C as AS,n as rr,U as gu,b as X8,d as hye,w as pye,i as fye,j as gye,k as mye,s as wye,p as yye,l as bye,m as vye,o as Eye,q as Cye,r as _ye,u as Iye,v as Q8,x as Xp,y as e$,z as yz,A as Sye,B as bz,D as xye,k3 as Aye,as as Ww,an as yee,a1 as DE,gB as UE,f3 as ME,b2 as XD,k0 as bee,gb as LE,aw as jE,hr as BE,gd as zE,k4 as vee,k5 as Eee,k6 as OA,k7 as gg,k8 as oc,k9 as Fg,ka as Vv,kb as Cee,kc as _ee,kd as Qh,ke as kS,kf as N1,kg as $S,kh as Iee,ki as See,kj as xee,kk as Aee,kl as Fs,km as PA,kn as $_,ko as RA,kp as kee,kq as $ee,kr as Tee,ks as Nee,kt as TS,ku as Oee,kv as NS,kw as Pee,kx as DA,ky as lE,kz as dw,kA as Ree,gC as pP,a4 as OS,aC as Dee,aD as Uee,bd as Mee,d9 as Lee,dE as jee,ev as Bee,_ as zee,kB as WE,kC as kye,kD as $ye,kE as UA,kF as Tye,kG as Nye,kH as Wee,kI as Oye,kJ as Pye,kK as Rye,E as Dye,F as Uye,G as Mye,H as Lye,I as jye,J as Bye,K as zye,L as Wye,M as qye,N as Fye,O as Hye,Q as Vye,R as Kye,T as Zye,V as Gye,W as Yye,X as Jye,Y as Xye,Z as Qye,$ as ebe,a0 as tbe,a2 as nbe,a3 as rbe,a5 as ibe,a6 as sbe,a7 as obe,a8 as abe,a9 as cbe,aa as lbe,ab as ube,ac as dbe,ad as hbe,ae as pbe,af as fbe,ag as gbe,ah as mbe,ai as wbe,aj as ybe,ak as bbe,al as vbe,am as Ebe,ao as Cbe,ap as _be,aq as Ibe,ar as Sbe,at as xbe,au as Abe,av as kbe,ax as $be,ay as Tbe,az as Nbe,aA as Obe,aB as Pbe,aE as Rbe,aF as Dbe,aG as Ube,aH as Mbe,aI as Lbe,aJ as jbe,aK as Bbe,aL as zbe,aM as Wbe,aN as qbe,aO as Fbe,aP as Hbe,aQ as Vbe,aR as Kbe,aS as Zbe,aT as Gbe,aU as Ybe,aV as Jbe,aW as Xbe,aX as Qbe,aY as e1e,aZ as t1e,a_ as n1e,a$ as r1e,b0 as i1e,b1 as s1e,b3 as o1e,b4 as a1e,b5 as c1e,b6 as l1e,b7 as u1e,b8 as d1e,b9 as h1e,ba as p1e,bb as f1e,bc as g1e,be as m1e,bf as w1e,bg as y1e,bh as b1e,bi as v1e,bj as E1e,bk as C1e,bl as _1e,bm as I1e,bn as S1e,bo as x1e,bp as A1e,bq as k1e,br as $1e,bs as T1e,bt as N1e,bu as O1e,bv as P1e,bw as R1e,bx as D1e,by as U1e,bz as M1e,bA as L1e,bB as j1e,bC as B1e,bD as z1e,bE as W1e,bF as q1e,bG as F1e,bH as H1e,bI as V1e,bJ as K1e,bK as Z1e,bL as G1e,bM as Y1e,bN as J1e,bO as X1e,bP as Q1e,bQ as eve,bR as tve,bS as nve,bT as rve,bU as ive,bV as sve,bW as ove,bX as ave,bY as cve,bZ as lve,b_ as uve,b$ as dve,c0 as hve,c1 as pve,c2 as fve,c3 as gve,c4 as mve,c5 as wve,c6 as yve,c7 as bve,c8 as vve,c9 as Eve,ca as Cve,cb as _ve,cc as Ive,cd as Sve,ce as xve,cf as Ave,cg as kve,ch as $ve,ci as Tve,cj as Nve,ck as Ove,cl as Pve,cm as Rve,cn as Dve,co as Uve,cp as Mve,cq as Lve,cr as jve,cs as Bve,ct as zve,cu as Wve,cv as qve,cw as Fve,cx as Hve,cy as Vve,cz as Kve,cA as Zve,cB as Gve,cC as Yve,cD as Jve,cE as Xve,cF as Qve,cG as e2e,cH as t2e,cI as n2e,cJ as r2e,cK as i2e,cL as s2e,cM as o2e,cN as a2e,cO as c2e,cP as l2e,cQ as u2e,cR as d2e,cS as h2e,cT as p2e,cU as f2e,cV as g2e,cW as m2e,cX as w2e,cY as y2e,cZ as b2e,c_ as v2e,c$ as E2e,d0 as C2e,d1 as _2e,d2 as I2e,d3 as S2e,d4 as x2e,d5 as A2e,d6 as k2e,d7 as $2e,d8 as T2e,da as N2e,db as O2e,dc as P2e,dd as R2e,de as D2e,df as U2e,dg as M2e,dh as L2e,di as j2e,dj as B2e,dk as z2e,dl as W2e,dm as q2e,dn as F2e,dp as H2e,dq as V2e,dr as K2e,ds as Z2e,dt as G2e,du as Y2e,dv as J2e,dw as X2e,dx as Q2e,dy as e3e,dz as t3e,dA as n3e,dB as r3e,dC as i3e,dD as s3e,dF as o3e,dG as a3e,dH as c3e,dI as l3e,dJ as u3e,dK as d3e,dL as h3e,dM as p3e,dN as f3e,dO as vz,dP as g3e,dQ as m3e,dR as w3e,dS as y3e,dT as b3e,dU as v3e,dV as E3e,dW as C3e,dX as _3e,dY as I3e,dZ as S3e,d_ as x3e,d$ as A3e,e0 as k3e,e1 as $3e,e2 as T3e,e3 as N3e,e4 as O3e,e5 as P3e,e6 as R3e,e7 as D3e,e8 as U3e,e9 as M3e,ea as L3e,eb as j3e,ec as B3e,ed as z3e,ee as W3e,ef as q3e,eg as F3e,eh as H3e,ei as V3e,ej as K3e,ek as Z3e,el as G3e,em as Y3e,en as J3e,eo as X3e,ep as Q3e,eq as eEe,er as tEe,es as nEe,et as rEe,eu as iEe,ew as sEe,ex as oEe,ey as aEe,ez as cEe,eA as lEe,eB as uEe,eC as dEe,eD as hEe,eE as pEe,eF as fEe,eG as gEe,eH as mEe,eI as wEe,eJ as yEe,eK as bEe,eL as vEe,eM as EEe,eN as CEe,eO as _Ee,eP as IEe,eQ as SEe,eR as xEe,eS as AEe,eT as kEe,eU as $Ee,eV as TEe,eW as NEe,eX as OEe,eY as PEe,eZ as REe,e_ as DEe,e$ as UEe,f0 as MEe,f1 as LEe,f2 as jEe,f4 as BEe,f5 as zEe,f6 as WEe,f7 as qEe,f8 as FEe,f9 as HEe,fa as VEe,fb as KEe,fc as ZEe,fd as GEe,fe as YEe,ff as JEe,fg as XEe,fh as QEe,fi as eCe,fj as tCe,fk as nCe,fl as rCe,fm as iCe,fn as sCe,fo as oCe,fp as aCe,fq as cCe,fr as lCe,fs as uCe,ft as dCe,fu as hCe,fv as pCe,fw as fCe,fx as gCe,fy as mCe,fz as wCe,fA as yCe,fB as bCe,fC as vCe,fD as ECe,fE as CCe,fF as _Ce,fG as ICe,fH as SCe,fI as xCe,fJ as ACe,fK as kCe,fL as $Ce,fM as TCe,fN as NCe,fO as OCe,fP as PCe,fQ as RCe,fR as DCe,fS as UCe,fT as MCe,fU as LCe,fV as jCe,fW as BCe,fX as zCe,fY as WCe,fZ as qCe,f_ as FCe,f$ as HCe,g0 as VCe,g1 as KCe,g2 as ZCe,g3 as GCe,g4 as YCe,g5 as JCe,g6 as XCe,g7 as QCe,g8 as e_e,g9 as t_e,ga as n_e,gc as r_e,ge as i_e,gf as s_e,gg as o_e,gh as a_e,gi as c_e,gj as l_e,gk as u_e,gl as d_e,gm as h_e,gn as p_e,go as f_e,gp as g_e,gq as m_e,gr as w_e,gs as y_e,gt as b_e,gu as v_e,gv as E_e,gw as C_e,gx as __e,gy as I_e,gz as S_e,gA as x_e,gD as A_e,gE as k_e,gF as $_e,gG as T_e,gH as N_e,gI as O_e,gJ as P_e,gK as R_e,gL as D_e,gM as U_e,gN as M_e,gO as L_e,gP as j_e,gQ as B_e,gR as z_e,gS as W_e,gT as q_e,gU as F_e,gV as H_e,gW as V_e,gX as K_e,gY as Z_e,gZ as G_e,g_ as Y_e,g$ as J_e,h0 as X_e,h1 as Q_e,h2 as e4e,h3 as t4e,h4 as n4e,h5 as r4e,h6 as i4e,h7 as s4e,h8 as o4e,h9 as a4e,ha as c4e,hb as l4e,hc as u4e,hd as d4e,he as h4e,hf as p4e,hg as f4e,hh as g4e,hi as m4e,hj as w4e,hk as y4e,hl as b4e,hm as v4e,hn as E4e,ho as C4e,hp as _4e,hq as I4e,hs as S4e,ht as x4e,hu as A4e,hv as k4e,hw as $4e,hx as T4e,hy as N4e,hz as O4e,hA as P4e,hB as R4e,hC as D4e,hD as U4e,hE as M4e,hF as L4e,hG as j4e,hH as B4e,hI as z4e,hJ as W4e,hK as q4e,hL as F4e,hM as H4e,hN as V4e,hO as K4e,hP as Z4e,hQ as G4e,hR as Y4e,hS as J4e,hT as X4e,hU as Q4e,hV as e5e,hW as t5e,hX as n5e,hY as r5e,hZ as i5e,h_ as s5e,h$ as o5e,i0 as a5e,i1 as c5e,i2 as l5e,i3 as u5e,i4 as d5e,i5 as h5e,i6 as p5e,i7 as f5e,i8 as Ez,i9 as g5e,ia as m5e,ib as w5e,ic as y5e,id as b5e,ie as v5e,ig as E5e,ih as C5e,ii as _5e,ij as I5e,ik as S5e,il as x5e,im as A5e,io as k5e,ip as $5e,iq as T5e,ir as N5e,is as O5e,it as P5e,iu as R5e,iv as D5e,iw as U5e,ix as M5e,iy as L5e,iz as j5e,iA as B5e,iB as z5e,iC as W5e,iD as q5e,iE as F5e,iF as H5e,iG as V5e,iH as K5e,iI as Z5e,iJ as G5e,iK as Y5e,iL as J5e,iM as X5e,iN as Q5e,iO as eIe,iP as tIe,iQ as nIe,iR as rIe,iS as iIe,iT as sIe,iU as oIe,iV as aIe,iW as cIe,iX as lIe,iY as uIe,iZ as dIe,i_ as hIe,i$ as pIe,j0 as fIe,j1 as gIe,j2 as mIe,j3 as wIe,j4 as yIe,j5 as bIe,j6 as vIe,j7 as EIe,j8 as CIe,j9 as _Ie,ja as IIe,jb as SIe,jc as xIe,jd as AIe,je as kIe,jf as $Ie,jg as TIe,jh as NIe,ji as OIe,jj as PIe,jk as RIe,jl as DIe,jm as UIe,jn as MIe,jo as LIe,jp as jIe,jq as BIe,jr as zIe,js as WIe,jt as qIe,ju as FIe,jv as Cz,jw as HIe,jx as VIe,jy as KIe,jz as ZIe,jA as GIe,jB as YIe,jC as JIe,jD as XIe,jE as QIe,jF as eSe,jG as tSe,jH as nSe,jI as rSe,jJ as iSe,jK as sSe,jL as oSe,jM as aSe,jN as cSe,jO as lSe,jP as uSe,jQ as dSe,jR as hSe,jS as pSe,jT as fSe,jU as gSe,jV as _z,jW as Iz,jX as mSe,jY as wSe,jZ as ySe,j_ as Sz,j$ as xz,k1 as bSe,k2 as vSe}from"./crypto-viem-CJP2v0S5.js";import{d as h1,r as ESe,u as CSe,e as _Se}from"./date-utils-Cx_iWJ70.js";import{g as ny,a as qee}from"./ansi-utils-ChIB8aIv.js";import{s as Kv,t as Zv,g as Fee,a as Hee,b as Vee,c as Kee,f as MA}from"./crypto-ox-C1hHNqF1.js";import{d as w5}from"./unjs-utils-GcjLqAqW.js";function ISe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const A9t=window.Buffer,SSe=Symbol(),Az=Object.getPrototypeOf,fP=new WeakMap,xSe=t=>t&&(fP.has(t)?fP.get(t):Az(t)===Object.prototype||Az(t)===Array.prototype),ASe=t=>xSe(t)&&t[SSe]||null,kz=(t,e=!0)=>{fP.set(t,e)},PS={},QD=t=>typeof t=="object"&&t!==null,kSe=t=>QD(t)&&!T_.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),Zee=(t,e)=>{const n=gP.get(t);if(n?.[0]===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return kz(r,!0),gP.set(t,[e,r]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(r,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(T_.has(s))kz(s,!1);else if(mg.has(s)){const[c,l]=mg.get(s);a.value=Zee(c,l())}Object.defineProperty(r,i,a)}),Object.preventExtensions(r)},$Se=(t,e,n,r)=>({deleteProperty(i,s){const o=Reflect.get(i,s);n(s);const a=Reflect.deleteProperty(i,s);return a&&r(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&($z(l,o)||qE.has(o)&&$z(l,qE.get(o))))return!0;n(s),QD(o)&&(o=ASe(o)||o);const u=!mg.has(o)&&NSe(o)?Wn(o):o;return e(s,u),Reflect.set(i,s,u,a),r(["set",[s],o,l]),!0}}),mg=new WeakMap,T_=new WeakSet,gP=new WeakMap,eS=[1],qE=new WeakMap;let $z=Object.is,TSe=(t,e)=>new Proxy(t,e),NSe=kSe,OSe=Zee,PSe=$Se;function Wn(t={}){if(!QD(t))throw new Error("object required");const e=qE.get(t);if(e)return e;let n=eS[0];const r=new Set,i=(m,b=++eS[0])=>{n!==b&&(s=n=b,r.forEach(y=>y(m,b)))};let s=n;const o=(m=eS[0])=>(s!==m&&(s=m,c.forEach(([b])=>{const y=b[1](m);y>n&&(n=y)})),n),a=m=>(b,y)=>{const v=[...b];v[1]=[m,...v[1]],i(v,y)},c=new Map,l=(m,b)=>{const y=!T_.has(b)&&mg.get(b);if(y){if((PS?"production":void 0)!=="production"&&c.has(m))throw new Error("prop listener already exists");if(r.size){const v=y[2](a(m));c.set(m,[y,v])}else c.set(m,[y])}},u=m=>{var b;const y=c.get(m);y&&(c.delete(m),(b=y[1])==null||b.call(y))},d=m=>(r.add(m),r.size===1&&c.forEach(([y,v],w)=>{if((PS?"production":void 0)!=="production"&&v)throw new Error("remove already exists");const C=y[2](a(w));c.set(w,[y,C])}),()=>{r.delete(m),r.size===0&&c.forEach(([y,v],w)=>{v&&(v(),c.set(w,[y]))})});let h=!0;const p=PSe(()=>h,l,u,i),f=TSe(t,p);qE.set(t,f);const g=[t,o,d];return mg.set(f,g),Reflect.ownKeys(t).forEach(m=>{const b=Object.getOwnPropertyDescriptor(t,m);"value"in b&&b.writable&&(f[m]=t[m])}),h=!1,f}function ci(t,e,n){const r=mg.get(t);(PS?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[2];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function FE(t){const e=mg.get(t);(PS?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return OSe(n,r())}function O1(t){return T_.add(t),t}function RSe(){return{proxyStateMap:mg,refSet:T_,snapCache:gP,versionHolder:eS,proxyCache:qE}}function ii(t,e,n,r){let i=t[e];return ci(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}const{proxyStateMap:DSe,snapCache:USe}=RSe(),y5=t=>DSe.has(t);function MSe(t){const e=[];let n=0;const r=new Map,i=new WeakMap,s=()=>{const l=USe.get(a),u=l?.[1];if(u&&!i.has(u)){const d=new Map(r);i.set(u,d)}},o=l=>i.get(l)||r,a={data:e,index:n,epoch:0,get size(){return y5(this)||s(),o(this).size},get(l){const d=o(this).get(l);if(d===void 0){this.epoch;return}return this.data[d]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!y5(this))throw new Error("Cannot perform mutations on a snapshot");const d=r.get(l);return d===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[d]=u,this.epoch++,this},delete(l){if(!y5(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!y5(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,o(this).forEach((d,h)=>{l(this.data[d],h,this)})},*entries(){this.epoch;const l=o(this);for(const[u,d]of l)yield[u,this.data[d]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=Wn(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}h1.extend(ESe);h1.extend(CSe);const LSe={..._Se,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}},jSe=["January","February","March","April","May","June","July","August","September","October","November","December"];h1.locale("en-web3-modal",LSe);const mP={getMonthNameByIndex(t){return jSe[t]},getYear(t=new Date().toISOString()){return h1(t).year()},getRelativeDateFromNow(t){return h1(t).locale("en-web3-modal").fromNow(!0)},formatDate(t,e="DD MMM"){return h1(t).format(e)}};var Tz={};const ne={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof window.process<"u"&&typeof Tz<"u"?Tz.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof window.process<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},P1={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return ne.CHAIN_NAME_MAP?.[r]||void 0}},eU=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var BSe=20,zSe=1,qw=1e6,Nz=1e6,WSe=-7,qSe=21,FSe=!1,N_="[big.js] ",ry=N_+"Invalid ",LA=ry+"decimal places",HSe=ry+"rounding mode",Gee=N_+"Division by zero",ir={},fd=void 0,VSe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Yee(){function t(e){var n=this;if(!(n instanceof t))return e===fd?Yee():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(ry+"value");e=e===0&&1/e<0?"-0":String(e)}KSe(n,e)}n.constructor=t}return t.prototype=ir,t.DP=BSe,t.RM=zSe,t.NE=WSe,t.PE=qSe,t.strict=FSe,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function KSe(t,e){var n,r,i;if(!VSe.test(e))throw Error(ry+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function iy(t,e,n,r){var i=t.c;if(n===fd&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(HSe);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==fd))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==fd||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function sy(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}ir.abs=function(){var t=new this.constructor(this);return t.s=1,t};ir.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};ir.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>qw)throw Error(LA);if(!i[0])throw Error(Gee);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,d,h=i.slice(),p=a=i.length,f=r.length,g=r.slice(0,a),m=g.length,b=t,y=b.c=[],v=0,w=o+(b.e=e.e-t.e)+1;for(b.s=s,s=w<0?0:w,h.unshift(0);m++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(m=g.length))u=a>m?1:-1;else for(d=-1,u=0;++d<a;)if(i[d]!=g[d]){u=i[d]>g[d]?1:-1;break}if(u<0){for(c=m==a?i:h;m;){if(g[--m]<c[m]){for(d=m;d&&!g[--d];)g[d]=9;--g[d],g[m]+=10}g[m]-=c[m]}for(;!g[0];)g.shift()}else break}y[v++]=u?l:++l,g[0]&&u?g[m]=r[p]||0:g=[r[p]]}while((p++<f||g[0]!==fd)&&s--);return!y[0]&&v!=1&&(y.shift(),b.e--,w--),v>w&&iy(b,w,n.RM,g[0]!==fd),b};ir.eq=function(t){return this.cmp(t)===0};ir.gt=function(t){return this.cmp(t)>0};ir.gte=function(t){return this.cmp(t)>-1};ir.lt=function(t){return this.cmp(t)<0};ir.lte=function(t){return this.cmp(t)<1};ir.minus=ir.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-h){for((i=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){i=l[c]<d[c];break}if(i&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};ir.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(Gee);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};ir.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};ir.plus=ir.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};ir.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-Nz||t>Nz)throw Error(ry+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};ir.prec=function(t,e){if(t!==~~t||t<1||t>qw)throw Error(ry+"precision");return iy(new this.constructor(this),t,e)};ir.round=function(t,e){if(t===fd)t=0;else if(t!==~~t||t<-qw||t>qw)throw Error(LA);return iy(new this.constructor(this),t+this.e+1,e)};ir.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(N_+"No square root");s=Math.sqrt(+sy(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return iy(t,(i.DP-=4)+t.e+1,i.RM)};ir.times=ir.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};ir.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==fd){if(t!==~~t||t<0||t>qw)throw Error(LA);for(n=iy(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return sy(n,!0,!!r)};ir.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==fd){if(t!==~~t||t<0||t>qw)throw Error(LA);for(n=iy(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return sy(n,!1,!!r)};ir[Symbol.for("nodejs.util.inspect.custom")]=ir.toJSON=ir.toString=function(){var t=this,e=t.constructor;return sy(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};ir.toNumber=function(){var t=+sy(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(N_+"Imprecise conversion");return t};ir.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==fd){if(t!==~~t||t<1||t>qw)throw Error(ry+"precision");for(n=iy(new r(n),t,e);n.c.length<t;)n.c.push(0)}return sy(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};ir.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(N_+"valueOf disallowed");return sy(t,t.e<=e.NE||t.e>=e.PE,!0)};var Xa=Yee();const zt={bigNumber(t){return t?new Xa(t):new Xa(0)},multiply(t,e){if(t===void 0||e===void 0)return new Xa(0);const n=new Xa(t),r=new Xa(e);return n.times(r)},toFixed(t,e=2){return t===void 0||t===""?new Xa(0).toFixed(e):new Xa(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new Xa(e).toNumber()}},ZSe={numericInputKeyDown(t,e,n){const r=["Backspace","Meta","Ctrl","a","A","c","C","x","X","v","V","ArrowLeft","ArrowRight","Tab"],i=t.metaKey||t.ctrlKey,s=t.key,o=s.toLocaleLowerCase(),a=o==="a",c=o==="c",l=o==="v",u=o==="x",d=s===",",h=s===".",p=s>="0"&&s<="9";!i&&(a||c||l||u)&&t.preventDefault(),e==="0"&&!d&&!h&&s==="0"&&t.preventDefault(),e==="0"&&p&&(n(s),t.preventDefault()),(d||h)&&(e||(n("0."),t.preventDefault()),(e?.includes(".")||e?.includes(","))&&t.preventDefault()),!p&&!r.includes(s)&&!h&&!d&&t.preventDefault()}},GSe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],YSe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],JSe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Jee={getERC20Abi:t=>ne.USDT_CONTRACT_ADDRESSES.includes(t)?JSe:GSe,getSwapAbi:()=>YSe},Xee={URLS:{FAQ:"https://walletconnect.com/faq"}},Zr={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Mo={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(t){try{if(typeof t=="object"&&t!==null){const e=t,n=typeof e.message=="string",r=typeof e.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(t){return t.toLowerCase().includes("user rejected")||t.toLowerCase().includes("user cancelled")||t.toLowerCase().includes("user canceled")},isUserRejectedRequestError(t){if(Mo.isRpcProviderError(t)){const e=t.code===Mo.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=t.code===Mo.RPC_ERROR_CODE.USER_REJECTED_METHODS;return e||n||Mo.isUserRejectedMessage(t.message)}return t instanceof Error?Mo.isUserRejectedMessage(t.message):!1}};let XSe=class extends Error{constructor(e,n){super(n.message,{cause:e}),this.name=Mo.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}},Zb=class extends XSe{constructor(e){super(e,{code:Mo.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=Mo.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}};const ft={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function t$(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const at={setItem(t,e){H3()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(H3())return localStorage.getItem(t)||void 0},removeItem(t){H3()&&localStorage.removeItem(t)},clear(){H3()&&localStorage.clear()}};function H3(){return typeof window<"u"&&typeof localStorage<"u"}function R1(t,e){const n=t?.["--apkt-accent"]??t?.["--w3m-accent"];return e==="light"?{"--w3m-accent":n||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":n||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var Oz={};const n$=(typeof window.process<"u"&&typeof Oz<"u"?Oz.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Qee=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],QSe="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",yt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:n$,SECURE_SITE_DASHBOARD:`${n$}/dashboard`,SECURE_SITE_FAVICON:`${n$}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USDâ‚®0"]},BALANCE_SUPPORTED_CHAINS:[ne.CHAIN.EVM,ne.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[ne.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[ne.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[ne.CHAIN.EVM,ne.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[ne.CHAIN.EVM,ne.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[ne.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[ne.CHAIN.EVM,ne.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=be.getActiveNamespace(),e=be.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{at.setItem(ft.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=at.getItem(ft.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{at.removeItem(ft.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{at.setItem(ft.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{at.setItem(ft.ACTIVE_CAIP_NETWORK_ID,t),be.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return at.getItem(ft.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{at.removeItem(ft.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=t$(t);at.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=be.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),at.setItem(ft.RECENT_WALLETS,JSON.stringify(e)),at.setItem(ft.RECENT_WALLET,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=at.getItem(ft.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const t=at.getItem(ft.RECENT_WALLET);return t?JSON.parse(t):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{at.removeItem(ft.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(t,e){try{const n=t$(t);at.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return at.getItem(ft.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=t$(t);return at.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{at.setItem(ft.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return at.getItem(ft.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{at.removeItem(ft.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return at.getItem(ft.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return at.getItem(ft.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{at.setItem(ft.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return at.getItem(ft.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=at.getItem(ft.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));at.setItem(ft.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=be.getConnectedNamespaces();e.includes(t)||(e.push(t),be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=be.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return at.getItem(ft.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{at.setItem(ft.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{at.removeItem(ft.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=at.getItem(ft.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=be.getBalanceCache();at.setItem(ft.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=be.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=be.getBalanceCache();e[t.caipAddress]=t,at.setItem(ft.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=at.getItem(ft.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=be.getBalanceCache();at.setItem(ft.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=be.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=be.getNativeBalanceCache();e[t.caipAddress]=t,at.setItem(ft.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=at.getItem(ft.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=be.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;be.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=be.getEnsCache();e[t.address]=t,at.setItem(ft.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=be.getEnsCache();at.setItem(ft.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=at.getItem(ft.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=be.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;be.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=be.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},at.setItem(ft.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=be.getIdentityCache();at.setItem(ft.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},getTonWalletsCache(){try{const t=at.getItem(ft.TON_WALLETS_CACHE),e=t?JSON.parse(t):void 0;if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.tonWallets))return e;be.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(t){try{const e=be.getTonWalletsCache()||{timestamp:0,wallets:[]};e.timestamp=new Date().getTime(),e.wallets=t,at.setItem(ft.TON_WALLETS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ton wallets cache",t)}},removeTonWalletsCache(){try{at.removeItem(ft.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{at.removeItem(ft.PORTFOLIO_CACHE),at.removeItem(ft.NATIVE_BALANCE_CACHE),at.removeItem(ft.ENS_CACHE),at.removeItem(ft.IDENTITY_CACHE),at.removeItem(ft.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{at.setItem(ft.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=at.getItem(ft.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=be.getConnections(),r=n[e]??[],i=new Map;for(const o of r)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===ne.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else i.set(o.connectorId,{...o})}const s={...n,[e]:Array.from(i.values())};at.setItem(ft.CONNECTIONS,JSON.stringify(s))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=at.getItem(ft.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=be.getConnections(),i=r[n]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),at.setItem(ft.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=at.getItem(ft.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=be.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),at.setItem(ft.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=be.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(i=>i.toLowerCase()!==t.toLowerCase()),at.setItem(ft.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(be.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=at.getItem(ft.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const r=be.getTransactionsCache()[t]?.[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;be.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:r}){try{const i=be.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:n,transactions:r}},at.setItem(ft.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:r})}},removeTransactionsCache({address:t,chainId:e}){try{const n=be.getTransactionsCache(),r=n?.[t]||{},{[e]:i,...s}=r;at.setItem(ft.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=at.getItem(ft.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const n=be.getTokenPriceCache()[t.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;be.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=be.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},at.setItem(ft.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=be.getTokenPriceCache();at.setItem(ft.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}},getLatestAppKitVersion(){try{const t=this.getLatestAppKitVersionCache(),e=t?.version;return e&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.latestAppKitVersion)?e:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const t=at.getItem(ft.LATEST_APPKIT_VERSION);return t?JSON.parse(t):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(t){try{const e=be.getLatestAppKitVersionCache();e.timestamp=t.timestamp,e.version=t.version,at.setItem(ft.LATEST_APPKIT_VERSION,JSON.stringify(e))}catch{console.info("Unable to update latest AppKit version on local storage",t)}}},oe={getWindow(){if(!(typeof window>"u"))return window},isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return oe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=yt.TEN_SEC_MS:!0},isAllowedRetry(t,e=yt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(oe.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const n=new URL(t),r=new URL(e);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+yt.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(oe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!oe.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?be.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,oe.wait(2e3)])},parseBalance(t,e){let n="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(n=l)}}const[r,i]=n.split("."),s=r||"0",o=i||"000";return{formattedText:`${s}.${o}${e?` ${e}`:""}`,value:s,decimals:o,symbol:e}},getApiUrl(){return ne.W3M_API_URL},getBlockchainApiUrl(){return ne.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ne.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?yt.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in ne.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),u=c+n;return a+u+l}};var D1={};const exe="https://secure.walletconnect.org/sdk",txe=(typeof window.process<"u"&&typeof D1<"u"?D1.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||exe,nxe=(typeof window.process<"u"&&typeof D1<"u"?D1.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",rxe=(typeof window.process<"u"&&typeof D1<"u"?D1.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",ht={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Vt={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Pz={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},hi={set(t,e){go.isClient&&localStorage.setItem(`${ht.STORAGE_KEY}${t}`,e)},get(t){return go.isClient?localStorage.getItem(`${ht.STORAGE_KEY}${t}`):null},delete(t,e){go.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${ht.STORAGE_KEY}${t}`))}},b5=30*1e3,go={checkIfAllowedToTriggerEmail(){const t=hi.get(ht.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<b5){const n=Math.ceil((b5-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=hi.get(ht.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<b5)return Math.ceil((b5-e)/1e3)}return 0},checkIfRequestExists(t){return Vt.NOT_SAFE_RPC_METHODS.includes(t.method)||Vt.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(Pz.transactionHash)||t?.match(Pz.signedMessage))?ht.RPC_RESPONSE_TYPE_TX:ht.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Vt.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Rn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Rn||(Rn={}));var wP;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(wP||(wP={}));const ct=Rn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zf=t=>{switch(typeof t){case"undefined":return ct.undefined;case"string":return ct.string;case"number":return isNaN(t)?ct.nan:ct.number;case"boolean":return ct.boolean;case"function":return ct.function;case"bigint":return ct.bigint;case"symbol":return ct.symbol;case"object":return Array.isArray(t)?ct.array:t===null?ct.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ct.promise:typeof Map<"u"&&t instanceof Map?ct.map:typeof Set<"u"&&t instanceof Set?ct.set:typeof Date<"u"&&t instanceof Date?ct.date:ct.object;default:return ct.unknown}},qe=Rn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ixe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class mu extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}mu.create=t=>new mu(t);const HE=(t,e)=>{let n;switch(t.code){case qe.invalid_type:t.received===ct.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case qe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Rn.jsonStringifyReplacer)}`;break;case qe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Rn.joinValues(t.keys,", ")}`;break;case qe.invalid_union:n="Invalid input";break;case qe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Rn.joinValues(t.options)}`;break;case qe.invalid_enum_value:n=`Invalid enum value. Expected ${Rn.joinValues(t.options)}, received '${t.received}'`;break;case qe.invalid_arguments:n="Invalid function arguments";break;case qe.invalid_return_type:n="Invalid function return type";break;case qe.invalid_date:n="Invalid date";break;case qe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Rn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case qe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case qe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case qe.custom:n="Invalid input";break;case qe.invalid_intersection_types:n="Intersection results could not be merged";break;case qe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case qe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Rn.assertNever(t)}return{message:n}};let ete=HE;function sxe(t){ete=t}function RS(){return ete}const DS=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},oxe=[];function dt(t,e){const n=DS({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,RS(),HE].filter(r=>!!r)});t.common.issues.push(n)}class yo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return qt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return yo.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return qt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const qt=Object.freeze({status:"aborted"}),tte=t=>({status:"dirty",value:t}),Vo=t=>({status:"valid",value:t}),yP=t=>t.status==="aborted",bP=t=>t.status==="dirty",VE=t=>t.status==="valid",US=t=>typeof Promise<"u"&&t instanceof Promise;var St;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(St||(St={}));class Ed{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Rz=(t,e)=>{if(VE(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new mu(t.common.issues);return this._error=n,this._error}}};function Gt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class tn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return zf(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:zf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new yo,ctx:{common:e.parent.common,data:e.data,parsedType:zf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(US(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zf(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Rz(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zf(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(US(i)?i:Promise.resolve(i));return Rz(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:qe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Eu({schema:this,typeName:Nt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return rp.create(this,this._def)}nullable(){return Vw.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wu.create(this,this._def)}promise(){return M1.create(this,this._def)}or(e){return YE.create([this,e],this._def)}and(e){return JE.create(this,e,this._def)}transform(e){return new Eu({...Gt(this._def),schema:this,typeName:Nt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new nC({...Gt(this._def),innerType:this,defaultValue:n,typeName:Nt.ZodDefault})}brand(){return new rte({typeName:Nt.ZodBranded,type:this,...Gt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new BS({...Gt(this._def),innerType:this,catchValue:n,typeName:Nt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return O_.create(this,e)}readonly(){return WS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const axe=/^c[^\s-]{8,}$/i,cxe=/^[a-z][a-z0-9]*$/,lxe=/^[0-9A-HJKMNP-TV-Z]{26}$/,uxe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dxe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hxe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let r$;const pxe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,fxe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,gxe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function mxe(t,e){return!!((e==="v4"||!e)&&pxe.test(t)||(e==="v6"||!e)&&fxe.test(t))}class cu extends tn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ct.string){const s=this._getOrReturnCtx(e);return dt(s,{code:qe.invalid_type,expected:ct.string,received:s.parsedType}),qt}const r=new yo;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?dt(i,{code:qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&dt(i,{code:qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")dxe.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"email",code:qe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")r$||(r$=new RegExp(hxe,"u")),r$.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"emoji",code:qe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")uxe.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"uuid",code:qe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")axe.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"cuid",code:qe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")cxe.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"cuid2",code:qe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")lxe.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"ulid",code:qe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),dt(i,{validation:"url",code:qe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"regex",code:qe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),dt(i,{code:qe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),dt(i,{code:qe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),dt(i,{code:qe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?gxe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),dt(i,{code:qe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?mxe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),dt(i,{validation:"ip",code:qe.invalid_string,message:s.message}),r.dirty()):Rn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:qe.invalid_string,...St.errToObj(r)})}_addCheck(e){return new cu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...St.errToObj(e)})}url(e){return this._addCheck({kind:"url",...St.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...St.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...St.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...St.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...St.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...St.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...St.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,...St.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...St.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...St.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...St.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...St.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...St.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...St.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...St.errToObj(n)})}nonempty(e){return this.min(1,St.errToObj(e))}trim(){return new cu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}cu.create=t=>{var e;return new cu({checks:[],typeName:Nt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Gt(t)})};function wxe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class wg extends tn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ct.number){const s=this._getOrReturnCtx(e);return dt(s,{code:qe.invalid_type,expected:ct.number,received:s.parsedType}),qt}let r;const i=new yo;for(const s of this._def.checks)s.kind==="int"?Rn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),dt(r,{code:qe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:qe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:qe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?wxe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),dt(r,{code:qe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),dt(r,{code:qe.not_finite,message:s.message}),i.dirty()):Rn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,St.toString(n))}gt(e,n){return this.setLimit("min",e,!1,St.toString(n))}lte(e,n){return this.setLimit("max",e,!0,St.toString(n))}lt(e,n){return this.setLimit("max",e,!1,St.toString(n))}setLimit(e,n,r,i){return new wg({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:St.toString(i)}]})}_addCheck(e){return new wg({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:St.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:St.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:St.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:St.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:St.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Rn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}wg.create=t=>new wg({checks:[],typeName:Nt.ZodNumber,coerce:t?.coerce||!1,...Gt(t)});class yg extends tn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ct.bigint){const s=this._getOrReturnCtx(e);return dt(s,{code:qe.invalid_type,expected:ct.bigint,received:s.parsedType}),qt}let r;const i=new yo;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:qe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:qe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:qe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Rn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,St.toString(n))}gt(e,n){return this.setLimit("min",e,!1,St.toString(n))}lte(e,n){return this.setLimit("max",e,!0,St.toString(n))}lt(e,n){return this.setLimit("max",e,!1,St.toString(n))}setLimit(e,n,r,i){return new yg({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:St.toString(i)}]})}_addCheck(e){return new yg({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:St.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yg.create=t=>{var e;return new yg({checks:[],typeName:Nt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Gt(t)})};class KE extends tn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ct.boolean){const r=this._getOrReturnCtx(e);return dt(r,{code:qe.invalid_type,expected:ct.boolean,received:r.parsedType}),qt}return Vo(e.data)}}KE.create=t=>new KE({typeName:Nt.ZodBoolean,coerce:t?.coerce||!1,...Gt(t)});class Fw extends tn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ct.date){const s=this._getOrReturnCtx(e);return dt(s,{code:qe.invalid_type,expected:ct.date,received:s.parsedType}),qt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return dt(s,{code:qe.invalid_date}),qt}const r=new yo;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:qe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),dt(i,{code:qe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Rn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Fw({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:St.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:St.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Fw.create=t=>new Fw({checks:[],coerce:t?.coerce||!1,typeName:Nt.ZodDate,...Gt(t)});class MS extends tn{_parse(e){if(this._getType(e)!==ct.symbol){const r=this._getOrReturnCtx(e);return dt(r,{code:qe.invalid_type,expected:ct.symbol,received:r.parsedType}),qt}return Vo(e.data)}}MS.create=t=>new MS({typeName:Nt.ZodSymbol,...Gt(t)});class ZE extends tn{_parse(e){if(this._getType(e)!==ct.undefined){const r=this._getOrReturnCtx(e);return dt(r,{code:qe.invalid_type,expected:ct.undefined,received:r.parsedType}),qt}return Vo(e.data)}}ZE.create=t=>new ZE({typeName:Nt.ZodUndefined,...Gt(t)});class GE extends tn{_parse(e){if(this._getType(e)!==ct.null){const r=this._getOrReturnCtx(e);return dt(r,{code:qe.invalid_type,expected:ct.null,received:r.parsedType}),qt}return Vo(e.data)}}GE.create=t=>new GE({typeName:Nt.ZodNull,...Gt(t)});class U1 extends tn{constructor(){super(...arguments),this._any=!0}_parse(e){return Vo(e.data)}}U1.create=t=>new U1({typeName:Nt.ZodAny,...Gt(t)});class kw extends tn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vo(e.data)}}kw.create=t=>new kw({typeName:Nt.ZodUnknown,...Gt(t)});class fp extends tn{_parse(e){const n=this._getOrReturnCtx(e);return dt(n,{code:qe.invalid_type,expected:ct.never,received:n.parsedType}),qt}}fp.create=t=>new fp({typeName:Nt.ZodNever,...Gt(t)});class LS extends tn{_parse(e){if(this._getType(e)!==ct.undefined){const r=this._getOrReturnCtx(e);return dt(r,{code:qe.invalid_type,expected:ct.void,received:r.parsedType}),qt}return Vo(e.data)}}LS.create=t=>new LS({typeName:Nt.ZodVoid,...Gt(t)});class wu extends tn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ct.array)return dt(n,{code:qe.invalid_type,expected:ct.array,received:n.parsedType}),qt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(dt(n,{code:o?qe.too_big:qe.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(dt(n,{code:qe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(dt(n,{code:qe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Ed(n,o,n.path,a)))).then(o=>yo.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Ed(n,o,n.path,a)));return yo.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new wu({...this._def,minLength:{value:e,message:St.toString(n)}})}max(e,n){return new wu({...this._def,maxLength:{value:e,message:St.toString(n)}})}length(e,n){return new wu({...this._def,exactLength:{value:e,message:St.toString(n)}})}nonempty(e){return this.min(1,e)}}wu.create=(t,e)=>new wu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Nt.ZodArray,...Gt(e)});function jb(t){if(t instanceof ti){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=rp.create(jb(r))}return new ti({...t._def,shape:()=>e})}else return t instanceof wu?new wu({...t._def,type:jb(t.element)}):t instanceof rp?rp.create(jb(t.unwrap())):t instanceof Vw?Vw.create(jb(t.unwrap())):t instanceof Cd?Cd.create(t.items.map(e=>jb(e))):t}class ti extends tn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Rn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ct.object){const l=this._getOrReturnCtx(e);return dt(l,{code:qe.invalid_type,expected:ct.object,received:l.parsedType}),qt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof fp&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Ed(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof fp){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(dt(i,{code:qe.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Ed(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>yo.mergeObjectSync(r,l)):yo.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return St.errToObj,new ti({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=St.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new ti({...this._def,unknownKeys:"strip"})}passthrough(){return new ti({...this._def,unknownKeys:"passthrough"})}extend(e){return new ti({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ti({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Nt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ti({...this._def,catchall:e})}pick(e){const n={};return Rn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ti({...this._def,shape:()=>n})}omit(e){const n={};return Rn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ti({...this._def,shape:()=>n})}deepPartial(){return jb(this)}partial(e){const n={};return Rn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new ti({...this._def,shape:()=>n})}required(e){const n={};return Rn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof rp;)s=s._def.innerType;n[r]=s}}),new ti({...this._def,shape:()=>n})}keyof(){return nte(Rn.objectKeys(this.shape))}}ti.create=(t,e)=>new ti({shape:()=>t,unknownKeys:"strip",catchall:fp.create(),typeName:Nt.ZodObject,...Gt(e)});ti.strictCreate=(t,e)=>new ti({shape:()=>t,unknownKeys:"strict",catchall:fp.create(),typeName:Nt.ZodObject,...Gt(e)});ti.lazycreate=(t,e)=>new ti({shape:t,unknownKeys:"strip",catchall:fp.create(),typeName:Nt.ZodObject,...Gt(e)});class YE extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new mu(a.ctx.common.issues));return dt(n,{code:qe.invalid_union,unionErrors:o}),qt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new mu(c));return dt(n,{code:qe.invalid_union,unionErrors:a}),qt}}get options(){return this._def.options}}YE.create=(t,e)=>new YE({options:t,typeName:Nt.ZodUnion,...Gt(e)});const tS=t=>t instanceof QE?tS(t.schema):t instanceof Eu?tS(t.innerType()):t instanceof eC?[t.value]:t instanceof bg?t.options:t instanceof tC?Object.keys(t.enum):t instanceof nC?tS(t._def.innerType):t instanceof ZE?[void 0]:t instanceof GE?[null]:null;class jA extends tn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ct.object)return dt(n,{code:qe.invalid_type,expected:ct.object,received:n.parsedType}),qt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(dt(n,{code:qe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=tS(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new jA({typeName:Nt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Gt(r)})}}function vP(t,e){const n=zf(t),r=zf(e);if(t===e)return{valid:!0,data:t};if(n===ct.object&&r===ct.object){const i=Rn.objectKeys(e),s=Rn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=vP(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===ct.array&&r===ct.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=vP(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===ct.date&&r===ct.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class JE extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(yP(s)||yP(o))return qt;const a=vP(s.value,o.value);return a.valid?((bP(s)||bP(o))&&n.dirty(),{status:n.value,value:a.data}):(dt(r,{code:qe.invalid_intersection_types}),qt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}JE.create=(t,e,n)=>new JE({left:t,right:e,typeName:Nt.ZodIntersection,...Gt(n)});class Cd extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.array)return dt(r,{code:qe.invalid_type,expected:ct.array,received:r.parsedType}),qt;if(r.data.length<this._def.items.length)return dt(r,{code:qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qt;!this._def.rest&&r.data.length>this._def.items.length&&(dt(r,{code:qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ed(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>yo.mergeArray(n,o)):yo.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Cd({...this._def,rest:e})}}Cd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cd({items:t,typeName:Nt.ZodTuple,rest:null,...Gt(e)})};class XE extends tn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.object)return dt(r,{code:qe.invalid_type,expected:ct.object,received:r.parsedType}),qt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Ed(r,a,r.path,a)),value:o._parse(new Ed(r,r.data[a],r.path,a))});return r.common.async?yo.mergeObjectAsync(n,i):yo.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof tn?new XE({keyType:e,valueType:n,typeName:Nt.ZodRecord,...Gt(r)}):new XE({keyType:cu.create(),valueType:e,typeName:Nt.ZodRecord,...Gt(n)})}}class jS extends tn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.map)return dt(r,{code:qe.invalid_type,expected:ct.map,received:r.parsedType}),qt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new Ed(r,a,r.path,[l,"key"])),value:s._parse(new Ed(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return qt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return qt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}jS.create=(t,e,n)=>new jS({valueType:e,keyType:t,typeName:Nt.ZodMap,...Gt(n)});class Hw extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.set)return dt(r,{code:qe.invalid_type,expected:ct.set,received:r.parsedType}),qt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(dt(r,{code:qe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(dt(r,{code:qe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return qt;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new Ed(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Hw({...this._def,minSize:{value:e,message:St.toString(n)}})}max(e,n){return new Hw({...this._def,maxSize:{value:e,message:St.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Hw.create=(t,e)=>new Hw({valueType:t,minSize:null,maxSize:null,typeName:Nt.ZodSet,...Gt(e)});class p1 extends tn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ct.function)return dt(n,{code:qe.invalid_type,expected:ct.function,received:n.parsedType}),qt;function r(a,c){return DS({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,RS(),HE].filter(l=>!!l),issueData:{code:qe.invalid_arguments,argumentsError:c}})}function i(a,c){return DS({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,RS(),HE].filter(l=>!!l),issueData:{code:qe.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof M1){const a=this;return Vo(async function(...c){const l=new mu([]),u=await a._def.args.parseAsync(c,s).catch(p=>{throw l.addIssue(r(c,p)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(p=>{throw l.addIssue(i(d,p)),l})})}else{const a=this;return Vo(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new mu([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new mu([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new p1({...this._def,args:Cd.create(e).rest(kw.create())})}returns(e){return new p1({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new p1({args:e||Cd.create([]).rest(kw.create()),returns:n||kw.create(),typeName:Nt.ZodFunction,...Gt(r)})}}class QE extends tn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}QE.create=(t,e)=>new QE({getter:t,typeName:Nt.ZodLazy,...Gt(e)});class eC extends tn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return dt(n,{received:n.data,code:qe.invalid_literal,expected:this._def.value}),qt}return{status:"valid",value:e.data}}get value(){return this._def.value}}eC.create=(t,e)=>new eC({value:t,typeName:Nt.ZodLiteral,...Gt(e)});function nte(t,e){return new bg({values:t,typeName:Nt.ZodEnum,...Gt(e)})}class bg extends tn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return dt(n,{expected:Rn.joinValues(r),received:n.parsedType,code:qe.invalid_type}),qt}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return dt(n,{received:n.data,code:qe.invalid_enum_value,options:r}),qt}return Vo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return bg.create(e)}exclude(e){return bg.create(this.options.filter(n=>!e.includes(n)))}}bg.create=nte;class tC extends tn{_parse(e){const n=Rn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ct.string&&r.parsedType!==ct.number){const i=Rn.objectValues(n);return dt(r,{expected:Rn.joinValues(i),received:r.parsedType,code:qe.invalid_type}),qt}if(n.indexOf(e.data)===-1){const i=Rn.objectValues(n);return dt(r,{received:r.data,code:qe.invalid_enum_value,options:i}),qt}return Vo(e.data)}get enum(){return this._def.values}}tC.create=(t,e)=>new tC({values:t,typeName:Nt.ZodNativeEnum,...Gt(e)});class M1 extends tn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ct.promise&&n.common.async===!1)return dt(n,{code:qe.invalid_type,expected:ct.promise,received:n.parsedType}),qt;const r=n.parsedType===ct.promise?n.data:Promise.resolve(n.data);return Vo(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}M1.create=(t,e)=>new M1({type:t,typeName:Nt.ZodPromise,...Gt(e)});class Eu extends tn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{dt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?qt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?qt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!VE(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>VE(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Rn.assertNever(i)}}Eu.create=(t,e,n)=>new Eu({schema:t,typeName:Nt.ZodEffects,effect:e,...Gt(n)});Eu.createWithPreprocess=(t,e,n)=>new Eu({schema:e,effect:{type:"preprocess",transform:t},typeName:Nt.ZodEffects,...Gt(n)});class rp extends tn{_parse(e){return this._getType(e)===ct.undefined?Vo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rp.create=(t,e)=>new rp({innerType:t,typeName:Nt.ZodOptional,...Gt(e)});class Vw extends tn{_parse(e){return this._getType(e)===ct.null?Vo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vw.create=(t,e)=>new Vw({innerType:t,typeName:Nt.ZodNullable,...Gt(e)});class nC extends tn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ct.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nC.create=(t,e)=>new nC({innerType:t,typeName:Nt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Gt(e)});class BS extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return US(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new mu(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mu(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}BS.create=(t,e)=>new BS({innerType:t,typeName:Nt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Gt(e)});class zS extends tn{_parse(e){if(this._getType(e)!==ct.nan){const r=this._getOrReturnCtx(e);return dt(r,{code:qe.invalid_type,expected:ct.nan,received:r.parsedType}),qt}return{status:"valid",value:e.data}}}zS.create=t=>new zS({typeName:Nt.ZodNaN,...Gt(t)});const yxe=Symbol("zod_brand");class rte extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class O_ extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?qt:s.status==="dirty"?(n.dirty(),tte(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?qt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new O_({in:e,out:n,typeName:Nt.ZodPipeline})}}class WS extends tn{_parse(e){const n=this._def.innerType._parse(e);return VE(n)&&(n.value=Object.freeze(n.value)),n}}WS.create=(t,e)=>new WS({innerType:t,typeName:Nt.ZodReadonly,...Gt(e)});const ite=(t,e={},n)=>t?U1.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):U1.create(),bxe={object:ti.lazycreate};var Nt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Nt||(Nt={}));const vxe=(t,e={message:`Input not instance of ${t.name}`})=>ite(n=>n instanceof t,e),ste=cu.create,ote=wg.create,Exe=zS.create,Cxe=yg.create,ate=KE.create,_xe=Fw.create,Ixe=MS.create,Sxe=ZE.create,xxe=GE.create,Axe=U1.create,kxe=kw.create,$xe=fp.create,Txe=LS.create,Nxe=wu.create,Oxe=ti.create,Pxe=ti.strictCreate,Rxe=YE.create,Dxe=jA.create,Uxe=JE.create,Mxe=Cd.create,Lxe=XE.create,jxe=jS.create,Bxe=Hw.create,zxe=p1.create,Wxe=QE.create,qxe=eC.create,Fxe=bg.create,Hxe=tC.create,Vxe=M1.create,Dz=Eu.create,Kxe=rp.create,Zxe=Vw.create,Gxe=Eu.createWithPreprocess,Yxe=O_.create,Jxe=()=>ste().optional(),Xxe=()=>ote().optional(),Qxe=()=>ate().optional(),e6e={string:(t=>cu.create({...t,coerce:!0})),number:(t=>wg.create({...t,coerce:!0})),boolean:(t=>KE.create({...t,coerce:!0})),bigint:(t=>yg.create({...t,coerce:!0})),date:(t=>Fw.create({...t,coerce:!0}))},t6e=qt;var V=Object.freeze({__proto__:null,defaultErrorMap:HE,setErrorMap:sxe,getErrorMap:RS,makeIssue:DS,EMPTY_PATH:oxe,addIssueToContext:dt,ParseStatus:yo,INVALID:qt,DIRTY:tte,OK:Vo,isAborted:yP,isDirty:bP,isValid:VE,isAsync:US,get util(){return Rn},get objectUtil(){return wP},ZodParsedType:ct,getParsedType:zf,ZodType:tn,ZodString:cu,ZodNumber:wg,ZodBigInt:yg,ZodBoolean:KE,ZodDate:Fw,ZodSymbol:MS,ZodUndefined:ZE,ZodNull:GE,ZodAny:U1,ZodUnknown:kw,ZodNever:fp,ZodVoid:LS,ZodArray:wu,ZodObject:ti,ZodUnion:YE,ZodDiscriminatedUnion:jA,ZodIntersection:JE,ZodTuple:Cd,ZodRecord:XE,ZodMap:jS,ZodSet:Hw,ZodFunction:p1,ZodLazy:QE,ZodLiteral:eC,ZodEnum:bg,ZodNativeEnum:tC,ZodPromise:M1,ZodEffects:Eu,ZodTransformer:Eu,ZodOptional:rp,ZodNullable:Vw,ZodDefault:nC,ZodCatch:BS,ZodNaN:zS,BRAND:yxe,ZodBranded:rte,ZodPipeline:O_,ZodReadonly:WS,custom:ite,Schema:tn,ZodSchema:tn,late:bxe,get ZodFirstPartyTypeKind(){return Nt},coerce:e6e,any:Axe,array:Nxe,bigint:Cxe,boolean:ate,date:_xe,discriminatedUnion:Dxe,effect:Dz,enum:Fxe,function:zxe,instanceof:vxe,intersection:Uxe,lazy:Wxe,literal:qxe,map:jxe,nan:Exe,nativeEnum:Hxe,never:$xe,null:xxe,nullable:Zxe,number:ote,object:Oxe,oboolean:Qxe,onumber:Xxe,optional:Kxe,ostring:Jxe,pipeline:Yxe,preprocess:Gxe,promise:Vxe,record:Lxe,set:Bxe,strictObject:Pxe,string:ste,symbol:Ixe,transformer:Dz,tuple:Mxe,undefined:Sxe,union:Rxe,unknown:kxe,void:Txe,NEVER:t6e,ZodIssueCode:qe,quotelessJson:ixe,ZodError:mu});const si=V.object({message:V.string()});function lt(t){return V.literal(ht[t])}const BA=V.object({serializedMessage:V.string().optional(),accountAddress:V.string(),chainId:V.string(),notBefore:V.string().optional(),domain:V.string(),uri:V.string(),version:V.string(),nonce:V.string(),statement:V.string().optional(),resources:V.array(V.string()).optional(),requestId:V.string().optional(),issuedAt:V.string().optional(),expirationTime:V.string().optional()});V.object({accessList:V.array(V.string()),blockHash:V.string().nullable(),blockNumber:V.string().nullable(),chainId:V.string().or(V.number()),from:V.string(),gas:V.string(),hash:V.string(),input:V.string().nullable(),maxFeePerGas:V.string(),maxPriorityFeePerGas:V.string(),nonce:V.string(),r:V.string(),s:V.string(),to:V.string(),transactionIndex:V.string().nullable(),type:V.string(),v:V.string(),value:V.string()});const n6e=V.object({chainId:V.string().or(V.number()),rpcUrl:V.optional(V.string())}),r6e=V.object({email:V.string().email()}),i6e=V.object({otp:V.string()}),s6e=V.object({uri:V.string(),preferredAccountType:V.optional(V.string()),chainId:V.optional(V.string().or(V.number())),siwxMessage:V.optional(BA),rpcUrl:V.optional(V.string())}),o6e=V.object({chainId:V.optional(V.string().or(V.number())),preferredAccountType:V.optional(V.string()),socialUri:V.optional(V.string()),siwxMessage:V.optional(BA),rpcUrl:V.optional(V.string())}),a6e=V.object({provider:V.enum(["google","github","apple","facebook","x","discord"])}),c6e=V.object({email:V.string().email()}),l6e=V.object({otp:V.string()}),u6e=V.object({otp:V.string()}),d6e=V.object({themeMode:V.optional(V.enum(["light","dark"])),themeVariables:V.optional(V.record(V.string(),V.string().or(V.number()))),w3mThemeVariables:V.optional(V.record(V.string(),V.string()))}),h6e=V.object({metadata:V.object({name:V.string(),description:V.string(),url:V.string(),icons:V.array(V.string())}).optional(),sdkVersion:V.string().optional(),sdkType:V.string().optional(),projectId:V.string()}),p6e=V.object({type:V.string()}),f6e=V.object({action:V.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),g6e=V.object({url:V.string()}),m6e=V.object({userName:V.string()}),w6e=V.object({email:V.string().optional().nullable(),address:V.string(),chainId:V.string().or(V.number()),accounts:V.array(V.object({address:V.string(),type:V.enum([Vt.ACCOUNT_TYPES.EOA,Vt.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:V.string().optional().nullable(),preferredAccountType:V.optional(V.string()),signature:V.string().optional(),message:V.string().optional(),siwxMessage:V.optional(BA)}),y6e=V.object({action:V.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),b6e=V.object({email:V.string().email().optional().nullable(),address:V.string(),chainId:V.string().or(V.number()),smartAccountDeployed:V.optional(V.boolean()),accounts:V.array(V.object({address:V.string(),type:V.enum([Vt.ACCOUNT_TYPES.EOA,Vt.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:V.optional(V.string()),signature:V.string().optional(),message:V.string().optional(),siwxMessage:V.optional(BA)}),v6e=V.object({uri:V.string()}),E6e=V.object({isConnected:V.boolean()}),C6e=V.object({chainId:V.string().or(V.number())}),_6e=V.object({chainId:V.string().or(V.number())}),I6e=V.object({newEmail:V.string().email()}),S6e=V.object({smartAccountEnabledNetworks:V.array(V.number())});V.object({address:V.string(),isDeployed:V.boolean()});const x6e=V.object({version:V.string().optional()}),A6e=V.object({type:V.string(),address:V.string()}),k6e=V.any(),$6e=V.object({method:V.literal("eth_accounts")}),T6e=V.object({method:V.literal("eth_blockNumber")}),N6e=V.object({method:V.literal("eth_call"),params:V.array(V.any())}),O6e=V.object({method:V.literal("eth_chainId")}),P6e=V.object({method:V.literal("eth_estimateGas"),params:V.array(V.any())}),R6e=V.object({method:V.literal("eth_feeHistory"),params:V.array(V.any())}),D6e=V.object({method:V.literal("eth_gasPrice")}),U6e=V.object({method:V.literal("eth_getAccount"),params:V.array(V.any())}),M6e=V.object({method:V.literal("eth_getBalance"),params:V.array(V.any())}),L6e=V.object({method:V.literal("eth_getBlockByHash"),params:V.array(V.any())}),j6e=V.object({method:V.literal("eth_getBlockByNumber"),params:V.array(V.any())}),B6e=V.object({method:V.literal("eth_getBlockReceipts"),params:V.array(V.any())}),z6e=V.object({method:V.literal("eth_getBlockTransactionCountByHash"),params:V.array(V.any())}),W6e=V.object({method:V.literal("eth_getBlockTransactionCountByNumber"),params:V.array(V.any())}),q6e=V.object({method:V.literal("eth_getCode"),params:V.array(V.any())}),F6e=V.object({method:V.literal("eth_getFilterChanges"),params:V.array(V.any())}),H6e=V.object({method:V.literal("eth_getFilterLogs"),params:V.array(V.any())}),V6e=V.object({method:V.literal("eth_getLogs"),params:V.array(V.any())}),K6e=V.object({method:V.literal("eth_getProof"),params:V.array(V.any())}),Z6e=V.object({method:V.literal("eth_getStorageAt"),params:V.array(V.any())}),G6e=V.object({method:V.literal("eth_getTransactionByBlockHashAndIndex"),params:V.array(V.any())}),Y6e=V.object({method:V.literal("eth_getTransactionByBlockNumberAndIndex"),params:V.array(V.any())}),J6e=V.object({method:V.literal("eth_getTransactionByHash"),params:V.array(V.any())}),X6e=V.object({method:V.literal("eth_getTransactionCount"),params:V.array(V.any())}),Q6e=V.object({method:V.literal("eth_getTransactionReceipt"),params:V.array(V.any())}),eAe=V.object({method:V.literal("eth_getUncleCountByBlockHash"),params:V.array(V.any())}),tAe=V.object({method:V.literal("eth_getUncleCountByBlockNumber"),params:V.array(V.any())}),nAe=V.object({method:V.literal("eth_maxPriorityFeePerGas")}),rAe=V.object({method:V.literal("eth_newBlockFilter")}),iAe=V.object({method:V.literal("eth_newFilter"),params:V.array(V.any())}),sAe=V.object({method:V.literal("eth_newPendingTransactionFilter")}),oAe=V.object({method:V.literal("eth_sendRawTransaction"),params:V.array(V.any())}),aAe=V.object({method:V.literal("eth_syncing"),params:V.array(V.any())}),cAe=V.object({method:V.literal("eth_uninstallFilter"),params:V.array(V.any())}),Uz=V.object({method:V.literal("personal_sign"),params:V.array(V.any())}),lAe=V.object({method:V.literal("eth_signTypedData_v4"),params:V.array(V.any())}),uAe=V.object({method:V.literal("eth_sendTransaction"),params:V.array(V.any())}),dAe=V.object({method:V.literal("solana_signMessage"),params:V.object({message:V.string(),pubkey:V.string()})}),hAe=V.object({method:V.literal("solana_signTransaction"),params:V.object({transaction:V.string()})}),pAe=V.object({method:V.literal("solana_signAllTransactions"),params:V.object({transactions:V.array(V.string())})}),fAe=V.object({method:V.literal("solana_signAndSendTransaction"),params:V.object({transaction:V.string(),options:V.object({skipPreflight:V.boolean().optional(),preflightCommitment:V.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:V.number().optional(),minContextSlot:V.number().optional()}).optional()})}),gAe=V.object({method:V.literal("wallet_sendCalls"),params:V.array(V.object({chainId:V.string().or(V.number()).optional(),from:V.string().optional(),version:V.string().optional(),capabilities:V.any().optional(),calls:V.array(V.object({to:V.string().startsWith("0x"),data:V.string().startsWith("0x").optional(),value:V.string().optional()}))}))}),mAe=V.object({method:V.literal("wallet_getCallsStatus"),params:V.array(V.string())}),wAe=V.object({method:V.literal("wallet_getCapabilities"),params:V.array(V.string().or(V.number()).optional()).optional()}),yAe=V.object({method:V.literal("wallet_grantPermissions"),params:V.array(V.any())}),bAe=V.object({method:V.literal("wallet_revokePermissions"),params:V.any()}),vAe=V.object({method:V.literal("wallet_getAssets"),params:V.any()}),Mz=V.object({token:V.string()}),ut=V.object({id:V.string().optional()}),i$={appEvent:ut.extend({type:lt("APP_SWITCH_NETWORK"),payload:n6e}).or(ut.extend({type:lt("APP_CONNECT_EMAIL"),payload:r6e})).or(ut.extend({type:lt("APP_CONNECT_DEVICE")})).or(ut.extend({type:lt("APP_CONNECT_OTP"),payload:i6e})).or(ut.extend({type:lt("APP_CONNECT_SOCIAL"),payload:s6e})).or(ut.extend({type:lt("APP_GET_FARCASTER_URI")})).or(ut.extend({type:lt("APP_CONNECT_FARCASTER")})).or(ut.extend({type:lt("APP_GET_USER"),payload:V.optional(o6e)})).or(ut.extend({type:lt("APP_GET_SOCIAL_REDIRECT_URI"),payload:a6e})).or(ut.extend({type:lt("APP_SIGN_OUT")})).or(ut.extend({type:lt("APP_IS_CONNECTED"),payload:V.optional(Mz)})).or(ut.extend({type:lt("APP_GET_CHAIN_ID")})).or(ut.extend({type:lt("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ut.extend({type:lt("APP_INIT_SMART_ACCOUNT")})).or(ut.extend({type:lt("APP_SET_PREFERRED_ACCOUNT"),payload:p6e})).or(ut.extend({type:lt("APP_RPC_REQUEST"),payload:Uz.or(vAe).or($6e).or(T6e).or(N6e).or(O6e).or(P6e).or(R6e).or(D6e).or(U6e).or(M6e).or(L6e).or(j6e).or(B6e).or(z6e).or(W6e).or(q6e).or(F6e).or(H6e).or(V6e).or(K6e).or(Z6e).or(G6e).or(Y6e).or(J6e).or(X6e).or(Q6e).or(eAe).or(tAe).or(nAe).or(rAe).or(iAe).or(sAe).or(oAe).or(aAe).or(cAe).or(Uz).or(lAe).or(uAe).or(dAe).or(hAe).or(pAe).or(fAe).or(mAe).or(gAe).or(wAe).or(yAe).or(bAe).and(V.object({chainId:V.string().or(V.number()).optional(),chainNamespace:V.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:V.string().optional()}))})).or(ut.extend({type:lt("APP_UPDATE_EMAIL"),payload:c6e})).or(ut.extend({type:lt("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:l6e})).or(ut.extend({type:lt("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:u6e})).or(ut.extend({type:lt("APP_SYNC_THEME"),payload:d6e})).or(ut.extend({type:lt("APP_SYNC_DAPP_DATA"),payload:h6e})).or(ut.extend({type:lt("APP_RELOAD")})).or(ut.extend({type:lt("APP_RPC_ABORT")})),frameEvent:ut.extend({type:lt("FRAME_SWITCH_NETWORK_ERROR"),payload:si}).or(ut.extend({type:lt("FRAME_SWITCH_NETWORK_SUCCESS"),payload:_6e})).or(ut.extend({type:lt("FRAME_CONNECT_EMAIL_SUCCESS"),payload:f6e})).or(ut.extend({type:lt("FRAME_CONNECT_EMAIL_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:g6e})).or(ut.extend({type:lt("FRAME_GET_FARCASTER_URI_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:m6e})).or(ut.extend({type:lt("FRAME_CONNECT_FARCASTER_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_CONNECT_OTP_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_CONNECT_OTP_SUCCESS")})).or(ut.extend({type:lt("FRAME_CONNECT_DEVICE_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ut.extend({type:lt("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:w6e})).or(ut.extend({type:lt("FRAME_CONNECT_SOCIAL_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_GET_USER_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_GET_USER_SUCCESS"),payload:b6e})).or(ut.extend({type:lt("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:v6e})).or(ut.extend({type:lt("FRAME_SIGN_OUT_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_SIGN_OUT_SUCCESS")})).or(ut.extend({type:lt("FRAME_IS_CONNECTED_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_IS_CONNECTED_SUCCESS"),payload:E6e})).or(ut.extend({type:lt("FRAME_GET_CHAIN_ID_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_GET_CHAIN_ID_SUCCESS"),payload:C6e})).or(ut.extend({type:lt("FRAME_RPC_REQUEST_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_RPC_REQUEST_SUCCESS"),payload:k6e})).or(ut.extend({type:lt("FRAME_SESSION_UPDATE"),payload:Mz})).or(ut.extend({type:lt("FRAME_UPDATE_EMAIL_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_UPDATE_EMAIL_SUCCESS"),payload:y6e})).or(ut.extend({type:lt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ut.extend({type:lt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:I6e})).or(ut.extend({type:lt("FRAME_SYNC_THEME_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_SYNC_THEME_SUCCESS")})).or(ut.extend({type:lt("FRAME_SYNC_DAPP_DATA_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ut.extend({type:lt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:S6e})).or(ut.extend({type:lt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:A6e})).or(ut.extend({type:lt("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_READY"),payload:x6e})).or(ut.extend({type:lt("FRAME_RELOAD_ERROR"),payload:si})).or(ut.extend({type:lt("FRAME_RELOAD_SUCCESS")}))};function s$(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function EAe({projectId:t,chainId:e,enableLogger:n,rpcUrl:r=ne.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){const s=new URL(txe);s.searchParams.set("projectId",t),s.searchParams.set("chainId",String(e)),s.searchParams.set("version",rxe),s.searchParams.set("enableLogger",String(n)),s.searchParams.set("rpcUrl",r);const o=hi.get("dapp_smart_account_version");return o&&(o==="v6"||o==="v7")&&(console.warn(">> AppKit - Forcing smart account version",o),s.searchParams.set("smartAccountVersion",o)),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}class CAe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0,enableCloudAuthAccount:s=!1,rpcUrl:o=ne.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:d}){if(!s$(ht.FRAME_EVENT_KEY,d))return;const h=i$.frameEvent.safeParse(d);if(!h.success){console.warn("W3mFrame: invalid frame event",h.error.message);return}h.data?.id===a&&(c(h.data),window.removeEventListener("message",u))}go.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{go.isClient&&window.addEventListener("message",({data:c})=>{if(!s$(ht.FRAME_EVENT_KEY,c))return;const l=i$.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{go.isClient&&window.addEventListener("message",({data:c})=>{if(!s$(ht.APP_EVENT_KEY,c))return;const l=i$.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{if(go.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(go.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),go.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=EAe({projectId:e,chainId:r,enableLogger:i,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}var U2={exports:{}},o$,Lz;function cte(){if(Lz)return o$;Lz=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}o$=e;function e(n,r,i){var s=i&&i.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=s(n);for(var l=1;l<a;l++)c[l]=s(r[l]);return c.join(" ")}if(typeof n!="string")return n;var u=r.length;if(u===0)return n;for(var d="",h=1-o,p=-1,f=n&&n.length||0,g=0;g<f;){if(n.charCodeAt(g)===37&&g+1<f){switch(p=p>-1?p:0,n.charCodeAt(g+1)){case 100:case 102:if(h>=u||r[h]==null)break;p<g&&(d+=n.slice(p,g)),d+=Number(r[h]),p=g+2,g++;break;case 105:if(h>=u||r[h]==null)break;p<g&&(d+=n.slice(p,g)),d+=Math.floor(Number(r[h])),p=g+2,g++;break;case 79:case 111:case 106:if(h>=u||r[h]===void 0)break;p<g&&(d+=n.slice(p,g));var m=typeof r[h];if(m==="string"){d+="'"+r[h]+"'",p=g+2,g++;break}if(m==="function"){d+=r[h].name||"<anonymous>",p=g+2,g++;break}d+=s(r[h]),p=g+2,g++;break;case 115:if(h>=u)break;p<g&&(d+=n.slice(p,g)),d+=String(r[h]),p=g+2,g++;break;case 37:p<g&&(d+=n.slice(p,g)),d+="%",p=g+2,g++,h--;break}++h}++g}return p===-1?n:(p<f&&(d+=n.slice(p)),d)}return o$}var jz;function _Ae(){if(jz)return U2.exports;jz=1;const t=cte();U2.exports=u;const e=T().console||{},n={mapHttpRequest:k,mapHttpResponse:k,wrapRequestSerializer:P,wrapResponseSerializer:P,wrapErrorSerializer:P,req:k,res:k,err:C,errWithCause:C};function r(E,_){return E==="silent"?1/0:_.levels.values[E]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),o={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function a(E,_){const x={logger:_,parent:E[s]};_[s]=x}function c(E,_,x){const M={};_.forEach(A=>{M[A]=x[A]?x[A]:e[A]||e[o[A]||"log"]||S}),E[i]=M}function l(E,_){return Array.isArray(E)?E.filter(function(M){return M!=="!stdSerializers.err"}):E===!0?Object.keys(_):!1}function u(E){E=E||{},E.browser=E.browser||{};const _=E.browser.transmit;if(_&&typeof _.send!="function")throw Error("pino: transmit option must have a send function");const x=E.browser.write||e;E.browser.write&&(E.browser.asObject=!0);const M=E.serializers||{},A=l(E.browser.serialize,M);let U=E.browser.serialize;Array.isArray(E.browser.serialize)&&E.browser.serialize.indexOf("!stdSerializers.err")>-1&&(U=!1);const B=Object.keys(E.customLevels||{}),z=["error","fatal","warn","info","debug","trace"].concat(B);typeof x=="function"&&z.forEach(function(ue){x[ue]=x}),(E.enabled===!1||E.browser.disabled)&&(E.level="silent");const H=E.level||"info",q=Object.create(x);q.log||(q.log=S),c(q,z,x),a({},q),Object.defineProperty(q,"levelVal",{get:K}),Object.defineProperty(q,"level",{get:ee,set:se});const F={transmit:_,serialize:A,asObject:E.browser.asObject,asObjectBindingsOnly:E.browser.asObjectBindingsOnly,formatters:E.browser.formatters,levels:z,timestamp:I(E),messageKey:E.messageKey||"msg",onChild:E.onChild||S};q.levels=d(E),q.level=H,q.isLevelEnabled=function(ue){return this.levels.values[ue]?this.levels.values[ue]>=this.levels.values[this.level]:!1},q.setMaxListeners=q.getMaxListeners=q.emit=q.addListener=q.on=q.prependListener=q.once=q.prependOnceListener=q.removeListener=q.removeAllListeners=q.listeners=q.listenerCount=q.eventNames=q.write=q.flush=S,q.serializers=M,q._serialize=A,q._stdErrSerialize=U,q.child=function(...ue){return te.call(this,F,...ue)},_&&(q._logEvent=w());function K(){return r(this.level,this)}function ee(){return this._level}function se(ue){if(ue!=="silent"&&!this.levels.values[ue])throw Error("unknown level "+ue);this._level=ue,f(this,F,q,"error"),f(this,F,q,"fatal"),f(this,F,q,"warn"),f(this,F,q,"info"),f(this,F,q,"debug"),f(this,F,q,"trace"),B.forEach(ge=>{f(this,F,q,ge)})}function te(ue,ge,$e){if(!ge)throw new Error("missing bindings for child Pino");$e=$e||{},A&&ge.serializers&&($e.serializers=ge.serializers);const he=$e.serializers;if(A&&he){var me=Object.assign({},M,he),Me=E.browser.serialize===!0?Object.keys(me):A;delete ge.serializers,y([ge],Me,me,this._stdErrSerialize)}function Ct(Tt){this._childLevel=(Tt._childLevel|0)+1,this.bindings=ge,me&&(this.serializers=me,this._serialize=Me),_&&(this._logEvent=w([].concat(Tt._logEvent.bindings,ge)))}Ct.prototype=this;const _t=new Ct(this);return a(this,_t),_t.child=function(...Tt){return te.call(this,ue,...Tt)},_t.level=$e.level||this.level,ue.onChild(_t),_t}return q}function d(E){const _=E.customLevels||{},x=Object.assign({},u.levels.values,_),M=Object.assign({},u.levels.labels,h(_));return{values:x,labels:M}}function h(E){const _={};return Object.keys(E).forEach(function(x){_[E[x]]=x}),_}u.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},u.stdSerializers=n,u.stdTimeFunctions=Object.assign({},{nullTime:N,epochTime:R,unixTime:D,isoTime:O});function p(E){const _=[];E.bindings&&_.push(E.bindings);let x=E[s];for(;x.parent;)x=x.parent,x.logger.bindings&&_.push(x.logger.bindings);return _.reverse()}function f(E,_,x,M){if(Object.defineProperty(E,M,{value:r(E.level,x)>r(M,x)?S:x[i][M],writable:!0,enumerable:!0,configurable:!0}),E[M]===S){if(!_.transmit)return;const U=_.transmit.level||E.level,B=r(U,x);if(r(M,x)<B)return}E[M]=m(E,_,x,M);const A=p(E);A.length!==0&&(E[M]=g(A,E[M]))}function g(E,_){return function(){return _.apply(this,[...E,...arguments])}}function m(E,_,x,M){return(function(A){return function(){const B=_.timestamp(),z=new Array(arguments.length),H=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var q=0;q<z.length;q++)z[q]=arguments[q];var F=!1;if(_.serialize&&(y(z,this._serialize,this.serializers,this._stdErrSerialize),F=!0),_.asObject||_.formatters?A.call(H,...b(this,M,z,B,_)):A.apply(H,z),_.transmit){const K=_.transmit.level||E._level,ee=r(K,x),se=r(M,x);if(se<ee)return;v(this,{ts:B,methodLevel:M,methodValue:se,transmitValue:x.levels.values[_.transmit.level||E._level],send:_.transmit.send,val:r(E._level,x)},z,F)}}})(E[i][M])}function b(E,_,x,M,A){const{level:U,log:B=K=>K}=A.formatters||{},z=x.slice();let H=z[0];const q={};let F=(E._childLevel|0)+1;if(F<1&&(F=1),M&&(q.time=M),U){const K=U(_,E.levels.values[_]);Object.assign(q,K)}else q.level=E.levels.values[_];if(A.asObjectBindingsOnly){if(H!==null&&typeof H=="object")for(;F--&&typeof z[0]=="object";)Object.assign(q,z.shift());return[B(q),...z]}else{if(H!==null&&typeof H=="object"){for(;F--&&typeof z[0]=="object";)Object.assign(q,z.shift());H=z.length?t(z.shift(),z):void 0}else typeof H=="string"&&(H=t(z.shift(),z));return H!==void 0&&(q[A.messageKey]=H),[B(q)]}}function y(E,_,x,M){for(const A in E)if(M&&E[A]instanceof Error)E[A]=u.stdSerializers.err(E[A]);else if(typeof E[A]=="object"&&!Array.isArray(E[A])&&_)for(const U in E[A])_.indexOf(U)>-1&&U in x&&(E[A][U]=x[U](E[A][U]))}function v(E,_,x,M=!1){const A=_.send,U=_.ts,B=_.methodLevel,z=_.methodValue,H=_.val,q=E._logEvent.bindings;M||y(x,E._serialize||Object.keys(E.serializers),E.serializers,E._stdErrSerialize===void 0?!0:E._stdErrSerialize),E._logEvent.ts=U,E._logEvent.messages=x.filter(function(F){return q.indexOf(F)===-1}),E._logEvent.level.label=B,E._logEvent.level.value=z,A(B,E._logEvent,H),E._logEvent=w(q)}function w(E){return{ts:0,messages:[],bindings:E||[],level:{label:"",value:0}}}function C(E){const _={type:E.constructor.name,msg:E.message,stack:E.stack};for(const x in E)_[x]===void 0&&(_[x]=E[x]);return _}function I(E){return typeof E.timestamp=="function"?E.timestamp:E.timestamp===!1?N:R}function k(){return{}}function P(E){return E}function S(){}function N(){return!1}function R(){return Date.now()}function D(){return Math.round(Date.now()/1e3)}function O(){return new Date(Date.now()).toISOString()}function T(){function E(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return E(self)||E(window)||E(this)||{}}}return U2.exports.default=u,U2.exports.pino=u,U2.exports}var Bb=_Ae();const lte=ny(Bb),IAe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),SAe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Cu(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return SAe(t)}catch{return t}}function fc(t){return typeof t=="string"?t:IAe(t)||""}const xAe={level:"info"},zA="custom_context",tU=1e3*1024;var AAe=Object.defineProperty,kAe=(t,e,n)=>e in t?AAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wf=(t,e,n)=>kAe(t,typeof e!="symbol"?e+"":e,n);let $Ae=class{constructor(e){Wf(this,"nodeValue"),Wf(this,"sizeInBytes"),Wf(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Bz=class{constructor(e){Wf(this,"lengthInNodes"),Wf(this,"sizeInBytes"),Wf(this,"head"),Wf(this,"tail"),Wf(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new $Ae(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var TAe=Object.defineProperty,NAe=(t,e,n)=>e in t?TAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v5=(t,e,n)=>NAe(t,typeof e!="symbol"?e+"":e,n);let ute=class{constructor(e,n=tU){v5(this,"logs"),v5(this,"level"),v5(this,"levelValue"),v5(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=Bb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Bz(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Bb.levels.values.error?console.error(e):n===Bb.levels.values.warn?console.warn(e):n===Bb.levels.values.debug?console.debug(e):n===Bb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(fc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Bz(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(fc({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var OAe=Object.defineProperty,PAe=(t,e,n)=>e in t?OAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RAe=(t,e,n)=>PAe(t,e+"",n);let DAe=class{constructor(e,n=tU){RAe(this,"baseChunkLogger"),this.baseChunkLogger=new ute(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var UAe=Object.defineProperty,MAe=(t,e,n)=>e in t?UAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LAe=(t,e,n)=>MAe(t,e+"",n);let jAe=class{constructor(e,n=tU){LAe(this,"baseChunkLogger"),this.baseChunkLogger=new ute(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var BAe=Object.defineProperty,zAe=Object.defineProperties,WAe=Object.getOwnPropertyDescriptors,zz=Object.getOwnPropertySymbols,qAe=Object.prototype.hasOwnProperty,FAe=Object.prototype.propertyIsEnumerable,Wz=(t,e,n)=>e in t?BAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qS=(t,e)=>{for(var n in e||(e={}))qAe.call(e,n)&&Wz(t,n,e[n]);if(zz)for(var n of zz(e))FAe.call(e,n)&&Wz(t,n,e[n]);return t},FS=(t,e)=>zAe(t,WAe(e));function nU(t){return FS(qS({},t),{level:t?.level||xAe.level})}function HAe(t,e,n=zA){return t[n]=e,t}function Pa(t,e=zA){return t[e]||""}function VAe(t,e,n=zA){const r=Pa(t,n);return r.trim()?`${r}/${e}`:e}function Ra(t,e,n=zA){const r=VAe(t,e,n),i=t.child({context:r});return HAe(i,r,n)}function KAe(t){var e,n;const r=new DAe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:lte(FS(qS({},t.opts),{level:"trace",browser:FS(qS({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function ZAe(t){var e;const n=new jAe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:lte(FS(qS({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function WA(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?KAe(t):ZAe(t)}class GAe{constructor(e){const n=nU({level:nxe}),{logger:r,chunkLoggerController:i}=WA({opts:n});this.logger=Ra(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class rU{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c,metadata:l,sdkVersion:u,sdkType:d}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new GAe(e)),this.abortController=s,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const h=this.getRpcUrl(n);this.projectId=e,this.sdkVersion=u,this.sdkType=d,this.metadata=l,this.w3mFrame=new CAe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:h,enableCloudAuthAccount:c}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===ht.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!hi.get(ht.EMAIL_LOGIN_USED_KEY)}getEmail(){return hi.get(ht.EMAIL)}getUsername(){return hi.get(ht.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:ht.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{go.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:ht.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:ht.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:ht.APP_CONNECT_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:ht.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:ht.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:ht.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){try{const n=await this.appEvent({type:ht.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:ht.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){try{const n=await this.appEvent({type:ht.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){try{return this.appEvent({type:ht.APP_SYNC_THEME,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){try{return this.appEvent({type:ht.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:ht.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:ht.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){if(e?.socialUri)try{await this.init();const n=this.getRpcUrl(e.chainId),r=await this.appEvent({type:ht.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(e){try{await this.init();const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:ht.APP_GET_USER,payload:{...e,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:e,chainId:n,preferredAccountType:r}){try{await this.init();const i=this.getRpcUrl(n),s=await this.appEvent({type:ht.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:n,rpcUrl:i,preferredAccountType:r}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(i){throw this.w3mLogger?.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:ht.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:ht.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const n=this.getRpcUrl(e),r=await this.appEvent({type:ht.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:ht.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const n=e;try{if(Vt.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const r=e.chainNamespace||"eip155",i=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=i,n.rpcUrl=this.getRpcUrl(i),this.rpcRequestHandler?.(e);const s=await this.appEvent({type:ht.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(s,n),s}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ht.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ht.FRAME_IS_CONNECTED_ERROR&&e(),n.type===ht.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ht.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ht.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ht.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===ht.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Vt.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:n})=>{Vt.SAFE_RPC_METHODS.includes(n)||e.abort(),await this.appEvent({type:ht.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let n,r;function i(c){return c.replace("@w3m-app/","")}const s=[ht.APP_SYNC_DAPP_DATA,ht.APP_SYNC_THEME,ht.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[ht.APP_CONNECT_EMAIL,ht.APP_CONNECT_DEVICE,ht.APP_CONNECT_OTP,ht.APP_CONNECT_SOCIAL,ht.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const p=e;this.openRpcRequests.set(u,{...p.payload,abortController:d})}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const h=(p,f)=>{p.id===u&&(f?.logger.info?.({framEvent:p,id:u},"Received frame response"),this.openRpcRequests.delete(p.id),p.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in p&&c(p.payload),c(void 0)):p.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in p&&l(new Error(p.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,p=>h(p,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){hi.set(ht.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){hi.set(ht.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&hi.set(ht.EMAIL,e),hi.set(ht.EMAIL_LOGIN_USED_KEY,"true"),hi.delete(ht.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){hi.delete(ht.EMAIL_LOGIN_USED_KEY),hi.delete(ht.EMAIL),hi.delete(ht.LAST_USED_CHAIN_KEY),hi.delete(ht.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&hi.set(ht.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=hi.get(ht.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){hi.set(ht.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let n=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?n=Zr.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?n="eip155":n="solana");const r=this.getCaipNetworks(n);return(e?r.find(s=>String(s.id)===String(e)||s.caipNetworkId===e):r[0])?.rpcUrls.default.http?.[0]}}const E5=BigInt(2**32-1),qz=BigInt(32);function YAe(t,e=!1){return e?{h:Number(t&E5),l:Number(t>>qz&E5)}:{h:Number(t>>qz&E5)|0,l:Number(t&E5)|0}}function dte(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=YAe(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Fz=(t,e,n)=>t>>>n,Hz=(t,e,n)=>t<<32-n|e>>>n,Wy=(t,e,n)=>t>>>n|e<<32-n,qy=(t,e,n)=>t<<32-n|e>>>n,C5=(t,e,n)=>t<<64-n|e>>>n-32,_5=(t,e,n)=>t>>>n-32|e<<64-n,JAe=(t,e,n)=>t<<n|e>>>32-n,XAe=(t,e,n)=>e<<n|t>>>32-n,QAe=(t,e,n)=>e<<n-32|t>>>64-n,eke=(t,e,n)=>t<<n-32|e>>>64-n;function eh(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const tke=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),nke=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,rke=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ike=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ske=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),oke=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Fy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function qA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function vg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function gp(t,...e){if(!qA(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function hte(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");vg(t.outputLen),vg(t.blockLen)}function L1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pte(t,e){gp(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ake(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Eg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function a$(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function zu(t,e){return t<<32-e|t>>>e}const cke=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function lke(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function uke(t){for(let e=0;e<t.length;e++)t[e]=lke(t[e]);return t}const Vz=cke?t=>t:uke,fte=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",dke=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function f1(t){if(gp(t),fte)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=dke[t[n]];return e}const th={_0:48,_9:57,A:65,F:70,a:97,f:102};function Kz(t){if(t>=th._0&&t<=th._9)return t-th._0;if(t>=th.A&&t<=th.F)return t-(th.A-10);if(t>=th.a&&t<=th.f)return t-(th.a-10)}function HS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(fte)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Kz(t.charCodeAt(s)),a=Kz(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function hke(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function FA(t){return typeof t=="string"&&(t=hke(t)),gp(t),t}function iu(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];gp(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let iU=class{};function HA(t){const e=r=>t().update(FA(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function P_(t=32){if(Fy&&typeof Fy.getRandomValues=="function")return Fy.getRandomValues(new Uint8Array(t));if(Fy&&typeof Fy.randomBytes=="function")return Uint8Array.from(Fy.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const pke=BigInt(0),M2=BigInt(1),fke=BigInt(2),gke=BigInt(7),mke=BigInt(256),wke=BigInt(113),gte=[],mte=[],wte=[];for(let t=0,e=M2,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],gte.push(2*(5*r+n)),mte.push((t+1)*(t+2)/2%64);let i=pke;for(let s=0;s<7;s++)e=(e<<M2^(e>>gke)*wke)%mke,e&fke&&(i^=M2<<(M2<<BigInt(s))-M2);wte.push(i)}const yte=dte(wte,!0),yke=yte[0],bke=yte[1],Zz=(t,e,n)=>n>32?QAe(t,e,n):JAe(t,e,n),Gz=(t,e,n)=>n>32?eke(t,e,n):XAe(t,e,n);function vke(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=Zz(l,u,1)^n[a],h=Gz(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=mte[o],c=Zz(i,s,a),l=Gz(i,s,a),u=gte[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=yke[r],t[1]^=bke[r]}Eg(n)}let Eke=class bte extends iU{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,vg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ake(this.state)}clone(){return this._cloneInto()}keccak(){Vz(this.state32),vke(this.state32,this.rounds),Vz(this.state32),this.posOut=0,this.pos=0}update(e){L1(this),e=FA(e),gp(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){L1(this,!1),gp(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pte(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Eg(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new bte(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Cke=(t,e,n)=>HA(()=>new Eke(e,t,n)),vte=Cke(1,136,256/8);function _ke(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Ike(t,e,n){return t&e^~t&n}function Ske(t,e,n){return t&e^t&n^e&n}let Ete=class extends iU{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=a$(this.buffer)}update(e){L1(this),e=FA(e),gp(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=a$(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){L1(this),pte(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Eg(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;_ke(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=a$(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Qp=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),no=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ro=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),xke=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ef=new Uint32Array(64);let Ake=class extends Ete{constructor(e=32){super(64,e,8,!1),this.A=Qp[0]|0,this.B=Qp[1]|0,this.C=Qp[2]|0,this.D=Qp[3]|0,this.E=Qp[4]|0,this.F=Qp[5]|0,this.G=Qp[6]|0,this.H=Qp[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ef[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ef[d-15],p=ef[d-2],f=zu(h,7)^zu(h,18)^h>>>3,g=zu(p,17)^zu(p,19)^p>>>10;ef[d]=g+ef[d-7]+f+ef[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=zu(a,6)^zu(a,11)^zu(a,25),p=u+h+Ike(a,c,l)+xke[d]+ef[d]|0,g=(zu(r,2)^zu(r,13)^zu(r,22))+Ske(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Eg(ef)}destroy(){this.set(0,0,0,0,0,0,0,0),Eg(this.buffer)}};const Cte=dte(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),kke=Cte[0],$ke=Cte[1],tf=new Uint32Array(80),nf=new Uint32Array(80);class _te extends Ete{constructor(e=64){super(128,e,16,!1),this.Ah=ro[0]|0,this.Al=ro[1]|0,this.Bh=ro[2]|0,this.Bl=ro[3]|0,this.Ch=ro[4]|0,this.Cl=ro[5]|0,this.Dh=ro[6]|0,this.Dl=ro[7]|0,this.Eh=ro[8]|0,this.El=ro[9]|0,this.Fh=ro[10]|0,this.Fl=ro[11]|0,this.Gh=ro[12]|0,this.Gl=ro[13]|0,this.Hh=ro[14]|0,this.Hl=ro[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:p,Gl:f,Hh:g,Hl:m}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,p,f,g,m]}set(e,n,r,i,s,o,a,c,l,u,d,h,p,f,g,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=p|0,this.Gl=f|0,this.Hh=g|0,this.Hl=m|0}process(e,n){for(let v=0;v<16;v++,n+=4)tf[v]=e.getUint32(n),nf[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const w=tf[v-15]|0,C=nf[v-15]|0,I=Wy(w,C,1)^Wy(w,C,8)^Fz(w,C,7),k=qy(w,C,1)^qy(w,C,8)^Hz(w,C,7),P=tf[v-2]|0,S=nf[v-2]|0,N=Wy(P,S,19)^C5(P,S,61)^Fz(P,S,6),R=qy(P,S,19)^_5(P,S,61)^Hz(P,S,6),D=rke(k,R,nf[v-7],nf[v-16]),O=ike(D,I,N,tf[v-7],tf[v-16]);tf[v]=O|0,nf[v]=D|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:p,Fl:f,Gh:g,Gl:m,Hh:b,Hl:y}=this;for(let v=0;v<80;v++){const w=Wy(d,h,14)^Wy(d,h,18)^C5(d,h,41),C=qy(d,h,14)^qy(d,h,18)^_5(d,h,41),I=d&p^~d&g,k=h&f^~h&m,P=ske(y,C,k,$ke[v],nf[v]),S=oke(P,b,w,I,kke[v],tf[v]),N=P|0,R=Wy(r,i,28)^C5(r,i,34)^C5(r,i,39),D=qy(r,i,28)^_5(r,i,34)^_5(r,i,39),O=r&s^r&a^s&a,T=i&o^i&c^o&c;b=g|0,y=m|0,g=p|0,m=f|0,p=d|0,f=h|0,{h:d,l:h}=eh(l|0,u|0,S|0,N|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const E=tke(N,D,T);r=nke(E,S,R,O),i=E|0}({h:r,l:i}=eh(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=eh(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=eh(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=eh(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=eh(this.Eh|0,this.El|0,d|0,h|0),{h:p,l:f}=eh(this.Fh|0,this.Fl|0,p|0,f|0),{h:g,l:m}=eh(this.Gh|0,this.Gl|0,g|0,m|0),{h:b,l:y}=eh(this.Hh|0,this.Hl|0,b|0,y|0),this.set(r,i,s,o,a,c,l,u,d,h,p,f,g,m,b,y)}roundClean(){Eg(tf,nf)}destroy(){Eg(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Tke extends _te{constructor(){super(48),this.Ah=no[0]|0,this.Al=no[1]|0,this.Bh=no[2]|0,this.Bl=no[3]|0,this.Ch=no[4]|0,this.Cl=no[5]|0,this.Dh=no[6]|0,this.Dl=no[7]|0,this.Eh=no[8]|0,this.El=no[9]|0,this.Fh=no[10]|0,this.Fl=no[11]|0,this.Gh=no[12]|0,this.Gl=no[13]|0,this.Hh=no[14]|0,this.Hl=no[15]|0}}const Gv=HA(()=>new Ake),Ite=HA(()=>new _te),Ste=HA(()=>new Tke),Nke=Gv;const sU=BigInt(0),EP=BigInt(1);function R_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function oU(t){if(!R_(t))throw new Error("Uint8Array expected")}function rC(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function I5(t){const e=t.toString(16);return e.length&1?"0"+e:e}function xte(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?sU:BigInt("0x"+t)}const Ate=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Oke=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function iC(t){if(oU(t),Ate)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Oke[t[n]];return e}const nh={_0:48,_9:57,A:65,F:70,a:97,f:102};function Yz(t){if(t>=nh._0&&t<=nh._9)return t-nh._0;if(t>=nh.A&&t<=nh.F)return t-(nh.A-10);if(t>=nh.a&&t<=nh.f)return t-(nh.a-10)}function VS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Ate)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Yz(t.charCodeAt(s)),a=Yz(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function $w(t){return xte(iC(t))}function kte(t){return oU(t),xte(iC(Uint8Array.from(t).reverse()))}function D_(t,e){return VS(t.toString(16).padStart(e*2,"0"))}function $te(t,e){return D_(t,e).reverse()}function tl(t,e,n){let r;if(typeof e=="string")try{r=VS(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(R_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function KS(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];oU(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const c$=t=>typeof t=="bigint"&&sU<=t;function aU(t,e,n){return c$(t)&&c$(e)&&c$(n)&&e<=t&&t<n}function g1(t,e,n,r){if(!aU(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Pke(t){let e;for(e=0;t>sU;t>>=EP,e+=1);return e}const VA=t=>(EP<<BigInt(t))-EP,l$=t=>new Uint8Array(t),Jz=t=>Uint8Array.from(t);function Rke(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=l$(t),i=l$(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=l$(0))=>{i=a(Jz([0]),d),r=a(),d.length!==0&&(i=a(Jz([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const p=r.slice();h.push(p),d+=r.length}return KS(...h)};return(d,h)=>{o(),c(d);let p;for(;!(p=h(l()));)c();return o(),p}}const Dke={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||R_(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function KA(t,e,n={}){const r=(i,s,o)=>{const a=Dke[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Xz(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}let Tte=class extends iU{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,hte(e);const r=FA(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Eg(s)}update(e){return L1(this),this.iHash.update(e),this}digestInto(e){L1(this),gp(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const U_=(t,e,n)=>new Tte(t,e).update(n).digest();U_.create=(t,e)=>new Tte(t,e);const Ea=BigInt(0),Lo=BigInt(1),hw=BigInt(2),Uke=BigInt(3),Nte=BigInt(4),Ote=BigInt(5),Pte=BigInt(8);function ha(t,e){const n=t%e;return n>=Ea?n:e+n}function Dc(t,e,n){let r=t;for(;e-- >Ea;)r*=r,r%=n;return r}function CP(t,e){if(t===Ea)throw new Error("invert: expected non-zero number");if(e<=Ea)throw new Error("invert: expected positive modulus, got "+e);let n=ha(t,e),r=e,i=Ea,s=Lo;for(;n!==Ea;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Lo)throw new Error("invert: does not exist");return ha(i,e)}function Rte(t,e){const n=(t.ORDER+Lo)/Nte,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Mke(t,e){const n=(t.ORDER-Ote)/Pte,r=t.mul(e,hw),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,hw),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Lke(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Lo,n=0;for(;e%hw===Ea;)e/=hw,n++;let r=hw;const i=cU(t);for(;Qz(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Rte;let s=i.pow(r,e);const o=(e+Lo)/hw;return function(c,l){if(c.is0(l))return l;if(Qz(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let f=1,g=c.sqr(h);for(;!c.eql(g,c.ONE);)if(f++,g=c.sqr(g),f===u)throw new Error("Cannot find square root");const m=Lo<<BigInt(u-f-1),b=c.pow(d,m);u=f,d=c.sqr(b),h=c.mul(h,d),p=c.mul(p,b)}return p}}function jke(t){return t%Nte===Uke?Rte:t%Pte===Ote?Mke:Lke(t)}const Bke=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zke(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Bke.reduce((r,i)=>(r[i]="function",r),e);return KA(t,n)}function Wke(t,e,n){if(n<Ea)throw new Error("invalid exponent, negatives unsupported");if(n===Ea)return t.ONE;if(n===Lo)return e;let r=t.ONE,i=e;for(;n>Ea;)n&Lo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Lo;return r}function Dte(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function Qz(t,e){const n=(t.ORDER-Lo)/hw,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Ute(t,e){e!==void 0&&vg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function cU(t,e,n=!1,r={}){if(t<=Ea)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Ute(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:VA(i),ZERO:Ea,ONE:Lo,create:c=>ha(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ea<=c&&c<t},is0:c=>c===Ea,isOdd:c=>(c&Lo)===Lo,neg:c=>ha(-c,t),eql:(c,l)=>c===l,sqr:c=>ha(c*c,t),add:(c,l)=>ha(c+l,t),sub:(c,l)=>ha(c-l,t),mul:(c,l)=>ha(c*l,t),pow:(c,l)=>Wke(a,c,l),div:(c,l)=>ha(c*CP(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>CP(c,t),sqrt:r.sqrt||(c=>(o||(o=jke(t)),o(a,c))),toBytes:c=>n?$te(c,s):D_(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?kte(c):$w(c)},invertBatch:c=>Dte(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function Mte(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Lte(t){const e=Mte(t);return e+Math.ceil(e/2)}function qke(t,e,n=!1){const r=t.length,i=Mte(e),s=Lte(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?kte(t):$w(t),a=ha(o,e-Lo)+Lo;return n?$te(a,i):D_(a,i)}const eW=BigInt(0),_P=BigInt(1);function u$(t,e){const n=e.negate();return t?n:e}function jte(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function d$(t,e){jte(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=VA(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function tW(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=_P);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:p,offsetF:l}}function Fke(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Hke(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const h$=new WeakMap,Bte=new WeakMap;function p$(t){return Bte.get(t)||1}function Vke(t,e){return{constTimeNegate:u$,hasPrecomputes(n){return p$(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>eW;)r&_P&&(i=i.add(s)),s=s.double(),r>>=_P;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=d$(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=d$(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:p,offsetF:f}=tW(i,c,a);i=l,d?o=o.add(u$(p,r[f])):s=s.add(u$(h,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=d$(n,e);for(let a=0;a<o.windows&&i!==eW;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=tW(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=h$.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&h$.set(r,i(s))),s},wNAFCached(n,r,i){const s=p$(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=p$(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){jte(r,e),Bte.set(n,r),h$.delete(n)}}}function Kke(t,e,n,r){Fke(n,t),Hke(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Pke(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=VA(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let p=d;p>=0;p-=c){u.fill(o);for(let g=0;g<s;g++){const m=r[g],b=Number(m>>BigInt(p)&l);u[b]=u[b].add(n[g])}let f=o;for(let g=u.length-1,m=o;g>0;g--)m=m.add(u[g]),f=f.add(m);if(h=h.add(f),p!==0)for(let g=0;g<c;g++)h=h.double()}return h}function zte(t){return zke(t.Fp),KA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ute(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function nW(t){t.lowS!==void 0&&rC("lowS",t.lowS),t.prehash!==void 0&&rC("prehash",t.prehash)}function Zke(t){const e=zte(t);KA(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let Gke=class extends Error{constructor(e=""){super(e)}};const Uh={Err:Gke,_tlv:{encode:(t,e)=>{const{Err:n}=Uh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=I5(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?I5(i.length/2|128):"";return I5(t)+s+i+e},decode(t,e){const{Err:n}=Uh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Uh;if(t<Kh)throw new e("integer: negative integers are not allowed");let n=I5(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Uh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return $w(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Uh,i=tl("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Uh,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function f$(t,e){return iC(D_(t,e))}const Kh=BigInt(0),cs=BigInt(1);BigInt(2);const g$=BigInt(3),Yke=BigInt(4);function Jke(t){const e=Zke(t),{Fp:n}=e,r=cU(e.n,e.nBitLength),i=e.toBytes||((v,w,C)=>{const I=w.toAffine();return KS(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(v=>{const w=v.subarray(1),C=n.fromBytes(w.subarray(0,n.BYTES)),I=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function o(v){const{a:w,b:C}=e,I=n.sqr(v),k=n.mul(I,v);return n.add(n.add(k,n.mul(v,w)),C)}function a(v,w){const C=n.sqr(w),I=o(v);return n.eql(C,I)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,g$),Yke),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return aU(v,cs,e.n)}function d(v){const{allowedPrivateKeyLengths:w,nByteLength:C,wrapPrivateKey:I,n:k}=e;if(w&&typeof v!="bigint"){if(R_(v)&&(v=iC(v)),typeof v!="string"||!w.includes(v.length))throw new Error("invalid private key");v=v.padStart(C*2,"0")}let P;try{P=typeof v=="bigint"?v:$w(tl("private key",v,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof v)}return I&&(P=ha(P,k)),g1("private key",P,cs,k),P}function h(v){if(!(v instanceof g))throw new Error("ProjectivePoint expected")}const p=Xz((v,w)=>{const{px:C,py:I,pz:k}=v;if(n.eql(k,n.ONE))return{x:C,y:I};const P=v.is0();w==null&&(w=P?n.ONE:n.inv(k));const S=n.mul(C,w),N=n.mul(I,w),R=n.mul(k,w);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(R,n.ONE))throw new Error("invZ was invalid");return{x:S,y:N}}),f=Xz(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:w,y:C}=v.toAffine();if(!n.isValid(w)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!a(w,C))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(w,C,I){if(w==null||!n.isValid(w))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=w,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(w){const{x:C,y:I}=w||{};if(!w||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(w instanceof g)throw new Error("projective point not allowed");const k=P=>n.eql(P,n.ZERO);return k(C)&&k(I)?g.ZERO:new g(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const C=Dte(n,w.map(I=>I.pz));return w.map((I,k)=>I.toAffine(C[k])).map(g.fromAffine)}static fromHex(w){const C=g.fromAffine(s(tl("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){return g.BASE.multiply(d(w))}static msm(w,C){return Kke(g,r,w,C)}_setWindowSize(w){y.setWindowSize(this,w)}assertValidity(){f(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){h(w);const{px:C,py:I,pz:k}=this,{px:P,py:S,pz:N}=w,R=n.eql(n.mul(C,N),n.mul(P,k)),D=n.eql(n.mul(I,N),n.mul(S,k));return R&&D}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:C}=e,I=n.mul(C,g$),{px:k,py:P,pz:S}=this;let N=n.ZERO,R=n.ZERO,D=n.ZERO,O=n.mul(k,k),T=n.mul(P,P),E=n.mul(S,S),_=n.mul(k,P);return _=n.add(_,_),D=n.mul(k,S),D=n.add(D,D),N=n.mul(w,D),R=n.mul(I,E),R=n.add(N,R),N=n.sub(T,R),R=n.add(T,R),R=n.mul(N,R),N=n.mul(_,N),D=n.mul(I,D),E=n.mul(w,E),_=n.sub(O,E),_=n.mul(w,_),_=n.add(_,D),D=n.add(O,O),O=n.add(D,O),O=n.add(O,E),O=n.mul(O,_),R=n.add(R,O),E=n.mul(P,S),E=n.add(E,E),O=n.mul(E,_),N=n.sub(N,O),D=n.mul(E,T),D=n.add(D,D),D=n.add(D,D),new g(N,R,D)}add(w){h(w);const{px:C,py:I,pz:k}=this,{px:P,py:S,pz:N}=w;let R=n.ZERO,D=n.ZERO,O=n.ZERO;const T=e.a,E=n.mul(e.b,g$);let _=n.mul(C,P),x=n.mul(I,S),M=n.mul(k,N),A=n.add(C,I),U=n.add(P,S);A=n.mul(A,U),U=n.add(_,x),A=n.sub(A,U),U=n.add(C,k);let B=n.add(P,N);return U=n.mul(U,B),B=n.add(_,M),U=n.sub(U,B),B=n.add(I,k),R=n.add(S,N),B=n.mul(B,R),R=n.add(x,M),B=n.sub(B,R),O=n.mul(T,U),R=n.mul(E,M),O=n.add(R,O),R=n.sub(x,O),O=n.add(x,O),D=n.mul(R,O),x=n.add(_,_),x=n.add(x,_),M=n.mul(T,M),U=n.mul(E,U),x=n.add(x,M),M=n.sub(_,M),M=n.mul(T,M),U=n.add(U,M),_=n.mul(x,U),D=n.add(D,_),_=n.mul(B,U),R=n.mul(A,R),R=n.sub(R,_),_=n.mul(A,x),O=n.mul(B,O),O=n.add(O,_),new g(R,D,O)}subtract(w){return this.add(w.negate())}is0(){return this.equals(g.ZERO)}wNAF(w){return y.wNAFCached(this,w,g.normalizeZ)}multiplyUnsafe(w){const{endo:C,n:I}=e;g1("scalar",w,Kh,I);const k=g.ZERO;if(w===Kh)return k;if(this.is0()||w===cs)return this;if(!C||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,w,g.normalizeZ);let{k1neg:P,k1:S,k2neg:N,k2:R}=C.splitScalar(w),D=k,O=k,T=this;for(;S>Kh||R>Kh;)S&cs&&(D=D.add(T)),R&cs&&(O=O.add(T)),T=T.double(),S>>=cs,R>>=cs;return P&&(D=D.negate()),N&&(O=O.negate()),O=new g(n.mul(O.px,C.beta),O.py,O.pz),D.add(O)}multiply(w){const{endo:C,n:I}=e;g1("scalar",w,cs,I);let k,P;if(C){const{k1neg:S,k1:N,k2neg:R,k2:D}=C.splitScalar(w);let{p:O,f:T}=this.wNAF(N),{p:E,f:_}=this.wNAF(D);O=y.constTimeNegate(S,O),E=y.constTimeNegate(R,E),E=new g(n.mul(E.px,C.beta),E.py,E.pz),k=O.add(E),P=T.add(_)}else{const{p:S,f:N}=this.wNAF(w);k=S,P=N}return g.normalizeZ([k,P])[0]}multiplyAndAddUnsafe(w,C,I){const k=g.BASE,P=(N,R)=>R===Kh||R===cs||!N.equals(k)?N.multiplyUnsafe(R):N.multiply(R),S=P(this,C).add(P(w,I));return S.is0()?void 0:S}toAffine(w){return p(this,w)}isTorsionFree(){const{h:w,isTorsionFree:C}=e;if(w===cs)return!0;if(C)return C(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:C}=e;return w===cs?this:C?C(g,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return rC("isCompressed",w),this.assertValidity(),i(g,this,w)}toHex(w=!0){return rC("isCompressed",w),iC(this.toRawBytes(w))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:b}=e,y=Vke(g,m?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function Xke(t){const e=zte(t);return KA(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Qke(t){const e=Xke(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(E){return ha(E,r)}function l(E){return CP(E,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:p}=Jke({...e,toBytes(E,_,x){const M=_.toAffine(),A=n.toBytes(M.x),U=KS;return rC("isCompressed",x),x?U(Uint8Array.from([_.hasEvenY()?2:3]),A):U(Uint8Array.from([4]),A,n.toBytes(M.y))},fromBytes(E){const _=E.length,x=E[0],M=E.subarray(1);if(_===o&&(x===2||x===3)){const A=$w(M);if(!aU(A,cs,n.ORDER))throw new Error("Point is not on curve");const U=h(A);let B;try{B=n.sqrt(U)}catch(q){const F=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+F)}const z=(B&cs)===cs;return(x&1)===1!==z&&(B=n.neg(B)),{x:A,y:B}}else if(_===a&&x===4){const A=n.fromBytes(M.subarray(0,n.BYTES)),U=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:A,y:U}}else{const A=o,U=a;throw new Error("invalid Point, expected length of "+A+", or uncompressed "+U+", got "+_)}}});function f(E){const _=r>>cs;return E>_}function g(E){return f(E)?c(-E):E}const m=(E,_,x)=>$w(E.slice(_,x));class b{constructor(_,x,M){g1("r",_,cs,r),g1("s",x,cs,r),this.r=_,this.s=x,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(_){const x=i;return _=tl("compactSignature",_,x*2),new b(m(_,0,x),m(_,x,2*x))}static fromDER(_){const{r:x,s:M}=Uh.toSig(tl("DER",_));return new b(x,M)}assertValidity(){}addRecoveryBit(_){return new b(this.r,this.s,_)}recoverPublicKey(_){const{r:x,s:M,recovery:A}=this,U=k(tl("msgHash",_));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const B=A===2||A===3?x+e.n:x;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=(A&1)===0?"02":"03",H=u.fromHex(z+f$(B,n.BYTES)),q=l(B),F=c(-U*q),K=c(M*q),ee=u.BASE.multiplyAndAddUnsafe(H,F,K);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return VS(this.toDERHex())}toDERHex(){return Uh.hexFromSig(this)}toCompactRawBytes(){return VS(this.toCompactHex())}toCompactHex(){const _=i;return f$(this.r,_)+f$(this.s,_)}}const y={isValidPrivateKey(E){try{return d(E),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const E=Lte(e.n);return qke(e.randomBytes(E),e.n)},precompute(E=8,_=u.BASE){return _._setWindowSize(E),_.multiply(BigInt(3)),_}};function v(E,_=!0){return u.fromPrivateKey(E).toRawBytes(_)}function w(E){if(typeof E=="bigint")return!1;if(E instanceof u)return!0;const x=tl("key",E).length,M=n.BYTES,A=M+1,U=2*M+1;if(!(e.allowedPrivateKeyLengths||i===A))return x===A||x===U}function C(E,_,x=!0){if(w(E)===!0)throw new Error("first arg must be private key");if(w(_)===!1)throw new Error("second arg must be public key");return u.fromHex(_).multiply(d(E)).toRawBytes(x)}const I=e.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");const _=$w(E),x=E.length*8-s;return x>0?_>>BigInt(x):_},k=e.bits2int_modN||function(E){return c(I(E))},P=VA(s);function S(E){return g1("num < 2^"+s,E,Kh,P),D_(E,i)}function N(E,_,x=R){if(["recovered","canonical"].some(te=>te in x))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:A}=e;let{lowS:U,prehash:B,extraEntropy:z}=x;U==null&&(U=!0),E=tl("msgHash",E),nW(x),B&&(E=tl("prehashed msgHash",M(E)));const H=k(E),q=d(_),F=[S(q),S(H)];if(z!=null&&z!==!1){const te=z===!0?A(n.BYTES):z;F.push(tl("extraEntropy",te))}const K=KS(...F),ee=H;function se(te){const ue=I(te);if(!p(ue))return;const ge=l(ue),$e=u.BASE.multiply(ue).toAffine(),he=c($e.x);if(he===Kh)return;const me=c(ge*c(ee+he*q));if(me===Kh)return;let Me=($e.x===he?0:2)|Number($e.y&cs),Ct=me;return U&&f(me)&&(Ct=g(me),Me^=1),new b(he,Ct,Me)}return{seed:K,k2sig:se}}const R={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function O(E,_,x=R){const{seed:M,k2sig:A}=N(E,_,x),U=e;return Rke(U.hash.outputLen,U.nByteLength,U.hmac)(M,A)}u.BASE._setWindowSize(8);function T(E,_,x,M=D){const A=E;_=tl("msgHash",_),x=tl("publicKey",x);const{lowS:U,prehash:B,format:z}=M;if(nW(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if(z!==void 0&&z!=="compact"&&z!=="der")throw new Error("format must be compact or der");const H=typeof A=="string"||R_(A),q=!H&&!z&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!H&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,K;try{if(q&&(F=new b(A.r,A.s)),H){try{z!=="compact"&&(F=b.fromDER(A))}catch(Me){if(!(Me instanceof Uh.Err))throw Me}!F&&z!=="der"&&(F=b.fromCompact(A))}K=u.fromHex(x)}catch{return!1}if(!F||U&&F.hasHighS())return!1;B&&(_=e.hash(_));const{r:ee,s:se}=F,te=k(_),ue=l(se),ge=c(te*ue),$e=c(ee*ue),he=u.BASE.multiplyAndAddUnsafe(K,ge,$e)?.toAffine();return he?c(he.x)===ee:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:C,sign:O,verify:T,ProjectivePoint:u,Signature:b,utils:y}}function e8e(t){return{hash:t,hmac:(e,...n)=>U_(t,e,iu(...n)),randomBytes:P_}}function t8e(t,e){const n=r=>Qke({...t,...e8e(r)});return{...n(e),create:n}}const Wte=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rW=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),n8e=BigInt(0),r8e=BigInt(1),IP=BigInt(2),iW=(t,e)=>(t+e/IP)/e;function i8e(t){const e=Wte,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Dc(u,n,e)*u%e,h=Dc(d,n,e)*u%e,p=Dc(h,IP,e)*l%e,f=Dc(p,i,e)*p%e,g=Dc(f,s,e)*f%e,m=Dc(g,a,e)*g%e,b=Dc(m,c,e)*m%e,y=Dc(b,a,e)*g%e,v=Dc(y,n,e)*u%e,w=Dc(v,o,e)*f%e,C=Dc(w,r,e)*l%e,I=Dc(C,IP,e);if(!SP.eql(SP.sqr(I),t))throw new Error("Cannot find square root");return I}const SP=cU(Wte,void 0,void 0,{sqrt:i8e}),s8e=t8e({a:n8e,b:BigInt(7),Fp:SP,n:rW,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=rW,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-r8e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=iW(s*t,e),c=iW(-r*t,e);let l=ha(t-a*n-c*i,e),u=ha(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Gv),B9t=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:s8e},Symbol.toStringTag,{value:"Module"}));async function L2(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}let M_=class{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await L2(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await L2(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await L2(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await L2(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await L2(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:e,...n}){const r=this.createUrl(n);return navigator.sendBeacon(r.toString(),e?JSON.stringify(e):void 0)}};const xP={getFeatureValue(t,e){const n=e?.[t];return n===void 0?yt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;let e=t;return oe.isTelegram()&&(oe.isIos()&&(e=e.filter(n=>n!=="google")),oe.isMac()&&(e=e.filter(n=>n!=="x")),oe.isAndroid()&&(e=e.filter(n=>!["facebook","x"].includes(n)))),oe.isMobile()&&(e=e.filter(n=>n!=="facebook")),e},isSocialsEnabled(){return Array.isArray(X.state.features?.socials)&&X.state.features?.socials.length>0||Array.isArray(X.state.remoteFeatures?.socials)&&X.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(X.state.features?.email||X.state.remoteFeatures?.email)}},bt=Wn({features:yt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:yt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),X={state:bt,subscribeKey(t,e){return ii(bt,t,e)},setOptions(t){Object.assign(bt,t)},setRemoteFeatures(t){if(!t)return;const e={...bt.remoteFeatures,...t};bt.remoteFeatures=e,bt.remoteFeatures?.socials&&(bt.remoteFeatures.socials=xP.filterSocialsByPlatform(bt.remoteFeatures.socials)),bt.features?.pay&&(bt.remoteFeatures.email=!1,bt.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;bt.features||(bt.features=yt.DEFAULT_FEATURES);const e={...bt.features,...t};bt.features=e,bt.features?.pay&&bt.remoteFeatures&&(bt.remoteFeatures.email=!1,bt.remoteFeatures.socials=!1)},setProjectId(t){bt.projectId=t},setCustomRpcUrls(t){bt.customRpcUrls=t},setAllWallets(t){bt.allWallets=t},setIncludeWalletIds(t){bt.includeWalletIds=t},setExcludeWalletIds(t){bt.excludeWalletIds=t},setFeaturedWalletIds(t){bt.featuredWalletIds=t},setTokens(t){bt.tokens=t},setTermsConditionsUrl(t){bt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){bt.privacyPolicyUrl=t},setCustomWallets(t){bt.customWallets=t},setIsSiweEnabled(t){bt.isSiweEnabled=t},setIsUniversalProvider(t){bt.isUniversalProvider=t},setSdkVersion(t){bt.sdkVersion=t},setMetadata(t){bt.metadata=t},setDisableAppend(t){bt.disableAppend=t},setEIP6963Enabled(t){bt.enableEIP6963=t},setDebug(t){bt.debug=t},setEnableWalletGuide(t){bt.enableWalletGuide=t},setEnableAuthLogger(t){bt.enableAuthLogger=t},setEnableWallets(t){bt.enableWallets=t},setPreferUniversalLinks(t){bt.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(yt.SIWX_DEFAULTS))t[e]??=n;bt.siwx=t},setConnectMethodsOrder(t){bt.features={...bt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){bt.features={...bt.features,walletFeaturesOrder:t}},setSocialsOrder(t){bt.remoteFeatures={...bt.remoteFeatures,socials:t}},setCollapseWallets(t){bt.features={...bt.features,collapseWallets:t}},setEnableEmbedded(t){bt.enableEmbedded=t},setAllowUnsupportedChain(t){bt.allowUnsupportedChain=t},setManualWCControl(t){bt.manualWCControl=t},setEnableNetworkSwitch(t){bt.enableNetworkSwitch=t},setEnableMobileFullScreen(t){bt.enableMobileFullScreen=oe.isMobile()&&t},setEnableReconnect(t){bt.enableReconnect=t},setCoinbasePreference(t){bt.coinbasePreference=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(bt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){bt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return bt.universalProviderConfigOverride},getSnapshot(){return FE(bt)}},Fm=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),zi=Wn({...Fm}),o8e={state:zi,subscribeKey(t,e){return ii(zi,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=oe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){zi.message=Fm.message,zi.variant=Fm.variant,zi.svg=Fm.svg,zi.open=Fm.open,zi.autoClose=Fm.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Fm.autoClose}){zi.open?(zi.open=!1,setTimeout(()=>{zi.message=t,zi.variant=n,zi.svg=e,zi.open=!0,zi.autoClose=r},150)):(zi.message=t,zi.variant=n,zi.svg=e,zi.open=!0,zi.autoClose=r)}},Ue=o8e,a8e={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},qte=oe.getBlockchainApiUrl(),ko=Wn({clientId:null,api:new M_({baseUrl:qte,clientId:null}),supportedChains:{http:[],ws:[]}}),Et={state:ko,async get(t){const{st:e,sv:n}=Et.getSdkProperties(),r=X.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return ko.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=X.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ko.supportedChains.http.length||await Et.getSupportedNetworks()}catch{return!1}return ko.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Et.get({path:"v1/supported-chains"});return ko.supportedChains=t,t}catch{return ko.supportedChains}},async fetchIdentity({address:t}){const e=be.getIdentityFromCacheForAddress(t);if(e)return e;const n=await Et.get({path:`/v1/identity/${t}`,params:{sender:j.state.activeCaipAddress?oe.getPlainAddress(j.state.activeCaipAddress):void 0}});return be.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:t,cursor:e,signal:n,cache:r,chainId:i}){if(!await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=be.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await Et.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:n,cache:r});return be.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?Et.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?Et.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async getAddressBalance({caipNetworkId:t,address:e}){return ko.api.post({path:`/v1?chainId=${t}&projectId=${X.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:e}}}).then(n=>n.result)},async fetchTokenPrice({addresses:t}){if(!await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=be.getTokenPriceCacheForAddresses(t);if(n)return n;const r=await ko.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:X.state.projectId},headers:{"Content-Type":"application/json"}});return be.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?Et.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=Et.getSdkProperties();if(!await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Et.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){if(!await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ko.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:yt.CONVERT_SLIPPAGE_TOLERANCE},projectId:X.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:r,sv:i}=Et.getSdkProperties();if(!await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Et.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){const{st:r,sv:i}=Et.getSdkProperties();if(!await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId))return Ue.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=be.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Et.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return be.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?Et.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){if(!await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId))return[];const n=j.getAccountData()?.address;return Et.get({path:`/v1/profile/reverse/${t}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(t){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?Et.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?ko.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?(await ko.api.post({path:"/v1/generators/onrampurl",params:{projectId:X.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Et.get({path:"/v1/onramp/options"})}catch{return a8e}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){try{return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?await ko.api.post({path:"/v1/onramp/quote",params:{projectId:X.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?Et.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await Et.isNetworkSupported(j.state.activeCaipNetwork?.caipNetworkId)?ko.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:X.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){ko.clientId=t,ko.api=new M_({baseUrl:qte,clientId:t})}},Jc={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},c8e={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===Jc.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",s=n.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${Jc.PHANTOM.url}/ul/browse/${r}?ref=${o}`}if(t===Jc.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Jc.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===ne.CHAIN.SOLANA&&t===Jc.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Jc.COINBASE.url}/dapp?cb_url=${r}`),e===ne.CHAIN.BITCOIN&&t===Jc.BINANCE.id&&!("binancew3w"in window)){const i=j.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${r}&defaultChainId=${i?.id??1}`),a=new URL(Jc.BINANCE.deeplink);a.searchParams.set("appId",Jc.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(Jc.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},l8e=Object.freeze({enabled:!0,events:[]}),u8e=new M_({baseUrl:oe.getAnalyticsUrl(),clientId:null}),d8e=5,h8e=60*1e3,rf=Wn({...l8e}),p8e={state:rf,subscribeKey(t,e){return ii(rf,t,e)},async sendError(t,e){if(!rf.enabled)return;const n=Date.now();if(rf.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<h8e}).length>=d8e)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};rf.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=X.state;await u8e.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){rf.enabled=!0},disable(){rf.enabled=!1},clearEvents(){rf.events=[]}};let Cg=class AP extends Error{constructor(e,n,r){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,AP.prototype);let i=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const s=r.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,AP):this.stack||(this.stack=`${this.name}: ${this.message}`))}};function sW(t,e){let n="";try{t instanceof Error?n=t.message:typeof t=="string"?n=t:typeof t=="object"&&t!==null?Object.keys(t).length===0?n="Unknown error":n=t?.message||JSON.stringify(t):n=String(t)}catch(i){n="Unknown error",console.error("Error parsing error message",i)}const r=t instanceof Cg?t:new Cg(n,e,t);throw p8e.sendError(r,r.category),r}function Da(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return sW(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return sW(a,e)}},n[r]=s}else n[r]=i}),n}const Wa=Wn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),f8e={state:Wa,subscribeNetworkImages(t){return ci(Wa.networkImages,()=>t(Wa.networkImages))},subscribeKey(t,e){return ii(Wa,t,e)},subscribe(t){return ci(Wa,()=>t(Wa))},setWalletImage(t,e){Wa.walletImages[t]=e},setNetworkImage(t,e){Wa.networkImages[t]=e},setChainImage(t,e){Wa.chainImages[t]=e},setConnectorImage(t,e){Wa.connectorImages={...Wa.connectorImages,[t]:e}},setTokenImage(t,e){Wa.tokenImages[t]=e},setCurrencyImage(t,e){Wa.currencyImages[t]=e}},lr=Da(f8e),g8e={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},m$=Wn({networkImagePromises:{}}),en={async fetchWalletImage(t){if(t)return await Te._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(m$.networkImagePromises[t]||(m$.networkImagePromises[t]=Te._fetchNetworkImage(t)),await m$.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return lr.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return lr.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return lr.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return lr.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return lr.state.connectorImages[t.imageId]},getChainImage(t){return lr.state.networkImages[g8e[t]]},getTokenImage(t){if(t)return lr.state.tokenImages[t]}},m8e=oe.getAnalyticsUrl(),w8e=new M_({baseUrl:m8e,clientId:null}),y8e=["MODAL_CREATED"],b8e=45,oW=1e3*10,oi=Wn({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),Ce={state:oi,subscribe(t){return ci(oi,()=>t(oi))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=X.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){const t=JSON.stringify(oi.pendingEvents).length/1024>b8e,e=oi.lastFlush+oW<Date.now();return t||e},_setPendingEvent(t){try{let e=j.getAccountData()?.address;if("address"in t.data&&t.data.address&&(e=t.data.address),y8e.includes(t.data.event)||typeof window>"u")return;const n=j.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:n}}}),oi.reportedErrors.FORBIDDEN=!1,Ce.shouldFlushEvents()&&Ce._submitPendingEvents()}catch(e){console.warn("_setPendingEvent",e)}},sendEvent(t){oi.timestamp=Date.now(),oi.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(X.state.features?.analytics||e.includes(t.event))&&Ce._setPendingEvent(oi),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(t){oi.walletImpressions.push(t)},_transformPendingEventsForBatch(t){try{return t.filter(e=>e.props.event!=="WALLET_IMPRESSION_V2")}catch{return t}},_submitPendingEvents(){if(oi.lastFlush=Date.now(),!(oi.pendingEvents.length===0&&oi.walletImpressions.length===0))try{const t=Ce._transformPendingEventsForBatch(oi.pendingEvents);oi.walletImpressions.length&&t.push({eventId:oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...oi.walletImpressions]}}),w8e.sendBeacon({path:"/batch",params:Ce.getSdkProperties(),body:t}),oi.reportedErrors.FORBIDDEN=!1,oi.pendingEvents=[],oi.walletImpressions=[]}catch{oi.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){oi.subscribedToVisibilityChange||typeof document>"u"||(oi.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&Ce._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{Ce._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{Ce._submitPendingEvents()}),setInterval(()=>{Ce._submitPendingEvents()},oW))}},v8e=oe.getApiUrl(),$o=new M_({baseUrl:v8e,clientId:null}),E8e=40,aW=4,C8e=20,Mt=Wn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),Te={state:Mt,subscribeKey(t,e){return ii(Mt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=X.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return X.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${$o.baseUrl}/getWalletImage/${t}`,n=await $o.getBlob({path:e,params:Te._getSdkProperties()});lr.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${$o.baseUrl}/public/getAssetImage/${t}`,n=await $o.getBlob({path:e,params:Te._getSdkProperties()});lr.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${$o.baseUrl}/public/getAssetImage/${t}`,n=await $o.getBlob({path:e,params:Te._getSdkProperties()});lr.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${$o.baseUrl}/public/getCurrencyImage/${t}`,n=await $o.getBlob({path:e,params:Te._getSdkProperties()});lr.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${$o.baseUrl}/public/getTokenImage/${t}`,n=await $o.getBlob({path:e,params:Te._getSdkProperties()});lr.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){const e=t.length,n=oe.isMobile()?t?.filter(i=>i.mobile_link||i.webapp_link?!0:Object.values(Jc).map(o=>o.id).includes(i.id)):t,r=e-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await $o.get({path:"/appkit/v1/config",params:Te._getSdkProperties()})).features},async fetchUsage(){try{const t=await $o.get({path:"/appkit/v1/project-limits",params:Te._getSdkProperties()}),{tier:e,isAboveMauLimit:n,isAboveRpcLimit:r}=t.planLimits,i=e==="starter",s=n||r;Te.state.plan={tier:e,hasExceededUsageLimit:i&&s,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(t){console.warn("Failed to fetch usage",t)}},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await $o.get({path:"/projects/v1/origins",params:Te._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===ne.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=ne.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=j.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!en.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Te._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=ae.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Te._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Te._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Te._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];Te._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(Jc).map(o=>o.id));const r=await $o.get({path:"/getWallets",params:{...Te._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}}),{filteredWallets:i,mobileFilteredOutWalletsLength:s}=Te._filterWalletsByPlatform(r?.data);return{data:i||[],count:r?.count,mobileFilteredOutWalletsLength:s}},async prefetchWalletRanks(){const t=ae.state.connectors;if(!t?.length)return;const e={page:1,entries:20,badge:"certified"};if(e.names=t.map(i=>i.name).join(","),j.state.activeChain===ne.CHAIN.EVM){const i=[...t.flatMap(s=>s.connectors?.map(o=>o.info?.rdns)||[]),...t.map(s=>s.info?.rdns)].filter(s=>typeof s=="string"&&s.length>0);i.length&&(e.rdns=i.join(","))}const{data:n}=await Te.fetchWallets(e);Mt.explorerWallets=n,ae.extendConnectorsWithExplorerWallets(n);const r=j.getRequestedCaipNetworkIds().join(",");Mt.explorerFilteredWallets=n.filter(i=>i.chains?.some(s=>r.includes(s)))},async fetchFeaturedWallets(){const{featuredWalletIds:t}=X.state;if(t?.length){const e={...Te._getSdkProperties(),page:1,entries:t?.length??aW,include:t},{data:n}=await Te.fetchWallets(e),r=[...n].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>Te._fetchWalletImage(s))),Mt.featured=r,Mt.allFeatured=r}},async fetchRecommendedWallets(){try{Mt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=X.state,r=[...e??[],...n??[]].filter(Boolean),i=j.getRequestedCaipNetworkIds().join(","),s={page:1,entries:aW,include:t,exclude:r,chains:i},{data:o,count:a}=await Te.fetchWallets(s),c=be.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Te._fetchWalletImage(d))),Mt.recommended=o,Mt.allRecommended=o,Mt.count=a??0}catch{}finally{Mt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=X.state,i=j.getRequestedCaipNetworkIds().join(","),s=[...Mt.recommended.map(({id:d})=>d),...n??[],...r??[]].filter(Boolean),o={page:t,entries:E8e,include:e,exclude:s,chains:i},{data:a,count:c,mobileFilteredOutWalletsLength:l}=await Te.fetchWallets(o);Mt.mobileFilteredOutWalletsLength=l+(Mt.mobileFilteredOutWalletsLength??0);const u=a.slice(0,C8e).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(u.map(d=>Te._fetchWalletImage(d))),Mt.wallets=oe.uniqueBy([...Mt.wallets,...Te._filterOutExtensions(a)],"id").filter(d=>d.chains?.some(h=>i.includes(h))),Mt.count=c>Mt.count?c:Mt.count,Mt.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Te.fetchWallets(e);n&&n.forEach(r=>{Mt.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=X.state,i=j.getRequestedCaipNetworkIds().join(",");Mt.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await Te.fetchWallets(s);Ce.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Te._fetchWalletImage(c)),oe.wait(300)]),Mt.search=Te._filterOutExtensions(o)},initPromise(t,e){const n=Mt.promises[t];return n||(Mt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:i=!0}={}){const s=[t&&Te.initPromise("connectorImages",Te.fetchConnectorImages),e&&Te.initPromise("featuredWallets",Te.fetchFeaturedWallets),n&&Te.initPromise("recommendedWallets",Te.fetchRecommendedWallets),r&&Te.initPromise("networkImages",Te.fetchNetworkImages),i&&Te.initPromise("walletRanks",Te.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){X.state.features?.analytics&&Te.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await $o.get({path:"/getAnalyticsConfig",params:Te._getSdkProperties()});X.setFeatures({analytics:t})}catch{X.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){Mt.featured=Mt.allFeatured,Mt.recommended=Mt.allRecommended;return}const e=j.getRequestedCaipNetworkIds().join(",");Mt.featured=Mt.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Mt.recommended=Mt.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Mt.filteredWallets=Mt.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))},clearFilterByNamespaces(){Mt.filteredWallets=[]},setFilterByNamespace(t){if(!t){Mt.featured=Mt.allFeatured,Mt.recommended=Mt.allRecommended;return}const e=j.getRequestedCaipNetworkIds().join(",");Mt.featured=Mt.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Mt.recommended=Mt.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Mt.filteredWallets=Mt.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))}},_8e=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],Fn=Wn({view:"Connect",history:["Connect"],transactionStack:[]}),I8e={state:Fn,subscribeKey(t,e){return ii(Fn,t,e)},pushTransactionStack(t){Fn.transactionStack.push(t)},popTransactionStack(t){const e=Fn.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:i}=e;switch(t){case"success":n?.();break;case"error":r?.(),Z.goBack();break;case"cancel":i?.(),Z.goBack();break}},push(t,e){let n=t,r=e;Te.state.plan.hasExceededUsageLimit&&_8e.includes(t)&&(n="UsageExceeded",r=void 0),n!==Fn.view&&(Fn.view=n,Fn.history.push(n),Fn.data=r)},reset(t,e){Fn.view=t,Fn.history=[t],Fn.data=e},replace(t,e){Fn.history.at(-1)===t||(Fn.view=t,Fn.history[Fn.history.length-1]=t,Fn.data=e)},goBack(){const t=j.state.activeCaipAddress,e=Z.state.view==="ConnectingFarcaster",n=!t&&e;if(Fn.history.length>1){Fn.history.pop();const[r]=Fn.history.slice(-1);r&&(t&&r==="Connect"?Fn.view="Account":Fn.view=r)}else Ke.close();Fn.data?.wallet&&(Fn.data.wallet=void 0),Fn.data?.redirectView&&(Fn.data.redirectView=void 0),setTimeout(()=>{if(n){j.setAccountProp("farcasterUrl",void 0,j.state.activeChain);const r=ae.getAuthConnector();r?.provider?.reload();const i=FE(X.state);r?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(Fn.history.length>1){Fn.history=Fn.history.slice(0,t+1);const[e]=Fn.history.slice(-1);e&&(Fn.view=e)}},goBackOrCloseModal(){Z.state.history.length>1?Z.goBack():Ke.close()}},Z=Da(I8e),rh=Wn({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),kP={state:rh,subscribe(t){return ci(rh,()=>t(rh))},setThemeMode(t){rh.themeMode=t;try{const e=ae.getAuthConnector();if(e){const n=kP.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:R1(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){rh.themeVariables={...rh.themeVariables,...t};try{const e=ae.getAuthConnector();if(e){const n=kP.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:R1(rh.themeVariables,rh.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return FE(rh)}},zn=Da(kP),Fte=Object.fromEntries(eU.map(t=>[t,void 0])),S8e=Object.fromEntries(eU.map(t=>[t,!0])),yn=Wn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Fte,filterByNamespaceMap:S8e}),x8e={state:yn,subscribe(t){return ci(yn,()=>{t(yn)})},subscribeKey(t,e){return ii(yn,t,e)},initialize(t){t.forEach(e=>{const n=be.getConnectedConnectorId(e);n&&ae.setConnectorId(n,e)})},setActiveConnector(t){t&&(yn.activeConnector=O1(t))},setConnectors(t){t.filter(i=>!yn.allConnectors.some(s=>s.id===i.id&&ae.getConnectorName(s.name)===ae.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&yn.allConnectors.push(O1(i))});const n=ae.getEnabledNamespaces(),r=ae.getEnabledConnectors(n);yn.connectors=ae.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(yn.filterByNamespaceMap).forEach(e=>{yn.filterByNamespaceMap[e]=!1}),t.forEach(e=>{yn.filterByNamespaceMap[e]=!0}),ae.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){yn.filterByNamespaceMap[t]=e,ae.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=ae.getEnabledNamespaces(),e=ae.getEnabledConnectors(t),n=ae.areAllNamespacesEnabled();yn.connectors=ae.mergeMultiChainConnectors(e),n?Te.clearFilterByNamespaces():Te.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(yn.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return yn.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(yn.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=ae.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=i?.id===ne.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=ae.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===ne.CONNECTOR_ID.AUTH){const e=t,n=FE(X.state),r=zn.getSnapshot().themeMode,i=zn.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:R1(i,r)}),ae.setConnectors([t])}else ae.setConnectors([t])},getAuthConnector(t){const e=t||j.state.activeChain,n=yn.connectors.find(r=>r.id===ne.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return yn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return yn.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const r=n||j.state.activeChain;return yn.allConnectors.filter(s=>s.chain===r).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="AUTH")return;const e=t,n=FE(X.state),r=zn.getSnapshot().themeMode,i=zn.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:R1(i,r)})},getConnectorsByNamespace(t){const e=yn.allConnectors.filter(n=>n.chain===t);return ae.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return j.checkIfSmartAccountEnabled()&&En(t)===Vt.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=Z.state.data?.redirectView,n=ae.getConnector({id:t.id,rdns:t.rdns});c8e.handleMobileDeeplinkRedirect(n?.explorerId||t.id,j.state.activeChain),n?Z.push("ConnectingExternal",{connector:n,wallet:t,redirectView:e}):Z.push("ConnectingWalletConnect",{wallet:t,redirectView:e})},getConnectors(t){return t?ae.getConnectorsByNamespace(t):ae.mergeMultiChainConnectors(yn.allConnectors)},setFilterByNamespace(t){yn.filterByNamespace=t,yn.connectors=ae.getConnectors(t),Te.setFilterByNamespace(t)},setConnectorId(t,e){t&&(yn.activeConnectorIds={...yn.activeConnectorIds,[e]:t},be.setConnectedConnectorId(e,t))},removeConnectorId(t){yn.activeConnectorIds={...yn.activeConnectorIds,[t]:void 0},be.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return yn.activeConnectorIds[t]},isConnected(t){return t?!!yn.activeConnectorIds[t]:Object.values(yn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){yn.activeConnectorIds={...Fte}},extendConnectorsWithExplorerWallets(t){yn.allConnectors.forEach(r=>{const i=t.find(s=>s.id===r.id||s.rdns&&s.rdns===r.info?.rdns);i&&(r.explorerWallet=i)});const e=ae.getEnabledNamespaces(),n=ae.getEnabledConnectors(e);yn.connectors=ae.mergeMultiChainConnectors(n)}},ae=Da(x8e),A8e=1e3,j2={checkNamespaceConnectorId(t,e){return ae.getConnectorId(t)===e},isSocialProvider(t){return yt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&ae.setActiveConnector(e),i?.(oe.isMobile()&&t),r){const l=Ke.subscribeKey("open",u=>{u||(Z.state.view!==r&&Z.replace(r),l(),a(new Error("Modal closed")))})}const c=j.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),n&&Ke.close(),c(),o(Zr.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=j.subscribeKey("activeCaipAddress",i=>{i&&(Ke.close(),r(),e(Zr.parseCaipAddress(i)))});pe.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:i}){let s,o=!1,a=null;const c=e||j.state.activeChain,l=j.subscribeKey("activeCaipAddress",u=>{u&&(n&&Ke.close(),l())});return new Promise((u,d)=>{async function h(f){if(f.data?.resultUri)if(f.origin===ne.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const g=ae.getAuthConnector(c);if(g&&!o){s&&s.close(),o=!0;const m=f.data.resultUri;Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:t}}),be.setConnectedSocialProvider(t),await pe.connectExternal({id:g.id,type:g.type,socialUri:m},g.chain);const b=j.state.activeCaipAddress;if(!b){d(new Error("Failed to connect"));return}u(Zr.parseCaipAddress(b)),Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:t}})}}catch(g){Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:oe.parseError(g)}}),d(new Error("Failed to connect"))}}else Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:"Untrusted Origin"}})}async function p(){if(Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:t}}),t==="farcaster"){r?.();const f=Ke.subscribeKey("open",m=>{!m&&t==="farcaster"&&(d(new Error("Popup closed")),i?.(),f())}),g=ae.getAuthConnector();if(g&&!j.getAccountData(c)?.farcasterUrl)try{const{url:b}=await g.provider.getFarcasterUri();j.setAccountProp("farcasterUrl",b,c)}catch{d(new Error("Failed to connect to farcaster"))}}else{const f=ae.getAuthConnector();a=oe.returnOpenHref(`${ne.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(f){const{uri:g}=await f.provider.getSocialRedirectUri({provider:t});if(a&&g){a.location.href=g,s=a;const m=setInterval(()=>{s?.closed&&!o&&(d(new Error("Popup closed")),clearInterval(m))},1e3);window.addEventListener("message",h,!1)}else a?.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),a?.close()}}}p()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((i,s)=>{if(n?.(),e){const a=Ke.subscribeKey("open",c=>{c||(Z.state.view!==e&&Z.replace(e),a(),s(new Error("Modal closed")))})}const o=j.subscribeKey("activeCaipAddress",a=>{a&&(r?.(),t&&Ke.close(),o(),i(Zr.parseCaipAddress(a)))})})},async updateEmail(){const t=be.getConnectedConnectorId(j.state.activeChain),e=ae.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==ne.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await Ke.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(Ke.close(),clearInterval(s),o(),r({email:a}))},A8e),o=Ke.subscribeKey("open",a=>{a||(Z.state.view!=="Connect"&&Z.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return j.checkIfSmartAccountEnabled()&&En(t)===Vt.ACCOUNT_TYPES.EOA}};function sC(){const t=j.state.activeCaipNetwork?.chainNamespace||"eip155",e=j.state.activeCaipNetwork?.id||1,n=yt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function En(t){return j.getAccountData(t)?.preferredAccountType}function ld(t){return t?j.state.chains.get(t)?.networkState?.caipNetwork:j.state.activeCaipNetwork}const al={getConnectionStatus(t,e){const n=ae.state.activeConnectorIds[e],r=pe.getConnections(e);return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const s=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:s}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!X.state.remoteFeatures?.multiWallet,n=ae.state.activeConnectorIds[t],r=pe.getConnections(t),s=(pe.state.recentConnections.get(t)??[]).filter(a=>ae.getConnectorById(a.connectorId)),o=al.excludeExistingConnections([...r.map(a=>a.connectorId),...n?[n]:[]],s);return e?{connections:r,recentConnections:o}:{connections:r.filter(a=>a.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},Vr=Wn({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),k8e={state:Vr,subscribe(t){return ci(Vr,()=>t(Vr))},setLastNetworkInView(t){Vr.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Vr.loading=!0;try{const e=await Et.fetchTransactions({account:t,cursor:Vr.next,chainId:j.state.activeCaipNetwork?.caipNetworkId}),n=Ro.filterSpamTransactions(e.data),r=Ro.filterByConnectedChain(n),i=[...Vr.transactions,...r];Vr.loading=!1,Vr.transactions=i,Vr.transactionsByYear=Ro.groupTransactionsByYearAndMonth(Vr.transactionsByYear,r),Vr.empty=i.length===0,Vr.next=e.next?e.next:void 0}catch{const n=j.state.activeChain;Ce.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:X.state.projectId,cursor:Vr.next,isSmartAccount:En(n)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ue.showError("Failed to fetch transactions"),Vr.loading=!1,Vr.empty=!0,Vr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=j.state.activeCaipNetwork?.caipNetworkId;return t.filter(r=>r.metadata.chain===e)},clearCursor(){Vr.next=void 0},resetTransactions(){Vr.transactions=[],Vr.transactionsByYear={},Vr.lastNetworkInView=void 0,Vr.loading=!1,Vr.empty=!1,Vr.next=void 0}},Ro=Da(k8e,"API_ERROR"),Sn=Wn({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let ym;const $8e={state:Sn,subscribe(t){return ci(Sn,()=>t(Sn))},subscribeKey(t,e){return ii(Sn,t,e)},_getClient(){return Sn._client},setClient(t){Sn._client=O1(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);pe.syncStorageConnections(e)},syncStorageConnections(t){const e=be.getConnections(),n=t??Array.from(j.state.chains.keys());for(const r of n){const i=e[r]??[],s=new Map(Sn.recentConnections);s.set(r,i),Sn.recentConnections=s}},getConnections(t){return t?Sn.connections.get(t)??[]:[]},hasAnyConnection(t){const e=pe.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect({cache:t="auto"}={}){const e=oe.isTelegram()||oe.isSafari()&&oe.isIos();if(t==="always"||t==="auto"&&e){if(ym){await ym,ym=void 0;return}if(!oe.isPairingExpired(Sn?.wcPairingExpiry)){const n=Sn.wcUri;Sn.wcUri=n;return}ym=pe._getClient()?.connectWalletConnect?.().catch(()=>{}),pe.state.status="connecting",await ym,ym=void 0,Sn.wcPairingExpiry=void 0,pe.state.status="connected"}else await pe._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){const r=await pe._getClient()?.connectExternal?.(t);n&&j.setActiveNamespace(e);const i=ae.state.allConnectors.find(o=>o.id===t?.id),s=t.type==="AUTH"?"email":"browser";return Ce.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:s,name:i?.name||"Unknown",view:Z.state.view,walletRank:i?.explorerWallet?.order}}),r},async reconnectExternal(t){await pe._getClient()?.reconnectExternal?.(t);const e=t.chain||j.state.activeChain;e&&ae.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;Ke.setLoading(!0,j.state.activeChain);const n=ae.getAuthConnector();n&&(j.setAccountProp("preferredAccountType",t,e),await n.provider.setPreferredAccount(t),be.setPreferredAccountTypes(Object.entries(j.state.chains).reduce((r,[i,s])=>{const o=i,a=En(o);return a!==void 0&&(r[o]=a),r},{})),await pe.reconnectExternal(n),Ke.setLoading(!1,j.state.activeChain),Ce.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:j.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return pe._getClient()?.signMessage(t)},parseUnits(t,e){return pe._getClient()?.parseUnits(t,e)},formatUnits(t,e){return pe._getClient()?.formatUnits(t,e)},updateBalance(t){return pe._getClient()?.updateBalance(t)},async sendTransaction(t){return pe._getClient()?.sendTransaction(t)},async getCapabilities(t){return pe._getClient()?.getCapabilities(t)},async grantPermissions(t){return pe._getClient()?.grantPermissions(t)},async walletGetAssets(t){return pe._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return pe._getClient()?.estimateGas(t)},async writeContract(t){return pe._getClient()?.writeContract(t)},async getEnsAddress(t){return pe._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return pe._getClient()?.getEnsAvatar(t)},checkInstalled(t){return pe._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){Sn.wcUri=void 0,Sn.wcPairingExpiry=void 0,Sn.wcLinking=void 0,Sn.recentWallet=void 0,Sn.status="disconnected",Ro.resetTransactions(),be.deleteWalletConnectDeepLink(),be.deleteRecentWallet()},resetUri(){Sn.wcUri=void 0,Sn.wcPairingExpiry=void 0,ym=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:n}=pe.state;e&&be.setWalletConnectDeepLink(e),n&&be.setAppKitRecent(n),t&&Ce.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:Z.state.data?.wallet?.name||"Unknown",view:Z.state.view,walletRank:n?.order}})},setWcBasic(t){Sn.wcBasic=t},setUri(t){Sn.wcUri=t,Sn.wcPairingExpiry=oe.getPairingExpiry()},setWcLinking(t){Sn.wcLinking=t},setWcError(t){Sn.wcError=t,Sn.buffering=!1},setRecentWallet(t){Sn.recentWallet=t},setBuffering(t){Sn.buffering=t},setStatus(t){Sn.status=t},setIsSwitchingConnection(t){Sn.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){try{await pe._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:n})}catch(r){throw new Cg("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:t,namespace:e}){try{await pe._getClient()?.disconnectConnector({id:t,namespace:e})}catch(n){throw new Cg("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const n=new Map(Sn.connections);n.set(e,t),Sn.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){const r=j.getAccountData(e)?.user?.accounts?.find(s=>s.type==="smartAccount"),i=r&&r.address.toLowerCase()===t.toLowerCase()&&j2.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await pe.setPreferredAccountType(i,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=ae.getConnectorById(t.connectorId),i=t.connectorId===ne.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)n&&await pe.handleAuthAccountSwitch({address:n,namespace:e});else return(await pe.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e))?.address;return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){const i=ae.getConnectorById(t.connectorId),s=t.auth?.name?.toLowerCase(),o=t.connectorId===ne.CONNECTOR_ID.AUTH,a=t.connectorId===ne.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&j2.isSocialProvider(s)){const{address:l}=await j2.connectSocial({social:s,closeModalOnConnect:r,onOpenFarcaster(){Ke.open({view:"ConnectingFarcaster"})},onConnect(){Z.replace("ProfileWallets")}});c=l}else{const{address:l}=await j2.connectEmail({closeModalOnConnect:r,onOpen(){Ke.open({view:"EmailLogin"})},onConnect(){Z.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await j2.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:r,onOpen(u){const d=u?"AllWallets":"ConnectingWalletConnect";Ke.state.open?Z.push(d):Ke.open({view:d})},onConnect(){Z.replace("ProfileWallets")}});c=l}else{const l=await pe.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);l&&(c=l.address)}return o&&n&&await pe.handleAuthAccountSwitch({address:n,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:i}){let s;const o=j.getAccountData(n)?.caipAddress;if(o){const{address:c}=Zr.parseCaipAddress(o);s=c}const a=al.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await pe.handleActiveConnection({connection:t,namespace:n,address:e});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await pe.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&i?.({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},pe=Da($8e),w$={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return TA(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}};let y$;async function cW(){if(!y$){const{createPublicClient:t,http:e,defineChain:n}=await fe(async()=>{const{createPublicClient:r,http:i,defineChain:s}=await import("./crypto-viem-CJP2v0S5.js").then(o=>o.kL);return{createPublicClient:r,http:i,defineChain:s}},__vite__mapDeps([0,1,2,3,4,5]));y$={createPublicClient:t,http:e,defineChain:n}}return y$}const $P={getBlockchainApiRpcUrl(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()},async getViemChain(t){const{defineChain:e}=await cW(),{chainId:n}=Zr.parseCaipNetworkId(t.caipNetworkId);return e({...t,id:Number(n)})},async createViemPublicClient(t){const{createPublicClient:e,http:n}=await cW(),r=X.state.projectId,i=await $P.getViemChain(t);if(!i)throw new Error(`Chain ${t.caipNetworkId} not found in viem/chains`);return e({chain:i,transport:n($P.getBlockchainApiRpcUrl(t.caipNetworkId,r))})}},L_={async getMyTokensWithBalance(t){const e=j.getAccountData()?.address,n=j.state.activeCaipNetwork,r=ae.getConnectorId("eip155")===ne.CONNECTOR_ID.AUTH;if(!e||!n)return[];const i=`${n.caipNetworkId}:${e}`,s=be.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(n.chainNamespace===ne.CHAIN.EVM&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Et.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const n=w$.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await pe.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const i=await pe.walletGetAssets({account:t,chainFilter:[n]});if(!w$.isWalletGetAssetsResponse(i))return null;const o=(i[n]||[]).map(a=>w$.createBalance(a,e.caipNetworkId));return be.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:t,assetAddress:e,caipNetwork:n}){const r=await $P.createViemPublicClient(n),{address:i}=Zr.parseCaipAddress(t),[{result:s},{result:o},{result:a},{result:c}]=await r.multicall({contracts:[{address:e,functionName:"name",args:[],abi:F3},{address:e,functionName:"symbol",args:[],abi:F3},{address:e,functionName:"balanceOf",args:[i],abi:F3},{address:e,functionName:"decimals",args:[],abi:F3}]});return{name:s,symbol:o,decimals:c,balance:a&&c?TA(a,c):"0"}}},b$={adapters:{}},lU={state:b$,initialize(t){b$.adapters={...t}},get(t){return b$.adapters[t]}},ZS={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Jo=Wn({providers:{...ZS},providerIds:{...ZS}}),Qn={state:Jo,subscribeKey(t,e){return ii(Jo,t,e)},subscribe(t){return ci(Jo,()=>{t(Jo)})},subscribeProviders(t){return ci(Jo.providers,()=>t(Jo.providers))},setProvider(t,e){t&&e&&(Jo.providers[t]=O1(e))},getProvider(t){if(t)return Jo.providers[t]},setProviderId(t,e){e&&(Jo.providerIds[t]=e)},getProviderId(t){if(t)return Jo.providerIds[t]},reset(){Jo.providers={...ZS},Jo.providerIds={...ZS}},resetChain(t){Jo.providers[t]=void 0,Jo.providerIds[t]=void 0}},Hy=Wn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),lu={state:Hy,subscribe(t){return ci(Hy,()=>t(Hy))},subscribeOpen(t){return ii(Hy,"open",t)},set(t){Object.assign(Hy,{...Hy,...t})}},zb={async getTokenList(t){return(await Et.fetchSwapTokens({chainId:t}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=j.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await pe?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Et.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const i=await Et.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&n&&r){const s=pe.parseUnits(n,r)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await L_.getMyTokensWithBalance(t);return j.setAccountProp("tokenBalance",e,j.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:sC(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]},async handleSwapError(t){try{const e=t?.cause;return e?.json&&(await e.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},bn=Wn({tokenBalances:[],loading:!1}),T8e={state:bn,subscribe(t){return ci(bn,()=>t(bn))},subscribeKey(t,e){return ii(bn,t,e)},setToken(t){t&&(bn.token=O1(t))},setTokenAmount(t){bn.sendTokenAmount=t},setReceiverAddress(t){bn.receiverAddress=t},setReceiverProfileImageUrl(t){bn.receiverProfileImageUrl=t},setReceiverProfileName(t){bn.receiverProfileName=t},setNetworkBalanceInUsd(t){bn.networkBalanceInUSD=t},setLoading(t){bn.loading=t},getSdkEventProperties(t){return{message:oe.parseError(t),isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:bn.token?.symbol||"",amount:bn.sendTokenAmount??0,network:j.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(Xe.setLoading(!0),j.state.activeCaipNetwork?.chainNamespace){case"eip155":await Xe.sendEvmToken();return;case"solana":await Xe.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(t){throw Mo.isUserRejectedRequestError(t)?new Zb(t):t}finally{Xe.setLoading(!1)}},async sendEvmToken(){const t=j.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=En(t);if(!Xe.state.sendTokenAmount||!Xe.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Xe.state.token)throw new Error("A token is required");if(Xe.state.token?.address){Ce.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token.address,amount:Xe.state.sendTokenAmount,network:j.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await Xe.sendERC20Token({receiverAddress:Xe.state.receiverAddress,tokenAddress:Xe.state.token.address,sendTokenAmount:Xe.state.sendTokenAmount,decimals:Xe.state.token.quantity.decimals});n&&(bn.hash=n)}else{Ce.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token.symbol||"",amount:Xe.state.sendTokenAmount,network:j.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await Xe.sendNativeToken({receiverAddress:Xe.state.receiverAddress,sendTokenAmount:Xe.state.sendTokenAmount,decimals:Xe.state.token.quantity.decimals});n&&(bn.hash=n)}},async fetchTokenBalance(t){bn.loading=!0;const e=j.state.activeChain,n=j.state.activeCaipNetwork?.caipNetworkId,r=j.state.activeCaipNetwork?.chainNamespace,i=j.getAccountData(e)?.caipAddress??j.state.activeCaipAddress,s=i?oe.getPlainAddress(i):void 0;if(bn.lastRetry&&!oe.isAllowedRetry(bn.lastRetry,30*yt.ONE_SEC_MS))return bn.loading=!1,[];try{if(s&&n&&r){const o=await L_.getMyTokensWithBalance();return bn.tokenBalances=o,bn.lastRetry=void 0,o}}catch(o){bn.lastRetry=Date.now(),t?.(o),Ue.showError("Token Balance Unavailable")}finally{bn.loading=!1}return[]},fetchNetworkBalance(){if(bn.tokenBalances.length===0)return;const t=zb.mapBalancesToSwapTokens(bn.tokenBalances);if(!t)return;const e=t.find(n=>n.address===sC());e&&(bn.networkBalanceInUSD=e?zt.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Z.pushTransactionStack({});const e=t.receiverAddress,n=j.getAccountData()?.address,r=pe.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s=await pe.sendTransaction({chainNamespace:ne.CHAIN.EVM,to:e,address:n,data:"0x",value:r??BigInt(0)});return Ce.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:En("eip155")===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token?.symbol||"",amount:t.sendTokenAmount,network:j.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),pe._getClient()?.updateBalance("eip155"),Xe.resetSend(),{hash:s}},async sendERC20Token(t){Z.pushTransactionStack({onSuccess(){Z.replace("Account")}});const e=pe.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),n=j.getAccountData()?.address;if(n&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=oe.getPlainAddress(t.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");const i=await pe.writeContract({fromAddress:n,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Jee.getERC20Abi(r),chainNamespace:ne.CHAIN.EVM});return Ce.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:En("eip155")===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token?.symbol||"",amount:t.sendTokenAmount,network:j.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),Xe.resetSend(),{hash:i}}return{hash:void 0}},async sendSolanaToken(){if(!Xe.state.sendTokenAmount||!Xe.state.receiverAddress)throw new Error("An amount and receiver address are required");Z.pushTransactionStack({onSuccess(){Z.replace("Account")}});let t;Xe.state.token&&Xe.state.token.address!==yt.SOLANA_NATIVE_TOKEN_ADDRESS&&(oe.isCaipAddress(Xe.state.token.address)?t=oe.getPlainAddress(Xe.state.token.address):t=Xe.state.token.address);const e=await pe.sendTransaction({chainNamespace:"solana",tokenMint:t,to:Xe.state.receiverAddress,value:Xe.state.sendTokenAmount});e&&(bn.hash=e),pe._getClient()?.updateBalance("solana"),Ce.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:Xe.state.token?.symbol||"",amount:Xe.state.sendTokenAmount,network:j.state.activeCaipNetwork?.caipNetworkId||"",hash:e||""}}),Xe.resetSend()},resetSend(){bn.token=void 0,bn.sendTokenAmount=void 0,bn.receiverAddress=void 0,bn.receiverProfileImageUrl=void 0,bn.receiverProfileName=void 0,bn.loading=!1,bn.tokenBalances=[]}},Xe=Da(T8e),v$={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},S5={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Qe=Wn({chains:MSe(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),Hte={state:Qe,subscribe(t){return ci(Qe,()=>{t(Qe)})},subscribeKey(t,e){return ii(Qe,t,e)},subscribeAccountStateProp(t,e,n){const r=n||Qe.activeChain;return r?ii(Qe.chains.get(r)?.accountState||{},t,e):()=>{}},subscribeChainProp(t,e,n){let r;return ci(Qe.chains,()=>{const i=n||Qe.activeChain;if(i){const s=Qe.chains.get(i)?.[t];r!==s&&(r=s,e(s))}})},initialize(t,e,n){const{chainId:r,namespace:i}=be.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===r?.toString()),a=t.find(u=>u?.namespace===i)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=X.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(Qe.noAdapters=!0),Qe.noAdapters||(Qe.activeChain=a?.namespace,Qe.activeCaipNetwork=s,j.setChainNetworkData(a?.namespace,{caipNetwork:s}),Qe.activeChain&&lu.set({activeChain:a?.namespace})),l.forEach(u=>{const d=e?.filter(f=>f.chainNamespace===u),h=be.getPreferredAccountTypes()||{},p={...X.state.defaultAccountTypes,...h};j.state.chains.set(u,{namespace:u,networkState:Wn({...S5,caipNetwork:d?.[0]}),accountState:Wn({...v$,preferredAccountType:p[u]}),caipNetworks:d??[],...n}),j.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){if(Qe.activeChain===t){const e=Array.from(Qe.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&j.setActiveCaipNetwork(n)}}Qe.chains.delete(t)},addAdapter(t,{connectionControllerClient:e},n){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Qe.chains.set(t.namespace,{namespace:t.namespace,networkState:{...S5,caipNetwork:n[0]},accountState:{...v$},caipNetworks:n,connectionControllerClient:e}),j.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Qe.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(r=>r.id===t.id)||n.push(t),Qe.chains.set(t.chainNamespace,{...e,caipNetworks:n}),j.setRequestedCaipNetworks(n,t.chainNamespace),ae.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=Qe.chains.get(t);if(n){const r=Qe.activeCaipNetwork?.id===e,i=[...n.caipNetworks?.filter(s=>s.id!==e)||[]];r&&n?.caipNetworks?.[0]&&j.setActiveCaipNetwork(n.caipNetworks[0]),Qe.chains.set(t,{...n,caipNetworks:i}),j.setRequestedCaipNetworks(i||[],t),i.length===0&&ae.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Qe.chains.get(t);n&&(n.networkState={...n.networkState||S5,...e},Qe.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Qe.chains.get(t);if(r){const i={...r.accountState||v$,...e};Qe.chains.set(t,{...r,accountState:i}),(Qe.chains.size===1||Qe.activeChain===t)&&e.caipAddress&&(Qe.activeCaipAddress=e.caipAddress)}},setChainNetworkData(t,e){if(!t)return;const n=Qe.chains.get(t);if(n){const r={...n.networkState||S5,...e};Qe.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){j.setChainAccountData(n,{[t]:e},r)},setActiveNamespace(t){Qe.activeChain=t;const e=t?Qe.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(Qe.activeCaipAddress=e?.accountState?.caipAddress,Qe.activeCaipNetwork=n,j.setChainNetworkData(t,{caipNetwork:n}),be.setActiveCaipNetworkId(n?.caipNetworkId),lu.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;const e=Qe.activeChain===t.chainNamespace;e||j.setIsSwitchingNamespace(!0);const n=Qe.chains.get(t.chainNamespace);Qe.activeChain=t.chainNamespace,Qe.activeCaipNetwork=t,j.setChainNetworkData(t.chainNamespace,{caipNetwork:t});let r=n?.accountState?.address;if(r)Qe.activeCaipAddress=`${t.chainNamespace}:${t.id}:${r}`;else if(e&&Qe.activeCaipAddress){const{address:s}=Zr.parseCaipAddress(Qe.activeCaipAddress);r=s,Qe.activeCaipAddress=`${t.caipNetworkId}:${r}`}else Qe.activeCaipAddress=void 0;j.setChainAccountData(t.chainNamespace,{address:r,caipAddress:Qe.activeCaipAddress}),Xe.resetSend(),lu.set({activeChain:Qe.activeChain,selectedNetworkId:Qe.activeCaipNetwork?.caipNetworkId}),be.setActiveCaipNetworkId(t.caipNetworkId),!j.checkIfSupportedNetwork(t.chainNamespace)&&X.state.enableNetworkSwitch&&!X.state.allowUnsupportedChain&&!pe.state.wcBasic&&j.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Qe.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==j.state.activeChain,n=j.getNetworkData(t)?.caipNetwork,r=j.getCaipNetworkByNamespace(t,n?.id);e&&r&&await j.switchActiveNetwork(r)},async switchActiveNetwork(t,{throwOnFailure:e=!1}={}){const n=j.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=Qn.getProviderId(Qe.activeChain)==="AUTH",i=j.getAccountData(n)?.address,s=ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t.chainNamespace);try{if(i&&t.chainNamespace===n||r&&s){const o=lU.get(t.chainNamespace);if(!o)throw new Error("Adapter not found");await o.switchNetwork({caipNetwork:t})}j.setActiveCaipNetwork(t)}catch(o){if(e)throw o}Ce.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})},getConnectionControllerClient(t){const e=t||Qe.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Qe.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){const n=Qe.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Qe.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=e?.networkState||{};return oe.sortRequestedNetworks(n,r).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return Qe.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=j.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){j.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=j.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));ae.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Qe.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=j.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){return t?Qe.chains.get(t)?.networkState?.caipNetwork:Qe.activeCaipNetwork},getActiveCaipAddress(){return Qe.activeCaipAddress},getApprovedCaipNetworkIds(t){return Qe.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(t,e){j.setAdapterNetworkState(t,e)},checkIfSupportedNetwork(t,e){const n=e||Qe.activeCaipNetwork?.caipNetworkId,r=j.getRequestedCaipNetworks(t);return r.length?r?.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(t){return Qe.activeChain?j.getRequestedCaipNetworks(Qe.activeChain)?.some(n=>n.id===t):!0},checkIfSmartAccountEnabled(){const t=P1.caipNetworkIdToNumber(Qe.activeCaipNetwork?.caipNetworkId);return!Qe.activeChain||!t?!1:!!(hi.get(ht.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(t.toString())},showUnsupportedChainUI(){Ke.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Qe.activeCaipNetwork;return!!(t?.chainNamespace&&yt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){j.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=j.state.chains.get(e)?.accountState?.preferredAccountType,r=X.state.defaultAccountTypes[e];Qe.activeCaipAddress=void 0,j.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),ae.removeConnectorId(e)},setIsSwitchingNamespace(t){Qe.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Qe.chains.forEach(n=>{ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?Qe.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Qe.activeChain;if(e)return j.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Qe.activeChain;if(e)return j.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=j.state.chains.get(t),r=n?.caipNetworks?.find(i=>i.id.toString()===e?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=ae.state.filterByNamespace;return(t?[Qe.chains.get(t)]:Array.from(Qe.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?j.getRequestedCaipNetworks(t):j.getAllRequestedCaipNetworks()},getCaipNetworkById(t,e){return Hte.getCaipNetworks(e).find(n=>n.id.toString()===t.toString()||n.caipNetworkId.toString()===t.toString())},setLastConnectedSIWECaipNetwork(t){Qe.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Qe.lastConnectedSIWECaipNetwork},async fetchTokenBalance(t){const e=j.getAccountData();if(!e)return[];const n=j.state.activeCaipNetwork?.caipNetworkId,r=j.state.activeCaipNetwork?.chainNamespace,i=j.state.activeCaipAddress,s=i?oe.getPlainAddress(i):void 0;if(j.setAccountProp("balanceLoading",!0,r),e.lastRetry&&!oe.isAllowedRetry(e.lastRetry,30*yt.ONE_SEC_MS))return j.setAccountProp("balanceLoading",!1,r),[];try{if(s&&n&&r){const o=await L_.getMyTokensWithBalance();return j.setAccountProp("tokenBalance",o,r),j.setAccountProp("lastRetry",void 0,r),j.setAccountProp("balanceLoading",!1,r),o}}catch(o){j.setAccountProp("lastRetry",Date.now(),r),t?.(o),Ue.showError("Token Balance Unavailable")}finally{j.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(t){const e=t.chainNamespace,n=!!j.getAccountData(e)?.caipAddress,r=j.getAllApprovedCaipNetworkIds(),i=j.getNetworkProp("supportsAllNetworks",e)!==!1,s=ae.getConnectorId(e),o=ae.getAuthConnector(),a=s===ne.CONNECTOR_ID.AUTH&&o;return!n||i||a?!1:!r?.includes(t.caipNetworkId)}},j=Da(Hte),Vte={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=j.state.activeCaipNetwork,r=j.state.activeChain,i=Z.state.data;if(t.id===n?.id)return;const o=!!j.getAccountData(r)?.address,a=!!j.getAccountData(t.chainNamespace)?.address,c=t.chainNamespace!==r,u=ae.getConnectorId(r)===ne.CONNECTOR_ID.AUTH,d=ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(h=>h===t.chainNamespace);e||u&&d?Z.push("SwitchNetwork",{...i,network:t}):o&&c&&!a?Z.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Z.push("SwitchNetwork",{...i,network:t})}},Xo=Wn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),N8e={state:Xo,subscribe(t){return ci(Xo,()=>t(Xo))},subscribeKey(t,e){return ii(Xo,t,e)},async open(t){const e=t?.namespace,n=j.state.activeChain,r=e&&e!==n,i=j.getAccountData(t?.namespace)?.caipAddress,s=j.state.noAdapters;if(pe.state.wcBasic?Te.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await Te.prefetch(),ae.setFilterByNamespace(t?.namespace),Ke.setLoading(!0,e),e&&r){const o=j.getNetworkData(e)?.caipNetwork||j.getRequestedCaipNetworks(e)[0];o&&(s?(await j.switchActiveNetwork(o),Z.push("ConnectingWalletConnectBasic")):Vte.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else X.state.manualWCControl||s&&!i?oe.isMobile()?Z.reset("AllWallets"):Z.reset("ConnectingWalletConnectBasic"):t?.view?Z.reset(t.view,t.data):i?Z.reset("Account"):Z.reset("Connect");Xo.open=!0,lu.set({open:!0}),Ce.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=X.state.enableEmbedded,e=!!j.state.activeCaipAddress;Xo.open&&Ce.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Xo.open=!1,Z.reset("Connect"),Ke.clearLoading(),t?e?Z.replace("Account"):Z.push("Connect"):lu.set({open:!1}),pe.resetUri()},setLoading(t,e){e&&Xo.loadingNamespaceMap.set(e,t),Xo.loading=t,lu.set({loading:t})},clearLoading(){Xo.loadingNamespaceMap.clear(),Xo.loading=!1,lu.set({loading:!1})},shake(){Xo.shake||(Xo.shake=!0,setTimeout(()=>{Xo.shake=!1},500))}},Ke=Da(N8e),uE={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},TP={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},O8e={providers:Qee,selectedProvider:null,error:null,purchaseCurrency:uE,paymentCurrency:TP,purchaseCurrencies:[uE],paymentCurrencies:[],quotesLoading:!1},_n=Wn(O8e),P8e={state:_n,subscribe(t){return ci(_n,()=>t(_n))},subscribeKey(t,e){return ii(_n,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=j.state.activeChain,n=e===ne.CHAIN.SOLANA?"SOL":"USDC",r=e?j.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",QSe),i.searchParams.append("destinationCurrencyCode",n),i.searchParams.append("walletAddress",r),i.searchParams.append("externalCustomerId",X.state.projectId),_n.selectedProvider={...t,url:i.toString()}}else _n.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=Qee.filter(r=>e.includes(r.name));_n.providers=n}else _n.providers=[]},setPurchaseCurrency(t){_n.purchaseCurrency=t},setPaymentCurrency(t){_n.paymentCurrency=t},setPurchaseAmount(t){Zn.state.purchaseAmount=t},setPaymentAmount(t){Zn.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Et.getOnrampOptions();_n.purchaseCurrencies=t.purchaseCurrencies,_n.paymentCurrencies=t.paymentCurrencies,_n.paymentCurrency=t.paymentCurrencies[0]||TP,_n.purchaseCurrency=t.purchaseCurrencies[0]||uE,await Te.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Te.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){_n.quotesLoading=!0;try{const t=await Et.getOnrampQuote({purchaseCurrency:_n.purchaseCurrency,paymentCurrency:_n.paymentCurrency,amount:_n.paymentAmount?.toString()||"0",network:_n.purchaseCurrency?.symbol});return _n.quotesLoading=!1,_n.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return _n.error=t.message,_n.quotesLoading=!1,null}finally{_n.quotesLoading=!1}},resetState(){_n.selectedProvider=null,_n.error=null,_n.purchaseCurrency=uE,_n.paymentCurrency=TP,_n.purchaseCurrencies=[uE],_n.paymentCurrencies=[],_n.paymentAmount=void 0,_n.purchaseAmount=void 0,_n.quotesLoading=!1}},Zn=Da(P8e);var x5={exports:{}},lW;function Kte(){if(lW)return x5.exports;lW=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,I,k){return Function.prototype.apply.call(C,I,k)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(w){console&&console.warn&&console.warn(w)}var i=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}x5.exports=s,x5.exports.once=b,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");o=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function c(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(C){for(var I=[],k=1;k<arguments.length;k++)I.push(arguments[k]);var P=C==="error",S=this._events;if(S!==void 0)P=P&&S.error===void 0;else if(!P)return!1;if(P){var N;if(I.length>0&&(N=I[0]),N instanceof Error)throw N;var R=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw R.context=N,R}var D=S[C];if(D===void 0)return!1;if(typeof D=="function")e(D,this,I);else for(var O=D.length,T=f(D,O),k=0;k<O;++k)e(T[k],this,I);return!0};function l(w,C,I,k){var P,S,N;if(a(I),S=w._events,S===void 0?(S=w._events=Object.create(null),w._eventsCount=0):(S.newListener!==void 0&&(w.emit("newListener",C,I.listener?I.listener:I),S=w._events),N=S[C]),N===void 0)N=S[C]=I,++w._eventsCount;else if(typeof N=="function"?N=S[C]=k?[I,N]:[N,I]:k?N.unshift(I):N.push(I),P=c(w),P>0&&N.length>P&&!N.warned){N.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");R.name="MaxListenersExceededWarning",R.emitter=w,R.type=C,R.count=N.length,r(R)}return w}s.prototype.addListener=function(C,I){return l(this,C,I,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,I){return l(this,C,I,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(w,C,I){var k={fired:!1,wrapFn:void 0,target:w,type:C,listener:I},P=u.bind(k);return P.listener=I,k.wrapFn=P,P}s.prototype.once=function(C,I){return a(I),this.on(C,d(this,C,I)),this},s.prototype.prependOnceListener=function(C,I){return a(I),this.prependListener(C,d(this,C,I)),this},s.prototype.removeListener=function(C,I){var k,P,S,N,R;if(a(I),P=this._events,P===void 0)return this;if(k=P[C],k===void 0)return this;if(k===I||k.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete P[C],P.removeListener&&this.emit("removeListener",C,k.listener||I));else if(typeof k!="function"){for(S=-1,N=k.length-1;N>=0;N--)if(k[N]===I||k[N].listener===I){R=k[N].listener,S=N;break}if(S<0)return this;S===0?k.shift():g(k,S),k.length===1&&(P[C]=k[0]),P.removeListener!==void 0&&this.emit("removeListener",C,R||I)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var I,k,P;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[C]),this;if(arguments.length===0){var S=Object.keys(k),N;for(P=0;P<S.length;++P)N=S[P],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=k[C],typeof I=="function")this.removeListener(C,I);else if(I!==void 0)for(P=I.length-1;P>=0;P--)this.removeListener(C,I[P]);return this};function h(w,C,I){var k=w._events;if(k===void 0)return[];var P=k[C];return P===void 0?[]:typeof P=="function"?I?[P.listener||P]:[P]:I?m(P):f(P,P.length)}s.prototype.listeners=function(C){return h(this,C,!0)},s.prototype.rawListeners=function(C){return h(this,C,!1)},s.listenerCount=function(w,C){return typeof w.listenerCount=="function"?w.listenerCount(C):p.call(w,C)},s.prototype.listenerCount=p;function p(w){var C=this._events;if(C!==void 0){var I=C[w];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function f(w,C){for(var I=new Array(C),k=0;k<C;++k)I[k]=w[k];return I}function g(w,C){for(;C+1<w.length;C++)w[C]=w[C+1];w.pop()}function m(w){for(var C=new Array(w.length),I=0;I<C.length;++I)C[I]=w[I].listener||w[I];return C}function b(w,C){return new Promise(function(I,k){function P(N){w.removeListener(C,S),k(N)}function S(){typeof w.removeListener=="function"&&w.removeListener("error",P),I([].slice.call(arguments))}v(w,C,S,{once:!0}),C!=="error"&&y(w,P,{once:!0})})}function y(w,C,I){typeof w.on=="function"&&v(w,"error",C,I)}function v(w,C,I,k){if(typeof w.on=="function")k.once?w.once(C,I):w.on(C,I);else if(typeof w.addEventListener=="function")w.addEventListener(C,function P(S){k.once&&w.removeEventListener(C,P),I(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return x5.exports}var Ir=Kte();const jp=ny(Ir);var E$={};var NP=function(t,e){return NP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},NP(t,e)};function R8e(t,e){NP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var OP=function(){return OP=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},OP.apply(this,arguments)};function D8e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function U8e(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function M8e(t,e){return function(n,r){e(n,r,t)}}function L8e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function j8e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function B8e(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function z8e(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function W8e(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function PP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zte(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function q8e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zte(arguments[e]));return t}function F8e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function oC(t){return this instanceof oC?(this.v=t,this):new oC(t)}function H8e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(f,g){s.push([h,p,f,g])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(f){d(s[0][3],f)}}function c(h){h.value instanceof oC?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function V8e(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:oC(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function K8e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PP=="function"?PP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Z8e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function G8e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Y8e(t){return t&&t.__esModule?t:{default:t}}function J8e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function X8e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Q8e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return OP},__asyncDelegator:V8e,__asyncGenerator:H8e,__asyncValues:K8e,__await:oC,__awaiter:j8e,__classPrivateFieldGet:J8e,__classPrivateFieldSet:X8e,__createBinding:z8e,__decorate:U8e,__exportStar:W8e,__extends:R8e,__generator:B8e,__importDefault:Y8e,__importStar:G8e,__makeTemplateObject:Z8e,__metadata:L8e,__param:M8e,__read:Zte,__rest:D8e,__spread:q8e,__spreadArrays:F8e,__values:PP},Symbol.toStringTag,{value:"Module"})),ZA=qee(Q8e);var C$={},B2={},uW;function e$e(){if(uW)return B2;uW=1,Object.defineProperty(B2,"__esModule",{value:!0}),B2.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return B2.delay=t,B2}var bm={},_$={},vm={},dW;function t$e(){return dW||(dW=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.ONE_THOUSAND=vm.ONE_HUNDRED=void 0,vm.ONE_HUNDRED=100,vm.ONE_THOUSAND=1e3),vm}var I$={},hW;function n$e(){return hW||(hW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(I$)),I$}var pW;function Gte(){return pW||(pW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ZA;e.__exportStar(t$e(),t),e.__exportStar(n$e(),t)})(_$)),_$}var fW;function r$e(){if(fW)return bm;fW=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.fromMiliseconds=bm.toMiliseconds=void 0;const t=Gte();function e(r){return r*t.ONE_THOUSAND}bm.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return bm.fromMiliseconds=n,bm}var gW;function i$e(){return gW||(gW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ZA;e.__exportStar(e$e(),t),e.__exportStar(r$e(),t)})(C$)),C$}var Vy={},mW;function s$e(){if(mW)return Vy;mW=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Vy.Watch=t,Vy.default=t,Vy}var S$={},z2={},wW;function o$e(){if(wW)return z2;wW=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.IWatch=void 0;class t{}return z2.IWatch=t,z2}var yW;function a$e(){return yW||(yW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),ZA.__exportStar(o$e(),t)})(S$)),S$}var bW;function c$e(){return bW||(bW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ZA;e.__exportStar(i$e(),t),e.__exportStar(s$e(),t),e.__exportStar(a$e(),t),e.__exportStar(Gte(),t)})(E$)),E$}var Y=c$e();class Yi{}let l$e=class extends Yi{constructor(e){super()}};const vW=Y.FIVE_SECONDS,Ji={pulse:"heartbeat_pulse"};let uU=class Yte extends l$e{constructor(e){super(e),this.events=new Ir.EventEmitter,this.interval=vW,this.interval=e?.interval||vW}static async init(e){const n=new Yte(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Y.toMiliseconds(this.interval))}pulse(){this.events.emit(Ji.pulse)}};function u$e(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function as(t,...e){try{return u$e(t(...e))}catch(n){return Promise.reject(n)}}function d$e(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function h$e(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function nS(t){if(d$e(t))return String(t);if(h$e(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return nS(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const RP="base64:";function p$e(t){return typeof t=="string"?t:RP+m$e(t)}function f$e(t){return typeof t!="string"||!t.startsWith(RP)?t:g$e(t.slice(RP.length))}function g$e(t){return globalThis.Buffer?window.Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function m$e(t){return globalThis.Buffer?window.Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function aa(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function w$e(...t){return aa(t.join(":"))}function A5(t){return t=aa(t),t?t+":":""}function y$e(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function b$e(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const v$e="memory",E$e=()=>{const t=new Map;return{name:v$e,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function C$e(t={}){const e={mounts:{"":t.driver||E$e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=aa(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await EW(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,p=f=>{let g=h.get(f.base);return g||(g={driver:f.driver,base:f.base,items:[]},h.set(f.base,g)),g};for(const f of l){const g=typeof f=="string",m=aa(g?f:f.key),b=g?void 0:f.value,y=g||!f.options?u:{...u,...f.options},v=n(m);p(v).items.push({key:m,value:b,relativeKey:v.relativeKey,options:y})}return Promise.all([...h.values()].map(f=>d(f))).then(f=>f.flat())},c={hasItem(l,u={}){l=aa(l);const{relativeKey:d,driver:h}=n(l);return as(h.hasItem,d,u)},getItem(l,u={}){l=aa(l);const{relativeKey:d,driver:h}=n(l);return as(h.getItem,d,u).then(p=>w5(p))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?as(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(p=>({key:w$e(d.base,p.key),value:w5(p.value)}))):Promise.all(d.items.map(h=>as(d.driver.getItem,h.relativeKey,h.options).then(p=>({key:h.key,value:w5(p)})))))},getItemRaw(l,u={}){l=aa(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?as(h.getItemRaw,d,u):as(h.getItem,d,u).then(p=>f$e(p))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=aa(l);const{relativeKey:h,driver:p}=n(l);p.setItem&&(await as(p.setItem,h,nS(u),d),p.watch||i("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return as(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:nS(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>as(d.driver.setItem,h.relativeKey,nS(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=aa(l);const{relativeKey:h,driver:p}=n(l);if(p.setItemRaw)await as(p.setItemRaw,h,u,d);else if(p.setItem)await as(p.setItem,h,p$e(u),d);else return;p.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=aa(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await as(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await as(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=aa(l);const{relativeKey:d,driver:h}=n(l),p=Object.create(null);if(h.getMeta&&Object.assign(p,await as(h.getMeta,d,u)),!u.nativeOnly){const f=await as(h.getItem,d+"$",u).then(g=>w5(g));f&&typeof f=="object"&&(typeof f.atime=="string"&&(f.atime=new Date(f.atime)),typeof f.mtime=="string"&&(f.mtime=new Date(f.mtime)),Object.assign(p,f))}return p},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=A5(l);const d=r(l,!0);let h=[];const p=[];let f=!0;for(const m of d){m.driver.flags?.maxDepth||(f=!1);const b=await as(m.driver.getKeys,m.relativeBase,u);for(const y of b){const v=m.mountpoint+aa(y);h.some(w=>v.startsWith(w))||p.push(v)}h=[m.mountpoint,...h.filter(y=>!y.startsWith(m.mountpoint))]}const g=u.maxDepth!==void 0&&!f;return p.filter(m=>(!g||y$e(m,u.maxDepth))&&b$e(m,l))},async clear(l,u={}){l=A5(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return as(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(p=>d.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>CW(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=A5(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(EW(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=A5(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await CW(e.mounts[l]),e.mountpoints=e.mountpoints.filter(d=>d!==l),delete e.mounts[l])},getMount(l=""){l=aa(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=aa(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function EW(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function CW(t){typeof t.dispose=="function"&&await as(t.dispose)}function oy(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function j_(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=oy(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let x$;function B_(){return x$||(x$=j_("keyval-store","keyval")),x$}function aC(t,e=B_()){return e("readonly",n=>oy(n.get(t)))}function GA(t,e,n=B_()){return n("readwrite",r=>(r.put(e,t),oy(r.transaction)))}function YA(t,e=B_()){return e("readwrite",n=>(n.delete(t),oy(n.transaction)))}function _$e(t=B_()){return t("readwrite",e=>(e.clear(),oy(e.transaction)))}function I$e(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},oy(t.transaction)}function S$e(t=B_()){return t("readonly",e=>{if(e.getAllKeys)return oy(e.getAllKeys());const n=[];return I$e(e,r=>n.push(r.key)).then(()=>n)})}const x$e="idb-keyval";var A$e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=j_(t.dbName,t.storeName)),{name:x$e,options:t,async hasItem(i){return!(typeof await aC(n(i),r)>"u")},async getItem(i){return await aC(n(i),r)??null},setItem(i,s){return GA(n(i),s,r)},removeItem(i){return YA(n(i),r)},getKeys(){return S$e(r)},clear(){return _$e(r)}}};const k$e="WALLET_CONNECT_V2_INDEXED_DB",$$e="keyvaluestorage";let T$e=class{constructor(){this.indexedDb=C$e({driver:A$e({dbName:k$e,storeName:$$e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,fc(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var A$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},rS={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof A$<"u"&&A$.localStorage?rS.exports=A$.localStorage:typeof window<"u"&&window.localStorage?rS.exports=window.localStorage:rS.exports=new e})();function N$e(t){var e;return[t[0],Cu((e=t[1])!=null?e:"")]}let O$e=class{constructor(){this.localStorage=rS.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(N$e)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Cu(n)}async setItem(e,n){this.localStorage.setItem(e,fc(n))}async removeItem(e){this.localStorage.removeItem(e)}};const P$e="wc_storage_version",_W=1,R$e=async(t,e,n)=>{const r=P$e,i=await e.getItem(r);if(i&&i>=_W){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,_W),n(e),D$e(t,o)},D$e=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let dU=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new O$e;this.storage=e;try{const n=new T$e;R$e(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var U$e=Object.defineProperty,M$e=(t,e,n)=>e in t?U$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IW=(t,e,n)=>M$e(t,typeof e!="symbol"?e+"":e,n);let L$e=class extends Yi{constructor(e){super(),this.opts=e,IW(this,"protocol","wc"),IW(this,"version",2)}};var j$e=Object.defineProperty,B$e=(t,e,n)=>e in t?j$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z$e=(t,e,n)=>B$e(t,e+"",n);let W$e=class extends Yi{constructor(e,n){super(),this.core=e,this.logger=n,z$e(this,"records",new Map)}},q$e=class{constructor(e,n){this.logger=e,this.core=n}},F$e=class extends Yi{constructor(e,n){super(),this.relayer=e,this.logger=n}},H$e=class extends Yi{constructor(e){super()}},V$e=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},K$e=class extends Yi{constructor(e,n){super(),this.relayer=e,this.logger=n}},Z$e=class extends Yi{constructor(e,n){super(),this.core=e,this.logger=n}},G$e=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},Y$e=class{constructor(e,n){this.projectId=e,this.logger=n}},J$e=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var X$e=Object.defineProperty,Q$e=(t,e,n)=>e in t?X$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SW=(t,e,n)=>Q$e(t,typeof e!="symbol"?e+"":e,n);let eTe=class{constructor(e){this.opts=e,SW(this,"protocol","wc"),SW(this,"version",2)}},tTe=class{constructor(e){this.client=e}};function nTe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Jte(t,...e){if(!nTe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function xW(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rTe(t,e){Jte(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ky=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const k$=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function iTe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Xte(t){return typeof t=="string"&&(t=iTe(t)),Jte(t),t}let sTe=class{clone(){return this._cloneInto()}};function oTe(t){const e=r=>t().update(Xte(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Qte(t=32){if(Ky&&typeof Ky.getRandomValues=="function")return Ky.getRandomValues(new Uint8Array(t));if(Ky&&typeof Ky.randomBytes=="function")return Ky.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function aTe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let cTe=class extends sTe{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=k$(this.buffer)}update(e){xW(this);const{view:n,buffer:r,blockLen:i}=this;e=Xte(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=k$(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xW(this),rTe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;aTe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=k$(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const k5=BigInt(2**32-1),DP=BigInt(32);function ene(t,e=!1){return e?{h:Number(t&k5),l:Number(t>>DP&k5)}:{h:Number(t>>DP&k5)|0,l:Number(t&k5)|0}}function lTe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=ene(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const uTe=(t,e)=>BigInt(t>>>0)<<DP|BigInt(e>>>0),dTe=(t,e,n)=>t>>>n,hTe=(t,e,n)=>t<<32-n|e>>>n,pTe=(t,e,n)=>t>>>n|e<<32-n,fTe=(t,e,n)=>t<<32-n|e>>>n,gTe=(t,e,n)=>t<<64-n|e>>>n-32,mTe=(t,e,n)=>t>>>n-32|e<<64-n,wTe=(t,e)=>e,yTe=(t,e)=>t,bTe=(t,e,n)=>t<<n|e>>>32-n,vTe=(t,e,n)=>e<<n|t>>>32-n,ETe=(t,e,n)=>e<<n-32|t>>>64-n,CTe=(t,e,n)=>t<<n-32|e>>>64-n;function _Te(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const ITe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),STe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,xTe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ATe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,kTe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),$Te=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Xt={fromBig:ene,split:lTe,toBig:uTe,shrSH:dTe,shrSL:hTe,rotrSH:pTe,rotrSL:fTe,rotrBH:gTe,rotrBL:mTe,rotr32H:wTe,rotr32L:yTe,rotlSH:bTe,rotlSL:vTe,rotlBH:ETe,rotlBL:CTe,add:_Te,add3L:ITe,add3H:STe,add4L:xTe,add4H:ATe,add5H:$Te,add5L:kTe},[TTe,NTe]=Xt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),sf=new Uint32Array(80),of=new Uint32Array(80);let OTe=class extends cTe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:p,Gl:f,Hh:g,Hl:m}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,p,f,g,m]}set(e,n,r,i,s,o,a,c,l,u,d,h,p,f,g,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=p|0,this.Gl=f|0,this.Hh=g|0,this.Hl=m|0}process(e,n){for(let v=0;v<16;v++,n+=4)sf[v]=e.getUint32(n),of[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const w=sf[v-15]|0,C=of[v-15]|0,I=Xt.rotrSH(w,C,1)^Xt.rotrSH(w,C,8)^Xt.shrSH(w,C,7),k=Xt.rotrSL(w,C,1)^Xt.rotrSL(w,C,8)^Xt.shrSL(w,C,7),P=sf[v-2]|0,S=of[v-2]|0,N=Xt.rotrSH(P,S,19)^Xt.rotrBH(P,S,61)^Xt.shrSH(P,S,6),R=Xt.rotrSL(P,S,19)^Xt.rotrBL(P,S,61)^Xt.shrSL(P,S,6),D=Xt.add4L(k,R,of[v-7],of[v-16]),O=Xt.add4H(D,I,N,sf[v-7],sf[v-16]);sf[v]=O|0,of[v]=D|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:p,Fl:f,Gh:g,Gl:m,Hh:b,Hl:y}=this;for(let v=0;v<80;v++){const w=Xt.rotrSH(d,h,14)^Xt.rotrSH(d,h,18)^Xt.rotrBH(d,h,41),C=Xt.rotrSL(d,h,14)^Xt.rotrSL(d,h,18)^Xt.rotrBL(d,h,41),I=d&p^~d&g,k=h&f^~h&m,P=Xt.add5L(y,C,k,NTe[v],of[v]),S=Xt.add5H(P,b,w,I,TTe[v],sf[v]),N=P|0,R=Xt.rotrSH(r,i,28)^Xt.rotrBH(r,i,34)^Xt.rotrBH(r,i,39),D=Xt.rotrSL(r,i,28)^Xt.rotrBL(r,i,34)^Xt.rotrBL(r,i,39),O=r&s^r&a^s&a,T=i&o^i&c^o&c;b=g|0,y=m|0,g=p|0,m=f|0,p=d|0,f=h|0,{h:d,l:h}=Xt.add(l|0,u|0,S|0,N|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const E=Xt.add3L(N,D,T);r=Xt.add3H(E,S,R,O),i=E|0}({h:r,l:i}=Xt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Xt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Xt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Xt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Xt.add(this.Eh|0,this.El|0,d|0,h|0),{h:p,l:f}=Xt.add(this.Fh|0,this.Fl|0,p|0,f|0),{h:g,l:m}=Xt.add(this.Gh|0,this.Gl|0,g|0,m|0),{h:b,l:y}=Xt.add(this.Hh|0,this.Hl|0,b|0,y|0),this.set(r,i,s,o,a,c,l,u,d,h,p,f,g,m,b,y)}roundClean(){sf.fill(0),of.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const PTe=oTe(()=>new OTe);const hU=BigInt(0),tne=BigInt(1),RTe=BigInt(2);function pU(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fU(t){if(!pU(t))throw new Error("Uint8Array expected")}function $$(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const DTe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gU(t){fU(t);let e="";for(let n=0;n<t.length;n++)e+=DTe[t[n]];return e}function nne(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?hU:BigInt("0x"+t)}const ih={_0:48,_9:57,A:65,F:70,a:97,f:102};function AW(t){if(t>=ih._0&&t<=ih._9)return t-ih._0;if(t>=ih.A&&t<=ih.F)return t-(ih.A-10);if(t>=ih.a&&t<=ih.f)return t-(ih.a-10)}function rne(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=AW(t.charCodeAt(s)),a=AW(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function UTe(t){return nne(gU(t))}function iS(t){return fU(t),nne(gU(Uint8Array.from(t).reverse()))}function ine(t,e){return rne(t.toString(16).padStart(e*2,"0"))}function UP(t,e){return ine(t,e).reverse()}function sh(t,e,n){let r;if(typeof e=="string")try{r=rne(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(pU(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function kW(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];fU(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const T$=t=>typeof t=="bigint"&&hU<=t;function MTe(t,e,n){return T$(t)&&T$(e)&&T$(n)&&e<=t&&t<n}function W2(t,e,n,r){if(!MTe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function LTe(t){let e;for(e=0;t>hU;t>>=tne,e+=1);return e}const jTe=t=>(RTe<<BigInt(t-1))-tne,BTe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||pU(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function mU(t,e,n={}){const r=(i,s,o)=>{const a=BTe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function $W(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Es=BigInt(0),gi=BigInt(1),Jm=BigInt(2),zTe=BigInt(3),MP=BigInt(4),TW=BigInt(5),NW=BigInt(8);function Zi(t,e){const n=t%e;return n>=Es?n:e+n}function WTe(t,e,n){if(e<Es)throw new Error("invalid exponent, negatives unsupported");if(n<=Es)throw new Error("invalid modulus");if(n===gi)return Es;let r=gi;for(;e>Es;)e&gi&&(r=r*t%n),t=t*t%n,e>>=gi;return r}function Wu(t,e,n){let r=t;for(;e-- >Es;)r*=r,r%=n;return r}function OW(t,e){if(t===Es)throw new Error("invert: expected non-zero number");if(e<=Es)throw new Error("invert: expected positive modulus, got "+e);let n=Zi(t,e),r=e,i=Es,s=gi;for(;n!==Es;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==gi)throw new Error("invert: does not exist");return Zi(i,e)}function qTe(t){const e=(t-gi)/Jm;let n,r,i;for(n=t-gi,r=0;n%Jm===Es;n/=Jm,r++);for(i=Jm;i<t&&WTe(i,e,t)!==t-gi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+gi)/MP;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+gi)/Jm;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let f=o.sqr(d);h<c&&!o.eql(f,o.ONE);h++)f=o.sqr(f);const p=o.pow(l,gi<<BigInt(c-h-1));l=o.sqr(p),u=o.mul(u,p),d=o.mul(d,l),c=h}return u}}function FTe(t){if(t%MP===zTe){const e=(t+gi)/MP;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%NW===TW){const e=(t-TW)/NW;return function(n,r){const i=n.mul(r,Jm),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Jm),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return qTe(t)}const HTe=(t,e)=>(Zi(t,e)&gi)===gi,VTe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function KTe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=VTe.reduce((r,i)=>(r[i]="function",r),e);return mU(t,n)}function ZTe(t,e,n){if(n<Es)throw new Error("invalid exponent, negatives unsupported");if(n===Es)return t.ONE;if(n===gi)return e;let r=t.ONE,i=e;for(;n>Es;)n&gi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=gi;return r}function GTe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function sne(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function one(t,e,n=!1,r={}){if(t<=Es)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=sne(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:jTe(i),ZERO:Es,ONE:gi,create:c=>Zi(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Es<=c&&c<t},is0:c=>c===Es,isOdd:c=>(c&gi)===gi,neg:c=>Zi(-c,t),eql:(c,l)=>c===l,sqr:c=>Zi(c*c,t),add:(c,l)=>Zi(c+l,t),sub:(c,l)=>Zi(c-l,t),mul:(c,l)=>Zi(c*l,t),pow:(c,l)=>ZTe(a,c,l),div:(c,l)=>Zi(c*OW(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>OW(c,t),sqrt:r.sqrt||(c=>(o||(o=FTe(t)),o(a,c))),invertBatch:c=>GTe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?UP(c,s):ine(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?iS(c):UTe(c)}});return Object.freeze(a)}const PW=BigInt(0),$5=BigInt(1);function N$(t,e){const n=e.negate();return t?n:e}function ane(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function O$(t,e){ane(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function YTe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function JTe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const P$=new WeakMap,cne=new WeakMap;function R$(t){return cne.get(t)||1}function XTe(t,e){return{constTimeNegate:N$,hasPrecomputes(n){return R$(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>PW;)r&$5&&(i=i.add(s)),s=s.double(),r>>=$5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=O$(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=O$(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const p=h*o;let f=Number(i&l);i>>=d,f>o&&(f-=u,i+=$5);const g=p,m=p+Math.abs(f)-1,b=h%2!==0,y=f<0;f===0?c=c.add(N$(b,r[g])):a=a.add(N$(y,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=O$(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===PW)break;let p=Number(i&c);if(i>>=u,p>a&&(p-=l,i+=$5),p===0)continue;let f=r[h+Math.abs(p)-1];p<0&&(f=f.negate()),s=s.add(f)}return s},getPrecomputes(n,r,i){let s=P$.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&P$.set(r,i(s))),s},wNAFCached(n,r,i){const s=R$(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=R$(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){ane(r,e),cne.set(n,r),P$.delete(n)}}}function QTe(t,e,n,r){if(YTe(n,t),JTe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=LTe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let p=0;p<r.length;p++){const f=r[p],g=Number(f>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[p])}let h=i;for(let p=c.length-1,f=i;p>0;p--)f=f.add(c[p]),h=h.add(f);if(u=u.add(h),d!==0)for(let p=0;p<o;p++)u=u.double()}return u}function eNe(t){return KTe(t.Fp),mU(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sne(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ul=BigInt(0),Qo=BigInt(1),T5=BigInt(2),tNe=BigInt(8),nNe={zip215:!0};function rNe(t){const e=eNe(t);return mU(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function iNe(t){const e=rNe(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=T5<<BigInt(a*8)-Qo,u=n.create,d=one(e.n,e.nBitLength),h=e.uvRatio||((E,_)=>{try{return{isValid:!0,value:n.sqrt(E*n.inv(_))}}catch{return{isValid:!1,value:Ul}}}),p=e.adjustScalarBytes||(E=>E),f=e.domain||((E,_,x)=>{if($$("phflag",x),_.length||x)throw new Error("Contexts/pre-hash are not supported");return E});function g(E,_){W2("coordinate "+E,_,Ul,l)}function m(E){if(!(E instanceof v))throw new Error("ExtendedPoint expected")}const b=$W((E,_)=>{const{ex:x,ey:M,ez:A}=E,U=E.is0();_==null&&(_=U?tNe:n.inv(A));const B=u(x*_),z=u(M*_),H=u(A*_);if(U)return{x:Ul,y:Qo};if(H!==Qo)throw new Error("invZ was invalid");return{x:B,y:z}}),y=$W(E=>{const{a:_,d:x}=e;if(E.is0())throw new Error("bad point: ZERO");const{ex:M,ey:A,ez:U,et:B}=E,z=u(M*M),H=u(A*A),q=u(U*U),F=u(q*q),K=u(z*_),ee=u(q*u(K+H)),se=u(F+u(x*u(z*H)));if(ee!==se)throw new Error("bad point: equation left != right (1)");const te=u(M*A),ue=u(U*B);if(te!==ue)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(_,x,M,A){this.ex=_,this.ey=x,this.ez=M,this.et=A,g("x",_),g("y",x),g("z",M),g("t",A),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof v)throw new Error("extended point not allowed");const{x,y:M}=_||{};return g("x",x),g("y",M),new v(x,M,Qo,u(x*M))}static normalizeZ(_){const x=n.invertBatch(_.map(M=>M.ez));return _.map((M,A)=>M.toAffine(x[A])).map(v.fromAffine)}static msm(_,x){return QTe(v,d,_,x)}_setWindowSize(_){I.setWindowSize(this,_)}assertValidity(){y(this)}equals(_){m(_);const{ex:x,ey:M,ez:A}=this,{ex:U,ey:B,ez:z}=_,H=u(x*z),q=u(U*A),F=u(M*z),K=u(B*A);return H===q&&F===K}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:_}=e,{ex:x,ey:M,ez:A}=this,U=u(x*x),B=u(M*M),z=u(T5*u(A*A)),H=u(_*U),q=x+M,F=u(u(q*q)-U-B),K=H+B,ee=K-z,se=H-B,te=u(F*ee),ue=u(K*se),ge=u(F*se),$e=u(ee*K);return new v(te,ue,$e,ge)}add(_){m(_);const{a:x,d:M}=e,{ex:A,ey:U,ez:B,et:z}=this,{ex:H,ey:q,ez:F,et:K}=_;if(x===BigInt(-1)){const Cn=u((U-A)*(q+H)),xi=u((U+A)*(q-H)),Ao=u(xi-Cn);if(Ao===Ul)return this.double();const to=u(B*T5*K),Bi=u(z*T5*F),Rl=Bi+to,Ee=xi+Cn,je=Bi-to,ot=u(Rl*Ao),Ut=u(Ee*je),Qi=u(Rl*je),Dl=u(Ao*Ee);return new v(ot,Ut,Dl,Qi)}const ee=u(A*H),se=u(U*q),te=u(z*M*K),ue=u(B*F),ge=u((A+U)*(H+q)-ee-se),$e=ue-te,he=ue+te,me=u(se-x*ee),Me=u(ge*$e),Ct=u(he*me),_t=u(ge*me),Tt=u($e*he);return new v(Me,Ct,Tt,_t)}subtract(_){return this.add(_.negate())}wNAF(_){return I.wNAFCached(this,_,v.normalizeZ)}multiply(_){const x=_;W2("scalar",x,Qo,r);const{p:M,f:A}=this.wNAF(x);return v.normalizeZ([M,A])[0]}multiplyUnsafe(_,x=v.ZERO){const M=_;return W2("scalar",M,Ul,r),M===Ul?C:this.is0()||M===Qo?this:I.wNAFCachedUnsafe(this,M,v.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(_){return b(this,_)}clearCofactor(){const{h:_}=e;return _===Qo?this:this.multiplyUnsafe(_)}static fromHex(_,x=!1){const{d:M,a:A}=e,U=n.BYTES;_=sh("pointHex",_,U),$$("zip215",x);const B=_.slice(),z=_[U-1];B[U-1]=z&-129;const H=iS(B),q=x?l:n.ORDER;W2("pointHex.y",H,Ul,q);const F=u(H*H),K=u(F-Qo),ee=u(M*F-A);let{isValid:se,value:te}=h(K,ee);if(!se)throw new Error("Point.fromHex: invalid y coordinate");const ue=(te&Qo)===Qo,ge=(z&128)!==0;if(!x&&te===Ul&&ge)throw new Error("Point.fromHex: x=0 and x_0=1");return ge!==ue&&(te=u(-te)),v.fromAffine({x:te,y:H})}static fromPrivateKey(_){return S(_).point}toRawBytes(){const{x:_,y:x}=this.toAffine(),M=UP(x,n.BYTES);return M[M.length-1]|=_&Qo?128:0,M}toHex(){return gU(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,Qo,u(e.Gx*e.Gy)),v.ZERO=new v(Ul,Qo,Qo,Ul);const{BASE:w,ZERO:C}=v,I=XTe(v,a*8);function k(E){return Zi(E,r)}function P(E){return k(iS(E))}function S(E){const _=n.BYTES;E=sh("private key",E,_);const x=sh("hashed private key",s(E),2*_),M=p(x.slice(0,_)),A=x.slice(_,2*_),U=P(M),B=w.multiply(U),z=B.toRawBytes();return{head:M,prefix:A,scalar:U,point:B,pointBytes:z}}function N(E){return S(E).pointBytes}function R(E=new Uint8Array,..._){const x=kW(..._);return P(s(f(x,sh("context",E),!!i)))}function D(E,_,x={}){E=sh("message",E),i&&(E=i(E));const{prefix:M,scalar:A,pointBytes:U}=S(_),B=R(x.context,M,E),z=w.multiply(B).toRawBytes(),H=R(x.context,z,U,E),q=k(B+H*A);W2("signature.s",q,Ul,r);const F=kW(z,UP(q,n.BYTES));return sh("result",F,n.BYTES*2)}const O=nNe;function T(E,_,x,M=O){const{context:A,zip215:U}=M,B=n.BYTES;E=sh("signature",E,2*B),_=sh("message",_),x=sh("publicKey",x,B),U!==void 0&&$$("zip215",U),i&&(_=i(_));const z=iS(E.slice(B,2*B));let H,q,F;try{H=v.fromHex(x,U),q=v.fromHex(E.slice(0,B),U),F=w.multiplyUnsafe(z)}catch{return!1}if(!U&&H.isSmallOrder())return!1;const K=R(A,q.toRawBytes(),H.toRawBytes(),_);return q.add(H.multiplyUnsafe(K)).subtract(F).clearCofactor().equals(v.ZERO)}return w._setWindowSize(8),{CURVE:e,getPublicKey:N,sign:D,verify:T,ExtendedPoint:v,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>o(n.BYTES),precompute(E=8,_=v.BASE){return _._setWindowSize(E),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const wU=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),RW=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const sNe=BigInt(1),DW=BigInt(2);BigInt(3);const oNe=BigInt(5),aNe=BigInt(8);function cNe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=wU,o=t*t%s*t%s,a=Wu(o,DW,s)*o%s,c=Wu(a,sNe,s)*t%s,l=Wu(c,oNe,s)*c%s,u=Wu(l,e,s)*l%s,d=Wu(u,n,s)*u%s,h=Wu(d,r,s)*d%s,p=Wu(h,i,s)*h%s,f=Wu(p,i,s)*h%s,g=Wu(f,e,s)*l%s;return{pow_p_5_8:Wu(g,DW,s)*t%s,b2:o}}function lNe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function uNe(t,e){const n=wU,r=Zi(e*e*e,n),i=Zi(r*r*e,n),s=cNe(t*i).pow_p_5_8;let o=Zi(t*r*s,n);const a=Zi(e*o*o,n),c=o,l=Zi(o*RW,n),u=a===t,d=a===Zi(-t,n),h=a===Zi(-t*RW,n);return u&&(o=c),(d||h)&&(o=l),HTe(o,n)&&(o=Zi(-o,n)),{isValid:u||d,value:o}}const dNe=one(wU,void 0,!0),hNe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:dNe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:aNe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:PTe,randomBytes:Qte,adjustScalarBytes:lNe,uvRatio:uNe},lne=iNe(hNe),pNe="EdDSA",fNe="JWT",GS=".",JA="base64url",une="utf8",dne="utf8",gNe=":",mNe="did",wNe="key",UW="base58btc",yNe="z",bNe="K36",vNe=32;function yU(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function hne(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?yU(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function pne(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=hne(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return yU(n)}function ENe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var g=0,m=0,b=0,y=f.length;b!==y&&f[b]===0;)b++,g++;for(var v=(y-b)*u+1>>>0,w=new Uint8Array(v);b!==y;){for(var C=f[b],I=0,k=v-1;(C!==0||I<m)&&k!==-1;k--,I++)C+=256*w[k]>>>0,w[k]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");m=I,b++}for(var P=v-m;P!==v&&w[P]===0;)P++;for(var S=c.repeat(g);P<v;++P)S+=t.charAt(w[P]);return S}function h(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;var g=0;if(f[g]!==" "){for(var m=0,b=0;f[g]===c;)m++,g++;for(var y=(f.length-g)*l+1>>>0,v=new Uint8Array(y);f[g];){var w=n[f.charCodeAt(g)];if(w===255)return;for(var C=0,I=y-1;(w!==0||C<b)&&I!==-1;I--,C++)w+=a*v[I]>>>0,v[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");b=C,g++}if(f[g]!==" "){for(var k=y-b;k!==y&&v[k]===0;)k++;for(var P=new Uint8Array(m+(y-k)),S=m;k!==y;)P[S++]=v[k++];return P}}}function p(f){var g=h(f);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:p}}var CNe=ENe,_Ne=CNe;const fne=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},INe=t=>new TextEncoder().encode(t),SNe=t=>new TextDecoder().decode(t);let xNe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ANe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return gne(this,e)}},kNe=class{constructor(e){this.decoders=e}or(e){return gne(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const gne=(t,e)=>new kNe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let $Ne=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new xNe(e,n,r),this.decoder=new ANe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const XA=({name:t,prefix:e,encode:n,decode:r})=>new $Ne(t,e,n,r),z_=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=_Ne(n,e);return XA({prefix:t,name:e,encode:r,decode:s=>fne(i(s))})},TNe=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},NNe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Ks=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>XA({prefix:e,name:t,encode(i){return NNe(i,r,n)},decode(i){return TNe(i,r,n,t)}}),ONe=XA({prefix:"\0",name:"identity",encode:t=>SNe(t),decode:t=>INe(t)});var PNe=Object.freeze({__proto__:null,identity:ONe});const RNe=Ks({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var DNe=Object.freeze({__proto__:null,base2:RNe});const UNe=Ks({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var MNe=Object.freeze({__proto__:null,base8:UNe});const LNe=z_({prefix:"9",name:"base10",alphabet:"0123456789"});var jNe=Object.freeze({__proto__:null,base10:LNe});const BNe=Ks({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zNe=Ks({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var WNe=Object.freeze({__proto__:null,base16:BNe,base16upper:zNe});const qNe=Ks({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),FNe=Ks({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),HNe=Ks({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),VNe=Ks({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KNe=Ks({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ZNe=Ks({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),GNe=Ks({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),YNe=Ks({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),JNe=Ks({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var XNe=Object.freeze({__proto__:null,base32:qNe,base32upper:FNe,base32pad:HNe,base32padupper:VNe,base32hex:KNe,base32hexupper:ZNe,base32hexpad:GNe,base32hexpadupper:YNe,base32z:JNe});const QNe=z_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),eOe=z_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var tOe=Object.freeze({__proto__:null,base36:QNe,base36upper:eOe});const nOe=z_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rOe=z_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var iOe=Object.freeze({__proto__:null,base58btc:nOe,base58flickr:rOe});const sOe=Ks({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),oOe=Ks({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),aOe=Ks({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),cOe=Ks({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var lOe=Object.freeze({__proto__:null,base64:sOe,base64pad:oOe,base64url:aOe,base64urlpad:cOe});const mne=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),uOe=mne.reduce((t,e,n)=>(t[n]=e,t),[]),dOe=mne.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function hOe(t){return t.reduce((e,n)=>(e+=uOe[n],e),"")}function pOe(t){const e=[];for(const n of t){const r=dOe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const fOe=XA({prefix:"ðŸš€",name:"base256emoji",encode:hOe,decode:pOe});var gOe=Object.freeze({__proto__:null,base256emoji:fOe}),mOe=wne,MW=128,wOe=-128,yOe=Math.pow(2,31);function wne(t,e,n){e=e||[],n=n||0;for(var r=n;t>=yOe;)e[n++]=t&255|MW,t/=128;for(;t&wOe;)e[n++]=t&255|MW,t>>>=7;return e[n]=t|0,wne.bytes=n-r+1,e}var bOe=LP,vOe=128,LW=127;function LP(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw LP.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&LW)<<i:(o&LW)*Math.pow(2,i),i+=7}while(o>=vOe);return LP.bytes=s-r,n}var EOe=Math.pow(2,7),COe=Math.pow(2,14),_Oe=Math.pow(2,21),IOe=Math.pow(2,28),SOe=Math.pow(2,35),xOe=Math.pow(2,42),AOe=Math.pow(2,49),kOe=Math.pow(2,56),$Oe=Math.pow(2,63),TOe=function(t){return t<EOe?1:t<COe?2:t<_Oe?3:t<IOe?4:t<SOe?5:t<xOe?6:t<AOe?7:t<kOe?8:t<$Oe?9:10},NOe={encode:mOe,decode:bOe,encodingLength:TOe},yne=NOe;const jW=(t,e,n=0)=>(yne.encode(t,e,n),e),BW=t=>yne.encodingLength(t),jP=(t,e)=>{const n=e.byteLength,r=BW(t),i=r+BW(n),s=new Uint8Array(i+n);return jW(t,s,0),jW(n,s,r),s.set(e,i),new OOe(t,n,e,s)};let OOe=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const bne=({name:t,code:e,encode:n})=>new POe(t,e,n);let POe=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?jP(this.code,n):n.then(r=>jP(this.code,r))}else throw Error("Unknown type, must be binary type")}};const vne=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ROe=bne({name:"sha2-256",code:18,encode:vne("SHA-256")}),DOe=bne({name:"sha2-512",code:19,encode:vne("SHA-512")});var UOe=Object.freeze({__proto__:null,sha256:ROe,sha512:DOe});const Ene=0,MOe="identity",Cne=fne,LOe=t=>jP(Ene,Cne(t)),jOe={code:Ene,name:MOe,encode:Cne,digest:LOe};var BOe=Object.freeze({__proto__:null,identity:jOe});new TextEncoder,new TextDecoder;const zW={...PNe,...DNe,...MNe,...jNe,...WNe,...XNe,...tOe,...iOe,...lOe,...gOe};({...UOe,...BOe});function _ne(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const WW=_ne("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),D$=_ne("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=hne(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Ine={utf8:WW,"utf-8":WW,hex:zW.base16,latin1:D$,ascii:D$,binary:D$,...zW};function QA(t,e="utf8"){const n=Ine[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Yv(t,e="utf8"){const n=Ine[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?yU(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function qW(t){return Cu(QA(Yv(t,JA),une))}function YS(t){return QA(Yv(fc(t),une),JA)}function ek(t){const e=Yv(bNe,UW),n=yNe+QA(pne([e,t]),UW);return[mNe,wNe,n].join(gNe)}function zOe(t){return QA(t,JA)}function WOe(t){return Yv(t,JA)}function qOe(t){return Yv([YS(t.header),YS(t.payload)].join(GS),dne)}function FOe(t){return[YS(t.header),YS(t.payload),zOe(t.signature)].join(GS)}function mp(t){const e=t.split(GS),n=qW(e[0]),r=qW(e[1]),i=WOe(e[2]),s=Yv(e.slice(0,2).join(GS),dne);return{header:n,payload:r,signature:i,data:s}}function j1(t=Qte(vNe)){const e=lne.getPublicKey(t);return{secretKey:pne([t,e]),publicKey:e}}async function bU(t,e,n,r,i=Y.fromMiliseconds(Date.now())){const s={alg:pNe,typ:fNe},o=ek(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=qOe({header:s,payload:c}),u=lne.sign(l,r.secretKey.slice(0,32));return FOe({header:s,payload:c,signature:u})}var FW=function(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},HOe=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),VOe=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=window.process.platform}return t})(),KOe=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),ZOe=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),GOe=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),YOe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,JOe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,HW=3,XOe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",YOe]],VW=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vU(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new GOe:typeof navigator<"u"?ePe(navigator.userAgent):nPe()}function QOe(t){return t!==""&&XOe.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function ePe(t){var e=QOe(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new ZOe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<HW&&(i=FW(FW([],i,!0),rPe(HW-i.length))):i=[];var s=i.join("."),o=tPe(t),a=JOe.exec(t);return a&&a[1]?new KOe(n,s,o,a[1]):new HOe(n,s,o)}function tPe(t){for(var e=0,n=VW.length;e<n;e++){var r=VW[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function nPe(){var t=typeof window.process<"u"&&window.process.version;return t?new VOe(window.process.version.slice(1)):null}function rPe(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var dr={},KW;function Sne(){if(KW)return dr;KW=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.getLocalStorage=dr.getLocalStorageOrThrow=dr.getCrypto=dr.getCryptoOrThrow=dr.getLocation=dr.getLocationOrThrow=dr.getNavigator=dr.getNavigatorOrThrow=dr.getDocument=dr.getDocumentOrThrow=dr.getFromWindowOrThrow=dr.getFromWindow=void 0;function t(h){let p;return typeof window<"u"&&typeof window[h]<"u"&&(p=window[h]),p}dr.getFromWindow=t;function e(h){const p=t(h);if(!p)throw new Error(`${h} is not defined in Window`);return p}dr.getFromWindowOrThrow=e;function n(){return e("document")}dr.getDocumentOrThrow=n;function r(){return t("document")}dr.getDocument=r;function i(){return e("navigator")}dr.getNavigatorOrThrow=i;function s(){return t("navigator")}dr.getNavigator=s;function o(){return e("location")}dr.getLocationOrThrow=o;function a(){return t("location")}dr.getLocation=a;function c(){return e("crypto")}dr.getCryptoOrThrow=c;function l(){return t("crypto")}dr.getCrypto=l;function u(){return e("localStorage")}dr.getLocalStorageOrThrow=u;function d(){return t("localStorage")}return dr.getLocalStorage=d,dr}var _r=Sne(),q2={},ZW;function iPe(){if(ZW)return q2;ZW=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.getWindowMetadata=void 0;const t=Sne();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const p=n.getElementsByTagName("link"),f=[];for(let g=0;g<p.length;g++){const m=p[g],b=m.getAttribute("rel");if(b&&b.toLowerCase().indexOf("icon")>-1){const y=m.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let v=r.protocol+"//"+r.host;if(y.indexOf("/")===0)v+=y;else{const w=r.pathname.split("/");w.pop();const C=w.join("/");v+=C+"/"+y}f.push(v)}else if(y.indexOf("//")===0){const v=r.protocol+y;f.push(v)}else f.push(y)}}return f}function s(...p){const f=n.getElementsByTagName("meta");for(let g=0;g<f.length;g++){const m=f[g],b=["itemprop","property","name"].map(y=>m.getAttribute(y)).filter(y=>y?p.includes(y):!1);if(b.length&&b){const y=m.getAttribute("content");if(y)return y}}return""}function o(){let p=s("name","og:site_name","og:title","twitter:title");return p||(p=n.title),p}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=r.origin,d=i();return{description:l,url:u,icons:d,name:c}}return q2.getWindowMetadata=e,q2}var EU=iPe();const sPe="0.1.1";function oPe(){return sPe}let Si=class BP extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof BP){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof BP&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${oPe()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return xne(this,e)}};function xne(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?xne(t.cause,e):e?null:t}const CU=BigInt(0),zP=BigInt(1);function W_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _U(t){if(!W_(t))throw new Error("Uint8Array expected")}function cC(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function N5(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ane(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?CU:BigInt("0x"+t)}const kne=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",aPe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function lC(t){if(_U(t),kne)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=aPe[t[n]];return e}const oh={_0:48,_9:57,A:65,F:70,a:97,f:102};function GW(t){if(t>=oh._0&&t<=oh._9)return t-oh._0;if(t>=oh.A&&t<=oh.F)return t-(oh.A-10);if(t>=oh.a&&t<=oh.f)return t-(oh.a-10)}function JS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(kne)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=GW(t.charCodeAt(s)),a=GW(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Tw(t){return Ane(lC(t))}function $ne(t){return _U(t),Ane(lC(Uint8Array.from(t).reverse()))}function q_(t,e){return JS(t.toString(16).padStart(e*2,"0"))}function Tne(t,e){return q_(t,e).reverse()}function nl(t,e,n){let r;if(typeof e=="string")try{r=JS(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(W_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function XS(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];_U(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const U$=t=>typeof t=="bigint"&&CU<=t;function IU(t,e,n){return U$(t)&&U$(e)&&U$(n)&&e<=t&&t<n}function m1(t,e,n,r){if(!IU(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function cPe(t){let e;for(e=0;t>CU;t>>=zP,e+=1);return e}const tk=t=>(zP<<BigInt(t))-zP,M$=t=>new Uint8Array(t),YW=t=>Uint8Array.from(t);function lPe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=M$(t),i=M$(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=M$(0))=>{i=a(YW([0]),d),r=a(),d.length!==0&&(i=a(YW([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const p=r.slice();h.push(p),d+=r.length}return XS(...h)};return(d,h)=>{o(),c(d);let p;for(;!(p=h(l()));)c();return o(),p}}const uPe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||W_(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function nk(t,e,n={}){const r=(i,s,o)=>{const a=uPe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function JW(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function dPe(t,e){if(tq(t)>e)throw new OPe({givenSize:tq(t),maxSize:e})}const ah={zero:48,nine:57,A:65,F:70,a:97,f:102};function XW(t){if(t>=ah.zero&&t<=ah.nine)return t-ah.zero;if(t>=ah.A&&t<=ah.F)return t-(ah.A-10);if(t>=ah.a&&t<=ah.f)return t-(ah.a-10)}function hPe(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new PPe({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function Nne(t,e){if(_g(t)>e)throw new CPe({givenSize:_g(t),maxSize:e})}function pPe(t,e){if(typeof e=="number"&&e>0&&e>_g(t)-1)throw new Rne({offset:e,position:"start",size:_g(t)})}function fPe(t,e,n){if(typeof e=="number"&&typeof n=="number"&&_g(t)!==n-e)throw new Rne({offset:n,position:"end",size:_g(t)})}function One(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new _Pe({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const gPe="#__bigint";function SU(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+gPe:i,n)}const mPe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wPe(t,e={}){const{strict:n=!1}=e;if(!t)throw new QW(t);if(typeof t!="string")throw new QW(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new eq(t);if(!t.startsWith("0x"))throw new eq(t)}function yPe(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function xU(t){return t instanceof Uint8Array?QS(t):Array.isArray(t)?QS(new Uint8Array(t)):t}function QS(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=mPe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Nne(r,e.size),Pne(r,e.size)):r}function L$(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new EPe({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?bPe(c,r):c}function bPe(t,e){return One(t,{dir:"left",size:e})}function Pne(t,e){return One(t,{dir:"right",size:e})}function Rh(t,e,n,r={}){const{strict:i}=r;pPe(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&fPe(s,e,n),s}function _g(t){return Math.ceil((t.length-2)/2)}function vPe(t,e={}){const{strict:n=!1}=e;try{return wPe(t,{strict:n}),!0}catch{return!1}}let EPe=class extends Si{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},QW=class extends Si{constructor(e){super(`Value \`${typeof e=="object"?SU(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},eq=class extends Si{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},CPe=class extends Si{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},Rne=class extends Si{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},_Pe=class extends Si{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const IPe=new TextEncoder;function SPe(t){if(!(t instanceof Uint8Array)){if(!t)throw new O5(t);if(typeof t!="object")throw new O5(t);if(!("BYTES_PER_ELEMENT"in t))throw new O5(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new O5(t)}}function xPe(t){return t instanceof Uint8Array?t:typeof t=="string"?kPe(t):APe(t)}function APe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function kPe(t,e={}){const{size:n}=e;let r=t;n&&(Nne(t,n),r=Pne(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=XW(i.charCodeAt(c++)),u=XW(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new Si(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function $Pe(t,e={}){const{size:n}=e,r=IPe.encode(t);return typeof n=="number"?(dPe(r,n),TPe(r,n)):r}function TPe(t,e){return hPe(t,{dir:"right",size:e})}function tq(t){return t.length}function NPe(t){try{return SPe(t),!0}catch{return!1}}let O5=class extends Si{constructor(e){super(`Value \`${typeof e=="object"?SU(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},OPe=class extends Si{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},PPe=class extends Si{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function Dne(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=vte(xPe(t));return n==="Bytes"?r:QS(r)}let RPe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const DPe={checksum:new RPe(8192)},j$=DPe.checksum;function Une(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new nq({prefix:r,cause:new zPe});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new nq({prefix:r,cause:new BPe});return}throw new jPe({publicKey:t})}function UPe(t){const e=(()=>{if(vPe(t))return Mne(t);if(NPe(t))return MPe(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return Une(e),e}function MPe(t){return Mne(QS(t))}function Mne(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new WPe({publicKey:t});if(t.length===130){const r=BigInt(Rh(t,0,32)),i=BigInt(Rh(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(Rh(t,0,1)),i=BigInt(Rh(t,1,33)),s=BigInt(Rh(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(Rh(t,0,1)),n=BigInt(Rh(t,1,33));return{prefix:e,x:n}}function LPe(t,e={}){Une(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return yPe(s?L$(n,{size:1}):"0x",L$(r,{size:32}),typeof i=="bigint"?L$(i,{size:32}):"0x")}let jPe=class extends Si{constructor({publicKey:e}){super(`Value \`${SU(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},nq=class extends Si{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},BPe=class extends Si{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},zPe=class extends Si{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},WPe=class extends Si{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${_g(xU(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const qPe=/^0x[a-fA-F0-9]{40}$/;function Lne(t,e={}){const{strict:n=!0}=e;if(!qPe.test(t))throw new rq({address:t,cause:new VPe});if(n){if(t.toLowerCase()===t)return;if(jne(t)!==t)throw new rq({address:t,cause:new KPe})}}function jne(t){if(j$.has(t))return j$.get(t);Lne(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Dne($Pe(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return j$.set(t,i),i}function FPe(t,e={}){const{checksum:n=!1}=e;return Lne(t),n?jne(t):t}function HPe(t,e={}){const n=Dne(`0x${LPe(t).slice(4)}`).substring(26);return FPe(`0x${n}`,e)}let rq=class extends Si{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},VPe=class extends Si{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},KPe=class extends Si{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const Ca=BigInt(0),jo=BigInt(1),pw=BigInt(2),ZPe=BigInt(3),Bne=BigInt(4),zne=BigInt(5),Wne=BigInt(8);function pa(t,e){const n=t%e;return n>=Ca?n:e+n}function Uc(t,e,n){let r=t;for(;e-- >Ca;)r*=r,r%=n;return r}function WP(t,e){if(t===Ca)throw new Error("invert: expected non-zero number");if(e<=Ca)throw new Error("invert: expected positive modulus, got "+e);let n=pa(t,e),r=e,i=Ca,s=jo;for(;n!==Ca;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==jo)throw new Error("invert: does not exist");return pa(i,e)}function qne(t,e){const n=(t.ORDER+jo)/Bne,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function GPe(t,e){const n=(t.ORDER-zne)/Wne,r=t.mul(e,pw),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,pw),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function YPe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-jo,n=0;for(;e%pw===Ca;)e/=pw,n++;let r=pw;const i=AU(t);for(;iq(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return qne;let s=i.pow(r,e);const o=(e+jo)/pw;return function(c,l){if(c.is0(l))return l;if(iq(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let f=1,g=c.sqr(h);for(;!c.eql(g,c.ONE);)if(f++,g=c.sqr(g),f===u)throw new Error("Cannot find square root");const m=jo<<BigInt(u-f-1),b=c.pow(d,m);u=f,d=c.sqr(b),h=c.mul(h,d),p=c.mul(p,b)}return p}}function JPe(t){return t%Bne===ZPe?qne:t%Wne===zne?GPe:YPe(t)}const XPe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function QPe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=XPe.reduce((r,i)=>(r[i]="function",r),e);return nk(t,n)}function e9e(t,e,n){if(n<Ca)throw new Error("invalid exponent, negatives unsupported");if(n===Ca)return t.ONE;if(n===jo)return e;let r=t.ONE,i=e;for(;n>Ca;)n&jo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=jo;return r}function Fne(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function iq(t,e){const n=(t.ORDER-jo)/pw,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Hne(t,e){e!==void 0&&vg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function AU(t,e,n=!1,r={}){if(t<=Ca)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Hne(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:tk(i),ZERO:Ca,ONE:jo,create:c=>pa(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ca<=c&&c<t},is0:c=>c===Ca,isOdd:c=>(c&jo)===jo,neg:c=>pa(-c,t),eql:(c,l)=>c===l,sqr:c=>pa(c*c,t),add:(c,l)=>pa(c+l,t),sub:(c,l)=>pa(c-l,t),mul:(c,l)=>pa(c*l,t),pow:(c,l)=>e9e(a,c,l),div:(c,l)=>pa(c*WP(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>WP(c,t),sqrt:r.sqrt||(c=>(o||(o=JPe(t)),o(a,c))),toBytes:c=>n?Tne(c,s):q_(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?$ne(c):Tw(c)},invertBatch:c=>Fne(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function Vne(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Kne(t){const e=Vne(t);return e+Math.ceil(e/2)}function t9e(t,e,n=!1){const r=t.length,i=Vne(e),s=Kne(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?$ne(t):Tw(t),a=pa(o,e-jo)+jo;return n?Tne(a,i):q_(a,i)}const sq=BigInt(0),qP=BigInt(1);function B$(t,e){const n=e.negate();return t?n:e}function Zne(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function z$(t,e){Zne(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=tk(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function oq(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=qP);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:p,offsetF:l}}function n9e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function r9e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const W$=new WeakMap,Gne=new WeakMap;function q$(t){return Gne.get(t)||1}function i9e(t,e){return{constTimeNegate:B$,hasPrecomputes(n){return q$(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>sq;)r&qP&&(i=i.add(s)),s=s.double(),r>>=qP;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=z$(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=z$(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:p,offsetF:f}=oq(i,c,a);i=l,d?o=o.add(B$(p,r[f])):s=s.add(B$(h,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=z$(n,e);for(let a=0;a<o.windows&&i!==sq;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=oq(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=W$.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&W$.set(r,i(s))),s},wNAFCached(n,r,i){const s=q$(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=q$(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Zne(r,e),Gne.set(n,r),W$.delete(n)}}}function s9e(t,e,n,r){n9e(n,t),r9e(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=cPe(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=tk(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let p=d;p>=0;p-=c){u.fill(o);for(let g=0;g<s;g++){const m=r[g],b=Number(m>>BigInt(p)&l);u[b]=u[b].add(n[g])}let f=o;for(let g=u.length-1,m=o;g>0;g--)m=m.add(u[g]),f=f.add(m);if(h=h.add(f),p!==0)for(let g=0;g<c;g++)h=h.double()}return h}function Yne(t){return QPe(t.Fp),nk(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Hne(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function aq(t){t.lowS!==void 0&&cC("lowS",t.lowS),t.prehash!==void 0&&cC("prehash",t.prehash)}function o9e(t){const e=Yne(t);nk(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let a9e=class extends Error{constructor(e=""){super(e)}};const Mh={Err:a9e,_tlv:{encode:(t,e)=>{const{Err:n}=Mh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=N5(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?N5(i.length/2|128):"";return N5(t)+s+i+e},decode(t,e){const{Err:n}=Mh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Mh;if(t<Zh)throw new e("integer: negative integers are not allowed");let n=N5(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Mh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Tw(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Mh,i=nl("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Mh,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function F$(t,e){return lC(q_(t,e))}const Zh=BigInt(0),ls=BigInt(1);BigInt(2);const H$=BigInt(3),c9e=BigInt(4);function l9e(t){const e=o9e(t),{Fp:n}=e,r=AU(e.n,e.nBitLength),i=e.toBytes||((v,w,C)=>{const I=w.toAffine();return XS(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(v=>{const w=v.subarray(1),C=n.fromBytes(w.subarray(0,n.BYTES)),I=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function o(v){const{a:w,b:C}=e,I=n.sqr(v),k=n.mul(I,v);return n.add(n.add(k,n.mul(v,w)),C)}function a(v,w){const C=n.sqr(w),I=o(v);return n.eql(C,I)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,H$),c9e),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return IU(v,ls,e.n)}function d(v){const{allowedPrivateKeyLengths:w,nByteLength:C,wrapPrivateKey:I,n:k}=e;if(w&&typeof v!="bigint"){if(W_(v)&&(v=lC(v)),typeof v!="string"||!w.includes(v.length))throw new Error("invalid private key");v=v.padStart(C*2,"0")}let P;try{P=typeof v=="bigint"?v:Tw(nl("private key",v,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof v)}return I&&(P=pa(P,k)),m1("private key",P,ls,k),P}function h(v){if(!(v instanceof g))throw new Error("ProjectivePoint expected")}const p=JW((v,w)=>{const{px:C,py:I,pz:k}=v;if(n.eql(k,n.ONE))return{x:C,y:I};const P=v.is0();w==null&&(w=P?n.ONE:n.inv(k));const S=n.mul(C,w),N=n.mul(I,w),R=n.mul(k,w);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(R,n.ONE))throw new Error("invZ was invalid");return{x:S,y:N}}),f=JW(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:w,y:C}=v.toAffine();if(!n.isValid(w)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!a(w,C))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(w,C,I){if(w==null||!n.isValid(w))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=w,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(w){const{x:C,y:I}=w||{};if(!w||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(w instanceof g)throw new Error("projective point not allowed");const k=P=>n.eql(P,n.ZERO);return k(C)&&k(I)?g.ZERO:new g(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const C=Fne(n,w.map(I=>I.pz));return w.map((I,k)=>I.toAffine(C[k])).map(g.fromAffine)}static fromHex(w){const C=g.fromAffine(s(nl("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){return g.BASE.multiply(d(w))}static msm(w,C){return s9e(g,r,w,C)}_setWindowSize(w){y.setWindowSize(this,w)}assertValidity(){f(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){h(w);const{px:C,py:I,pz:k}=this,{px:P,py:S,pz:N}=w,R=n.eql(n.mul(C,N),n.mul(P,k)),D=n.eql(n.mul(I,N),n.mul(S,k));return R&&D}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:C}=e,I=n.mul(C,H$),{px:k,py:P,pz:S}=this;let N=n.ZERO,R=n.ZERO,D=n.ZERO,O=n.mul(k,k),T=n.mul(P,P),E=n.mul(S,S),_=n.mul(k,P);return _=n.add(_,_),D=n.mul(k,S),D=n.add(D,D),N=n.mul(w,D),R=n.mul(I,E),R=n.add(N,R),N=n.sub(T,R),R=n.add(T,R),R=n.mul(N,R),N=n.mul(_,N),D=n.mul(I,D),E=n.mul(w,E),_=n.sub(O,E),_=n.mul(w,_),_=n.add(_,D),D=n.add(O,O),O=n.add(D,O),O=n.add(O,E),O=n.mul(O,_),R=n.add(R,O),E=n.mul(P,S),E=n.add(E,E),O=n.mul(E,_),N=n.sub(N,O),D=n.mul(E,T),D=n.add(D,D),D=n.add(D,D),new g(N,R,D)}add(w){h(w);const{px:C,py:I,pz:k}=this,{px:P,py:S,pz:N}=w;let R=n.ZERO,D=n.ZERO,O=n.ZERO;const T=e.a,E=n.mul(e.b,H$);let _=n.mul(C,P),x=n.mul(I,S),M=n.mul(k,N),A=n.add(C,I),U=n.add(P,S);A=n.mul(A,U),U=n.add(_,x),A=n.sub(A,U),U=n.add(C,k);let B=n.add(P,N);return U=n.mul(U,B),B=n.add(_,M),U=n.sub(U,B),B=n.add(I,k),R=n.add(S,N),B=n.mul(B,R),R=n.add(x,M),B=n.sub(B,R),O=n.mul(T,U),R=n.mul(E,M),O=n.add(R,O),R=n.sub(x,O),O=n.add(x,O),D=n.mul(R,O),x=n.add(_,_),x=n.add(x,_),M=n.mul(T,M),U=n.mul(E,U),x=n.add(x,M),M=n.sub(_,M),M=n.mul(T,M),U=n.add(U,M),_=n.mul(x,U),D=n.add(D,_),_=n.mul(B,U),R=n.mul(A,R),R=n.sub(R,_),_=n.mul(A,x),O=n.mul(B,O),O=n.add(O,_),new g(R,D,O)}subtract(w){return this.add(w.negate())}is0(){return this.equals(g.ZERO)}wNAF(w){return y.wNAFCached(this,w,g.normalizeZ)}multiplyUnsafe(w){const{endo:C,n:I}=e;m1("scalar",w,Zh,I);const k=g.ZERO;if(w===Zh)return k;if(this.is0()||w===ls)return this;if(!C||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,w,g.normalizeZ);let{k1neg:P,k1:S,k2neg:N,k2:R}=C.splitScalar(w),D=k,O=k,T=this;for(;S>Zh||R>Zh;)S&ls&&(D=D.add(T)),R&ls&&(O=O.add(T)),T=T.double(),S>>=ls,R>>=ls;return P&&(D=D.negate()),N&&(O=O.negate()),O=new g(n.mul(O.px,C.beta),O.py,O.pz),D.add(O)}multiply(w){const{endo:C,n:I}=e;m1("scalar",w,ls,I);let k,P;if(C){const{k1neg:S,k1:N,k2neg:R,k2:D}=C.splitScalar(w);let{p:O,f:T}=this.wNAF(N),{p:E,f:_}=this.wNAF(D);O=y.constTimeNegate(S,O),E=y.constTimeNegate(R,E),E=new g(n.mul(E.px,C.beta),E.py,E.pz),k=O.add(E),P=T.add(_)}else{const{p:S,f:N}=this.wNAF(w);k=S,P=N}return g.normalizeZ([k,P])[0]}multiplyAndAddUnsafe(w,C,I){const k=g.BASE,P=(N,R)=>R===Zh||R===ls||!N.equals(k)?N.multiplyUnsafe(R):N.multiply(R),S=P(this,C).add(P(w,I));return S.is0()?void 0:S}toAffine(w){return p(this,w)}isTorsionFree(){const{h:w,isTorsionFree:C}=e;if(w===ls)return!0;if(C)return C(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:C}=e;return w===ls?this:C?C(g,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return cC("isCompressed",w),this.assertValidity(),i(g,this,w)}toHex(w=!0){return cC("isCompressed",w),lC(this.toRawBytes(w))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:b}=e,y=i9e(g,m?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function u9e(t){const e=Yne(t);return nk(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function d9e(t){const e=u9e(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(E){return pa(E,r)}function l(E){return WP(E,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:p}=l9e({...e,toBytes(E,_,x){const M=_.toAffine(),A=n.toBytes(M.x),U=XS;return cC("isCompressed",x),x?U(Uint8Array.from([_.hasEvenY()?2:3]),A):U(Uint8Array.from([4]),A,n.toBytes(M.y))},fromBytes(E){const _=E.length,x=E[0],M=E.subarray(1);if(_===o&&(x===2||x===3)){const A=Tw(M);if(!IU(A,ls,n.ORDER))throw new Error("Point is not on curve");const U=h(A);let B;try{B=n.sqrt(U)}catch(q){const F=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+F)}const z=(B&ls)===ls;return(x&1)===1!==z&&(B=n.neg(B)),{x:A,y:B}}else if(_===a&&x===4){const A=n.fromBytes(M.subarray(0,n.BYTES)),U=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:A,y:U}}else{const A=o,U=a;throw new Error("invalid Point, expected length of "+A+", or uncompressed "+U+", got "+_)}}});function f(E){const _=r>>ls;return E>_}function g(E){return f(E)?c(-E):E}const m=(E,_,x)=>Tw(E.slice(_,x));class b{constructor(_,x,M){m1("r",_,ls,r),m1("s",x,ls,r),this.r=_,this.s=x,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(_){const x=i;return _=nl("compactSignature",_,x*2),new b(m(_,0,x),m(_,x,2*x))}static fromDER(_){const{r:x,s:M}=Mh.toSig(nl("DER",_));return new b(x,M)}assertValidity(){}addRecoveryBit(_){return new b(this.r,this.s,_)}recoverPublicKey(_){const{r:x,s:M,recovery:A}=this,U=k(nl("msgHash",_));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const B=A===2||A===3?x+e.n:x;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=(A&1)===0?"02":"03",H=u.fromHex(z+F$(B,n.BYTES)),q=l(B),F=c(-U*q),K=c(M*q),ee=u.BASE.multiplyAndAddUnsafe(H,F,K);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return JS(this.toDERHex())}toDERHex(){return Mh.hexFromSig(this)}toCompactRawBytes(){return JS(this.toCompactHex())}toCompactHex(){const _=i;return F$(this.r,_)+F$(this.s,_)}}const y={isValidPrivateKey(E){try{return d(E),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const E=Kne(e.n);return t9e(e.randomBytes(E),e.n)},precompute(E=8,_=u.BASE){return _._setWindowSize(E),_.multiply(BigInt(3)),_}};function v(E,_=!0){return u.fromPrivateKey(E).toRawBytes(_)}function w(E){if(typeof E=="bigint")return!1;if(E instanceof u)return!0;const x=nl("key",E).length,M=n.BYTES,A=M+1,U=2*M+1;if(!(e.allowedPrivateKeyLengths||i===A))return x===A||x===U}function C(E,_,x=!0){if(w(E)===!0)throw new Error("first arg must be private key");if(w(_)===!1)throw new Error("second arg must be public key");return u.fromHex(_).multiply(d(E)).toRawBytes(x)}const I=e.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");const _=Tw(E),x=E.length*8-s;return x>0?_>>BigInt(x):_},k=e.bits2int_modN||function(E){return c(I(E))},P=tk(s);function S(E){return m1("num < 2^"+s,E,Zh,P),q_(E,i)}function N(E,_,x=R){if(["recovered","canonical"].some(te=>te in x))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:A}=e;let{lowS:U,prehash:B,extraEntropy:z}=x;U==null&&(U=!0),E=nl("msgHash",E),aq(x),B&&(E=nl("prehashed msgHash",M(E)));const H=k(E),q=d(_),F=[S(q),S(H)];if(z!=null&&z!==!1){const te=z===!0?A(n.BYTES):z;F.push(nl("extraEntropy",te))}const K=XS(...F),ee=H;function se(te){const ue=I(te);if(!p(ue))return;const ge=l(ue),$e=u.BASE.multiply(ue).toAffine(),he=c($e.x);if(he===Zh)return;const me=c(ge*c(ee+he*q));if(me===Zh)return;let Me=($e.x===he?0:2)|Number($e.y&ls),Ct=me;return U&&f(me)&&(Ct=g(me),Me^=1),new b(he,Ct,Me)}return{seed:K,k2sig:se}}const R={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function O(E,_,x=R){const{seed:M,k2sig:A}=N(E,_,x),U=e;return lPe(U.hash.outputLen,U.nByteLength,U.hmac)(M,A)}u.BASE._setWindowSize(8);function T(E,_,x,M=D){const A=E;_=nl("msgHash",_),x=nl("publicKey",x);const{lowS:U,prehash:B,format:z}=M;if(aq(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if(z!==void 0&&z!=="compact"&&z!=="der")throw new Error("format must be compact or der");const H=typeof A=="string"||W_(A),q=!H&&!z&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!H&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,K;try{if(q&&(F=new b(A.r,A.s)),H){try{z!=="compact"&&(F=b.fromDER(A))}catch(Me){if(!(Me instanceof Mh.Err))throw Me}!F&&z!=="der"&&(F=b.fromCompact(A))}K=u.fromHex(x)}catch{return!1}if(!F||U&&F.hasHighS())return!1;B&&(_=e.hash(_));const{r:ee,s:se}=F,te=k(_),ue=l(se),ge=c(te*ue),$e=c(ee*ue),he=u.BASE.multiplyAndAddUnsafe(K,ge,$e)?.toAffine();return he?c(he.x)===ee:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:C,sign:O,verify:T,ProjectivePoint:u,Signature:b,utils:y}}function h9e(t){return{hash:t,hmac:(e,...n)=>U_(t,e,iu(...n)),randomBytes:P_}}function p9e(t,e){const n=r=>d9e({...t,...h9e(r)});return{...n(e),create:n}}const Jne=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),cq=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f9e=BigInt(0),g9e=BigInt(1),FP=BigInt(2),lq=(t,e)=>(t+e/FP)/e;function m9e(t){const e=Jne,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Uc(u,n,e)*u%e,h=Uc(d,n,e)*u%e,p=Uc(h,FP,e)*l%e,f=Uc(p,i,e)*p%e,g=Uc(f,s,e)*f%e,m=Uc(g,a,e)*g%e,b=Uc(m,c,e)*m%e,y=Uc(b,a,e)*g%e,v=Uc(y,n,e)*u%e,w=Uc(v,o,e)*f%e,C=Uc(w,r,e)*l%e,I=Uc(C,FP,e);if(!HP.eql(HP.sqr(I),t))throw new Error("Cannot find square root");return I}const HP=AU(Jne,void 0,void 0,{sqrt:m9e}),w9e=p9e({a:f9e,b:BigInt(7),Fp:HP,n:cq,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=cq,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-g9e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=lq(s*t,e),c=lq(-r*t,e);let l=pa(t-a*n-c*i,e),u=pa(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Gv);function y9e(t){if(t.length!==130&&t.length!==132)throw new v9e({signature:t});const e=BigInt(Rh(t,0,32)),n=BigInt(Rh(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return b9e(i)}catch{throw new E9e({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function b9e(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new C9e({value:t})}let v9e=class extends Si{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${_g(xU(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},E9e=class extends Si{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},C9e=class extends Si{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};const kU=BigInt(0),VP=BigInt(1);function ex(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function fw(t,e,n=""){const r=qA(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function P5(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Xne(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?kU:BigInt("0x"+t)}function rk(t){return Xne(f1(t))}function Qne(t){return gp(t),Xne(f1(Uint8Array.from(t).reverse()))}function $U(t,e){return HS(t.toString(16).padStart(e*2,"0"))}function ere(t,e){return $U(t,e).reverse()}function da(t,e,n){let r;if(typeof e=="string")try{r=HS(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(qA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");return r.length,r}const V$=t=>typeof t=="bigint"&&kU<=t;function _9e(t,e,n){return V$(t)&&V$(e)&&V$(n)&&e<=t&&t<n}function I9e(t,e,n,r){if(!_9e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function tre(t){let e;for(e=0;t>kU;t>>=VP,e+=1);return e}const F_=t=>(VP<<BigInt(t))-VP;function S9e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),i=p=>Uint8Array.of(p);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...p)=>n(o,s,...p),u=(p=r(0))=>{o=l(i(0),p),s=l(),p.length!==0&&(o=l(i(1),p),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const f=[];for(;p<e;){s=l();const g=s.slice();f.push(g),p+=s.length}return iu(...f)};return(p,f)=>{c(),u(p);let g;for(;!(g=f(d()));)u();return c(),g}}function TU(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function uq(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const cc=BigInt(0),Bo=BigInt(1),gw=BigInt(2),nre=BigInt(3),rre=BigInt(4),ire=BigInt(5),x9e=BigInt(7),sre=BigInt(8),A9e=BigInt(9),ore=BigInt(16);function eu(t,e){const n=t%e;return n>=cc?n:e+n}function dq(t,e){if(t===cc)throw new Error("invert: expected non-zero number");if(e<=cc)throw new Error("invert: expected positive modulus, got "+e);let n=eu(t,e),r=e,i=cc,s=Bo;for(;n!==cc;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Bo)throw new Error("invert: does not exist");return eu(i,e)}function NU(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function are(t,e){const n=(t.ORDER+Bo)/rre,r=t.pow(e,n);return NU(t,r,e),r}function k9e(t,e){const n=(t.ORDER-ire)/sre,r=t.mul(e,gw),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,gw),i),a=t.mul(s,t.sub(o,t.ONE));return NU(t,a,e),a}function $9e(t){const e=ay(t),n=cre(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+x9e)/ore;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const d=a.mul(l,i),h=a.mul(l,s),p=a.eql(a.sqr(u),c),f=a.eql(a.sqr(d),c);l=a.cmov(l,u,p),u=a.cmov(h,d,f);const g=a.eql(a.sqr(u),c),m=a.cmov(l,u,g);return NU(a,m,c),m}}function cre(t){if(t<nre)throw new Error("sqrt is not defined for small field");let e=t-Bo,n=0;for(;e%gw===cc;)e/=gw,n++;let r=gw;const i=ay(t);for(;hq(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return are;let s=i.pow(r,e);const o=(e+Bo)/gw;return function(c,l){if(c.is0(l))return l;if(hq(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let f=1,g=c.sqr(h);for(;!c.eql(g,c.ONE);)if(f++,g=c.sqr(g),f===u)throw new Error("Cannot find square root");const m=Bo<<BigInt(u-f-1),b=c.pow(d,m);u=f,d=c.sqr(b),h=c.mul(h,d),p=c.mul(p,b)}return p}}function T9e(t){return t%rre===nre?are:t%sre===ire?k9e:t%ore===A9e?$9e(t):cre(t)}const N9e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function O9e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=N9e.reduce((r,i)=>(r[i]="function",r),e);return TU(t,n),t}function P9e(t,e,n){if(n<cc)throw new Error("invalid exponent, negatives unsupported");if(n===cc)return t.ONE;if(n===Bo)return e;let r=t.ONE,i=e;for(;n>cc;)n&Bo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Bo;return r}function lre(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function hq(t,e){const n=(t.ORDER-Bo)/gw,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function ure(t,e){e!==void 0&&vg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ay(t,e,n=!1,r={}){if(t<=cc)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=ure(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:F_(c),ZERO:cc,ONE:Bo,allowedLengths:a,create:h=>eu(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return cc<=h&&h<t},is0:h=>h===cc,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&Bo)===Bo,neg:h=>eu(-h,t),eql:(h,p)=>h===p,sqr:h=>eu(h*h,t),add:(h,p)=>eu(h+p,t),sub:(h,p)=>eu(h-p,t),mul:(h,p)=>eu(h*p,t),pow:(h,p)=>P9e(d,h,p),div:(h,p)=>eu(h*dq(p,t),t),sqrN:h=>h*h,addN:(h,p)=>h+p,subN:(h,p)=>h-p,mulN:(h,p)=>h*p,inv:h=>dq(h,t),sqrt:s||(h=>(u||(u=T9e(t)),u(d,h))),toBytes:h=>n?ere(h,l):$U(h,l),fromBytes:(h,p=!0)=>{if(a){if(!a.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const g=new Uint8Array(l);g.set(h,n?0:g.length-h.length),h=g}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let f=n?Qne(h):rk(h);if(o&&(f=eu(f,t)),!p&&!d.isValid(f))throw new Error("invalid field element: outside of range 0..ORDER");return f},invertBatch:h=>lre(d,h),cmov:(h,p,f)=>f?p:h});return Object.freeze(d)}function dre(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function hre(t){const e=dre(t);return e+Math.ceil(e/2)}function R9e(t,e,n=!1){const r=t.length,i=dre(e),s=hre(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Qne(t):rk(t),a=eu(o,e-Bo)+Bo;return n?ere(a,i):$U(a,i)}const B1=BigInt(0),mw=BigInt(1);function tx(t,e){const n=e.negate();return t?n:e}function K$(t,e){const n=lre(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function pre(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Z$(t,e){pre(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=F_(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function pq(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=mw);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:p,offsetF:l}}function D9e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function U9e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const G$=new WeakMap,fre=new WeakMap;function Y$(t){return fre.get(t)||1}function fq(t){if(t!==B1)throw new Error("invalid wNAF")}let M9e=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>B1;)n&mw&&(r=r.add(i)),i=i.double(),n>>=mw;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=Z$(n,this.bits),s=[];let o=e,a=o;for(let c=0;c<r;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=Z$(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:p}=pq(r,a,o);r=c,u?s=s.add(tx(h,n[p])):i=i.add(tx(d,n[l]))}return fq(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=Z$(e,this.bits);for(let o=0;o<s.windows&&r!==B1;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=pq(r,o,s);if(r=a,!l){const d=n[c];i=i.add(u?d.negate():d)}}return fq(r),i}getPrecomputes(e,n,r){let i=G$.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),G$.set(n,i))),i}cached(e,n,r){const i=Y$(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=Y$(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){pre(n,this.bits),fre.set(e,n),G$.delete(e)}hasCache(e){return Y$(e)!==1}};function L9e(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>B1||r>B1;)n&mw&&(s=s.add(i)),r&mw&&(o=o.add(i)),i=i.double(),n>>=mw,r>>=mw;return{p1:s,p2:o}}function j9e(t,e,n,r){D9e(n,t),U9e(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=tre(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=F_(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let p=d;p>=0;p-=c){u.fill(o);for(let g=0;g<s;g++){const m=r[g],b=Number(m>>BigInt(p)&l);u[b]=u[b].add(n[g])}let f=o;for(let g=u.length-1,m=o;g>0;g--)m=m.add(u[g]),f=f.add(m);if(h=h.add(f),p!==0)for(let g=0;g<c;g++)h=h.double()}return h}function gq(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return O9e(e),e}else return ay(t,{isLE:n})}function B9e(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>B1))throw new Error(`CURVE.${c} must be positive bigint`)}const i=gq(e.p,n.Fp,r),s=gq(e.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}const mq=(t,e)=>(t+(t>=0?e:-e)/gre)/e;function z9e(t,e,n){const[[r,i],[s,o]]=e,a=mq(o*t,n),c=mq(-i*t,n);let l=t-a*r-c*s,u=-a*i-c*o;const d=l<ep,h=u<ep;d&&(l=-l),h&&(u=-u);const p=F_(Math.ceil(tre(n)/2))+w1;if(l<ep||l>=p||u<ep||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function KP(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function J$(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return ex(n.lowS,"lowS"),ex(n.prehash,"prehash"),n.format!==void 0&&KP(n.format),n}let W9e=class extends Error{constructor(e=""){super(e)}};const Lh={Err:W9e,_tlv:{encode:(t,e)=>{const{Err:n}=Lh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=P5(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?P5(i.length/2|128):"";return P5(t)+s+i+e},decode(t,e){const{Err:n}=Lh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Lh;if(t<ep)throw new e("integer: negative integers are not allowed");let n=P5(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Lh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return rk(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Lh,i=da("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Lh,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},ep=BigInt(0),w1=BigInt(1),gre=BigInt(2),R5=BigInt(3),q9e=BigInt(4);function Gb(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=da("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function F9e(t,e={}){const n=B9e("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;TU(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=wre(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(D,O,T){const{x:E,y:_}=O.toAffine(),x=r.toBytes(E);if(ex(T,"isCompressed"),T){u();const M=!r.isOdd(_);return iu(mre(M),x)}else return iu(Uint8Array.of(4),x,r.toBytes(_))}function h(D){fw(D,void 0,"Point");const{publicKey:O,publicKeyUncompressed:T}=l,E=D.length,_=D[0],x=D.subarray(1);if(E===O&&(_===2||_===3)){const M=r.fromBytes(x);if(!r.isValid(M))throw new Error("bad point: is not on curve, wrong x");const A=g(M);let U;try{U=r.sqrt(A)}catch(H){const q=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+q)}u();const B=r.isOdd(U);return(_&1)===1!==B&&(U=r.neg(U)),{x:M,y:U}}else if(E===T&&_===4){const M=r.BYTES,A=r.fromBytes(x.subarray(0,M)),U=r.fromBytes(x.subarray(M,M*2));if(!m(A,U))throw new Error("bad point: is not on curve");return{x:A,y:U}}else throw new Error(`bad point: got length ${E}, expected compressed=${O} or uncompressed=${T}`)}const p=e.toBytes||d,f=e.fromBytes||h;function g(D){const O=r.sqr(D),T=r.mul(O,D);return r.add(r.add(T,r.mul(D,s.a)),s.b)}function m(D,O){const T=r.sqr(O),E=g(D);return r.eql(T,E)}if(!m(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(s.a,R5),q9e),y=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(b,y)))throw new Error("bad curve params: a or b");function v(D,O,T=!1){if(!r.isValid(O)||T&&r.is0(O))throw new Error(`bad point coordinate ${D}`);return O}function w(D){if(!(D instanceof S))throw new Error("ProjectivePoint expected")}function C(D){if(!c||!c.basises)throw new Error("no endo");return z9e(D,c.basises,i.ORDER)}const I=uq((D,O)=>{const{X:T,Y:E,Z:_}=D;if(r.eql(_,r.ONE))return{x:T,y:E};const x=D.is0();O==null&&(O=x?r.ONE:r.inv(_));const M=r.mul(T,O),A=r.mul(E,O),U=r.mul(_,O);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(U,r.ONE))throw new Error("invZ was invalid");return{x:M,y:A}}),k=uq(D=>{if(D.is0()){if(e.allowInfinityPoint&&!r.is0(D.Y))return;throw new Error("bad point: ZERO")}const{x:O,y:T}=D.toAffine();if(!r.isValid(O)||!r.isValid(T))throw new Error("bad point: x or y not field elements");if(!m(O,T))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function P(D,O,T,E,_){return T=new S(r.mul(T.X,D),T.Y,T.Z),O=tx(E,O),T=tx(_,T),O.add(T)}class S{constructor(O,T,E){this.X=v("x",O),this.Y=v("y",T,!0),this.Z=v("z",E),Object.freeze(this)}static CURVE(){return s}static fromAffine(O){const{x:T,y:E}=O||{};if(!O||!r.isValid(T)||!r.isValid(E))throw new Error("invalid affine point");if(O instanceof S)throw new Error("projective point not allowed");return r.is0(T)&&r.is0(E)?S.ZERO:new S(T,E,r.ONE)}static fromBytes(O){const T=S.fromAffine(f(fw(O,void 0,"point")));return T.assertValidity(),T}static fromHex(O){return S.fromBytes(da("pointHex",O))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(O=8,T=!0){return R.createCache(this,O),T||this.multiply(R5),this}assertValidity(){k(this)}hasEvenY(){const{y:O}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(O)}equals(O){w(O);const{X:T,Y:E,Z:_}=this,{X:x,Y:M,Z:A}=O,U=r.eql(r.mul(T,A),r.mul(x,_)),B=r.eql(r.mul(E,A),r.mul(M,_));return U&&B}negate(){return new S(this.X,r.neg(this.Y),this.Z)}double(){const{a:O,b:T}=s,E=r.mul(T,R5),{X:_,Y:x,Z:M}=this;let A=r.ZERO,U=r.ZERO,B=r.ZERO,z=r.mul(_,_),H=r.mul(x,x),q=r.mul(M,M),F=r.mul(_,x);return F=r.add(F,F),B=r.mul(_,M),B=r.add(B,B),A=r.mul(O,B),U=r.mul(E,q),U=r.add(A,U),A=r.sub(H,U),U=r.add(H,U),U=r.mul(A,U),A=r.mul(F,A),B=r.mul(E,B),q=r.mul(O,q),F=r.sub(z,q),F=r.mul(O,F),F=r.add(F,B),B=r.add(z,z),z=r.add(B,z),z=r.add(z,q),z=r.mul(z,F),U=r.add(U,z),q=r.mul(x,M),q=r.add(q,q),z=r.mul(q,F),A=r.sub(A,z),B=r.mul(q,H),B=r.add(B,B),B=r.add(B,B),new S(A,U,B)}add(O){w(O);const{X:T,Y:E,Z:_}=this,{X:x,Y:M,Z:A}=O;let U=r.ZERO,B=r.ZERO,z=r.ZERO;const H=s.a,q=r.mul(s.b,R5);let F=r.mul(T,x),K=r.mul(E,M),ee=r.mul(_,A),se=r.add(T,E),te=r.add(x,M);se=r.mul(se,te),te=r.add(F,K),se=r.sub(se,te),te=r.add(T,_);let ue=r.add(x,A);return te=r.mul(te,ue),ue=r.add(F,ee),te=r.sub(te,ue),ue=r.add(E,_),U=r.add(M,A),ue=r.mul(ue,U),U=r.add(K,ee),ue=r.sub(ue,U),z=r.mul(H,te),U=r.mul(q,ee),z=r.add(U,z),U=r.sub(K,z),z=r.add(K,z),B=r.mul(U,z),K=r.add(F,F),K=r.add(K,F),ee=r.mul(H,ee),te=r.mul(q,te),K=r.add(K,ee),ee=r.sub(F,ee),ee=r.mul(H,ee),te=r.add(te,ee),F=r.mul(K,te),B=r.add(B,F),F=r.mul(ue,te),U=r.mul(se,U),U=r.sub(U,F),F=r.mul(se,K),z=r.mul(ue,z),z=r.add(z,F),new S(U,B,z)}subtract(O){return this.add(O.negate())}is0(){return this.equals(S.ZERO)}multiply(O){const{endo:T}=e;if(!i.isValidNot0(O))throw new Error("invalid scalar: out of range");let E,_;const x=M=>R.cached(this,M,A=>K$(S,A));if(T){const{k1neg:M,k1:A,k2neg:U,k2:B}=C(O),{p:z,f:H}=x(A),{p:q,f:F}=x(B);_=H.add(F),E=P(T.beta,z,q,M,U)}else{const{p:M,f:A}=x(O);E=M,_=A}return K$(S,[E,_])[0]}multiplyUnsafe(O){const{endo:T}=e,E=this;if(!i.isValid(O))throw new Error("invalid scalar: out of range");if(O===ep||E.is0())return S.ZERO;if(O===w1)return E;if(R.hasCache(this))return this.multiply(O);if(T){const{k1neg:_,k1:x,k2neg:M,k2:A}=C(O),{p1:U,p2:B}=L9e(S,E,x,A);return P(T.beta,U,B,_,M)}else return R.unsafe(E,O)}multiplyAndAddUnsafe(O,T,E){const _=this.multiplyUnsafe(T).add(O.multiplyUnsafe(E));return _.is0()?void 0:_}toAffine(O){return I(this,O)}isTorsionFree(){const{isTorsionFree:O}=e;return o===w1?!0:O?O(S,this):R.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:O}=e;return o===w1?this:O?O(S,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(O=!0){return ex(O,"isCompressed"),this.assertValidity(),p(S,this,O)}toHex(O=!0){return f1(this.toBytes(O))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(O=!0){return this.toBytes(O)}_setWindowSize(O){this.precompute(O)}static normalizeZ(O){return K$(S,O)}static msm(O,T){return j9e(S,i,O,T)}static fromPrivateKey(O){return S.BASE.multiply(Gb(i,O))}}S.BASE=new S(s.Gx,s.Gy,r.ONE),S.ZERO=new S(r.ZERO,r.ONE,r.ZERO),S.Fp=r,S.Fn=i;const N=i.BITS,R=new M9e(S,e.endo?Math.ceil(N/2):N);return S.BASE.precompute(8),S}function mre(t){return Uint8Array.of(t?2:3)}function wre(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function H9e(t,e={}){const{Fn:n}=t,r=e.randomBytes||P_,i=Object.assign(wre(t.Fp,n),{seed:hre(n.ORDER)});function s(p){try{return!!Gb(n,p)}catch{return!1}}function o(p,f){const{publicKey:g,publicKeyUncompressed:m}=i;try{const b=p.length;return f===!0&&b!==g||f===!1&&b!==m?!1:!!t.fromBytes(p)}catch{return!1}}function a(p=r(i.seed)){return R9e(fw(p,i.seed,"seed"),n.ORDER)}function c(p,f=!0){return t.BASE.multiply(Gb(n,p)).toBytes(f)}function l(p){const f=a(p);return{secretKey:f,publicKey:c(f)}}function u(p){if(typeof p=="bigint")return!1;if(p instanceof t)return!0;const{secretKey:f,publicKey:g,publicKeyUncompressed:m}=i;if(n.allowedLengths||f===g)return;const b=da("key",p).length;return b===g||b===m}function d(p,f,g=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(f)===!1)throw new Error("second arg must be public key");const m=Gb(n,p);return t.fromHex(f).multiply(m).toBytes(g)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:p=>Gb(n,p),precompute(p=8,f=t.BASE){return f.precompute(p,!1)}},lengths:i})}function V9e(t,e,n={}){hte(e),TU(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||P_,i=n.hmac||((T,...E)=>U_(e,T,iu(...E))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:p}=H9e(t,n),f={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function m(T){const E=a>>w1;return T>E}function b(T,E){if(!o.isValidNot0(E))throw new Error(`invalid signature ${T}: out of range 1..Point.Fn.ORDER`);return E}function y(T,E){KP(E);const _=p.signature,x=E==="compact"?_:E==="recovered"?_+1:void 0;return fw(T,x,`${E} signature`)}class v{constructor(E,_,x){this.r=b("r",E),this.s=b("s",_),x!=null&&(this.recovery=x),Object.freeze(this)}static fromBytes(E,_=g){y(E,_);let x;if(_==="der"){const{r:B,s:z}=Lh.toSig(fw(E));return new v(B,z)}_==="recovered"&&(x=E[0],_="compact",E=E.subarray(1));const M=o.BYTES,A=E.subarray(0,M),U=E.subarray(M,M*2);return new v(o.fromBytes(A),o.fromBytes(U),x)}static fromHex(E,_){return this.fromBytes(HS(E),_)}addRecoveryBit(E){return new v(this.r,this.s,E)}recoverPublicKey(E){const _=s.ORDER,{r:x,s:M,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(a*gre<_&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=A===2||A===3?x+a:x;if(!s.isValid(B))throw new Error("recovery id 2 or 3 invalid");const z=s.toBytes(B),H=t.fromBytes(iu(mre((A&1)===0),z)),q=o.inv(B),F=C(da("msgHash",E)),K=o.create(-F*q),ee=o.create(M*q),se=t.BASE.multiplyUnsafe(K).add(H.multiplyUnsafe(ee));if(se.is0())throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return m(this.s)}toBytes(E=g){if(KP(E),E==="der")return HS(Lh.hexFromSig(this));const _=o.toBytes(this.r),x=o.toBytes(this.s);if(E==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return iu(Uint8Array.of(this.recovery),_,x)}return iu(_,x)}toHex(E){return f1(this.toBytes(E))}assertValidity(){}static fromCompact(E){return v.fromBytes(da("sig",E),"compact")}static fromDER(E){return v.fromBytes(da("sig",E),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return f1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return f1(this.toBytes("compact"))}}const w=n.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");const _=rk(E),x=E.length*8-c;return x>0?_>>BigInt(x):_},C=n.bits2int_modN||function(E){return o.create(w(E))},I=F_(c);function k(T){return I9e("num < 2^"+c,T,ep,I),o.toBytes(T)}function P(T,E){return fw(T,void 0,"message"),E?fw(e(T),void 0,"prehashed message"):T}function S(T,E,_){if(["recovered","canonical"].some(K=>K in _))throw new Error("sign() legacy options not supported");const{lowS:x,prehash:M,extraEntropy:A}=J$(_,f);T=P(T,M);const U=C(T),B=Gb(o,E),z=[k(B),k(U)];if(A!=null&&A!==!1){const K=A===!0?r(p.secretKey):A;z.push(da("extraEntropy",K))}const H=iu(...z),q=U;function F(K){const ee=w(K);if(!o.isValidNot0(ee))return;const se=o.inv(ee),te=t.BASE.multiply(ee).toAffine(),ue=o.create(te.x);if(ue===ep)return;const ge=o.create(se*o.create(q+ue*B));if(ge===ep)return;let $e=(te.x===ue?0:2)|Number(te.y&w1),he=ge;return x&&m(ge)&&(he=o.neg(ge),$e^=1),new v(ue,he,$e)}return{seed:H,k2sig:F}}function N(T,E,_={}){T=da("message",T);const{seed:x,k2sig:M}=S(T,E,_);return S9e(e.outputLen,o.BYTES,i)(x,M)}function R(T){let E;const _=typeof T=="string"||qA(T),x=!_&&T!==null&&typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!_&&!x)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(x)E=new v(T.r,T.s);else if(_){try{E=v.fromBytes(da("sig",T),"der")}catch(M){if(!(M instanceof Lh.Err))throw M}if(!E)try{E=v.fromBytes(da("sig",T),"compact")}catch{return!1}}return E||!1}function D(T,E,_,x={}){const{lowS:M,prehash:A,format:U}=J$(x,f);if(_=da("publicKey",_),E=P(da("message",E),A),"strict"in x)throw new Error("options.strict was renamed to lowS");const B=U===void 0?R(T):v.fromBytes(da("sig",T),U);if(B===!1)return!1;try{const z=t.fromBytes(_);if(M&&B.hasHighS())return!1;const{r:H,s:q}=B,F=C(E),K=o.inv(q),ee=o.create(F*K),se=o.create(H*K),te=t.BASE.multiplyUnsafe(ee).add(z.multiplyUnsafe(se));return te.is0()?!1:o.create(te.x)===H}catch{return!1}}function O(T,E,_={}){const{prehash:x}=J$(_,f);return E=P(E,x),v.fromBytes(T,"recovered").recoverPublicKey(E).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:p,Point:t,sign:N,verify:D,recoverPublicKey:O,Signature:v,hash:e})}function K9e(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=ay(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Z9e(t){const{CURVE:e,curveOpts:n}=K9e(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function G9e(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,ure(n.Fn.ORDER,n.Fn.BITS))})}function Y9e(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=Z9e(t),s=F9e(e,n),o=V9e(s,r,i);return G9e(t,o)}function OU(t,e){const n=r=>Y9e({...t,hash:r});return{...n(e),create:n}}function J9e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function yre(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function nx(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function PU(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function ZP(t){if(!Array.isArray(t))throw new Error("array expected")}function rx(t,e){if(!yre(!0,e))throw new Error(`${t}: array of strings expected`)}function X9e(t,e){if(!yre(!1,e))throw new Error(`${t}: array of numbers expected`)}function Q9e(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function e7e(t){const e=typeof t=="string"?t.split(""):t,n=e.length;rx("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(ZP(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(ZP(i),i.map(s=>{nx("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function t7e(t=""){return nx("join",t),{encode:e=>(rx("join.decode",e),e.join(t)),decode:e=>(nx("join.decode",e),e.split(t))}}function n7e(t,e="="){return PU(t),nx("padding",e),{encode(n){for(rx("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){rx("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const bre=(t,e)=>e===0?t:bre(e,t%e),ix=(t,e)=>t+(e-bre(t,e)),X$=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function wq(t,e,n,r){if(ZP(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ix(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${ix(e,n)}`);let i=0,s=0;const o=X$[e],a=X$[n]-1,c=[];for(const l of t){if(PU(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)c.push((i>>s-n&a)>>>0);const u=X$[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function r7e(t,e=!1){if(PU(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(ix(8,t)>32||ix(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!J9e(n))throw new Error("radix2.encode input should be Uint8Array");return wq(Array.from(n),8,t,!e)},decode:n=>(X9e("radix2.decode",n),Uint8Array.from(wq(n,t,8,e)))}}const i7e=Q9e(r7e(5),e7e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),n7e(5),t7e(""));function s7e(t){return HPe(o7e(t))}function o7e(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,a=new w9e.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(xU(e).substring(2));return UPe(a)}function a7e(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const p=l.length;for(;h!==p&&l[h]===0;)h++,u++;const f=(p-h)*s+1>>>0,g=new Uint8Array(f);for(;h!==p;){let y=l[h],v=0;for(let w=f-1;(y!==0||v<d)&&w!==-1;w--,v++)y+=256*g[w]>>>0,g[w]=y%n>>>0,y=y/n>>>0;if(y!==0)throw new Error("Non-zero carry");d=v,h++}let m=f-d;for(;m!==f&&g[m]===0;)m++;let b=r.repeat(u);for(;m<f;++m)b+=t.charAt(g[m]);return b}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const p=(l.length-u)*i+1>>>0,f=new Uint8Array(p);for(;u<l.length;){const y=l.charCodeAt(u);if(y>255)return;let v=e[y];if(v===255)return;let w=0;for(let C=p-1;(v!==0||w<h)&&C!==-1;C--,w++)v+=n*f[C]>>>0,f[C]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=w,u++}let g=p-h;for(;g!==p&&f[g]===0;)g++;const m=new Uint8Array(d+(p-g));let b=d;for(;g!==p;)m[b++]=f[g++];return m}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var c7e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Bp=a7e(c7e);function l7e(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function u7e(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const d7e=new TextEncoder,h7e=50;function p7e(t,e,n){d7e.encodeInto(t,e.subarray(n))}function f7e(t,e,n){t.length>h7e?p7e(t,e,n):u7e(t,e,n)}const g7e=4096;function vre(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[r++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|d&1023),s.push(d)}else s.push(a);s.length>=g7e&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const m7e=new TextDecoder,w7e=200;function y7e(t,e,n){const r=t.subarray(e,e+n);return m7e.decode(r)}function b7e(t,e,n){return n>w7e?y7e(t,e,n):vre(t,e,n)}class D5{constructor(e,n){this.type=e,this.data=n}}class Qa extends Error{constructor(e){super(e);const n=Object.create(Qa.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Qa.name})}}const F2=4294967295;function v7e(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function Ere(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function Cre(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function E7e(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const C7e=-1,_7e=4294967296-1,I7e=17179869184-1;function S7e({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=I7e)if(e===0&&t<=_7e){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),Ere(r,4,t),n}}function x7e(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function A7e(t){if(t instanceof Date){const e=x7e(t);return S7e(e)}else return null}function k7e(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=Cre(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Qa(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function $7e(t){const e=k7e(t);return new Date(e.sec*1e3+e.nsec/1e6)}const T7e={type:C7e,encode:A7e,decode:$7e};class sx{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(T7e)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new D5(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new D5(o,s)}}}return e instanceof D5?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new D5(n,e)}}sx.defaultCodec=new sx;function N7e(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function GP(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):N7e(t)?new Uint8Array(t):Uint8Array.from(t)}const O7e=100,P7e=2048;let R7e=class _re{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??sx.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??O7e,this.initialBufferSize=e?.initialBufferSize??P7e,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new _re({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=l7e(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),f7e(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=GP(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),v7e(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),Ere(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function D7e(t,e){return new R7e(e).encodeSharedRef(t)}function Q$(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const U7e=16,M7e=16;class L7e{constructor(e=U7e,n=M7e){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=vre(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const YP="array",dE="map_key",Ire="map_value",j7e=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Qa("The type of key must be string or number but "+typeof t)};class B7e{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=YP,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=dE,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===YP){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===dE||e.type===Ire){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const H2=-1,RU=new DataView(new ArrayBuffer(0)),z7e=new Uint8Array(RU.buffer);try{RU.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const yq=new RangeError("Insufficient data"),W7e=new L7e;let q7e=class Sre{constructor(e){this.totalPos=0,this.pos=0,this.view=RU,this.bytes=z7e,this.headByte=H2,this.stack=new B7e,this.entered=!1,this.extensionCodec=e?.extensionCodec??sx.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??F2,this.maxBinLength=e?.maxBinLength??F2,this.maxArrayLength=e?.maxArrayLength??F2,this.maxMapLength=e?.maxMapLength??F2,this.maxExtLength=e?.maxExtLength??F2,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:W7e,this.mapKeyConverter=e?.mapKeyConverter??j7e}clone(){return new Sre({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=H2,this.stack.reset()}setBuffer(e){const n=GP(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===H2&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=GP(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Q$(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Qa(`Unrecognized type byte: ${Q$(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===YP)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===dE){if(n==="__proto__")throw new Qa("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=Ire;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=dE;continue e}}return n}}readHeadByte(){return this.headByte===H2&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=H2}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Qa(`Unrecognized array type byte: ${Q$(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Qa(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Qa(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new Qa(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw yq;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=b7e(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===dE:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Qa(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw yq;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Qa(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=E7e(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Cre(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function F7e(t,e){return new q7e(e).decode(t)}function DU(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function xre(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?DU(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function hE(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=xre(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return DU(n)}function H7e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var g=0,m=0,b=0,y=f.length;b!==y&&f[b]===0;)b++,g++;for(var v=(y-b)*u+1>>>0,w=new Uint8Array(v);b!==y;){for(var C=f[b],I=0,k=v-1;(C!==0||I<m)&&k!==-1;k--,I++)C+=256*w[k]>>>0,w[k]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");m=I,b++}for(var P=v-m;P!==v&&w[P]===0;)P++;for(var S=c.repeat(g);P<v;++P)S+=t.charAt(w[P]);return S}function h(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;var g=0;if(f[g]!==" "){for(var m=0,b=0;f[g]===c;)m++,g++;for(var y=(f.length-g)*l+1>>>0,v=new Uint8Array(y);f[g];){var w=n[f.charCodeAt(g)];if(w===255)return;for(var C=0,I=y-1;(w!==0||C<b)&&I!==-1;I--,C++)w+=a*v[I]>>>0,v[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");b=C,g++}if(f[g]!==" "){for(var k=y-b;k!==y&&v[k]===0;)k++;for(var P=new Uint8Array(m+(y-k)),S=m;k!==y;)P[S++]=v[k++];return P}}}function p(f){var g=h(f);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:p}}var V7e=H7e,K7e=V7e;const Z7e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},G7e=t=>new TextEncoder().encode(t),Y7e=t=>new TextDecoder().decode(t);class J7e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class X7e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Are(this,e)}}class Q7e{constructor(e){this.decoders=e}or(e){return Are(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Are=(t,e)=>new Q7e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class eRe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new J7e(e,n,r),this.decoder=new X7e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ik=({name:t,prefix:e,encode:n,decode:r})=>new eRe(t,e,n,r),H_=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=K7e(n,e);return ik({prefix:t,name:e,encode:r,decode:s=>Z7e(i(s))})},tRe=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},nRe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Zs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>ik({prefix:e,name:t,encode(i){return nRe(i,r,n)},decode(i){return tRe(i,r,n,t)}}),rRe=ik({prefix:"\0",name:"identity",encode:t=>Y7e(t),decode:t=>G7e(t)}),iRe=Object.freeze(Object.defineProperty({__proto__:null,identity:rRe},Symbol.toStringTag,{value:"Module"})),sRe=Zs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),oRe=Object.freeze(Object.defineProperty({__proto__:null,base2:sRe},Symbol.toStringTag,{value:"Module"})),aRe=Zs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),cRe=Object.freeze(Object.defineProperty({__proto__:null,base8:aRe},Symbol.toStringTag,{value:"Module"})),lRe=H_({prefix:"9",name:"base10",alphabet:"0123456789"}),uRe=Object.freeze(Object.defineProperty({__proto__:null,base10:lRe},Symbol.toStringTag,{value:"Module"})),dRe=Zs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hRe=Zs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),pRe=Object.freeze(Object.defineProperty({__proto__:null,base16:dRe,base16upper:hRe},Symbol.toStringTag,{value:"Module"})),fRe=Zs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gRe=Zs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mRe=Zs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wRe=Zs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yRe=Zs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bRe=Zs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vRe=Zs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ERe=Zs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),CRe=Zs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),_Re=Object.freeze(Object.defineProperty({__proto__:null,base32:fRe,base32hex:yRe,base32hexpad:vRe,base32hexpadupper:ERe,base32hexupper:bRe,base32pad:mRe,base32padupper:wRe,base32upper:gRe,base32z:CRe},Symbol.toStringTag,{value:"Module"})),IRe=H_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),SRe=H_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),xRe=Object.freeze(Object.defineProperty({__proto__:null,base36:IRe,base36upper:SRe},Symbol.toStringTag,{value:"Module"})),ARe=H_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kRe=H_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),$Re=Object.freeze(Object.defineProperty({__proto__:null,base58btc:ARe,base58flickr:kRe},Symbol.toStringTag,{value:"Module"})),TRe=Zs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),NRe=Zs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ORe=Zs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),PRe=Zs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),RRe=Object.freeze(Object.defineProperty({__proto__:null,base64:TRe,base64pad:NRe,base64url:ORe,base64urlpad:PRe},Symbol.toStringTag,{value:"Module"})),kre=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),DRe=kre.reduce((t,e,n)=>(t[n]=e,t),[]),URe=kre.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function MRe(t){return t.reduce((e,n)=>(e+=DRe[n],e),"")}function LRe(t){const e=[];for(const n of t){const r=URe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const jRe=ik({prefix:"ðŸš€",name:"base256emoji",encode:MRe,decode:LRe}),BRe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:jRe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const ox={...iRe,...oRe,...cRe,...uRe,...pRe,..._Re,...xRe,...$Re,...RRe,...BRe};function $re(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const bq=$re("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),eT=$re("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=xre(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Tre={utf8:bq,"utf-8":bq,hex:ox.base16,latin1:eT,ascii:eT,binary:eT,...ox};function cl(t,e="utf8"){const n=Tre[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?DU(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Sa(t,e="utf8"){const n=Tre[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const UU={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var tT,vq;function Nre(){if(vq)return tT;vq=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function n(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=r(a[u]).toUpperCase(),l+=" ",l+=r(a[u+1]).toUpperCase();else if(c===64)l+=r(a[u+1]).toUpperCase(),l+=r(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function s(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=h%256;const d=new Date().getTime();console.log("Generated random input in "+(d-l)+"ms"),l=d;for(let h=0;h<c;h++){const p=o(u),f=new Date().getTime(),g=f-l;l=f,console.log("Hashed in "+g+"ms: "+p.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return tT={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:s},tT}var nT,Eq;function zRe(){if(Eq)return nT;Eq=1;const t=Nre();function e(b,y,v){const w=b[y]+b[v];let C=b[y+1]+b[v+1];w>=4294967296&&C++,b[y]=w,b[y+1]=C}function n(b,y,v,w){let C=b[y]+v;v<0&&(C+=4294967296);let I=b[y+1]+w;C>=4294967296&&I++,b[y]=C,b[y+1]=I}function r(b,y){return b[y]^b[y+1]<<8^b[y+2]<<16^b[y+3]<<24}function i(b,y,v,w,C,I){const k=l[C],P=l[C+1],S=l[I],N=l[I+1];e(c,b,y),n(c,b,k,P);let R=c[w]^c[b],D=c[w+1]^c[b+1];c[w]=D,c[w+1]=R,e(c,v,w),R=c[y]^c[v],D=c[y+1]^c[v+1],c[y]=R>>>24^D<<8,c[y+1]=D>>>24^R<<8,e(c,b,y),n(c,b,S,N),R=c[w]^c[b],D=c[w+1]^c[b+1],c[w]=R>>>16^D<<16,c[w+1]=D>>>16^R<<16,e(c,v,w),R=c[y]^c[v],D=c[y+1]^c[v+1],c[y]=D>>>31^R<<1,c[y+1]=R>>>31^D<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(b){return b*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(b,y){let v=0;for(v=0;v<16;v++)c[v]=b.h[v],c[v+16]=s[v];for(c[24]=c[24]^b.t,c[25]=c[25]^b.t/4294967296,y&&(c[28]=~c[28],c[29]=~c[29]),v=0;v<32;v++)l[v]=r(b.b,4*v);for(v=0;v<12;v++)i(0,8,16,24,a[v*16+0],a[v*16+1]),i(2,10,18,26,a[v*16+2],a[v*16+3]),i(4,12,20,28,a[v*16+4],a[v*16+5]),i(6,14,22,30,a[v*16+6],a[v*16+7]),i(0,10,20,30,a[v*16+8],a[v*16+9]),i(2,12,22,24,a[v*16+10],a[v*16+11]),i(4,14,16,26,a[v*16+12],a[v*16+13]),i(6,8,18,28,a[v*16+14],a[v*16+15]);for(v=0;v<16;v++)b.h[v]=b.h[v]^c[v]^c[v+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function h(b,y,v,w){if(b===0||b>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(y&&y.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(v&&v.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(w&&w.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const C={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:b};d.fill(0),d[0]=b,y&&(d[1]=y.length),d[2]=1,d[3]=1,v&&d.set(v,32),w&&d.set(w,48);for(let I=0;I<16;I++)C.h[I]=s[I]^r(d,I*4);return y&&(p(C,y),C.c=128),C}function p(b,y){for(let v=0;v<y.length;v++)b.c===128&&(b.t+=b.c,u(b,!1),b.c=0),b.b[b.c++]=y[v]}function f(b){for(b.t+=b.c;b.c<128;)b.b[b.c++]=0;u(b,!0);const y=new Uint8Array(b.outlen);for(let v=0;v<b.outlen;v++)y[v]=b.h[v>>2]>>8*(v&3);return y}function g(b,y,v,w,C){v=v||64,b=t.normalizeInput(b),w&&(w=t.normalizeInput(w)),C&&(C=t.normalizeInput(C));const I=h(v,y,w,C);return p(I,b),f(I)}function m(b,y,v,w,C){const I=g(b,y,v,w,C);return t.toHex(I)}return nT={blake2b:g,blake2bHex:m,blake2bInit:h,blake2bUpdate:p,blake2bFinal:f},nT}var rT,Cq;function WRe(){if(Cq)return rT;Cq=1;const t=Nre();function e(f,g){return f[g]^f[g+1]<<8^f[g+2]<<16^f[g+3]<<24}function n(f,g,m,b,y,v){o[f]=o[f]+o[g]+y,o[b]=r(o[b]^o[f],16),o[m]=o[m]+o[b],o[g]=r(o[g]^o[m],12),o[f]=o[f]+o[g]+v,o[b]=r(o[b]^o[f],8),o[m]=o[m]+o[b],o[g]=r(o[g]^o[m],7)}function r(f,g){return f>>>g^f<<32-g}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(f,g){let m=0;for(m=0;m<8;m++)o[m]=f.h[m],o[m+8]=i[m];for(o[12]^=f.t,o[13]^=f.t/4294967296,g&&(o[14]=~o[14]),m=0;m<16;m++)a[m]=e(f.b,4*m);for(m=0;m<10;m++)n(0,4,8,12,a[s[m*16+0]],a[s[m*16+1]]),n(1,5,9,13,a[s[m*16+2]],a[s[m*16+3]]),n(2,6,10,14,a[s[m*16+4]],a[s[m*16+5]]),n(3,7,11,15,a[s[m*16+6]],a[s[m*16+7]]),n(0,5,10,15,a[s[m*16+8]],a[s[m*16+9]]),n(1,6,11,12,a[s[m*16+10]],a[s[m*16+11]]),n(2,7,8,13,a[s[m*16+12]],a[s[m*16+13]]),n(3,4,9,14,a[s[m*16+14]],a[s[m*16+15]]);for(m=0;m<8;m++)f.h[m]^=o[m]^o[m+8]}function l(f,g){if(!(f>0&&f<=32))throw new Error("Incorrect output length, should be in [1, 32]");const m=g?g.length:0;if(g&&!(m>0&&m<=32))throw new Error("Incorrect key length, should be in [1, 32]");const b={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:f};return b.h[0]^=16842752^m<<8^f,m>0&&(u(b,g),b.c=64),b}function u(f,g){for(let m=0;m<g.length;m++)f.c===64&&(f.t+=f.c,c(f,!1),f.c=0),f.b[f.c++]=g[m]}function d(f){for(f.t+=f.c;f.c<64;)f.b[f.c++]=0;c(f,!0);const g=new Uint8Array(f.outlen);for(let m=0;m<f.outlen;m++)g[m]=f.h[m>>2]>>8*(m&3)&255;return g}function h(f,g,m){m=m||32,f=t.normalizeInput(f);const b=l(m,g);return u(b,f),d(b)}function p(f,g,m){const b=h(f,g,m);return t.toHex(b)}return rT={blake2s:h,blake2sHex:p,blake2sInit:l,blake2sUpdate:u,blake2sFinal:d},rT}var iT,_q;function qRe(){if(_q)return iT;_q=1;const t=zRe(),e=WRe();return iT={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},iT}var FRe=qRe(),HRe={};const VRe=":";function ip(t){const[e,n]=t.split(VRe);return{namespace:e,reference:n}}function Ore(t,e){return t.includes(":")?[t]:e.chains||[]}var KRe=Object.defineProperty,ZRe=Object.defineProperties,GRe=Object.getOwnPropertyDescriptors,Iq=Object.getOwnPropertySymbols,YRe=Object.prototype.hasOwnProperty,JRe=Object.prototype.propertyIsEnumerable,JP=(t,e,n)=>e in t?KRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sq=(t,e)=>{for(var n in e||(e={}))YRe.call(e,n)&&JP(t,n,e[n]);if(Iq)for(var n of Iq(e))JRe.call(e,n)&&JP(t,n,e[n]);return t},XRe=(t,e)=>ZRe(t,GRe(e)),xq=(t,e,n)=>JP(t,typeof e!="symbol"?e+"":e,n);const QRe="ReactNative",lc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},eDe="js";function ax(){return typeof window.process<"u"&&typeof window.process.versions<"u"&&typeof window.process.versions.node<"u"}function Hg(){return!_r.getDocument()&&!!_r.getNavigator()&&navigator.product===QRe}function tDe(){return Hg()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function nDe(){return Hg()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function Jv(){return!ax()&&!!_r.getNavigator()&&!!_r.getDocument()}function V_(){return Hg()?lc.reactNative:ax()?lc.node:Jv()?lc.browser:lc.unknown}function Aq(){var t;try{return Hg()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function rDe(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function iDe(t){var e,n;const r=Pre();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),XRe(Sq(Sq({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Pre(){return EU.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function sDe(){if(V_()===lc.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=vU();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function oDe(){var t;const e=V_();return e===lc.browser?[e,((t=_r.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Rre(t,e,n){const r=sDe(),i=oDe();return[[t,e].join("-"),[eDe,n].join("-"),r,i].join("/")}function aDe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=Rre(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=rDe(l[1]||"",d);return l[0]+"?"+h}function ww(t,e){return t.filter(n=>e.includes(n)).length===t.length}function XP(t){return Object.fromEntries(t.entries())}function QP(t){return new Map(Object.entries(t))}function Hm(t=Y.FIVE_MINUTES,e){const n=Y.toMiliseconds(t||Y.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function ud(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Dre(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function cDe(t){return Dre("topic",t)}function lDe(t){return Dre("id",t)}function Ure(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ti(t,e){return Y.fromMiliseconds(Date.now()+Y.toMiliseconds(t))}function sd(t){return Date.now()>=Y.toMiliseconds(t)}function Xn(t,e){return`${t}${e?`:${e}`:""}`}function gd(t=[],e=[]){return[...new Set([...t,...e])]}async function uDe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const o=dDe(s,t,e),a=V_();if(a===lc.browser){if(!((r=_r.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}hDe(o)}else a===lc.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function dDe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${mDe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function hDe(t){let e="_self";gDe()?e="_top":(fDe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function pDe(t,e){let n="";try{if(Jv()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function kq(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function $q(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function MU(){return typeof window.process<"u"&&HRe.IS_VITEST==="true"}function fDe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gDe(){try{return window.self!==window.top}catch{return!1}}function mDe(t,e=!1){const n=window.Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Mre(t){return window.Buffer.from(t,"base64").toString("utf-8")}function wDe(t){return new Promise(e=>setTimeout(e,t))}let yDe=class{constructor({limit:e}){xq(this,"limit"),xq(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const U5=BigInt(2**32-1),Tq=BigInt(32);function Lre(t,e=!1){return e?{h:Number(t&U5),l:Number(t>>Tq&U5)}:{h:Number(t>>Tq&U5)|0,l:Number(t&U5)|0}}function jre(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=Lre(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Nq=(t,e,n)=>t>>>n,Oq=(t,e,n)=>t<<32-n|e>>>n,Nf=(t,e,n)=>t>>>n|e<<32-n,Of=(t,e,n)=>t<<32-n|e>>>n,V3=(t,e,n)=>t<<64-n|e>>>n-32,K3=(t,e,n)=>t>>>n-32|e<<64-n,bDe=(t,e)=>e,vDe=(t,e)=>t,EDe=(t,e,n)=>t<<n|e>>>32-n,CDe=(t,e,n)=>e<<n|t>>>32-n,_De=(t,e,n)=>e<<n-32|t>>>64-n,IDe=(t,e,n)=>t<<n-32|e>>>64-n;function Ql(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const LU=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),jU=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,SDe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),xDe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ADe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),kDe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Zy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function sk(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function _u(t,...e){if(!sk(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ok(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");wp(t.outputLen),wp(t.blockLen)}function Ig(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BU(t,e){_u(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function uC(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function fl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function sT(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qu(t,e){return t<<32-e|t>>>e}const Bre=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function zre(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const kh=Bre?t=>t:t=>zre(t);function $De(t){for(let e=0;e<t.length;e++)t[e]=zre(t[e]);return t}const Pf=Bre?t=>t:$De,Wre=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",TDe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function y1(t){if(_u(t),Wre)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=TDe[t[n]];return e}const ch={_0:48,_9:57,A:65,F:70,a:97,f:102};function Pq(t){if(t>=ch._0&&t<=ch._9)return t-ch._0;if(t>=ch.A&&t<=ch.F)return t-(ch.A-10);if(t>=ch.a&&t<=ch.f)return t-(ch.a-10)}function cx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Wre)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Pq(t.charCodeAt(s)),a=Pq(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function qre(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function yu(t){return typeof t=="string"&&(t=qre(t)),_u(t),t}function qf(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];_u(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let ak=class{};function K_(t){const e=r=>t().update(yu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function NDe(t){const e=(r,i)=>t(i).update(yu(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function cy(t=32){if(Zy&&typeof Zy.getRandomValues=="function")return Zy.getRandomValues(new Uint8Array(t));if(Zy&&typeof Zy.randomBytes=="function")return Uint8Array.from(Zy.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const ODe=BigInt(0),V2=BigInt(1),PDe=BigInt(2),RDe=BigInt(7),DDe=BigInt(256),UDe=BigInt(113),Fre=[],Hre=[],Vre=[];for(let t=0,e=V2,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Fre.push(2*(5*r+n)),Hre.push((t+1)*(t+2)/2%64);let i=ODe;for(let s=0;s<7;s++)e=(e<<V2^(e>>RDe)*UDe)%DDe,e&PDe&&(i^=V2<<(V2<<BigInt(s))-V2);Vre.push(i)}const Kre=jre(Vre,!0),MDe=Kre[0],LDe=Kre[1],Rq=(t,e,n)=>n>32?_De(t,e,n):EDe(t,e,n),Dq=(t,e,n)=>n>32?IDe(t,e,n):CDe(t,e,n);function jDe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=Rq(l,u,1)^n[a],h=Dq(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Hre[o],c=Rq(i,s,a),l=Dq(i,s,a),u=Fre[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=MDe[r],t[1]^=LDe[r]}fl(n)}let BDe=class Zre extends ak{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,wp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=uC(this.state)}clone(){return this._cloneInto()}keccak(){Pf(this.state32),jDe(this.state32,this.rounds),Pf(this.state32),this.posOut=0,this.pos=0}update(e){Ig(this),e=yu(e),_u(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ig(this,!1),_u(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(BU(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,fl(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Zre(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const zDe=(t,e,n)=>K_(()=>new BDe(e,t,n)),WDe=zDe(1,136,256/8);function qDe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function FDe(t,e,n){return t&e^~t&n}function HDe(t,e,n){return t&e^t&n^e&n}let Gre=class extends ak{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=sT(this.buffer)}update(e){Ig(this),e=yu(e),_u(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=sT(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ig(this),BU(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,fl(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;qDe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=sT(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const af=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),io=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),so=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),VDe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cf=new Uint32Array(64);let KDe=class extends Gre{constructor(e=32){super(64,e,8,!1),this.A=af[0]|0,this.B=af[1]|0,this.C=af[2]|0,this.D=af[3]|0,this.E=af[4]|0,this.F=af[5]|0,this.G=af[6]|0,this.H=af[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)cf[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=cf[d-15],p=cf[d-2],f=qu(h,7)^qu(h,18)^h>>>3,g=qu(p,17)^qu(p,19)^p>>>10;cf[d]=g+cf[d-7]+f+cf[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=qu(a,6)^qu(a,11)^qu(a,25),p=u+h+FDe(a,c,l)+VDe[d]+cf[d]|0,f=(qu(r,2)^qu(r,13)^qu(r,22))+HDe(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+f|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){fl(cf)}destroy(){this.set(0,0,0,0,0,0,0,0),fl(this.buffer)}};const Yre=jre(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ZDe=Yre[0],GDe=Yre[1],lf=new Uint32Array(80),uf=new Uint32Array(80);let zU=class extends Gre{constructor(e=64){super(128,e,16,!1),this.Ah=so[0]|0,this.Al=so[1]|0,this.Bh=so[2]|0,this.Bl=so[3]|0,this.Ch=so[4]|0,this.Cl=so[5]|0,this.Dh=so[6]|0,this.Dl=so[7]|0,this.Eh=so[8]|0,this.El=so[9]|0,this.Fh=so[10]|0,this.Fl=so[11]|0,this.Gh=so[12]|0,this.Gl=so[13]|0,this.Hh=so[14]|0,this.Hl=so[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:p,Gl:f,Hh:g,Hl:m}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,p,f,g,m]}set(e,n,r,i,s,o,a,c,l,u,d,h,p,f,g,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=p|0,this.Gl=f|0,this.Hh=g|0,this.Hl=m|0}process(e,n){for(let v=0;v<16;v++,n+=4)lf[v]=e.getUint32(n),uf[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const w=lf[v-15]|0,C=uf[v-15]|0,I=Nf(w,C,1)^Nf(w,C,8)^Nq(w,C,7),k=Of(w,C,1)^Of(w,C,8)^Oq(w,C,7),P=lf[v-2]|0,S=uf[v-2]|0,N=Nf(P,S,19)^V3(P,S,61)^Nq(P,S,6),R=Of(P,S,19)^K3(P,S,61)^Oq(P,S,6),D=SDe(k,R,uf[v-7],uf[v-16]),O=xDe(D,I,N,lf[v-7],lf[v-16]);lf[v]=O|0,uf[v]=D|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:p,Fl:f,Gh:g,Gl:m,Hh:b,Hl:y}=this;for(let v=0;v<80;v++){const w=Nf(d,h,14)^Nf(d,h,18)^V3(d,h,41),C=Of(d,h,14)^Of(d,h,18)^K3(d,h,41),I=d&p^~d&g,k=h&f^~h&m,P=ADe(y,C,k,GDe[v],uf[v]),S=kDe(P,b,w,I,ZDe[v],lf[v]),N=P|0,R=Nf(r,i,28)^V3(r,i,34)^V3(r,i,39),D=Of(r,i,28)^K3(r,i,34)^K3(r,i,39),O=r&s^r&a^s&a,T=i&o^i&c^o&c;b=g|0,y=m|0,g=p|0,m=f|0,p=d|0,f=h|0,{h:d,l:h}=Ql(l|0,u|0,S|0,N|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const E=LU(N,D,T);r=jU(E,S,R,O),i=E|0}({h:r,l:i}=Ql(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Ql(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Ql(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ql(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Ql(this.Eh|0,this.El|0,d|0,h|0),{h:p,l:f}=Ql(this.Fh|0,this.Fl|0,p|0,f|0),{h:g,l:m}=Ql(this.Gh|0,this.Gl|0,g|0,m|0),{h:b,l:y}=Ql(this.Hh|0,this.Hl|0,b|0,y|0),this.set(r,i,s,o,a,c,l,u,d,h,p,f,g,m,b,y)}roundClean(){fl(lf,uf)}destroy(){fl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},YDe=class extends zU{constructor(){super(48),this.Ah=io[0]|0,this.Al=io[1]|0,this.Bh=io[2]|0,this.Bl=io[3]|0,this.Ch=io[4]|0,this.Cl=io[5]|0,this.Dh=io[6]|0,this.Dl=io[7]|0,this.Eh=io[8]|0,this.El=io[9]|0,this.Fh=io[10]|0,this.Fl=io[11]|0,this.Gh=io[12]|0,this.Gl=io[13]|0,this.Hh=io[14]|0,this.Hl=io[15]|0}};const oo=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let JDe=class extends zU{constructor(){super(32),this.Ah=oo[0]|0,this.Al=oo[1]|0,this.Bh=oo[2]|0,this.Bl=oo[3]|0,this.Ch=oo[4]|0,this.Cl=oo[5]|0,this.Dh=oo[6]|0,this.Dl=oo[7]|0,this.Eh=oo[8]|0,this.El=oo[9]|0,this.Fh=oo[10]|0,this.Fl=oo[11]|0,this.Gh=oo[12]|0,this.Gl=oo[13]|0,this.Hh=oo[14]|0,this.Hl=oo[15]|0}};const ck=K_(()=>new KDe),XDe=K_(()=>new zU),QDe=K_(()=>new YDe),eUe=K_(()=>new JDe),tUe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Wi=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),rt=new Uint32Array(32);function df(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=rt[2*t],l=rt[2*t+1],u=rt[2*e],d=rt[2*e+1],h=rt[2*n],p=rt[2*n+1],f=rt[2*r],g=rt[2*r+1],m=LU(c,u,o);l=jU(m,l,d,a),c=m|0,{Dh:g,Dl:f}={Dh:g^l,Dl:f^c},{Dh:g,Dl:f}={Dh:bDe(g,f),Dl:vDe(g)},{h:p,l:h}=Ql(p,h,g,f),{Bh:d,Bl:u}={Bh:d^p,Bl:u^h},{Bh:d,Bl:u}={Bh:Nf(d,u,24),Bl:Of(d,u,24)},rt[2*t]=c,rt[2*t+1]=l,rt[2*e]=u,rt[2*e+1]=d,rt[2*n]=h,rt[2*n+1]=p,rt[2*r]=f,rt[2*r+1]=g}function hf(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=rt[2*t],l=rt[2*t+1],u=rt[2*e],d=rt[2*e+1],h=rt[2*n],p=rt[2*n+1],f=rt[2*r],g=rt[2*r+1],m=LU(c,u,o);l=jU(m,l,d,a),c=m|0,{Dh:g,Dl:f}={Dh:g^l,Dl:f^c},{Dh:g,Dl:f}={Dh:Nf(g,f,16),Dl:Of(g,f,16)},{h:p,l:h}=Ql(p,h,g,f),{Bh:d,Bl:u}={Bh:d^p,Bl:u^h},{Bh:d,Bl:u}={Bh:V3(d,u,63),Bl:K3(d,u,63)},rt[2*t]=c,rt[2*t+1]=l,rt[2*e]=u,rt[2*e+1]=d,rt[2*n]=h,rt[2*n+1]=p,rt[2*r]=f,rt[2*r+1]=g}function nUe(t,e={},n,r,i){if(wp(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let rUe=class extends ak{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,wp(e),wp(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=uC(this.buffer)}update(e){Ig(this),e=yu(e),_u(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===n&&(Pf(i),this.compress(i,0,!1),Pf(i),this.pos=0);const l=Math.min(n-this.pos,s-c),u=o+c;if(l===n&&!(u%4)&&c+l<s){const d=new Uint32Array(a,u,Math.floor((s-c)/4));Pf(d);for(let h=0;c+n<s;h+=i.length,c+=n)this.length+=n,this.compress(d,h,!1);Pf(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Ig(this),BU(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,fl(this.buffer.subarray(n)),Pf(r),this.compress(r,0,!0),Pf(r);const i=uC(e);this.get().forEach((s,o)=>i[o]=kh(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},iUe=class extends rUe{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Wi[0]|0,this.v0h=Wi[1]|0,this.v1l=Wi[2]|0,this.v1h=Wi[3]|0,this.v2l=Wi[4]|0,this.v2h=Wi[5]|0,this.v3l=Wi[6]|0,this.v3h=Wi[7]|0,this.v4l=Wi[8]|0,this.v4h=Wi[9]|0,this.v5l=Wi[10]|0,this.v5h=Wi[11]|0,this.v6l=Wi[12]|0,this.v6h=Wi[13]|0,this.v7l=Wi[14]|0,this.v7h=Wi[15]|0,nUe(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=yu(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=yu(s);const a=uC(s);this.v4l^=kh(a[0]),this.v4h^=kh(a[1]),this.v5l^=kh(a[2]),this.v5h^=kh(a[3])}if(i!==void 0){i=yu(i);const a=uC(i);this.v6l^=kh(a[0]),this.v6h^=kh(a[1]),this.v7l^=kh(a[2]),this.v7h^=kh(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:p,v6h:f,v7l:g,v7h:m}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,p,f,g,m]}set(e,n,r,i,s,o,a,c,l,u,d,h,p,f,g,m){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=p|0,this.v6h=f|0,this.v7l=g|0,this.v7h=m|0}compress(e,n,r){this.get().forEach((c,l)=>rt[l]=c),rt.set(Wi,16);let{h:i,l:s}=Lre(BigInt(this.length));rt[24]=Wi[8]^s,rt[25]=Wi[9]^i,r&&(rt[28]=~rt[28],rt[29]=~rt[29]);let o=0;const a=tUe;for(let c=0;c<12;c++)df(0,4,8,12,e,n+2*a[o++]),hf(0,4,8,12,e,n+2*a[o++]),df(1,5,9,13,e,n+2*a[o++]),hf(1,5,9,13,e,n+2*a[o++]),df(2,6,10,14,e,n+2*a[o++]),hf(2,6,10,14,e,n+2*a[o++]),df(3,7,11,15,e,n+2*a[o++]),hf(3,7,11,15,e,n+2*a[o++]),df(0,5,10,15,e,n+2*a[o++]),hf(0,5,10,15,e,n+2*a[o++]),df(1,6,11,12,e,n+2*a[o++]),hf(1,6,11,12,e,n+2*a[o++]),df(2,7,8,13,e,n+2*a[o++]),hf(2,7,8,13,e,n+2*a[o++]),df(3,4,9,14,e,n+2*a[o++]),hf(3,4,9,14,e,n+2*a[o++]);this.v0l^=rt[0]^rt[16],this.v0h^=rt[1]^rt[17],this.v1l^=rt[2]^rt[18],this.v1h^=rt[3]^rt[19],this.v2l^=rt[4]^rt[20],this.v2h^=rt[5]^rt[21],this.v3l^=rt[6]^rt[22],this.v3h^=rt[7]^rt[23],this.v4l^=rt[8]^rt[24],this.v4h^=rt[9]^rt[25],this.v5l^=rt[10]^rt[26],this.v5h^=rt[11]^rt[27],this.v6l^=rt[12]^rt[28],this.v6h^=rt[13]^rt[29],this.v7l^=rt[14]^rt[30],this.v7h^=rt[15]^rt[31],fl(rt)}destroy(){this.destroyed=!0,fl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const sUe=NDe(t=>new iUe(t)),oUe="https://rpc.walletconnect.org/v1";function Jre(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+window.Buffer.from(WDe(n)).toString("hex")}async function aUe(t,e,n,r,i,s){switch(n.t){case"eip191":return await cUe(t,e,n.s);case"eip1271":return await lUe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function cUe(t,e,n){const r=y9e(n);return s7e({payload:Jre(e),signature:r}).toLowerCase()===t.toLowerCase()}async function lUe(t,e,n,r,i,s){const o=ip(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:Jre(e)).substring(2),h=a+d+c+u+l,p=await fetch(`${s||oUe}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:uUe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:f}=await p.json();return f?f.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function uUe(){return Date.now()+Math.floor(Math.random()*1e3)}function dUe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=window.Buffer.from(t,"base64").slice(1,65);return Bp.encode(s)}function hUe(t){const e=new Uint8Array(window.Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=sUe(r,{dkLen:32});return Bp.encode(i)}function Uq(t){const e=new Uint8Array(ck(pUe(t)));return Bp.encode(e)}function pUe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Mq(t){const e=window.Buffer.from(t,"base64"),n=F7e(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=D7e(n),i=window.Buffer.from("TX"),s=window.Buffer.concat([i,window.Buffer.from(r)]),o=eUe(s);return i7e.encode(o).replace(/=+$/,"")}function oT(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),window.Buffer.from(e)}function fUe(t){const e=window.Buffer.from(t.signed.bodyBytes,"base64"),n=window.Buffer.from(t.signed.authInfoBytes,"base64"),r=window.Buffer.from(t.signature.signature,"base64"),i=[];i.push(window.Buffer.from([10])),i.push(oT(e.length)),i.push(e),i.push(window.Buffer.from([18])),i.push(oT(n.length)),i.push(n),i.push(window.Buffer.from([26])),i.push(oT(r.length)),i.push(r);const s=window.Buffer.concat(i),o=ck(s);return window.Buffer.from(o).toString("hex").toUpperCase()}function gUe(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var mUe=Object.defineProperty,wUe=Object.defineProperties,yUe=Object.getOwnPropertyDescriptors,Lq=Object.getOwnPropertySymbols,bUe=Object.prototype.hasOwnProperty,vUe=Object.prototype.propertyIsEnumerable,jq=(t,e,n)=>e in t?mUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EUe=(t,e)=>{for(var n in e||(e={}))bUe.call(e,n)&&jq(t,n,e[n]);if(Lq)for(var n of Lq(e))vUe.call(e,n)&&jq(t,n,e[n]);return t},CUe=(t,e)=>wUe(t,yUe(e));const Xre="did:pkh:",_Ue={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},IUe=t=>t?_Ue[t]||t:"",lk=t=>t?.split(":"),SUe=t=>{const e=t&&lk(t);if(e)return t.includes(Xre)?e[3]:e[1]},xUe=t=>{const e=t&&lk(t);if(e)return t.includes(Xre)?e[2]:e[0]},e9=t=>{const e=t&&lk(t);if(e)return e[2]+":"+e[3]},lx=t=>{const e=t&&lk(t);if(e)return e.pop()};async function Bq(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=Qre(i,i.iss),o=lx(i.iss);return await aUe(o,s,r,e9(i.iss),n)}const Qre=(t,e)=>{const n=xUe(e);if(!n)throw new Error("Invalid issuer: "+e);const r=`${t.domain} wants you to sign in with your ${IUe(n)} account:`,i=lx(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${SUe(e)}`,l=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,g=sS(t.resources);if(g){const m=dC(g);s=DUe(s,m)}return[r,i,"",s,"",o,a,c,l,u,d,h,p,f].filter(m=>m!=null).join(`
`)};function AUe(t){return window.Buffer.from(JSON.stringify(t)).toString("base64")}function kUe(t){return JSON.parse(window.Buffer.from(t,"base64").toString("utf-8"))}function Kw(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function $Ue(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:TUe(e,n,r)}}}function TUe(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function eie(t){return Kw(t),`urn:recap:${AUe(t).replace(/=/g,"")}`}function dC(t){const e=kUe(t.replace("urn:recap:",""));return Kw(e),e}function NUe(t,e,n){const r=$Ue(t,e,n);return eie(r)}function OUe(t){return t&&t.includes("urn:recap:")}function PUe(t,e){const n=dC(t),r=dC(e),i=RUe(n,r);return eie(i)}function RUe(t,e){Kw(t),Kw(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=CUe(EUe({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function DUe(t="",e){Kw(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function zq(t){var e;const n=dC(t);Kw(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function Wq(t){const e=dC(t);Kw(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function sS(t){if(!t)return;const e=t?.[t.length-1];return OUe(e)?e:void 0}function tie(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function t9(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function aT(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fa(t,...e){if(!tie(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function qq(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UUe(t,e){fa(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function rg(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function z1(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function MUe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const LUe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jUe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function n9(t){if(typeof t=="string")t=jUe(t);else if(tie(t))t=r9(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function BUe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function zUe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const WUe=(t,e)=>{function n(r,...i){if(fa(r),!LUe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?fa(l):fa(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&fa(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");fa(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,fa(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(fa(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function Fq(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!FUe(e))throw new Error("invalid output, must be aligned");return e}function Hq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function qUe(t,e,n){t9(n);const r=new Uint8Array(16),i=MUe(r);return Hq(i,0,BigInt(e),n),Hq(i,8,BigInt(t),n),r}function FUe(t){return t.byteOffset%4===0}function r9(t){return Uint8Array.from(t)}const nie=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),HUe=nie("expand 16-byte k"),VUe=nie("expand 32-byte k"),KUe=rg(HUe),ZUe=rg(VUe);function xn(t,e){return t<<e|t>>>32-e}function i9(t){return t.byteOffset%4===0}const M5=64,GUe=16,rie=2**32-1,Vq=new Uint32Array;function YUe(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(M5),u=rg(l),d=i9(i)&&i9(s),h=d?rg(i):Vq,p=d?rg(s):Vq;for(let f=0;f<c;o++){if(t(e,n,r,u,o,a),o>=rie)throw new Error("arx: counter overflow");const g=Math.min(M5,c-f);if(d&&g===M5){const m=f/4;if(f%4!==0)throw new Error("arx: invalid block position");for(let b=0,y;b<GUe;b++)y=m+b,p[y]=h[y]^u[b];f+=M5;continue}for(let m=0,b;m<g;m++)b=f+m,s[b]=i[b]^l[m];f+=g}}function JUe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=BUe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return aT(i),aT(o),t9(s),t9(n),(a,c,l,u,d=0)=>{fa(a),fa(c),fa(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),fa(u),aT(d),d<0||d>=rie)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const p=[];let f=a.length,g,m;if(f===32)p.push(g=r9(a)),m=ZUe;else if(f===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),m=KUe,p.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${f}`);i9(c)||p.push(c=r9(c));const b=rg(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,b,rg(c.subarray(0,16)),b),c=c.subarray(16)}const y=16-i;if(y!==c.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(y!==12){const w=new Uint8Array(12);w.set(c,s?0:12-c.length),c=w,p.push(c)}const v=rg(c);return YUe(t,m,b,v,l,u,d,o),z1(...p),u}}const $s=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class XUe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=n9(e),fa(e,32);const n=$s(e,0),r=$s(e,2),i=$s(e,4),s=$s(e,6),o=$s(e,8),a=$s(e,10),c=$s(e,12),l=$s(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=$s(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],p=o[6],f=o[7],g=o[8],m=o[9],b=$s(e,n+0),y=$s(e,n+2),v=$s(e,n+4),w=$s(e,n+6),C=$s(e,n+8),I=$s(e,n+10),k=$s(e,n+12),P=$s(e,n+14);let S=s[0]+(b&8191),N=s[1]+((b>>>13|y<<3)&8191),R=s[2]+((y>>>10|v<<6)&8191),D=s[3]+((v>>>7|w<<9)&8191),O=s[4]+((w>>>4|C<<12)&8191),T=s[5]+(C>>>1&8191),E=s[6]+((C>>>14|I<<2)&8191),_=s[7]+((I>>>11|k<<5)&8191),x=s[8]+((k>>>8|P<<8)&8191),M=s[9]+(P>>>5|i),A=0,U=A+S*a+N*(5*m)+R*(5*g)+D*(5*f)+O*(5*p);A=U>>>13,U&=8191,U+=T*(5*h)+E*(5*d)+_*(5*u)+x*(5*l)+M*(5*c),A+=U>>>13,U&=8191;let B=A+S*c+N*a+R*(5*m)+D*(5*g)+O*(5*f);A=B>>>13,B&=8191,B+=T*(5*p)+E*(5*h)+_*(5*d)+x*(5*u)+M*(5*l),A+=B>>>13,B&=8191;let z=A+S*l+N*c+R*a+D*(5*m)+O*(5*g);A=z>>>13,z&=8191,z+=T*(5*f)+E*(5*p)+_*(5*h)+x*(5*d)+M*(5*u),A+=z>>>13,z&=8191;let H=A+S*u+N*l+R*c+D*a+O*(5*m);A=H>>>13,H&=8191,H+=T*(5*g)+E*(5*f)+_*(5*p)+x*(5*h)+M*(5*d),A+=H>>>13,H&=8191;let q=A+S*d+N*u+R*l+D*c+O*a;A=q>>>13,q&=8191,q+=T*(5*m)+E*(5*g)+_*(5*f)+x*(5*p)+M*(5*h),A+=q>>>13,q&=8191;let F=A+S*h+N*d+R*u+D*l+O*c;A=F>>>13,F&=8191,F+=T*a+E*(5*m)+_*(5*g)+x*(5*f)+M*(5*p),A+=F>>>13,F&=8191;let K=A+S*p+N*h+R*d+D*u+O*l;A=K>>>13,K&=8191,K+=T*c+E*a+_*(5*m)+x*(5*g)+M*(5*f),A+=K>>>13,K&=8191;let ee=A+S*f+N*p+R*h+D*d+O*u;A=ee>>>13,ee&=8191,ee+=T*l+E*c+_*a+x*(5*m)+M*(5*g),A+=ee>>>13,ee&=8191;let se=A+S*g+N*f+R*p+D*h+O*d;A=se>>>13,se&=8191,se+=T*u+E*l+_*c+x*a+M*(5*m),A+=se>>>13,se&=8191;let te=A+S*m+N*g+R*f+D*p+O*h;A=te>>>13,te&=8191,te+=T*d+E*u+_*l+x*c+M*a,A+=te>>>13,te&=8191,A=(A<<2)+A|0,A=A+U|0,U=A&8191,A=A>>>13,B+=A,s[0]=U,s[1]=B,s[2]=z,s[3]=H,s[4]=q,s[5]=F,s[6]=K,s[7]=ee,s[8]=se,s[9]=te}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;z1(r)}update(e){qq(this),e=n9(e),fa(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){z1(this.h,this.r,this.buffer,this.pad)}digestInto(e){qq(this),UUe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function QUe(t){const e=(r,i)=>t(i).update(n9(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const eMe=QUe(t=>new XUe(t));function tMe(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],p=e[3],f=e[4],g=e[5],m=e[6],b=e[7],y=i,v=n[0],w=n[1],C=n[2],I=o,k=a,P=c,S=l,N=u,R=d,D=h,O=p,T=f,E=g,_=m,x=b,M=y,A=v,U=w,B=C;for(let H=0;H<s;H+=2)I=I+N|0,M=xn(M^I,16),T=T+M|0,N=xn(N^T,12),I=I+N|0,M=xn(M^I,8),T=T+M|0,N=xn(N^T,7),k=k+R|0,A=xn(A^k,16),E=E+A|0,R=xn(R^E,12),k=k+R|0,A=xn(A^k,8),E=E+A|0,R=xn(R^E,7),P=P+D|0,U=xn(U^P,16),_=_+U|0,D=xn(D^_,12),P=P+D|0,U=xn(U^P,8),_=_+U|0,D=xn(D^_,7),S=S+O|0,B=xn(B^S,16),x=x+B|0,O=xn(O^x,12),S=S+O|0,B=xn(B^S,8),x=x+B|0,O=xn(O^x,7),I=I+R|0,B=xn(B^I,16),_=_+B|0,R=xn(R^_,12),I=I+R|0,B=xn(B^I,8),_=_+B|0,R=xn(R^_,7),k=k+D|0,M=xn(M^k,16),x=x+M|0,D=xn(D^x,12),k=k+D|0,M=xn(M^k,8),x=x+M|0,D=xn(D^x,7),P=P+O|0,A=xn(A^P,16),T=T+A|0,O=xn(O^T,12),P=P+O|0,A=xn(A^P,8),T=T+A|0,O=xn(O^T,7),S=S+N|0,U=xn(U^S,16),E=E+U|0,N=xn(N^E,12),S=S+N|0,U=xn(U^S,8),E=E+U|0,N=xn(N^E,7);let z=0;r[z++]=o+I|0,r[z++]=a+k|0,r[z++]=c+P|0,r[z++]=l+S|0,r[z++]=u+N|0,r[z++]=d+R|0,r[z++]=h+D|0,r[z++]=p+O|0,r[z++]=f+T|0,r[z++]=g+E|0,r[z++]=m+_|0,r[z++]=b+x|0,r[z++]=y+M|0,r[z++]=v+A|0,r[z++]=w+U|0,r[z++]=C+B|0}const nMe=JUe(tMe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),rMe=new Uint8Array(16),Kq=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(rMe.subarray(n))},iMe=new Uint8Array(32);function Zq(t,e,n,r,i){const s=t(e,n,iMe),o=eMe.create(s);i&&Kq(o,i),Kq(o,r);const a=qUe(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return z1(s,a),c}const sMe=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=Fq(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=Zq(t,e,n,a,r);return s.set(c,o),z1(c),s},decrypt(i,s){s=Fq(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=Zq(t,e,n,o,r);if(!zUe(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),z1(c),s}}),iie=WUe({blockSize:64,nonceLength:12,tagLength:16},sMe(nMe));let sie=class extends ak{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ok(e);const r=yu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),fl(s)}update(e){return Ig(this),this.iHash.update(e),this}digestInto(e){Ig(this),_u(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const uk=(t,e,n)=>new sie(t,e).update(n).digest();uk.create=(t,e)=>new sie(t,e);function oMe(t,e,n){return ok(t),n===void 0&&(n=new Uint8Array(t.outputLen)),uk(t,yu(n),yu(e))}const cT=Uint8Array.from([0]),Gq=Uint8Array.of();function aMe(t,e,n,r=32){ok(t),wp(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=Gq);const o=new Uint8Array(s*i),a=uk.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)cT[0]=u+1,c.update(u===0?Gq:l).update(n).update(cT).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),fl(l,cT),o.slice(0,r)}const cMe=(t,e,n,r,i)=>aMe(t,oMe(t,e,n),r,i),dk=ck,WU=BigInt(0),s9=BigInt(1);function ux(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function yw(t,e,n=""){const r=sk(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function L5(t){const e=t.toString(16);return e.length&1?"0"+e:e}function oie(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?WU:BigInt("0x"+t)}function hk(t){return oie(y1(t))}function dx(t){return _u(t),oie(y1(Uint8Array.from(t).reverse()))}function qU(t,e){return cx(t.toString(16).padStart(e*2,"0"))}function FU(t,e){return qU(t,e).reverse()}function fo(t,e,n){let r;if(typeof e=="string")try{r=cx(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(sk(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const lT=t=>typeof t=="bigint"&&WU<=t;function lMe(t,e,n){return lT(t)&&lT(e)&&lT(n)&&e<=t&&t<n}function o9(t,e,n,r){if(!lMe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function aie(t){let e;for(e=0;t>WU;t>>=s9,e+=1);return e}const Z_=t=>(s9<<BigInt(t))-s9;function uMe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...h)=>n(o,s,...h),u=(h=r(0))=>{o=l(i(0),h),s=l(),h.length!==0&&(o=l(i(1),h),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<e;){s=l();const f=s.slice();p.push(f),h+=s.length}return qf(...p)};return(h,p)=>{c(),u(h);let f;for(;!(f=p(d()));)u();return c(),f}}function pk(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function Yq(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const _a=BigInt(0),zo=BigInt(1),bw=BigInt(2),cie=BigInt(3),lie=BigInt(4),uie=BigInt(5),dMe=BigInt(7),die=BigInt(8),hMe=BigInt(9),hie=BigInt(16);function ec(t,e){const n=t%e;return n>=_a?n:e+n}function Yl(t,e,n){let r=t;for(;e-- >_a;)r*=r,r%=n;return r}function Jq(t,e){if(t===_a)throw new Error("invert: expected non-zero number");if(e<=_a)throw new Error("invert: expected positive modulus, got "+e);let n=ec(t,e),r=e,i=_a,s=zo;for(;n!==_a;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==zo)throw new Error("invert: does not exist");return ec(i,e)}function HU(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function pie(t,e){const n=(t.ORDER+zo)/lie,r=t.pow(e,n);return HU(t,r,e),r}function pMe(t,e){const n=(t.ORDER-uie)/die,r=t.mul(e,bw),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,bw),i),a=t.mul(s,t.sub(o,t.ONE));return HU(t,a,e),a}function fMe(t){const e=Vg(t),n=fie(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+dMe)/hie;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const d=a.mul(l,i),h=a.mul(l,s),p=a.eql(a.sqr(u),c),f=a.eql(a.sqr(d),c);l=a.cmov(l,u,p),u=a.cmov(h,d,f);const g=a.eql(a.sqr(u),c),m=a.cmov(l,u,g);return HU(a,m,c),m}}function fie(t){if(t<cie)throw new Error("sqrt is not defined for small field");let e=t-zo,n=0;for(;e%bw===_a;)e/=bw,n++;let r=bw;const i=Vg(t);for(;Xq(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return pie;let s=i.pow(r,e);const o=(e+zo)/bw;return function(a,c){if(a.is0(c))return c;if(Xq(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,s),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let p=1,f=a.sqr(d);for(;!a.eql(f,a.ONE);)if(p++,f=a.sqr(f),p===l)throw new Error("Cannot find square root");const g=zo<<BigInt(l-p-1),m=a.pow(u,g);l=p,u=a.sqr(m),d=a.mul(d,u),h=a.mul(h,m)}return h}}function gMe(t){return t%lie===cie?pie:t%die===uie?pMe:t%hie===hMe?fMe(t):fie(t)}const mMe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wMe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=mMe.reduce((r,i)=>(r[i]="function",r),e);return pk(t,n),t}function yMe(t,e,n){if(n<_a)throw new Error("invalid exponent, negatives unsupported");if(n===_a)return t.ONE;if(n===zo)return e;let r=t.ONE,i=e;for(;n>_a;)n&zo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=zo;return r}function gie(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function Xq(t,e){const n=(t.ORDER-zo)/bw,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function mie(t,e){e!==void 0&&wp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Vg(t,e,n=!1,r={}){if(t<=_a)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=mie(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:Z_(c),ZERO:_a,ONE:zo,allowedLengths:a,create:h=>ec(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return _a<=h&&h<t},is0:h=>h===_a,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&zo)===zo,neg:h=>ec(-h,t),eql:(h,p)=>h===p,sqr:h=>ec(h*h,t),add:(h,p)=>ec(h+p,t),sub:(h,p)=>ec(h-p,t),mul:(h,p)=>ec(h*p,t),pow:(h,p)=>yMe(d,h,p),div:(h,p)=>ec(h*Jq(p,t),t),sqrN:h=>h*h,addN:(h,p)=>h+p,subN:(h,p)=>h-p,mulN:(h,p)=>h*p,inv:h=>Jq(h,t),sqrt:s||(h=>(u||(u=gMe(t)),u(d,h))),toBytes:h=>n?FU(h,l):qU(h,l),fromBytes:(h,p=!0)=>{if(a){if(!a.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const g=new Uint8Array(l);g.set(h,n?0:g.length-h.length),h=g}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let f=n?dx(h):hk(h);if(o&&(f=ec(f,t)),!p&&!d.isValid(f))throw new Error("invalid field element: outside of range 0..ORDER");return f},invertBatch:h=>gie(d,h),cmov:(h,p,f)=>f?p:h});return Object.freeze(d)}function wie(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function yie(t){const e=wie(t);return e+Math.ceil(e/2)}function bMe(t,e,n=!1){const r=t.length,i=wie(e),s=yie(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?dx(t):hk(t),a=ec(o,e-zo)+zo;return n?FU(a,i):qU(a,i)}const W1=BigInt(0),vw=BigInt(1);function hx(t,e){const n=e.negate();return t?n:e}function uT(t,e){const n=gie(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function bie(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function dT(t,e){bie(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Z_(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Qq(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=vw);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:p,offsetF:l}}function vMe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function EMe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const hT=new WeakMap,vie=new WeakMap;function pT(t){return vie.get(t)||1}function eF(t){if(t!==W1)throw new Error("invalid wNAF")}class CMe{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>W1;)n&vw&&(r=r.add(i)),i=i.double(),n>>=vw;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=dT(n,this.bits),s=[];let o=e,a=o;for(let c=0;c<r;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=dT(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:p}=Qq(r,a,o);r=c,u?s=s.add(hx(h,n[p])):i=i.add(hx(d,n[l]))}return eF(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=dT(e,this.bits);for(let o=0;o<s.windows&&r!==W1;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=Qq(r,o,s);if(r=a,!l){const d=n[c];i=i.add(u?d.negate():d)}}return eF(r),i}getPrecomputes(e,n,r){let i=hT.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),hT.set(n,i))),i}cached(e,n,r){const i=pT(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=pT(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){bie(n,this.bits),vie.set(e,n),hT.delete(e)}hasCache(e){return pT(e)!==1}}function _Me(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>W1||r>W1;)n&vw&&(s=s.add(i)),r&vw&&(o=o.add(i)),i=i.double(),n>>=vw,r>>=vw;return{p1:s,p2:o}}function IMe(t,e,n,r){vMe(n,t),EMe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=aie(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Z_(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let p=d;p>=0;p-=c){u.fill(o);for(let g=0;g<s;g++){const m=r[g],b=Number(m>>BigInt(p)&l);u[b]=u[b].add(n[g])}let f=o;for(let g=u.length-1,m=o;g>0;g--)m=m.add(u[g]),f=f.add(m);if(h=h.add(f),p!==0)for(let g=0;g<c;g++)h=h.double()}return h}function tF(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return wMe(e),e}else return Vg(t,{isLE:n})}function SMe(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const c=e[a];if(!(typeof c=="bigint"&&c>W1))throw new Error(`CURVE.${a} must be positive bigint`)}const i=tF(e.p,n.Fp,r),s=tF(e.n,n.Fn,r),o=["Gx","Gy","a","b"];for(const a of o)if(!i.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),qre("HashToScalar-");const K2=BigInt(0),Gy=BigInt(1),j5=BigInt(2);function xMe(t){return pk(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function AMe(t){const e=xMe(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||cy,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),p=a?j5**BigInt(254):j5**BigInt(447),f=a?BigInt(8)*j5**BigInt(251)-Gy:BigInt(4)*j5**BigInt(445)-Gy,g=p+f+Gy,m=D=>ec(D,n),b=y(d);function y(D){return FU(m(D),u)}function v(D){const O=fo("u coordinate",D,u);return a&&(O[31]&=127),m(dx(O))}function w(D){return dx(i(fo("scalar",D,u)))}function C(D,O){const T=P(v(O),w(D));if(T===K2)throw new Error("invalid private or public key received");return y(T)}function I(D){return C(D,b)}function k(D,O,T){const E=m(D*(O-T));return O=m(O-E),T=m(T+E),{x_2:O,x_3:T}}function P(D,O){o9("u",D,K2,n),o9("scalar",O,p,g);const T=O,E=D;let _=Gy,x=K2,M=D,A=Gy,U=K2;for(let z=BigInt(l-1);z>=K2;z--){const H=T>>z&Gy;U^=H,{x_2:_,x_3:M}=k(U,_,M),{x_2:x,x_3:A}=k(U,x,A),U=H;const q=_+x,F=m(q*q),K=_-x,ee=m(K*K),se=F-ee,te=M+A,ue=M-A,ge=m(ue*q),$e=m(te*K),he=ge+$e,me=ge-$e;M=m(he*he),A=m(E*m(me*me)),_=m(F*ee),x=m(se*(F+m(h*se)))}({x_2:_,x_3:M}=k(U,_,M)),{x_2:x,x_3:A}=k(U,x,A);const B=s(x);return m(_*B)}const S={secretKey:u,publicKey:u,seed:u},N=(D=c(u))=>(_u(D,S.seed),D);function R(D){const O=N(D);return{secretKey:O,publicKey:I(O)}}return{keygen:R,getSharedSecret:(D,O)=>C(D,O),getPublicKey:D=>I(D),scalarMult:C,scalarMultBase:I,utils:{randomSecretKey:N,randomPrivateKey:N},GuBytes:b.slice(),lengths:S}}const kMe=BigInt(1),nF=BigInt(2),$Me=BigInt(3),TMe=BigInt(5);BigInt(8);const Eie=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),NMe={p:Eie,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function OMe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Eie,o=t*t%s*t%s,a=Yl(o,nF,s)*o%s,c=Yl(a,kMe,s)*t%s,l=Yl(c,TMe,s)*c%s,u=Yl(l,e,s)*l%s,d=Yl(u,n,s)*u%s,h=Yl(d,r,s)*d%s,p=Yl(h,i,s)*h%s,f=Yl(p,i,s)*h%s,g=Yl(f,e,s)*l%s;return{pow_p_5_8:Yl(g,nF,s)*t%s,b2:o}}function PMe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const RMe=Vg(NMe.p,{isLE:!0}),a9=(()=>{const t=RMe.ORDER;return AMe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=OMe(e);return ec(Yl(n,$Me,t)*r,t)},adjustScalarBytes:PMe})})(),rF=(t,e)=>(t+(t>=0?e:-e)/Cie)/e;function DMe(t,e,n){const[[r,i],[s,o]]=e,a=rF(o*t,n),c=rF(-i*t,n);let l=t-a*r-c*s,u=-a*i-c*o;const d=l<tp,h=u<tp;d&&(l=-l),h&&(u=-u);const p=Z_(Math.ceil(aie(n)/2))+b1;if(l<tp||l>=p||u<tp||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function c9(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function fT(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return ux(n.lowS,"lowS"),ux(n.prehash,"prehash"),n.format!==void 0&&c9(n.format),n}class UMe extends Error{constructor(e=""){super(e)}}const jh={Err:UMe,_tlv:{encode:(t,e)=>{const{Err:n}=jh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=L5(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?L5(i.length/2|128):"";return L5(t)+s+i+e},decode(t,e){const{Err:n}=jh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=jh;if(t<tp)throw new e("integer: negative integers are not allowed");let n=L5(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=jh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hk(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=jh,i=fo("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=jh,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},tp=BigInt(0),b1=BigInt(1),Cie=BigInt(2),B5=BigInt(3),MMe=BigInt(4);function Yb(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=fo("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function LMe(t,e={}){const n=SMe("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;pk(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=Iie(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(D,O,T){const{x:E,y:_}=O.toAffine(),x=r.toBytes(E);if(ux(T,"isCompressed"),T){u();const M=!r.isOdd(_);return qf(_ie(M),x)}else return qf(Uint8Array.of(4),x,r.toBytes(_))}function h(D){yw(D,void 0,"Point");const{publicKey:O,publicKeyUncompressed:T}=l,E=D.length,_=D[0],x=D.subarray(1);if(E===O&&(_===2||_===3)){const M=r.fromBytes(x);if(!r.isValid(M))throw new Error("bad point: is not on curve, wrong x");const A=g(M);let U;try{U=r.sqrt(A)}catch(z){const H=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+H)}u();const B=r.isOdd(U);return(_&1)===1!==B&&(U=r.neg(U)),{x:M,y:U}}else if(E===T&&_===4){const M=r.BYTES,A=r.fromBytes(x.subarray(0,M)),U=r.fromBytes(x.subarray(M,M*2));if(!m(A,U))throw new Error("bad point: is not on curve");return{x:A,y:U}}else throw new Error(`bad point: got length ${E}, expected compressed=${O} or uncompressed=${T}`)}const p=e.toBytes||d,f=e.fromBytes||h;function g(D){const O=r.sqr(D),T=r.mul(O,D);return r.add(r.add(T,r.mul(D,s.a)),s.b)}function m(D,O){const T=r.sqr(O),E=g(D);return r.eql(T,E)}if(!m(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(s.a,B5),MMe),y=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(b,y)))throw new Error("bad curve params: a or b");function v(D,O,T=!1){if(!r.isValid(O)||T&&r.is0(O))throw new Error(`bad point coordinate ${D}`);return O}function w(D){if(!(D instanceof S))throw new Error("ProjectivePoint expected")}function C(D){if(!c||!c.basises)throw new Error("no endo");return DMe(D,c.basises,i.ORDER)}const I=Yq((D,O)=>{const{X:T,Y:E,Z:_}=D;if(r.eql(_,r.ONE))return{x:T,y:E};const x=D.is0();O==null&&(O=x?r.ONE:r.inv(_));const M=r.mul(T,O),A=r.mul(E,O),U=r.mul(_,O);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(U,r.ONE))throw new Error("invZ was invalid");return{x:M,y:A}}),k=Yq(D=>{if(D.is0()){if(e.allowInfinityPoint&&!r.is0(D.Y))return;throw new Error("bad point: ZERO")}const{x:O,y:T}=D.toAffine();if(!r.isValid(O)||!r.isValid(T))throw new Error("bad point: x or y not field elements");if(!m(O,T))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function P(D,O,T,E,_){return T=new S(r.mul(T.X,D),T.Y,T.Z),O=hx(E,O),T=hx(_,T),O.add(T)}class S{constructor(O,T,E){this.X=v("x",O),this.Y=v("y",T,!0),this.Z=v("z",E),Object.freeze(this)}static CURVE(){return s}static fromAffine(O){const{x:T,y:E}=O||{};if(!O||!r.isValid(T)||!r.isValid(E))throw new Error("invalid affine point");if(O instanceof S)throw new Error("projective point not allowed");return r.is0(T)&&r.is0(E)?S.ZERO:new S(T,E,r.ONE)}static fromBytes(O){const T=S.fromAffine(f(yw(O,void 0,"point")));return T.assertValidity(),T}static fromHex(O){return S.fromBytes(fo("pointHex",O))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(O=8,T=!0){return R.createCache(this,O),T||this.multiply(B5),this}assertValidity(){k(this)}hasEvenY(){const{y:O}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(O)}equals(O){w(O);const{X:T,Y:E,Z:_}=this,{X:x,Y:M,Z:A}=O,U=r.eql(r.mul(T,A),r.mul(x,_)),B=r.eql(r.mul(E,A),r.mul(M,_));return U&&B}negate(){return new S(this.X,r.neg(this.Y),this.Z)}double(){const{a:O,b:T}=s,E=r.mul(T,B5),{X:_,Y:x,Z:M}=this;let A=r.ZERO,U=r.ZERO,B=r.ZERO,z=r.mul(_,_),H=r.mul(x,x),q=r.mul(M,M),F=r.mul(_,x);return F=r.add(F,F),B=r.mul(_,M),B=r.add(B,B),A=r.mul(O,B),U=r.mul(E,q),U=r.add(A,U),A=r.sub(H,U),U=r.add(H,U),U=r.mul(A,U),A=r.mul(F,A),B=r.mul(E,B),q=r.mul(O,q),F=r.sub(z,q),F=r.mul(O,F),F=r.add(F,B),B=r.add(z,z),z=r.add(B,z),z=r.add(z,q),z=r.mul(z,F),U=r.add(U,z),q=r.mul(x,M),q=r.add(q,q),z=r.mul(q,F),A=r.sub(A,z),B=r.mul(q,H),B=r.add(B,B),B=r.add(B,B),new S(A,U,B)}add(O){w(O);const{X:T,Y:E,Z:_}=this,{X:x,Y:M,Z:A}=O;let U=r.ZERO,B=r.ZERO,z=r.ZERO;const H=s.a,q=r.mul(s.b,B5);let F=r.mul(T,x),K=r.mul(E,M),ee=r.mul(_,A),se=r.add(T,E),te=r.add(x,M);se=r.mul(se,te),te=r.add(F,K),se=r.sub(se,te),te=r.add(T,_);let ue=r.add(x,A);return te=r.mul(te,ue),ue=r.add(F,ee),te=r.sub(te,ue),ue=r.add(E,_),U=r.add(M,A),ue=r.mul(ue,U),U=r.add(K,ee),ue=r.sub(ue,U),z=r.mul(H,te),U=r.mul(q,ee),z=r.add(U,z),U=r.sub(K,z),z=r.add(K,z),B=r.mul(U,z),K=r.add(F,F),K=r.add(K,F),ee=r.mul(H,ee),te=r.mul(q,te),K=r.add(K,ee),ee=r.sub(F,ee),ee=r.mul(H,ee),te=r.add(te,ee),F=r.mul(K,te),B=r.add(B,F),F=r.mul(ue,te),U=r.mul(se,U),U=r.sub(U,F),F=r.mul(se,K),z=r.mul(ue,z),z=r.add(z,F),new S(U,B,z)}subtract(O){return this.add(O.negate())}is0(){return this.equals(S.ZERO)}multiply(O){const{endo:T}=e;if(!i.isValidNot0(O))throw new Error("invalid scalar: out of range");let E,_;const x=M=>R.cached(this,M,A=>uT(S,A));if(T){const{k1neg:M,k1:A,k2neg:U,k2:B}=C(O),{p:z,f:H}=x(A),{p:q,f:F}=x(B);_=H.add(F),E=P(T.beta,z,q,M,U)}else{const{p:M,f:A}=x(O);E=M,_=A}return uT(S,[E,_])[0]}multiplyUnsafe(O){const{endo:T}=e,E=this;if(!i.isValid(O))throw new Error("invalid scalar: out of range");if(O===tp||E.is0())return S.ZERO;if(O===b1)return E;if(R.hasCache(this))return this.multiply(O);if(T){const{k1neg:_,k1:x,k2neg:M,k2:A}=C(O),{p1:U,p2:B}=_Me(S,E,x,A);return P(T.beta,U,B,_,M)}else return R.unsafe(E,O)}multiplyAndAddUnsafe(O,T,E){const _=this.multiplyUnsafe(T).add(O.multiplyUnsafe(E));return _.is0()?void 0:_}toAffine(O){return I(this,O)}isTorsionFree(){const{isTorsionFree:O}=e;return o===b1?!0:O?O(S,this):R.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:O}=e;return o===b1?this:O?O(S,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(O=!0){return ux(O,"isCompressed"),this.assertValidity(),p(S,this,O)}toHex(O=!0){return y1(this.toBytes(O))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(O=!0){return this.toBytes(O)}_setWindowSize(O){this.precompute(O)}static normalizeZ(O){return uT(S,O)}static msm(O,T){return IMe(S,i,O,T)}static fromPrivateKey(O){return S.BASE.multiply(Yb(i,O))}}S.BASE=new S(s.Gx,s.Gy,r.ONE),S.ZERO=new S(r.ZERO,r.ONE,r.ZERO),S.Fp=r,S.Fn=i;const N=i.BITS,R=new CMe(S,e.endo?Math.ceil(N/2):N);return S.BASE.precompute(8),S}function _ie(t){return Uint8Array.of(t?2:3)}function Iie(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function jMe(t,e={}){const{Fn:n}=t,r=e.randomBytes||cy,i=Object.assign(Iie(t.Fp,n),{seed:yie(n.ORDER)});function s(h){try{return!!Yb(n,h)}catch{return!1}}function o(h,p){const{publicKey:f,publicKeyUncompressed:g}=i;try{const m=h.length;return p===!0&&m!==f||p===!1&&m!==g?!1:!!t.fromBytes(h)}catch{return!1}}function a(h=r(i.seed)){return bMe(yw(h,i.seed,"seed"),n.ORDER)}function c(h,p=!0){return t.BASE.multiply(Yb(n,h)).toBytes(p)}function l(h){const p=a(h);return{secretKey:p,publicKey:c(p)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof t)return!0;const{secretKey:p,publicKey:f,publicKeyUncompressed:g}=i;if(n.allowedLengths||p===f)return;const m=fo("key",h).length;return m===f||m===g}function d(h,p,f=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const g=Yb(n,h);return t.fromHex(p).multiply(g).toBytes(f)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:h=>Yb(n,h),precompute(h=8,p=t.BASE){return p.precompute(h,!1)}},lengths:i})}function BMe(t,e,n={}){ok(e),pk(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||cy,i=n.hmac||((T,...E)=>uk(e,T,qf(...E))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:p}=jMe(t,n),f={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function m(T){const E=a>>b1;return T>E}function b(T,E){if(!o.isValidNot0(E))throw new Error(`invalid signature ${T}: out of range 1..Point.Fn.ORDER`);return E}function y(T,E){c9(E);const _=p.signature,x=E==="compact"?_:E==="recovered"?_+1:void 0;return yw(T,x,`${E} signature`)}class v{constructor(E,_,x){this.r=b("r",E),this.s=b("s",_),x!=null&&(this.recovery=x),Object.freeze(this)}static fromBytes(E,_=g){y(E,_);let x;if(_==="der"){const{r:B,s:z}=jh.toSig(yw(E));return new v(B,z)}_==="recovered"&&(x=E[0],_="compact",E=E.subarray(1));const M=o.BYTES,A=E.subarray(0,M),U=E.subarray(M,M*2);return new v(o.fromBytes(A),o.fromBytes(U),x)}static fromHex(E,_){return this.fromBytes(cx(E),_)}addRecoveryBit(E){return new v(this.r,this.s,E)}recoverPublicKey(E){const _=s.ORDER,{r:x,s:M,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(a*Cie<_&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const U=A===2||A===3?x+a:x;if(!s.isValid(U))throw new Error("recovery id 2 or 3 invalid");const B=s.toBytes(U),z=t.fromBytes(qf(_ie((A&1)===0),B)),H=o.inv(U),q=C(fo("msgHash",E)),F=o.create(-q*H),K=o.create(M*H),ee=t.BASE.multiplyUnsafe(F).add(z.multiplyUnsafe(K));if(ee.is0())throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return m(this.s)}toBytes(E=g){if(c9(E),E==="der")return cx(jh.hexFromSig(this));const _=o.toBytes(this.r),x=o.toBytes(this.s);if(E==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return qf(Uint8Array.of(this.recovery),_,x)}return qf(_,x)}toHex(E){return y1(this.toBytes(E))}assertValidity(){}static fromCompact(E){return v.fromBytes(fo("sig",E),"compact")}static fromDER(E){return v.fromBytes(fo("sig",E),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return y1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return y1(this.toBytes("compact"))}}const w=n.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const E=hk(T),_=T.length*8-c;return _>0?E>>BigInt(_):E},C=n.bits2int_modN||function(T){return o.create(w(T))},I=Z_(c);function k(T){return o9("num < 2^"+c,T,tp,I),o.toBytes(T)}function P(T,E){return yw(T,void 0,"message"),E?yw(e(T),void 0,"prehashed message"):T}function S(T,E,_){if(["recovered","canonical"].some(K=>K in _))throw new Error("sign() legacy options not supported");const{lowS:x,prehash:M,extraEntropy:A}=fT(_,f);T=P(T,M);const U=C(T),B=Yb(o,E),z=[k(B),k(U)];if(A!=null&&A!==!1){const K=A===!0?r(p.secretKey):A;z.push(fo("extraEntropy",K))}const H=qf(...z),q=U;function F(K){const ee=w(K);if(!o.isValidNot0(ee))return;const se=o.inv(ee),te=t.BASE.multiply(ee).toAffine(),ue=o.create(te.x);if(ue===tp)return;const ge=o.create(se*o.create(q+ue*B));if(ge===tp)return;let $e=(te.x===ue?0:2)|Number(te.y&b1),he=ge;return x&&m(ge)&&(he=o.neg(ge),$e^=1),new v(ue,he,$e)}return{seed:H,k2sig:F}}function N(T,E,_={}){T=fo("message",T);const{seed:x,k2sig:M}=S(T,E,_);return uMe(e.outputLen,o.BYTES,i)(x,M)}function R(T){let E;const _=typeof T=="string"||sk(T),x=!_&&T!==null&&typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!_&&!x)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(x)E=new v(T.r,T.s);else if(_){try{E=v.fromBytes(fo("sig",T),"der")}catch(M){if(!(M instanceof jh.Err))throw M}if(!E)try{E=v.fromBytes(fo("sig",T),"compact")}catch{return!1}}return E||!1}function D(T,E,_,x={}){const{lowS:M,prehash:A,format:U}=fT(x,f);if(_=fo("publicKey",_),E=P(fo("message",E),A),"strict"in x)throw new Error("options.strict was renamed to lowS");const B=U===void 0?R(T):v.fromBytes(fo("sig",T),U);if(B===!1)return!1;try{const z=t.fromBytes(_);if(M&&B.hasHighS())return!1;const{r:H,s:q}=B,F=C(E),K=o.inv(q),ee=o.create(F*K),se=o.create(H*K),te=t.BASE.multiplyUnsafe(ee).add(z.multiplyUnsafe(se));return te.is0()?!1:o.create(te.x)===H}catch{return!1}}function O(T,E,_={}){const{prehash:x}=fT(_,f);return E=P(E,x),v.fromBytes(T,"recovered").recoverPublicKey(E).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:p,Point:t,sign:N,verify:D,recoverPublicKey:O,Signature:v,hash:e})}function zMe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Vg(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function WMe(t){const{CURVE:e,curveOpts:n}=zMe(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function qMe(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,mie(n.Fn.ORDER,n.Fn.BITS))})}function FMe(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=WMe(t),s=LMe(e,n),o=BMe(s,r,i);return qMe(t,o)}function l9(t,e){const n=r=>FMe({...t,hash:r});return{...n(e),create:n}}const Sie={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},xie={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Aie={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},HMe=Vg(Sie.p),VMe=Vg(xie.p),KMe=Vg(Aie.p),ZMe=l9({...Sie,Fp:HMe,lowS:!1},ck);l9({...xie,Fp:VMe,lowS:!1},QDe),l9({...Aie,Fp:KMe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},XDe);const GMe=ZMe,kie="base10",Wo="base16",ga="base64pad",Ff="base64url",G_="utf8",$ie=0,sp=1,Y_=2,YMe=0,iF=1,pE=12,VU=32;function JMe(){const t=a9.utils.randomPrivateKey(),e=a9.getPublicKey(t);return{privateKey:Sa(t,Wo),publicKey:Sa(e,Wo)}}function u9(){const t=cy(VU);return Sa(t,Wo)}function XMe(t,e){const n=a9.getSharedSecret(cl(t,Wo),cl(e,Wo)),r=cMe(dk,n,void 0,void 0,VU);return Sa(r,Wo)}function oS(t){const e=dk(cl(t,Wo));return Sa(e,Wo)}function il(t){const e=dk(cl(t,G_));return Sa(e,Wo)}function Tie(t){return cl(`${t}`,kie)}function Zw(t){return Number(Sa(t,kie))}function Nie(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Oie(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function QMe(t){const e=Tie(typeof t.type<"u"?t.type:$ie);if(Zw(e)===sp&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?cl(t.senderPublicKey,Wo):void 0,r=typeof t.iv<"u"?cl(t.iv,Wo):cy(pE),i=cl(t.symKey,Wo),s=iie(i,r).encrypt(cl(t.message,G_)),o=Pie({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Ff?Nie(o):o}function eLe(t){const e=cl(t.symKey,Wo),{sealed:n,iv:r}=hC({encoded:t.encoded,encoding:t.encoding}),i=iie(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Sa(i,G_)}function tLe(t,e){const n=Tie(Y_),r=cy(pE),i=cl(t,G_),s=Pie({type:n,sealed:i,iv:r});return e===Ff?Nie(s):s}function nLe(t,e){const{sealed:n}=hC({encoded:t,encoding:e});return Sa(n,G_)}function Pie(t){if(Zw(t.type)===Y_)return Sa(hE([t.type,t.sealed]),ga);if(Zw(t.type)===sp){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Sa(hE([t.type,t.senderPublicKey,t.iv,t.sealed]),ga)}return Sa(hE([t.type,t.iv,t.sealed]),ga)}function hC(t){const e=(t.encoding||ga)===Ff?Oie(t.encoded):t.encoded,n=cl(e,ga),r=n.slice(YMe,iF),i=iF;if(Zw(r)===sp){const c=i+VU,l=c+pE,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(Zw(r)===Y_){const c=n.slice(i),l=cy(pE);return{type:r,sealed:c,iv:l}}const s=i+pE,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function rLe(t,e){const n=hC({encoded:t,encoding:e?.encoding});return Rie({type:Zw(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Sa(n.senderPublicKey,Wo):void 0,receiverPublicKey:e?.receiverPublicKey})}function Rie(t){const e=t?.type||$ie;if(e===sp){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function sF(t){return t.type===sp&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function oF(t){return t.type===Y_}function iLe(t){const e=window.Buffer.from(t.x,"base64"),n=window.Buffer.from(t.y,"base64");return hE([new Uint8Array([4]),e,n])}function sLe(t,e){const[n,r,i]=t.split("."),s=window.Buffer.from(Oie(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=dk(c),u=iLe(e);if(!GMe.verify(hE([o,a]),l,u))throw new Error("Invalid signature");return mp(t).payload}const oLe="irn";function px(t){return t?.relay||{protocol:oLe}}function Jb(t){const e=UU[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var aLe=Object.defineProperty,cLe=Object.defineProperties,lLe=Object.getOwnPropertyDescriptors,aF=Object.getOwnPropertySymbols,uLe=Object.prototype.hasOwnProperty,dLe=Object.prototype.propertyIsEnumerable,cF=(t,e,n)=>e in t?aLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gT=(t,e)=>{for(var n in e||(e={}))uLe.call(e,n)&&cF(t,n,e[n]);if(aF)for(var n of aF(e))dLe.call(e,n)&&cF(t,n,e[n]);return t},hLe=(t,e)=>cLe(t,lLe(e));function pLe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function lF(t){if(!t.includes("wc:")){const l=Mre(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:fLe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:pLe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function fLe(t){return t.startsWith("//")?t.substring(2):t}function gLe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function uF(t){const e=new URLSearchParams,n=gT(gT(hLe(gT({},gLe(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function z5(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var mLe=Object.defineProperty,wLe=Object.defineProperties,yLe=Object.getOwnPropertyDescriptors,dF=Object.getOwnPropertySymbols,bLe=Object.prototype.hasOwnProperty,vLe=Object.prototype.propertyIsEnumerable,hF=(t,e,n)=>e in t?mLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ELe=(t,e)=>{for(var n in e||(e={}))bLe.call(e,n)&&hF(t,n,e[n]);if(dF)for(var n of dF(e))vLe.call(e,n)&&hF(t,n,e[n]);return t},CLe=(t,e)=>wLe(t,yLe(e));function Xv(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Die(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Xv(n.accounts))}),[...new Set(e)]}function _Le(t){const e=[];return Object.values(t).forEach(n=>{e.push(...n.methods)}),[...new Set(e)]}function ILe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...n.events)}),[...new Set(e)]}function SLe(t,e){const n=[];return Object.values(t).forEach(r=>{Xv(r.accounts).includes(e)&&n.push(...r.methods)}),n}function xLe(t,e){const n=[];return Object.values(t).forEach(r=>{Xv(r.accounts).includes(e)&&n.push(...r.events)}),n}function fk(t){return t.includes(":")}function Xb(t){return fk(t)?t.split(":")[0]:t}function pF(t){var e,n,r;const i={};if(!md(t))return i;for(const[s,o]of Object.entries(t)){const a=fk(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Xb(s);i[u]=CLe(ELe({},i[u]),{chains:gd(a,(e=i[u])==null?void 0:e.chains),methods:gd(c,(n=i[u])==null?void 0:n.methods),events:gd(l,(r=i[u])==null?void 0:r.events)})}return i}function ALe(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function fF(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=ALe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=gd(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function kLe(t,e){var n,r,i,s,o,a;const c=pF(t),l=pF(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:gd((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:gd((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:gd((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const $Le={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},TLe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ze(t,e){const{message:n,code:r}=TLe[t];return{message:e?`${n} ${e}`:n,code:r}}function Kr(t,e){const{message:n,code:r}=$Le[t];return{message:e?`${n} ${e}`:n,code:r}}function op(t,e){return!!Array.isArray(t)}function md(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ms(t){return typeof t>"u"}function Pi(t,e){return e&&ms(t)?!0:typeof t=="string"&&!!t.trim().length}function KU(t,e){return typeof t=="number"&&!isNaN(t)}function NLe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return ww(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Xv(a),d=n[o];(!ww(Ore(o,d),u)||!ww(d.methods,c)||!ww(d.events,l))&&(s=!1)}),s):!1}function fx(t){return Pi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function OLe(t){if(Pi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&fx(n)}}return!1}function PLe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Pi(t,!1)){if(e(t))return!0;const n=Mre(t);return e(n)}}catch{}return!1}function RLe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function DLe(t){return t?.topic}function ULe(t,e){let n=null;return Pi(t?.publicKey,!1)||(n=Ze("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function gF(t){let e=!0;return op(t)?t.length&&(e=t.every(n=>Pi(n,!1))):e=!1,e}function MLe(t,e,n){let r=null;return op(e)&&e.length?e.forEach(i=>{r||fx(i)||(r=Kr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):fx(t)||(r=Kr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function LLe(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=MLe(i,Ore(i,s),`${e} ${n}`);o&&(r=o)}),r}function jLe(t,e){let n=null;return op(t)?t.forEach(r=>{n||OLe(r)||(n=Kr("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Kr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function BLe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=jLe(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function zLe(t,e){let n=null;return gF(t?.methods)?gF(t?.events)||(n=Kr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Kr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Uie(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=zLe(r,`${e}, namespace`);i&&(n=i)}),n}function WLe(t,e,n){let r=null;if(t&&md(t)){const i=Uie(t,e);i&&(r=i);const s=LLe(t,e,n);s&&(r=s)}else r=Ze("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function mT(t,e){let n=null;if(t&&md(t)){const r=Uie(t,e);r&&(n=r);const i=BLe(t,e);i&&(n=i)}else n=Ze("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Mie(t){return Pi(t.protocol,!0)}function qLe(t,e){let n=!1;return t?t&&op(t)&&t.length&&t.forEach(r=>{n=Mie(r)}):n=!0,n}function FLe(t){return typeof t=="number"}function ca(t){return typeof t<"u"&&typeof t!==null}function HLe(t){return!(!t||typeof t!="object"||!t.code||!KU(t.code)||!t.message||!Pi(t.message,!1))}function VLe(t){return!(ms(t)||!Pi(t.method,!1))}function KLe(t){return!(ms(t)||ms(t.result)&&ms(t.error)||!KU(t.id)||!Pi(t.jsonrpc,!1))}function ZLe(t){return!(ms(t)||!Pi(t.name,!1))}function mF(t,e){return!(!fx(e)||!Die(t).includes(e))}function GLe(t,e,n){return Pi(n,!1)?SLe(t,e).includes(n):!1}function YLe(t,e,n){return Pi(n,!1)?xLe(t,e).includes(n):!1}function wF(t,e,n){let r=null;const i=JLe(t),s=XLe(e),o=Object.keys(i),a=Object.keys(s),c=yF(Object.keys(t)),l=yF(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Ze("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),ww(o,a)||(r=Ze("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Xv(e[d].accounts);h.includes(d)||(r=Ze("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(ww(i[d].methods,s[d].methods)?ww(i[d].events,s[d].events)||(r=Ze("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Ze("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function JLe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function yF(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function XLe(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:Xv(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function QLe(t,e){return KU(t)&&t<=e.max&&t>=e.min}function bF(){const t=V_();return new Promise(e=>{switch(t){case lc.browser:e(eje());break;case lc.reactNative:e(tje());break;case lc.node:e(nje());break;default:e(!0)}})}function eje(){return Jv()&&navigator?.onLine}async function tje(){return Hg()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function nje(){return!0}function rje(t){switch(V_()){case lc.browser:ije(t);break;case lc.reactNative:sje(t);break}}function ije(t){!Hg()&&Jv()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function sje(t){Hg()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(e=>t(e?.isConnected))}function oje(){var t;return Jv()&&_r.getDocument()?((t=_r.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const wT={};class Z2{static get(e){return wT[e]}static set(e,n){wT[e]=n}static delete(e){delete wT[e]}}function aje(t){const e=Bp.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function cje({publicKey:t,signature:e,payload:n}){var r;const i=d9(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=dje(n.address),a=n.era==="00"?new Uint8Array([0]):d9(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${uje(n.tip)}`),d=pje(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...i]),p=hje(h.length+1);return new Uint8Array([...p,s,...h])}function lje(t){const e=d9(t),n=FRe.blake2b(e,void 0,32);return"0x"+window.Buffer.from(n).toString("hex")}function d9(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function uje(t){return t.startsWith("0x")?t.slice(2):t}function dje(t){const e=Bp.decode(t)[0];return e===42?0:e===60?2:1}function hje(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function pje(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function fje(t){const e=Uint8Array.from(window.Buffer.from(t.signature,"hex")),n=aje(t.transaction.address),r=cje({publicKey:n,signature:e,payload:t.transaction}),i=window.Buffer.from(r).toString("hex");return lje(i)}function ZU({logger:t,name:e}){const n=typeof t=="string"?WA({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}const gje="PARSE_ERROR",mje="INVALID_REQUEST",wje="METHOD_NOT_FOUND",yje="INVALID_PARAMS",Lie="INTERNAL_ERROR",GU="SERVER_ERROR",bje=[-32700,-32600,-32601,-32602,-32603],fE={[gje]:{code:-32700,message:"Parse error"},[mje]:{code:-32600,message:"Invalid Request"},[wje]:{code:-32601,message:"Method not found"},[yje]:{code:-32602,message:"Invalid params"},[Lie]:{code:-32603,message:"Internal error"},[GU]:{code:-32e3,message:"Server error"}},jie=GU;function vje(t){return bje.includes(t)}function vF(t){return Object.keys(fE).includes(t)?fE[t]:fE[jie]}function Eje(t){const e=Object.values(fE).find(n=>n.code===t);return e||fE[jie]}function Bie(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var yT={};var h9=function(t,e){return h9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},h9(t,e)};function Cje(t,e){h9(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var p9=function(){return p9=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},p9.apply(this,arguments)};function _je(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ije(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Sje(t,e){return function(n,r){e(n,r,t)}}function xje(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Aje(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function kje(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function $je(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Tje(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function f9(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zie(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Nje(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zie(arguments[e]));return t}function Oje(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function pC(t){return this instanceof pC?(this.v=t,this):new pC(t)}function Pje(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(f,g){s.push([h,p,f,g])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(f){d(s[0][3],f)}}function c(h){h.value instanceof pC?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Rje(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:pC(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Dje(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof f9=="function"?f9(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Uje(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Mje(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Lje(t){return t&&t.__esModule?t:{default:t}}function jje(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Bje(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const zje=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return p9},__asyncDelegator:Rje,__asyncGenerator:Pje,__asyncValues:Dje,__await:pC,__awaiter:Aje,__classPrivateFieldGet:jje,__classPrivateFieldSet:Bje,__createBinding:$je,__decorate:Ije,__exportStar:Tje,__extends:Cje,__generator:kje,__importDefault:Lje,__importStar:Mje,__makeTemplateObject:Uje,__metadata:xje,__param:Sje,__read:zie,__rest:_je,__spread:Nje,__spreadArrays:Oje,__values:f9},Symbol.toStringTag,{value:"Module"})),Wje=qee(zje);var lh={},EF;function qje(){if(EF)return lh;EF=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.isBrowserCryptoAvailable=lh.getSubtleCrypto=lh.getBrowerCrypto=void 0;function t(){return globalThis?.crypto||globalThis?.msCrypto||{}}lh.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}lh.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return lh.isBrowserCryptoAvailable=n,lh}var uh={},CF;function Fje(){if(CF)return uh;CF=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.isBrowser=uh.isNode=uh.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}uh.isReactNative=t;function e(){return typeof window.process<"u"&&typeof window.process.versions<"u"&&typeof window.process.versions.node<"u"}uh.isNode=e;function n(){return!t()&&!e()}return uh.isBrowser=n,uh}var _F;function Hje(){return _F||(_F=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Wje;e.__exportStar(qje(),t),e.__exportStar(Fje(),t)})(yT)),yT}var Vje=Hje();function Dr(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Mi(t=6){return BigInt(Dr(t))}function Hr(t,e,n){return{id:n||Dr(),jsonrpc:"2.0",method:t,params:e}}function gc(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Kg(t,e,n){return{id:t,jsonrpc:"2.0",error:Kje(e)}}function Kje(t,e){return typeof t>"u"?vF(Lie):(typeof t=="string"&&(t=Object.assign(Object.assign({},vF(GU)),{message:t})),vje(t.code)&&(t=Eje(t.code)),t)}let Zje=class{},Gje=class extends Zje{constructor(){super()}},Yje=class extends Gje{constructor(e){super()}};const Jje="^https?:",Xje="^wss?:";function Qje(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Wie(t,e){const n=Qje(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function IF(t){return Wie(t,Jje)}function SF(t){return Wie(t,Xje)}function eBe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function qie(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function zp(t){return qie(t)&&"method"in t}function Bd(t){return qie(t)&&(ar(t)||Pn(t))}function ar(t){return"result"in t}function Pn(t){return"error"in t}let Sr=class extends Yje{constructor(e){super(e),this.events=new Ir.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Hr(e.method,e.params||[],e.id||Mi().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Pn(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Bd(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const tBe=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),nBe=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",xF=t=>t.split("?")[0],AF=10,rBe=tBe();let YU=class{constructor(e){if(this.url=e,this.events=new Ir.EventEmitter,this.registering=!1,!SF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(fc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!SF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=Vje.isReactNative()?void 0:{rejectUnauthorized:!eBe(e)},s=new rBe(e,[],i);nBe()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Cu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=Kg(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Bie(e,xF(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>AF&&this.events.setMaxListeners(AF)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${xF(this.url)}`));return this.events.emit("register_error",n),n}};var iBe={};const Fie="wc",Hie=2,g9="core",_d=`${Fie}@2:${g9}:`,sBe={logger:"error"},oBe={database:":memory:"},aBe="crypto",kF="client_ed25519_seed",cBe=Y.ONE_DAY,lBe="keychain",uBe="0.3",dBe="messages",hBe="0.3",pBe=Y.SIX_HOURS,fBe="publisher",Vie="irn",gBe="error",Kie="wss://relay.walletconnect.org",mBe="relayer",Oi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},wBe="_subscription",Mc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},yBe=.1,m9="2.23.0",Wr={link_mode:"link_mode",relay:"relay"},aS={inbound:"inbound",outbound:"outbound"},bBe="0.3",vBe="WALLETCONNECT_CLIENT_ID",$F="WALLETCONNECT_LINK_MODE_APPS",Ga={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},EBe="subscription",CBe="0.3",_Be="pairing",IBe="0.3",G2={wc_pairingDelete:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Y.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Y.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:0},res:{ttl:Y.ONE_DAY,prompt:!1,tag:0}}},Xm={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ml={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},SBe="history",xBe="0.3",ABe="expirer",Xc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},kBe="0.3",$Be="verify-api",TBe="https://verify.walletconnect.com",Zie="https://verify.walletconnect.org",gE=Zie,NBe=`${gE}/v3`,OBe=[TBe,Zie],PBe="echo",RBe="https://echo.walletconnect.com",nd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},$h={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ll={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},Em={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},Cm={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Y2={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},DBe=.1,UBe="event-client",MBe=86400,LBe="https://pulse.walletconnect.org/batch";function jBe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var g=0,m=0,b=0,y=f.length;b!==y&&f[b]===0;)b++,g++;for(var v=(y-b)*u+1>>>0,w=new Uint8Array(v);b!==y;){for(var C=f[b],I=0,k=v-1;(C!==0||I<m)&&k!==-1;k--,I++)C+=256*w[k]>>>0,w[k]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");m=I,b++}for(var P=v-m;P!==v&&w[P]===0;)P++;for(var S=c.repeat(g);P<v;++P)S+=t.charAt(w[P]);return S}function h(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;var g=0;if(f[g]!==" "){for(var m=0,b=0;f[g]===c;)m++,g++;for(var y=(f.length-g)*l+1>>>0,v=new Uint8Array(y);f[g];){var w=n[f.charCodeAt(g)];if(w===255)return;for(var C=0,I=y-1;(w!==0||C<b)&&I!==-1;I--,C++)w+=a*v[I]>>>0,v[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");b=C,g++}if(f[g]!==" "){for(var k=y-b;k!==y&&v[k]===0;)k++;for(var P=new Uint8Array(m+(y-k)),S=m;k!==y;)P[S++]=v[k++];return P}}}function p(f){var g=h(f);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:p}}var BBe=jBe,zBe=BBe;const Gie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},WBe=t=>new TextEncoder().encode(t),qBe=t=>new TextDecoder().decode(t);let FBe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},HBe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Yie(this,e)}},VBe=class{constructor(e){this.decoders=e}or(e){return Yie(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Yie=(t,e)=>new VBe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let KBe=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new FBe(e,n,r),this.decoder=new HBe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const gk=({name:t,prefix:e,encode:n,decode:r})=>new KBe(t,e,n,r),J_=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=zBe(n,e);return gk({prefix:t,name:e,encode:r,decode:s=>Gie(i(s))})},ZBe=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},GBe=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Gs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>gk({prefix:e,name:t,encode(i){return GBe(i,r,n)},decode(i){return ZBe(i,r,n,t)}}),YBe=gk({prefix:"\0",name:"identity",encode:t=>qBe(t),decode:t=>WBe(t)});var JBe=Object.freeze({__proto__:null,identity:YBe});const XBe=Gs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var QBe=Object.freeze({__proto__:null,base2:XBe});const eze=Gs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var tze=Object.freeze({__proto__:null,base8:eze});const nze=J_({prefix:"9",name:"base10",alphabet:"0123456789"});var rze=Object.freeze({__proto__:null,base10:nze});const ize=Gs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),sze=Gs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var oze=Object.freeze({__proto__:null,base16:ize,base16upper:sze});const aze=Gs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cze=Gs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lze=Gs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uze=Gs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dze=Gs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hze=Gs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pze=Gs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fze=Gs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gze=Gs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var mze=Object.freeze({__proto__:null,base32:aze,base32upper:cze,base32pad:lze,base32padupper:uze,base32hex:dze,base32hexupper:hze,base32hexpad:pze,base32hexpadupper:fze,base32z:gze});const wze=J_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yze=J_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var bze=Object.freeze({__proto__:null,base36:wze,base36upper:yze});const vze=J_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Eze=J_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Cze=Object.freeze({__proto__:null,base58btc:vze,base58flickr:Eze});const _ze=Gs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ize=Gs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Sze=Gs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xze=Gs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Aze=Object.freeze({__proto__:null,base64:_ze,base64pad:Ize,base64url:Sze,base64urlpad:xze});const Jie=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),kze=Jie.reduce((t,e,n)=>(t[n]=e,t),[]),$ze=Jie.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Tze(t){return t.reduce((e,n)=>(e+=kze[n],e),"")}function Nze(t){const e=[];for(const n of t){const r=$ze[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Oze=gk({prefix:"ðŸš€",name:"base256emoji",encode:Tze,decode:Nze});var Pze=Object.freeze({__proto__:null,base256emoji:Oze}),Rze=Xie,TF=128,Dze=-128,Uze=Math.pow(2,31);function Xie(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Uze;)e[n++]=t&255|TF,t/=128;for(;t&Dze;)e[n++]=t&255|TF,t>>>=7;return e[n]=t|0,Xie.bytes=n-r+1,e}var Mze=w9,Lze=128,NF=127;function w9(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw w9.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&NF)<<i:(o&NF)*Math.pow(2,i),i+=7}while(o>=Lze);return w9.bytes=s-r,n}var jze=Math.pow(2,7),Bze=Math.pow(2,14),zze=Math.pow(2,21),Wze=Math.pow(2,28),qze=Math.pow(2,35),Fze=Math.pow(2,42),Hze=Math.pow(2,49),Vze=Math.pow(2,56),Kze=Math.pow(2,63),Zze=function(t){return t<jze?1:t<Bze?2:t<zze?3:t<Wze?4:t<qze?5:t<Fze?6:t<Hze?7:t<Vze?8:t<Kze?9:10},Gze={encode:Rze,decode:Mze,encodingLength:Zze},Qie=Gze;const OF=(t,e,n=0)=>(Qie.encode(t,e,n),e),PF=t=>Qie.encodingLength(t),y9=(t,e)=>{const n=e.byteLength,r=PF(t),i=r+PF(n),s=new Uint8Array(i+n);return OF(t,s,0),OF(n,s,r),s.set(e,i),new Yze(t,n,e,s)};let Yze=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const ese=({name:t,code:e,encode:n})=>new Jze(t,e,n);let Jze=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?y9(this.code,n):n.then(r=>y9(this.code,r))}else throw Error("Unknown type, must be binary type")}};const tse=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Xze=ese({name:"sha2-256",code:18,encode:tse("SHA-256")}),Qze=ese({name:"sha2-512",code:19,encode:tse("SHA-512")});var eWe=Object.freeze({__proto__:null,sha256:Xze,sha512:Qze});const nse=0,tWe="identity",rse=Gie,nWe=t=>y9(nse,rse(t)),rWe={code:nse,name:tWe,encode:rse,digest:nWe};var iWe=Object.freeze({__proto__:null,identity:rWe});new TextEncoder,new TextDecoder;const RF={...JBe,...QBe,...tze,...rze,...oze,...mze,...bze,...Cze,...Aze,...Pze};({...eWe,...iWe});function ise(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function sWe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ise(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function sse(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const DF=sse("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),bT=sse("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=sWe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),oWe={utf8:DF,"utf-8":DF,hex:RF.base16,latin1:bT,ascii:bT,binary:bT,...RF};function aWe(t,e="utf8"){const n=oWe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ise(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var cWe=Object.defineProperty,lWe=(t,e,n)=>e in t?cWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fu=(t,e,n)=>lWe(t,typeof e!="symbol"?e+"":e,n);let uWe=class{constructor(e,n){this.core=e,this.logger=n,Fu(this,"keychain",new Map),Fu(this,"name",lBe),Fu(this,"version",uBe),Fu(this,"initialized",!1),Fu(this,"storagePrefix",_d),Fu(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Fu(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Fu(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Fu(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Ze("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Fu(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Ra(n,this.name)}get context(){return Pa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,XP(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?QP(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}};var dWe=Object.defineProperty,hWe=(t,e,n)=>e in t?dWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,es=(t,e,n)=>hWe(t,typeof e!="symbol"?e+"":e,n);let pWe=class{constructor(e,n,r){this.core=e,this.logger=n,es(this,"name",aBe),es(this,"keychain"),es(this,"randomSessionIdentifier",u9()),es(this,"initialized",!1),es(this,"clientId"),es(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),es(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),es(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=j1(i),o=ek(s.publicKey);return this.clientId=o,o}),es(this,"generateKeyPair",()=>{this.isInitialized();const i=JMe();return this.setPrivateKey(i.publicKey,i.privateKey)}),es(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=j1(s),a=this.randomSessionIdentifier;return await bU(a,i,cBe,o)}),es(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=XMe(a,s);return this.setSymKey(c,o)}),es(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||oS(i);return await this.keychain.set(o,i),o}),es(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),es(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),es(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Rie(o),c=fc(s);if(oF(a))return tLe(c,o?.encoding);if(sF(a)){const h=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(h,p)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return QMe({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),es(this,"decode",async(i,s,o)=>{this.isInitialized();const a=rLe(s,o);if(oF(a)){const c=nLe(s,o?.encoding);return Cu(c)}if(sF(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=eLe({symKey:c,encoded:s,encoding:o?.encoding});return Cu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),es(this,"getPayloadType",(i,s=ga)=>{const o=hC({encoded:i,encoding:s});return Zw(o.type)}),es(this,"getPayloadSenderPublicKey",(i,s=ga)=>{const o=hC({encoded:i,encoding:s});return o.senderPublicKey?Sa(o.senderPublicKey,Wo):void 0}),this.core=e,this.logger=Ra(n,this.name),this.keychain=r||new uWe(this.core,this.logger)}get context(){return Pa(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(kF)}catch{e=u9(),await this.keychain.set(kF,e)}return aWe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}};var fWe=Object.defineProperty,gWe=Object.defineProperties,mWe=Object.getOwnPropertyDescriptors,UF=Object.getOwnPropertySymbols,wWe=Object.prototype.hasOwnProperty,yWe=Object.prototype.propertyIsEnumerable,b9=(t,e,n)=>e in t?fWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bWe=(t,e)=>{for(var n in e||(e={}))wWe.call(e,n)&&b9(t,n,e[n]);if(UF)for(var n of UF(e))yWe.call(e,n)&&b9(t,n,e[n]);return t},vWe=(t,e)=>gWe(t,mWe(e)),qa=(t,e,n)=>b9(t,typeof e!="symbol"?e+"":e,n);let EWe=class extends q$e{constructor(e,n){super(e,n),this.logger=e,this.core=n,qa(this,"messages",new Map),qa(this,"messagesWithoutClientAck",new Map),qa(this,"name",dBe),qa(this,"version",hBe),qa(this,"initialized",!1),qa(this,"storagePrefix",_d),qa(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),qa(this,"set",async(r,i,s)=>{this.isInitialized();const o=il(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===aS.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,vWe(bWe({},c),{[o]:i}))}return await this.persist(),o}),qa(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),qa(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),qa(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=il(i);return typeof s[o]<"u"}),qa(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=il(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),qa(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Ra(e,this.name),this.core=n}get context(){return Pa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,XP(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,XP(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?QP(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?QP(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}};var CWe=Object.defineProperty,_We=Object.defineProperties,IWe=Object.getOwnPropertyDescriptors,MF=Object.getOwnPropertySymbols,SWe=Object.prototype.hasOwnProperty,xWe=Object.prototype.propertyIsEnumerable,v9=(t,e,n)=>e in t?CWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yy=(t,e)=>{for(var n in e||(e={}))SWe.call(e,n)&&v9(t,n,e[n]);if(MF)for(var n of MF(e))xWe.call(e,n)&&v9(t,n,e[n]);return t},LF=(t,e)=>_We(t,IWe(e)),Lc=(t,e,n)=>v9(t,typeof e!="symbol"?e+"":e,n);let AWe=class extends F$e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Lc(this,"events",new Ir.EventEmitter),Lc(this,"name",fBe),Lc(this,"queue",new Map),Lc(this,"publishTimeout",Y.toMiliseconds(Y.ONE_MINUTE)),Lc(this,"initialPublishTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),Lc(this,"needsTransportRestart",!1),Lc(this,"publish",async(r,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const d=s?.ttl||pBe,h=s?.prompt||!1,p=s?.tag||0,f=s?.id||Mi().toString(),g=Jb(px().protocol),m={id:f,method:s?.publishMethod||g.publish,params:Yy({topic:r,message:i,ttl:d,prompt:h,tag:p,attestation:s?.attestation},s?.tvf)},b=`Failed to publish payload, please try again. id:${f} tag:${p}`;try{ms((o=m.params)==null?void 0:o.prompt)&&((a=m.params)==null||delete a.prompt),ms((c=m.params)==null?void 0:c.tag)&&((l=m.params)==null||delete l.tag);const y=new Promise(async v=>{const w=({id:I})=>{var k;((k=m.id)==null?void 0:k.toString())===I.toString()&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(Oi.publish,w),v())};this.relayer.events.on(Oi.publish,w);const C=ud(new Promise((I,k)=>{this.rpcPublish(m,s).then(I).catch(P=>{this.logger.warn(P,P?.message),k(P)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${p}`);try{await C,this.events.removeListener(Oi.publish,w)}catch(I){this.queue.set(f,{request:m,opts:s,attempt:1}),this.logger.warn(I,I?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:r,message:i,opts:s}}),await ud(y,this.publishTimeout,b)}catch(y){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(y),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw y}finally{this.queue.delete(f)}}),Lc(this,"publishCustom",async r=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:d,tvf:h,publishMethod:p,prompt:f,tag:g,ttl:m=Y.FIVE_MINUTES}=u,b=u.id||Mi().toString(),y=Jb(px().protocol),v=p||y.publish,w={id:b,method:v,params:Yy(LF(Yy({},l),{ttl:m,prompt:f,tag:g,attestation:d}),h)},C=`Failed to publish custom payload, please try again. id:${b} tag:${g}`;try{ms((i=w.params)==null?void 0:i.prompt)&&((s=w.params)==null||delete s.prompt),ms((o=w.params)==null?void 0:o.tag)&&((a=w.params)==null||delete a.tag);const I=new Promise(async k=>{const P=({id:N})=>{var R;((R=w.id)==null?void 0:R.toString())===N.toString()&&(this.removeRequestFromQueue(N),this.relayer.events.removeListener(Oi.publish,P),k())};this.relayer.events.on(Oi.publish,P);const S=ud(new Promise((N,R)=>{this.rpcPublish(w,u).then(N).catch(D=>{this.logger.warn(D,D?.message),R(D)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${v} id:${b} tag:${g}`);try{await S,this.events.removeListener(Oi.publish,P)}catch(N){this.queue.set(b,{request:w,opts:u,attempt:1}),this.logger.warn(N,N?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,payload:l,opts:u}}),await ud(I,this.publishTimeout,C)}catch(I){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(I),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw I}finally{this.queue.delete(b)}}),Lc(this,"on",(r,i)=>{this.events.on(r,i)}),Lc(this,"once",(r,i)=>{this.events.once(r,i)}),Lc(this,"off",(r,i)=>{this.events.off(r,i)}),Lc(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Ra(n,this.name),this.registerEventListeners()}get context(){return Pa(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Oi.publish,Yy(Yy({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,LF(Yy({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ji.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Oi.connection_stalled);return}this.checkQueue()}),this.relayer.on(Oi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var kWe=Object.defineProperty,$We=(t,e,n)=>e in t?kWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jy=(t,e,n)=>$We(t,typeof e!="symbol"?e+"":e,n);let TWe=class{constructor(){Jy(this,"map",new Map),Jy(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Jy(this,"get",e=>this.map.get(e)||[]),Jy(this,"exists",(e,n)=>this.get(e).includes(n)),Jy(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Jy(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var NWe=Object.defineProperty,OWe=Object.defineProperties,PWe=Object.getOwnPropertyDescriptors,jF=Object.getOwnPropertySymbols,RWe=Object.prototype.hasOwnProperty,DWe=Object.prototype.propertyIsEnumerable,E9=(t,e,n)=>e in t?NWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J2=(t,e)=>{for(var n in e||(e={}))RWe.call(e,n)&&E9(t,n,e[n]);if(jF)for(var n of jF(e))DWe.call(e,n)&&E9(t,n,e[n]);return t},vT=(t,e)=>OWe(t,PWe(e)),hr=(t,e,n)=>E9(t,typeof e!="symbol"?e+"":e,n);let UWe=class extends K$e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,hr(this,"subscriptions",new Map),hr(this,"topicMap",new TWe),hr(this,"events",new Ir.EventEmitter),hr(this,"name",EBe),hr(this,"version",CBe),hr(this,"pending",new Map),hr(this,"cached",[]),hr(this,"initialized",!1),hr(this,"storagePrefix",_d),hr(this,"subscribeTimeout",Y.toMiliseconds(Y.ONE_MINUTE)),hr(this,"initialSubscribeTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),hr(this,"clientId"),hr(this,"batchSubscribeTopicsLimit",500),hr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),hr(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=px(i),a={topic:r,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),hr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),hr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),hr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),hr(this,"on",(r,i)=>{this.events.on(r,i)}),hr(this,"once",(r,i)=>{this.events.once(r,i)}),hr(this,"off",(r,i)=>{this.events.off(r,i)}),hr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),hr(this,"start",async()=>{await this.onConnect()}),hr(this,"stop",async()=>{await this.onDisconnect()}),hr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),hr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),hr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ji.pulse,async()=>{await this.checkPending()}),this.events.on(Ga.created,async r=>{const i=Ga.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Ga.deleted,async r=>{const i=Ga.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Ra(n,this.name),this.clientId=""}get context(){return Pa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=px(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Kr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return o;(!r||r?.transportType===Wr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:Jb(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===Wr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},Y.toMiliseconds(Y.ONE_SECOND)),o;const l=new Promise(async d=>{const h=p=>{p.topic===e&&(this.events.removeListener(Ga.created,h),d(p.id))};this.events.on(Ga.created,h);try{const p=await ud(new Promise((f,g)=>{this.relayer.request(a).catch(m=>{this.logger.warn(m,m?.message),g(m)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ga.created,h),d(p)}catch{}}),u=await ud(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Oi.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Jb(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await ud(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Oi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Jb(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await ud(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Oi.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Jb(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,vT(J2({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,J2({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,J2({},n)),this.topicMap.set(n.topic,e),this.events.emit(Ga.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ze("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ga.deleted,vT(J2({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ga.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ga.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=Ze("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>vT(J2({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await wDe(Y.toMiliseconds(Y.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return il(e+await this.getClientId())}};var MWe=Object.defineProperty,BF=Object.getOwnPropertySymbols,LWe=Object.prototype.hasOwnProperty,jWe=Object.prototype.propertyIsEnumerable,C9=(t,e,n)=>e in t?MWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zF=(t,e)=>{for(var n in e||(e={}))LWe.call(e,n)&&C9(t,n,e[n]);if(BF)for(var n of BF(e))jWe.call(e,n)&&C9(t,n,e[n]);return t},An=(t,e,n)=>C9(t,typeof e!="symbol"?e+"":e,n);let BWe=class extends H$e{constructor(e){var n;super(e),An(this,"protocol","wc"),An(this,"version",2),An(this,"core"),An(this,"logger"),An(this,"events",new Ir.EventEmitter),An(this,"provider"),An(this,"messages"),An(this,"subscriber"),An(this,"publisher"),An(this,"name",mBe),An(this,"transportExplicitlyClosed",!1),An(this,"initialized",!1),An(this,"connectionAttemptInProgress",!1),An(this,"relayUrl"),An(this,"projectId"),An(this,"packageName"),An(this,"bundleId"),An(this,"hasExperiencedNetworkDisruption",!1),An(this,"pingTimeout"),An(this,"heartBeatTimeout",Y.toMiliseconds(Y.THIRTY_SECONDS+Y.FIVE_SECONDS)),An(this,"reconnectTimeout"),An(this,"connectPromise"),An(this,"reconnectInProgress",!1),An(this,"requestsInFlight",[]),An(this,"connectTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),An(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const o=r.id||Mi().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const a=`${o}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(a);const c=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),An(this,"resetPingTimeout",()=>{ax()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||o.call(s)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),An(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),An(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected ðŸ›œ"),this.startPingTimeout(),this.events.emit(Oi.connect)}),An(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected ðŸ›‘"),this.requestsInFlight=[],this.onProviderDisconnect()}),An(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Oi.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),An(this,"registerProviderListeners",()=>{this.provider.on(Mc.payload,this.onPayloadHandler),this.provider.on(Mc.connect,this.onConnectHandler),this.provider.on(Mc.disconnect,this.onDisconnectHandler),this.provider.on(Mc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=ZU({logger:(n=e.logger)!=null?n:gBe,name:this.name}),this.messages=new EWe(this.logger,e.core),this.subscriber=new UWe(this,this.logger),this.publisher=new AWe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Kie,tDe()?this.packageName=Aq():nDe()&&(this.bundleId=Aq()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Pa(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Wr.relay},aS.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Ga.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ga.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,zF({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ud(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await bF())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Ti(Y.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Oi.message,e),await this.recordMessageEvent(e,aS.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Mc.disconnect,s),await ud(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Mc.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Mc.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Mc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Y.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(ax())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Sr(new YU(aDe({sdkVersion:m9,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),zp(e)){if(!e.method.endsWith(wBe))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Wr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(zF({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Bd(e)&&this.events.emit(Oi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,aS.inbound),this.events.emit(Oi.message,e))}async acknowledgePayload(e){const n=gc(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Mc.payload,this.onPayloadHandler),this.provider.off(Mc.connect,this.onConnectHandler),this.provider.off(Mc.disconnect,this.onDisconnectHandler),this.provider.off(Mc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await bF();rje(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ji.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&oje())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Oi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Y.toMiliseconds(yBe)))))}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function zWe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function WF(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function qF(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const WWe="[object RegExp]",qWe="[object String]",FWe="[object Number]",HWe="[object Boolean]",FF="[object Arguments]",VWe="[object Symbol]",KWe="[object Date]",ZWe="[object Map]",GWe="[object Set]",YWe="[object Array]",JWe="[object Function]",XWe="[object ArrayBuffer]",ET="[object Object]",QWe="[object Error]",eqe="[object DataView]",tqe="[object Uint8Array]",nqe="[object Uint8ClampedArray]",rqe="[object Uint16Array]",iqe="[object Uint32Array]",sqe="[object BigUint64Array]",oqe="[object Int8Array]",aqe="[object Int16Array]",cqe="[object Int32Array]",lqe="[object BigInt64Array]",uqe="[object Float32Array]",dqe="[object Float64Array]";function hqe(){}function HF(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function pqe(t,e,n){return Z3(t,e,void 0,void 0,void 0,void 0,n)}function Z3(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return mE(t,e,s,o)}return mE(t,e,s,o)}function mE(t,e,n,r){if(Object.is(t,e))return!0;let i=qF(t),s=qF(e);if(i===FF&&(i=ET),s===FF&&(s=ET),i!==s)return!1;switch(i){case qWe:return t.toString()===e.toString();case FWe:{const c=t.valueOf(),l=e.valueOf();return zWe(c,l)}case HWe:case KWe:case VWe:return Object.is(t.valueOf(),e.valueOf());case WWe:return t.source===e.source&&t.flags===e.flags;case JWe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case ZWe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Z3(l,e.get(c),c,t,e,n,r))return!1;return!0}case GWe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(p=>Z3(d,p,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case YWe:case tqe:case nqe:case rqe:case iqe:case sqe:case oqe:case aqe:case cqe:case lqe:case uqe:case dqe:{if(typeof window.Buffer<"u"&&window.Buffer.isBuffer(t)!==window.Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Z3(t[c],e[c],c,t,e,n,r))return!1;return!0}case XWe:return t.byteLength!==e.byteLength?!1:mE(new Uint8Array(t),new Uint8Array(e),n,r);case eqe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:mE(new Uint8Array(t),new Uint8Array(e),n,r);case QWe:return t.name===e.name&&t.message===e.message;case ET:{if(!(mE(t.constructor,e.constructor,n,r)||HF(t)&&HF(e)))return!1;const c=[...Object.keys(t),...WF(t)],l=[...Object.keys(e),...WF(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const p=e[d];if(!Z3(h,p,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function fqe(t,e){return pqe(t,e,hqe)}var gqe=Object.defineProperty,VF=Object.getOwnPropertySymbols,mqe=Object.prototype.hasOwnProperty,wqe=Object.prototype.propertyIsEnumerable,_9=(t,e,n)=>e in t?gqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KF=(t,e)=>{for(var n in e||(e={}))mqe.call(e,n)&&_9(t,n,e[n]);if(VF)for(var n of VF(e))wqe.call(e,n)&&_9(t,n,e[n]);return t},ea=(t,e,n)=>_9(t,typeof e!="symbol"?e+"":e,n);let ly=class extends V$e{constructor(e,n,r,i=_d,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,ea(this,"map",new Map),ea(this,"version",bBe),ea(this,"cached",[]),ea(this,"initialized",!1),ea(this,"getKey"),ea(this,"storagePrefix",_d),ea(this,"recentlyDeleted",[]),ea(this,"recentlyDeletedLimit",200),ea(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ms(o)?this.map.set(this.getKey(o),o):RLe(o)?this.map.set(o.id,o):DLe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ea(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ea(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ea(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>fqe(a[c],o[c]))):this.values)),ea(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=KF(KF({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ea(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Ra(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Pa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Ze("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Ze("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ze("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}};var yqe=Object.defineProperty,bqe=(t,e,n)=>e in t?yqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dn=(t,e,n)=>bqe(t,typeof e!="symbol"?e+"":e,n);let vqe=class{constructor(e,n){this.core=e,this.logger=n,dn(this,"name",_Be),dn(this,"version",IBe),dn(this,"events",new jp),dn(this,"pairings"),dn(this,"initialized",!1),dn(this,"storagePrefix",_d),dn(this,"ignoredPayloadTypes",[sp]),dn(this,"registeredMethods",[]),dn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),dn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),dn(this,"create",async r=>{this.isInitialized();const i=u9(),s=await this.core.crypto.setSymKey(i),o=Ti(Y.FIVE_MINUTES),a={protocol:Vie},c={topic:s,expiry:o,relay:a,active:!1,methods:r?.methods},l=uF({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(Xm.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:l}}),dn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[nd.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=lF(r.uri);i.props.properties.topic=s,i.addTrace(nd.pairing_uri_validation_success),i.addTrace(nd.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(nd.existing_pairing),u.active)throw i.setError($h.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(nd.pairing_not_expired)}const d=c||Ti(Y.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(nd.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Xm.create,h),i.addTrace(nd.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(nd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError($h.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError($h.subscribe_pairing_topic_failure),p}return i.addTrace(nd.subscribe_pairing_topic_success),h}),dn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Ti(Y.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),dn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Hm();this.events.once(Xn("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),dn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),dn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),dn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),dn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Kr("USER_DISCONNECTED")),await this.deletePairing(i))}),dn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return uF({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),dn(this,"sendRequest",async(r,i,s)=>{const o=Hr(i,s),a=await this.core.crypto.encode(r,o),c=G2[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),dn(this,"sendResult",async(r,i,s)=>{const o=gc(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=G2[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),dn(this,"sendError",async(r,i,s)=>{const o=Kg(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=G2[c]?G2[c].res:G2.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),dn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Kr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),dn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>sd(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),dn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),dn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),dn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Xm.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),dn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{ar(i)?this.events.emit(Xn("pairing_ping",s),{}):Pn(i)&&this.events.emit(Xn("pairing_ping",s),{error:i.error})},500)}),dn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Xm.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),dn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Kr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),dn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Kr("WC_METHOD_UNSUPPORTED",r))}),dn(this,"isValidPair",(r,i)=>{var s;if(!ca(r)){const{message:a}=Ze("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError($h.malformed_pairing_uri),new Error(a)}if(!PLe(r.uri)){const{message:a}=Ze("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError($h.malformed_pairing_uri),new Error(a)}const o=lF(r?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Ze("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError($h.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ze("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError($h.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Y.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError($h.pairing_expired);const{message:a}=Ze("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),dn(this,"isValidPing",async r=>{if(!ca(r)){const{message:s}=Ze("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),dn(this,"isValidDisconnect",async r=>{if(!ca(r)){const{message:s}=Ze("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),dn(this,"isValidPairingTopic",async r=>{if(!Pi(r,!1)){const{message:i}=Ze("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Ze("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(sd(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Ze("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Ra(n,this.name),this.pairings=new ly(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Pa(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Oi.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Wr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);zp(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):Bd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Xc.expired,async e=>{const{topic:n}=Ure(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Xm.expire,{topic:n}))})}};var Eqe=Object.defineProperty,Cqe=(t,e,n)=>e in t?Eqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ts=(t,e,n)=>Cqe(t,typeof e!="symbol"?e+"":e,n);let _qe=class extends W$e{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ts(this,"records",new Map),Ts(this,"events",new Ir.EventEmitter),Ts(this,"name",SBe),Ts(this,"version",xBe),Ts(this,"cached",[]),Ts(this,"initialized",!1),Ts(this,"storagePrefix",_d),Ts(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ts(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Ti(Y.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ml.created,o)}),Ts(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Pn(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ml.updated,i))}),Ts(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ts(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ml.deleted,s)}}),this.persist()}),Ts(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ts(this,"on",(r,i)=>{this.events.on(r,i)}),Ts(this,"once",(r,i)=>{this.events.once(r,i)}),Ts(this,"off",(r,i)=>{this.events.off(r,i)}),Ts(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Ra(n,this.name)}get context(){return Pa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Hr(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ze("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ml.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ze("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ml.created,e=>{const n=Ml.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ml.updated,e=>{const n=Ml.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ml.deleted,e=>{const n=Ml.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ji.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Y.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ml.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Iqe=Object.defineProperty,Sqe=(t,e,n)=>e in t?Iqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ao=(t,e,n)=>Sqe(t,typeof e!="symbol"?e+"":e,n);let xqe=class extends Z$e{constructor(e,n){super(e,n),this.core=e,this.logger=n,ao(this,"expirations",new Map),ao(this,"events",new Ir.EventEmitter),ao(this,"name",ABe),ao(this,"version",kBe),ao(this,"cached",[]),ao(this,"initialized",!1),ao(this,"storagePrefix",_d),ao(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ao(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),ao(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Xc.created,{target:s,expiration:o})}),ao(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),ao(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Xc.deleted,{target:i,expiration:s})}}),ao(this,"on",(r,i)=>{this.events.on(r,i)}),ao(this,"once",(r,i)=>{this.events.once(r,i)}),ao(this,"off",(r,i)=>{this.events.off(r,i)}),ao(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Ra(n,this.name)}get context(){return Pa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return cDe(e);if(typeof e=="number")return lDe(e);const{message:n}=Ze("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Xc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ze("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ze("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Y.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Xc.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ji.pulse,()=>this.checkExpirations()),this.events.on(Xc.created,e=>{const n=Xc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Xc.expired,e=>{const n=Xc.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Xc.deleted,e=>{const n=Xc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Aqe=Object.defineProperty,kqe=(t,e,n)=>e in t?Aqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ai=(t,e,n)=>kqe(t,typeof e!="symbol"?e+"":e,n);let $qe=class extends G$e{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Ai(this,"name",$Be),Ai(this,"abortController"),Ai(this,"isDevEnv"),Ai(this,"verifyUrlV3",NBe),Ai(this,"storagePrefix",_d),Ai(this,"version",Hie),Ai(this,"publicKey"),Ai(this,"fetchPromise"),Ai(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Y.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Ai(this,"register",async i=>{if(!Jv()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=_r.getDocument(),u=this.startAbortTimer(Y.ONE_SECOND*5),d=await new Promise((h,p)=>{const f=()=>{window.removeEventListener("message",m),l.body.removeChild(g),p("attestation aborted")};this.abortController.signal.addEventListener("abort",f);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",f,{signal:this.abortController.signal});const m=b=>{if(b.data&&typeof b.data=="string")try{const y=JSON.parse(b.data);if(y.type==="verify_attestation"){if(mp(y.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",f),window.removeEventListener("message",m),h(y.attestation===null?"":y.attestation)}}catch(y){this.logger.warn(y)}};l.body.appendChild(g),window.addEventListener("message",m,{signal:this.abortController.signal})});return this.logger.debug(d,"jwt attestation"),d}catch(l){this.logger.warn(l)}return""}),Ai(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(mp(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),Ai(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Y.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Ai(this,"getVerifyUrl",i=>{let s=i||gE;return OBe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${gE}`),s=gE),s}),Ai(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Y.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Ai(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Ai(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Ai(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Ai(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Ai(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Ai(this,"validateAttestation",(i,s)=>{const o=sLe(i,s.publicKey),a={hasExpired:Y.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Ra(n,this.name),this.abortController=new AbortController,this.isDevEnv=MU(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Pa(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Y.toMiliseconds(e))}};var Tqe=Object.defineProperty,Nqe=(t,e,n)=>e in t?Tqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZF=(t,e,n)=>Nqe(t,typeof e!="symbol"?e+"":e,n);let Oqe=class extends Y$e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,ZF(this,"context",PBe),ZF(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${RBe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Ra(n,this.context)}};var Pqe=Object.defineProperty,GF=Object.getOwnPropertySymbols,Rqe=Object.prototype.hasOwnProperty,Dqe=Object.prototype.propertyIsEnumerable,I9=(t,e,n)=>e in t?Pqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X2=(t,e)=>{for(var n in e||(e={}))Rqe.call(e,n)&&I9(t,n,e[n]);if(GF)for(var n of GF(e))Dqe.call(e,n)&&I9(t,n,e[n]);return t},ts=(t,e,n)=>I9(t,typeof e!="symbol"?e+"":e,n);let Uqe=class extends J$e{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,ts(this,"context",UBe),ts(this,"storagePrefix",_d),ts(this,"storageVersion",DBe),ts(this,"events",new Map),ts(this,"shouldPersist",!1),ts(this,"init",async()=>{if(!MU())try{const i={eventId:$q(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Rre(this.core.relayer.protocol,this.core.relayer.version,m9)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),ts(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=$q(),u=this.core.projectId||"",d=Date.now(),h=X2({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),ts(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return X2(X2({},a),this.setMethods(a.eventId))}),ts(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),ts(this,"setEventListeners",()=>{this.core.heartbeat.on(Ji.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Y.fromMiliseconds(Date.now())-Y.fromMiliseconds(i.timestamp)>MBe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),ts(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),ts(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),ts(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),ts(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ts(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,X2(X2({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),ts(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),ts(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${LBe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${m9}${s}`,{method:"POST",body:JSON.stringify(i)})}),ts(this,"getAppDomain",()=>Pre().url),this.logger=Ra(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var Mqe=Object.defineProperty,YF=Object.getOwnPropertySymbols,Lqe=Object.prototype.hasOwnProperty,jqe=Object.prototype.propertyIsEnumerable,S9=(t,e,n)=>e in t?Mqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JF=(t,e)=>{for(var n in e||(e={}))Lqe.call(e,n)&&S9(t,n,e[n]);if(YF)for(var n of YF(e))jqe.call(e,n)&&S9(t,n,e[n]);return t},$r=(t,e,n)=>S9(t,typeof e!="symbol"?e+"":e,n);let Bqe=class ose extends L$e{constructor(e){var n;super(e),$r(this,"protocol",Fie),$r(this,"version",Hie),$r(this,"name",g9),$r(this,"relayUrl"),$r(this,"projectId"),$r(this,"customStoragePrefix"),$r(this,"events",new Ir.EventEmitter),$r(this,"logger"),$r(this,"heartbeat"),$r(this,"relayer"),$r(this,"crypto"),$r(this,"storage"),$r(this,"history"),$r(this,"expirer"),$r(this,"pairing"),$r(this,"verify"),$r(this,"echoClient"),$r(this,"linkModeSupportedApps"),$r(this,"eventClient"),$r(this,"initialized",!1),$r(this,"logChunkController"),$r(this,"on",(a,c)=>this.events.on(a,c)),$r(this,"once",(a,c)=>this.events.once(a,c)),$r(this,"off",(a,c)=>this.events.off(a,c)),$r(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),$r(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Wr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Kie,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=nU({level:typeof e?.logger=="string"&&e.logger?e.logger:sBe.logger,name:g9}),{logger:s,chunkLoggerController:o}=WA({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ra(s,this.name),this.heartbeat=new uU,this.crypto=new pWe(this,this.logger,e?.keychain),this.history=new _qe(this,this.logger),this.expirer=new xqe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new dU(JF(JF({},oBe),e?.storageOptions)),this.relayer=new BWe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new vqe(this,this.logger),this.verify=new $qe(this,this.logger,this.storage),this.echoClient=new Oqe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Uqe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new ose(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(vBe,r),n}get context(){return Pa(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem($F,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem($F)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof window.process<"u"&&iBe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const zqe=Bqe,ase="wc",cse=2,lse="client",JU=`${ase}@${cse}:${lse}:`,CT={name:lse,logger:"error"},XF="WALLETCONNECT_DEEPLINK_CHOICE",Wqe="proposal",QF="Proposal expired",qqe="session",Xy=Y.SEVEN_DAYS,Fqe="engine",Ns={wc_sessionPropose:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Y.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Y.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1119}}},_T={min:Y.FIVE_MINUTES,max:Y.SEVEN_DAYS},Hu={idle:"IDLE",active:"ACTIVE"},Hqe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Vqe="request",Kqe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Zqe="wc",Gqe="auth",Yqe="authKeys",Jqe="pairingTopics",Xqe="requests",mk=`${Zqe}@${1.5}:${Gqe}:`,cS=`${mk}:PUB_KEY`;var Qqe=Object.defineProperty,eFe=Object.defineProperties,tFe=Object.getOwnPropertyDescriptors,eH=Object.getOwnPropertySymbols,nFe=Object.prototype.hasOwnProperty,rFe=Object.prototype.propertyIsEnumerable,x9=(t,e,n)=>e in t?Qqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mn=(t,e)=>{for(var n in e||(e={}))nFe.call(e,n)&&x9(t,n,e[n]);if(eH)for(var n of eH(e))rFe.call(e,n)&&x9(t,n,e[n]);return t},Os=(t,e)=>eFe(t,tFe(e)),Pe=(t,e,n)=>x9(t,typeof e!="symbol"?e+"":e,n);let iFe=class extends tTe{constructor(e){super(e),Pe(this,"name",Fqe),Pe(this,"events",new jp),Pe(this,"initialized",!1),Pe(this,"requestQueue",{state:Hu.idle,queue:[]}),Pe(this,"sessionRequestQueue",{state:Hu.idle,queue:[]}),Pe(this,"emittedSessionRequests",new yDe({limit:500})),Pe(this,"requestQueueDelay",Y.ONE_SECOND),Pe(this,"expectedPairingMethodMap",new Map),Pe(this,"recentlyDeletedMap",new Map),Pe(this,"recentlyDeletedLimit",200),Pe(this,"relayMessageCache",[]),Pe(this,"pendingSessions",new Map),Pe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ns)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Y.toMiliseconds(this.requestQueueDelay)))}),Pe(this,"connect",async n=>{var r;this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=Os(Mn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(i),i.optionalNamespaces=kLe(i.requiredNamespaces,i.optionalNamespaces),i.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:c,scopedProperties:l,relays:u,authentication:d,walletPay:h}=i,p=((r=d?.[0])==null?void 0:r.ttl)||Ns.wc_sessionPropose.req.ttl||Y.FIVE_MINUTES;this.validateRequestExpiry(p);let f=s,g,m=!1;try{if(f){const S=this.client.core.pairing.pairings.get(f);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),m=S.active}}catch(S){throw this.client.logger.error(`connect() -> pairing.get(${f}) failed`),S}if(!f||!m){const{topic:S,uri:N}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});f=S,g=N}if(!f){const{message:S}=Ze("NO_MATCHING_KEY",`connect() pairing topic: ${f}`);throw new Error(S)}const b=await this.client.core.crypto.generateKeyPair(),y=Ti(p),v=Mn(Os(Mn(Mn({requiredNamespaces:o,optionalNamespaces:a,relays:u??[{protocol:Vie}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:f},c&&{sessionProperties:c}),l&&{scopedProperties:l}),{id:Dr()}),(d||h)&&{requests:{authentication:d?.map(S=>{const{domain:N,chains:R,nonce:D,uri:O,exp:T,nbf:E,type:_,statement:x,requestId:M,resources:A,signatureTypes:U}=S;return{domain:N,chains:R,nonce:D,type:_??"caip122",aud:O,version:"1",iat:new Date().toISOString(),exp:T,nbf:E,statement:x,requestId:M,resources:A,signatureTypes:U}}),walletPay:h}}),w=Xn("session_connect",v.id),{reject:C,resolve:I,done:k}=Hm(p,QF),P=({id:S})=>{S===v.id&&(this.client.events.off("proposal_expire",P),this.pendingSessions.delete(v.id),this.events.emit(w,{error:{message:QF,code:0}}))};return this.client.events.on("proposal_expire",P),this.events.once(w,({error:S,session:N})=>{this.client.events.off("proposal_expire",P),S?C(S):N&&I(N)}),await this.setProposal(v.id,v),await this.sendProposeSession({proposal:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:v.id}}}).catch(S=>{throw this.deleteProposal(v.id),S}),{uri:g,approval:k}}),Pe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Pe(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Ll.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(Em.no_internet_connection),N}try{await this.isValidProposalId(n?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(Em.proposal_not_found),N}try{await this.isValidApprove(n)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Em.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h,proposalRequestsResponses:p}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:m,requiredNamespaces:b,optionalNamespaces:y}=f;let v=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});v||(v=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Ll.session_approve_started,properties:{topic:g,trace:[Ll.session_approve_started,Ll.session_namespaces_validation_success]}}));const w=await this.client.core.crypto.generateKeyPair(),C=m.publicKey,I=await this.client.core.crypto.generateSharedKey(w,C),k=Os(Mn(Mn(Mn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:w,metadata:this.client.metadata},expiry:Ti(Xy)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{proposalRequestsResponses:p}),P=Wr.relay;v.addTrace(Ll.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:P,internal:{skipSubscribe:!0}})}catch(N){throw v.setError(Em.subscribe_session_topic_failure),N}v.addTrace(Ll.subscribe_session_topic_success);const S=Os(Mn({},k),{topic:I,requiredNamespaces:b,optionalNamespaces:y,pairingTopic:g,acknowledged:!1,self:k.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:w,transportType:Wr.relay,authentication:p?.authentication,walletPayResult:p?.walletPay});await this.client.session.set(I,S),v.addTrace(Ll.store_session);try{await this.sendApproveSession({sessionTopic:I,proposal:f,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:w},sessionSettleRequest:k,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:Mn({correlationId:a},this.getTVFApproveParams(S))}}),v.addTrace(Ll.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(I,Kr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(I),N}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(I,Ti(Xy)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),Pe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:Ns.wc_sessionPropose.reject}),await this.deleteProposal(r)}),Pe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Hm(Y.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=Dr(),l=Mi().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Xn("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),Pe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Dr(),{done:s,resolve:o,reject:a}=Hm(Y.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(Xn("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Ti(Xy)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Pe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(m){throw this.client.logger.error("request() -> isValidRequest() failed"),m}const{chainId:r,request:i,topic:s,expiry:o=Ns.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);a?.transportType===Wr.relay&&await this.confirmOnlineStateOrThrow();const c=Dr(),l=Mi().toString(),{done:u,resolve:d,reject:h}=Hm(o,"Request expired. Please try again.");this.events.once(Xn("session_request",c),({error:m,result:b})=>{m?h(m):d(b)});const p="wc_sessionRequest",f=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(f)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:{request:Os(Mn({},i),{expiryTimestamp:Ti(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:f}).catch(m=>h(m)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const g={request:Os(Mn({},i),{expiryTimestamp:Ti(o)}),chainId:r};return await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),m()}),new Promise(async m=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const y=await pDe(this.client.core.storage,XF);await uDe({id:c,topic:s,wcDeepLink:y})}m()}),u()]).then(m=>m[2])}),Pe(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[Ll.session_request_response_started]}});try{await this.isValidRespond(n)}catch(d){throw s.addTrace(d?.message),s.setError(Em.session_request_response_validation_failure),d}s.addTrace(Ll.session_request_response_validation_success);const{topic:o,response:a}=n,{id:c}=a,l=this.client.session.get(o);l.transportType===Wr.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{s.addTrace(Ll.session_request_response_publish_started),ar(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:u}):Pn(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:u}),this.cleanupAfterResponse(n)}catch(d){throw s.addTrace(d?.message),s.setError(Em.session_request_response_publish_failure),d}}),Pe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Dr(),s=Mi().toString(),{done:o,resolve:a,reject:c}=Hm(Y.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(Xn("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Pe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Mi().toString(),a=Dr();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Pe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Kr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Ze("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Pe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>NLe(r,n)))),Pe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Pe(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Wr.link_mode:Wr.relay;o===Wr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:p,nbf:f,methods:g=[],expiry:m}=n,b=[...n.resources||[]],{topic:y,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:v}});const w=await this.client.core.crypto.generateKeyPair(),C=oS(w);if(await Promise.all([this.client.auth.authKeys.set(cS,{responseTopic:C,publicKey:w}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:y})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${y}`),g.length>0){const{namespace:A}=ip(a[0]);let U=NUe(A,"request",g);sS(b)&&(U=PUe(U,b.pop())),b.push(U)}const I=m&&m>Ns.wc_sessionAuthenticate.req.ttl?m:Ns.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:p,nbf:f,resources:b},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Ti(I)},P={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},S={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Ti(Ns.wc_sessionPropose.req.ttl),id:Dr()},{done:N,resolve:R,reject:D}=Hm(I,"Request expired"),O=Dr(),T=Xn("session_connect",S.id),E=Xn("session_request",O),_=async({error:A,session:U})=>{this.events.off(E,x),A?D(A):U&&R({session:U})},x=async A=>{var U,B,z;if(await this.deletePendingAuthRequest(O,{message:"fulfilled",code:0}),A.error){const te=Kr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return A.error.code===te.code?void 0:(this.events.off(T,_),D(A.error.message))}await this.deleteProposal(S.id),this.events.off(T,_);const{cacaos:H,responder:q}=A.result,F=[],K=[];for(const te of H){await Bq({cacao:te,projectId:this.client.core.projectId})||(this.client.logger.error(te,"Signature verification failed"),D(Kr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ue}=te,ge=sS(ue.resources),$e=[e9(ue.iss)],he=lx(ue.iss);if(ge){const me=zq(ge),Me=Wq(ge);F.push(...me),$e.push(...Me)}for(const me of $e)K.push(`${me}:${he}`)}const ee=await this.client.core.crypto.generateSharedKey(w,q.publicKey);let se;F.length>0&&(se={topic:ee,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:Ti(Xy),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:fF([...new Set(F)],[...new Set(K)]),transportType:o},await this.client.core.relayer.subscribe(ee,{transportType:o}),await this.client.session.set(ee,se),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:q.metadata}),se=this.client.session.get(ee)),(U=this.client.metadata.redirect)!=null&&U.linkMode&&(B=q.metadata.redirect)!=null&&B.linkMode&&(z=q.metadata.redirect)!=null&&z.universal&&r&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(ee,{transportType:Wr.link_mode})),R({auths:H,session:se})};this.events.once(T,_),this.events.once(E,x);let M;try{if(s){const A=Hr("wc_sessionAuthenticate",k,O);this.client.core.history.set(y,A);const U=await this.client.core.crypto.encode("",A,{type:Y_,encoding:Ff});M=z5(r,y,U)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:k,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:O}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:S,expiry:Ns.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S.id})])}catch(A){throw this.events.off(T,_),this.events.off(E,x),A}return await this.setProposal(S.id,S),await this.setAuthRequest(O,{request:Os(Mn({},k),{verifyContext:{}}),pairingTopic:y,transportType:o}),{uri:M??v,response:N}}),Pe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Cm.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw s.setError(Y2.no_internet_connection),m}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Y2.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Wr.relay;a===Wr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=oS(c),d={type:sp,receiverPublicKey:c,senderPublicKey:l},h=[],p=[];for(const m of i){if(!await Bq({cacao:m,projectId:this.client.core.projectId})){s.setError(Y2.invalid_cacao);const C=Kr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:C,encodeOpts:d}),new Error(C.message)}s.addTrace(Cm.cacaos_verified);const{p:b}=m,y=sS(b.resources),v=[e9(b.iss)],w=lx(b.iss);if(y){const C=zq(y),I=Wq(y);h.push(...C),v.push(...I)}for(const C of v)p.push(`${C}:${w}`)}const f=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Cm.create_authenticated_session_topic);let g;if(h?.length>0){g={topic:f,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Ti(Xy),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:fF([...new Set(h)],[...new Set(p)]),transportType:a},s.addTrace(Cm.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(f,{transportType:a})}catch(m){throw s.setError(Y2.subscribe_authenticated_session_topic_failure),m}s.addTrace(Cm.subscribe_authenticated_session_topic_success),await this.client.session.set(f,g),s.addTrace(Cm.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Cm.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(m){throw s.setError(Y2.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),Pe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Wr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=oS(o),l={type:sp,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:Ns.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),Pe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return Qre(r,i)}),Pe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Pe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Pe(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Kr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(XF).catch(l=>this.client.logger.warn(l)),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Hu.idle),await Promise.all(this.getPendingSessionRequests().filter(l=>l.topic===i).map(l=>this.deletePendingSessionRequest(l.id,Kr("USER_DISCONNECTED")))),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Pe(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Em.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Kr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Pe(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Hu.idle,this.client.events.emit("session_request_expire",{id:n}))}),Pe(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Pe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Pe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Ti(Ns.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Pe(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Wr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Pe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Ti(Ns.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),Pe(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:h={}}=n,p=Hr(i,s,c);let f;const g=!!u;try{const y=g?Ff:ga;f=await this.client.core.crypto.encode(r,p,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),y}let m;if(Kqe.includes(i)){const y=il(JSON.stringify(p)),v=il(f);m=await this.client.core.verify.register({id:v,decryptedId:y})}const b=Mn(Mn({},Ns[i].req),h);if(b.attestation=m,o&&(b.ttl=o),a&&(b.id=a),this.client.core.history.set(r,p),g){const y=z5(u,r,f);await globalThis.Linking.openURL(y,this.client.name)}else b.tvf=Os(Mn({},d),{correlationId:p.id}),l?(b.internal=Os(Mn({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,b)):this.client.core.relayer.publish(r,f,b).catch(y=>this.client.logger.error(y));return p.id}),Pe(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Hr("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:ga}),a=il(JSON.stringify(s)),c=il(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:Os(Mn({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),Pe(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,c=gc(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:ga}),u=Hr("wc_sessionSettle",o,a?.id),d=await this.client.core.crypto.encode(r,u,{encoding:ga});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:Os(Mn({},a),{publishMethod:"wc_approveSession"})})}),Pe(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=gc(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const f=d?Ff:ga;u=await this.client.core.crypto.encode(i,l,Os(Mn({},a||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),f}let h,p;try{h=await this.client.core.history.get(i,r);const f=h.request;try{p=this.getTVFParams(r,f.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(f){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),f}if(d){const f=z5(c,i,u);await globalThis.Linking.openURL(f,this.client.name)}else{const f=h.request.method,g=Ns[f].res;g.tvf=Os(Mn({},p),{correlationId:r}),o?(g.internal=Os(Mn({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),Pe(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Kg(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const p=d?Ff:ga;u=await this.client.core.crypto.encode(i,l,Os(Mn({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let h;try{h=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(d){const p=z5(c,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=h.request.method,f=a||Ns[p].res;this.client.core.relayer.publish(i,u,f)}await this.client.core.history.resolve(l)}),Pe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;sd(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{sd(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Pe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Pe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Pe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Hu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Hu.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Hu.idle}),Pe(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Pe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Pe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Ze("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Pe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Pe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError($h.proposal_listener_not_found)),this.isValidConnect(Mn({},i.params));const u=a.expiryTimestamp||Ti(Ns.wc_sessionPropose.req.ttl),d=Mn({id:c,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:il(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(nd.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Ns.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Pe(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(ar(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Pn(r)){await this.deleteProposal(s);const o=Xn("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),Pe(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h,proposalRequestsResponses:p}=r.params,f=[...this.pendingSessions.values()].find(b=>b.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const g=this.client.proposal.get(f.proposalId),m=Os(Mn(Mn(Mn({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:Wr.relay,authentication:p?.authentication,walletPayResult:p?.walletPay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Xn("session_connect",f.proposalId),{session:m})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;ar(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Xn("session_approve",i),{})):Pn(r)&&(await this.client.session.delete(n,Kr("USER_DISCONNECTED")),this.events.emit(Xn("session_approve",i),{error:r.error}))}),Pe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=Z2.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Kr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Mn({topic:n},i));try{Z2.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw Z2.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Pe(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Xn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Xn("session_update",i),{}):Pn(r)&&this.events.emit(Xn("session_update",i),{error:r.error})}),Pe(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Ti(Xy)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Pe(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Xn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Xn("session_extend",i),{}):Pn(r)&&this.events.emit(Xn("session_extend",i),{error:r.error})}),Pe(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Pe(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Xn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ar(r)?this.events.emit(Xn("session_ping",i),{}):Pn(r)&&this.events.emit(Xn("session_ping",i),{error:r.error})},500)}),Pe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{await this.isValidDisconnect({topic:n,reason:r.params}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Kr("USER_DISCONNECTED")}),await this.deleteSession({topic:n,id:i})}catch(s){this.client.logger.error(s)}}),Pe(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Mn({topic:o},h));const p=this.client.session.get(o),f=await this.getVerifyContext({attestationId:c,hash:il(JSON.stringify(Hr("wc_sessionRequest",h,d))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:f};await this.setPendingSessionRequest(g),u===Wr.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(p){await this.sendError({id:d,topic:o,error:p}),this.client.logger.error(p)}}),Pe(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Xn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Xn("session_request",i),{result:r.result}):Pn(r)&&this.events.emit(Xn("session_request",i),{error:r.error})}),Pe(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=Z2.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Mn({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Z2.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ar(r)?this.events.emit(Xn("session_request",i),{result:r.result}):Pn(r)&&this.events.emit(Xn("session_request",i),{error:r.error})}),Pe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:il(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:c}),c===Wr.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),p={type:sp,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:p,rpcOpts:Ns.wc_sessionAuthenticate.autoReject,appLink:h})}}),Pe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Pe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Hu.idle,this.processSessionRequestQueue()},Y.toMiliseconds(this.requestQueueDelay))}),Pe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{this.events.emit(Xn("session_request",s.request.id),{error:r})})}),Pe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Hu.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Pe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Hu.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),Pe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Hr("wc_sessionPropose",Os(Mn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),Pe(this,"isValidConnect",async n=>{if(!ca(n)){const{message:l}=Ze("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(ms(r)||await this.isValidPairingTopic(r),!qLe(c)){const{message:l}=Ze("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(i&&!ms(i)&&md(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!ms(s)&&md(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),o&&!ms(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!ms(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Pe(this,"validateNamespaces",(n,r)=>{const i=WLe(n,"connect()",r);if(i)throw new Error(i.message)}),Pe(this,"isValidApprove",async n=>{if(!ca(n))throw new Error(Ze("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=mT(i,"approve()");if(l)throw new Error(l.message);const u=wF(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Pi(s,!0)){const{message:d}=Ze("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(o&&!ms(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!ms(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),Pe(this,"isValidReject",async n=>{if(!ca(n)){const{message:s}=Ze("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!HLe(i)){const{message:s}=Ze("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Pe(this,"isValidSessionSettleRequest",n=>{if(!ca(n)){const{message:l}=Ze("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!Mie(r)){const{message:l}=Ze("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=ULe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=mT(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(sd(o)){const{message:l}=Ze("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Pe(this,"isValidUpdate",async n=>{if(!ca(n)){const{message:c}=Ze("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=mT(i,"update()");if(o)throw new Error(o.message);const a=wF(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Pe(this,"isValidExtend",async n=>{if(!ca(n)){const{message:i}=Ze("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Pe(this,"isValidRequest",async n=>{if(!ca(n)){const{message:c}=Ze("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!mF(a,s)){const{message:c}=Ze("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!VLe(i)){const{message:c}=Ze("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!GLe(a,s,i.method)){const{message:c}=Ze("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}this.validateRequestExpiry(o)}),Pe(this,"isValidRespond",async n=>{var r;if(!ca(n)){const{message:a}=Ze("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(a)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(a){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),a}if(!KLe(s)){const{message:a}=Ze("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}const o=this.client.pendingRequest.get(s.id);if(o.topic!==i){const{message:a}=Ze("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${o.topic}, received topic: ${i}`);throw new Error(a)}}),Pe(this,"isValidPing",async n=>{if(!ca(n)){const{message:i}=Ze("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Pe(this,"isValidEmit",async n=>{if(!ca(n)){const{message:a}=Ze("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!mF(o,s)){const{message:a}=Ze("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!ZLe(i)){const{message:a}=Ze("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!YLe(o,s,i.name)){const{message:a}=Ze("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Pe(this,"isValidDisconnect",async n=>{if(!ca(n)){const{message:i}=Ze("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Pe(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Pi(i,!1))throw new Error("uri is required parameter");if(!Pi(s,!1))throw new Error("domain is required parameter");if(!Pi(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>ip(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=ip(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Pe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||gE,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Wr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Pe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Ze("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),Pe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Pe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Pe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Ze("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Pe(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,h;return!n||r!==Wr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((d=n?.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof globalThis?.Linking<"u"}),Pe(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),Pe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=kq(n,"topic")||"",i=decodeURIComponent(kq(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Wr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Pe(this,"registerLinkModeListeners",async()=>{var n;if(MU()||Hg()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis?.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Pe(this,"getTVFApproveParams",n=>{try{const r=Die(n.namespaces),i=_Le(n.namespaces),s=ILe(n.namespaces),o=n.sessionProperties,a=n.scopedProperties;return{approvedChains:r,approvedMethods:i,approvedEvents:s,sessionProperties:o,scopedProperties:a}}catch(r){return this.client.logger.warn(r,"Error getting TVF approve params"),{}}}),Pe(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),Pe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Pe(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=Hqe[s];if(s==="sui_signTransaction")return[hUe(r.transactionBytes)];if(s==="near_signTransaction")return[Uq(r)];if(s==="near_signTransactions")return r.map(c=>Uq(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[fje({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return op(r)?r.map(c=>Mq(c)):[Mq(r)];if(s==="cosmos_signDirect")return[fUe(r)];if(s==="wallet_sendCalls")return gUe(r);if(typeof r=="string")return[r];const a=r[o.key];if(op(a))return s==="solana_signAllTransactions"?a.map(c=>dUe(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=Ze("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Oi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(cS)?this.client.auth.authKeys.get(cS):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Wr.link_mode?Ff:ga});zp(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:il(r)})):Bd(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s})),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${r}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Xc.expired,async e=>{const{topic:n,id:r}=Ure(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ze("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ze("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Xm.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Xm.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Pi(e,!1)){const{message:n}=Ze("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ze("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(sd(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ze("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Pi(e,!1)){const{message:n}=Ze("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ze("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(sd(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ze("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ze("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Pi(e,!1)){const{message:n}=Ze("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ze("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!FLe(e)){const{message:n}=Ze("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ze("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(sd(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ze("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}validateRequestExpiry(e){if(e&&!QLe(e,_T)){const{message:n}=Ze("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${_T.min} and ${_T.max}`);throw new Error(n)}}},sFe=class extends ly{constructor(e,n){super(e,n,Wqe,JU),this.core=e,this.logger=n}},oFe=class extends ly{constructor(e,n){super(e,n,qqe,JU),this.core=e,this.logger=n}},aFe=class extends ly{constructor(e,n){super(e,n,Vqe,JU,r=>r.id),this.core=e,this.logger=n}},cFe=class extends ly{constructor(e,n){super(e,n,Yqe,mk,()=>cS),this.core=e,this.logger=n}},lFe=class extends ly{constructor(e,n){super(e,n,Jqe,mk),this.core=e,this.logger=n}},uFe=class extends ly{constructor(e,n){super(e,n,Xqe,mk,r=>r.id),this.core=e,this.logger=n}};var dFe=Object.defineProperty,hFe=(t,e,n)=>e in t?dFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IT=(t,e,n)=>hFe(t,typeof e!="symbol"?e+"":e,n);let pFe=class{constructor(e,n){this.core=e,this.logger=n,IT(this,"authKeys"),IT(this,"pairingTopics"),IT(this,"requests"),this.authKeys=new cFe(this.core,this.logger),this.pairingTopics=new lFe(this.core,this.logger),this.requests=new uFe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var fFe=Object.defineProperty,gFe=(t,e,n)=>e in t?fFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hn=(t,e,n)=>gFe(t,typeof e!="symbol"?e+"":e,n);let mFe=class use extends eTe{constructor(e){super(e),hn(this,"protocol",ase),hn(this,"version",cse),hn(this,"name",CT.name),hn(this,"metadata"),hn(this,"core"),hn(this,"logger"),hn(this,"events",new Ir.EventEmitter),hn(this,"engine"),hn(this,"session"),hn(this,"proposal"),hn(this,"pendingRequest"),hn(this,"auth"),hn(this,"signConfig"),hn(this,"on",(r,i)=>this.events.on(r,i)),hn(this,"once",(r,i)=>this.events.once(r,i)),hn(this,"off",(r,i)=>this.events.off(r,i)),hn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),hn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),hn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),hn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),hn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),hn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||CT.name,this.metadata=iDe(e?.metadata),this.signConfig=e?.signConfig;const n=ZU({logger:e?.logger||CT.logger,name:this.name});this.logger=n,this.core=e?.core||new zqe(e),this.session=new oFe(this.core,this.logger),this.proposal=new sFe(this.core,this.logger),this.pendingRequest=new aFe(this.core,this.logger),this.engine=new iFe(this),this.auth=new pFe(this.core,this.logger)}static async init(e){const n=new use(e);return await n.initialize(),n}get context(){return Pa(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const wFe=mFe;var W5={exports:{}},tH;function yFe(){return tH||(tH=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(E){return E&&DataView.prototype.isPrototypeOf(E)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(E){return E&&u.indexOf(Object.prototype.toString.call(E))>-1};function h(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function p(E){return typeof E!="string"&&(E=String(E)),E}function f(E){var _={next:function(){var x=E.shift();return{done:x===void 0,value:x}}};return c.iterable&&(_[Symbol.iterator]=function(){return _}),_}function g(E){this.map={},E instanceof g?E.forEach(function(_,x){this.append(x,_)},this):Array.isArray(E)?E.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(_){this.append(_,E[_])},this)}g.prototype.append=function(E,_){E=h(E),_=p(_);var x=this.map[E];this.map[E]=x?x+", "+_:_},g.prototype.delete=function(E){delete this.map[h(E)]},g.prototype.get=function(E){return E=h(E),this.has(E)?this.map[E]:null},g.prototype.has=function(E){return this.map.hasOwnProperty(h(E))},g.prototype.set=function(E,_){this.map[h(E)]=p(_)},g.prototype.forEach=function(E,_){for(var x in this.map)this.map.hasOwnProperty(x)&&E.call(_,this.map[x],x,this)},g.prototype.keys=function(){var E=[];return this.forEach(function(_,x){E.push(x)}),f(E)},g.prototype.values=function(){var E=[];return this.forEach(function(_){E.push(_)}),f(E)},g.prototype.entries=function(){var E=[];return this.forEach(function(_,x){E.push([x,_])}),f(E)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m(E){if(!E._noBody){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}}function b(E){return new Promise(function(_,x){E.onload=function(){_(E.result)},E.onerror=function(){x(E.error)}})}function y(E){var _=new FileReader,x=b(_);return _.readAsArrayBuffer(E),x}function v(E){var _=new FileReader,x=b(_),M=/charset=([A-Za-z0-9_-]+)/.exec(E.type),A=M?M[1]:"utf-8";return _.readAsText(E,A),x}function w(E){for(var _=new Uint8Array(E),x=new Array(_.length),M=0;M<_.length;M++)x[M]=String.fromCharCode(_[M]);return x.join("")}function C(E){if(E.slice)return E.slice(0);var _=new Uint8Array(E.byteLength);return _.set(new Uint8Array(E)),_.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:c.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:c.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():c.arrayBuffer&&c.blob&&l(E)?(this._bodyArrayBuffer=C(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||d(E))?this._bodyArrayBuffer=C(E):this._bodyText=E=Object.prototype.toString.call(E):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var E=m(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=m(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var E=m(this);if(E)return E;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(E){var _=E.toUpperCase();return k.indexOf(_)>-1?_:E}function S(E,_){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var x=_.body;if(E instanceof S){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,_.headers||(this.headers=new g(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!x&&E._bodyInit!=null&&(x=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new g(_.headers)),this.method=P(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||(function(){if("AbortController"in a){var U=new AbortController;return U.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(x),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var A=/\?/;this.url+=(A.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function N(E){var _=new FormData;return E.trim().split("&").forEach(function(x){if(x){var M=x.split("="),A=M.shift().replace(/\+/g," "),U=M.join("=").replace(/\+/g," ");_.append(decodeURIComponent(A),decodeURIComponent(U))}}),_}function R(E){var _=new g,x=E.replace(/\r?\n[\t ]+/g," ");return x.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var A=M.split(":"),U=A.shift().trim();if(U){var B=A.join(":").trim();try{_.append(U,B)}catch(z){console.warn("Response "+z.message)}}}),_}I.call(S.prototype);function D(E,_){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new g(_.headers),this.url=_.url||"",this._initBody(E)}I.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},D.error=function(){var E=new D(null,{status:200,statusText:""});return E.ok=!1,E.status=0,E.type="error",E};var O=[301,302,303,307,308];D.redirect=function(E,_){if(O.indexOf(_)===-1)throw new RangeError("Invalid status code");return new D(null,{status:_,headers:{location:E}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,x){this.message=_,this.name=x;var M=Error(_);this.stack=M.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function T(E,_){return new Promise(function(x,M){var A=new S(E,_);if(A.signal&&A.signal.aborted)return M(new o.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function B(){U.abort()}U.onload=function(){var q={statusText:U.statusText,headers:R(U.getAllResponseHeaders()||"")};A.url.indexOf("file://")===0&&(U.status<200||U.status>599)?q.status=200:q.status=U.status,q.url="responseURL"in U?U.responseURL:q.headers.get("X-Request-URL");var F="response"in U?U.response:U.responseText;setTimeout(function(){x(new D(F,q))},0)},U.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){M(new o.DOMException("Aborted","AbortError"))},0)};function z(q){try{return q===""&&a.location.href?a.location.href:q}catch{return q}}if(U.open(A.method,z(A.url),!0),A.credentials==="include"?U.withCredentials=!0:A.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(c.blob?U.responseType="blob":c.arrayBuffer&&(U.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof g||a.Headers&&_.headers instanceof a.Headers)){var H=[];Object.getOwnPropertyNames(_.headers).forEach(function(q){H.push(h(q)),U.setRequestHeader(q,p(_.headers[q]))}),A.headers.forEach(function(q,F){H.indexOf(F)===-1&&U.setRequestHeader(F,q)})}else A.headers.forEach(function(q,F){U.setRequestHeader(F,q)});A.signal&&(A.signal.addEventListener("abort",B),U.onreadystatechange=function(){U.readyState===4&&A.signal.removeEventListener("abort",B)}),U.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}return T.polyfill=!0,a.fetch||(a.fetch=T,a.Headers=g,a.Request=S,a.Response=D),o.Headers=g,o.Request=S,o.Response=D,o.fetch=T,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(W5,W5.exports)),W5.exports}var bFe=yFe();const nH=ny(bFe);var vFe=Object.defineProperty,EFe=Object.defineProperties,CFe=Object.getOwnPropertyDescriptors,rH=Object.getOwnPropertySymbols,_Fe=Object.prototype.hasOwnProperty,IFe=Object.prototype.propertyIsEnumerable,iH=(t,e,n)=>e in t?vFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sH=(t,e)=>{for(var n in e||(e={}))_Fe.call(e,n)&&iH(t,n,e[n]);if(rH)for(var n of rH(e))IFe.call(e,n)&&iH(t,n,e[n]);return t},oH=(t,e)=>EFe(t,CFe(e));const SFe={Accept:"application/json","Content-Type":"application/json"},xFe="POST",aH={headers:SFe,method:xFe},cH=10;let Yr=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ir.EventEmitter,this.isAvailable=!1,this.registering=!1,!IF(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=fc(e),r=await(await nH(this.url,oH(sH({},aH),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!IF(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=fc({id:1,jsonrpc:"2.0",method:"test",params:[]});await nH(e,oH(sH({},aH),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Cu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=Kg(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Bie(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>cH&&this.events.setMaxListeners(cH)}};function XU(t){return t==null||typeof t!="object"&&typeof t!="function"}function dse(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function hse(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const AFe="[object RegExp]",pse="[object String]",fse="[object Number]",gse="[object Boolean]",mse="[object Arguments]",kFe="[object Symbol]",$Fe="[object Date]",TFe="[object Map]",NFe="[object Set]",OFe="[object Array]",PFe="[object ArrayBuffer]",RFe="[object Object]",DFe="[object DataView]",UFe="[object Uint8Array]",MFe="[object Uint8ClampedArray]",LFe="[object Uint16Array]",jFe="[object Uint32Array]",BFe="[object Int8Array]",zFe="[object Int16Array]",WFe="[object Int32Array]",qFe="[object Float32Array]",FFe="[object Float64Array]";function QU(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function HFe(t,e){return Qb(t,void 0,t,new Map,e)}function Qb(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(XU(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Qb(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Qb(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Qb(a,void 0,n,r,i));return o}if(typeof window.Buffer<"u"&&window.Buffer.isBuffer(t))return t.subarray();if(QU(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Qb(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Qm(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Qm(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Qm(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Qm(o,t,n,r,i),o}if(typeof t=="object"&&VFe(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Qm(o,t,n,r,i),o}return t}function Qm(t,e,n=t,r,i){const s=[...Object.keys(e),...dse(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Qb(e[a],a,n,r,i))}}function VFe(t){switch(hse(t)){case mse:case OFe:case PFe:case DFe:case gse:case $Fe:case qFe:case FFe:case BFe:case zFe:case WFe:case TFe:case fse:case RFe:case AFe:case NFe:case pse:case kFe:case UFe:case MFe:case LFe:case jFe:return!0;default:return!1}}function KFe(t,e){return HFe(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case fse:case pse:case gse:{const o=new t.constructor(t?.valueOf());return Qm(o,t),o}case mse:{const o={};return Qm(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function lH(t){return KFe(t)}function uH(t){return t!==null&&typeof t=="object"&&hse(t)==="[object Arguments]"}function dH(t){return typeof t=="object"&&t!==null}function ZFe(){}function GFe(t){return QU(t)}function YFe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function JFe(t){if(XU(t))return t;if(Array.isArray(t)||QU(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function XFe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=A9(i,o,r,new Map)}return i}function A9(t,e,n,r){if(XU(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return JFe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...dse(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(uH(a)&&(a={...a}),uH(c)&&(c={...c}),typeof window.Buffer<"u"&&window.Buffer.isBuffer(a)&&(a=lH(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const p=d[h];u[p]=c[p]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||dH(c)&&dH(a)?t[o]=A9(c,a,n,r):c==null&&YFe(a)?t[o]=A9({},a,n,r):c==null&&GFe(a)?t[o]=lH(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function QFe(t,...e){return XFe(t,...e,ZFe)}const hH="error",eHe="wss://relay.walletconnect.org",tHe="wc",wse="universal_provider",q5=`${tHe}@2:${wse}:`,yse="https://rpc.walletconnect.org/v1/",bse="generic",nHe=`${yse}bundler`,v1="call_status",rHe=86400,eM={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var iHe=Object.defineProperty,sHe=Object.defineProperties,oHe=Object.getOwnPropertyDescriptors,pH=Object.getOwnPropertySymbols,aHe=Object.prototype.hasOwnProperty,cHe=Object.prototype.propertyIsEnumerable,fH=(t,e,n)=>e in t?iHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F5=(t,e)=>{for(var n in e||(e={}))aHe.call(e,n)&&fH(t,n,e[n]);if(pH)for(var n of pH(e))cHe.call(e,n)&&fH(t,n,e[n]);return t},lHe=(t,e)=>sHe(t,oHe(e));function vse(t,e,n){var r;const i=ip(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${yse}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function uHe(t){return t.includes(":")?t.split(":")[1]:t}function Ese(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function dHe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function gH(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function H5(t={},e={}){const n=gH(mH(t)),r=gH(mH(e));return QFe(n,r)}function mH(t){var e,n,r,i,s;const o={};if(!md(t))return o;for(const[a,c]of Object.entries(t)){const l=fk(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},p=Xb(a);o[p]=lHe(F5(F5({},o[p]),c),{chains:gd(l,(e=o[p])==null?void 0:e.chains),methods:gd(u,(n=o[p])==null?void 0:n.methods),events:gd(d,(r=o[p])==null?void 0:r.events)}),(md(h)||md(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=F5(F5({},h),(s=o[p])==null?void 0:s.rpcMap))}return o}function wH(t){return t.includes(":")?t.split(":")[2]:t}function yH(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=fk(n)?[n]:r.chains?r.chains:Ese(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function ST(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function hHe(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const Cse={},E1=t=>Cse[t],xT=(t,e)=>{Cse[t]=e};var pHe=Object.defineProperty,bH=Object.getOwnPropertySymbols,fHe=Object.prototype.hasOwnProperty,gHe=Object.prototype.propertyIsEnumerable,vH=(t,e,n)=>e in t?pHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EH=(t,e)=>{for(var n in e||(e={}))fHe.call(e,n)&&vH(t,n,e[n]);if(bH)for(var n of bH(e))gHe.call(e,n)&&vH(t,n,e[n]);return t};const CH="eip155",mHe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],wHe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,AT=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,_H=t=>Object.keys(t).filter(e=>mHe.includes(e)).reduce((e,n)=>(e[n]=yHe(t[n]),e),{}),yHe=t=>typeof t=="string"&&hHe(t)?JSON.parse(t):t,bHe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!md(i)&&!md(r))return;const o=_H(r);for(const a of n){const c=wHe(a);if(!c)continue;s[AT(c)]=o;const l=i?.[`${CH}:${c}`];if(l){const u=l?.[`${CH}:${c}:${e}`];s[AT(c)]=EH(EH({},s[AT(c)]),_H(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var vHe=Object.defineProperty,EHe=(t,e,n)=>e in t?vHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CHe=(t,e,n)=>EHe(t,e+"",n);let kT,_He=class _se{constructor(e){CHe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return kT||(kT=new _se(e)),kT}};var IHe=Object.defineProperty,SHe=Object.defineProperties,xHe=Object.getOwnPropertyDescriptors,IH=Object.getOwnPropertySymbols,AHe=Object.prototype.hasOwnProperty,kHe=Object.prototype.propertyIsEnumerable,SH=(t,e,n)=>e in t?IHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$He=(t,e)=>{for(var n in e||(e={}))AHe.call(e,n)&&SH(t,n,e[n]);if(IH)for(var n of IH(e))kHe.call(e,n)&&SH(t,n,e[n]);return t},THe=(t,e)=>SHe(t,xHe(e));async function NHe(t,e){const n=ip(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(d=>OHe(n.reference,d,e))),s=i.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);i.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));const o=!s.length||s.some(d=>!d),a=s.every(d=>d?.status==="0x1"),c=s.every(d=>d?.status==="0x0"),l=s.some(d=>d?.status==="0x0");let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:u}}async function OHe(t,e,n){return await n(parseInt(t)).request(Hr("eth_getTransactionReceipt",[e]))}async function PHe({sendCalls:t,storage:e}){const n=await e.getItem(v1);await e.setItem(v1,THe($He({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:Ti(rHe)}}))}async function RHe({resultId:t,storage:e}){const n=await e.getItem(v1);if(n){delete n[t],await e.setItem(v1,n);for(const r in n)sd(n[r].expiry)&&delete n[r];await e.setItem(v1,n)}}async function DHe({resultId:t,storage:e}){const n=await e.getItem(v1),r=n?.[t];if(r&&!sd(r.expiry))return r;await RHe({resultId:t,storage:e})}var UHe=Object.defineProperty,MHe=Object.defineProperties,LHe=Object.getOwnPropertyDescriptors,xH=Object.getOwnPropertySymbols,jHe=Object.prototype.hasOwnProperty,BHe=Object.prototype.propertyIsEnumerable,k9=(t,e,n)=>e in t?UHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$T=(t,e)=>{for(var n in e||(e={}))jHe.call(e,n)&&k9(t,n,e[n]);if(xH)for(var n of xH(e))BHe.call(e,n)&&k9(t,n,e[n]);return t},TT=(t,e)=>MHe(t,LHe(e)),_m=(t,e,n)=>k9(t,typeof e!="symbol"?e+"":e,n);let zHe=class{constructor(e){_m(this,"name","eip155"),_m(this,"client"),_m(this,"chainId"),_m(this,"namespace"),_m(this,"httpProviders"),_m(this,"events"),_m(this,"storage"),this.namespace=e.namespace,this.events=E1("events"),this.client=E1("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=_He.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(eM.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||vse(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,E1("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(uHe(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=TT($T({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,h=u?.[d];if(h)return h;let p;try{p=bHe(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(p)return p;const f=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:TT($T({},l.sessionProperties||{}),{capabilities:TT($T({},u||{}),{[d]:f})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return f}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),o=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(o){const l=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(l,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}const a=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}const c=await DHe({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(c)try{return await NHe(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Hr("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${nHe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),o=(n=e.request.params)==null?void 0:n[0],a=s?.id,c=s?.capabilities||{},l=(r=c?.caip345)==null?void 0:r.caip2,u=(i=c?.caip345)==null?void 0:i.transactionHashes;return!a||!l||!(u!=null&&u.length)||await PHe({sendCalls:{request:o,result:s},storage:this.storage}),s}};var WHe=Object.defineProperty,qHe=(t,e,n)=>e in t?WHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qy=(t,e,n)=>qHe(t,typeof e!="symbol"?e+"":e,n);let FHe=class{constructor(e){Qy(this,"name",bse),Qy(this,"client"),Qy(this,"httpProviders"),Qy(this,"events"),Qy(this,"namespace"),Qy(this,"chainId"),this.namespace=e.namespace,this.events=E1("events"),this.client=E1("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(eM.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return ip(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,o;const a=ip(i),c=(o=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];r[a.reference]=this.createHttpProvider(i,c)}),r}getHttpProvider(e){const n=ip(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||vse(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,E1("disableProviderPing")))}};var HHe=Object.defineProperty,VHe=Object.defineProperties,KHe=Object.getOwnPropertyDescriptors,AH=Object.getOwnPropertySymbols,ZHe=Object.prototype.hasOwnProperty,GHe=Object.prototype.propertyIsEnumerable,$9=(t,e,n)=>e in t?HHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q2=(t,e)=>{for(var n in e||(e={}))ZHe.call(e,n)&&$9(t,n,e[n]);if(AH)for(var n of AH(e))GHe.call(e,n)&&$9(t,n,e[n]);return t},V5=(t,e)=>VHe(t,KHe(e)),Fa=(t,e,n)=>$9(t,typeof e!="symbol"?e+"":e,n);let YHe=class Ise{constructor(e){Fa(this,"client"),Fa(this,"namespaces"),Fa(this,"optionalNamespaces"),Fa(this,"sessionProperties"),Fa(this,"scopedProperties"),Fa(this,"events",new jp),Fa(this,"rpcProviders",{}),Fa(this,"session"),Fa(this,"providerOpts"),Fa(this,"logger"),Fa(this,"uri"),Fa(this,"disableProviderPing",!1),Fa(this,"connectParams");var n,r;this.providerOpts=e,this.logger=ZU({logger:(n=e.logger)!=null?n:hH,name:(r=this.providerOpts.name)!=null?r:wse}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new Ise(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Q2({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,gc(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Kr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=yH(this.session.namespaces);this.namespaces=H5(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){var n,r;const{uri:i,approval:s}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(n=this.connectParams)==null?void 0:n.authentication,walletPay:(r=this.connectParams)==null?void 0:r.walletPay});i&&(this.uri=i,this.events.emit("display_uri",i));const o=await s();this.session=o;const a=yH(o.namespaces);return this.namespaces=H5(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!op(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await wFe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||hH,relayUrl:this.providerOpts.relayUrl||eHe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Xb(n)))];xT("client",this.client),xT("events",this.events),xT("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=dHe(n,this.session);if(r?.length===0)return;const i=Ese(r),s=H5(this.namespaces,this.optionalNamespaces),o=V5(Q2({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new zHe({namespace:o});break;default:this.rpcProviders[n]=new FHe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&op(o)&&this.events.emit("accountsChanged",o.map(wH))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Xb(o),l=ST(o)!==ST(a)?`${c}:${ST(a)}`:o;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=V5(Q2({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",V5(Q2({},Kr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(eM.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(V5(Q2({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[bse]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=H5(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Xb(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Xb(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(wH);if(!op(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${q5}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${q5}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${q5}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(q5)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}};const kH=2147483648,JHe={convertEVMChainIdToCoinType(t){if(t>=kH)throw new Error("Invalid chainId");return(kH|t)>>>0}},jc=Wn({suggestions:[],loading:!1}),XHe={state:jc,subscribe(t){return ci(jc,()=>t(jc))},subscribeKey(t,e){return ii(jc,t,e)},async resolveName(t){try{return await Et.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Et.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{jc.loading=!0,jc.suggestions=[];const e=await Et.getEnsNameSuggestions(t);return jc.suggestions=e.suggestions||[],jc.suggestions}catch(e){const n=nu.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{jc.loading=!1}},async getNamesForAddress(t){try{if(!j.state.activeCaipNetwork)return[];const n=be.getEnsFromCacheForAddress(t);if(n)return n;const r=await Et.reverseLookupEnsName({address:t});return be.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=nu.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=j.state.activeCaipNetwork,n=j.getAccountData(e?.chainNamespace)?.address,r=ae.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");jc.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Z.pushTransactionStack({onCancel(){Z.replace("RegisterAccountName")}});const s=await pe.signMessage(i);jc.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=JHe.convertEVMChainIdToCoinType(Number(o));await Et.registerEnsName({coinType:a,address:n,signature:s,message:i}),j.setAccountProp("profileName",t,e.chainNamespace),be.updateEnsCache({address:n,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Z.replace("RegisterAccountNameSuccess")}catch(i){const s=nu.parseEnsApiError(i,`Error registering name ${t}`);throw Z.replace("RegisterAccountName"),new Error(s)}finally{jc.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},nu=Da(XHe);function T9(t){try{return new URL(t)}catch{return null}}function QHe(t){const e=t.split("/"),n=e.length>0&&e[0]!==void 0?e[0]:"",r=n.lastIndexOf(":");return r===-1?{host:n}:{host:n.slice(0,r),port:n.slice(r+1)}}function eVe(t){const e=t.indexOf("://");if(e===-1)return null;const n=t.slice(0,e),r=e+3;let i=t.indexOf("/",r);i===-1&&(i=t.length);const s=t.slice(r,i),o=s.lastIndexOf(":");return o===-1?{scheme:n,host:s}:{scheme:n,host:s.slice(0,o),port:s.slice(o+1)}}function tVe(t,e){if(e.includes("://")){const o=T9(e);return o?o.origin===t:!1}const{host:n,port:r}=QHe(e),i=t.indexOf("://");if(i!==-1){const o=i+3;let a=t.indexOf("/",o);a===-1&&(a=t.length);const c=t.slice(o,a);if(r!==void 0)return`${n}:${r}`===c;const l=c.split(":")[0];return n===l}const s=T9(t);return s?r!==void 0?n===s.hostname&&r===(s.port||void 0):n===s.hostname:!1}function nVe(t,e,n){let r=n,i;const s=r.indexOf("://");s!==-1&&(i=r.slice(0,s),r=r.slice(s+3));const o=r.indexOf("/");o!==-1&&(r=r.slice(0,o));let a=r,c;const l=a.lastIndexOf(":");l!==-1&&(c=a.slice(l+1),a=a.slice(0,l));const u=a.split(".");for(const g of u)if(g.includes("*")&&g!=="*")return!1;const d=t.protocol.replace(/:$/u,"");if(i&&i!==d||c!==void 0&&c!=="*"&&c!==t.port)return!1;const h=eVe(e),f=(h?h.host:t.hostname).split(".");if(u.length!==f.length)return!1;for(let g=u.length-1;g>=0;g-=1){const m=u[g],b=f[g];if(m!=="*"&&m!==b)return!1}return!0}const rVe={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},ap={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(t){return rVe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=r[o];switch(u.chains.push(l),l){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":u.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":u.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await nu.resolveName(t);return(e?.addresses?Object.values(e.addresses):[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isUserRejectedRequestError(t){try{if(typeof t=="object"&&t!==null){const e=t,n=typeof e.code=="number",r=n&&e.code===ap.RPC_ERROR_CODE.USER_REJECTED_METHODS,i=n&&e.code===ap.RPC_ERROR_CODE.USER_REJECTED;return r||i}return!1}catch{return!1}},isOriginAllowed(t,e,n){const r=[...e,...n];if(e.length===0)return!0;const i=T9(t);if(!i)return r.some(s=>!s.includes("*")&&s===t);if(i.hostname==="localhost"||i.hostname==="127.0.0.1")return!0;for(const s of r)if(s.includes("*")){if(nVe(i,t,s))return!0}else if(tVe(t,s))return!0;return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:r,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){n&&t.on("connect",()=>{const a=ap.getWalletConnectAccounts(t,e);n(a)}),r&&t.on("disconnect",()=>{r()}),i&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),u=a.map(d=>{const h=c.find(g=>g.includes(`${e}:${l}:${d}`));if(!h)return;const{chainId:p,chainNamespace:f}=Zr.parseCaipAddress(h);return{address:d,chainId:p,chainNamespace:f}}).filter(d=>d!==void 0);u.length>0&&i(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const n=new Set,r=t?.session?.namespaces?.[e]?.accounts?.map(i=>Zr.parseCaipAddress(i)).filter(({address:i})=>n.has(i.toLowerCase())?!1:(n.add(i.toLowerCase()),!0));return r&&r.length>0?r:[]}},iVe=[ne.CONNECTOR_ID.AUTH,ne.CONNECTOR_ID.WALLET_CONNECT];let Sse=class{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>j.getCaipNetworks(n),this.getConnectorId=n=>ae.getConnectorId(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const r=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===n?.toString());e&&r&&this.addConnection({connectorId:ne.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:ne.CONNECTOR_ID.AUTH,type:"AUTH",name:ne.CONNECTOR_NAMES.AUTH,provider:e,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>n.connectorId.toLowerCase()!==e.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){j.setAccountProp("status",e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(n){throw ap.isUserRejectedRequestError(n)?new Zb(n):n}}async switchNetwork(e){const{caipNetwork:n}=e,r=Qn.getProviderId(n.chainNamespace),i=Qn.getProvider(n.chainNamespace);if(!i)throw new Error("Provider not found");if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(r==="AUTH"){const s=ae.getAuthConnector()?.provider;if(!s)throw new Error("Auth provider not found");const o=En(n.chainNamespace);await s.switchNetwork({chainId:n.caipNetworkId});const a=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n.id==="walletConnect");if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:r,chainId:i}=oe.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:i,connector:o}),this.addConnection({connectorId:n,accounts:e.map(a=>{const{address:c}=oe.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,n,r=!0){if(e.length>0){const{address:i}=oe.getAccount(e[0]),s=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});i&&this.getConnectorId(ne.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:n,accounts:e.map(o=>{const{address:a}=oe.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),this.getConnectorId(ne.CHAIN.EVM)?.toLowerCase()===e.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){const r=typeof e=="string"&&e.startsWith("0x")?parseInt(e,16).toString():e.toString(),i=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===r);i&&this.addConnection({connectorId:n,accounts:i.accounts,caipNetwork:s}),this.getConnectorId(ne.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,n){if(iVe.includes(e))return;const r=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",s),n.on("accountsChanged",r),n.on("chainChanged",i),this.providerHandlers[e]={provider:n,disconnect:s,accountsChanged:r,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:r,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];n.removeListener("disconnect",r),n.removeListener("accountsChanged",i),n.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}getConnection({address:e,connectorId:n,connections:r,connectors:i}){if(n){const o=r.find(l=>l.connectorId.toLowerCase()===n.toLowerCase());if(!o)return null;const a=i.find(l=>l.id.toLowerCase()===o.connectorId.toLowerCase()),c=e?o.accounts.find(l=>l.address.toLowerCase()===e.toLowerCase()):o.accounts[0];return{...o,account:c,connector:a}}const s=r.find(o=>o.accounts.length>0&&i.some(a=>a.id.toLowerCase()===o.connectorId.toLowerCase()));if(s){const[o]=s.accounts,a=i.find(c=>c.id.toLowerCase()===s.connectorId.toLowerCase());return{...s,account:o,connector:a}}return null}},Im=null;const ws={getSIWX(){return X.state.siwx},async initializeIfEnabled(t=j.getActiveCaipAddress()){const e=X.state.siwx;if(!(e&&t))return;const[n,r,i]=t.split(":");if(j.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(X.state.remoteFeatures?.emailCapture){const o=j.getAccountData(n)?.user;await Ke.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(Im&&await Im,(await e.getSessions(`${n}:${r}`,i)).length)return;await Ke.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),Ce.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(s)}),await pe._getClient()?.disconnect().catch(console.error),Z.reset("Connect"),Ue.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(t=j.getActiveCaipAddress()){if(!X.state.siwx||!t)return!0;const{chainNamespace:n,chainId:r,address:i}=Zr.parseCaipAddress(t),s=`${n}:${r}`;return(await ws.getSessions({address:i,caipNetworkId:s})).length>0},async requestSignMessage(){const t=X.state.siwx,e=oe.getPlainAddress(j.getActiveCaipAddress()),n=ld();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");try{const r=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=r.toString();let s="";t.signMessage?s=await t.signMessage({message:i,chainId:n.caipNetworkId,accountAddress:e}):(ae.getConnectorId(n.chainNamespace)===ne.CONNECTOR_ID.AUTH&&Z.pushTransactionStack({}),s=await pe.signMessage(i)||""),await t.addSession({data:r,message:i,signature:s}),j.setLastConnectedSIWECaipNetwork(n),Ke.close(),Ce.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(r){(!Ke.state.open||Z.state.view==="ApproveTransaction")&&await Ke.open({view:"SIWXSignMessage"}),Ue.showError("Error signing message"),Ce.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(r)}),console.error("SWIXUtil:requestSignMessage",r)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const n=j.getLastConnectedSIWECaipNetwork();if(n){const r=await t?.getSessions(n?.caipNetworkId,oe.getPlainAddress(j.getActiveCaipAddress())||"");r&&r.length>0?await j.switchActiveNetwork(n):await pe.disconnect()}else await pe.disconnect()}else Ke.close();Ke.close(),Ce.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=j.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const i=await t?.getSessions(r.caipNetworkId,oe.getPlainAddress(j.getActiveCaipAddress())||"");i&&n.push(...i)})),n},async getSessions(t){const e=X.state.siwx;let n=t?.address;if(!n){const i=j.getActiveCaipAddress();n=oe.getPlainAddress(i)}let r=t?.caipNetworkId;return r||(r=j.getActiveCaipNetwork()?.caipNetworkId),e&&n&&r?e.getSessions(r,n):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Z.state.view==="ApproveTransaction",n=Z.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:r,chainNamespace:i}){const s=ws.getSIWX(),o=ld();if(!s||!i.includes(ne.CHAIN.EVM)||X.state.remoteFeatures?.emailCapture){const d=await t.connect({chainId:e,socialUri:n,preferredAccountType:r});return{address:d.address,chainId:d.chainId,accounts:d.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:n,siwxMessage:l,preferredAccountType:r});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await ws.addEmbeddedWalletSession(l,u.message,u.signature),j.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,n){if(Im)return Im;const r=ws.getSIWX();return r?(Im=r.addSession({data:t,message:e,signature:n}).finally(()=>{Im=null}),Im):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const r=ws.getSIWX(),i=ld(),s=new Set(e.map(l=>l.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const o=await r.createMessage({chainId:ld()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:n,chains:[o.chainId,...e.filter(l=>l!==o.chainId)]});Ue.showLoading("Authenticating...",{autoClose:!1});const c={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(j.setAccountProp("connectedWalletInfo",c,Array.from(s)[0]),a?.auths?.length){const l=a.auths.map(u=>{const d=t.client.formatAuthMessage({request:u.p,iss:u.p.iss});return{data:{...u.p,accountAddress:u.p.iss.split(":").slice(-1).join(""),chainId:u.p.iss.split(":").slice(2,4).join(":"),uri:u.p.aud??"",version:u.p.version||o.version,expirationTime:u.p.exp,issuedAt:u.p.iat,notBefore:u.p.nbf},message:d,signature:u.s.s,cacao:u}});try{await r.setSessions(l),i&&j.setLastConnectedSIWECaipNetwork(i),Ce.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ws.getSIWXEventProperties()})}catch(u){throw console.error("SIWX:universalProviderAuth - failed to set sessions",u),Ce.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ws.getSIWXEventProperties(u)}),await t.disconnect().catch(console.error),u}finally{Ue.hide()}}return!0},getSIWXEventProperties(t){const e=j.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:j.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:En(e)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,message:t?oe.parseError(t):void 0}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}};let xse=class{constructor({provider:e,namespace:n}){this.id=ne.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=j.getCaipNetworks.bind(j),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=X.state.universalProviderConfigOverride,i=ap.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return ws.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:sVe})}};const sVe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],kf={getGasPriceInEther(t,e){const n=e*t;return Number(n)/1e18},getGasPriceInUSD(t,e,n){const r=kf.getGasPriceInEther(e,n);return zt.bigNumber(t).times(r).toNumber()},getPriceImpact({sourceTokenAmount:t,sourceTokenPriceInUSD:e,toTokenPriceInUSD:n,toTokenAmount:r}){const i=zt.bigNumber(t).times(e),s=zt.bigNumber(r).times(n);return i.minus(s).div(i).times(100).toNumber()},getMaxSlippage(t,e){const n=zt.bigNumber(t).div(100);return zt.multiply(e,n).toNumber()},getProviderFee(t,e=.0085){return zt.bigNumber(t).times(e).toString()},isInsufficientNetworkTokenForGas(t,e){const n=e||"0";return zt.bigNumber(t).eq(0)?!0:zt.bigNumber(zt.bigNumber(n)).gt(t)},isInsufficientSourceTokenForSwap(t,e,n){const r=n?.find(s=>s.address===e)?.quantity?.numeric;return zt.bigNumber(r||"0").lt(t)}},jl=Wn({message:"",variant:"info",open:!1}),oVe={state:jl,subscribeKey(t,e){return ii(jl,t,e)},open(t,e){const{debug:n}=X.state,{code:r,displayMessage:i,debugMessage:s}=t;i&&n&&(jl.message=i,jl.variant=e,jl.open=!0),s&&console.error(typeof s=="function"?s():s,r?{code:r}:void 0)},warn(t,e,n){jl.open=!0,jl.message=t,jl.variant="warning",e&&console.warn(e,n)},close(){jl.open=!1,jl.message="",jl.variant="info"}},Kn=Da(oVe),$H=15e4,aVe=6,ho={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,switchingTokens:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:yt.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},ce=Wn({...ho}),lS={state:ce,subscribe(t){return ci(ce,()=>t(ce))},subscribeKey(t,e){return ii(ce,t,e)},getParams(){const t=j.state.activeChain,e=j.getAccountData(t)?.caipAddress??j.state.activeCaipAddress,n=oe.getPlainAddress(e),r=sC(),i=ae.getConnectorId(j.state.activeChain);if(!n)throw new Error("No address found to swap the tokens from.");const s=!ce.toToken?.address||!ce.toToken?.decimals,o=!ce.sourceToken?.address||!ce.sourceToken?.decimals||!zt.bigNumber(ce.sourceTokenAmount).gt(0),a=!ce.sourceTokenAmount;return{networkAddress:r,fromAddress:n,fromCaipAddress:e,sourceTokenAddress:ce.sourceToken?.address,toTokenAddress:ce.toToken?.address,toTokenAmount:ce.toTokenAmount,toTokenDecimals:ce.toToken?.decimals,sourceTokenAmount:ce.sourceTokenAmount,sourceTokenDecimals:ce.sourceToken?.decimals,invalidToToken:s,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:e&&!s&&!o&&!a,isAuthConnector:i===ne.CONNECTOR_ID.AUTH}},async setSourceToken(t){if(!t){ce.sourceToken=t,ce.sourceTokenAmount="",ce.sourceTokenPriceInUSD=0;return}ce.sourceToken=t,await we.setTokenPrice(t.address,"sourceToken")},setSourceTokenAmount(t){ce.sourceTokenAmount=t},async setToToken(t){if(!t){ce.toToken=t,ce.toTokenAmount="",ce.toTokenPriceInUSD=0;return}ce.toToken=t,await we.setTokenPrice(t.address,"toToken")},setToTokenAmount(t){ce.toTokenAmount=t?zt.toFixed(t,aVe):""},async setTokenPrice(t,e){let n=ce.tokensPriceMap[t]||0;n||(ce.loadingPrices=!0,n=await we.getAddressPrice(t)),e==="sourceToken"?ce.sourceTokenPriceInUSD=n:e==="toToken"&&(ce.toTokenPriceInUSD=n),ce.loadingPrices&&(ce.loadingPrices=!1),we.getParams().availableToSwap&&!ce.switchingTokens&&we.swapTokens()},async switchTokens(){if(!(ce.initializing||!ce.initialized||ce.switchingTokens)){ce.switchingTokens=!0;try{const t=ce.toToken?{...ce.toToken}:void 0,e=ce.sourceToken?{...ce.sourceToken}:void 0,n=t&&ce.toTokenAmount===""?"1":ce.toTokenAmount;we.setSourceTokenAmount(n),we.setToTokenAmount(""),await we.setSourceToken(t),await we.setToToken(e),ce.switchingTokens=!1,we.swapTokens()}catch(t){throw ce.switchingTokens=!1,t}}},resetState(){ce.myTokensWithBalance=ho.myTokensWithBalance,ce.tokensPriceMap=ho.tokensPriceMap,ce.initialized=ho.initialized,ce.initializing=ho.initializing,ce.switchingTokens=ho.switchingTokens,ce.sourceToken=ho.sourceToken,ce.sourceTokenAmount=ho.sourceTokenAmount,ce.sourceTokenPriceInUSD=ho.sourceTokenPriceInUSD,ce.toToken=ho.toToken,ce.toTokenAmount=ho.toTokenAmount,ce.toTokenPriceInUSD=ho.toTokenPriceInUSD,ce.networkPrice=ho.networkPrice,ce.networkTokenSymbol=ho.networkTokenSymbol,ce.networkBalanceInUSD=ho.networkBalanceInUSD,ce.inputError=ho.inputError},resetValues(){const{networkAddress:t}=we.getParams(),e=ce.tokens?.find(n=>n.address===t);we.setSourceToken(e),we.setToToken(void 0)},getApprovalLoadingState(){return ce.loadingApprovalTransaction},clearError(){ce.transactionError=void 0},async initializeState(){if(!ce.initializing){if(ce.initializing=!0,!ce.initialized)try{await we.fetchTokens(),ce.initialized=!0}catch{ce.initialized=!1,Ue.showError("Failed to initialize swap"),Z.goBack()}ce.initializing=!1}},async fetchTokens(){const{networkAddress:t}=we.getParams();await we.getNetworkTokenPrice(),await we.getMyTokensWithBalance();const e=ce.myTokensWithBalance?.find(n=>n.address===t);e&&(ce.networkTokenSymbol=e.symbol,we.setSourceToken(e),we.setSourceTokenAmount("0"))},async getTokenList(){const t=j.state.activeCaipNetwork?.caipNetworkId;if(!(ce.caipNetworkId===t&&ce.tokens))try{ce.tokensLoading=!0;const e=await zb.getTokenList(t);ce.tokens=e,ce.caipNetworkId=t,ce.popularTokens=e.sort((o,a)=>o.symbol<a.symbol?-1:o.symbol>a.symbol?1:0);const r=(t&&yt.SUGGESTED_TOKENS_BY_CHAIN?.[t]||[]).map(o=>e.find(a=>a.symbol===o)).filter(o=>!!o),s=(yt.SWAP_SUGGESTED_TOKENS||[]).map(o=>e.find(a=>a.symbol===o)).filter(o=>!!o).filter(o=>!r.some(a=>a.address===o.address));ce.suggestedTokens=[...r,...s]}catch{ce.tokens=[],ce.popularTokens=[],ce.suggestedTokens=[]}finally{ce.tokensLoading=!1}},async getAddressPrice(t){const e=ce.tokensPriceMap[t];if(e)return e;const r=(await Et.fetchTokenPrice({addresses:[t]}))?.fungibles||[],s=[...ce.tokens||[],...ce.myTokensWithBalance||[]]?.find(c=>c.address===t)?.symbol,o=r.find(c=>c.symbol.toLowerCase()===s?.toLowerCase())?.price||0,a=parseFloat(o.toString());return ce.tokensPriceMap[t]=a,a},async getNetworkTokenPrice(){const{networkAddress:t}=we.getParams(),n=(await Et.fetchTokenPrice({addresses:[t]}).catch(()=>(Ue.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles?.[0],r=n?.price.toString()||"0";ce.tokensPriceMap[t]=parseFloat(r),ce.networkTokenSymbol=n?.symbol||"",ce.networkPrice=r},async getMyTokensWithBalance(t){const e=await L_.getMyTokensWithBalance(t),n=zb.mapBalancesToSwapTokens(e);n&&(await we.getInitialGasPrice(),we.setBalances(n))},setBalances(t){const{networkAddress:e}=we.getParams(),n=j.state.activeCaipNetwork;if(!n)return;const r=t.find(i=>i.address===e);t.forEach(i=>{ce.tokensPriceMap[i.address]=i.price||0}),ce.myTokensWithBalance=t.filter(i=>i.address.startsWith(n.caipNetworkId)),ce.networkBalanceInUSD=r?zt.multiply(r.quantity.numeric,r.price).toString():"0"},async getInitialGasPrice(){const t=await zb.fetchGasPrice();if(!t)return{gasPrice:null,gasPriceInUSD:null};switch(j.state?.activeCaipNetwork?.chainNamespace){case ne.CHAIN.SOLANA:return ce.gasFee=t.standard??"0",ce.gasPriceInUSD=zt.multiply(t.standard,ce.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(ce.gasFee),gasPriceInUSD:Number(ce.gasPriceInUSD)};case ne.CHAIN.EVM:default:const e=t.standard??"0",n=BigInt(e),r=BigInt($H),i=kf.getGasPriceInUSD(ce.networkPrice,r,n);return ce.gasFee=e,ce.gasPriceInUSD=i,{gasPrice:n,gasPriceInUSD:i}}},async swapTokens(){const t=j.getAccountData()?.address,e=ce.sourceToken,n=ce.toToken,r=zt.bigNumber(ce.sourceTokenAmount).gt(0);if(r||we.setToTokenAmount(""),!n||!e||ce.loadingPrices||!r||!t)return;ce.loadingQuote=!0;const i=zt.bigNumber(ce.sourceTokenAmount).times(10**e.decimals).round(0);try{const s=await Et.fetchSwapQuote({userAddress:t,from:e.address,to:n.address,gasPrice:ce.gasFee,amount:i.toString()});ce.loadingQuote=!1;const o=s?.quotes?.[0]?.toAmount;if(!o){Kn.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");return}const a=zt.bigNumber(o).div(10**n.decimals).toString();we.setToTokenAmount(a),we.hasInsufficientToken(ce.sourceTokenAmount,e.address)?ce.inputError="Insufficient balance":(ce.inputError=void 0,we.setTransactionDetails())}catch(s){const o=await zb.handleSwapError(s);ce.loadingQuote=!1,ce.inputError=o||"Insufficient balance"}},async getTransaction(){const{fromCaipAddress:t,availableToSwap:e}=we.getParams(),n=ce.sourceToken,r=ce.toToken;if(!(!t||!e||!n||!r||ce.loadingQuote))try{ce.loadingBuildTransaction=!0;const i=await zb.fetchSwapAllowance({userAddress:t,tokenAddress:n.address,sourceTokenAmount:ce.sourceTokenAmount,sourceTokenDecimals:n.decimals});let s;return i?s=await we.createSwapTransaction():s=await we.createAllowanceTransaction(),ce.loadingBuildTransaction=!1,ce.fetchError=!1,s}catch{Z.goBack(),Ue.showError("Failed to check allowance"),ce.loadingBuildTransaction=!1,ce.approvalTransaction=void 0,ce.swapTransaction=void 0,ce.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:t,sourceTokenAddress:e,toTokenAddress:n}=we.getParams();if(!(!t||!n)){if(!e)throw new Error("createAllowanceTransaction - No source token address found.");try{const r=await Et.generateApproveCalldata({from:e,to:n,userAddress:t}),i=oe.getPlainAddress(r.tx.from);if(!i)throw new Error("SwapController:createAllowanceTransaction - address is required");const s={data:r.tx.data,to:i,gasPrice:BigInt(r.tx.eip155.gasPrice),value:BigInt(r.tx.value),toAmount:ce.toTokenAmount};return ce.swapTransaction=void 0,ce.approvalTransaction={data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount},{data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount}}catch{Z.goBack(),Ue.showError("Failed to create approval transaction"),ce.approvalTransaction=void 0,ce.swapTransaction=void 0,ce.fetchError=!0;return}}},async createSwapTransaction(){const{networkAddress:t,fromCaipAddress:e,sourceTokenAmount:n}=we.getParams(),r=ce.sourceToken,i=ce.toToken;if(!e||!n||!r||!i)return;const s=pe.parseUnits(n,r.decimals)?.toString();try{const o=await Et.generateSwapCalldata({userAddress:e,from:r.address,to:i.address,amount:s,disableEstimate:!0}),a=r.address===t,c=BigInt(o.tx.eip155.gas),l=BigInt(o.tx.eip155.gasPrice),u=oe.getPlainAddress(o.tx.to);if(!u)throw new Error("SwapController:createSwapTransaction - address is required");const d={data:o.tx.data,to:u,gas:c,gasPrice:l,value:BigInt(a?s??"0":"0"),toAmount:ce.toTokenAmount};return ce.gasPriceInUSD=kf.getGasPriceInUSD(ce.networkPrice,c,l),ce.approvalTransaction=void 0,ce.swapTransaction=d,d}catch{Z.goBack(),Ue.showError("Failed to create transaction"),ce.approvalTransaction=void 0,ce.swapTransaction=void 0,ce.fetchError=!0;return}},onEmbeddedWalletApprovalSuccess(){Ue.showLoading("Approve limit increase in your wallet"),Z.replace("SwapPreview")},async sendTransactionForApproval(t){const{fromAddress:e,isAuthConnector:n}=we.getParams();ce.loadingApprovalTransaction=!0,n?Z.pushTransactionStack({onSuccess:we.onEmbeddedWalletApprovalSuccess}):Ue.showLoading("Approve limit increase in your wallet");try{await pe.sendTransaction({address:e,to:t.to,data:t.data,value:t.value,chainNamespace:ne.CHAIN.EVM}),await we.swapTokens(),await we.getTransaction(),ce.approvalTransaction=void 0,ce.loadingApprovalTransaction=!1}catch(i){const s=i;ce.transactionError=s?.displayMessage,ce.loadingApprovalTransaction=!1,Ue.showError(s?.displayMessage||"Transaction error"),Ce.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:s?.displayMessage||s?.message||"Unknown",network:j.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:we.state.sourceToken?.symbol||"",swapToToken:we.state.toToken?.symbol||"",swapFromAmount:we.state.sourceTokenAmount||"",swapToAmount:we.state.toTokenAmount||"",isSmartAccount:En(ne.CHAIN.EVM)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(t){if(!t)return;const{fromAddress:e,toTokenAmount:n,isAuthConnector:r}=we.getParams();ce.loadingTransaction=!0;const i=`Swapping ${ce.sourceToken?.symbol} to ${zt.formatNumberToLocalString(n,3)} ${ce.toToken?.symbol}`,s=`Swapped ${ce.sourceToken?.symbol} to ${zt.formatNumberToLocalString(n,3)} ${ce.toToken?.symbol}`;r?Z.pushTransactionStack({onSuccess(){Z.replace("Account"),Ue.showLoading(i),lS.resetState()}}):Ue.showLoading("Confirm transaction in your wallet");try{const o=[ce.sourceToken?.address,ce.toToken?.address].join(","),a=await pe.sendTransaction({address:e,to:t.to,data:t.data,value:t.value,chainNamespace:ne.CHAIN.EVM});return ce.loadingTransaction=!1,Ue.showSuccess(s),Ce.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:j.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:we.state.sourceToken?.symbol||"",swapToToken:we.state.toToken?.symbol||"",swapFromAmount:we.state.sourceTokenAmount||"",swapToAmount:we.state.toTokenAmount||"",isSmartAccount:En(ne.CHAIN.EVM)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),lS.resetState(),r||Z.replace("Account"),lS.getMyTokensWithBalance(o),a}catch(o){const a=o;ce.transactionError=a?.displayMessage,ce.loadingTransaction=!1,Ue.showError(a?.displayMessage||"Transaction error"),Ce.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:a?.displayMessage||a?.message||"Unknown",network:j.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:we.state.sourceToken?.symbol||"",swapToToken:we.state.toToken?.symbol||"",swapFromAmount:we.state.sourceTokenAmount||"",swapToAmount:we.state.toTokenAmount||"",isSmartAccount:En(ne.CHAIN.EVM)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(t,e){return kf.isInsufficientSourceTokenForSwap(t,e,ce.myTokensWithBalance)},setTransactionDetails(){const{toTokenAddress:t,toTokenDecimals:e}=we.getParams();!t||!e||(ce.gasPriceInUSD=kf.getGasPriceInUSD(ce.networkPrice,BigInt(ce.gasFee),BigInt($H)),ce.priceImpact=kf.getPriceImpact({sourceTokenAmount:ce.sourceTokenAmount,sourceTokenPriceInUSD:ce.sourceTokenPriceInUSD,toTokenPriceInUSD:ce.toTokenPriceInUSD,toTokenAmount:ce.toTokenAmount}),ce.maxSlippage=kf.getMaxSlippage(ce.slippage,ce.toTokenAmount),ce.providerFee=kf.getProviderFee(ce.sourceTokenAmount))}},we=Da(lS),Bl=Wn({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),cVe={state:Bl,subscribe(t){return ci(Bl,()=>t(Bl))},subscribeKey(t,e){return ii(Bl,t,e)},showTooltip({message:t,triggerRect:e,variant:n}){Bl.open=!0,Bl.message=t,Bl.triggerRect=e,Bl.variant=n},hide(){Bl.open=!1,Bl.message="",Bl.triggerRect={width:0,height:0,top:0,left:0}}},sl=Da(cVe),e3=Wn({isLegalCheckboxChecked:!1}),pc={state:e3,subscribe(t){return ci(e3,()=>t(e3))},subscribeKey(t,e){return ii(e3,t,e)},setIsLegalCheckboxChecked(t){e3.isLegalCheckboxChecked=t}},lVe={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};let uVe=class extends Error{};function dVe(){const{sdkType:t,sdkVersion:e,projectId:n}=X.getSnapshot(),r=new URL("https://rpc.walletconnect.org/v1/json-rpc");return r.searchParams.set("projectId",n),r.searchParams.set("st",t),r.searchParams.set("sv",e),r.searchParams.set("source","fund-wallet"),r.toString()}async function tM(t,e){const n=dVe(),{projectId:r}=X.getSnapshot(),i={jsonrpc:"2.0",id:1,method:t,params:{...e||{},projectId:r}},o=await(await fetch(n,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}})).json();if(o.error)throw new uVe(o.error.message);return o}async function hVe(t){return(await tM("reown_getExchanges",t)).result}async function pVe(t){return(await tM("reown_getExchangePayUrl",t)).result}async function fVe(t){return(await tM("reown_getExchangeBuyStatus",t)).result}function TH(t,e){const{chainNamespace:n,chainId:r}=Zr.parseCaipNetworkId(t),i=lVe[n];if(!i)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${n}`);let s=i.native.assetNamespace,o=i.native.assetReference;return e!=="native"&&(s=i.defaultTokenNamespace,o=e),`${`${n}:${r}`}/${s}:${o}`}const gVe={network:"eip155:1",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},mVe={network:"eip155:8453",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},Ase={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},wVe={asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"},yVe={network:"eip155:84532",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},bVe={network:"eip155:1",asset:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},vVe={network:"eip155:42161",asset:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},EVe={network:"eip155:137",asset:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},CVe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},_Ve={network:"eip155:1",asset:"0xdAC17F958D2ee523a2206206994597C13D831ec7",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},IVe={network:"eip155:10",asset:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},SVe={network:"eip155:42161",asset:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},xVe={network:"eip155:137",asset:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},AVe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},kVe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"native",metadata:{name:"Solana",symbol:"SOL",decimals:9}},$Ve={ethereumETH:gVe,baseETH:mVe,baseUSDC:Ase,baseSepoliaETH:yVe,ethereumUSDC:bVe,arbitrumUSDC:vVe,polygonUSDC:EVe,solanaUSDC:CVe,ethereumUSDT:_Ve,optimismUSDT:IVe,arbitrumUSDT:SVe,polygonUSDT:xVe,solanaUSDT:AVe,solanaSOL:kVe};function TVe(t){return Object.values($Ve).filter(e=>e.network===t)}const NVe=0,kse={paymentAsset:null,amount:null,tokenAmount:0,priceLoading:!1,error:null,exchanges:[],isLoading:!1,currentPayment:void 0,isPaymentInProgress:!1,paymentId:"",assets:[]},It=Wn(kse),Wt={state:It,subscribe(t){return ci(It,()=>t(It))},subscribeKey(t,e){return ii(It,t,e)},resetState(){Object.assign(It,{...kse})},async getAssetsForNetwork(t){const e=TVe(t),n=await Wt.getAssetsImageAndPrice(e),r=e.map(i=>{const s=i.asset==="native"?sC():`${i.network}:${i.asset}`,o=n.find(a=>a.fungibles?.[0]?.address?.toLowerCase()===s.toLowerCase());return{...i,price:o?.fungibles?.[0]?.price||1,metadata:{...i.metadata,iconUrl:o?.fungibles?.[0]?.iconUrl}}});return It.assets=r,r},async getAssetsImageAndPrice(t){const e=t.map(r=>r.asset==="native"?sC():`${r.network}:${r.asset}`);return await Promise.all(e.map(r=>Et.fetchTokenPrice({addresses:[r]})))},getTokenAmount(){if(!It?.paymentAsset?.price)throw new Error("Cannot get token price");const t=zt.bigNumber(It.amount??0).round(8),e=zt.bigNumber(It.paymentAsset.price).round(8);return t.div(e).round(8).toNumber()},setAmount(t){It.amount=t,It.paymentAsset?.price&&(It.tokenAmount=Wt.getTokenAmount())},setPaymentAsset(t){It.paymentAsset=t},isPayWithExchangeEnabled(){return X.state.remoteFeatures?.payWithExchange},isPayWithExchangeSupported(){return Wt.isPayWithExchangeEnabled()&&j.state.activeCaipNetwork&&yt.PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES.includes(j.state.activeCaipNetwork.chainNamespace)},async fetchExchanges(){try{const t=Wt.isPayWithExchangeSupported();if(!It.paymentAsset||!t){It.exchanges=[],It.isLoading=!1;return}It.isLoading=!0;const e=await hVe({page:NVe,asset:TH(It.paymentAsset.network,It.paymentAsset.asset),amount:It.amount?.toString()??"0"});It.exchanges=e.exchanges.slice(0,2)}catch{throw Ue.showError("Unable to get exchanges"),new Error("Unable to get exchanges")}finally{It.isLoading=!1}},async getPayUrl(t,e){try{const n=Number(e.amount),r=await pVe({exchangeId:t,asset:TH(e.network,e.asset),amount:n.toString(),recipient:`${e.network}:${e.recipient}`});return Ce.sendEvent({type:"track",event:"PAY_EXCHANGE_SELECTED",properties:{exchange:{id:t},configuration:{network:e.network,asset:e.asset,recipient:e.recipient,amount:n},currentPayment:{type:"exchange",exchangeId:t},source:"fund-from-exchange",headless:!1}}),r}catch(n){throw n instanceof Error&&n.message.includes("is not supported")?new Error("Asset not supported"):new Error(n.message)}},async handlePayWithExchange(t){try{const e=j.getAccountData()?.address;if(!e)throw new Error("No account connected");if(!It.paymentAsset)throw new Error("No payment asset selected");const n=oe.returnOpenHref("","popupWindow","scrollbar=yes,width=480,height=720");if(!n)throw new Error("Could not create popup window");It.isPaymentInProgress=!0,It.paymentId=crypto.randomUUID(),It.currentPayment={type:"exchange",exchangeId:t};const{network:r,asset:i}=It.paymentAsset,s={network:r,asset:i,amount:It.tokenAmount,recipient:e},o=await Wt.getPayUrl(t,s);if(!o){try{n.close()}catch(a){console.error("Unable to close popup window",a)}throw new Error("Unable to initiate payment")}It.currentPayment.sessionId=o.sessionId,It.currentPayment.status="IN_PROGRESS",It.currentPayment.exchangeId=t,n.location.href=o.url}catch{It.error="Unable to initiate payment",Ue.showError(It.error)}},async waitUntilComplete({exchangeId:t,sessionId:e,paymentId:n,retries:r=20}){const i=await Wt.getBuyStatus(t,e,n);if(i.status==="SUCCESS"||i.status==="FAILED")return i;if(r===0)throw new Error("Unable to get deposit status");return await new Promise(s=>{setTimeout(s,5e3)}),Wt.waitUntilComplete({exchangeId:t,sessionId:e,paymentId:n,retries:r-1})},async getBuyStatus(t,e,n){try{if(!It.currentPayment)throw new Error("No current payment");const r=await fVe({sessionId:e,exchangeId:t});if(It.currentPayment.status=r.status,r.status==="SUCCESS"||r.status==="FAILED"){const i=j.getAccountData()?.address;It.currentPayment.result=r.txHash,It.isPaymentInProgress=!1,Ce.sendEvent({type:"track",event:r.status==="SUCCESS"?"PAY_SUCCESS":"PAY_ERROR",properties:{message:r.status==="FAILED"?oe.parseError(It.error):void 0,source:"fund-from-exchange",paymentId:n,configuration:{network:It.paymentAsset?.network||"",asset:It.paymentAsset?.asset||"",recipient:i||"",amount:It.amount??0},currentPayment:{type:"exchange",exchangeId:It.currentPayment?.exchangeId,sessionId:It.currentPayment?.sessionId,result:r.txHash}}})}return r}catch{return{status:"UNKNOWN",txHash:""}}},reset(){It.currentPayment=void 0,It.isPaymentInProgress=!1,It.paymentId="",It.paymentAsset=null,It.amount=0,It.tokenAmount=0,It.priceLoading=!1,It.error=null,It.exchanges=[],It.isLoading=!1}},$se={isUnsupportedChainView(){return Z.state.view==="UnsupportedChain"||Z.state.view==="SwitchNetwork"&&Z.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){Ke.shake();return}if(await ws.isSIWXCloseDisabled()){Ke.shake();return}(Z.state.view==="DataCapture"||Z.state.view==="DataCaptureOtpConfirm")&&pe.disconnect(),Ke.close()}},vn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:ne.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage(t,e){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${t} is outdated. Latest version is ${e}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},Uo={ConnectorExplorerIds:{[ne.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ne.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ne.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ne.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ne.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ne.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[vn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[vn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[vn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[vn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[vn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[vn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[vn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[vn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[vn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[vn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[vn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[vn.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[vn.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[ne.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ne.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ne.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[ne.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ne.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ne.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ne.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ne.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ne.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ne.CONNECTOR_ID.COINBASE]:"Coinbase",[ne.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ne.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[ne.CONNECTOR_ID.LEDGER]:"Ledger",[ne.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ne.CONNECTOR_ID.INJECTED]:"INJECTED",[ne.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ne.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ne.CONNECTOR_ID.AUTH]:"AUTH",[vn.CONNECTOR_TYPE_AUTH]:"AUTH"}},ni={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${vn.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=j.state.activeChain;return ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>ae.getConnectorId(e)===ne.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let r=0;return new Promise(i=>{async function s(){return r+=1,await t()?i(!0):r>=n?i(!1):(setTimeout(s,e),null)}s()})},userChainIdToChainNamespace(t){if(typeof t=="number")return ne.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(r=>r!==t):[]},getConnectorStorageInfo(t,e){const r=be.getConnections()[e]??[];return{hasDisconnected:be.isConnectorDisconnected(t,e),hasConnected:r.some(i=>ni.isLowerCaseMatch(i.connectorId,t))}}},OVe=new AbortController,Rr={EmbeddedWalletAbortController:OVe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${H3()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${X.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systemâ€™s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},Tse={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:Ase.asset,84532:wVe.asset}},getTokenSymbolByAddress(t){if(!t)return;const[e]=Object.entries(Tse.TOKEN_ADDRESSES_BY_SYMBOL).find(([n,r])=>Object.values(r).includes(t))??[];return e}},PVe={createLogger(t,e="error"){const n=nU({level:e}),{logger:r}=WA({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},RVe="rpc.walletconnect.org";function NH(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const NT=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],su={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===RVe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ne.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ne.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const r=t.rpcUrls?.default?.http?.[0];return NT.includes(e)?NH(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,s,n),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=r?.[s]?.map(h=>h.url)||[],u=[...l,...a?[a]:[]],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Uo.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>su.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){const r=[];return n?.forEach(i=>{r.push(mo(i.url,i.config))}),NT.includes(t.caipNetworkId)&&r.push(mo(NH(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{r.push(mo(i))}),RE(r)},extendWagmiTransports(t,e,n){if(NT.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return RE([n,mo(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ne.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=be.getActiveCaipNetworkId(),n=j.getAllRequestedCaipNetworks(),r=Array.from(j.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?r.includes(i):!1,o=n?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||n?.[0]}};class Nw{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a}){const{metadata:c,sdkVersion:l,sdkType:u}=X.getSnapshot();return Nw.instance||(Nw.instance=new rU({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!X.state.remoteFeatures?.emailCapture,metadata:c,sdkVersion:l,sdkType:u})),Nw.instance}}var OH={};const np={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof window.process<"u"&&typeof OH<"u"?OH.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},DVe=[Uo.ConnectorExplorerIds[ne.CONNECTOR_ID.COINBASE],Uo.ConnectorExplorerIds[ne.CONNECTOR_ID.COINBASE_SDK],Uo.ConnectorExplorerIds[ne.CONNECTOR_ID.BASE_ACCOUNT],Uo.ConnectorExplorerIds[vn.SOLFLARE_CONNECTOR_NAME],Uo.ConnectorExplorerIds[vn.PHANTOM_CONNECTOR_NAME],Uo.ConnectorExplorerIds[vn.BINANCE_CONNECTOR_NAME]],ll={filterOutDuplicatesByRDNS(t){const e=X.state.enableEIP6963?ae.state.connectors:[],n=be.getRecentWallets(),r=e.map(a=>a.info?.rdns).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&oe.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=ae.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"||a.type==="MULTI_CHAIN"),n=be.getRecentWallets(),r=e.map(a=>a.explorerId||a.explorerWallet?.id||a.id),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ae.state,{featuredWalletIds:n}=X.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n?.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||X.state.features?.connectMethodsOrder,r=e||ae.state.connectors;if(n)return n;const{injected:i,announced:s}=ol.getConnectorsByType(r,Te.state.recommended,Te.state.featured),o=i.filter(ol.showConnector),a=s.filter(ol.showConnector);return o.length||a.length?["wallet","email","social"]:np.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Te.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Te.state.excludedWallets.some(r=>ni.isLowerCaseMatch(r.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))},filterWalletsByWcSupport(t){return pe.state.wcBasic?t.filter(e=>e.supports_wc):oe.isMobile()?t.filter(e=>e.supports_wc||DVe.includes(e.id)):t}},ol={getConnectorsByType(t,e,n){const{customWallets:r}=X.state,i=be.getRecentWallets(),s=ll.filterOutDuplicateWallets(e),o=ll.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,n=!!e&&Te.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Te.state.excludedWallets.some(i=>ni.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!oe.isMobile()||oe.isMobile()&&!e&&!pe.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(j.state.chains.values()).some(n=>ae.getConnectorId(n.namespace)===ne.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=X.state.features?.connectorTypeOrder??[]}){const u=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(f=>f.isEnabled),d=new Set(u.map(f=>f.type)),h=c.filter(f=>d.has(f)).map(f=>({type:f,isEnabled:!0})),p=u.filter(({type:f})=>!h.some(({type:m})=>m===f));return Array.from(new Set([...h,...p].map(({type:f})=>f)))},sortConnectorsByExplorerWallet(t){return[...t].sort((e,n)=>e.explorerWallet&&n.explorerWallet?(e.explorerWallet.order??0)-(n.explorerWallet.order??0):e.explorerWallet?-1:n.explorerWallet?1:0)},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!oe.isMobile())return{accounts:[],chainId:void 0};if(t.id===ne.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,n]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:e,chainId:n}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(t){const e=be.getRecentWallets(),n=ae.state.connectors.map(o=>o.info?.rdns).filter(Boolean),r=e.map(o=>o.rdns).filter(Boolean),i=n.concat(r);if(i.includes("io.metamask.mobile")&&oe.isMobile()){const o=i.indexOf("io.metamask.mobile");i[o]="io.metamask"}return t.filter(o=>!i.includes(String(o?.rdns)))},hasWalletConnector(t){return ae.state.connectors.some(e=>e.id===t.id||e.name===t.name)},isWalletCompatibleWithCurrentChain(t){const e=j.state.activeChain;return e&&t.chains?t.chains.some(n=>{const r=n.split(":")[0];return e===r}):!0},getFilteredRecentWallets(){return be.getRecentWallets().filter(n=>!ll.isExcluded(n)).filter(n=>!this.hasWalletConnector(n)).filter(n=>this.isWalletCompatibleWithCurrentChain(n))},getCappedRecommendedWallets(t){const{connectors:e}=ae.state,{customWallets:n,featuredWalletIds:r}=X.state,i=e.find(y=>y.id==="walletConnect"),s=e.filter(y=>y.type==="INJECTED"||y.type==="ANNOUNCED"||y.type==="MULTI_CHAIN");if(!i&&!s.length&&!n?.length)return[];const o=xP.isEmailEnabled(),a=xP.isSocialsEnabled(),c=s.filter(y=>y.name!=="Browser Wallet"&&y.name!=="WalletConnect"),l=r?.length||0,u=n?.length||0,d=c.length||0,h=o?1:0,p=a?1:0,f=l+u+d+h+p,m=Math.max(0,4-f);return m<=0?[]:ll.filterOutDuplicateWallets(t).slice(0,m)}},Gf={interpolate(t,e,n){if(t.length!==2||e.length!==2)throw new Error("inputRange and outputRange must be an array of length 2");const r=t[0]||0,i=t[1]||0,s=e[0]||0,o=e[1]||0;return n<r?s:n>i?o:(o-s)/(i-r)*(n-r)+s}};const nM=globalThis,gx=nM.trustedTypes,PH=gx?gx.createPolicy("lit-html",{createHTML:t=>t}):void 0,Nse="$lit$",Hf=`lit$${Math.random().toFixed(9).slice(2)}$`,Ose="?"+Hf,UVe=`<${Ose}>`,Gw=document,fC=()=>Gw.createComment(""),gC=t=>t===null||typeof t!="object"&&typeof t!="function",rM=Array.isArray,MVe=t=>rM(t)||typeof t?.[Symbol.iterator]=="function",OT=`[ 	
\f\r]`,t3=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,RH=/-->/g,DH=/>/g,Sm=RegExp(`>|${OT}(?:([^\\s"'>=/]+)(${OT}*=${OT}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),UH=/'/g,MH=/"/g,Pse=/^(?:script|style|textarea|title)$/i,Rse=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),$=Rse(1),ye=Rse(2),yp=Symbol.for("lit-noChange"),mi=Symbol.for("lit-nothing"),LH=new WeakMap,Ew=Gw.createTreeWalker(Gw,129);function Dse(t,e){if(!rM(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return PH!==void 0?PH.createHTML(e):e}const LVe=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=t3;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===t3?u[1]==="!--"?o=RH:u[1]!==void 0?o=DH:u[2]!==void 0?(Pse.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Sm):u[3]!==void 0&&(o=Sm):o===Sm?u[0]===">"?(o=i??t3,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Sm:u[3]==='"'?MH:UH):o===MH||o===UH?o=Sm:o===RH||o===DH?o=t3:(o=Sm,i=void 0);const p=o===Sm&&t[a+1].startsWith("/>")?" ":"";s+=o===t3?c+UVe:d>=0?(r.push(l),c.slice(0,d)+Nse+c.slice(d)+Hf+p):c+Hf+(d===-2?a:p)}return[Dse(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let N9=class Use{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=LVe(e,n);if(this.el=Use.createElement(l,r),Ew.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=Ew.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(Nse)){const h=u[o++],p=i.getAttribute(d).split(Hf),f=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:f[2],strings:p,ctor:f[1]==="."?BVe:f[1]==="?"?zVe:f[1]==="@"?WVe:wk}),i.removeAttribute(d)}else d.startsWith(Hf)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(Pse.test(i.tagName)){const d=i.textContent.split(Hf),h=d.length-1;if(h>0){i.textContent=gx?gx.emptyScript:"";for(let p=0;p<h;p++)i.append(d[p],fC()),Ew.nextNode(),c.push({type:2,index:++s});i.append(d[h],fC())}}}else if(i.nodeType===8)if(i.data===Ose)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(Hf,d+1))!==-1;)c.push({type:7,index:s}),d+=Hf.length-1}s++}}static createElement(e,n){const r=Gw.createElement("template");return r.innerHTML=e,r}};function q1(t,e,n=t,r){if(e===yp)return e;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=gC(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(e=q1(t,i._$AS(t,e.values),i,r)),e}let jVe=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=(e?.creationScope??Gw).importNode(n,!0);Ew.currentNode=i;let s=Ew.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new iM(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new qVe(s,this,e)),this._$AV.push(l),c=r[++a]}o!==c?.index&&(s=Ew.nextNode(),o++)}return Ew.currentNode=Gw,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}},iM=class Mse{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=mi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=q1(this,e,n),gC(e)?e===mi||e==null||e===""?(this._$AH!==mi&&this._$AR(),this._$AH=mi):e!==this._$AH&&e!==yp&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):MVe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==mi&&gC(this._$AH)?this._$AA.nextSibling.data=e:this.T(Gw.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=N9.createElement(Dse(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new jVe(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(e){let n=LH.get(e.strings);return n===void 0&&LH.set(e.strings,n=new N9(e)),n}k(e){rM(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new Mse(this.O(fC()),this.O(fC()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},wk=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=mi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=mi}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=q1(this,e,n,0),o=!gC(e)||e!==this._$AH&&e!==yp,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=q1(this,a[r+c],n,c),l===yp&&(l=this._$AH[c]),o||=!gC(l)||l!==this._$AH[c],l===mi?e=mi:e!==mi&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===mi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},BVe=class extends wk{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===mi?void 0:e}},zVe=class extends wk{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==mi)}},WVe=class extends wk{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=q1(this,e,n,0)??mi)===yp)return;const r=this._$AH,i=e===mi&&r!==mi||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==mi&&(r===mi||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},qVe=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){q1(this,e)}};const FVe=nM.litHtmlPolyfillSupport;FVe?.(N9,iM),(nM.litHtmlVersions??=[]).push("3.3.1");const HVe=(t,e,n)=>{const r=n?.renderBefore??e;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new iM(e.insertBefore(fC(),s),s,void 0,n??{})}return i._$AI(t),i};const sM=globalThis;let Q=class extends lye{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=HVe(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return yp}};Q._$litElement$=!0,Q.finalized=!0,sM.litElementHydrateSupport?.({LitElement:Q});const VVe=sM.litElementPolyfillSupport;VVe?.({LitElement:Q});(sM.litElementVersions??=[]).push("4.2.1");const KVe={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},mx={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},ZVe={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},GVe={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},YVe={regular:"KHTeka",mono:"KHTekaMono"},JVe={regular:"400",medium:"500"},XVe={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},QVe={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},eKe={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},tKe={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},O9={colors:KVe,fontFamily:YVe,fontWeight:JVe,textSize:XVe,typography:QVe,tokens:{core:mx.core,theme:mx.dark},borderRadius:ZVe,spacing:GVe,durations:tKe,easings:eKe},jH="--apkt";function K5(t){if(!t)return{};const e={};return e["font-family"]=t["--apkt-font-family"]??t["--w3m-font-family"]??"KHTeka",e.accent=t["--apkt-accent"]??t["--w3m-accent"]??"#0988F0",e["color-mix"]=t["--apkt-color-mix"]??t["--w3m-color-mix"]??"#000",e["color-mix-strength"]=t["--apkt-color-mix-strength"]??t["--w3m-color-mix-strength"]??0,e["font-size-master"]=t["--apkt-font-size-master"]??t["--w3m-font-size-master"]??"10px",e["border-radius-master"]=t["--apkt-border-radius-master"]??t["--w3m-border-radius-master"]??"4px",t["--apkt-z-index"]!==void 0?e["z-index"]=t["--apkt-z-index"]:t["--w3m-z-index"]!==void 0&&(e["z-index"]=t["--w3m-z-index"]),e}const Dh={createCSSVariables(t){const e={},n={};function r(s,o,a=""){for(const[c,l]of Object.entries(s)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},r(l,o[c],u)):typeof l=="string"&&(o[c]=`${jH}-${u}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return r(t,e),i(e,n),{cssVariables:e,cssVariablesVarPrefix:n}},assignCSSVariables(t,e){const n={};function r(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,u=s[a];c&&typeof c=="object"?r(c,u,l):typeof u=="string"&&(n[`${jH}-${l}`]=u)}}return r(t,e),n},createRootStyles(t,e){const n={...O9,tokens:{...O9.tokens,theme:t==="light"?mx.light:mx.dark}},{cssVariables:r}=Dh.createCSSVariables(n),i=Dh.assignCSSVariables(r,n),s=Dh.generateW3MVariables(e),o=Dh.generateW3MOverrides(e),a=Dh.generateScaledVariables(e),c=Dh.generateBaseVariables(i),l={...i,...c,...s,...o,...a},u=Dh.applyColorMixToVariables(e,l),d={...l,...u};return`:root {${Object.entries(d).map(([p,f])=>`${p}:${f.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e=K5(t),n={};return n["--w3m-font-family"]=e["font-family"],n["--w3m-accent"]=e.accent,n["--w3m-color-mix"]=e["color-mix"],n["--w3m-color-mix-strength"]=`${e["color-mix-strength"]}%`,n["--w3m-font-size-master"]=e["font-size-master"],n["--w3m-border-radius-master"]=e["border-radius-master"],n},generateW3MOverrides(t){if(!t)return{};const e=K5(t),n={};if(t["--apkt-accent"]||t["--w3m-accent"]){const r=e.accent;n["--apkt-tokens-core-iconAccentPrimary"]=r,n["--apkt-tokens-core-borderAccentPrimary"]=r,n["--apkt-tokens-core-textAccentPrimary"]=r,n["--apkt-tokens-core-backgroundAccentPrimary"]=r}return(t["--apkt-font-family"]||t["--w3m-font-family"])&&(n["--apkt-fontFamily-regular"]=e["font-family"]),e["z-index"]!==void 0&&(n["--apkt-tokens-core-zIndex"]=`${e["z-index"]}`),n},generateScaledVariables(t){if(!t)return{};const e=K5(t),n={};if(t["--apkt-font-size-master"]||t["--w3m-font-size-master"]){const r=parseFloat(e["font-size-master"].replace("px",""));n["--apkt-textSize-h1"]=`${Number(r)*5}px`,n["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,n["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,n["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,n["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,n["--apkt-textSize-h6"]=`${Number(r)*2}px`,n["--apkt-textSize-large"]=`${Number(r)*1.6}px`,n["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,n["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(t["--apkt-border-radius-master"]||t["--w3m-border-radius-master"]){const r=parseFloat(e["border-radius-master"].replace("px",""));n["--apkt-borderRadius-1"]=`${Number(r)}px`,n["--apkt-borderRadius-2"]=`${Number(r)*2}px`,n["--apkt-borderRadius-3"]=`${Number(r)*3}px`,n["--apkt-borderRadius-4"]=`${Number(r)*4}px`,n["--apkt-borderRadius-5"]=`${Number(r)*5}px`,n["--apkt-borderRadius-6"]=`${Number(r)*6}px`,n["--apkt-borderRadius-8"]=`${Number(r)*8}px`,n["--apkt-borderRadius-16"]=`${Number(r)*16}px`,n["--apkt-borderRadius-20"]=`${Number(r)*20}px`,n["--apkt-borderRadius-32"]=`${Number(r)*32}px`,n["--apkt-borderRadius-64"]=`${Number(r)*64}px`,n["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return n},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const n=t["--w3m-color-mix"],r=t["--w3m-color-mix-strength"];if(!r||r===0)return"";const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${n} ${r}%, ${a});`:`${o}: color-mix(in srgb, ${n} ${r}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},n=t["--apkt-tokens-theme-backgroundPrimary"];n&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=n);const r=t["--apkt-tokens-core-backgroundAccentPrimary"];return r&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=r),e},applyColorMixToVariables(t,e){const n={};e?.["--apkt-tokens-theme-backgroundPrimary"]&&(n["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(n["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)");const r=K5(t),i=r["color-mix"],s=r["color-mix-strength"];if(!s||s===0)return n;const o=Object.keys(e||{}).filter(a=>{const c=a.includes("-tokens-core-background")||a.includes("-tokens-core-text")||a.includes("-tokens-core-border")||a.includes("-tokens-core-foreground")||a.includes("-tokens-core-icon")||a.includes("-tokens-theme-background")||a.includes("-tokens-theme-text")||a.includes("-tokens-theme-border")||a.includes("-tokens-theme-foreground")||a.includes("-tokens-theme-icon")||a.includes("-tokens-theme-overlay"),l=a.includes("-borderRadius-")||a.includes("-spacing-")||a.includes("-textSize-")||a.includes("-fontFamily-")||a.includes("-fontWeight-")||a.includes("-typography-")||a.includes("-duration-")||a.includes("-ease-")||a.includes("-path-")||a.includes("-width-")||a.includes("-height-")||a.includes("-visual-size-")||a.includes("-modal-width")||a.includes("-cover");return c&&!l});return o.length===0||o.forEach(a=>{const c=e?.[a]||"";a.endsWith("-base")||(a==="--apkt-tokens-theme-backgroundPrimary"||a==="--apkt-tokens-core-backgroundAccentPrimary"?n[a]=`color-mix(in srgb, ${i} ${s}%, var(${a}-base))`:c.includes("color-mix")||c.startsWith("#")||c.startsWith("rgb")?n[a]=`color-mix(in srgb, ${i} ${s}%, ${c})`:n[a]=`color-mix(in srgb, ${i} ${s}%, var(${a}-base, ${c}))`)}),n}},{cssVariablesVarPrefix:vr}=Dh.createCSSVariables(O9);function ve(t,...e){return Be(t,...e.map(n=>typeof n=="function"?pi(n(vr)):pi(n)))}let ew,Cw,dd,ou,wx;const Th={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function yx(t,e="dark"){ew&&document.head.removeChild(ew),ew=document.createElement("style"),ew.textContent=Dh.createRootStyles(e,t),document.head.appendChild(ew)}function nKe(t,e="dark"){if(wx=t,Cw=document.createElement("style"),dd=document.createElement("style"),ou=document.createElement("style"),Cw.textContent=C1(t).core.cssText,dd.textContent=C1(t).dark.cssText,ou.textContent=C1(t).light.cssText,document.head.appendChild(Cw),document.head.appendChild(dd),document.head.appendChild(ou),yx(t,e),P9(e),!(t?.["--apkt-font-family"]||t?.["--w3m-font-family"]))for(const[r,i]of Object.entries(Th)){const s=document.createElement("link");s.rel="preload",s.href=i,s.as="font",s.type=r.includes("woff2")?"font/woff2":"font/woff",s.crossOrigin="anonymous",document.head.appendChild(s)}P9(e)}function P9(t="dark"){dd&&ou&&ew&&(t==="light"?(yx(wx,t),dd.removeAttribute("media"),ou.media="enabled"):(yx(wx,t),ou.removeAttribute("media"),dd.media="enabled"))}function rKe(t){if(wx=t,Cw&&dd&&ou){Cw.textContent=C1(t).core.cssText,dd.textContent=C1(t).dark.cssText,ou.textContent=C1(t).light.cssText;const e=t?.["--apkt-font-family"]||t?.["--w3m-font-family"];e&&(Cw.textContent=Cw.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),dd.textContent=dd.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),ou.textContent=ou.textContent?.replace("font-family: KHTeka",`font-family: ${e}`))}if(ew){const e=ou?.media==="enabled"?"light":"dark";yx(t,e)}}function C1(t){const e=!!(t?.["--apkt-font-family"]||t?.["--w3m-font-family"]);return{core:Be`
      ${e?Be``:Be`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pi(Th["KHTeka-400-woff2"])}) format('woff2'),
                url(${pi(Th["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pi(Th["KHTeka-300-woff2"])}) format('woff2'),
                url(${pi(Th["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${pi(Th["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${pi(Th["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pi(Th["KHTeka-400-woff2"])}) format('woff2'),
                url(${pi(Th["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Be`
      :root {
      }
    `,light:Be`
      :root {
      }
    `}}const st=Be`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,Jt=Be`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Z5=".",sn={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--apkt-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--apkt-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},formatCurrency(t=0,e={}){const n=Number(t);return isNaN(n)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...e}).format(n)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:n,truncate:r}){return t.length<=e+n?t:r==="end"?`${t.substring(0,e)}...`:r==="start"?`...${t.substring(t.length-n)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(n))}`},generateAvatarColors(t){const n=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(n),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(r,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]},tintColor(t,e){const[n,r,i]=t,s=Math.round(n+(255-n)*e),o=Math.round(r+(255-r)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){return t||(typeof window<"u"&&window.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,n){return t.toString().length>=e?Number(t).toFixed(n):t},cssDurationToNumber(t){return t.endsWith("s")?Number(t.replace("s",""))*1e3:t.endsWith("ms")?Number(t.replace("ms","")):0},maskInput({value:t,decimals:e,integers:n}){if(t=t.replace(",","."),t===Z5)return`0${Z5}`;const[r="",i]=t.split(Z5).map(u=>u.replace(/[^0-9]/gu,"")),s=n?r.substring(0,n):r,o=s.length===2?String(Number(s)):s,a=typeof e=="number"?i?.substring(0,e):i,c=typeof e!="number"||e>0;return(typeof a=="string"&&c?[o,a].join(Z5):o)??""},capitalize(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}},iKe=3,G5=.1,sKe=["receive","deposit","borrow","claim"],oKe=["withdraw","repay","burn"],e1={getTransactionGroupTitle(t,e){const n=mP.getYear(),r=mP.getMonthNameByIndex(e);return t===n?r:`${r} ${t}`},getTransactionImages(t){const[e]=t;return t?.length>1?t.map(r=>this.getTransactionImage(r)):[this.getTransactionImage(e)]},getTransactionImage(t){return{type:e1.getTransactionTransferTokenType(t),url:e1.getTransactionImageURL(t)}},getTransactionImageURL(t){let e;const n=!!t?.nft_info,r=!!t?.fungible_info;return t&&n?e=t?.nft_info?.content?.preview?.url:t&&r&&(e=t?.fungible_info?.icon?.url),e},getTransactionTransferTokenType(t){if(t?.fungible_info)return"FUNGIBLE";if(t?.nft_info)return"NFT"},getTransactionDescriptions(t,e){const n=t?.metadata?.operationType,r=e||t?.transfers,i=r?.length>0,s=r?.length>1,o=i&&r?.every(h=>!!h?.fungible_info),[a,c]=r;let l=this.getTransferDescription(a),u=this.getTransferDescription(c);if(!i)return(n==="send"||n==="receive")&&o?(l=sn.getTruncateString({string:t?.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),u=sn.getTruncateString({string:t?.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"}),[l,u]):[t.metadata.status];if(s)return r.map(h=>this.getTransferDescription(h));let d="";return sKe.includes(n)?d="+":oKe.includes(n)&&(d="-"),l=d.concat(l),[l]},getTransferDescription(t){let e="";return t&&(t?.nft_info?e=t?.nft_info?.name||"-":t?.fungible_info&&(e=this.getFungibleTransferDescription(t)||"-")),e},getFungibleTransferDescription(t){return t?[this.getQuantityFixedValue(t?.quantity.numeric),t?.fungible_info?.symbol].join(" ").trim():null},mergeTransfers(t){if(t?.length<=1)return t;const n=this.filterGasFeeTransfers(t).reduce((i,s)=>{const o=s?.fungible_info?.name,a=i.find(({fungible_info:c,direction:l})=>o&&o===c?.name&&l===s.direction);if(a){const c=Number(a.quantity.numeric)+Number(s.quantity.numeric);a.quantity.numeric=c.toString(),a.value=(a.value||0)+(s.value||0)}else i.push(s);return i},[]);let r=n;return n.length>2&&(r=n.sort((i,s)=>(s.value||0)-(i.value||0)).slice(0,2)),r=r.sort((i,s)=>i.direction==="out"&&s.direction==="in"?-1:i.direction==="in"&&s.direction==="out"?1:0),r},filterGasFeeTransfers(t){const e=t.reduce((r,i)=>{const s=i?.fungible_info?.name;return s&&(r[s]||(r[s]=[]),r[s].push(i)),r},{}),n=[];return Object.values(e).forEach(r=>{if(r.length===1){const i=r[0];i&&n.push(i)}else{const i=r.filter(o=>o.direction==="in"),s=r.filter(o=>o.direction==="out");if(i.length===1&&s.length===1){const o=i[0],a=s[0];let c=!1;if(o&&a){const l=Number(o.quantity.numeric),u=Number(a.quantity.numeric);u<l*G5?(n.push(o),c=!0):l<u*G5&&(n.push(a),c=!0)}c||n.push(...r)}else{const o=this.filterGasFeesFromTokenGroup(r);n.push(...o)}}}),t.forEach(r=>{r?.fungible_info?.name||n.push(r)}),n},filterGasFeesFromTokenGroup(t){if(t.length<=1)return t;const e=t.map(a=>Number(a.quantity.numeric)),n=Math.max(...e),r=Math.min(...e),i=.01;if(r<n*i)return t.filter(c=>Number(c.quantity.numeric)>=n*i);const s=t.filter(a=>a.direction==="in"),o=t.filter(a=>a.direction==="out");if(s.length===1&&o.length===1){const a=s[0],c=o[0];if(a&&c){const l=Number(a.quantity.numeric),u=Number(c.quantity.numeric);if(u<l*G5)return[a];if(l<u*G5)return[c]}}return t},getQuantityFixedValue(t){return t?parseFloat(t).toFixed(iKe):null}};function aKe(t,e){const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function cKe(t,e){return customElements.get(t)||customElements.define(t,e),e}function ie(t){return function(n){return typeof n=="function"?cKe(t,n):aKe(t,n)}}const G3={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603};let lKe=class extends Sse{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new xse({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const r=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:r.map(i=>oe.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&yt.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};const r=j.getAccountData();if(r?.balanceLoading&&e.chainId===j.state.activeCaipNetwork?.id)return{balance:r?.balance||"0.00",symbol:r?.balanceSymbol||""};const s=(await j.fetchTokenBalance()).find(o=>o.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&o.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:s?.quantity.numeric||"0.00",symbol:s?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return j.state.activeCaipNetwork?.chainNamespace===ne.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:Bp.encode(new TextEncoder().encode(r)),pubkey:i}},j.state.activeCaipNetwork?.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},j.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===ne.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:wo(n.id)}]})}catch(i){if(i.code===G3.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===G3.ERROR_INVALID_CHAIN_ID||i.code===G3.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===G3.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:wo(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}};const uKe=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],Y5={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?yt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?yt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?yt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?yt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?yt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?yt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?yt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?yt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?yt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>yt.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>yt.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>yt.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?yt.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},dKe={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=Y5[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,i){const s=Y5[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(s.apiFeatureName,n);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Y5[t].processApi(e)},processFallbackFeature(t,e){return Y5[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,i=!1;try{r=await Te.fetchProjectConfig(),i=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?yt.DEFAULT_REMOTE_FEATURES:yt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of uKe){const a=this.processFeature(o,n,r,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),yt.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Kn.open({debugMessage:Rr.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};let hKe=class{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const i=j.getCaipNetworks(n)?.find(a=>a.id===r);if(i)return i;const s=j.getNetworkData(n)?.caipNetwork;return s||j.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return j.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>j.getCaipNetworks(n),this.getActiveChainNamespace=()=>j.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{j.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>j.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>j.state.activeChain===n||!n?j.state.activeCaipAddress:j.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{Et.setClientId(n)},this.getProvider=n=>Qn.getProvider(n),this.getProviderType=n=>Qn.getProviderId(n),this.getPreferredAccountType=n=>En(n),this.setCaipAddress=(n,r,i=!1)=>{j.setAccountProp("caipAddress",n,r,i),j.setAccountProp("address",oe.getPlainAddress(n),r,i)},this.setBalance=(n,r,i)=>{j.setAccountProp("balance",n,i),j.setAccountProp("balanceSymbol",r,i)},this.setProfileName=(n,r)=>{j.setAccountProp("profileName",n,r)},this.setProfileImage=(n,r)=>{j.setAccountProp("profileImage",n,r)},this.setUser=(n,r)=>{j.setAccountProp("user",n,r)},this.resetAccount=n=>{j.resetAccount(n)},this.setCaipNetwork=n=>{j.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{j.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{j.setAccountProp("status",n,r),ae.isConnected()?be.setConnectionStatus("connected"):be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>j.getAccountData(n)?.address,this.setConnectors=n=>{const r=[...ae.state.allConnectors,...n];ae.setConnectors(r)},this.setConnections=(n,r)=>{be.setConnections(n,r),pe.setConnections(n,r)},this.fetchIdentity=n=>Et.fetchIdentity(n),this.getReownName=n=>nu.getNamesForAddress(n),this.getConnectors=()=>ae.getConnectors(),this.getConnectorImage=n=>en.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?al.getConnectionsData(n).connections:(Kn.open(ne.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?al.getConnectionsData(n).recentConnections:(Kn.open(ne.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Kn.open(ne.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await pe.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Kn.open(ne.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}be.deleteAddressFromConnection(n),pe.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const i=Qn.getProviderId(r),s=n?{...n,type:i}:void 0;j.setAccountProp("connectedWalletInfo",s,r)},this.getIsConnectedState=()=>!!j.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{const s=j.getAccountData(i)?.addressLabels||{};j.setAccountProp("addressLabels",{...s,[n]:r},i)},this.removeAddressLabel=(n,r)=>{const i=j.getAccountData(r)?.addressLabels||{};j.setAccountProp("addressLabels",{...i,[n]:void 0},r)},this.getAddress=n=>{const r=n||j.state.activeChain;return j.getAccountData(r)?.address},this.resetNetwork=n=>{j.resetNetwork(n)},this.addConnector=n=>{ae.addConnector(n)},this.resetWcConnection=()=>{pe.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{j.setAccountProp("addressExplorerUrl",n,r)},this.setSmartAccountDeployed=(n,r)=>{j.setAccountProp("smartAccountDeployed",n,r)},this.setPreferredAccountType=(n,r)=>{j.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{X.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e?.map(s=>s.namespace).filter(s=>!!s);if(r?.length)return[...new Set(r)];const i=n?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),X.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),!e.basic&&!e.manualWCControl&&(this.remoteFeatures=await dKe.fetchRemoteFeatures(e)),await Te.fetchUsage(),X.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&Zn.setOnrampProviders(this.remoteFeatures.onramp),(X.state.remoteFeatures?.email||Array.isArray(X.state.remoteFeatures?.socials)&&X.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),X.state.features?.reownAuthentication||X.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:n}=await fe(async()=>{const{ReownAuthentication:i}=await Promise.resolve().then(()=>kKe);return{ReownAuthentication:i}},void 0),r=X.state.siwx;r instanceof n||(r&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),X.setSIWX(new n))}}async openSend(e){const n=e.namespace||j.state.activeChain,r=this.getCaipAddress(n),i=this.getCaipNetwork(n)?.id;if(!r)throw new Error("openSend: caipAddress not found");if(i?.toString()!==e.chainId.toString()){const s=j.getCaipNetworkById(e.chainId,n);if(!s)throw new Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(s,{throwOnFailure:!0})}try{const s=Tse.getTokenSymbolByAddress(e.assetAddress);s&&await Te.fetchTokenImages([s])}catch{}return await Ke.open({view:"WalletSend",data:{send:e}}),new Promise((s,o)=>{const a=Xe.subscribeKey("hash",u=>{u&&(l(),s({hash:u}))}),c=Ke.subscribe(u=>{u.open||(l(),o(new Error("Modal closed")))}),l=this.createCleanupHandler([a,c])})}toModalOptions(){function e(r){return r?.view==="Swap"}function n(r){return r?.view==="WalletSend"}return{isSwap:e,isSend:n}}async checkAllowedOrigins(){try{const e=await Te.fetchAllowedOrigins();if(!oe.isClient())return;const n=window.location.origin;ap.isOriginAllowed(n,e,ne.DEFAULT_ALLOWED_ANCESTORS)||Kn.open(Rr.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":Kn.open(Rr.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Kn.open({displayMessage:Rr.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Rr.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}}}}createCleanupHandler(e){return()=>{e.forEach(n=>{try{n()}catch{}})}}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,Ce.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(r=>r.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initAdapterController(){lU.initialize(this.chainAdapters)}initializeThemeController(e){e.themeMode&&zn.setThemeMode(e.themeMode),e.themeVariables&&zn.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");j.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});const n=this.getDefaultNetwork();n&&j.setActiveCaipNetwork(n)}initializeConnectionController(e){pe.initialize(e.adapters??[]),pe.setWcBasic(e.basic??!1)}initializeConnectorController(){ae.initialize(this.chainNamespaces)}initializeProjectSettings(e){X.setProjectId(e.projectId),X.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){X.setDebug(e.debug!==!1),X.setEnableWalletGuide(e.enableWalletGuide!==!1),X.setEnableWallets(e.enableWallets!==!1),X.setEIP6963Enabled(e.enableEIP6963!==!1),X.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),X.setEnableReconnect(e.enableReconnect!==!1),X.setEnableMobileFullScreen(e.enableMobileFullScreen===!0),X.setCoinbasePreference(e.coinbasePreference),X.setEnableAuthLogger(e.enableAuthLogger!==!1),X.setCustomRpcUrls(e.customRpcUrls),X.setEnableEmbedded(e.enableEmbedded),X.setAllWallets(e.allWallets),X.setIncludeWalletIds(e.includeWalletIds),X.setExcludeWalletIds(e.excludeWalletIds),X.setFeaturedWalletIds(e.featuredWalletIds),X.setTokens(e.tokens),X.setTermsConditionsUrl(e.termsConditionsUrl),X.setPrivacyPolicyUrl(e.privacyPolicyUrl),X.setCustomWallets(e.customWallets),X.setFeatures(e.features),X.setAllowUnsupportedChain(e.allowUnsupportedChain),X.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),X.setPreferUniversalLinks(e.experimental_preferUniversalLinks),X.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),X.setMetadata(e.metadata),X.setDisableAppend(e.disableAppend),X.setEnableEmbedded(e.enableEmbedded),X.setSIWX(e.siwx),this.features=X.state.features??{},!e.projectId){Kn.open(Rr.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===ne.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");X.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return oe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=su.getUnsupportedNetwork(`${n}:${e}`);j.setActiveCaipNetwork(r)}}getDefaultNetwork(){return su.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return su.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return su.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>i.id===e.defaultNetwork?.id);return n?su.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectConnector(e,n){try{this.setLoading(!0,e);let r={connections:[]};const i=this.getAdapter(e);return(j.state.chains.get(e)?.accountState?.caipAddress||!X.state.enableReconnect)&&i?.disconnect&&(r=await i.disconnect({id:n})),this.setLoading(!1,e),r}catch(r){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=j.state.activeChain,n=this.getAdapter(e),r=this.getCaipNetwork(e)?.id,i=pe.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),be.setConnectedNamespaces([...j.state.chains.keys()]),await this.syncWalletConnectAccount(),await ws.initializeIfEnabled()},connectExternal:async e=>{const n=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,n),n?{address:n.address}:void 0},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{const s=j.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:n,type:r,provider:i,chainId:this.getCaipNetwork()?.id}),be.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnectConnector:async e=>{await this.disconnectConnector(e.namespace,e.id)},disconnect:async e=>{const{id:n,chainNamespace:r,initialDisconnect:i}=e||{},s=r||j.state.activeChain,o=ae.getConnectorId(s),a=n===ne.CONNECTOR_ID.AUTH||o===ne.CONNECTOR_ID.AUTH,c=n===ne.CONNECTOR_ID.WALLET_CONNECT||o===ne.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(j.state.chains.keys());let u=r?[r]:l;(c||a)&&(u=l);const d=u.map(async f=>{const g=ae.getConnectorId(f),m=n||g,b=await this.disconnectConnector(f,m);b&&(a&&be.deleteConnectedSocialProvider(),b.connections.forEach(y=>{be.addDisconnectedConnectorId(y.connectorId,f)})),i&&this.onDisconnectNamespace({chainNamespace:f,closeModal:!1})}),h=await Promise.allSettled(d);Xe.resetSend(),pe.resetWcConnection(),ws.getSIWX()?.signOutOnDisconnect&&await ws.clearSessions(),ae.setFilterByNamespace(void 0),pe.syncStorageConnections();const p=h.filter(f=>f.status==="rejected");if(p.length>0)throw new Error(p.map(f=>f.reason.message).join(", "));Ce.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>{const n=j.state.activeChain,r=this.getAdapter(j.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const i=this.getAddress(n);if(!i)throw new Error("signMessage: address not found");return(await r?.signMessage({message:e,address:i,provider:Qn.getProvider(n)}))?.signature||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(yt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const i=Qn.getProvider(n);return(await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===ne.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const i=Qn.getProvider(n),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await r?.estimateGas({...e,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=j.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");const n=this.getAddress(e);if(!n)throw new Error("getEnsAvatar: address not found");return await this.syncIdentity({address:n,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),j.getAccountData()?.profileImage||!1},getEnsAddress:async e=>await ap.resolveReownName(e),writeContract:async e=>{const n=j.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=Qn.getProvider(n);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await r?.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(e,n)=>{const r=this.getAdapter(j.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:e,decimals:n})??0n},formatUnits:(e,n)=>{const r=this.getAdapter(j.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:e,decimals:n})??"0"},getCapabilities:async e=>{const n=this.getAdapter(j.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(e)},grantPermissions:async e=>{const n=this.getAdapter(j.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(e)},revokePermissions:async e=>{const n=this.getAdapter(j.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(j.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(e)??{}},updateBalance:e=>{const n=this.getAddress(e),r=this.getCaipNetwork(e);!r||!n||this.updateNativeBalance(n,r?.id,e)}},pe.setClient(this.connectionControllerClient)}async onConnectExternal(e){const n=j.state.activeChain,r=e.chain||n,i=this.getAdapter(r);let s=!0;if(e.type===vn.CONNECTOR_TYPE_AUTH&&ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(d=>ae.getConnectorId(d)===ne.CONNECTOR_ID.AUTH)&&e.chain!==n&&(s=!1),e.chain&&e.chain!==n&&!e.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===e.chain);l&&s&&this.setCaipNetwork(l)}if(!r)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(r),a=e.caipNetwork||o,c=await i.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return be.addConnectedNamespace(r),this.syncProvider({...c,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),be.removeDisconnectedConnectorId(e.id,r),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,n){const r=e.type===vn.CONNECTOR_TYPE_AUTH,i=ni.getOtherAuthNamespaces(n?.connectedCaipNetwork?.chainNamespace),s=j.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace);r&&(await Promise.all(i.map(async a=>{try{const c=Qn.getProvider(a),l=this.getCaipNetwork(a);await this.getAdapter(a)?.connect({...e,provider:c,socialUri:void 0,chainId:l?.id,rpcUrl:l?.rpcUrls?.default?.http?.[0]})&&(be.addConnectedNamespace(a),be.removeDisconnectedConnectorId(e.id,a),this.setStatus("connected",a),this.syncConnectedWalletInfo(a))}catch(c){Kn.warn(Rr.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Rr.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(a,c instanceof Error?c.message:void 0),Rr.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s}))}getApprovedCaipNetworksData(){if(Qn.getProviderId(j.state.activeChain)===vn.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Qn.getProviderId(n);if(e.chainNamespace===j.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e});else if(this.setCaipNetwork(e),i===vn.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const s=this.getAddressByChainNamespace(n);s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Zr.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const i=e?.find(s=>s.namespace===r);return i?(i.construct({namespace:r,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:s})=>s===r)}),n[r]=i):n[r]=new lKe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e);const n=this.getAdapter(e);if(!n)throw new Error("adapter not found");await n.syncConnectors(),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)})),this.initAdapterController()}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=be.getConnectionStatus();X.state.enableReconnect===!1?this.setStatus("disconnected",e):r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(be.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=j.state.activeChain===e,c=j.state.chains.get(e)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(pe.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=this.getAddress(e),s=j.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s,connector:o})=>{this.handlePreviousConnectorConnection(o);const a=j.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o?.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=j.getNetworkData(e)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(i,l,e),this.syncBalance({address:i,chainId:l,chainNamespace:e})):this.syncAccountInfo(i,s,e),be.addConnectedNamespace(e)})}async handlePreviousConnectorConnection(e){const n=e?.chain,r=e?.id,i=ae.getConnectorId(n),s=X.state.remoteFeatures?.multiWallet,a=n&&r&&i&&i!==r&&!s;try{a&&await pe.disconnect({id:i,namespace:n})}catch(c){console.warn("Error disconnecting previous connector",c)}}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>pe.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();this.getCaipAddress()||be.deleteRecentWallet();const n=be.getRecentWallet();Ce.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:oe.isMobile()?"mobile":"qrcode",name:n?.name||"Unknown",reconnect:!0,view:Z.state.view,walletRank:n?.order}})}async syncNamespaceConnection(e){try{e===ne.CHAIN.EVM&&oe.isSafeApp()&&ae.setConnectorId(ne.CONNECTOR_ID.SAFE,e);const n=ae.getConnectorId(e);switch(this.setStatus("connecting",e),n){case ne.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case ne.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:r}=e||{};j.resetAccount(n),j.resetNetwork(n),be.removeConnectedNamespace(n);const i=Array.from(j.state.chains.keys());(n?[n]:i).forEach(o=>be.addDisconnectedConnectorId(ae.getConnectorId(o)||"",o)),ae.removeConnectorId(n),Qn.resetChain(n),this.setUser(null,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(null,n),r!==!1&&Ke.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const n=this.getAdapter(e),r=this.getCaipAddress(e),i=this.getCaipNetwork(e);return n?.syncConnections({connectToFirstConnector:!r,caipNetwork:i})}))}async syncAdapterConnection(e){const n=this.getAdapter(e),r=this.getCaipNetwork(e),i=ae.getConnectorId(e),o=ae.getConnectors(e).find(a=>a.id===i);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!r?.id)throw new Error("CaipNetwork not found");const a=await n?.syncConnection({namespace:e,id:o.id,chainId:r.id,rpcUrl:r?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),Ce.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0,view:Z.state.view,walletRank:o?.explorerWallet?.order}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async r=>{const i=this.getAdapter(r);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],o=j.state.activeCaipNetwork?.id,a=s.find(l=>{const{chainId:u}=Zr.parseCaipAddress(l);return u===o?.toString()})||s[0];if(a){const l=Zr.validateCaipAddress(a),{chainId:u,address:d}=Zr.parseCaipAddress(l);if(Qn.setProviderId(r,vn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&j.state.activeCaipNetwork&&i.namespace!==ne.CHAIN.EVM){const h=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:j.state.activeCaipNetwork});Qn.setProvider(r,h)}else Qn.setProvider(r,this.universalProvider);ae.setConnectorId(ne.CONNECTOR_ID.WALLET_CONNECT,r),be.addConnectedNamespace(r),await this.syncAccount({address:d,chainId:u,chainNamespace:r})}else e.includes(r)&&this.setStatus("disconnected",r);const c=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(r),j.setApprovedCaipNetworksData(r,{approvedCaipNetworkIds:c.approvedCaipNetworkIds,supportsAllNetworks:c.supportsAllNetworks})});await Promise.all(n)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){Qn.setProviderId(i,e),Qn.setProvider(i,n),ae.setConnectorId(r,i)}async syncAccount(e){const n=e.chainNamespace===j.state.activeChain,r=j.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=be.getActiveNetworkProps(),c=r?.id||a,l=j.state.activeCaipNetwork?.name===ne.UNSUPPORTED_NETWORK_NAME,u=j.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let d=this.getCaipNetworks().find(g=>g.id.toString()===c.toString()),h=this.getCaipNetworks().find(g=>g.chainNamespace===o);if(!u&&!d&&!h){const g=this.getApprovedCaipNetworkIds()||[],m=g.find(y=>Zr.parseCaipNetworkId(y)?.chainId===c.toString()),b=g.find(y=>Zr.parseCaipNetworkId(y)?.chainNamespace===o);d=this.getCaipNetworks().find(y=>y.caipNetworkId===m),h=this.getCaipNetworks().find(y=>y.caipNetworkId===b||"deprecatedCaipNetworkId"in y&&y.deprecatedCaipNetworkId===b)}const p=d||h;p?.chainNamespace===j.state.activeChain?X.state.enableNetworkSwitch&&!X.state.allowUnsupportedChain&&j.state.activeCaipNetwork?.name===ne.UNSUPPORTED_NETWORK_NAME?j.showUnsupportedChainUI():this.setCaipNetwork(p):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o);const f=this.getAddress(o);ni.isLowerCaseMatch(i,f)||this.syncAccountInfo(i,p?.id,o),n?await this.syncBalance({address:i,chainId:p?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||i?.split(":")[1];if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r,!0),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=ae.getConnectorId(e),r=Qn.getProviderId(e);if(r===vn.CONNECTOR_TYPE_ANNOUNCED||r===vn.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>{const a=o.id===n,c=o.info?.rdns===n,l=o.connectors?.some(u=>u.id===n||u.info?.rdns===n);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===vn.CONNECTOR_TYPE_WALLET_CONNECT){const i=Qn.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(n&&(n===ne.CONNECTOR_ID.COINBASE_SDK||n===ne.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===n),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},e)}}async syncBalance(e){!P1.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>r.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=j.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const e=PVe.createLogger((i,...s)=>{i&&this.handleAlertError(i),console.error(...s)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};X.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await YHe.init(n);const r=this.universalProvider.disconnect.bind(this.universalProvider);this.universalProvider.disconnect=async()=>{try{return await r()}catch(i){if(i instanceof Error&&i.message.includes("Missing or invalid. Record was recently deleted"))return;throw i}},X.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{ap.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{pe.setUri(n)},onConnect:n=>{const{address:r}=oe.getAccount(n[0]);pe.finalizeWcConnection(r)},onDisconnect:()=>{j.state.noAdapters&&this.resetAccount(e),pe.resetWcConnection()},onChainChanged:n=>{const r=j.state.activeChain,i=r&&ae.state.activeConnectorIds[r]===ne.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(j.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(n);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:n=>{const r=j.state.activeChain,i=r&&ae.state.activeConnectorIds[r]===ne.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(j.state.noAdapters||i)){const s=n?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&oe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Ce.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}getDisabledCaipNetworks(){const e=j.getAllApprovedCaipNetworkIds(),n=j.getAllRequestedCaipNetworks();return oe.sortRequestedNetworks(e,n).filter(i=>j.isCaipNetworkDisabled(i))}handleAlertError(e){const n=Object.entries(Rr.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=Rr.ALERT_ERRORS[o];a&&(Kn.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:i})=>i===n)}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){await this.injectModalUi(),e?.uri&&pe.setUri(e.uri);const{isSwap:n,isSend:r}=this.toModalOptions();return n(e)?Ke.open({...e,data:{swap:e.arguments}}):r(e)&&e.arguments?this.openSend(e.arguments):Ke.open(e)}async close(){await this.injectModalUi(),Ke.close()}setLoading(e,n){Ke.setLoading(e,n)}async disconnect(e){await pe.disconnect({namespace:e})}getSIWX(){return X.state.siwx}getError(){return""}getChainId(){return j.state.activeCaipNetwork?.id}async switchNetwork(e,{throwOnFailure:n=!1}={}){const r=this.getCaipNetworks().find(i=>i.id===e.id);if(!r){Kn.open(Rr.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await j.switchActiveNetwork(r,{throwOnFailure:n})}getWalletProvider(){return j.state.activeChain?Qn.state.providers[j.state.activeChain]:null}getWalletProviderType(){return Qn.getProviderId(j.state.activeChain)}subscribeProviders(e){return Qn.subscribeProviders(e)}getThemeMode(){return zn.state.themeMode}getThemeVariables(){return zn.state.themeVariables}setThemeMode(e){zn.setThemeMode(e),P9(zn.state.themeMode)}setTermsConditionsUrl(e){X.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){X.setPrivacyPolicyUrl(e)}setThemeVariables(e){zn.setThemeVariables(e),rKe(zn.state.themeVariables)}subscribeTheme(e){return zn.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?pe.subscribe(e):(Kn.open(ne.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?j.state.chains.get(e)?.accountState?.connectedWalletInfo:j.getAccountData()?.connectedWalletInfo}getAccount(e){const n=e||j.state.activeChain,r=ae.getAuthConnector(n),i=j.getAccountData(n),s=be.getConnectedConnectorId(j.state.activeChain),o=pe.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:d})=>oe.createAccount(n,l,u||"eoa",d)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:oe.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:r&&s===ne.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:be.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:En(n),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?j.subscribeChainProp("accountState",r,n):j.subscribe(r),ae.subscribe(r)}subscribeNetwork(e){return j.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e,n){return n?j.subscribeChainProp("accountState",r=>e(r?.connectedWalletInfo),n):j.subscribeChainProp("accountState",r=>e(r?.connectedWalletInfo))}subscribeShouldUpdateToAddress(e){j.subscribeChainProp("accountState",n=>e(n?.shouldUpdateToAddress))}subscribeCaipNetworkChange(e){j.subscribeKey("activeCaipNetwork",e)}getState(){return lu.state}getRemoteFeatures(){return X.state.remoteFeatures}subscribeState(e){return lu.subscribe(e)}subscribeRemoteFeatures(e){return X.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Ue.showError(e)}showSuccessMessage(e){Ue.showSuccess(e)}getEvent(){return{...Ce.state}}subscribeEvents(e){return Ce.subscribe(e)}replace(e){Z.replace(e)}redirect(e){Z.push(e)}popTransactionStack(e){Z.popTransactionStack(e)}isOpen(){return Ke.state.open}isTransactionStackEmpty(){return Z.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){X.setFeatures(e)}updateRemoteFeatures(e){X.setRemoteFeatures(e)}updateOptions(e){const r={...X.state||{},...e};X.setOptions(r)}setConnectMethodsOrder(e){X.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){X.setWalletFeaturesOrder(e)}setCollapseWallets(e){X.setCollapseWallets(e)}setSocialsOrder(e){X.setSocialsOrder(e)}getConnectMethodsOrder(){return ll.getConnectOrderMethod(X.state.features,ae.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||j.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&j.removeNetwork(e,n)}},BH=!1,Lse=class extends hKe{async onAuthProviderConnected(e){const n=ni.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await ws.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!n)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const r=n===ne.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,i=X.state.defaultAccountTypes[n],s=En(n),o=e.preferredAccountType||s||i;this.setCaipAddress(r,n);const{signature:a,siwxMessage:c,message:l,...u}=e,d=j.getAccountData(n);this.setUser({...d?.user||{},...u},n),this.setSmartAccountDeployed(!!e.smartAccountDeployed,n),this.setPreferredAccountType(o,n),await Promise.all([this.syncAuthConnectorTheme(this.authProvider),this.syncAccount({address:e.address,chainId:e.chainId,chainNamespace:n})]),this.setLoading(!1,n)}setupAuthConnectorListeners(e){e.onRpcRequest(n=>{go.checkIfRequestExists(n)?go.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Vt.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Vt.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const i=go.checkIfRequestIsSafe(r),s=this.getAddress(),o=j.state.activeCaipNetwork;i||(s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=j.state.activeChain;if(!n)throw new Error("AppKit:onNotConnected - namespace is required");ae.getConnectorId(n)===ne.CONNECTOR_ID.AUTH&&(this.setCaipAddress(null,n),this.setLoading(!1,n))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:n,type:r})=>{const i=j.state.activeChain;if(!i)throw new Error("AppKit:onSetPreferredAccount - namespace is required");n&&this.setPreferredAccountType(r,i)})}async syncAuthConnectorTheme(e){if(!e)return;const n=zn.getSnapshot();await e.syncTheme({themeMode:n.themeMode,themeVariables:n.themeVariables,w3mThemeVariables:R1(n.themeVariables,n.themeMode)})}async syncAuthConnector(e,n){const r=ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),i=n===j.state.activeChain;if(!r)return;this.setLoading(!0,n);const s=e.getLoginEmailUsed();this.setLoading(s,n),s&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername(),c=j.getAccountData(n)?.user||{};this.setUser({...c,username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:l}=await e.isConnected();if(n&&r&&i)if(l&&this.connectionControllerClient?.connectExternal){await e.init(),await this.syncAuthConnectorTheme(e),await this.connectionControllerClient?.connectExternal({id:ne.CONNECTOR_ID.AUTH,info:{name:ne.CONNECTOR_ID.AUTH},type:vn.CONNECTOR_TYPE_AUTH,provider:e,chainId:j.getNetworkData(n)?.caipNetwork?.id,chain:n}),this.setStatus("connected",n);const u=be.getConnectedSocialProvider();u?Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:this.getAddress(),properties:{provider:u,reconnect:!0}}):Ce.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:this.getAddress(),properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0,view:Z.state.view,walletRank:void 0}})}else ae.getConnectorId(n)===ne.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),be.removeConnectedNamespace(n));this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){try{if(!oe.isTelegram())return;const n=be.getTelegramSocialProvider();if(!n||!oe.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;n&&j.setAccountProp("socialProvider",n,e),await this.authProvider?.init();const s=ae.getAuthConnector();n&&s&&(this.setLoading(!0,e),await pe.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),be.setConnectedSocialProvider(n),be.removeTelegramSocialProvider(),Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){if(!ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=this.remoteFeatures?.email,i=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,s=r||i,a=ni.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=Nw.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:Rr.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?Kn.open(Rr.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?Kn.open(Rr.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&Kn.open(Rr.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>ld(l),getCaipNetworks:l=>j.getCaipNetworks(l)}),lu.subscribeOpen(l=>{!l&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const c=e===j.state.activeChain&&X.state.enableReconnect;X.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Te.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const n=j.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(r);if(r===n&&j.getAccountData(r)?.caipAddress)await this.getAdapter(r)?.switchNetwork({caipNetwork:e}),this.setCaipNetwork(e);else{const a=Qn.getProviderId(n)===vn.CONNECTOR_TYPE_AUTH,c=Qn.getProviderId(r),l=c===vn.CONNECTOR_TYPE_AUTH,u=ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&c===void 0||l)&&u)try{j.state.activeChain=e.chainNamespace,i?await this.getAdapter(r)?.switchNetwork({caipNetwork:e}):await this.connectionControllerClient?.connectExternal?.({id:ne.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:vn.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(r)?.switchNetwork({caipNetwork:e})}else c===vn.CONNECTOR_TYPE_WALLET_CONNECT?(j.state.noAdapters||await this.getAdapter(r)?.switchNetwork({caipNetwork:e}),this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r}))}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(n=>{this.createAuthProviderForAdapter(n)}),await this.injectModalUi(),lu.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){const i=`${r}:${n}`;if(this.caipNetworks?.find(a=>a.caipNetworkId===i)?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}const o=ae.getConnectorId(r)===ne.CONNECTOR_ID.AUTH;try{const{name:a,avatar:c}=await this.fetchIdentity({address:e});!a&&o?await this.syncReownName(e,r):(this.setProfileName(a,r),this.setProfileImage(c,r))}catch{n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Qn.getProviderId(e);if(n===vn.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=be.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(oe.isClient()&&!BH)try{const e={...yt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),oe.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!X.state.disableAppend&&!X.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}BH=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!oe.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(fe(()=>Promise.resolve().then(()=>LZe),void 0)),n.email&&r.push(fe(()=>Promise.resolve().then(()=>ZZe),void 0)),n.socials&&r.push(fe(()=>Promise.resolve().then(()=>UGe),void 0)),n.swaps&&n.swaps.length>0&&r.push(fe(()=>Promise.resolve().then(()=>QGe),void 0)),e.send&&r.push(fe(()=>Promise.resolve().then(()=>fYe),void 0)),e.receive&&r.push(fe(()=>Promise.resolve().then(()=>wYe),void 0)),n.onramp&&n.onramp.length>0&&r.push(fe(()=>Promise.resolve().then(()=>nJe),void 0)),n.payWithExchange&&r.push(fe(()=>Promise.resolve().then(()=>lJe),void 0)),n.activity&&r.push(fe(()=>Promise.resolve().then(()=>bJe),void 0)),(e.pay||n.payments)&&r.push(fe(()=>Promise.resolve().then(()=>aXe),void 0)),n.emailCapture&&r.push(fe(()=>Promise.resolve().then(()=>hXe),void 0)),await Promise.all([...r,fe(()=>Promise.resolve().then(()=>MQe),void 0),fe(()=>Promise.resolve().then(()=>set),void 0)])}};const pKe="1.8.14";function fKe(t){return new Lse({...t,sdkVersion:oe.generateSdkVersion(t.adapters??[],"html",pKe)})}const qRt=Object.freeze(Object.defineProperty({__proto__:null,AppKit:Lse,CoreHelperUtil:oe,WcConstantsUtil:G3,createAppKit:fKe},Symbol.toStringTag,{value:"Module"}));function jse(t){let e=[],n,r;function i(a){const c=j.getCaipNetworks(ne.CHAIN.EVM);let l=Number(P1.parseEvmChainId(a));if(!c.some(u=>String(u.id)===String(a))){const u=j.getActiveCaipNetwork(ne.CHAIN.EVM)?.id||c[0]?.id;u&&Number.isInteger(Number(u))&&(l=Number(u))}if(!l)throw new Error("ChainId not found in networks");return l}function s(){return n||(n=Nw.getInstance({projectId:t.options.projectId,chainId:ld()?.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:a=>{a==="iframe_load_failed"?Kn.open(Rr.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):a==="iframe_request_timeout"?Kn.open(Rr.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):a==="unverified_domain"&&Kn.open(Rr.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Rr.EmbeddedWalletAbortController,getActiveCaipNetwork:a=>ld(a),getCaipNetworks:a=>j.getCaipNetworks(a)})),n}async function o(a={}){const c=s();let l=a.chainId;if(a.isReconnecting){const g=P1.parseEvmChainId(c.getLastUsedChainId()||""),m=t.chains?.[0].id;if(l=g||m,!l)throw new Error("ChainId not found in provider")}const u=En("eip155"),{address:d,chainId:h,accounts:p}=await ws.authConnectorAuthenticate({authConnector:c,chainId:l,preferredAccountType:u,socialUri:a.socialUri,chainNamespace:ne.CHAIN.EVM});e=p?.map(g=>g.address)||[d];const f=i(h);return{accounts:e,account:d,chainId:f,chain:{id:f,unsupported:!1}}}return NA(a=>({id:ne.CONNECTOR_ID.AUTH,name:ne.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:ne.CHAIN.EVM,async connect(c={}){if(r){const u=await r;return{accounts:c.withCapabilities?u.accounts.map(d=>({address:d,capabilities:{}})):u.accounts,chainId:u.chainId}}r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,{accounts:c.withCapabilities?l.accounts.map(u=>({address:u,capabilities:{}})):l.accounts,chainId:l.chainId}},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e?.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=Nw.getInstance({projectId:t.options.projectId,chainId:ld()?.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Rr.EmbeddedWalletAbortController,onTimeout:c=>{c==="iframe_load_failed"?Kn.open(Rr.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Kn.open(Rr.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Kn.open(Rr.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:c=>ld(c),getCaipNetworks:c=>j.getCaipNetworks(c)})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return i(l)},async isAuthorized(){const l=j.state.activeChain===ne.CHAIN.EVM;if(ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>ae.getConnectorId(h)===ne.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){try{const l=a.chains.find(p=>p.id===c);if(!l)throw new T1(new Error("chain not found on connector."));const u=await this.getProvider(),d=En("eip155"),h=await u.connect({chainId:c,preferredAccountType:d});return e=h?.accounts?.map(p=>p.address)||[h.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),l}catch(l){throw l instanceof Error?new T1(l):l}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(pd)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}}))}oM.type="walletConnect";function oM(t){const e=t.isNewChainsStale??!0;let n,r,i,s,o,a,c;return NA(l=>({id:"walletConnect",name:"WalletConnect",type:oM.type,provider:t.universalProvider,async setup(){const u=await this.getProvider().catch(()=>null);u&&(s||(s=this.onConnect.bind(this),u.on("connect",s)),a||(a=this.onSessionDelete.bind(this),u.on("session_delete",a)))},async connect({...u}={}){try{const d=j.getCaipNetworks(),h=await this.getProvider();if(!h)throw new wz;o||(o=this.onDisplayUri,h.on("display_uri",o));const p=await this.isChainsStale();h.session&&p&&await h.disconnect();const f=X.state.universalProviderConfigOverride;if(!h.session||p){const C=ap.createNamespaces(d,f);await h.connect({optionalNamespaces:C,..."pairingTopic"in u?{pairingTopic:u.pairingTopic}:{}}),this.setRequestedChainsIds(d.map(I=>Number(I.id)))}const g=await this.getAccounts(),m=await this.getChainId(),b=h.session?.namespaces?.eip155?.chains,y=b?.some(C=>Number(C.split(":")[1])===m);let v=1;y?v=m:b?.[0]&&(v=Number(b[0].split(":")[1])),o&&(h.removeListener("display_uri",o),o=void 0),s&&(h.removeListener("connect",s),s=void 0),r||(r=this.onAccountsChanged.bind(this),h.on("accountsChanged",r)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c)),a||(a=this.onSessionDelete.bind(this),h.on("session_delete",a));const w=f?.defaultChain;return h.setDefaultChain(w??`eip155:${v}`),{accounts:g,chainId:v}}catch(d){throw/(user rejected|connection request reset)/i.test(d?.message)?new gu(d):d}},async disconnect(){const u=await this.getProvider();try{await u?.disconnect()}catch(d){if(!/No matching key/i.test(d.message))throw d}finally{i&&(u?.removeListener("chainChanged",i),i=void 0),c&&(u?.removeListener("disconnect",c),c=void 0),s||(s=this.onConnect.bind(this),u?.on("connect",s)),r&&(u?.removeListener("accountsChanged",r),r=void 0),a&&(u?.removeListener("session_delete",a),a=void 0),this.setRequestedChainsIds([])}},async getAccounts(){const u=await this.getProvider();if(!u?.session?.namespaces)return[];const h=u?.session?.namespaces[ne.CHAIN.EVM]?.accounts?.map(g=>g.split(":")[2])??[],p=new Set;return h.filter(g=>{const m=g?.toLowerCase();return p.has(m)?!1:(p.add(m),!0)})},async getProvider({chainId:u}={}){n||(n=t.universalProvider,n?.events.setMaxListeners(Number.POSITIVE_INFINITY));const d=be.getActiveNamespace(),h=j.getActiveCaipNetwork()?.id;if(u&&h!==u&&d){const p=be.getStoredActiveCaipNetworkId(),g=(d?j.getCaipNetworks(d):[])?.find(m=>m.id===p);g&&g.chainNamespace===ne.CHAIN.EVM&&await this.switchChain?.({chainId:Number(g.id)})}return n},async getChainId(){const u=j.getActiveCaipNetwork(ne.CHAIN.EVM)?.id;if(u)return u;const h=(await this.getProvider()).session?.namespaces[ne.CHAIN.EVM]?.chains?.[0];return j.getCaipNetworks().find(f=>f.id===h)?.id},async isAuthorized(){try{const[u,d]=await Promise.all([this.getAccounts(),this.getProvider()]);return u.length?await this.isChainsStale()&&d.session?(await d.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){const h=await this.getProvider();if(!h)throw new wz;const p=j.getCaipNetworks().find(f=>f.id===d);if(!p)throw new T1(new AS);try{await h.request({method:"wallet_switchEthereumChain",params:[{chainId:rr(d)}]}),p?.caipNetworkId&&h.setDefaultChain(p?.caipNetworkId),l.emitter.emit("change",{chainId:Number(d)});const f=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...f,d]),{...p,id:p.id}}catch(f){const g=f;if(/(?:user rejected)/iu.test(g.message))throw new gu(g);try{let m;u?.blockExplorerUrls?m=u.blockExplorerUrls:m=p.blockExplorers?.default.url?[p.blockExplorers?.default.url]:[];const b=p.rpcUrls?.chainDefault?.http||[],y={blockExplorerUrls:m,chainId:rr(d),chainName:p.name,iconUrls:u?.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:b};await h.request({method:"wallet_addEthereumChain",params:[y]});const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,d]),{...p,id:p.id}}catch(m){throw new gu(m)}}},onAccountsChanged(u){u.length===0?this.onDisconnect():l.emitter.emit("change",{accounts:u.map(d=>pd(d))})},onChainChanged(u){const d=Number(u);l.emitter.emit("change",{chainId:d})},onConnect(u){this.setRequestedChainsIds(j.getCaipNetworks().map(d=>Number(d.id)))},async onDisconnect(u){this.setRequestedChainsIds([]),l.emitter.emit("disconnect");const d=await this.getProvider();r&&(d.removeListener("accountsChanged",r),r=void 0),i&&(d.removeListener("chainChanged",i),i=void 0),c&&(d.removeListener("disconnect",c),c=void 0),a&&(d.removeListener("session_delete",a),a=void 0),s||(s=this.onConnect.bind(this),d.on("connect",s))},onDisplayUri(u){l.emitter.emit("message",{type:"display_uri",data:u})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return n?.session?.namespaces?n?.session?.namespaces[ne.CHAIN.EVM]?.accounts?.map(h=>Number.parseInt(h.split(":")[1]??""))??[]:[]},async getRequestedChainsIds(){const u=await l.storage?.getItem(this.requestedChainsStorageKey)??[];return[...new Set(u)]},async isChainsStale(){if(!e)return!1;const u=l.chains.map(p=>p.id),d=this.getNamespaceChainsIds();if(d.length&&!d.some(p=>u.includes(p)))return!1;const h=await this.getRequestedChainsIds();return!u.every(p=>h.includes(Number(p)))},async setRequestedChainsIds(u){await l.storage?.setItem(this.requestedChainsStorageKey,u)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}const n3=Wn({pendingTransactions:0}),zH={state:n3,subscribeKey(t,e){return ii(n3,t,e)},increase(t){n3[t]+=1},decrease(t){n3[t]-=1},reset(t){n3[t]=0}};async function gKe(t){if(oe.isSafeApp()){const{safe:e}=await fe(async()=>{const{safe:n}=await import("./crypto-viem-CJP2v0S5.js").then(r=>r.kN);return{safe:n}},__vite__mapDeps([0,1,2,3,4,5]));if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function mKe(t){try{const{baseAccount:e}=await fe(async()=>{const{baseAccount:n}=await import("./crypto-viem-CJP2v0S5.js").then(r=>r.kN);return{baseAccount:n}},__vite__mapDeps([0,1,2,3,4,5]));if(e&&!t.some(n=>n.id==="baseAccount"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const wKe={enable:!1,pollingInterval:3e4};class yKe extends Sse{constructor(e){const n=su.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=ne.CHAIN.EVM,this.adapterType=ne.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...wKe,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===ne.CONNECTOR_ID.AUTH){const s=await n.getProvider();if(!s?.user)return{accounts:[]};const{address:o,accounts:a}=s.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>oe.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:i}=X8(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[i])].map(s=>oe.createAccount("eip155",s||"","eoa"))})}checkChainId(){const{chainId:e}=X8(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(i=>i.chainNamespace===ne.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(i=>{const s=e.transports?.[i.id],o=su.getCaipNetworkId(i);s?n[i.id]=su.extendWagmiTransports(i,e.projectId,s):n[i.id]=su.getViemTransport(i,e.projectId,e.customRpcUrls?.[o])}),this.wagmiConfig=hye({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=pye(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),zH.increase("pendingTransactions")}});const e=zH.subscribeKey("pendingTransactions",n=>{n>=ne.LIMITS.PENDING_TRANSACTIONS&&(this.unwatchPendingTransactions?.(),e())})}setupWatchers(){fye(this.wagmiConfig,{onChange:e=>{this.clearConnections(),this.addConnection(...e.map(n=>{const r=this.getCaipNetworks().find(s=>s.id===n.chainId),i=n.connector.id===ne.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(s=>({address:this.toChecksummedAddress(s)})),caipNetwork:r,connectorId:n.connector.id,auth:i?{name:be.getConnectedSocialProvider(),username:be.getConnectedSocialUsername()}:void 0}}))}}),gye(this.wagmiConfig,{onChange:(e,n)=>{if(e.status==="disconnected"&&n.address&&this.emit("disconnect"),e?.chainId&&e?.chainId!==n?.chainId&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"){const r=e.address!==n?.address,i=e.connector.id!==n.connector?.id,s=n.status!=="connected";(r||i||s)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:e.address,chainId:e.chainId,connector:e.connector}))}}})}async addThirdPartyConnectors(){const e=[],{enableCoinbase:n}=X.state||{};if(n!==!1){const i=await mKe(this.wagmiConfig.connectors);i&&e.push(i)}const r=await gKe(this.wagmiConfig.connectors);r&&e.push(r),await Promise.all(e.map(i=>{const s=this.configureInternalConnector(i);return this.addWagmiConnector(s)}))}addWagmiConnectors(){const e=[];X.state.enableInjected!==!1&&e.push(mye({shimDisconnect:!0}));const{features:n,remoteFeatures:r,projectId:i,enableAuthLogger:s}=X.state,o=r?.email??n?.email??!0,a=r?.socials??n?.socials,c=Array.isArray(a)&&a?.length>0;(o||c)&&e.push(jse({chains:this.wagmiChains,options:{projectId:i,enableAuthLogger:s}})),e.forEach(l=>{this.configureInternalConnector(l)})}configureInternalConnector(e){const n=this.wagmiConfig._internal.connectors.setup(e);return this.wagmiConfig._internal.connectors.setState(r=>[...r,n]),n}async handleAccountChanged({address:e,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const i=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:this.toChecksummedAddress(e),chainId:n,connector:{id:r.id,name:Uo.ConnectorNamesMap[r.id]??r.name,imageId:Uo.ConnectorImageIds[r.id],type:Uo.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===ne.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:i,chain:this.namespace,chains:[]}})}async signMessage(e){try{return{signature:await wye(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=X8(this.wagmiConfig),i=this.wagmiChains?.find(a=>a.id===n),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chain:i,type:"legacy",parameters:["nonce"]};await yye(this.wagmiConfig,s);const o=await bye(this.wagmiConfig,s);return await vye(this.wagmiConfig,{hash:o,timeout:25e3}),{hash:o}}async writeContract(e){const{caipNetwork:n,...r}=e,i=Number(P1.caipNetworkIdToNumber(n.caipNetworkId)),s=this.wagmiChains?.find(a=>a.id===i);return{hash:await Eye(this.wagmiConfig,{chain:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await Cye(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return _ye(e.value,e.decimals)}formatUnits(e){return TA(e.value,e.decimals)}async addWagmiConnector(e){if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");const{enableEIP6963:n}=X.state||{};if(e.type===ne.CONNECTOR_ID.INJECTED&&n===!1||e.id===ne.CONNECTOR_ID.AUTH||e.id===ne.CONNECTOR_ID.WALLET_CONNECT)return;let r;e.id!==ne.CONNECTOR_ID.BASE_ACCOUNT&&(r=await e.getProvider().catch(()=>{}));const i=lr.state.connectorImages;this.addConnector({id:e.id,explorerId:Uo.ConnectorExplorerIds[e.id],imageUrl:i?.[e.id]??e.icon,name:Uo.ConnectorNamesMap[e.id]??e.name,imageId:Uo.ConnectorImageIds[e.id],type:Uo.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===ne.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(){Iye(this.wagmiConfig,{onChange:e=>{e.forEach(n=>this.addWagmiConnector(n))}}),this.addWagmiConnectors(),await Promise.all(this.wagmiConfig.connectors.map(e=>this.addWagmiConnector(e))),await this.addThirdPartyConnectors()}async syncConnections(){const e=this.connectors.filter(n=>{const{hasDisconnected:r,hasConnected:i}=ni.getConnectorStorageInfo(n.id,this.namespace);return!r&&i}).map(n=>this.getWagmiConnector(n.id)).filter(Boolean);await Q8(this.wagmiConfig,{connectors:e})}async syncConnection(e){const{id:n,chainId:r}=e,s=Xp(this.wagmiConfig).find(l=>l.connector.id===n),a=await this.getWagmiConnector(n)?.getProvider();if(oe.isSafeApp()&&n===ne.CONNECTOR_ID.SAFE&&!s?.accounts.length){const l=this.getWagmiConnector("safe");if(l){const u=await e$(this.wagmiConfig,{connector:l,chainId:Number(r)}),d=await l.getProvider();return{chainId:Number(r),address:this.toChecksummedAddress(u.accounts[0]),provider:d,type:s?.connector.type?.toUpperCase(),id:s?.connector.id}}}return{chainId:Number(s?.chainId),address:this.toChecksummedAddress(s?.accounts[0]),provider:a,type:s?.connector.type?.toUpperCase(),id:s?.connector.id}}async connectWalletConnect(e){try{const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const i=await e$(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return i.chainId!==Number(e)&&await yz(this.wagmiConfig,{chainId:i.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}catch(n){throw n instanceof gu?new Zb(n):Mo.isUserRejectedRequestError(n)?new Zb(n):n}}async connect(e){try{const{id:n,address:r,provider:i,type:s,info:o,chainId:a,socialUri:c}=e,l=this.getWagmiConnector(n);if(!l)throw new Error("connectionControllerClient:connectExternal - connector is undefined");i&&o&&l.id===ne.CONNECTOR_ID.EIP6963&&l.setEip6963Wallet?.({provider:i,info:o});const u=this.wagmiConfig.state?.connections?.get(l.uid);if(u){await this.wagmiConfig.storage?.setItem("recentConnectorId",l.id);const p=[...u.accounts].sort((f,g)=>ni.isLowerCaseMatch(f,r)?-1:ni.isLowerCaseMatch(g,r)?1:0);return this.wagmiConfig?.setState(f=>({...f,connections:new Map(f.connections).set(l.uid,{accounts:p,chainId:u.chainId,connector:u.connector}),current:l.uid,status:"connected"})),{address:this.toChecksummedAddress(p[0]),chainId:u.chainId,provider:i,type:s,id:n}}const d=await e$(this.wagmiConfig,{connector:l,chainId:a?Number(a):void 0,socialUri:c}),h=i??await l.getProvider();return{address:this.toChecksummedAddress(d.accounts[0]),chainId:d.chainId,provider:h,type:s,id:n}}catch(n){throw n instanceof gu?new Zb(n):Mo.isUserRejectedRequestError(n)?new Zb(n):n}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(e=>({accounts:e.accounts.map(n=>({address:this.toChecksummedAddress(n)})),connectorId:e.connector.id}))}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await Q8(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(i=>i.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const i=`${r.caipNetworkId}:${e.address}`,s=this.balancePromises[i];if(s)return s;const o=be.getNativeBalanceCacheForCaipAddress(i);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[i]=new Promise(async a=>{try{const c=Number(e.chainId),l=await Sye(this.wagmiConfig,{address:e.address,chainId:c,token:e.tokens?.[r.caipNetworkId]?.address});be.updateNativeBalanceCache({caipAddress:i,balance:l.formatted,symbol:l.symbol,timestamp:Date.now()}),a({balance:l.formatted,symbol:l.symbol})}catch(c){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",c),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){return this.getWagmiConnector("walletConnect")?.provider}async disconnect(e){if(e.id){const n=this.getWagmiConnector(e.id),i=Xp(this.wagmiConfig).find(s=>ni.isLowerCaseMatch(s.connector.id,e.id));return await bz(this.wagmiConfig,{connector:n}),X.state.enableReconnect===!1&&this.deleteConnection(e.id),i?{connections:[{accounts:i.accounts.map(s=>({address:this.toChecksummedAddress(s)})),connectorId:i.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const e=Xp(this.wagmiConfig),n=await Promise.allSettled(e.map(async r=>{const i=this.getWagmiConnector(r.connector.id);return i&&await bz(this.wagmiConfig,{connector:i}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(i=>({address:this.toChecksummedAddress(i)})),connectorId:r.connector.id}))}}async switchNetwork(e){const{caipNetwork:n}=e,r=this.wagmiConfig.chains.find(p=>p.id.toString()===n.id.toString());if(!r)throw new Error("connectionControllerClient:switchNetwork - wagmiChain is undefined");const{name:i,nativeCurrency:s,rpcUrls:o,blockExplorers:a,id:c}=r,l=n.rpcUrls?.chainDefault?.http?.[0]??o.default.http[0]??"",u=a?.default.url??n.blockExplorers?.default?.url??"",d=s??n.nativeCurrency,h=i??n.name;await yz(this.wagmiConfig,{chainId:c,addEthereumChainParameter:{chainName:h,nativeCurrency:d,rpcUrls:[l],blockExplorerUrls:[u]}}),await super.switchNetwork(e)}async getCapabilities(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Xp(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Xp(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Xp(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Xp(this.wagmiConfig)[0],i=r?this.getWagmiConnector(r.connector.id):null;if(!i)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setAuthProvider(e){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:ne.CONNECTOR_ID.AUTH,type:"AUTH",name:ne.CONNECTOR_NAMES.AUTH,provider:e,imageId:Uo.ConnectorImageIds[ne.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(e){e.on("connect",()=>{const r=Xp(this.wagmiConfig),i=this.getWagmiConnector("walletConnect");if(i&&!r.find(s=>s.connector.id===i.id)){if(j.state.activeChain==="eip155")return;Q8(this.wagmiConfig,{connectors:[i]})}});const n=oM({universalProvider:e});return this.configureInternalConnector(n),this.addConnector(new xse({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}toChecksummedAddress(e){return xye(e.toLowerCase())}}const FRt=Object.freeze(Object.defineProperty({__proto__:null,WagmiAdapter:yKe,authConnector:jse},Symbol.toStringTag,{value:"Module"}));function Wp(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const bKe=Wp({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),vKe=Wp({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"}),EKe=Wp({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),CKe=Wp({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),_Ke=Wp({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),IKe=Wp({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),SKe=Wp({id:"-239",name:"TON",network:"ton-mainnet",nativeCurrency:{name:"TON",symbol:"TON",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Tonscan",url:"https://tonscan.org"}},testnet:!1,chainNamespace:"ton",caipNetworkId:"ton:-239"}),xKe=Wp({id:"-3",name:"TON Testnet",network:"ton-testnet",nativeCurrency:{name:"TON",symbol:"TON",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Tonscan",url:"https://testnet.tonscan.org"}},testnet:!0,chainNamespace:"ton",caipNetworkId:"ton:-3"}),HRt=Object.freeze(Object.defineProperty({__proto__:null,AVAILABLE_NAMESPACES:eU,abey:Bye,abstract:zye,abstractTestnet:Wye,acala:qye,acria:Fye,adf:Hye,agungTestnet:Vye,aioz:Kye,alephZero:Zye,alephZeroTestnet:Gye,alienx:Yye,alienxHalTestnet:Jye,ancient8:Xye,ancient8Sepolia:Qye,anvil:zee,apeChain:ebe,apexTestnet:tbe,arbitrum:DE,arbitrumGoerli:nbe,arbitrumNova:rbe,arbitrumSepolia:OS,arcTestnet:ibe,arenaz:sbe,areonNetwork:obe,areonNetworkTestnet:abe,areum:cbe,artelaTestnet:lbe,arthera:ube,artheraTestnet:dbe,assetChain:hbe,assetChainTestnet:pbe,astar:fbe,astarZkEVM:gbe,astarZkyoto:mbe,atletaOlympia:wbe,aurora:ybe,auroraTestnet:bbe,auroria:vbe,autheoTestnet:Ebe,avalanche:yee,avalancheFuji:Cbe,b3:_be,b3Sepolia:Ibe,bahamut:Sbe,base:Ww,baseGoerli:kbe,basePreconf:xbe,baseSepolia:jE,baseSepoliaPreconf:$be,basecampTestnet:Abe,beam:Tbe,beamTestnet:Nbe,bearNetworkChainMainnet:Obe,bearNetworkChainTestnet:Pbe,berachain:Dee,berachainBepolia:Uee,berachainTestnet:Rbe,berachainTestnetbArtio:Dbe,bevmMainnet:Ube,bifrost:Mbe,birdlayer:Lbe,bitTorrent:Hbe,bitTorrentTestnet:Vbe,bitcoin:CKe,bitcoinSignet:IKe,bitcoinTestnet:_Ke,bitgert:jbe,bitkub:Bbe,bitkubTestnet:zbe,bitlayer:Wbe,bitlayerTestnet:qbe,bitrock:Fbe,blast:Kbe,blastSepolia:Zbe,bob:Gbe,bobSepolia:Xbe,boba:Ybe,bobaSepolia:Jbe,boolBetaMainnet:Qbe,botanix:e1e,botanixTestnet:t1e,bounceBit:n1e,bounceBitTestnet:r1e,bronos:i1e,bronosTestnet:s1e,bsc:XD,bscGreenfield:o1e,bscTestnet:a1e,bsquared:c1e,bsquaredTestnet:l1e,btr:u1e,btrTestnet:d1e,bxn:h1e,bxnTestnet:p1e,cannon:f1e,canto:g1e,celo:Mee,celoAlfajores:m1e,celoSepolia:w1e,chang:y1e,chiliz:b1e,chips:v1e,citreaTestnet:E1e,classic:C1e,coinbit:_1e,coinex:I1e,confluxESpace:S1e,confluxESpaceTestnet:x1e,coreDao:A1e,coreTestnet1:k1e,coreTestnet2:$1e,corn:T1e,cornTestnet:N1e,crab:O1e,creatorTestnet:P1e,creditCoin3Devnet:R1e,creditCoin3Mainnet:D1e,creditCoin3Testnet:U1e,cronos:M1e,cronosTestnet:L1e,cronoszkEVM:j1e,cronoszkEVMTestnet:B1e,crossbell:z1e,crossfi:W1e,curtis:q1e,cyber:F1e,cyberTestnet:H1e,dailyNetwork:V1e,dailyNetworkTestnet:K1e,darwinia:Z1e,dbkchain:G1e,dchain:Y1e,dchainTestnet:J1e,defichainEvm:X1e,defichainEvmTestnet:Q1e,defineChain:Wp,degen:eve,dfk:tve,diode:nve,disChain:rve,dodochainTestnet:ive,dogechain:sve,domaTestnet:ove,donatuz:ave,dosChain:cve,dosChainTestnet:lve,dreyerxMainnet:uve,dreyerxTestnet:dve,dustboyIoT:hve,dymension:pve,edexa:fve,edexaTestnet:gve,edgeless:mve,edgelessTestnet:wve,edgeware:yve,edgewareTestnet:bve,eduChain:vve,eduChainTestnet:Eve,ekta:Cve,ektaTestnet:_ve,elastos:Ive,elastosTestnet:Sve,electroneum:xve,electroneumTestnet:Ave,elysiumTestnet:kve,energy:$ve,eni:Tve,eniTestnet:Nve,enuls:Ove,eon:Pve,eos:Rve,eosTestnet:Dve,eteria:Uve,etherlink:Mve,etherlinkShadownetTestnet:Lve,etherlinkTestnet:jve,ethernity:Bve,etp:zve,evmos:Wve,evmosTestnet:qve,excelonMainnet:Fve,expanse:Hve,exsat:Vve,exsatTestnet:Kve,fantom:Zve,fantomSonicTestnet:Gve,fantomTestnet:Yve,fibo:Jve,filecoin:Xve,filecoinCalibration:Qve,filecoinHyperspace:e2e,fireChain:jye,flame:t2e,flare:n2e,flareTestnet:r2e,flowMainnet:i2e,flowPreviewnet:s2e,flowTestnet:o2e,fluence:a2e,fluenceStage:c2e,fluenceTestnet:l2e,fluentTestnet:u2e,form:d2e,formTestnet:p2e,forma:h2e,formicarium:rCe,forta:f2e,foundry:g2e,fraxtal:m2e,fraxtalTestnet:w2e,funkiMainnet:y2e,funkiSepolia:b2e,fuse:v2e,fuseSparknet:E2e,fusion:C2e,fusionTestnet:_2e,garnet:I2e,gatechain:S2e,geist:x2e,genesys:A2e,giwaSepolia:k2e,glideL1Protocol:$2e,glideL2Protocol:T2e,gnosis:Lee,gnosisChiado:N2e,goChain:R2e,goat:O2e,gobi:P2e,godwoken:D2e,goerli:U2e,graphite:M2e,graphiteTestnet:L2e,gravity:j2e,gunz:B2e,guruNetwork:z2e,guruTestnet:W2e,ham:q2e,happychainTestnet:F2e,haqqMainnet:H2e,haqqTestedge2:V2e,hardhat:K2e,harmonyOne:Z2e,hashkey:G2e,hashkeyTestnet:Y2e,haustTestnet:J2e,hedera:X2e,hederaPreviewnet:Q2e,hederaTestnet:e3e,hela:t3e,heliosTestnet:n3e,hemi:r3e,hemiSepolia:i3e,holesky:s3e,hoodi:jee,hpb:o3e,huddle01Mainnet:a3e,huddle01Testnet:c3e,humanity:l3e,humanityTestnet:u3e,humanode:d3e,humanodeTestnet5:h3e,hychain:p3e,hychainTestnet:f3e,hyperEvm:vz,hyperliquid:vz,hyperliquidEvmTestnet:g3e,iSunCoin:N3e,icbNetwork:m3e,idchain:w3e,immutableZkEvm:y3e,immutableZkEvmTestnet:b3e,inEVM:v3e,initVerse:E3e,initVerseGenesis:C3e,injective:_3e,injectiveTestnet:I3e,ink:S3e,inkSepolia:x3e,iota:A3e,iotaTestnet:k3e,iotex:$3e,iotexTestnet:T3e,jasmyChain:O3e,jasmyChainTestnet:P3e,jbc:R3e,jbcTestnet:D3e,jocMainnet:U3e,jocTestnet:M3e,jovay:L3e,jovaySepolia:j3e,juneo:B3e,juneoBCH1Chain:z3e,juneoDAI1Chain:W3e,juneoDOGE1Chain:q3e,juneoEUR1Chain:F3e,juneoGLD1Chain:H3e,juneoLINK1Chain:V3e,juneoLTC1Chain:K3e,juneoSGD1Chain:G3e,juneoSocotraTestnet:Y3e,juneoUSD1Chain:J3e,juneoUSDT1Chain:X3e,juneomBTC1Chain:Z3e,kaia:Q3e,kairos:eEe,kakarotSepolia:tEe,kakarotStarknetSepolia:nEe,kardiaChain:rEe,karura:iEe,katana:Bee,kava:sEe,kavaTestnet:oEe,kcc:aEe,kiiTestnetOro:cEe,kinto:lEe,klaytn:uEe,klaytnBaobab:dEe,koi:hEe,kroma:pEe,kromaSepolia:fEe,l3x:gEe,l3xTestnet:mEe,lavita:wEe,lens:yEe,lensTestnet:bEe,lestnet:vEe,lightlinkPegasus:EEe,lightlinkPhoenix:CEe,linea:_Ee,lineaGoerli:IEe,lineaSepolia:SEe,lineaTestnet:xEe,lisk:AEe,liskSepolia:kEe,loadAlphanet:$Ee,localhost:TEe,loop:NEe,lukso:OEe,luksoTestnet:PEe,lumiaMainnet:REe,lumiaTestnet:DEe,lumoz:UEe,lumozTestnet:MEe,lycan:LEe,lyra:jEe,mainnet:ME,mandala:BEe,manta:zEe,mantaSepoliaTestnet:WEe,mantaTestnet:qEe,mantle:FEe,mantleSepoliaTestnet:HEe,mantleTestnet:VEe,mantraDuKongEVMTestnet:KEe,mantraEVM:ZEe,mapProtocol:GEe,matchain:YEe,matchainTestnet:JEe,mchVerse:XEe,megaethTestnet:QEe,mekong:eCe,meld:tCe,memecore:nCe,merlin:iCe,merlinErigonTestnet:sCe,metachain:oCe,metachainIstanbul:aCe,metadium:cCe,metalL2:lCe,meter:uCe,meterTestnet:dCe,metis:hCe,metisGoerli:pCe,metisSepolia:fCe,mev:gCe,mevTestnet:mCe,mint:wCe,mintSepoliaTestnet:yCe,mitosisTestnet:bCe,mode:vCe,modeTestnet:ECe,monad:CCe,monadTestnet:_Ce,moonbaseAlpha:ICe,moonbeam:SCe,moonbeamDev:xCe,moonriver:ACe,morph:kCe,morphHolesky:$Ce,morphSepolia:TCe,nahmii:NCe,nautilus:OCe,near:PCe,nearTestnet:RCe,neonDevnet:DCe,neonMainnet:UCe,neoxMainnet:MCe,neoxT4:LCe,newton:jCe,nexi:BCe,nexilix:zCe,nibiru:WCe,nitrographTestnet:qCe,nomina:FCe,oasisTestnet:HCe,oasys:VCe,odysseyTestnet:KCe,okc:ZCe,omax:GCe,omni:YCe,omniOmega:JCe,oneWorld:XCe,oortMainnetDev:QCe,opBNB:e_e,opBNBTestnet:t_e,openledger:n_e,optimism:LE,optimismGoerli:r_e,optimismSepolia:zE,optopia:i_e,optopiaTestnet:s_e,orderly:o_e,orderlySepolia:a_e,otimDevnet:c_e,palm:l_e,palmTestnet:u_e,peaq:d_e,pgn:h_e,pgnTestnet:p_e,phoenix:f_e,planq:g_e,plasma:m_e,plasmaDevnet:w_e,plasmaTestnet:y_e,playfiAlbireo:b_e,plinga:v_e,plume:E_e,plumeDevnet:C_e,plumeMainnet:__e,plumeSepolia:I_e,plumeTestnet:S_e,polterTestnet:x_e,polygon:UE,polygonAmoy:pP,polygonMumbai:A_e,polygonZkEvm:k_e,polygonZkEvmCardona:$_e,polygonZkEvmTestnet:T_e,polynomial:N_e,polynomialSepolia:O_e,potos:P_e,potosTestnet:R_e,premiumBlockTestnet:D_e,pulsechain:U_e,pulsechainV4:M_e,pumpfiTestnet:L_e,pyrope:j_e,qMainnet:z_e,qTestnet:W_e,ql1:B_e,quai:q_e,quaiTestnet:F_e,reactiveTestnet:H_e,real:V_e,redbellyMainnet:K_e,redbellyTestnet:Z_e,reddio:G_e,reddioSepolia:Y_e,redstone:J_e,rei:X_e,reyaNetwork:Q_e,riseTestnet:e4e,rivalz:t4e,rollux:n4e,rolluxTestnet:r4e,ronin:i4e,root:s4e,rootPorcini:o4e,rootstock:a4e,rootstockTestnet:c4e,rss3:l4e,rss3Sepolia:u4e,saakuru:d4e,saga:h4e,saigon:p4e,sanko:f4e,sapphire:g4e,sapphireTestnet:m4e,satoshiVM:w4e,satoshiVMTestnet:y4e,scroll:b4e,scrollSepolia:v4e,sei:E4e,seiDevnet:C4e,seiTestnet:I4e,seismicDevnet:_4e,sepolia:BE,shape:S4e,shapeSepolia:x4e,shardeum:A4e,shardeumSphinx:k4e,shibarium:$4e,shibariumTestnet:T4e,shiden:N4e,shimmer:O4e,shimmerTestnet:P4e,sidraChain:R4e,silentData:D4e,silicon:U4e,siliconSepolia:M4e,sixProtocol:L4e,skaleBlockBrawlers:j4e,skaleCalypso:B4e,skaleCalypsoTestnet:z4e,skaleCryptoBlades:W4e,skaleCryptoColosseum:q4e,skaleEuropa:F4e,skaleEuropaTestnet:H4e,skaleExorde:V4e,skaleHumanProtocol:K4e,skaleNebula:Z4e,skaleNebulaTestnet:G4e,skaleRazor:Y4e,skaleTitan:J4e,skaleTitanTestnet:X4e,sketchpad:Q4e,snax:e5e,snaxTestnet:t5e,solana:bKe,solanaDevnet:vKe,solanaTestnet:EKe,somniaTestnet:n5e,soneium:r5e,soneiumMinato:i5e,songbird:s5e,songbirdTestnet:o5e,sonic:a5e,sonicBlazeTestnet:c5e,sonicTestnet:l5e,sophon:u5e,sophonTestnet:d5e,sova:h5e,sovaSepolia:p5e,spicy:f5e,statusNetworkSepolia:Ez,statusSepolia:Ez,step:g5e,story:m5e,storyAeneid:w5e,storyOdyssey:y5e,storyTestnet:b5e,stratis:v5e,superlumio:E5e,superposition:C5e,superseed:_5e,superseedSepolia:I5e,surgeTestnet:S5e,swan:x5e,swanProximaTestnet:A5e,swanSaturnTestnet:k5e,swellchain:$5e,swellchainTestnet:T5e,swissdlt:N5e,syscoin:O5e,syscoinTestnet:P5e,tac:R5e,tacSPB:D5e,taiko:U5e,taikoHekla:M5e,taikoJolnir:L5e,taikoKatla:j5e,taikoTestnetSepolia:B5e,taraxa:z5e,taraxaTestnet:W5e,teaSepolia:q5e,telcoinTestnet:F5e,telos:H5e,telosTestnet:V5e,tenet:K5e,ternoa:Z5e,thaiChain:G5e,that:Y5e,theta:J5e,thetaTestnet:X5e,thunderCore:Q5e,thunderTestnet:eIe,tiktrixTestnet:tIe,tomb:nIe,ton:SKe,tonTestnet:xKe,treasure:rIe,treasureTopaz:iIe,tron:sIe,tronNile:oIe,tronShasta:aIe,ubiq:cIe,ultra:lIe,ultraTestnet:uIe,ultron:dIe,ultronTestnet:hIe,unichain:pIe,unichainSepolia:fIe,unique:gIe,uniqueOpal:mIe,uniqueQuartz:wIe,unreal:yIe,vana:bIe,vanaMoksha:vIe,vanar:EIe,vechain:CIe,velas:_Ie,viction:IIe,victionTestnet:SIe,vision:xIe,visionTestnet:AIe,wanchain:kIe,wanchainTestnet:$Ie,weaveVMAlphanet:TIe,wemix:NIe,wemixTestnet:OIe,westendAssetHub:PIe,whitechain:RIe,whitechainTestnet:DIe,wmcTestnet:UIe,worldLand:jIe,worldchain:MIe,worldchainSepolia:LIe,x1Testnet:Cz,xLayer:FIe,xLayerTestnet:Cz,xai:BIe,xaiTestnet:zIe,xdc:WIe,xdcTestnet:qIe,xoneMainnet:HIe,xoneTestnet:VIe,xphereMainnet:KIe,xphereTestnet:ZIe,xrOne:GIe,xrSepolia:XIe,xrplevmDevnet:YIe,xrplevmTestnet:JIe,yooldoVerse:QIe,yooldoVerseTestnet:eSe,zenchainTestnet:tSe,zeniq:nSe,zeroG:Dye,zeroGGalileoTestnet:Uye,zeroGMainnet:Mye,zeroGTestnet:Lye,zeroNetwork:rSe,zetachain:iSe,zetachainAthensTestnet:sSe,zhejiang:oSe,zilliqa:aSe,zilliqaTestnet:cSe,zircuit:lSe,zircuitGarfieldTestnet:uSe,zircuitTestnet:dSe,zkFair:hSe,zkFairTestnet:pSe,zkLinkNova:fSe,zkLinkNovaSepoliaTestnet:gSe,zkSync:_z,zkSyncInMemoryNode:Iz,zkSyncLocalNode:Sz,zkSyncSepoliaTestnet:xz,zksync:_z,zksyncInMemoryNode:Iz,zksyncLocalCustomHyperchain:mSe,zksyncLocalHyperchain:wSe,zksyncLocalHyperchainL1:ySe,zksyncLocalNode:Sz,zksyncSepoliaTestnet:xz,zora:bee,zoraSepolia:bSe,zoraTestnet:vSe},Symbol.toStringTag,{value:"Module"}));Bse.type="coinbaseWallet";function Bse(t={}){let e,n,r,i;return NA(s=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Bse.type,async connect({chainId:o,withCapabilities:a,...c}={}){try{const l=await this.getProvider(),u=(await l.request({method:"eth_requestAccounts",params:"instantOnboarding"in c&&c.instantOnboarding?[{onboarding:"instant"}]:[]})).map(h=>pd(h));n||(n=this.onAccountsChanged.bind(this),l.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),l.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),l.on("disconnect",i));let d=await this.getChainId();return o&&d!==o&&(d=(await this.switchChain({chainId:o}).catch(p=>{if(p.code===gu.code)throw p;return{id:d}}))?.id??d),{accounts:a?u.map(h=>({address:h,capabilities:{}})):u,chainId:d}}catch(l){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(l.message)?new gu(l):l}},async disconnect(){const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),i&&(o.removeListener("disconnect",i),i=void 0),o.disconnect(),o.close?.()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>pd(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const{createCoinbaseWalletSDK:o}=await fe(async()=>{const{createCoinbaseWalletSDK:c}=await Promise.resolve().then(()=>Gst);return{createCoinbaseWalletSDK:c}},void 0);e=o({...t,appChainIds:s.chains.map(c=>c.id),preference:{options:"all",...t.preference??{}}}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){const c=s.chains.find(u=>u.id===a);if(!c)throw new T1(new AS);const l=await this.getProvider();try{return await l.request({method:"wallet_switchEthereumChain",params:[{chainId:rr(c.id)}]}),c}catch(u){if(u.code===4902)try{let d;o?.blockExplorerUrls?d=o.blockExplorerUrls:d=c.blockExplorers?.default.url?[c.blockExplorers?.default.url]:[];let h;o?.rpcUrls?.length?h=o.rpcUrls:h=[c.rpcUrls.default?.http[0]??""];const p={blockExplorerUrls:d,chainId:rr(a),chainName:o?.chainName??c.name,iconUrls:o?.iconUrls,nativeCurrency:o?.nativeCurrency??c.nativeCurrency,rpcUrls:h};return await l.request({method:"wallet_addEthereumChain",params:[p]}),c}catch(d){throw new gu(d)}throw new T1(u)}},onAccountsChanged(o){o.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:o.map(a=>pd(a))})},onChainChanged(o){const a=Number(o);s.emitter.emit("change",{chainId:a})},async onDisconnect(o){s.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),i&&(a.removeListener("disconnect",i),i=void 0)}}))}function VRt(t={}){return NA(e=>{const n=e.chains??t.chains??[],r=e.transports?e.transports:t.transports;let i,s,o,a,c;return{async connect({chainId:l=n[0].id,...u}={}){const d="isReconnecting"in u&&u.isReconnecting||!1,h="withCapabilities"in u&&u.withCapabilities||!1;let p=[],f;d&&([p,f]=await Promise.all([this.getAccounts().catch(()=>[]),this.getChainId().catch(()=>{})]),l&&f!==l&&(f=(await this.switchChain({chainId:l}).catch(b=>{if(b.code===gu.code)throw b;return{id:f}}))?.id??f));const g=await this.getProvider();try{if(!p?.length&&!d){const{RpcSchema:m}=await fe(async()=>{const{RpcSchema:v}=await Promise.resolve().then(()=>nG);return{RpcSchema:v}},void 0),{z:b}=await fe(async()=>{const{z:v}=await Promise.resolve().then(()=>ift);return{z:v}},void 0),y=await g.request({method:"wallet_connect",params:[{..."capabilities"in u?{capabilities:b.encode(m.wallet_connect.Capabilities,u.capabilities??{})}:{},chainIds:[rr(l),...n.filter(v=>v.id!==l).map(v=>rr(v.id))]}]});p=y.accounts,f=Number(y.chainIds[0])}if(!f)throw new AS;return a&&(g.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),g.on("chainChanged",o)),c||(c=this.onDisconnect.bind(this),g.on("disconnect",c)),{accounts:p.map(m=>typeof m=="object"?h?m:m.address:h?{address:m,capabilities:{}}:m),chainId:f}}catch(m){const b=m;throw b.code===gu.code?new gu(b):b}},async disconnect(){const l=await this.getProvider();o&&(l.removeListener("chainChanged",o),o=void 0),c&&(l.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),l.on("connect",a)),await l.request({method:"wallet_disconnect"})},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(d=>pd(d))},async getChainId(){const u=await(await this.getProvider()).request({method:"eth_chainId"});return Number(u)},async getPortoInstance(){return i??=(async()=>{const{Porto:l}=await fe(async()=>{const{Porto:u}=await Promise.resolve().then(()=>nG);return{Porto:u}},void 0);return l.create({...t,announceProvider:!1,chains:n,transports:r})})(),await i},async getProvider(){return(await this.getPortoInstance()).provider},icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIyIiBoZWlnaHQ9IjQyMiIgdmlld0JveD0iMCAwIDQyMiA0MjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MjIiIGhlaWdodD0iNDIyIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV8xNSkiPgo8cGF0aCBkPSJNODEgMjg2LjM2NkM4MSAyODAuODkzIDg1LjQ1MDUgMjc2LjQ1NSA5MC45NDA0IDI3Ni40NTVIMzI5LjUxMUMzMzUuMDAxIDI3Ni40NTUgMzM5LjQ1MiAyODAuODkzIDMzOS40NTIgMjg2LjM2NlYzMDYuMTg4QzMzOS40NTIgMzExLjY2MiAzMzUuMDAxIDMxNi4wOTkgMzI5LjUxMSAzMTYuMDk5SDkwLjk0MDRDODUuNDUwNSAzMTYuMDk5IDgxIDMxMS42NjIgODEgMzA2LjE4OFYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAyMzQuODI4Qzg1LjQ1MDUgMjM0LjgyOCA4MSAyMzkuMjY2IDgxIDI0NC43MzlWMjcxLjUzMUM4My44NDMyIDI2OS42MzMgODcuMjYyMiAyNjguNTI2IDkwLjk0MDQgMjY4LjUyNkgzMjkuNTExQzMzMy4xODggMjY4LjUyNiAzMzYuNjA4IDI2OS42MzMgMzM5LjQ1MiAyNzEuNTMxVjI0NC43MzlDMzM5LjQ1MiAyMzkuMjY2IDMzNS4wMDEgMjM0LjgyOCAzMjkuNTExIDIzNC44MjhIOTAuOTQwNFpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgwLjg5MyAzMzUuMDAxIDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTlDODEgMzExLjY2NCA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2NCAzMzkuNDUyIDMwNi4xOVYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAxOTMuMjAxQzg1LjQ1MDUgMTkzLjIwMSA4MSAxOTcuNjM4IDgxIDIwMy4xMTJWMjI5LjkwM0M4My44NDMyIDIyOC4wMDYgODcuMjYyMiAyMjYuODk5IDkwLjk0MDQgMjI2Ljg5OUgzMjkuNTExQzMzMy4xODggMjI2Ljg5OSAzMzYuNjA4IDIyOC4wMDYgMzM5LjQ1MiAyMjkuOTAzVjIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNFpNMzM5LjQ1MiAyNDQuNzM5QzMzOS40NTIgMjM5LjI2NSAzMzUuMDAxIDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNDODEuMjE3NSAyNzEuMzg1IDgxLjQzODMgMjcxLjI0NSA4MS42NjI0IDI3MS4xMDlDODMuODMyNSAyNjkuNzk0IDg2LjMwNTQgMjY4LjkyNyA4OC45NTIzIDI2OC42MzVDODkuNjA1MSAyNjguNTYzIDkwLjI2ODQgMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMzAuMTgzIDI2OC41MjYgMzMwLjg0NiAyNjguNTYzIDMzMS40OTggMjY4LjYzNUMzMzQuNDE5IDI2OC45NTcgMzM3LjEyOCAyNjkuOTggMzM5LjQ1MiAyNzEuNTNWMjQ0LjczOVpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgxLjAyMSAzMzUuMjA2IDI3Ni42NjMgMzI5Ljg5MyAyNzYuNDYyQzMyOS43NjcgMjc2LjQ1NyAzMjkuNjQgMjc2LjQ1NSAzMjkuNTExIDI3Ni40NTVIOTAuOTQwNEM4NS40NTA1IDI3Ni40NTUgODEgMjgwLjg5MyA4MSAyODYuMzY2VjMwNi4xODhDODEgMzExLjY2MiA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2MiAzMzkuNDUyIDMwNi4xODhWMjg2LjM2NloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTguMDE0NiAxMDRDODguNjE3NyAxMDQgODEgMTExLjU5NSA4MSAxMjAuOTY1VjE4OC4yNzZDODMuODQzMiAxODYuMzc5IDg3LjI2MjIgMTg1LjI3MiA5MC45NDA0IDE4NS4yNzJIMzI5LjUxMUMzMzMuMTg4IDE4NS4yNzIgMzM2LjYwOCAxODYuMzc5IDMzOS40NTIgMTg4LjI3NlYxMjAuOTY1QzMzOS40NTIgMTExLjU5NSAzMzEuODMzIDEwNCAzMjIuNDM3IDEwNEg5OC4wMTQ2Wk0zMzkuNDUyIDIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNEM4NS40NTA1IDE5My4yMDEgODEgMTk3LjYzOCA4MSAyMDMuMTEyVjIyOS45MDNDODEuMjE3NSAyMjkuNzU4IDgxLjQzODMgMjI5LjYxOCA4MS42NjI0IDIyOS40ODJDODMuODMyNSAyMjguMTY3IDg2LjMwNTQgMjI3LjMgODguOTUyMyAyMjcuMDA4Qzg5LjYwNTEgMjI2LjkzNiA5MC4yNjg0IDIyNi44OTkgOTAuOTQwNCAyMjYuODk5SDMyOS41MTFDMzMwLjE4MyAyMjYuODk5IDMzMC44NDYgMjI2LjkzNiAzMzEuNDk4IDIyNy4wMDhDMzM0LjQxOSAyMjcuMzMgMzM3LjEyOCAyMjguMzUyIDMzOS40NTIgMjI5LjkwM1YyMDMuMTEyWk0zMzkuNDUyIDI0NC43MzlDMzM5LjQ1MiAyMzkuMzkzIDMzNS4yMDYgMjM1LjAzNiAzMjkuODkzIDIzNC44MzVDMzI5Ljc2NyAyMzQuODMgMzI5LjY0IDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNMODEuMDcwNyAyNzEuNDgzQzgxLjI2NTMgMjcxLjM1NSA4MS40NjI1IDI3MS4yMyA4MS42NjI0IDI3MS4xMDlDODEuOTA4MyAyNzAuOTYgODIuMTU4MSAyNzAuODE3IDgyLjQxMTcgMjcwLjY3OUM4NC4zOTUzIDI2OS42MDUgODYuNjA1NCAyNjguODk0IDg4Ljk1MjMgMjY4LjYzNUM4OS4wMDUyIDI2OC42MjkgODkuMDU4IDI2OC42MjQgODkuMTExIDI2OC42MThDODkuNzEyNSAyNjguNTU3IDkwLjMyMjggMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMjkuNzM4IDI2OC41MjYgMzI5Ljk2NSAyNjguNTMgMzMwLjE5MiAyNjguNTM5QzMzMC42MzEgMjY4LjU1NSAzMzEuMDY3IDI2OC41ODcgMzMxLjQ5OCAyNjguNjM1QzMzNC40MTkgMjY4Ljk1NyAzMzcuMTI4IDI2OS45OCAzMzkuNDUyIDI3MS41M1YyNDQuNzM5Wk0zMzkuNDUyIDI4Ni4zNjZDMzM5LjQ1MiAyODEuMDIxIDMzNS4yMDYgMjc2LjY2MyAzMjkuODkzIDI3Ni40NjJMMzI5Ljg2NSAyNzYuNDYxQzMyOS43NDggMjc2LjQ1NyAzMjkuNjI5IDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTg4QzgxIDMxMS42NjIgODUuNDUwNSAzMTYuMTAxIDkwLjk0MDQgMzE2LjEwMUgzMjkuNTExQzMzNS4wMDEgMzE2LjEwMSAzMzkuNDUyIDMxMS42NjIgMzM5LjQ1MiAzMDYuMTg4VjI4Ni4zNjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjY5Ljg2OCAxMzEuNzUyQzI2OS44NjggMTI2LjI3OCAyNzQuMzE4IDEyMS44NCAyNzkuODA4IDEyMS44NEgzMTEuNjE4QzMxNy4xMDggMTIxLjg0IDMyMS41NTggMTI2LjI3OCAzMjEuNTU4IDEzMS43NTJWMTYxLjQ4NUMzMjEuNTU4IDE2Ni45NTkgMzE3LjEwOCAxNzEuMzk2IDMxMS42MTggMTcxLjM5NkgyNzkuODA4QzI3NC4zMTggMTcxLjM5NiAyNjkuODY4IDE2Ni45NTkgMjY5Ljg2OCAxNjEuNDg1VjEzMS43NTJaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzFfMTUiPgo8cmVjdCB3aWR0aD0iMjU5IiBoZWlnaHQ9IjIxMyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgxIDEwNCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",id:"xyz.ithaca.porto",async isAuthorized(){try{return!!(await Aye(()=>this.getAccounts())).length}catch{return!1}},name:"Porto",async onAccountsChanged(l){e.emitter.emit("change",{accounts:l.map(u=>pd(u))})},onChainChanged(l){const u=Number(l);e.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);e.emitter.emit("connect",{accounts:u,chainId:d});const h=await this.getProvider();h&&(a&&(h.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c)))},async onDisconnect(l){const u=await this.getProvider();e.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),c&&(u.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a)))},async setup(){if(!a){const l=await this.getProvider();a=this.onConnect.bind(this),l.on("connect",a)}},async switchChain({chainId:l}){const u=n.find(h=>h.id===l);if(!u)throw new T1(new AS);return await(await this.getProvider()).request({method:"wallet_switchEthereumChain",params:[{chainId:rr(l)}]}),u},type:"injected"}})}class zse{constructor(e){this.getNonce=e.getNonce}async createMessage(e){const n={accountAddress:e.accountAddress,chainId:e.chainId,version:"1",domain:typeof document>"u"?"Unknown Domain":document.location.host,uri:typeof document>"u"?"Unknown URI":document.location.href,resources:this.resources,nonce:await this.getNonce(e),issuedAt:this.stringifyDate(new Date),statement:void 0,expirationTime:void 0,notBefore:void 0};return Object.assign(n,{toString:()=>this.stringify(n)})}stringify(e){const n=this.getNetworkName(e.chainId);return[`${e.domain} wants you to sign in with your ${n} account:`,e.accountAddress,e.statement?`
${e.statement}
`:"",`URI: ${e.uri}`,`Version: ${e.version}`,`Chain ID: ${e.chainId}`,`Nonce: ${e.nonce}`,e.issuedAt&&`Issued At: ${e.issuedAt}`,e.expirationTime&&`Expiration Time: ${e.expirationTime}`,e.notBefore&&`Not Before: ${e.notBefore}`,e.requestId&&`Request ID: ${e.requestId}`,e.resources?.length&&e.resources.reduce((r,i)=>`${r}
- ${i}`,"Resources:")].filter(r=>typeof r=="string").join(`
`).trim()}getNetworkName(e){const n=j.getAllRequestedCaipNetworks();return P1.getNetworkNameByCaipNetworkId(n,e)}stringifyDate(e){return e.toISOString()}}class bx{constructor(e={}){this.otpUuid=null,this.listeners={sessionChanged:[]},this.localAuthStorageKey=e.localAuthStorageKey||ft.SIWX_AUTH_TOKEN,this.localNonceStorageKey=e.localNonceStorageKey||ft.SIWX_NONCE_TOKEN,this.required=e.required??!0,this.messenger=new zse({getNonce:this.getNonce.bind(this)})}async createMessage(e){return this.messenger.createMessage(e)}async addSession(e){const n=await this.request({method:"POST",key:"authenticate",body:{data:e.data,message:e.message,signature:e.signature,clientId:this.getClientId(),walletInfo:this.getWalletInfo()},headers:["nonce","otp"]});this.setStorageToken(n.token,this.localAuthStorageKey),this.emit("sessionChanged",e),this.setAppKitAccountUser(AKe(n.token)),this.otpUuid=null}async getSessions(e,n){try{if(!this.getStorageToken(this.localAuthStorageKey))return[];const r=await this.request({method:"GET",key:"me",query:{},headers:["auth"]});if(!r)return[];const i=r.address.toLowerCase()===n.toLowerCase(),s=r.caip2Network===e;if(!i||!s)return[];const o={data:{accountAddress:r.address,chainId:r.caip2Network},message:"",signature:""};return this.emit("sessionChanged",o),this.setAppKitAccountUser(r),[o]}catch{return[]}}async revokeSession(e,n){return Promise.resolve(this.clearStorageTokens())}async setSessions(e){if(e.length===0)this.clearStorageTokens();else{const n=e.find(r=>r.data.chainId===ld()?.caipNetworkId)||e[0];await this.addSession(n)}}getRequired(){return this.required}async getSessionAccount(){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"GET",key:"me",body:void 0,query:{includeAppKitAccount:!0},headers:["auth"]})}async setSessionAccountMetadata(e=null){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"PUT",key:"account-metadata",body:{metadata:e},headers:["auth"]})}on(e,n){return this.listeners[e].push(n),()=>{this.listeners[e]=this.listeners[e].filter(r=>r!==n)}}removeAllListeners(){Object.keys(this.listeners).forEach(n=>{this.listeners[n]=[]})}async requestEmailOtp({email:e,account:n}){const r=await this.request({method:"POST",key:"otp",body:{email:e,account:n}});return this.otpUuid=r.uuid,this.messenger.resources=[`email:${e}`],r}confirmEmailOtp({code:e}){return this.request({method:"PUT",key:"otp",body:{code:e},headers:["otp"]})}async request({method:e,key:n,query:r,body:i,headers:s}){const{projectId:o,st:a,sv:c}=this.getSDKProperties(),l=new URL(`${ne.W3M_API_URL}/auth/v1/${String(n)}`);l.searchParams.set("projectId",o),l.searchParams.set("st",a),l.searchParams.set("sv",c),r&&Object.entries(r).forEach(([d,h])=>l.searchParams.set(d,String(h)));const u=await fetch(l,{method:e,body:i?JSON.stringify(i):void 0,headers:Array.isArray(s)?s.reduce((d,h)=>{switch(h){case"nonce":d["x-nonce-jwt"]=`Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;break;case"auth":d.Authorization=`Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;break;case"otp":this.otpUuid&&(d["x-otp"]=this.otpUuid);break}return d},{}):void 0});if(!u.ok)throw new Error(await u.text());return u.headers.get("content-type")?.includes("application/json")?u.json():null}getStorageToken(e){return at.getItem(e)}setStorageToken(e,n){at.setItem(n,e)}clearStorageTokens(){this.otpUuid=null,at.removeItem(this.localAuthStorageKey),at.removeItem(this.localNonceStorageKey),this.emit("sessionChanged",void 0)}async getNonce(){const{nonce:e,token:n}=await this.request({method:"GET",key:"nonce"});return this.setStorageToken(n,this.localNonceStorageKey),e}getClientId(){return Et.state.clientId}getWalletInfo(){const e=j.getAccountData()?.connectedWalletInfo;if(!e)return;if("social"in e&&"identifier"in e){const s=e.social,o=e.identifier;return{type:"social",social:s,identifier:o}}const{name:n,icon:r}=e;let i="unknown";switch(e.type){case"EXTERNAL":case"INJECTED":case"ANNOUNCED":i="extension";break;case"WALLET_CONNECT":i="walletconnect";break;default:i="unknown"}return{type:i,name:n,icon:r}}getSDKProperties(){return Te._getSdkProperties()}emit(e,n){this.listeners[e].forEach(r=>r(n))}setAppKitAccountUser(e){const{email:n}=e;n&&Object.values(ne.CHAIN).forEach(r=>{j.setAccountProp("user",{email:n},r)})}}function AKe(t){const e=t.split(".");if(e.length!==3)throw new Error("Invalid token");const n=e[1];if(typeof n!="string")throw new Error("Invalid token");const r=n.replace(/-/gu,"+").replace(/_/gu,"/"),i=r.padEnd(r.length+(4-r.length%4)%4,"=");return JSON.parse(atob(i))}const kKe=Object.freeze(Object.defineProperty({__proto__:null,ReownAuthentication:bx,ReownAuthenticationMessenger:zse},Symbol.toStringTag,{value:"Module"})),$Ke=Be`
  div {
    width: 100%;
  }

  [data-ready='false'] {
    transform: scale(1.05);
  }

  @media (max-width: 430px) {
    [data-ready='false'] {
      transform: translateY(-50px);
    }
  }
`;var Wse=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const PT=600,WH=360,TKe=64;let mC=class extends Q{constructor(){super(),this.bodyObserver=void 0,this.unsubscribe=[],this.iframe=document.getElementById("w3m-iframe"),this.ready=!1,this.unsubscribe.push(Ke.subscribeKey("open",e=>{e||this.onHideIframe()}),Ke.subscribeKey("shake",e=>{e?this.iframe.style.animation="w3m-shake 500ms var(--apkt-easings-ease-out-power-2)":this.iframe.style.animation="none"}))}disconnectedCallback(){this.onHideIframe(),this.unsubscribe.forEach(e=>e()),this.bodyObserver?.unobserve(window.document.body)}async firstUpdated(){await this.syncTheme(),this.iframe.style.display="block";const e=this?.renderRoot?.querySelector("div");this.bodyObserver=new ResizeObserver(n=>{const i=n?.[0]?.contentBoxSize?.[0]?.inlineSize;this.iframe.style.height=`${PT}px`,e.style.height=`${PT}px`,X.state.enableEmbedded?this.updateFrameSizeForEmbeddedMode():i&&i<=430?(this.iframe.style.width="100%",this.iframe.style.left="0px",this.iframe.style.bottom="0px",this.iframe.style.top="unset",this.onShowIframe()):(this.iframe.style.width=`${WH}px`,this.iframe.style.left=`calc(50% - ${WH/2}px)`,this.iframe.style.top=`calc(50% - ${PT/2}px + ${TKe/2}px)`,this.iframe.style.bottom="unset",this.onShowIframe())}),this.bodyObserver.observe(window.document.body)}render(){return $`<div data-ready=${this.ready} id="w3m-frame-container"></div>`}onShowIframe(){const e=window.innerWidth<=430;this.ready=!0,this.iframe.style.animation=e?"w3m-iframe-zoom-in-mobile 200ms var(--apkt-easings-ease-out-power-2)":"w3m-iframe-zoom-in 200ms var(--apkt-easings-ease-out-power-2)"}onHideIframe(){this.iframe.style.display="none",this.iframe.style.animation="w3m-iframe-fade-out 200ms var(--apkt-easings-ease-out-power-2)"}async syncTheme(){const e=ae.getAuthConnector();if(e){const n=zn.getSnapshot().themeMode,r=zn.getSnapshot().themeVariables;await e.provider.syncTheme({themeVariables:r,w3mThemeVariables:R1(r,n)})}}async updateFrameSizeForEmbeddedMode(){const e=this?.renderRoot?.querySelector("div");await new Promise(r=>{setTimeout(r,300)});const n=this.getBoundingClientRect();e.style.width="100%",this.iframe.style.left=`${n.left}px`,this.iframe.style.top=`${n.top}px`,this.iframe.style.width=`${n.width}px`,this.iframe.style.height=`${n.height}px`,this.onShowIframe()}};mC.styles=$Ke;Wse([W()],mC.prototype,"ready",void 0);mC=Wse([ie("w3m-approve-transaction-view")],mC);const NKe=Be`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
    box-sizing: border-box;
  }
`;var Ua=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let bo=class extends Q{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&sn.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&sn.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&sn.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&sn.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&sn.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&sn.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&sn.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&sn.getSpacingStyles(this.margin,3)};
      width: ${this.width};
    `,$`<slot></slot>`}};bo.styles=[st,NKe];Ua([L()],bo.prototype,"flexDirection",void 0);Ua([L()],bo.prototype,"flexWrap",void 0);Ua([L()],bo.prototype,"flexBasis",void 0);Ua([L()],bo.prototype,"flexGrow",void 0);Ua([L()],bo.prototype,"flexShrink",void 0);Ua([L()],bo.prototype,"alignItems",void 0);Ua([L()],bo.prototype,"justifyContent",void 0);Ua([L()],bo.prototype,"columnGap",void 0);Ua([L()],bo.prototype,"rowGap",void 0);Ua([L()],bo.prototype,"gap",void 0);Ua([L()],bo.prototype,"padding",void 0);Ua([L()],bo.prototype,"margin",void 0);Ua([L()],bo.prototype,"width",void 0);bo=Ua([ie("wui-flex")],bo);const qse=Symbol.for(""),OKe=t=>{if(t?.r===qse)return t?._$litStatic$},PKe=t=>({_$litStatic$:t,r:qse}),qH=new Map,RKe=t=>(e,...n)=>{const r=n.length;let i,s;const o=[],a=[];let c,l=0,u=!1;for(;l<r;){for(c=e[l];l<r&&(s=n[l],(i=OKe(s))!==void 0);)c+=i+e[++l],u=!0;l!==r&&a.push(s),o.push(c),l++}if(l===r&&o.push(e[r]),u){const d=o.join("$$lit$$");(e=qH.get(d))===void 0&&(o.raw=o,qH.set(d,e=o)),n=a}return t(e,...n)},FH=RKe($),DKe=ye`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`,UKe=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,MKe=ye`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`,LKe=ye`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`,jKe=ye` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,BKe=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,zKe=ye`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`,WKe=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,qKe=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,FKe=ye`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,HKe=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,VKe=ye`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,KKe=ye` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`,ZKe=ye`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`,GKe=ye`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`,YKe=ye`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,Fse=ye`
  <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">
  <path d="M8.37651 0H1.62309C0.381381 0 -0.405611 1.33944 0.219059 2.42225L4.38701 9.64649C4.659 10.1182 5.3406 10.1182 5.61259 9.64649L9.78139 2.42225C10.4052 1.34117 9.61822 0 8.37736 0H8.37651ZM4.38362 7.48005L3.47591 5.72329L1.2857 1.80606C1.14121 1.55534 1.31968 1.23405 1.62225 1.23405H4.38278V7.4809L4.38362 7.48005ZM8.71221 1.80521L6.52284 5.72414L5.61513 7.48005V1.2332H8.37566C8.67823 1.2332 8.85669 1.55449 8.71221 1.80521Z" fill="black"/>
</svg>
`,JKe=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,XKe=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,QKe=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,eZe=ye`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,tZe=ye`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,nZe=ye`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,rZe=ye`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,HH=ye`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,iZe=Be`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`;var X_=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const sZe={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmark:"ph-check",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",reown:"",solana:"",ton:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:"",wallet:""},oZe={"ph-arrow-circle-down":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.P),[]),"ph-arrow-clockwise":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.a),[]),"ph-arrow-down":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.b),[]),"ph-arrow-left":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.c),[]),"ph-arrow-right":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.d),[]),"ph-arrow-square-out":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.e),[]),"ph-arrows-down-up":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.f),[]),"ph-arrows-left-right":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.g),[]),"ph-arrow-up":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.h),[]),"ph-arrow-up-right":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.i),[]),"ph-arrows-clockwise":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.j),[]),"ph-bank":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.k),[]),"ph-browser":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.l),[]),"ph-caret-down":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.m),[]),"ph-caret-left":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.n),[]),"ph-caret-right":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.o),[]),"ph-caret-up":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.p),[]),"ph-check":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.q),[]),"ph-circle-half":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.r),[]),"ph-clock":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.s),[]),"ph-compass":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.t),[]),"ph-copy":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.u),[]),"ph-credit-card":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.v),[]),"ph-currency-dollar":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.w),[]),"ph-desktop":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.x),[]),"ph-device-mobile":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.y),[]),"ph-dots-three":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.z),[]),"ph-vault":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.A),[]),"ph-envelope":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.B),[]),"ph-funnel-simple":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.C),[]),"ph-globe":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.D),[]),"ph-identification-card":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.E),[]),"ph-image":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.F),[]),"ph-info":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.G),[]),"ph-lightbulb":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.H),[]),"ph-magnifying-glass":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.I),[]),"ph-paper-plane-right":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.J),[]),"ph-plus":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.K),[]),"ph-power":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.L),[]),"ph-puzzle-piece":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.M),[]),"ph-qr-code":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.N),[]),"ph-question":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.O),[]),"ph-question-circle":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.Q),[]),"ph-seal-check":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.R),[]),"ph-sign-out":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.S),[]),"ph-spinner":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.T),[]),"ph-trash":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.U),[]),"ph-user":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.V),[]),"ph-warning":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.W),[]),"ph-warning-circle":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.X),[]),"ph-x":()=>fe(()=>import("./phosphor-icons-CFH6qE4Q.js").then(t=>t.Y),[])},aZe={appStore:DKe,apple:UKe,bitcoin:MKe,chromeStore:LKe,cursor:jKe,discord:BKe,ethereum:zKe,etherscan:WKe,facebook:qKe,farcaster:FKe,github:HKe,google:VKe,playStore:KKe,reown:ZKe,solana:GKe,ton:Fse,telegram:YKe,twitch:JKe,twitter:HH,twitterIcon:XKe,walletConnect:eZe,walletConnectInvert:tZe,walletConnectBrown:rZe,walletConnectLightBrown:nZe,x:HH,wallet:QKe},cZe={"accent-primary":vr.tokens.core.iconAccentPrimary,"accent-certified":vr.tokens.core.iconAccentCertified,default:vr.tokens.theme.iconDefault,success:vr.tokens.core.iconSuccess,error:vr.tokens.core.iconError,warning:vr.tokens.core.iconWarning,inverse:vr.tokens.theme.iconInverse};let Yw=class extends Q{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){const e={xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"};this.style.cssText=`
      --local-width: ${this.size==="inherit"?"inherit":`var(--apkt-spacing-${e[this.size]})`};
      --local-color: ${this.color==="inherit"?"inherit":cZe[this.color]}
    `;const n=sZe[this.name];if(n&&n!==""){const r=oZe[n];r&&r();const i=PKe(n);return FH`<${i} size=${{xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"}[this.size]} weight="${this.weight}"></${i}>`}return aZe[this.name]||FH``}};Yw.styles=[st,iZe];X_([L()],Yw.prototype,"size",void 0);X_([L()],Yw.prototype,"name",void 0);X_([L()],Yw.prototype,"weight",void 0);X_([L()],Yw.prototype,"color",void 0);Yw=X_([ie("wui-icon")],Yw);const le=t=>t??mi,lZe=ve`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:t})=>t[16]};
  }
`;var zd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let gl=class extends Q{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){const e={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return this.style.cssText=`
      --local-width: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      --local-height: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon?$`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?$`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:$`<img src=${le(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};gl.styles=[st,lZe];zd([L()],gl.prototype,"src",void 0);zd([L()],gl.prototype,"logo",void 0);zd([L()],gl.prototype,"icon",void 0);zd([L()],gl.prototype,"iconColor",void 0);zd([L()],gl.prototype,"alt",void 0);zd([L()],gl.prototype,"size",void 0);zd([L({type:Boolean})],gl.prototype,"boxed",void 0);zd([L({type:Boolean})],gl.prototype,"rounded",void 0);zd([L({type:Boolean})],gl.prototype,"fullSize",void 0);gl=zd([ie("wui-image")],gl);const Hse={ATTRIBUTE:1,CHILD:2},aM=t=>(...e)=>({_$litDirective$:t,values:e});let Vse=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};const Q_=aM(class extends Vse{constructor(t){if(super(t),t.type!==Hse.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((r=>r!==""))));for(const r in e)e[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(e)}const n=t.element.classList;for(const r of this.st)r in e||(n.remove(r),this.st.delete(r));for(const r in e){const i=!!e[r];i===this.st.has(r)||this.nt?.has(r)||(i?(n.add(r),this.st.add(r)):(n.remove(r),this.st.delete(r)))}return yp}}),uZe=ve`
  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`;var Qv=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const dZe={primary:vr.tokens.theme.textPrimary,secondary:vr.tokens.theme.textSecondary,tertiary:vr.tokens.theme.textTertiary,invert:vr.tokens.theme.textInvert,error:vr.tokens.core.textError,warning:vr.tokens.core.textWarning,"accent-primary":vr.tokens.core.textAccentPrimary};let Sg=class extends Q{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0,this.display="inline-flex"}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      display: ${this.display};
      --local-align: ${this.align};
      --local-color: ${this.color==="inherit"?"inherit":dZe[this.color??"primary"]};
      `,$`<slot class=${Q_(e)}></slot>`}};Sg.styles=[st,uZe];Qv([L()],Sg.prototype,"variant",void 0);Qv([L()],Sg.prototype,"color",void 0);Qv([L()],Sg.prototype,"align",void 0);Qv([L()],Sg.prototype,"lineClamp",void 0);Qv([L()],Sg.prototype,"display",void 0);Sg=Qv([ie("wui-text")],Sg);const hZe=ve`
  a {
    border: none;
    border-radius: ${({borderRadius:t})=>t[20]};
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: ${({spacing:t})=>t[1]};
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, box-shadow, border;
  }

  /* -- Variants --------------------------------------------------------------- */
  a[data-type='success'] {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
    color: ${({tokens:t})=>t.core.textSuccess};
  }

  a[data-type='error'] {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  a[data-type='warning'] {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
    color: ${({tokens:t})=>t.core.textWarning};
  }

  /* -- Sizes --------------------------------------------------------------- */
  a[data-size='sm'] {
    height: 24px;
  }

  a[data-size='md'] {
    height: 28px;
  }

  a[data-size='lg'] {
    height: 32px;
  }

  a[data-size='sm'] > wui-image,
  a[data-size='sm'] > wui-icon {
    width: 16px;
    height: 16px;
  }

  a[data-size='md'] > wui-image,
  a[data-size='md'] > wui-icon {
    width: 20px;
    height: 20px;
  }

  a[data-size='lg'] > wui-image,
  a[data-size='lg'] > wui-icon {
    width: 24px;
    height: 24px;
  }

  wui-text {
    padding-left: ${({spacing:t})=>t[1]};
    padding-right: ${({spacing:t})=>t[1]};
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t[3]};
    overflow: hidden;
    user-drag: none;
    user-select: none;
    -moz-user-select: none;
    -webkit-user-drag: none;
    -webkit-user-select: none;
    -ms-user-select: none;
  }

  /* -- States --------------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    a[data-type='success']:not(:disabled):hover {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
      box-shadow: 0px 0px 0px 1px ${({tokens:t})=>t.core.borderSuccess};
    }

    a[data-type='error']:not(:disabled):hover {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
      box-shadow: 0px 0px 0px 1px ${({tokens:t})=>t.core.borderError};
    }

    a[data-type='warning']:not(:disabled):hover {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
      box-shadow: 0px 0px 0px 1px ${({tokens:t})=>t.core.borderWarning};
    }
  }

  a[data-type='success']:not(:disabled):focus-visible {
    box-shadow:
      0px 0px 0px 1px ${({tokens:t})=>t.core.backgroundAccentPrimary},
      0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  a[data-type='error']:not(:disabled):focus-visible {
    box-shadow:
      0px 0px 0px 1px ${({tokens:t})=>t.core.backgroundAccentPrimary},
      0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  a[data-type='warning']:not(:disabled):focus-visible {
    box-shadow:
      0px 0px 0px 1px ${({tokens:t})=>t.core.backgroundAccentPrimary},
      0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  a:disabled {
    opacity: 0.5;
  }
`;var uy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const pZe={sm:"md-regular",md:"lg-regular",lg:"lg-regular"},fZe={success:"sealCheck",error:"warning",warning:"exclamationCircle"};let bp=class extends Q{constructor(){super(...arguments),this.type="success",this.size="md",this.imageSrc=void 0,this.disabled=!1,this.href="",this.text=void 0}render(){return $`
      <a
        rel="noreferrer"
        target="_blank"
        href=${this.href}
        class=${this.disabled?"disabled":""}
        data-type=${this.type}
        data-size=${this.size}
      >
        ${this.imageTemplate()}
        <wui-text variant=${pZe[this.size]} color="inherit">${this.text}</wui-text>
      </a>
    `}imageTemplate(){return this.imageSrc?$`<wui-image src=${this.imageSrc} size="inherit"></wui-image>`:$`<wui-icon
      name=${fZe[this.type]}
      weight="fill"
      color="inherit"
      size="inherit"
      class="image-icon"
    ></wui-icon>`}};bp.styles=[st,Jt,hZe];uy([L()],bp.prototype,"type",void 0);uy([L()],bp.prototype,"size",void 0);uy([L()],bp.prototype,"imageSrc",void 0);uy([L({type:Boolean})],bp.prototype,"disabled",void 0);uy([L()],bp.prototype,"href",void 0);uy([L()],bp.prototype,"text",void 0);bp=uy([ie("wui-semantic-chip")],bp);var gZe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let R9=class extends Q{render(){return $`
      <wui-flex flexDirection="column" alignItems="center" gap="5" padding="5">
        <wui-text variant="md-regular" color="primary">Follow the instructions on</wui-text>
        <wui-semantic-chip
          icon="externalLink"
          variant="fill"
          text=${yt.SECURE_SITE_DASHBOARD}
          href=${yt.SECURE_SITE_DASHBOARD}
          imageSrc=${yt.SECURE_SITE_FAVICON}
          data-testid="w3m-secure-website-button"
        >
        </wui-semantic-chip>
        <wui-text variant="sm-regular" color="secondary">
          You will have to reconnect for security reasons
        </wui-text>
      </wui-flex>
    `}};R9=gZe([ie("w3m-upgrade-wallet-view")],R9);var e4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Jw=class extends Q{constructor(){super(...arguments),this.loading=!1,this.switched=!1,this.text="",this.network=j.state.activeCaipNetwork}render(){return $`
      <wui-flex flexDirection="column" gap="2" .padding=${["6","4","3","4"]}>
        ${this.togglePreferredAccountTypeTemplate()} ${this.toggleSmartAccountVersionTemplate()}
      </wui-flex>
    `}toggleSmartAccountVersionTemplate(){return $`
      <w3m-tooltip-trigger text="Changing the smart account version will reload the page">
        <wui-list-item
          icon=${this.isV6()?"arrowTop":"arrowBottom"}
          ?rounded=${!0}
          ?chevron=${!0}
          data-testid="account-toggle-smart-account-version"
          @click=${this.toggleSmartAccountVersion.bind(this)}
        >
          <wui-text variant="lg-regular" color="primary"
            >Force Smart Account Version ${this.isV6()?"7":"6"}</wui-text
          >
        </wui-list-item>
      </w3m-tooltip-trigger>
    `}isV6(){return(hi.get("dapp_smart_account_version")||"v6")==="v6"}toggleSmartAccountVersion(){hi.set("dapp_smart_account_version",this.isV6()?"v7":"v6"),typeof window<"u"&&window?.location?.reload()}togglePreferredAccountTypeTemplate(){const e=this.network?.chainNamespace,n=j.checkIfSmartAccountEnabled(),r=ae.getConnectorId(e);return!ae.getAuthConnector()||r!==ne.CONNECTOR_ID.AUTH||!n?null:(this.switched||(this.text=En(e)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT?"Switch to your EOA":"Switch to your Smart Account"),$`
      <wui-list-item
        icon="swapHorizontal"
        ?rounded=${!0}
        ?chevron=${!0}
        ?loading=${this.loading}
        @click=${this.changePreferredAccountType.bind(this)}
        data-testid="account-toggle-preferred-account-type"
      >
        <wui-text variant="lg-regular" color="primary">${this.text}</wui-text>
      </wui-list-item>
    `)}async changePreferredAccountType(){const e=this.network?.chainNamespace,n=j.checkIfSmartAccountEnabled(),r=En(e)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT||!n?Vt.ACCOUNT_TYPES.EOA:Vt.ACCOUNT_TYPES.SMART_ACCOUNT;ae.getAuthConnector()&&(this.loading=!0,await pe.setPreferredAccountType(r,e),this.text=r===Vt.ACCOUNT_TYPES.SMART_ACCOUNT?"Switch to your EOA":"Switch to your Smart Account",this.switched=!0,Xe.resetSend(),this.loading=!1,this.requestUpdate())}};e4([W()],Jw.prototype,"loading",void 0);e4([W()],Jw.prototype,"switched",void 0);e4([W()],Jw.prototype,"text",void 0);e4([W()],Jw.prototype,"network",void 0);Jw=e4([ie("w3m-smart-account-settings-view")],Jw);const mZe=t=>t===null||typeof t!="object"&&typeof t!="function",wZe=t=>t.strings===void 0;const wE=(t,e)=>{const n=t._$AN;if(n===void 0)return!1;for(const r of n)r._$AO?.(e,!1),wE(r,e);return!0},vx=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while(n?.size===0)},Kse=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),vZe(e)}};function yZe(t){this._$AN!==void 0?(vx(this),this._$AM=t,Kse(this)):this._$AM=t}function bZe(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)wE(r[s],!1),vx(r[s]);else r!=null&&(wE(r,!1),vx(r));else wE(this,t)}const vZe=t=>{t.type==Hse.CHILD&&(t._$AP??=bZe,t._$AQ??=yZe)};let Zse=class extends Vse{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),Kse(this),this.isConnected=e._$AU}_$AO(e,n=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),n&&(wE(this,e),vx(this))}setValue(e){if(wZe(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};const mc=()=>new EZe;let EZe=class{};const RT=new WeakMap,wc=aM(class extends Zse{render(t){return mi}update(t,[e]){const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),mi}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=RT.get(e);n===void 0&&(n=new WeakMap,RT.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?RT.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),CZe=Be`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`;var cM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let wC=class extends Q{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){const e={primary:vr.tokens.theme.textPrimary,secondary:vr.tokens.theme.textSecondary,tertiary:vr.tokens.theme.textTertiary,invert:vr.tokens.theme.textInvert,error:vr.tokens.core.textError,warning:vr.tokens.core.textWarning,"accent-primary":vr.tokens.core.textAccentPrimary};return this.style.cssText=`
      --local-color: ${this.color==="inherit"?"inherit":e[this.color]};
      `,this.dataset.size=this.size,$`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};wC.styles=[st,CZe];cM([L()],wC.prototype,"color",void 0);cM([L()],wC.prototype,"size",void 0);wC=cM([ie("wui-loading-spinner")],wC);const _Ze=ve`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: ${({spacing:t})=>t[1]};
    text-transform: uppercase;
    white-space: nowrap;
  }

  :host([data-variant='accent']) {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  :host([data-variant='info']) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-variant='success']) {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
    color: ${({tokens:t})=>t.core.textSuccess};
  }

  :host([data-variant='warning']) {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
    color: ${({tokens:t})=>t.core.textWarning};
  }

  :host([data-variant='error']) {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  :host([data-variant='certified']) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-size='md']) {
    height: 30px;
    padding: 0 ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-size='sm']) {
    height: 20px;
    padding: 0 ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[1]};
  }
`;var yk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let F1=class extends Q{constructor(){super(...arguments),this.variant="accent",this.size="md",this.icon=void 0}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"md-medium":"sm-medium",n=this.size==="md"?"md":"sm";return $`
      ${this.icon?$`<wui-icon size=${n} name=${this.icon}></wui-icon>`:null}
      <wui-text
        display="inline"
        data-variant=${this.variant}
        variant=${e}
        color="inherit"
      >
        <slot></slot>
      </wui-text>
    `}};F1.styles=[st,_Ze];yk([L()],F1.prototype,"variant",void 0);yk([L()],F1.prototype,"size",void 0);yk([L()],F1.prototype,"icon",void 0);F1=yk([ie("wui-tag")],F1);const IZe=ve`
  :host {
    width: 100%;
  }

  button {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: ${({spacing:t})=>t[4]};
  }

  .name {
    max-width: 75%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      cursor: pointer;
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
      border-radius: ${({borderRadius:t})=>t[6]};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: default;
  }

  button:focus-visible:enabled {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent040};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }
`;var t4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Xw=class extends Q{constructor(){super(...arguments),this.name="",this.registered=!1,this.loading=!1,this.disabled=!1}render(){return $`
      <button ?disabled=${this.disabled}>
        <wui-text class="name" color="primary" variant="md-regular">${this.name}</wui-text>
        ${this.templateRightContent()}
      </button>
    `}templateRightContent(){return this.loading?$`<wui-loading-spinner size="lg" color="primary"></wui-loading-spinner>`:this.registered?$`<wui-tag variant="info" size="sm">Registered</wui-tag>`:$`<wui-tag variant="success" size="sm">Available</wui-tag>`}};Xw.styles=[st,Jt,IZe];t4([L()],Xw.prototype,"name",void 0);t4([L({type:Boolean})],Xw.prototype,"registered",void 0);t4([L({type:Boolean})],Xw.prototype,"loading",void 0);t4([L({type:Boolean})],Xw.prototype,"disabled",void 0);Xw=t4([ie("wui-account-name-suggestion-item")],Xw);const SZe=ve`
  :host {
    position: relative;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    gap: ${({spacing:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.textPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  .wui-input-text-container {
    position: relative;
    display: flex;
  }

  input {
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: inherit;
    background: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[3]} ${({spacing:t})=>t[10]};
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
  }

  input[data-size='lg'] {
    padding: ${({spacing:t})=>t[4]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[4]} ${({spacing:t})=>t[10]};
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    }
  }

  input:disabled {
    cursor: unset;
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
  }

  input::placeholder {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  input:focus:enabled {
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
    box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  div.wui-input-text-container:has(input:disabled) {
    opacity: 0.5;
  }

  wui-icon.wui-input-text-left-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    left: ${({spacing:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  button.wui-input-text-submit-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[3]};
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    border-radius: ${({borderRadius:t})=>t[2]};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button.wui-input-text-submit-button:disabled {
    opacity: 1;
  }

  button.wui-input-text-submit-button.loading wui-icon {
    animation: spin 1s linear infinite;
  }

  button.wui-input-text-submit-button:hover {
    background: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  input:has(+ .wui-input-text-submit-button) {
    padding-right: ${({spacing:t})=>t[12]};
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* -- Keyframes --------------------------------------------------- */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`;var Cl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xa=class extends Q{constructor(){super(...arguments),this.inputElementRef=mc(),this.disabled=!1,this.loading=!1,this.placeholder="",this.type="text",this.value="",this.size="md"}render(){return $` <div class="wui-input-text-container">
        ${this.templateLeftIcon()}
        <input
          data-size=${this.size}
          ${wc(this.inputElementRef)}
          data-testid="wui-input-text"
          type=${this.type}
          enterkeyhint=${le(this.enterKeyHint)}
          ?disabled=${this.disabled}
          placeholder=${this.placeholder}
          @input=${this.dispatchInputChangeEvent.bind(this)}
          @keydown=${this.onKeyDown}
          .value=${this.value||""}
        />
        ${this.templateSubmitButton()}
        <slot class="wui-input-text-slot"></slot>
      </div>
      ${this.templateError()} ${this.templateWarning()}`}templateLeftIcon(){return this.icon?$`<wui-icon
        class="wui-input-text-left-icon"
        size="md"
        data-size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}templateSubmitButton(){return this.onSubmit?$`<button
        class="wui-input-text-submit-button ${this.loading?"loading":""}"
        @click=${this.onSubmit?.bind(this)}
        ?disabled=${this.disabled||this.loading}
      >
        ${this.loading?$`<wui-icon name="spinner" size="md"></wui-icon>`:$`<wui-icon name="chevronRight" size="md"></wui-icon>`}
      </button>`:null}templateError(){return this.errorText?$`<wui-text variant="sm-regular" color="error">${this.errorText}</wui-text>`:null}templateWarning(){return this.warningText?$`<wui-text variant="sm-regular" color="warning">${this.warningText}</wui-text>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};xa.styles=[st,Jt,SZe];Cl([L()],xa.prototype,"icon",void 0);Cl([L({type:Boolean})],xa.prototype,"disabled",void 0);Cl([L({type:Boolean})],xa.prototype,"loading",void 0);Cl([L()],xa.prototype,"placeholder",void 0);Cl([L()],xa.prototype,"type",void 0);Cl([L()],xa.prototype,"value",void 0);Cl([L()],xa.prototype,"errorText",void 0);Cl([L()],xa.prototype,"warningText",void 0);Cl([L()],xa.prototype,"onSubmit",void 0);Cl([L()],xa.prototype,"size",void 0);Cl([L({attribute:!1})],xa.prototype,"onKeyDown",void 0);xa=Cl([ie("wui-input-text")],xa);const xZe=ve`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
  }

  :host([disabled]) {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .base-name {
    position: absolute;
    right: ${({spacing:t})=>t[4]};
    top: 50%;
    transform: translateY(-50%);
    text-align: right;
    padding: ${({spacing:t})=>t[1]};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[1]};
  }
`;var e2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xg=class extends Q{constructor(){super(...arguments),this.disabled=!1,this.loading=!1}render(){return $`
      <wui-input-text
        value=${le(this.value)}
        ?disabled=${this.disabled}
        .value=${this.value||""}
        data-testid="wui-ens-input"
        icon="search"
        inputRightPadding="5xl"
        .onKeyDown=${this.onKeyDown}
      ></wui-input-text>
    `}};xg.styles=[st,xZe];e2([L()],xg.prototype,"errorMessage",void 0);e2([L({type:Boolean})],xg.prototype,"disabled",void 0);e2([L()],xg.prototype,"value",void 0);e2([L({type:Boolean})],xg.prototype,"loading",void 0);e2([L({attribute:!1})],xg.prototype,"onKeyDown",void 0);xg=e2([ie("wui-ens-input")],xg);const AZe=ve`
  button {
    background-color: transparent;
    padding: ${({spacing:t})=>t[1]};
  }

  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button[data-variant='accent']:hover:enabled,
  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='primary']:hover:enabled,
  button[data-variant='primary']:focus-visible,
  button[data-variant='secondary']:hover:enabled,
  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button[data-size='xs'] > wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='xs'],
  button[data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  button[data-size='md'],
  button[data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='md'] > wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] > wui-icon {
    width: 20px;
    height: 20px;
  }

  button:disabled {
    background-color: transparent;
    cursor: not-allowed;
    opacity: 0.5;
  }

  button:hover:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
  }

  button:focus-visible:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
`;var t2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ag=class extends Q{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="default",this.variant="accent"}render(){const e={accent:"accent-primary",primary:"inverse",secondary:"default"};return $`
      <button data-variant=${this.variant} ?disabled=${this.disabled} data-size=${this.size}>
        <wui-icon
          color=${e[this.variant]||this.iconColor}
          size=${this.size}
          name=${this.icon}
        ></wui-icon>
      </button>
    `}};Ag.styles=[st,Jt,AZe];t2([L()],Ag.prototype,"size",void 0);t2([L({type:Boolean})],Ag.prototype,"disabled",void 0);t2([L()],Ag.prototype,"icon",void 0);t2([L()],Ag.prototype,"iconColor",void 0);t2([L()],Ag.prototype,"variant",void 0);Ag=t2([ie("wui-icon-link")],Ag);const bu={getTabsByNamespace(t){return!!t&&t===ne.CHAIN.EVM?X.state.remoteFeatures?.activity===!1?np.ACCOUNT_TABS.filter(n=>n.label!=="Activity"):np.ACCOUNT_TABS:[]},isValidReownName(t){return/^[a-zA-Z0-9]+$/gu.test(t)},isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(t)},validateReownName(t){return t.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,"")},hasFooter(){const t=Z.state.view;if(np.VIEWS_WITH_LEGAL_FOOTER.includes(t)){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state,r=X.state.features?.legalCheckbox;return!(!e&&!n||r)}return np.VIEWS_WITH_DEFAULT_FOOTER.includes(t)}},kZe=ve`
  wui-flex {
    width: 100%;
  }

  .suggestion {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  .suggestion:hover:not(:disabled) {
    cursor: pointer;
    border: none;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[6]};
    padding: ${({spacing:t})=>t[4]};
  }

  .suggestion:disabled {
    opacity: 0.5;
    cursor: default;
  }

  .suggestion:focus-visible:not(:disabled) {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent040};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  .suggested-name {
    max-width: 75%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  form {
    width: 100%;
    position: relative;
  }

  .input-submit-button,
  .input-loading-spinner {
    position: absolute;
    top: 22px;
    transform: translateY(-50%);
    right: 10px;
  }
`;var dy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Id=class extends Q{constructor(){super(),this.formRef=mc(),this.usubscribe=[],this.name="",this.error="",this.loading=nu.state.loading,this.suggestions=nu.state.suggestions,this.profileName=j.getAccountData()?.profileName,this.onDebouncedNameInputChange=oe.debounce(e=>{e.length<4?this.error="Name must be at least 4 characters long":bu.isValidReownName(e)?(this.error="",nu.getSuggestions(e)):this.error="The value is not a valid username"}),this.usubscribe.push(nu.subscribe(e=>{this.suggestions=e.suggestions,this.loading=e.loading}),j.subscribeChainProp("accountState",e=>{this.profileName=e?.profileName,e?.profileName&&(this.error="You already own a name")}))}firstUpdated(){this.formRef.value?.addEventListener("keydown",this.onEnterKey.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.usubscribe.forEach(e=>e()),this.formRef.value?.removeEventListener("keydown",this.onEnterKey.bind(this))}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding=${["1","3","4","3"]}
      >
        <form ${wc(this.formRef)} @submit=${this.onSubmitName.bind(this)}>
          <wui-ens-input
            @inputChange=${this.onNameInputChange.bind(this)}
            .errorMessage=${this.error}
            .value=${this.name}
            .onKeyDown=${this.onKeyDown.bind(this)}
          >
          </wui-ens-input>
          ${this.submitButtonTemplate()}
          <input type="submit" hidden />
        </form>
        ${this.templateSuggestions()}
      </wui-flex>
    `}submitButtonTemplate(){const e=this.suggestions.find(r=>r.name?.split(".")?.[0]===this.name&&r.registered);if(this.loading)return $`<wui-loading-spinner
        class="input-loading-spinner"
        color="secondary"
      ></wui-loading-spinner>`;const n=`${this.name}${ne.WC_NAME_SUFFIX}`;return $`
      <wui-icon-link
        ?disabled=${!!e}
        class="input-submit-button"
        size="sm"
        icon="chevronRight"
        iconColor=${e?"default":"accent-primary"}
        @click=${()=>this.onSubmitName(n)}
      >
      </wui-icon-link>
    `}onNameInputChange(e){const n=bu.validateReownName(e.detail||"");this.name=n,this.onDebouncedNameInputChange(n)}onKeyDown(e){e.key.length===1&&!bu.isValidReownName(e.key)&&e.preventDefault()}templateSuggestions(){return!this.name||this.name.length<4||this.error?null:$`<wui-flex flexDirection="column" gap="1" alignItems="center">
      ${this.suggestions.map(e=>$`<wui-account-name-suggestion-item
            name=${e.name}
            ?registered=${e.registered}
            ?loading=${this.loading}
            ?disabled=${e.registered||this.loading}
            data-testid="account-name-suggestion"
            @click=${()=>this.onSubmitName(e.name)}
          ></wui-account-name-suggestion-item>`)}
    </wui-flex>`}isAllowedToSubmit(e){const n=e.split(".")?.[0],r=this.suggestions.find(i=>i.name?.split(".")?.[0]===n&&i.registered);return!this.loading&&!this.error&&!this.profileName&&n&&nu.validateName(n)&&!r}async onSubmitName(e){try{if(!this.isAllowedToSubmit(e))return;Ce.sendEvent({type:"track",event:"REGISTER_NAME_INITIATED",properties:{isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:e}}),await nu.registerName(e),Ce.sendEvent({type:"track",event:"REGISTER_NAME_SUCCESS",properties:{isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:e}})}catch(n){Ue.showError(n.message),Ce.sendEvent({type:"track",event:"REGISTER_NAME_ERROR",properties:{isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:e,error:oe.parseError(n)}})}}onEnterKey(e){if(e.key==="Enter"&&this.name&&this.isAllowedToSubmit(this.name)){const n=`${this.name}${ne.WC_NAME_SUFFIX}`;this.onSubmitName(n)}}};Id.styles=kZe;dy([L()],Id.prototype,"errorMessage",void 0);dy([W()],Id.prototype,"name",void 0);dy([W()],Id.prototype,"error",void 0);dy([W()],Id.prototype,"loading",void 0);dy([W()],Id.prototype,"suggestions",void 0);dy([W()],Id.prototype,"profileName",void 0);Id=dy([ie("w3m-register-account-name-view")],Id);const $Ze=ve`
  :host {
    width: var(--local-width);
  }

  button {
    width: var(--local-width);
    white-space: nowrap;
    column-gap: ${({spacing:t})=>t[2]};
    transition:
      scale ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: scale, background-color, border-radius;
    cursor: pointer;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[2]};
    padding: 0 ${({spacing:t})=>t[2]};
    height: 28px;
  }

  button[data-size='md'] {
    border-radius: ${({borderRadius:t})=>t[3]};
    padding: 0 ${({spacing:t})=>t[4]};
    height: 38px;
  }

  button[data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: 0 ${({spacing:t})=>t[5]};
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent-primary'] {
    background-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='accent-secondary'] {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button[data-variant='neutral-primary'] {
    background-color: ${({tokens:t})=>t.theme.backgroundInvert};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='neutral-secondary'] {
    background-color: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-variant='neutral-tertiary'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-variant='error-primary'] {
    background-color: ${({tokens:t})=>t.core.textError};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='error-secondary'] {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-size='sm']:focus-visible:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:focus-visible:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:focus-visible:enabled {
    border-radius: 48px;
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button[data-size='sm']:hover:enabled {
      border-radius: 28px;
    }

    button[data-size='md']:hover:enabled {
      border-radius: 38px;
    }

    button[data-size='lg']:hover:enabled {
      border-radius: 48px;
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  button[data-size='sm']:active:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:active:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:active:enabled {
    border-radius: 48px;
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    opacity: 0.3;
  }
`;var hy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const TZe={lg:"lg-regular-mono",md:"md-regular-mono",sm:"sm-regular-mono"},NZe={lg:"md",md:"md",sm:"sm"};let vp=class extends Q{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="accent-primary"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
     `;const e=this.textVariant??TZe[this.size];return $`
      <button data-variant=${this.variant} data-size=${this.size} ?disabled=${this.disabled}>
        ${this.loadingTemplate()}
        <slot name="iconLeft"></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}loadingTemplate(){if(this.loading){const e=NZe[this.size],n=this.variant==="neutral-primary"||this.variant==="accent-primary"?"invert":"primary";return $`<wui-loading-spinner color=${n} size=${e}></wui-loading-spinner>`}return null}};vp.styles=[st,Jt,$Ze];hy([L()],vp.prototype,"size",void 0);hy([L({type:Boolean})],vp.prototype,"disabled",void 0);hy([L({type:Boolean})],vp.prototype,"fullWidth",void 0);hy([L({type:Boolean})],vp.prototype,"loading",void 0);hy([L()],vp.prototype,"variant",void 0);hy([L()],vp.prototype,"textVariant",void 0);vp=hy([ie("wui-button")],vp);const OZe=ve`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({borderRadius:t})=>t[2]};
    padding: ${({spacing:t})=>t[1]} !important;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    position: relative;
  }

  :host([data-padding='2']) {
    padding: ${({spacing:t})=>t[2]} !important;
  }

  :host:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host > wui-icon {
    z-index: 10;
  }

  /* -- Colors --------------------------------------------------- */
  :host([data-color='accent-primary']) {
    color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  :host([data-color='accent-primary']):after {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  :host([data-color='default']),
  :host([data-color='secondary']) {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  :host([data-color='default']):after {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  :host([data-color='secondary']):after {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  :host([data-color='success']) {
    color: ${({tokens:t})=>t.core.iconSuccess};
  }

  :host([data-color='success']):after {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  :host([data-color='error']) {
    color: ${({tokens:t})=>t.core.iconError};
  }

  :host([data-color='error']):after {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  :host([data-color='warning']) {
    color: ${({tokens:t})=>t.core.iconWarning};
  }

  :host([data-color='warning']):after {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
  }

  :host([data-color='inverse']) {
    color: ${({tokens:t})=>t.theme.iconInverse};
  }

  :host([data-color='inverse']):after {
    background-color: transparent;
  }
`;var n4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Qw=class extends Q{constructor(){super(...arguments),this.icon="copy",this.size="md",this.padding="1",this.color="default"}render(){return this.dataset.padding=this.padding,this.dataset.color=this.color,$`
      <wui-icon size=${le(this.size)} name=${this.icon} color="inherit"></wui-icon>
    `}};Qw.styles=[st,Jt,OZe];n4([L()],Qw.prototype,"icon",void 0);n4([L()],Qw.prototype,"size",void 0);n4([L()],Qw.prototype,"padding",void 0);n4([L()],Qw.prototype,"color",void 0);Qw=n4([ie("wui-icon-box")],Qw);const PZe=ve`
  button {
    border: none;
    background: transparent;
    height: 20px;
    padding: ${({spacing:t})=>t[2]};
    column-gap: ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[1]};
    padding: 0 ${({spacing:t})=>t[1]};
    border-radius: ${({spacing:t})=>t[1]};
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent'] {
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button[data-variant='secondary'] {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[data-variant='accent']:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-variant='accent']:hover:enabled {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var r4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const RZe={sm:"sm-medium",md:"md-medium"},DZe={accent:"accent-primary",secondary:"secondary"};let e0=class extends Q{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.variant="accent",this.icon=void 0}render(){return $`
      <button ?disabled=${this.disabled} data-variant=${this.variant}>
        <slot name="iconLeft"></slot>
        <wui-text
          color=${DZe[this.variant]}
          variant=${RZe[this.size]}
        >
          <slot></slot>
        </wui-text>
        ${this.iconTemplate()}
      </button>
    `}iconTemplate(){return this.icon?$`<wui-icon name=${this.icon} size="sm"></wui-icon>`:null}};e0.styles=[st,Jt,PZe];r4([L()],e0.prototype,"size",void 0);r4([L({type:Boolean})],e0.prototype,"disabled",void 0);r4([L()],e0.prototype,"variant",void 0);r4([L()],e0.prototype,"icon",void 0);e0=r4([ie("wui-link")],e0);const UZe=Be`
  .continue-button-container {
    width: 100%;
  }
`;var MZe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ex=class extends Q{render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="6"
        .padding=${["0","0","4","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{oe.openHref(Xee.URLS.FAQ,"_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return $` <wui-flex
      flexDirection="column"
      gap="6"
      alignItems="center"
      .padding=${["0","6","0","6"]}
    >
      <wui-flex gap="3" alignItems="center" justifyContent="center">
        <wui-icon-box size="xl" color="success" icon="checkmark"></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="3">
        <wui-text align="center" variant="md-medium" color="primary">
          Account name chosen successfully
        </wui-text>
        <wui-text align="center" variant="md-regular" color="primary">
          You can now fund your account and trade crypto
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return $`<wui-flex
      .padding=${["0","4","0","4"]}
      gap="3"
      class="continue-button-container"
    >
      <wui-button fullWidth size="lg" borderRadius="xs" @click=${this.redirectToAccount.bind(this)}
        >Let's Go!
      </wui-button>
    </wui-flex>`}redirectToAccount(){Z.replace("Account")}};Ex.styles=UZe;Ex=MZe([ie("w3m-register-account-name-success-view")],Ex);const LZe=Object.freeze(Object.defineProperty({__proto__:null,get W3mApproveTransactionView(){return mC},get W3mRegisterAccountNameSuccess(){return Ex},get W3mRegisterAccountNameView(){return Id},get W3mSmartAccountSettingsView(){return Jw},get W3mUpgradeWalletView(){return R9}},Symbol.toStringTag,{value:"Module"})),jZe=ve`
  :host {
    position: relative;
    display: inline-block;
  }

  input {
    width: 48px;
    height: 48px;
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
    font-family: ${({fontFamily:t})=>t.regular};
    font-size: ${({textSize:t})=>t.large};
    line-height: 18px;
    letter-spacing: -0.16px;
    text-align: center;
    color: ${({tokens:t})=>t.theme.textPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, border-color, box-shadow;
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: ${({spacing:t})=>t[4]};
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  input:focus-visible:enabled {
    background-color: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }
`;var lM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yC=class extends Q{constructor(){super(...arguments),this.disabled=!1,this.value=""}render(){return $`<input
      type="number"
      maxlength="1"
      inputmode="numeric"
      autofocus
      ?disabled=${this.disabled}
      value=${this.value}
    /> `}};yC.styles=[st,Jt,jZe];lM([L({type:Boolean})],yC.prototype,"disabled",void 0);lM([L({type:String})],yC.prototype,"value",void 0);yC=lM([ie("wui-input-numeric")],yC);const BZe=Be`
  :host {
    position: relative;
    display: block;
  }
`;var bk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let H1=class extends Q{constructor(){super(...arguments),this.length=6,this.otp="",this.values=Array.from({length:this.length}).map(()=>""),this.numerics=[],this.shouldInputBeEnabled=e=>this.values.slice(0,e).every(r=>r!==""),this.handleKeyDown=(e,n)=>{const r=e.target,i=this.getInputElement(r),s=["ArrowLeft","ArrowRight","Shift","Delete"];if(!i)return;s.includes(e.key)&&e.preventDefault();const o=i.selectionStart;switch(e.key){case"ArrowLeft":o&&i.setSelectionRange(o+1,o+1),this.focusInputField("prev",n);break;case"ArrowRight":this.focusInputField("next",n);break;case"Shift":this.focusInputField("next",n);break;case"Delete":i.value===""?this.focusInputField("prev",n):this.updateInput(i,n,"");break;case"Backspace":i.value===""?this.focusInputField("prev",n):this.updateInput(i,n,"");break}},this.focusInputField=(e,n)=>{if(e==="next"){const r=n+1;if(!this.shouldInputBeEnabled(r))return;const i=this.numerics[r<this.length?r:n],s=i?this.getInputElement(i):void 0;s&&(s.disabled=!1,s.focus())}if(e==="prev"){const r=n-1,i=this.numerics[r>-1?r:n],s=i?this.getInputElement(i):void 0;s&&s.focus()}}}firstUpdated(){this.otp&&(this.values=this.otp.split(""));const e=this.shadowRoot?.querySelectorAll("wui-input-numeric");e&&(this.numerics=Array.from(e)),this.numerics[0]?.focus()}render(){return $`
      <wui-flex gap="1" data-testid="wui-otp-input">
        ${Array.from({length:this.length}).map((e,n)=>$`
            <wui-input-numeric
              @input=${r=>this.handleInput(r,n)}
              @click=${r=>this.selectInput(r)}
              @keydown=${r=>this.handleKeyDown(r,n)}
              .disabled=${!this.shouldInputBeEnabled(n)}
              .value=${this.values[n]||""}
            >
            </wui-input-numeric>
          `)}
      </wui-flex>
    `}updateInput(e,n,r){const i=this.numerics[n],s=e||(i?this.getInputElement(i):void 0);s&&(s.value=r,this.values=this.values.map((o,a)=>a===n?r:o))}selectInput(e){const n=e.target;n&&this.getInputElement(n)?.select()}handleInput(e,n){const r=e.target,i=this.getInputElement(r);if(i){const s=i.value;e.inputType==="insertFromPaste"?this.handlePaste(i,s,n):sn.isNumber(s)&&e.data?(this.updateInput(i,n,e.data),this.focusInputField("next",n)):this.updateInput(i,n,"")}this.dispatchInputChangeEvent()}handlePaste(e,n,r){const i=n[0];if(i&&sn.isNumber(i)){this.updateInput(e,r,i);const o=n.substring(1);if(r+1<this.length&&o.length){const a=this.numerics[r+1],c=a?this.getInputElement(a):void 0;c&&this.handlePaste(c,o,r+1)}else this.focusInputField("next",r)}else this.updateInput(e,r,"")}getInputElement(e){return e.shadowRoot?.querySelector("input")?e.shadowRoot.querySelector("input"):null}dispatchInputChangeEvent(){const e=this.values.join("");this.dispatchEvent(new CustomEvent("inputChange",{detail:e,bubbles:!0,composed:!0}))}};H1.styles=[st,BZe];bk([L({type:Number})],H1.prototype,"length",void 0);bk([L({type:String})],H1.prototype,"otp",void 0);bk([W()],H1.prototype,"values",void 0);H1=bk([ie("wui-otp")],H1);const zZe=Be`
  wui-loading-spinner {
    margin: 9px auto;
  }

  .email-display,
  .email-display wui-text {
    max-width: 100%;
  }
`;var vk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},D9;let yc=D9=class extends Q{firstUpdated(){this.startOTPTimeout()}disconnectedCallback(){clearTimeout(this.OTPTimeout)}constructor(){super(),this.loading=!1,this.timeoutTimeLeft=go.getTimeToNextEmailLogin(),this.error="",this.otp="",this.email=Z.state.data?.email,this.authConnector=ae.getAuthConnector()}render(){if(!this.email)throw new Error("w3m-email-otp-widget: No email provided");const e=!!this.timeoutTimeLeft,n=this.getFooterLabels(e);return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["4","0","4","0"]}
        gap="4"
      >
        <wui-flex
          class="email-display"
          flexDirection="column"
          alignItems="center"
          .padding=${["0","5","0","5"]}
        >
          <wui-text variant="md-regular" color="primary" align="center">
            Enter the code we sent to
          </wui-text>
          <wui-text variant="md-medium" color="primary" lineClamp="1" align="center">
            ${this.email}
          </wui-text>
        </wui-flex>

        <wui-text variant="sm-regular" color="secondary">The code expires in 20 minutes</wui-text>

        ${this.loading?$`<wui-loading-spinner size="xl" color="accent-primary"></wui-loading-spinner>`:$` <wui-flex flexDirection="column" alignItems="center" gap="2">
              <wui-otp
                dissabled
                length="6"
                @inputChange=${this.onOtpInputChange.bind(this)}
                .otp=${this.otp}
              ></wui-otp>
              ${this.error?$`
                    <wui-text variant="sm-regular" align="center" color="error">
                      ${this.error}. Try Again
                    </wui-text>
                  `:null}
            </wui-flex>`}

        <wui-flex alignItems="center" gap="2">
          <wui-text variant="sm-regular" color="secondary">${n.title}</wui-text>
          <wui-link @click=${this.onResendCode.bind(this)} .disabled=${e}>
            ${n.action}
          </wui-link>
        </wui-flex>
      </wui-flex>
    `}startOTPTimeout(){this.timeoutTimeLeft=go.getTimeToNextEmailLogin(),this.OTPTimeout=setInterval(()=>{this.timeoutTimeLeft>0?this.timeoutTimeLeft=go.getTimeToNextEmailLogin():clearInterval(this.OTPTimeout)},1e3)}async onOtpInputChange(e){try{this.loading||(this.otp=e.detail,this.shouldSubmitOnOtpChange()&&(this.loading=!0,await this.onOtpSubmit?.(this.otp)))}catch(n){this.error=oe.parseError(n),this.loading=!1}}async onResendCode(){try{if(this.onOtpResend){if(!this.loading&&!this.timeoutTimeLeft){if(this.error="",this.otp="",!ae.getAuthConnector()||!this.email)throw new Error("w3m-email-otp-widget: Unable to resend email");this.loading=!0,await this.onOtpResend(this.email),this.startOTPTimeout(),Ue.showSuccess("Code email resent")}}else this.onStartOver&&this.onStartOver()}catch(e){Ue.showError(e)}finally{this.loading=!1}}getFooterLabels(e){return this.onStartOver?{title:"Something wrong?",action:`Try again ${e?`in ${this.timeoutTimeLeft}s`:""}`}:{title:"Didn't receive it?",action:`Resend ${e?`in ${this.timeoutTimeLeft}s`:"Code"}`}}shouldSubmitOnOtpChange(){return this.authConnector&&this.otp.length===D9.OTP_LENGTH}};yc.OTP_LENGTH=6;yc.styles=zZe;vk([W()],yc.prototype,"loading",void 0);vk([W()],yc.prototype,"timeoutTimeLeft",void 0);vk([W()],yc.prototype,"error",void 0);yc=D9=vk([ie("w3m-email-otp-widget")],yc);var WZe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let U9=class extends yc{constructor(){super(...arguments),this.onOtpSubmit=async e=>{try{if(this.authConnector){const n=j.state.activeChain,r=pe.getConnections(n),i=X.state.remoteFeatures?.multiWallet,s=r.length>0;if(await this.authConnector.provider.connectOtp({otp:e}),Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),n)await pe.connectExternal(this.authConnector,n);else throw new Error("Active chain is not set on ChainController");if(X.state.remoteFeatures?.emailCapture)return;if(X.state.siwx){Ke.close();return}if(s&&i){Z.replace("ProfileWallets"),Ue.showSuccess("New Wallet Added");return}Ke.close()}}catch(n){throw Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:oe.parseError(n)}}),n}},this.onOtpResend=async e=>{this.authConnector&&(await this.authConnector.provider.connectEmail({email:e}),Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}))}}};U9=WZe([ie("w3m-email-verify-otp-view")],U9);const qZe=ve`
  wui-icon-box {
    height: ${({spacing:t})=>t[16]};
    width: ${({spacing:t})=>t[16]};
  }
`;var Gse=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let bC=class extends Q{constructor(){super(),this.email=Z.state.data?.email,this.authConnector=ae.getAuthConnector(),this.loading=!1,this.listenForDeviceApproval()}render(){if(!this.email)throw new Error("w3m-email-verify-device-view: No email provided");if(!this.authConnector)throw new Error("w3m-email-verify-device-view: No auth connector provided");return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["6","3","6","3"]}
        gap="4"
      >
        <wui-icon-box size="xl" color="accent-primary" icon="sealCheck"></wui-icon-box>

        <wui-flex flexDirection="column" alignItems="center" gap="3">
          <wui-flex flexDirection="column" alignItems="center">
            <wui-text variant="md-regular" color="primary">
              Approve the login link we sent to
            </wui-text>
            <wui-text variant="md-regular" color="primary"><b>${this.email}</b></wui-text>
          </wui-flex>

          <wui-text variant="sm-regular" color="secondary" align="center">
            The code expires in 20 minutes
          </wui-text>

          <wui-flex alignItems="center" id="w3m-resend-section" gap="2">
            <wui-text variant="sm-regular" color="primary" align="center">
              Didn't receive it?
            </wui-text>
            <wui-link @click=${this.onResendCode.bind(this)} .disabled=${this.loading}>
              Resend email
            </wui-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}async listenForDeviceApproval(){if(this.authConnector)try{await this.authConnector.provider.connectDevice(),Ce.sendEvent({type:"track",event:"DEVICE_REGISTERED_FOR_EMAIL"}),Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),Z.replace("EmailVerifyOtp",{email:this.email})}catch{Z.goBack()}}async onResendCode(){try{if(!this.loading){if(!this.authConnector||!this.email)throw new Error("w3m-email-login-widget: Unable to resend email");this.loading=!0,await this.authConnector.provider.connectEmail({email:this.email}),this.listenForDeviceApproval(),Ue.showSuccess("Code email resent")}}catch(e){Ue.showError(e)}finally{this.loading=!1}}};bC.styles=qZe;Gse([W()],bC.prototype,"loading",void 0);bC=Gse([ie("w3m-email-verify-device-view")],bC);const FZe=Be`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var i4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let t0=class extends Q{constructor(){super(...arguments),this.disabled=!1}render(){return $`
      <wui-input-text
        type="email"
        placeholder="Email"
        icon="mail"
        size="lg"
        .disabled=${this.disabled}
        .value=${this.value}
        data-testid="wui-email-input"
        tabIdx=${le(this.tabIdx)}
      ></wui-input-text>
      ${this.templateError()}
    `}templateError(){return this.errorMessage?$`<wui-text variant="sm-regular" color="error">${this.errorMessage}</wui-text>`:null}};t0.styles=[st,FZe];i4([L()],t0.prototype,"errorMessage",void 0);i4([L({type:Boolean})],t0.prototype,"disabled",void 0);i4([L()],t0.prototype,"value",void 0);i4([L()],t0.prototype,"tabIdx",void 0);t0=i4([ie("wui-email-input")],t0);const HZe=Be`
  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }
`;var uM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let V1=class extends Q{constructor(){super(...arguments),this.formRef=mc(),this.initialEmail=Z.state.data?.email??"",this.redirectView=Z.state.data?.redirectView,this.email="",this.loading=!1}firstUpdated(){this.formRef.value?.addEventListener("keydown",e=>{e.key==="Enter"&&this.onSubmitEmail(e)})}render(){return $`
      <wui-flex flexDirection="column" padding="4" gap="4">
        <form ${wc(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
          <wui-email-input
            value=${this.initialEmail}
            .disabled=${this.loading}
            @inputChange=${this.onEmailInputChange.bind(this)}
          >
          </wui-email-input>
          <input type="submit" hidden />
        </form>
        ${this.buttonsTemplate()}
      </wui-flex>
    `}onEmailInputChange(e){this.email=e.detail}async onSubmitEmail(e){try{if(this.loading)return;this.loading=!0,e.preventDefault();const n=ae.getAuthConnector();if(!n)throw new Error("w3m-update-email-wallet: Auth connector not found");const r=await n.provider.updateEmail({email:this.email});Ce.sendEvent({type:"track",event:"EMAIL_EDIT"}),r.action==="VERIFY_SECONDARY_OTP"?Z.push("UpdateEmailSecondaryOtp",{email:this.initialEmail,newEmail:this.email,redirectView:this.redirectView}):Z.push("UpdateEmailPrimaryOtp",{email:this.initialEmail,newEmail:this.email,redirectView:this.redirectView})}catch(n){Ue.showError(n),this.loading=!1}}buttonsTemplate(){const e=!this.loading&&this.email.length>3&&this.email!==this.initialEmail;return this.redirectView?$`
      <wui-flex gap="3">
        <wui-button size="md" variant="neutral" fullWidth @click=${Z.goBack}>
          Cancel
        </wui-button>

        <wui-button
          size="md"
          variant="accent-primary"
          fullWidth
          @click=${this.onSubmitEmail.bind(this)}
          .disabled=${!e}
          .loading=${this.loading}
        >
          Save
        </wui-button>
      </wui-flex>
    `:$`
        <wui-button
          size="md"
          variant="accent-primary"
          fullWidth
          @click=${this.onSubmitEmail.bind(this)}
          .disabled=${!e}
          .loading=${this.loading}
        >
          Save
        </wui-button>
      `}};V1.styles=HZe;uM([W()],V1.prototype,"email",void 0);uM([W()],V1.prototype,"loading",void 0);V1=uM([ie("w3m-update-email-wallet-view")],V1);var VZe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let M9=class extends yc{constructor(){super(),this.email=Z.state.data?.email,this.onOtpSubmit=async e=>{try{this.authConnector&&(await this.authConnector.provider.updateEmailPrimaryOtp({otp:e}),Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),Z.replace("UpdateEmailSecondaryOtp",Z.state.data))}catch(n){throw Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:oe.parseError(n)}}),n}},this.onStartOver=()=>{Z.replace("UpdateEmailWallet",Z.state.data)}}};M9=VZe([ie("w3m-update-email-primary-otp-view")],M9);var KZe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let L9=class extends yc{constructor(){super(),this.email=Z.state.data?.newEmail,this.redirectView=Z.state.data?.redirectView,this.onOtpSubmit=async e=>{try{this.authConnector&&(await this.authConnector.provider.updateEmailSecondaryOtp({otp:e}),Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),this.redirectView&&Z.reset(this.redirectView))}catch(n){throw Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:oe.parseError(n)}}),n}},this.onStartOver=()=>{Z.replace("UpdateEmailWallet",Z.state.data)}}};L9=KZe([ie("w3m-update-email-secondary-otp-view")],L9);var Yse=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cx=class extends Q{constructor(){super(),this.authConnector=ae.getAuthConnector(),this.isEmailEnabled=X.state.remoteFeatures?.email,this.isAuthEnabled=this.checkIfAuthEnabled(ae.state.connectors),this.connectors=ae.state.connectors,ae.subscribeKey("connectors",e=>{this.connectors=e,this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors)})}render(){if(!this.isEmailEnabled)throw new Error("w3m-email-login-view: Email is not enabled");if(!this.isAuthEnabled)throw new Error("w3m-email-login-view: No auth connector provided");return $`<wui-flex flexDirection="column" .padding=${["1","3","3","3"]} gap="4">
      <w3m-email-login-widget></w3m-email-login-widget>
    </wui-flex> `}checkIfAuthEnabled(e){const n=e.filter(i=>i.type===vn.CONNECTOR_TYPE_AUTH).map(i=>i.chain);return ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(i=>n.includes(i))}};Yse([W()],Cx.prototype,"connectors",void 0);Cx=Yse([ie("w3m-email-login-view")],Cx);const ZZe=Object.freeze(Object.defineProperty({__proto__:null,get W3mEmailLoginView(){return Cx},get W3mEmailOtpWidget(){return yc},get W3mEmailVerifyDeviceView(){return bC},get W3mEmailVerifyOtpView(){return U9},get W3mUpdateEmailPrimaryOtpView(){return M9},get W3mUpdateEmailSecondaryOtpView(){return L9},get W3mUpdateEmailWalletView(){return V1}},Symbol.toStringTag,{value:"Module"})),GZe=ve`
  label {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
    column-gap: ${({spacing:t})=>t[2]};
  }

  label > input[type='checkbox'] {
    height: 0;
    width: 0;
    opacity: 0;
    position: absolute;
  }

  label > span {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
    border: 1px solid ${({colors:t})=>t.neutrals400};
    color: ${({colors:t})=>t.white};
    background-color: transparent;
    will-change: border-color, background-color;
  }

  label > span > wui-icon {
    opacity: 0;
    will-change: opacity;
  }

  label > input[type='checkbox']:checked + span > wui-icon {
    color: ${({colors:t})=>t.white};
  }

  label > input[type='checkbox']:not(:checked) > span > wui-icon {
    color: ${({colors:t})=>t.neutrals900};
  }

  label > input[type='checkbox']:checked + span > wui-icon {
    opacity: 1;
  }

  /* -- Sizes --------------------------------------------------- */
  label[data-size='lg'] > span {
    width: 24px;
    height: 24px;
    min-width: 24px;
    min-height: 24px;
    border-radius: ${({borderRadius:t})=>t[10]};
  }

  label[data-size='md'] > span {
    width: 20px;
    height: 20px;
    min-width: 20px;
    min-height: 20px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  label[data-size='sm'] > span {
    width: 16px;
    height: 16px;
    min-width: 16px;
    min-height: 16px;
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  /* -- Focus states --------------------------------------------------- */
  label > input[type='checkbox']:focus-visible + span,
  label > input[type='checkbox']:focus + span {
    border: 1px solid ${({tokens:t})=>t.core.borderAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  label > input[type='checkbox']:checked + span {
    background-color: ${({tokens:t})=>t.core.iconAccentPrimary};
    border: 1px solid transparent;
  }

  /* -- Hover states --------------------------------------------------- */
  input[type='checkbox']:not(:checked):not(:disabled) + span:hover {
    border: 1px solid ${({colors:t})=>t.neutrals700};
    background-color: ${({colors:t})=>t.neutrals800};
    box-shadow: none;
  }

  input[type='checkbox']:checked:not(:disabled) + span:hover {
    border: 1px solid transparent;
    background-color: ${({colors:t})=>t.accent080};
    box-shadow: none;
  }

  /* -- Disabled state --------------------------------------------------- */
  label > input[type='checkbox']:checked:disabled + span {
    border: 1px solid transparent;
    opacity: 0.3;
  }

  label > input[type='checkbox']:not(:checked):disabled + span {
    border: 1px solid ${({colors:t})=>t.neutrals700};
  }

  label:has(input[type='checkbox']:disabled) {
    cursor: auto;
  }

  label > input[type='checkbox']:disabled + span {
    cursor: not-allowed;
  }
`;var Ek=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const YZe={lg:"md",md:"sm",sm:"sm"};let K1=class extends Q{constructor(){super(...arguments),this.inputElementRef=mc(),this.checked=void 0,this.disabled=!1,this.size="md"}render(){const e=YZe[this.size];return $`
      <label data-size=${this.size}>
        <input
          ${wc(this.inputElementRef)}
          ?checked=${le(this.checked)}
          ?disabled=${this.disabled}
          type="checkbox"
          @change=${this.dispatchChangeEvent}
        />
        <span>
          <wui-icon name="checkmarkBold" size=${e}></wui-icon>
        </span>
        <slot></slot>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("checkboxChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};K1.styles=[st,GZe];Ek([L({type:Boolean})],K1.prototype,"checked",void 0);Ek([L({type:Boolean})],K1.prototype,"disabled",void 0);Ek([L()],K1.prototype,"size",void 0);K1=Ek([ie("wui-checkbox")],K1);const JZe=ve`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  wui-checkbox {
    padding: ${({spacing:t})=>t[3]};
  }
  a {
    text-decoration: none;
    color: ${({tokens:t})=>t.theme.textSecondary};
    font-weight: 500;
  }
`;var Jse=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _x=class extends Q{constructor(){super(),this.unsubscribe=[],this.checked=pc.state.isLegalCheckboxChecked,this.unsubscribe.push(pc.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state,r=X.state.features?.legalCheckbox;return!e&&!n||!r?null:$`
      <wui-checkbox
        ?checked=${this.checked}
        @checkboxChange=${this.onCheckboxChange.bind(this)}
        data-testid="wui-checkbox"
      >
        <wui-text color="secondary" variant="sm-regular" align="left">
          I agree to our ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
        </wui-text>
      </wui-checkbox>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state;return e&&n?"and":""}termsTemplate(){const{termsConditionsUrl:e}=X.state;return e?$`<a rel="noreferrer" target="_blank" href=${e}>terms of service</a>`:null}privacyTemplate(){const{privacyPolicyUrl:e}=X.state;return e?$`<a rel="noreferrer" target="_blank" href=${e}>privacy policy</a>`:null}onCheckboxChange(){pc.setIsLegalCheckboxChecked(!this.checked)}};_x.styles=[JZe];Jse([W()],_x.prototype,"checked",void 0);_x=Jse([ie("w3m-legal-checkbox")],_x);function XZe(){try{return oe.returnOpenHref(`${ne.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes")}catch{throw new Error("Could not open social popup")}}async function QZe(){Z.push("ConnectingFarcaster");const t=ae.getAuthConnector();if(t&&!j.getAccountData()?.farcasterUrl)try{const{url:n}=await t.provider.getFarcasterUri();j.setAccountProp("farcasterUrl",n,j.state.activeChain)}catch(n){Z.goBack(),Ue.showError(n)}}async function eGe(t){Z.push("ConnectingSocial");const e=ae.getAuthConnector();let n=null;try{const r=setTimeout(()=>{throw new Error("Social login timed out. Please try again.")},45e3);if(e&&t){if(oe.isTelegram()||(n=XZe()),n)j.setAccountProp("socialWindow",O1(n),j.state.activeChain);else if(!oe.isTelegram())throw new Error("Could not create social popup");const{uri:i}=await e.provider.getSocialRedirectUri({provider:t});if(!i)throw n?.close(),new Error("Could not fetch the social redirect uri");if(n&&(n.location.href=i),oe.isTelegram()){be.setTelegramSocialProvider(t);const s=oe.formatTelegramSocialLoginUrl(i);oe.openHref(s,"_top")}clearTimeout(r)}}catch(r){n?.close();const i=oe.parseError(r);Ue.showError(i),Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:i}})}}async function Xse(t){j.setAccountProp("socialProvider",t,j.state.activeChain),Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:t}}),t==="farcaster"?await QZe():await eGe(t)}const tGe=ve`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[20]};
    overflow: hidden;
  }

  wui-icon {
    width: 100%;
    height: 100%;
  }
`;var Qse=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ix=class extends Q{constructor(){super(...arguments),this.logo="google"}render(){return $`<wui-icon color="inherit" size="inherit" name=${this.logo}></wui-icon> `}};Ix.styles=[st,tGe];Qse([L()],Ix.prototype,"logo",void 0);Ix=Qse([ie("wui-logo")],Ix);const nGe=ve`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    text-transform: capitalize;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var s4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let n0=class extends Q{constructor(){super(...arguments),this.logo="google",this.name="Continue with google",this.disabled=!1}render(){return $`
      <button ?disabled=${this.disabled} tabindex=${le(this.tabIdx)}>
        <wui-flex gap="2" alignItems="center">
          <wui-image ?boxed=${!0} logo=${this.logo}></wui-image>
          <wui-text variant="lg-regular" color="primary">${this.name}</wui-text>
        </wui-flex>
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}};n0.styles=[st,Jt,nGe];s4([L()],n0.prototype,"logo",void 0);s4([L()],n0.prototype,"name",void 0);s4([L()],n0.prototype,"tabIdx",void 0);s4([L({type:Boolean})],n0.prototype,"disabled",void 0);n0=s4([ie("wui-list-social")],n0);const rGe=ve`
  :host {
    margin-top: ${({spacing:t})=>t[1]};
  }
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1)
      ${({spacing:t})=>t[2]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`;var py=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ep=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.remoteFeatures=X.state.remoteFeatures,this.isPwaLoading=!1,this.hasExceededUsageLimit=Te.state.plan.hasExceededUsageLimit,this.unsubscribe.push(ae.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(n=>n.type==="AUTH")}),X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}connectedCallback(){super.connectedCallback(),this.handlePwaFrameLoad()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){let e=this.remoteFeatures?.socials||[];const n=!!this.authConnector,r=e?.length,i=Z.state.view==="ConnectSocials";return(!n||!r)&&!i?null:(i&&!r&&(e=yt.DEFAULT_SOCIALS),$` <wui-flex flexDirection="column" gap="2">
      ${e.map(s=>$`<wui-list-social
            @click=${()=>{this.onSocialClick(s)}}
            data-testid=${`social-selector-${s}`}
            name=${s}
            logo=${s}
            ?disabled=${this.isPwaLoading}
          ></wui-list-social>`)}
    </wui-flex>`)}async onSocialClick(e){if(this.hasExceededUsageLimit){Z.push("UsageExceeded");return}e&&await Xse(e)}async handlePwaFrameLoad(){if(oe.isPWA()){this.isPwaLoading=!0;try{this.authConnector?.provider instanceof rU&&await this.authConnector.provider.init()}catch(e){Kn.open({displayMessage:"Error loading embedded wallet in PWA",debugMessage:e.message},"error")}finally{this.isPwaLoading=!1}}}};Ep.styles=rGe;py([L()],Ep.prototype,"tabIdx",void 0);py([W()],Ep.prototype,"connectors",void 0);py([W()],Ep.prototype,"authConnector",void 0);py([W()],Ep.prototype,"remoteFeatures",void 0);py([W()],Ep.prototype,"isPwaLoading",void 0);py([W()],Ep.prototype,"hasExceededUsageLimit",void 0);Ep=py([ie("w3m-social-login-list")],Ep);const iGe=ve`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    transition: opacity ${({durations:t})=>t.md}
      ${({easings:t})=>t["ease-out-power-1"]};
    will-change: opacity;
  }

  wui-flex::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var eoe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let vC=class extends Q{constructor(){super(),this.unsubscribe=[],this.checked=pc.state.isLegalCheckboxChecked,this.unsubscribe.push(pc.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state,r=X.state.features?.legalCheckbox,o=!!(e||n)&&!!r&&!this.checked,a=o?-1:void 0;return $`
      <w3m-legal-checkbox></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","3","3","3"]}
        gap="01"
        class=${le(o?"disabled":void 0)}
      >
        <w3m-social-login-list tabIdx=${le(a)}></w3m-social-login-list>
      </wui-flex>
    `}};vC.styles=iGe;eoe([W()],vC.prototype,"checked",void 0);vC=eoe([ie("w3m-connect-socials-view")],vC);const sGe=ve`
  :host {
    display: block;
    width: 100px;
    height: 100px;
  }

  svg {
    width: 100px;
    height: 100px;
  }

  rect {
    fill: none;
    stroke: ${t=>t.colors.accent100};
    stroke-width: 3px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var toe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Sx=class extends Q{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,r=36-e,i=116+r,s=245+r,o=360+r*1.75;return $`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};Sx.styles=[st,sGe];toe([L({type:Number})],Sx.prototype,"radius",void 0);Sx=toe([ie("wui-loading-thumbnail")],Sx);const oGe=ve`
  wui-logo {
    width: 80px;
    height: 80px;
    border-radius: ${({borderRadius:t})=>t[8]};
  }
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }
  wui-flex:first-child:not(:only-child) {
    position: relative;
  }
  wui-loading-thumbnail {
    position: absolute;
  }
  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition: all ${({easings:t})=>t["ease-out-power-2"]}
      ${({durations:t})=>t.lg};
  }
  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:t})=>t[4]};
  }
  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }
  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:t})=>t["ease-out-power-2"]} both;
  }
  .capitalize {
    text-transform: capitalize;
  }
`;var fy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Sd=class extends Q{constructor(){super(),this.unsubscribe=[],this.socialProvider=j.getAccountData()?.socialProvider,this.socialWindow=j.getAccountData()?.socialWindow,this.error=!1,this.connecting=!1,this.message="Connect in the provider window",this.remoteFeatures=X.state.remoteFeatures,this.address=j.getAccountData()?.address,this.connectionsByNamespace=pe.getConnections(j.state.activeChain),this.hasMultipleConnections=this.connectionsByNamespace.length>0,this.authConnector=ae.getAuthConnector(),this.handleSocialConnection=async n=>{if(n.data?.resultUri)if(n.origin===np.SECURE_SITE_ORIGIN){window.removeEventListener("message",this.handleSocialConnection,!1);try{if(this.authConnector&&!this.connecting){this.connecting=!0;const r=this.parseURLError(n.data.resultUri);if(r){this.handleSocialError(r);return}this.closeSocialWindow(),this.updateMessage();const i=n.data.resultUri;this.socialProvider&&Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:this.socialProvider}}),await pe.connectExternal({id:this.authConnector.id,type:this.authConnector.type,socialUri:i},this.authConnector.chain),this.socialProvider&&(be.setConnectedSocialProvider(this.socialProvider),Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:this.socialProvider}}))}}catch(r){this.error=!0,this.updateMessage(),this.socialProvider&&Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider,message:oe.parseError(r)}})}}else Z.goBack(),Ue.showError("Untrusted Origin"),this.socialProvider&&Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider,message:"Untrusted Origin"}})},Rr.EmbeddedWalletAbortController.signal.addEventListener("abort",()=>{this.closeSocialWindow()}),this.unsubscribe.push(j.subscribeChainProp("accountState",n=>{if(n&&(this.socialProvider=n.socialProvider,n.socialWindow&&(this.socialWindow=n.socialWindow),n.address)){const r=this.remoteFeatures?.multiWallet;n.address!==this.address&&(this.hasMultipleConnections&&r?(Z.replace("ProfileWallets"),Ue.showSuccess("New Wallet Added"),this.address=n.address):(Ke.state.open||X.state.enableEmbedded)&&Ke.close())}}),X.subscribeKey("remoteFeatures",n=>{this.remoteFeatures=n})),this.authConnector&&this.connectSocial()}disconnectedCallback(){this.unsubscribe.forEach(n=>n()),window.removeEventListener("message",this.handleSocialConnection,!1),!j.state.activeCaipAddress&&this.socialProvider&&!this.connecting&&Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_CANCELED",properties:{provider:this.socialProvider}}),this.closeSocialWindow()}render(){return $`
      <wui-flex
        data-error=${le(this.error)}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-logo logo=${le(this.socialProvider)}></wui-logo>
          ${this.error?null:this.loaderTemplate()}
          <wui-icon-box color="error" icon="close" size="sm"></wui-icon-box>
        </wui-flex>
        <wui-flex flexDirection="column" alignItems="center" gap="2">
          <wui-text align="center" variant="lg-medium" color="primary"
            >Log in with
            <span class="capitalize">${this.socialProvider??"Social"}</span></wui-text
          >
          <wui-text align="center" variant="lg-regular" color=${this.error?"error":"secondary"}
            >${this.message}</wui-text
          ></wui-flex
        >
      </wui-flex>
    `}loaderTemplate(){const e=zn.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return $`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}parseURLError(e){try{const n="error=",r=e.indexOf(n);return r===-1?null:e.substring(r+n.length)}catch{return null}}connectSocial(){const e=setInterval(()=>{this.socialWindow?.closed&&(!this.connecting&&Z.state.view==="ConnectingSocial"&&Z.goBack(),clearInterval(e))},1e3);window.addEventListener("message",this.handleSocialConnection,!1)}updateMessage(){this.error?this.message="Something went wrong":this.connecting?this.message="Retrieving user data":this.message="Connect in the provider window"}handleSocialError(e){this.error=!0,this.updateMessage(),this.socialProvider&&Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider,message:e}}),this.closeSocialWindow()}closeSocialWindow(){this.socialWindow&&(this.socialWindow.close(),j.setAccountProp("socialWindow",void 0,j.state.activeChain))}};Sd.styles=oGe;fy([W()],Sd.prototype,"socialProvider",void 0);fy([W()],Sd.prototype,"socialWindow",void 0);fy([W()],Sd.prototype,"error",void 0);fy([W()],Sd.prototype,"connecting",void 0);fy([W()],Sd.prototype,"message",void 0);fy([W()],Sd.prototype,"remoteFeatures",void 0);Sd=fy([ie("w3m-connecting-social-view")],Sd);var eb={},DT,VH;function aGe(){return VH||(VH=1,DT=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),DT}var UT={},pf={},KH;function gy(){if(KH)return pf;KH=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return pf.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},pf.getSymbolTotalCodewords=function(r){return e[r]},pf.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},pf.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},pf.isKanjiModeEnabled=function(){return typeof t<"u"},pf.toSJIS=function(r){return t(r)},pf}var MT={},ZH;function dM(){return ZH||(ZH=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(MT)),MT}var LT,GH;function cGe(){if(GH)return LT;GH=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},LT=t,LT}var jT,YH;function lGe(){if(YH)return jT;YH=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},jT=t,jT}var BT={},JH;function uGe(){return JH||(JH=1,(function(t){const e=gy().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(BT)),BT}var zT={},XH;function dGe(){if(XH)return zT;XH=1;const t=gy().getSymbolSize,e=7;return zT.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},zT}var WT={},QH;function hGe(){return QH||(QH=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let h=0;h<s;h++){let p=i.get(d,h);p===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=p,a=1),p=i.get(h,d),p===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=p,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(WT)),WT}var J5={},eV;function noe(){if(eV)return J5;eV=1;const t=dM(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return J5.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},J5.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},J5}var qT={},r3={},tV;function pGe(){if(tV)return r3;tV=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),r3.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},r3.exp=function(r){return t[r]},r3.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},r3}var nV;function fGe(){return nV||(nV=1,(function(t){const e=pGe();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(qT)),qT}var FT,rV;function gGe(){if(rV)return FT;rV=1;const t=fGe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},FT=e,FT}var HT={},VT={},KT={},iV;function roe(){return iV||(iV=1,KT.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),KT}var Vu={},sV;function ioe(){if(sV)return Vu;sV=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Vu.KANJI=new RegExp(n,"g"),Vu.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Vu.BYTE=new RegExp(r,"g"),Vu.NUMERIC=new RegExp(t,"g"),Vu.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Vu.testKanji=function(c){return i.test(c)},Vu.testNumeric=function(c){return s.test(c)},Vu.testAlphanumeric=function(c){return o.test(c)},Vu}var oV;function my(){return oV||(oV=1,(function(t){const e=roe(),n=ioe();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(VT)),VT}var aV;function mGe(){return aV||(aV=1,(function(t){const e=gy(),n=noe(),r=dM(),i=my(),s=roe(),o=7973,a=e.getBCHDigit(o);function c(h,p,f){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,f,h))return g}function l(h,p){return i.getCharCountIndicator(h,p)+4}function u(h,p){let f=0;return h.forEach(function(g){const m=l(g.mode,p);f+=m+g.getBitsLength()}),f}function d(h,p){for(let f=1;f<=40;f++)if(u(h,f)<=t.getCapacity(f,p,i.MIXED))return f}t.from=function(p,f){return s.isValid(p)?parseInt(p,10):f},t.getCapacity=function(p,f,g){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const m=e.getSymbolTotalCodewords(p),b=n.getTotalCodewordsCount(p,f),y=(m-b)*8;if(g===i.MIXED)return y;const v=y-l(g,p);switch(g){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(p,f){let g;const m=r.from(f,r.M);if(Array.isArray(p)){if(p.length>1)return d(p,m);if(p.length===0)return 1;g=p[0]}else g=p;return c(g.mode,g.getLength(),m)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let f=p<<12;for(;e.getBCHDigit(f)-a>=0;)f^=o<<e.getBCHDigit(f)-a;return p<<12|f}})(HT)),HT}var ZT={},cV;function wGe(){if(cV)return ZT;cV=1;const t=gy(),e=1335,n=21522,r=t.getBCHDigit(e);return ZT.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(a<<10|c)^n},ZT}var GT={},YT,lV;function yGe(){if(lV)return YT;lV=1;const t=my();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},YT=e,YT}var JT,uV;function bGe(){if(uV)return JT;uV=1;const t=my(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},JT=n,JT}var XT,dV;function vGe(){return dV||(dV=1,XT=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}),XT}var QT,hV;function EGe(){if(hV)return QT;hV=1;const t=vGe(),e=my();function n(r){this.mode=e.BYTE,typeof r=="string"&&(r=t(r)),this.data=new Uint8Array(r)}return n.getBitsLength=function(i){return i*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){for(let i=0,s=this.data.length;i<s;i++)r.put(this.data[i],8)},QT=n,QT}var eN,pV;function CGe(){if(pV)return eN;pV=1;const t=my(),e=gy();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},eN=n,eN}var tN={exports:{}},fV;function _Ge(){return fV||(fV=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,l,u,d,h,p,f,g,m;!a.empty();){c=a.pop(),l=c.value,d=c.cost,h=n[l]||{};for(u in h)h.hasOwnProperty(u)&&(p=h[u],f=d+p,g=o[u],m=typeof o[u]>"u",(m||g>f)&&(o[u]=f,a.push(u,f),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var b=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(b)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(tN)),tN.exports}var gV;function IGe(){return gV||(gV=1,(function(t){const e=my(),n=yGe(),r=bGe(),i=EGe(),s=CGe(),o=ioe(),a=gy(),c=_Ge();function l(b){return unescape(encodeURIComponent(b)).length}function u(b,y,v){const w=[];let C;for(;(C=b.exec(v))!==null;)w.push({data:C[0],index:C.index,mode:y,length:C[0].length});return w}function d(b){const y=u(o.NUMERIC,e.NUMERIC,b),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,b);let w,C;return a.isKanjiModeEnabled()?(w=u(o.BYTE,e.BYTE,b),C=u(o.KANJI,e.KANJI,b)):(w=u(o.BYTE_KANJI,e.BYTE,b),C=[]),y.concat(v,w,C).sort(function(k,P){return k.index-P.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function h(b,y){switch(y){case e.NUMERIC:return n.getBitsLength(b);case e.ALPHANUMERIC:return r.getBitsLength(b);case e.KANJI:return s.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function p(b){return b.reduce(function(y,v){const w=y.length-1>=0?y[y.length-1]:null;return w&&w.mode===v.mode?(y[y.length-1].data+=v.data,y):(y.push(v),y)},[])}function f(b){const y=[];for(let v=0;v<b.length;v++){const w=b[v];switch(w.mode){case e.NUMERIC:y.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:y.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:y.push([w,{data:w.data,mode:e.BYTE,length:l(w.data)}]);break;case e.BYTE:y.push([{data:w.data,mode:e.BYTE,length:l(w.data)}])}}return y}function g(b,y){const v={},w={start:{}};let C=["start"];for(let I=0;I<b.length;I++){const k=b[I],P=[];for(let S=0;S<k.length;S++){const N=k[S],R=""+I+S;P.push(R),v[R]={node:N,lastCount:0},w[R]={};for(let D=0;D<C.length;D++){const O=C[D];v[O]&&v[O].node.mode===N.mode?(w[O][R]=h(v[O].lastCount+N.length,N.mode)-h(v[O].lastCount,N.mode),v[O].lastCount+=N.length):(v[O]&&(v[O].lastCount=N.length),w[O][R]=h(N.length,N.mode)+4+e.getCharCountIndicator(N.mode,y))}}C=P}for(let I=0;I<C.length;I++)w[C[I]].end=0;return{map:w,table:v}}function m(b,y){let v;const w=e.getBestModeForData(b);if(v=e.from(y,w),v!==e.BYTE&&v.bit<w.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(w));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(b);case e.ALPHANUMERIC:return new r(b);case e.KANJI:return new s(b);case e.BYTE:return new i(b)}}t.fromArray=function(y){return y.reduce(function(v,w){return typeof w=="string"?v.push(m(w,null)):w.data&&v.push(m(w.data,w.mode)),v},[])},t.fromString=function(y,v){const w=d(y,a.isKanjiModeEnabled()),C=f(w),I=g(C,v),k=c.find_path(I.map,"start","end"),P=[];for(let S=1;S<k.length-1;S++)P.push(I.table[k[S]].node);return t.fromArray(p(P))},t.rawSplit=function(y){return t.fromArray(d(y,a.isKanjiModeEnabled()))}})(GT)),GT}var mV;function SGe(){if(mV)return UT;mV=1;const t=gy(),e=dM(),n=cGe(),r=lGe(),i=uGe(),s=dGe(),o=hGe(),a=noe(),c=gGe(),l=mGe(),u=wGe(),d=my(),h=IGe();function p(I,k){const P=I.size,S=s.getPositions(k);for(let N=0;N<S.length;N++){const R=S[N][0],D=S[N][1];for(let O=-1;O<=7;O++)if(!(R+O<=-1||P<=R+O))for(let T=-1;T<=7;T++)D+T<=-1||P<=D+T||(O>=0&&O<=6&&(T===0||T===6)||T>=0&&T<=6&&(O===0||O===6)||O>=2&&O<=4&&T>=2&&T<=4?I.set(R+O,D+T,!0,!0):I.set(R+O,D+T,!1,!0))}}function f(I){const k=I.size;for(let P=8;P<k-8;P++){const S=P%2===0;I.set(P,6,S,!0),I.set(6,P,S,!0)}}function g(I,k){const P=i.getPositions(k);for(let S=0;S<P.length;S++){const N=P[S][0],R=P[S][1];for(let D=-2;D<=2;D++)for(let O=-2;O<=2;O++)D===-2||D===2||O===-2||O===2||D===0&&O===0?I.set(N+D,R+O,!0,!0):I.set(N+D,R+O,!1,!0)}}function m(I,k){const P=I.size,S=l.getEncodedBits(k);let N,R,D;for(let O=0;O<18;O++)N=Math.floor(O/3),R=O%3+P-8-3,D=(S>>O&1)===1,I.set(N,R,D,!0),I.set(R,N,D,!0)}function b(I,k,P){const S=I.size,N=u.getEncodedBits(k,P);let R,D;for(R=0;R<15;R++)D=(N>>R&1)===1,R<6?I.set(R,8,D,!0):R<8?I.set(R+1,8,D,!0):I.set(S-15+R,8,D,!0),R<8?I.set(8,S-R-1,D,!0):R<9?I.set(8,15-R-1+1,D,!0):I.set(8,15-R-1,D,!0);I.set(S-8,8,1,!0)}function y(I,k){const P=I.size;let S=-1,N=P-1,R=7,D=0;for(let O=P-1;O>0;O-=2)for(O===6&&O--;;){for(let T=0;T<2;T++)if(!I.isReserved(N,O-T)){let E=!1;D<k.length&&(E=(k[D]>>>R&1)===1),I.set(N,O-T,E),R--,R===-1&&(D++,R=7)}if(N+=S,N<0||P<=N){N-=S,S=-S;break}}}function v(I,k,P){const S=new n;P.forEach(function(T){S.put(T.mode.bit,4),S.put(T.getLength(),d.getCharCountIndicator(T.mode,I)),T.write(S)});const N=t.getSymbolTotalCodewords(I),R=a.getTotalCodewordsCount(I,k),D=(N-R)*8;for(S.getLengthInBits()+4<=D&&S.put(0,4);S.getLengthInBits()%8!==0;)S.putBit(0);const O=(D-S.getLengthInBits())/8;for(let T=0;T<O;T++)S.put(T%2?17:236,8);return w(S,I,k)}function w(I,k,P){const S=t.getSymbolTotalCodewords(k),N=a.getTotalCodewordsCount(k,P),R=S-N,D=a.getBlocksCount(k,P),O=S%D,T=D-O,E=Math.floor(S/D),_=Math.floor(R/D),x=_+1,M=E-_,A=new c(M);let U=0;const B=new Array(D),z=new Array(D);let H=0;const q=new Uint8Array(I.buffer);for(let te=0;te<D;te++){const ue=te<T?_:x;B[te]=q.slice(U,U+ue),z[te]=A.encode(B[te]),U+=ue,H=Math.max(H,ue)}const F=new Uint8Array(S);let K=0,ee,se;for(ee=0;ee<H;ee++)for(se=0;se<D;se++)ee<B[se].length&&(F[K++]=B[se][ee]);for(ee=0;ee<M;ee++)for(se=0;se<D;se++)F[K++]=z[se][ee];return F}function C(I,k,P,S){let N;if(Array.isArray(I))N=h.fromArray(I);else if(typeof I=="string"){let E=k;if(!E){const _=h.rawSplit(I);E=l.getBestVersionForData(_,P)}N=h.fromString(I,E||40)}else throw new Error("Invalid data");const R=l.getBestVersionForData(N,P);if(!R)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=R;else if(k<R)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+R+`.
`);const D=v(k,P,N),O=t.getSymbolSize(k),T=new r(O);return p(T,k),f(T),g(T,k),b(T,P,0),k>=7&&m(T,k),y(T,D),isNaN(S)&&(S=o.getBestMask(T,b.bind(null,T,P))),o.applyMask(S,T),b(T,P,S),{modules:T,version:k,errorCorrectionLevel:P,maskPattern:S,segments:N}}return UT.create=function(k,P){if(typeof k>"u"||k==="")throw new Error("No input text");let S=e.M,N,R;return typeof P<"u"&&(S=e.from(P.errorCorrectionLevel,e.M),N=l.from(P.version),R=o.from(P.maskPattern),P.toSJISFunc&&t.setToSJISFunction(P.toSJISFunc)),C(k,N,S,R)},UT}var nN={},rN={},wV;function soe(){return wV||(wV=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let p=0;p<l;p++){let f=(h*l+p)*4,g=s.color.light;if(h>=u&&p>=u&&h<l-u&&p<l-u){const m=Math.floor((h-u)/c),b=Math.floor((p-u)/c);g=d[a[m*o+b]?1:0]}r[f++]=g.r,r[f++]=g.g,r[f++]=g.b,r[f]=g.a}}})(rN)),rN}var yV;function xGe(){return yV||(yV=1,(function(t){const e=soe();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),d=l.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,c),n(d,l,u),d.putImageData(h,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}})(nN)),nN}var iN={},bV;function AGe(){if(bV)return iN;bV=1;const t=soe();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function n(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",c=0,l=!1,u=0;for(let d=0;d<i.length;d++){const h=Math.floor(d%s),p=Math.floor(d/s);!h&&!l&&(l=!0),i[d]?(u++,d>0&&h>0&&i[d-1]||(a+=l?n("M",h+o,.5+p+o):n("m",c,0),c=0,l=!1),h+1<s&&i[d+1]||(a+=n("h",u),u=0)):c++}return a}return iN.render=function(s,o,a){const c=t.getOptions(o),l=s.modules.size,u=s.modules.data,d=l+c.margin*2,h=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",p="<path "+e(c.color.dark,"stroke")+' d="'+r(u,l,c.margin)+'"/>',f='viewBox="0 0 '+d+" "+d+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+f+' shape-rendering="crispEdges">'+h+p+`</svg>
`;return typeof a=="function"&&a(null,m),m},iN}var vV;function kGe(){if(vV)return eb;vV=1;const t=aGe(),e=SGe(),n=xGe(),r=AGe();function i(s,o,a,c,l){const u=[].slice.call(arguments,1),d=u.length,h=typeof u[d-1]=="function";if(!h&&!t())throw new Error("Callback required as last argument");if(h){if(d<2)throw new Error("Too few arguments provided");d===2?(l=a,a=o,o=c=void 0):d===3&&(o.getContext&&typeof l>"u"?(l=c,c=void 0):(l=c,c=a,a=o,o=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(a=o,o=c=void 0):d===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(p,f){try{const g=e.create(a,c);p(s(g,o,c))}catch(g){f(g)}})}try{const p=e.create(a,c);l(null,s(p,o,c))}catch(p){l(p)}}return eb.create=e.create,eb.toCanvas=i.bind(null,n.render),eb.toDataURL=i.bind(null,n.renderToDataURL),eb.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),eb}var $Ge=kGe();const ooe=ny($Ge),TGe=.1,EV=2.5,dh=7;function sN(t,e,n){return t===e?!1:(t-e<0?e-t:t-e)<=n+TGe}function NGe(t,e){const n=Array.prototype.slice.call(ooe.create(t,{errorCorrectionLevel:e}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,s,o)=>(o%r===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const OGe={generate({uri:t,size:e,logoSize:n,padding:r=8,dotColor:i="var(--apkt-colors-black)"}){const o=[],a=NGe(t,"Q"),c=(e-2*r)/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:g,y:m})=>{const b=(a.length-dh)*c*g+r,y=(a.length-dh)*c*m+r,v=.45;for(let w=0;w<l.length;w+=1){const C=c*(dh-w*2);o.push(ye`
            <rect
              fill=${w===2?"var(--apkt-colors-black)":"var(--apkt-colors-white)"}
              width=${w===0?C-10:C}
              rx= ${w===0?(C-10)*v:C*v}
              ry= ${w===0?(C-10)*v:C*v}
              stroke=${i}
              stroke-width=${w===0?10:0}
              height=${w===0?C-10:C}
              x= ${w===0?y+c*w+10/2:y+c*w}
              y= ${w===0?b+c*w+10/2:b+c*w}
            />
          `)}});const u=Math.floor((n+25)/c),d=a.length/2-u/2,h=a.length/2+u/2-1,p=[];a.forEach((g,m)=>{g.forEach((b,y)=>{if(a[m][y]&&!(m<dh&&y<dh||m>a.length-(dh+1)&&y<dh||m<dh&&y>a.length-(dh+1))&&!(m>d&&m<h&&y>d&&y<h)){const v=m*c+c/2+r,w=y*c+c/2+r;p.push([v,w])}})});const f={};return p.forEach(([g,m])=>{f[g]?f[g]?.push(m):f[g]=[m]}),Object.entries(f).map(([g,m])=>{const b=m.filter(y=>m.every(v=>!sN(y,v,c)));return[Number(g),b]}).forEach(([g,m])=>{m.forEach(b=>{o.push(ye`<circle cx=${g} cy=${b} fill=${i} r=${c/EV} />`)})}),Object.entries(f).filter(([g,m])=>m.length>1).map(([g,m])=>{const b=m.filter(y=>m.some(v=>sN(y,v,c)));return[Number(g),b]}).map(([g,m])=>{m.sort((y,v)=>y<v?-1:1);const b=[];for(const y of m){const v=b.find(w=>w.some(C=>sN(y,C,c)));v?v.push(y):b.push([y])}return[g,b.map(y=>[y[0],y[y.length-1]])]}).forEach(([g,m])=>{m.forEach(([b,y])=>{o.push(ye`
              <line
                x1=${g}
                x2=${g}
                y1=${b}
                y2=${y}
                stroke=${i}
                stroke-width=${c/(EV/2)}
                stroke-linecap="round"
              />
            `)})}),o}},PGe=ve`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: 100%;
    height: 100%;
    background-color: ${({colors:t})=>t.white};
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
  }

  :host {
    border-radius: ${({borderRadius:t})=>t[4]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    box-shadow: inset 0 0 0 4px ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: ${({borderRadius:t})=>t[6]};
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }

  wui-icon > svg {
    width: inherit;
    height: inherit;
  }
`;var Zg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xd=class extends Q{constructor(){super(...arguments),this.uri="",this.size=500,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),$`<wui-flex
      alignItems="center"
      justifyContent="center"
      class="wui-qr-code"
      direction="column"
      gap="4"
      width="100%"
      style="height: 100%"
    >
      ${this.templateVisual()} ${this.templateSvg()}
    </wui-flex>`}templateSvg(){return ye`
      <svg viewBox="0 0 ${this.size} ${this.size}" width="100%" height="100%">
        ${OGe.generate({uri:this.uri,size:this.size,logoSize:this.arenaClear?0:this.size/4})}
      </svg>
    `}templateVisual(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?$`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:$`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};xd.styles=[st,PGe];Zg([L()],xd.prototype,"uri",void 0);Zg([L({type:Number})],xd.prototype,"size",void 0);Zg([L()],xd.prototype,"theme",void 0);Zg([L()],xd.prototype,"imageSrc",void 0);Zg([L()],xd.prototype,"alt",void 0);Zg([L({type:Boolean})],xd.prototype,"arenaClear",void 0);Zg([L({type:Boolean})],xd.prototype,"farcaster",void 0);xd=Zg([ie("wui-qr-code")],xd);const RGe=ve`
  :host {
    display: block;
    background: linear-gradient(
      90deg,
      ${({tokens:t})=>t.theme.foregroundSecondary} 0%,
      ${({tokens:t})=>t.theme.foregroundTertiary} 50%,
      ${({tokens:t})=>t.theme.foregroundSecondary} 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1s ease-in-out infinite;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
`;var o4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let r0=class extends Q{constructor(){super(...arguments),this.width="",this.height="",this.variant="default",this.rounded=!1}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
    `,this.dataset.rounded=this.rounded?"true":"false",$`<slot></slot>`}};r0.styles=[RGe];o4([L()],r0.prototype,"width",void 0);o4([L()],r0.prototype,"height",void 0);o4([L()],r0.prototype,"variant",void 0);o4([L({type:Boolean})],r0.prototype,"rounded",void 0);r0=o4([ie("wui-shimmer")],r0);const DGe=ve`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  wui-logo {
    width: 80px;
    height: 80px;
    border-radius: ${({borderRadius:t})=>t[8]};
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`;var n2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cp=class extends Q{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.socialProvider=j.getAccountData()?.socialProvider,this.uri=j.getAccountData()?.farcasterUrl,this.ready=!1,this.loading=!1,this.remoteFeatures=X.state.remoteFeatures,this.authConnector=ae.getAuthConnector(),this.forceUpdate=()=>{this.requestUpdate()},this.unsubscribe.push(j.subscribeChainProp("accountState",e=>{this.socialProvider=e?.socialProvider,this.uri=e?.farcasterUrl,this.connectFarcaster()}),X.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e})),window.addEventListener("resize",this.forceUpdate)}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.timeout),window.removeEventListener("resize",this.forceUpdate),!j.state.activeCaipAddress&&this.socialProvider&&(this.uri||this.loading)&&Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_CANCELED",properties:{provider:this.socialProvider}})}render(){return this.onRenderProxy(),$`${this.platformTemplate()}`}platformTemplate(){return oe.isMobile()?$`${this.mobileTemplate()}`:$`${this.desktopTemplate()}`}desktopTemplate(){return this.loading?$`${this.loadingTemplate()}`:$`${this.qrTemplate()}`}qrTemplate(){return $` <wui-flex
      flexDirection="column"
      alignItems="center"
      .padding=${["0","5","5","5"]}
      gap="5"
    >
      <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

      <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
      ${this.copyTemplate()}
    </wui-flex>`}loadingTemplate(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["5","5","5","5"]}
        gap="5"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-logo logo="farcaster"></wui-logo>
          ${this.loaderTemplate()}
          <wui-icon-box color="error" icon="close" size="sm"></wui-icon-box>
        </wui-flex>
        <wui-flex flexDirection="column" alignItems="center" gap="2">
          <wui-text align="center" variant="md-medium" color="primary">
            Loading user data
          </wui-text>
          <wui-text align="center" variant="sm-regular" color="secondary">
            Please wait a moment while we load your data.
          </wui-text>
        </wui-flex>
      </wui-flex>
    `}mobileTemplate(){return $` <wui-flex
      flexDirection="column"
      alignItems="center"
      .padding=${["10","5","5","5"]}
      gap="5"
    >
      <wui-flex justifyContent="center" alignItems="center">
        <wui-logo logo="farcaster"></wui-logo>
        ${this.loaderTemplate()}
        <wui-icon-box
          color="error"
          icon="close"
          size="sm"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="2">
        <wui-text align="center" variant="md-medium" color="primary"
          >Continue in Farcaster</span></wui-text
        >
        <wui-text align="center" variant="sm-regular" color="secondary"
          >Accept connection request in the app</wui-text
        ></wui-flex
      >
      ${this.mobileLinkTemplate()}
    </wui-flex>`}loaderTemplate(){const e=zn.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return $`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}async connectFarcaster(){if(this.authConnector)try{await this.authConnector?.provider.connectFarcaster(),this.socialProvider&&(be.setConnectedSocialProvider(this.socialProvider),Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:this.socialProvider}})),this.loading=!0;const n=pe.getConnections(this.authConnector.chain).length>0;await pe.connectExternal(this.authConnector,this.authConnector.chain);const r=this.remoteFeatures?.multiWallet;this.socialProvider&&Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:this.socialProvider}}),this.loading=!1,n&&r?(Z.replace("ProfileWallets"),Ue.showSuccess("New Wallet Added")):Ke.close()}catch(e){this.socialProvider&&Ce.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider,message:oe.parseError(e)}}),Z.goBack(),Ue.showError(e)}}mobileLinkTemplate(){return $`<wui-button
      size="md"
      ?loading=${this.loading}
      ?disabled=${!this.uri||this.loading}
      @click=${()=>{this.uri&&oe.openHref(this.uri,"_blank")}}
    >
      Open farcaster</wui-button
    >`}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,n=zn.state.themeVariables["--apkt-qr-color"]??zn.state.themeVariables["--w3m-qr-color"];return $` <wui-qr-code
      size=${e}
      theme=${zn.state.themeMode}
      uri=${this.uri}
      ?farcaster=${!0}
      data-testid="wui-qr-code"
      color=${le(n)}
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return $`<wui-button
      .disabled=${e}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="sm" color="default" slot="iconRight" name="copy"></wui-icon>
      Copy link
    </wui-button>`}onCopyUri(){try{this.uri&&(oe.copyToClopboard(this.uri),Ue.showSuccess("Link copied"))}catch{Ue.showError("Failed to copy")}}};Cp.styles=DGe;n2([W()],Cp.prototype,"socialProvider",void 0);n2([W()],Cp.prototype,"uri",void 0);n2([W()],Cp.prototype,"ready",void 0);n2([W()],Cp.prototype,"loading",void 0);n2([W()],Cp.prototype,"remoteFeatures",void 0);Cp=n2([ie("w3m-connecting-farcaster-view")],Cp);const UGe=Object.freeze(Object.defineProperty({__proto__:null,get W3mConnectSocialsView(){return vC},get W3mConnectingFarcasterView(){return Cp},get W3mConnectingSocialView(){return Sd}},Symbol.toStringTag,{value:"Module"})),MGe=Be`
  :host {
    width: 100%;
    display: block;
  }
`;var hM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let EC=class extends Q{constructor(){super(),this.unsubscribe=[],this.text="",this.open=sl.state.open,this.unsubscribe.push(Z.subscribeKey("view",()=>{sl.hide()}),Ke.subscribeKey("open",e=>{e||sl.hide()}),sl.subscribeKey("open",e=>{this.open=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),sl.hide()}render(){return $`
      <div
        @pointermove=${this.onMouseEnter.bind(this)}
        @pointerleave=${this.onMouseLeave.bind(this)}
      >
        ${this.renderChildren()}
      </div>
    `}renderChildren(){return $`<slot></slot> `}onMouseEnter(){const e=this.getBoundingClientRect();if(!this.open){const n=document.querySelector("w3m-modal"),r={width:e.width,height:e.height,left:e.left,top:e.top};if(n){const i=n.getBoundingClientRect();r.left=e.left-(window.innerWidth-i.width)/2,r.top=e.top-(window.innerHeight-i.height)/2}sl.showTooltip({message:this.text,triggerRect:r,variant:"shade"})}}onMouseLeave(e){this.contains(e.relatedTarget)||sl.hide()}};EC.styles=[MGe];hM([L()],EC.prototype,"text",void 0);hM([W()],EC.prototype,"open",void 0);EC=hM([ie("w3m-tooltip-trigger")],EC);const LGe=ve`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:t})=>t[3]} 10px ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:t})=>t[5]});
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.textPrimary};
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`;var a4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let i0=class extends Q{constructor(){super(),this.unsubscribe=[],this.open=sl.state.open,this.message=sl.state.message,this.triggerRect=sl.state.triggerRect,this.variant=sl.state.variant,this.unsubscribe.push(sl.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${n}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,$`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};i0.styles=[LGe];a4([W()],i0.prototype,"open",void 0);a4([W()],i0.prototype,"message",void 0);a4([W()],i0.prototype,"triggerRect",void 0);a4([W()],i0.prototype,"variant",void 0);i0=a4([ie("w3m-tooltip")],i0);const jGe=ve`
  :host {
    width: 100%;
  }

  .details-container > wui-flex {
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[3]};
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
    cursor: pointer;
  }

  .details-content-container {
    padding: ${({spacing:t})=>t[2]};
    padding-top: 0px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: ${({spacing:t})=>t[3]};
    padding-left: ${({spacing:t})=>t[3]};
    padding-right: ${({spacing:t})=>t[2]};
    border-radius: calc(
      ${({borderRadius:t})=>t[1]} + ${({borderRadius:t})=>t[1]}
    );
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .details-row-title {
    white-space: nowrap;
  }

  .details-row.provider-free-row {
    padding-right: ${({spacing:t})=>t[2]};
  }
`;var _l=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const BGe=yt.CONVERT_SLIPPAGE_TOLERANCE;let Aa=class extends Q{constructor(){super(),this.unsubscribe=[],this.networkName=j.state.activeCaipNetwork?.name,this.detailsOpen=!1,this.sourceToken=we.state.sourceToken,this.toToken=we.state.toToken,this.toTokenAmount=we.state.toTokenAmount,this.sourceTokenPriceInUSD=we.state.sourceTokenPriceInUSD,this.toTokenPriceInUSD=we.state.toTokenPriceInUSD,this.priceImpact=we.state.priceImpact,this.maxSlippage=we.state.maxSlippage,this.networkTokenSymbol=we.state.networkTokenSymbol,this.inputError=we.state.inputError,this.unsubscribe.push(we.subscribe(e=>{this.sourceToken=e.sourceToken,this.toToken=e.toToken,this.toTokenAmount=e.toTokenAmount,this.priceImpact=e.priceImpact,this.maxSlippage=e.maxSlippage,this.sourceTokenPriceInUSD=e.sourceTokenPriceInUSD,this.toTokenPriceInUSD=e.toTokenPriceInUSD,this.inputError=e.inputError}))}render(){const e=this.toTokenAmount&&this.maxSlippage?zt.bigNumber(this.toTokenAmount).minus(this.maxSlippage).toString():null;if(!this.sourceToken||!this.toToken||this.inputError)return null;const n=this.sourceTokenPriceInUSD&&this.toTokenPriceInUSD?1/this.toTokenPriceInUSD*this.sourceTokenPriceInUSD:0;return $`
      <wui-flex flexDirection="column" alignItems="center" gap="01" class="details-container">
        <wui-flex flexDirection="column">
          <button @click=${this.toggleDetails.bind(this)}>
            <wui-flex justifyContent="space-between" .padding=${["0","2","0","2"]}>
              <wui-flex justifyContent="flex-start" flexGrow="1" gap="2">
                <wui-text variant="sm-regular" color="primary">
                  1 ${this.sourceToken.symbol} =
                  ${zt.formatNumberToLocalString(n,3)}
                  ${this.toToken.symbol}
                </wui-text>
                <wui-text variant="sm-regular" color="secondary">
                  $${zt.formatNumberToLocalString(this.sourceTokenPriceInUSD)}
                </wui-text>
              </wui-flex>
              <wui-icon name="chevronBottom"></wui-icon>
            </wui-flex>
          </button>
          ${this.detailsOpen?$`
                <wui-flex flexDirection="column" gap="2" class="details-content-container">
                  ${this.priceImpact?$` <wui-flex flexDirection="column" gap="2">
                        <wui-flex
                          justifyContent="space-between"
                          alignItems="center"
                          class="details-row"
                        >
                          <wui-flex alignItems="center" gap="2">
                            <wui-text
                              class="details-row-title"
                              variant="sm-regular"
                              color="secondary"
                            >
                              Price impact
                            </wui-text>
                            <w3m-tooltip-trigger
                              text="Price impact reflects the change in market price due to your trade"
                            >
                              <wui-icon size="sm" color="default" name="info"></wui-icon>
                            </w3m-tooltip-trigger>
                          </wui-flex>
                          <wui-flex>
                            <wui-text variant="sm-regular" color="secondary">
                              ${zt.formatNumberToLocalString(this.priceImpact,3)}%
                            </wui-text>
                          </wui-flex>
                        </wui-flex>
                      </wui-flex>`:null}
                  ${this.maxSlippage&&this.sourceToken.symbol?$`<wui-flex flexDirection="column" gap="2">
                        <wui-flex
                          justifyContent="space-between"
                          alignItems="center"
                          class="details-row"
                        >
                          <wui-flex alignItems="center" gap="2">
                            <wui-text
                              class="details-row-title"
                              variant="sm-regular"
                              color="secondary"
                            >
                              Max. slippage
                            </wui-text>
                            <w3m-tooltip-trigger
                              text=${`Max slippage sets the minimum amount you must receive for the transaction to proceed. ${e?`Transaction will be reversed if you receive less than ${zt.formatNumberToLocalString(e,6)} ${this.toToken.symbol} due to price changes.`:""}`}
                            >
                              <wui-icon size="sm" color="default" name="info"></wui-icon>
                            </w3m-tooltip-trigger>
                          </wui-flex>
                          <wui-flex>
                            <wui-text variant="sm-regular" color="secondary">
                              ${zt.formatNumberToLocalString(this.maxSlippage,6)}
                              ${this.toToken.symbol} ${BGe}%
                            </wui-text>
                          </wui-flex>
                        </wui-flex>
                      </wui-flex>`:null}
                  <wui-flex flexDirection="column" gap="2">
                    <wui-flex
                      justifyContent="space-between"
                      alignItems="center"
                      class="details-row provider-free-row"
                    >
                      <wui-flex alignItems="center" gap="2">
                        <wui-text class="details-row-title" variant="sm-regular" color="secondary">
                          Provider fee
                        </wui-text>
                      </wui-flex>
                      <wui-flex>
                        <wui-text variant="sm-regular" color="secondary">0.85%</wui-text>
                      </wui-flex>
                    </wui-flex>
                  </wui-flex>
                </wui-flex>
              `:null}
        </wui-flex>
      </wui-flex>
    `}toggleDetails(){this.detailsOpen=!this.detailsOpen}};Aa.styles=[jGe];_l([W()],Aa.prototype,"networkName",void 0);_l([L()],Aa.prototype,"detailsOpen",void 0);_l([W()],Aa.prototype,"sourceToken",void 0);_l([W()],Aa.prototype,"toToken",void 0);_l([W()],Aa.prototype,"toTokenAmount",void 0);_l([W()],Aa.prototype,"sourceTokenPriceInUSD",void 0);_l([W()],Aa.prototype,"toTokenPriceInUSD",void 0);_l([W()],Aa.prototype,"priceImpact",void 0);_l([W()],Aa.prototype,"maxSlippage",void 0);_l([W()],Aa.prototype,"networkTokenSymbol",void 0);_l([W()],Aa.prototype,"inputError",void 0);Aa=_l([ie("w3m-swap-details")],Aa);const zGe=ve`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    border-radius: ${({borderRadius:t})=>t[5]};
    padding: ${({spacing:t})=>t[5]};
    padding-right: ${({spacing:t})=>t[3]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: inset 0px 0px 0px 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    width: 100%;
    height: 100px;
    box-sizing: border-box;
    position: relative;
  }

  wui-shimmer.market-value {
    opacity: 0;
  }

  :host > wui-flex > svg.input_mask {
    position: absolute;
    inset: 0;
    z-index: 5;
  }

  :host wui-flex .input_mask__border,
  :host wui-flex .input_mask__background {
    transition: fill ${({durations:t})=>t.md}
      ${({easings:t})=>t["ease-out-power-1"]};
    will-change: fill;
  }

  :host wui-flex .input_mask__border {
    fill: ${({tokens:t})=>t.core.glass010};
  }

  :host wui-flex .input_mask__background {
    fill: ${({tokens:t})=>t.theme.foregroundPrimary};
  }
`;var aoe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xx=class extends Q{constructor(){super(...arguments),this.target="sourceToken"}render(){return $`
      <wui-flex class justifyContent="space-between">
        <wui-flex
          flex="1"
          flexDirection="column"
          alignItems="flex-start"
          justifyContent="center"
          class="swap-input"
          gap="1"
        >
          <wui-shimmer width="80px" height="40px" rounded variant="light"></wui-shimmer>
        </wui-flex>
        ${this.templateTokenSelectButton()}
      </wui-flex>
    `}templateTokenSelectButton(){return $`
      <wui-flex
        class="swap-token-button"
        flexDirection="column"
        alignItems="flex-end"
        justifyContent="center"
        gap="1"
      >
        <wui-shimmer width="80px" height="40px" rounded variant="light"></wui-shimmer>
      </wui-flex>
    `}};xx.styles=[zGe];aoe([L()],xx.prototype,"target",void 0);xx=aoe([ie("w3m-swap-input-skeleton")],xx);const WGe=ve`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:t})=>t[1]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[32]};
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t[32]};
  }

  wui-text {
    padding-left: ${({spacing:t})=>t[1]};
    padding-right: ${({spacing:t})=>t[1]};
  }

  .left-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  .left-image-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .chain-image {
    position: absolute;
    border: 1px solid ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] .token-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .token-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .token-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .chain-image {
    width: 12px;
    height: 12px;
    bottom: 2px;
    right: -4px;
  }

  button[data-size='md'] .chain-image {
    width: 10px;
    height: 10px;
    bottom: 2px;
    right: -4px;
  }

  button[data-size='sm'] .chain-image {
    width: 8px;
    height: 8px;
    bottom: 2px;
    right: -3px;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    opacity: 0.5;
  }
`;var wy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const qGe={lg:"lg-regular",md:"lg-regular",sm:"md-regular"},FGe={lg:"lg",md:"md",sm:"sm"};let _p=class extends Q{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.text="",this.loading=!1}render(){return this.loading?$` <wui-flex alignItems="center" gap="01" padding="01">
        <wui-shimmer width="20px" height="20px"></wui-shimmer>
        <wui-shimmer width="32px" height="18px" borderRadius="4xs"></wui-shimmer>
      </wui-flex>`:$`
      <button ?disabled=${this.disabled} data-size=${this.size}>
        ${this.imageTemplate()} ${this.textTemplate()}
      </button>
    `}imageTemplate(){if(this.imageSrc&&this.chainImageSrc)return $`<wui-flex class="left-image-container">
        <wui-image src=${this.imageSrc} class="token-image"></wui-image>
        <wui-image src=${this.chainImageSrc} class="chain-image"></wui-image>
      </wui-flex>`;if(this.imageSrc)return $`<wui-image src=${this.imageSrc} class="token-image"></wui-image>`;const e=FGe[this.size];return $`<wui-flex class="left-icon-container">
      <wui-icon size=${e} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}textTemplate(){const e=qGe[this.size];return $`<wui-text color="primary" variant=${e}
      >${this.text}</wui-text
    >`}};_p.styles=[st,Jt,WGe];wy([L()],_p.prototype,"size",void 0);wy([L()],_p.prototype,"imageSrc",void 0);wy([L()],_p.prototype,"chainImageSrc",void 0);wy([L({type:Boolean})],_p.prototype,"disabled",void 0);wy([L()],_p.prototype,"text",void 0);wy([L({type:Boolean})],_p.prototype,"loading",void 0);_p=wy([ie("wui-token-button")],_p);const HGe=ve`
  :host > wui-flex {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    border-radius: ${({borderRadius:t})=>t[5]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    padding: ${({spacing:t})=>t[5]};
    padding-right: ${({spacing:t})=>t[3]};
    width: 100%;
    height: 100px;
    box-sizing: border-box;
    box-shadow: inset 0px 0px 0px 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    position: relative;
    transition: box-shadow ${({easings:t})=>t["ease-out-power-1"]}
      ${({durations:t})=>t.lg};
    will-change: background-color;
  }

  :host wui-flex.focus {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:t})=>t.core.glass010};
  }

  :host > wui-flex .swap-input,
  :host > wui-flex .swap-token-button {
    z-index: 10;
  }

  :host > wui-flex .swap-input {
    -webkit-mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
    mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
  }

  :host > wui-flex .swap-input input {
    background: none;
    border: none;
    height: 42px;
    width: 100%;
    font-size: 32px;
    font-style: normal;
    font-weight: 400;
    line-height: 130%;
    letter-spacing: -1.28px;
    outline: none;
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
    color: ${({tokens:t})=>t.theme.textPrimary};
    padding: 0px;
  }

  :host > wui-flex .swap-input input:focus-visible {
    outline: none;
  }

  :host > wui-flex .swap-input input::-webkit-outer-spin-button,
  :host > wui-flex .swap-input input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .max-value-button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    color: ${({tokens:t})=>t.core.glass010};
    padding-left: 0px;
  }

  .market-value {
    min-height: 18px;
  }
`;var Pu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const VGe=5e-5;let bc=class extends Q{constructor(){super(...arguments),this.focused=!1,this.price=0,this.target="sourceToken",this.onSetAmount=null,this.onSetMaxValue=null}render(){const e=this.marketValue||"0",n=zt.bigNumber(e).gt("0");return $`
      <wui-flex
        class="${this.focused?"focus":""}"
        justifyContent="space-between"
        alignItems="center"
      >
        <wui-flex
          flex="1"
          flexDirection="column"
          alignItems="flex-start"
          justifyContent="center"
          class="swap-input"
        >
          <input
            data-testid="swap-input-${this.target}"
            @focusin=${()=>this.onFocusChange(!0)}
            @focusout=${()=>this.onFocusChange(!1)}
            ?disabled=${this.disabled}
            value=${this.value||""}
            @input=${this.dispatchInputChangeEvent}
            @keydown=${this.handleKeydown}
            placeholder="0"
            type="text"
            inputmode="decimal"
            pattern="[0-9,.]*"
          />
          <wui-text class="market-value" variant="sm-regular" color="secondary">
            ${n?`$${zt.formatNumberToLocalString(this.marketValue,2)}`:null}
          </wui-text>
        </wui-flex>
        ${this.templateTokenSelectButton()}
      </wui-flex>
    `}handleKeydown(e){return ZSe.numericInputKeyDown(e,this.value,n=>this.onSetAmount?.(this.target,n))}dispatchInputChangeEvent(e){if(!this.onSetAmount)return;const n=e.target.value.replace(/[^0-9.]/gu,"");n===","||n==="."?this.onSetAmount(this.target,"0."):n.endsWith(",")?this.onSetAmount(this.target,n.replace(",",".")):this.onSetAmount(this.target,n)}setMaxValueToInput(){this.onSetMaxValue?.(this.target,this.balance)}templateTokenSelectButton(){return this.token?$`
      <wui-flex
        class="swap-token-button"
        flexDirection="column"
        alignItems="flex-end"
        justifyContent="center"
        gap="1"
      >
        <wui-token-button
          data-testid="swap-input-token-${this.target}"
          text=${this.token.symbol}
          imageSrc=${this.token.logoUri}
          @click=${this.onSelectToken.bind(this)}
        >
        </wui-token-button>
        <wui-flex alignItems="center" gap="1"> ${this.tokenBalanceTemplate()} </wui-flex>
      </wui-flex>
    `:$` <wui-button
        data-testid="swap-select-token-button-${this.target}"
        class="swap-token-button"
        size="md"
        variant="neutral-secondary"
        @click=${this.onSelectToken.bind(this)}
      >
        Select token
      </wui-button>`}tokenBalanceTemplate(){const e=zt.multiply(this.balance,this.price),n=e?e?.gt(VGe):!1;return $`
      ${n?$`<wui-text variant="sm-regular" color="secondary">
            ${zt.formatNumberToLocalString(this.balance,2)}
          </wui-text>`:null}
      ${this.target==="sourceToken"?this.tokenActionButtonTemplate(n):null}
    `}tokenActionButtonTemplate(e){return e?$` <button class="max-value-button" @click=${this.setMaxValueToInput.bind(this)}>
        <wui-text color="accent-primary" variant="sm-medium">Max</wui-text>
      </button>`:$` <button class="max-value-button" @click=${this.onBuyToken.bind(this)}>
      <wui-text color="accent-primary" variant="sm-medium">Buy</wui-text>
    </button>`}onFocusChange(e){this.focused=e}onSelectToken(){Ce.sendEvent({type:"track",event:"CLICK_SELECT_TOKEN_TO_SWAP"}),Z.push("SwapSelectToken",{target:this.target})}onBuyToken(){Z.push("OnRampProviders")}};bc.styles=[HGe];Pu([L()],bc.prototype,"focused",void 0);Pu([L()],bc.prototype,"balance",void 0);Pu([L()],bc.prototype,"value",void 0);Pu([L()],bc.prototype,"price",void 0);Pu([L()],bc.prototype,"marketValue",void 0);Pu([L()],bc.prototype,"disabled",void 0);Pu([L()],bc.prototype,"target",void 0);Pu([L()],bc.prototype,"token",void 0);Pu([L()],bc.prototype,"onSetAmount",void 0);Pu([L()],bc.prototype,"onSetMaxValue",void 0);bc=Pu([ie("w3m-swap-input")],bc);const KGe=ve`
  :host > wui-flex:first-child {
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .action-button {
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  .action-button:disabled {
    border-color: 1px solid ${({tokens:t})=>t.core.glass010};
  }

  .swap-inputs-container {
    position: relative;
  }

  wui-icon-box {
    width: 32px;
    height: 32px;
    border-radius: ${({borderRadius:t})=>t[10]} !important;
    border: 4px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 3;
  }

  .replace-tokens-button-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    gap: ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[4]};
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    padding: ${({spacing:t})=>t[2]};
  }

  .details-container > wui-flex {
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[3]};
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
    transition: background ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background;
  }

  .details-container > wui-flex > button:hover {
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .details-content-container {
    padding: ${({spacing:t})=>t[2]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[5]};
    border-radius: ${({borderRadius:t})=>t[3]};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }
`;var Xi=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let li=class extends Q{subscribe({resetSwapState:e,initializeSwapState:n}){return()=>{j.subscribeKey("activeCaipNetwork",r=>this.onCaipNetworkChange({newCaipNetwork:r,resetSwapState:e,initializeSwapState:n})),j.subscribeChainProp("accountState",r=>{this.onCaipAddressChange({newCaipAddress:r?.caipAddress,resetSwapState:e,initializeSwapState:n})})}}constructor(){super(),this.unsubscribe=[],this.initialParams=Z.state.data?.swap,this.detailsOpen=!1,this.caipAddress=j.getAccountData()?.caipAddress,this.caipNetworkId=j.state.activeCaipNetwork?.caipNetworkId,this.initialized=we.state.initialized,this.loadingQuote=we.state.loadingQuote,this.loadingPrices=we.state.loadingPrices,this.loadingTransaction=we.state.loadingTransaction,this.sourceToken=we.state.sourceToken,this.sourceTokenAmount=we.state.sourceTokenAmount,this.sourceTokenPriceInUSD=we.state.sourceTokenPriceInUSD,this.toToken=we.state.toToken,this.toTokenAmount=we.state.toTokenAmount,this.toTokenPriceInUSD=we.state.toTokenPriceInUSD,this.inputError=we.state.inputError,this.fetchError=we.state.fetchError,this.lastTokenPriceUpdate=0,this.minTokenPriceUpdateInterval=1e4,this.visibilityChangeHandler=()=>{document?.hidden?(clearInterval(this.interval),this.interval=void 0):this.startTokenPriceInterval()},this.startTokenPriceInterval=()=>{this.interval&&Date.now()-this.lastTokenPriceUpdate<this.minTokenPriceUpdateInterval||(this.lastTokenPriceUpdate&&Date.now()-this.lastTokenPriceUpdate>this.minTokenPriceUpdateInterval&&this.fetchTokensAndValues(),clearInterval(this.interval),this.interval=setInterval(()=>{this.fetchTokensAndValues()},this.minTokenPriceUpdateInterval))},this.watchTokensAndValues=()=>{!this.sourceToken||!this.toToken||(this.subscribeToVisibilityChange(),this.startTokenPriceInterval())},this.onDebouncedGetSwapCalldata=oe.debounce(async()=>{await we.swapTokens()},200),this.subscribe({resetSwapState:!0,initializeSwapState:!1})(),this.unsubscribe.push(this.subscribe({resetSwapState:!1,initializeSwapState:!0}),Ke.subscribeKey("open",e=>{e||we.resetState()}),Z.subscribeKey("view",e=>{e.includes("Swap")||we.resetValues()}),we.subscribe(e=>{this.initialized=e.initialized,this.loadingQuote=e.loadingQuote,this.loadingPrices=e.loadingPrices,this.loadingTransaction=e.loadingTransaction,this.sourceToken=e.sourceToken,this.sourceTokenAmount=e.sourceTokenAmount,this.sourceTokenPriceInUSD=e.sourceTokenPriceInUSD,this.toToken=e.toToken,this.toTokenAmount=e.toTokenAmount,this.toTokenPriceInUSD=e.toTokenPriceInUSD,this.inputError=e.inputError,this.fetchError=e.fetchError,e.sourceToken&&e.toToken&&this.watchTokensAndValues()}))}async firstUpdated(){we.initializeState(),this.watchTokensAndValues(),await this.handleSwapParameters()}disconnectedCallback(){this.unsubscribe.forEach(e=>e?.()),clearInterval(this.interval),document?.removeEventListener("visibilitychange",this.visibilityChangeHandler)}render(){return $`
      <wui-flex flexDirection="column" .padding=${["0","4","4","4"]} gap="3">
        ${this.initialized?this.templateSwap():this.templateLoading()}
      </wui-flex>
    `}subscribeToVisibilityChange(){document?.removeEventListener("visibilitychange",this.visibilityChangeHandler),document?.addEventListener("visibilitychange",this.visibilityChangeHandler)}fetchTokensAndValues(){we.getNetworkTokenPrice(),we.getMyTokensWithBalance(),we.swapTokens(),this.lastTokenPriceUpdate=Date.now()}templateSwap(){return $`
      <wui-flex flexDirection="column" gap="3">
        <wui-flex flexDirection="column" alignItems="center" gap="2" class="swap-inputs-container">
          ${this.templateTokenInput("sourceToken",this.sourceToken)}
          ${this.templateTokenInput("toToken",this.toToken)} ${this.templateReplaceTokensButton()}
        </wui-flex>
        ${this.templateDetails()} ${this.templateActionButton()}
      </wui-flex>
    `}actionButtonLabel(){const e=!this.sourceTokenAmount||this.sourceTokenAmount==="0";return this.fetchError?"Swap":!this.sourceToken||!this.toToken?"Select token":e?"Enter amount":this.inputError?this.inputError:"Review swap"}templateReplaceTokensButton(){return $`
      <wui-flex class="replace-tokens-button-container">
        <wui-icon-box
          @click=${this.onSwitchTokens.bind(this)}
          icon="recycleHorizontal"
          size="md"
          variant="default"
        ></wui-icon-box>
      </wui-flex>
    `}templateLoading(){return $`
      <wui-flex flexDirection="column" gap="4">
        <wui-flex flexDirection="column" alignItems="center" gap="2" class="swap-inputs-container">
          <w3m-swap-input-skeleton target="sourceToken"></w3m-swap-input-skeleton>
          <w3m-swap-input-skeleton target="toToken"></w3m-swap-input-skeleton>
          ${this.templateReplaceTokensButton()}
        </wui-flex>
        ${this.templateActionButton()}
      </wui-flex>
    `}templateTokenInput(e,n){const r=we.state.myTokensWithBalance?.find(a=>a?.address===n?.address),i=e==="toToken"?this.toTokenAmount:this.sourceTokenAmount,s=e==="toToken"?this.toTokenPriceInUSD:this.sourceTokenPriceInUSD,o=zt.parseLocalStringToNumber(i)*s;return $`<w3m-swap-input
      .value=${e==="toToken"?this.toTokenAmount:this.sourceTokenAmount}
      .disabled=${e==="toToken"}
      .onSetAmount=${this.handleChangeAmount.bind(this)}
      target=${e}
      .token=${n}
      .balance=${r?.quantity?.numeric}
      .price=${r?.price}
      .marketValue=${o}
      .onSetMaxValue=${this.onSetMaxValue.bind(this)}
    ></w3m-swap-input>`}onSetMaxValue(e,n){const r=zt.bigNumber(n||"0");this.handleChangeAmount(e,r.gt(0)?r.toFixed(20):"0")}templateDetails(){return!this.sourceToken||!this.toToken||this.inputError?null:$`<w3m-swap-details .detailsOpen=${this.detailsOpen}></w3m-swap-details>`}handleChangeAmount(e,n){we.clearError(),e==="sourceToken"?we.setSourceTokenAmount(n):we.setToTokenAmount(n),this.onDebouncedGetSwapCalldata()}templateActionButton(){const e=!this.toToken||!this.sourceToken,n=!this.sourceTokenAmount||this.sourceTokenAmount==="0",r=this.loadingQuote||this.loadingPrices||this.loadingTransaction,i=r||e||n||this.inputError;return $` <wui-flex gap="2">
      <wui-button
        data-testid="swap-action-button"
        class="action-button"
        fullWidth
        size="lg"
        borderRadius="xs"
        variant="accent-primary"
        ?loading=${!!r}
        ?disabled=${!!i}
        @click=${this.onSwapPreview.bind(this)}
      >
        ${this.actionButtonLabel()}
      </wui-button>
    </wui-flex>`}async onSwitchTokens(){await we.switchTokens()}async onSwapPreview(){this.fetchError&&await we.swapTokens(),Ce.sendEvent({type:"track",event:"INITIATE_SWAP",properties:{network:this.caipNetworkId||"",swapFromToken:this.sourceToken?.symbol||"",swapToToken:this.toToken?.symbol||"",swapFromAmount:this.sourceTokenAmount||"",swapToAmount:this.toTokenAmount||"",isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),Z.push("SwapPreview")}async handleSwapParameters(){this.initialParams&&(we.state.initialized||await new Promise(n=>{const r=we.subscribeKey("initialized",i=>{i&&(r?.(),n())})}),await this.setSwapParameters(this.initialParams))}async setSwapParameters({amount:e,fromToken:n,toToken:r}){(!we.state.tokens||!we.state.myTokensWithBalance)&&await new Promise(o=>{const a=we.subscribeKey("myTokensWithBalance",c=>{c&&c.length>0&&(a?.(),o())});setTimeout(()=>{a?.(),o()},5e3)});const i=[...we.state.tokens||[],...we.state.myTokensWithBalance||[]];if(n){const s=i.find(o=>o.symbol.toLowerCase()===n.toLowerCase());s&&we.setSourceToken(s)}if(r){const s=i.find(o=>o.symbol.toLowerCase()===r.toLowerCase());s&&we.setToToken(s)}e&&!isNaN(Number(e))&&we.setSourceTokenAmount(e)}onCaipAddressChange({newCaipAddress:e,resetSwapState:n,initializeSwapState:r}){this.caipAddress!==e&&(this.caipAddress=e,n&&we.resetState(),r&&we.initializeState())}onCaipNetworkChange({newCaipNetwork:e,resetSwapState:n,initializeSwapState:r}){this.caipNetworkId!==e?.caipNetworkId&&(this.caipNetworkId=e?.caipNetworkId,n&&we.resetState(),r&&we.initializeState())}};li.styles=KGe;Xi([L({type:Object})],li.prototype,"initialParams",void 0);Xi([W()],li.prototype,"interval",void 0);Xi([W()],li.prototype,"detailsOpen",void 0);Xi([W()],li.prototype,"caipAddress",void 0);Xi([W()],li.prototype,"caipNetworkId",void 0);Xi([W()],li.prototype,"initialized",void 0);Xi([W()],li.prototype,"loadingQuote",void 0);Xi([W()],li.prototype,"loadingPrices",void 0);Xi([W()],li.prototype,"loadingTransaction",void 0);Xi([W()],li.prototype,"sourceToken",void 0);Xi([W()],li.prototype,"sourceTokenAmount",void 0);Xi([W()],li.prototype,"sourceTokenPriceInUSD",void 0);Xi([W()],li.prototype,"toToken",void 0);Xi([W()],li.prototype,"toTokenAmount",void 0);Xi([W()],li.prototype,"toTokenPriceInUSD",void 0);Xi([W()],li.prototype,"inputError",void 0);Xi([W()],li.prototype,"fetchError",void 0);Xi([W()],li.prototype,"lastTokenPriceUpdate",void 0);li=Xi([ie("w3m-swap-view")],li);const ZGe=ve`
  :host > wui-flex:first-child {
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  .preview-container,
  .details-container {
    width: 100%;
  }

  .token-image {
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.core.glass010};
    border-radius: 12px;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .token-item {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[2]};
    height: 40px;
    border: none;
    border-radius: 80px;
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    cursor: pointer;
    transition: background ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background;
  }

  .token-item:hover {
    background: ${({tokens:t})=>t.core.glass010};
  }

  .preview-token-details-container {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[5]};
    border-radius: ${({borderRadius:t})=>t[3]};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .action-buttons-container {
    width: 100%;
    gap: ${({spacing:t})=>t[2]};
  }

  .action-buttons-container > button {
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    height: 48px;
    border-radius: ${({borderRadius:t})=>t[4]};
    border: none;
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
  }

  .action-buttons-container > button:disabled {
    opacity: 0.8;
    cursor: not-allowed;
  }

  .action-button > wui-loading-spinner {
    display: inline-block;
  }

  .cancel-button:hover,
  .action-button:hover {
    cursor: pointer;
  }

  .action-buttons-container > wui-button.cancel-button {
    flex: 2;
  }

  .action-buttons-container > wui-button.action-button {
    flex: 4;
  }

  .action-buttons-container > button.action-button > wui-text {
    color: white;
  }

  .details-container > wui-flex {
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[3]};
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
    transition: background ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background;
  }

  .details-container > wui-flex > button:hover {
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .details-content-container {
    padding: ${({spacing:t})=>t[2]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[5]};
    border-radius: ${({borderRadius:t})=>t[3]};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }
`;var As=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _i=class extends Q{constructor(){super(),this.unsubscribe=[],this.detailsOpen=!0,this.approvalTransaction=we.state.approvalTransaction,this.swapTransaction=we.state.swapTransaction,this.sourceToken=we.state.sourceToken,this.sourceTokenAmount=we.state.sourceTokenAmount??"",this.sourceTokenPriceInUSD=we.state.sourceTokenPriceInUSD,this.balanceSymbol=j.getAccountData()?.balanceSymbol,this.toToken=we.state.toToken,this.toTokenAmount=we.state.toTokenAmount??"",this.toTokenPriceInUSD=we.state.toTokenPriceInUSD,this.caipNetwork=j.state.activeCaipNetwork,this.inputError=we.state.inputError,this.loadingQuote=we.state.loadingQuote,this.loadingApprovalTransaction=we.state.loadingApprovalTransaction,this.loadingBuildTransaction=we.state.loadingBuildTransaction,this.loadingTransaction=we.state.loadingTransaction,this.unsubscribe.push(j.subscribeChainProp("accountState",e=>{e?.balanceSymbol!==this.balanceSymbol&&Z.goBack()}),j.subscribeKey("activeCaipNetwork",e=>{this.caipNetwork!==e&&(this.caipNetwork=e)}),we.subscribe(e=>{this.approvalTransaction=e.approvalTransaction,this.swapTransaction=e.swapTransaction,this.sourceToken=e.sourceToken,this.toToken=e.toToken,this.toTokenPriceInUSD=e.toTokenPriceInUSD,this.sourceTokenAmount=e.sourceTokenAmount??"",this.toTokenAmount=e.toTokenAmount??"",this.inputError=e.inputError,e.inputError&&Z.goBack(),this.loadingQuote=e.loadingQuote,this.loadingApprovalTransaction=e.loadingApprovalTransaction,this.loadingBuildTransaction=e.loadingBuildTransaction,this.loadingTransaction=e.loadingTransaction}))}firstUpdated(){we.getTransaction(),this.refreshTransaction()}disconnectedCallback(){this.unsubscribe.forEach(e=>e?.()),clearInterval(this.interval)}render(){return $`
      <wui-flex flexDirection="column" .padding=${["0","4","4","4"]} gap="3">
        ${this.templateSwap()}
      </wui-flex>
    `}refreshTransaction(){this.interval=setInterval(()=>{we.getApprovalLoadingState()||we.getTransaction()},1e4)}templateSwap(){const e=`${zt.formatNumberToLocalString(parseFloat(this.sourceTokenAmount))} ${this.sourceToken?.symbol}`,n=`${zt.formatNumberToLocalString(parseFloat(this.toTokenAmount))} ${this.toToken?.symbol}`,r=parseFloat(this.sourceTokenAmount)*this.sourceTokenPriceInUSD,i=parseFloat(this.toTokenAmount)*this.toTokenPriceInUSD,s=zt.formatNumberToLocalString(r),o=zt.formatNumberToLocalString(i),a=this.loadingQuote||this.loadingBuildTransaction||this.loadingTransaction||this.loadingApprovalTransaction;return $`
      <wui-flex flexDirection="column" alignItems="center" gap="4">
        <wui-flex class="preview-container" flexDirection="column" alignItems="flex-start" gap="4">
          <wui-flex
            class="preview-token-details-container"
            alignItems="center"
            justifyContent="space-between"
            gap="4"
          >
            <wui-flex flexDirection="column" alignItems="flex-start" gap="01">
              <wui-text variant="sm-regular" color="secondary">Send</wui-text>
              <wui-text variant="md-regular" color="primary">$${s}</wui-text>
            </wui-flex>
            <wui-token-button
              flexDirection="row-reverse"
              text=${e}
              imageSrc=${this.sourceToken?.logoUri}
            >
            </wui-token-button>
          </wui-flex>
          <wui-icon name="recycleHorizontal" color="default" size="md"></wui-icon>
          <wui-flex
            class="preview-token-details-container"
            alignItems="center"
            justifyContent="space-between"
            gap="4"
          >
            <wui-flex flexDirection="column" alignItems="flex-start" gap="01">
              <wui-text variant="sm-regular" color="secondary">Receive</wui-text>
              <wui-text variant="md-regular" color="primary">$${o}</wui-text>
            </wui-flex>
            <wui-token-button
              flexDirection="row-reverse"
              text=${n}
              imageSrc=${this.toToken?.logoUri}
            >
            </wui-token-button>
          </wui-flex>
        </wui-flex>

        ${this.templateDetails()}

        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="2">
          <wui-icon size="sm" color="default" name="info"></wui-icon>
          <wui-text variant="sm-regular" color="secondary">Review transaction carefully</wui-text>
        </wui-flex>

        <wui-flex
          class="action-buttons-container"
          flexDirection="row"
          alignItems="center"
          justifyContent="space-between"
          gap="2"
        >
          <wui-button
            class="cancel-button"
            fullWidth
            size="lg"
            borderRadius="xs"
            variant="neutral-secondary"
            @click=${this.onCancelTransaction.bind(this)}
          >
            <wui-text variant="md-medium" color="secondary">Cancel</wui-text>
          </wui-button>
          <wui-button
            class="action-button"
            fullWidth
            size="lg"
            borderRadius="xs"
            variant="accent-primary"
            ?loading=${a}
            ?disabled=${a}
            @click=${this.onSendTransaction.bind(this)}
          >
            <wui-text variant="md-medium" color="invert"> ${this.actionButtonLabel()} </wui-text>
          </wui-button>
        </wui-flex>
      </wui-flex>
    `}templateDetails(){return!this.sourceToken||!this.toToken||this.inputError?null:$`<w3m-swap-details .detailsOpen=${this.detailsOpen}></w3m-swap-details>`}actionButtonLabel(){return this.loadingApprovalTransaction?"Approving...":this.approvalTransaction?"Approve":"Swap"}onCancelTransaction(){Z.goBack()}onSendTransaction(){this.approvalTransaction?we.sendTransactionForApproval(this.approvalTransaction):we.sendTransactionForSwap(this.swapTransaction)}};_i.styles=ZGe;As([W()],_i.prototype,"interval",void 0);As([W()],_i.prototype,"detailsOpen",void 0);As([W()],_i.prototype,"approvalTransaction",void 0);As([W()],_i.prototype,"swapTransaction",void 0);As([W()],_i.prototype,"sourceToken",void 0);As([W()],_i.prototype,"sourceTokenAmount",void 0);As([W()],_i.prototype,"sourceTokenPriceInUSD",void 0);As([W()],_i.prototype,"balanceSymbol",void 0);As([W()],_i.prototype,"toToken",void 0);As([W()],_i.prototype,"toTokenAmount",void 0);As([W()],_i.prototype,"toTokenPriceInUSD",void 0);As([W()],_i.prototype,"caipNetwork",void 0);As([W()],_i.prototype,"inputError",void 0);As([W()],_i.prototype,"loadingQuote",void 0);As([W()],_i.prototype,"loadingApprovalTransaction",void 0);As([W()],_i.prototype,"loadingBuildTransaction",void 0);As([W()],_i.prototype,"loadingTransaction",void 0);_i=As([ie("w3m-swap-preview-view")],_i);const GGe=ve`
  :host {
    width: 100%;
    height: 60px;
    min-height: 60px;
  }

  :host > wui-flex {
    cursor: pointer;
    height: 100%;
    display: flex;
    column-gap: ${({spacing:t})=>t[3]};
    padding: ${({spacing:t})=>t[2]};
    padding-right: ${({spacing:t})=>t[4]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.foregroundSecondary};
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, opacity;
  }

  @media (hover: hover) and (pointer: fine) {
    :host > wui-flex:hover {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }

    :host > wui-flex:active {
      background-color: ${({tokens:t})=>t.core.glass010};
    }
  }

  :host([disabled]) > wui-flex {
    opacity: 0.6;
  }

  :host([disabled]) > wui-flex:hover {
    background-color: transparent;
  }

  :host > wui-flex > wui-flex {
    flex: 1;
  }

  :host > wui-flex > wui-image,
  :host > wui-flex > .token-item-image-placeholder {
    width: 40px;
    max-width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[20]};
    position: relative;
  }

  :host > wui-flex > .token-item-image-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host > wui-flex > wui-image::after,
  :host > wui-flex > .token-item-image-placeholder::after {
    position: absolute;
    content: '';
    inset: 0;
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
    border-radius: ${({borderRadius:t})=>t[8]};
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: ${({borderRadius:t})=>t[2]};
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }
`;var Gg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ad=class extends Q{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.imageSrc=void 0,this.name=void 0,this.symbol=void 0,this.price=void 0,this.amount=void 0,this.visible=!1,this.imageError=!1,this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?this.visible=!0:this.visible=!1})},{threshold:.1})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){if(!this.visible)return null;const e=this.amount&&this.price?zt.multiply(this.price,this.amount)?.toFixed(3):null;return $`
      <wui-flex alignItems="center">
        ${this.visualTemplate()}
        <wui-flex flexDirection="column" gap="1">
          <wui-flex justifyContent="space-between">
            <wui-text variant="md-medium" color="primary" lineClamp="1">${this.name}</wui-text>
            ${e?$`
                  <wui-text variant="md-medium" color="primary">
                    $${zt.formatNumberToLocalString(e,3)}
                  </wui-text>
                `:null}
          </wui-flex>
          <wui-flex justifyContent="space-between">
            <wui-text variant="sm-regular" color="secondary" lineClamp="1">${this.symbol}</wui-text>
            ${this.amount?$`<wui-text variant="sm-regular" color="secondary">
                  ${zt.formatNumberToLocalString(this.amount,5)}
                </wui-text>`:null}
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}visualTemplate(){return this.imageError?$`<wui-flex class="token-item-image-placeholder">
        <wui-icon name="image" color="inherit"></wui-icon>
      </wui-flex>`:this.imageSrc?$`<wui-image
        width="40"
        height="40"
        src=${this.imageSrc}
        @onLoadError=${this.imageLoadError}
      ></wui-image>`:null}imageLoadError(){this.imageError=!0}};Ad.styles=[st,Jt,GGe];Gg([L()],Ad.prototype,"imageSrc",void 0);Gg([L()],Ad.prototype,"name",void 0);Gg([L()],Ad.prototype,"symbol",void 0);Gg([L()],Ad.prototype,"price",void 0);Gg([L()],Ad.prototype,"amount",void 0);Gg([W()],Ad.prototype,"visible",void 0);Gg([W()],Ad.prototype,"imageError",void 0);Ad=Gg([ie("wui-token-list-item")],Ad);const YGe=ve`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    cursor: pointer;
    height: 100%;
    width: 100%;
    display: flex;
    column-gap: ${({spacing:t})=>t[3]};
    padding: ${({spacing:t})=>t[2]};
    padding-right: ${({spacing:t})=>t[4]};
  }

  wui-flex {
    display: flex;
    flex: 1;
  }
`;var JGe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let j9=class extends Q{render(){return $`
      <wui-flex alignItems="center">
        <wui-shimmer width="40px" height="40px"></wui-shimmer>
        <wui-flex flexDirection="column" gap="1">
          <wui-shimmer width="72px" height="16px" borderRadius="4xs"></wui-shimmer>
          <wui-shimmer width="148px" height="14px" borderRadius="4xs"></wui-shimmer>
        </wui-flex>
        <wui-flex flexDirection="column" gap="1" alignItems="flex-end">
          <wui-shimmer width="24px" height="12px" borderRadius="4xs"></wui-shimmer>
          <wui-shimmer width="32px" height="12px" borderRadius="4xs"></wui-shimmer>
        </wui-flex>
      </wui-flex>
    `}};j9.styles=[st,YGe];j9=JGe([ie("wui-token-list-item-loader")],j9);const XGe=ve`
  :host {
    --tokens-scroll--top-opacity: 0;
    --tokens-scroll--bottom-opacity: 1;
    --suggested-tokens-scroll--left-opacity: 0;
    --suggested-tokens-scroll--right-opacity: 1;
  }

  :host > wui-flex:first-child {
    overflow-y: hidden;
    overflow-x: hidden;
    scrollbar-width: none;
    scrollbar-height: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .suggested-tokens-container {
    overflow-x: auto;
    mask-image: linear-gradient(
      to right,
      rgba(0, 0, 0, calc(1 - var(--suggested-tokens-scroll--left-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--suggested-tokens-scroll--left-opacity))) 1px,
      black 50px,
      black 90px,
      black calc(100% - 90px),
      black calc(100% - 50px),
      rgba(155, 155, 155, calc(1 - var(--suggested-tokens-scroll--right-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--suggested-tokens-scroll--right-opacity))) 100%
    );
  }

  .suggested-tokens-container::-webkit-scrollbar {
    display: none;
  }

  .tokens-container {
    border-top: 1px solid ${({tokens:t})=>t.core.glass010};
    height: 100%;
    max-height: 390px;
  }

  .tokens {
    width: 100%;
    overflow-y: auto;
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, calc(1 - var(--tokens-scroll--top-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--tokens-scroll--top-opacity))) 1px,
      black 50px,
      black 90px,
      black calc(100% - 90px),
      black calc(100% - 50px),
      rgba(155, 155, 155, calc(1 - var(--tokens-scroll--bottom-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--tokens-scroll--bottom-opacity))) 100%
    );
  }

  .network-search-input,
  .select-network-button {
    height: 40px;
  }

  .select-network-button {
    border: none;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[2]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[3]};
    padding: ${({spacing:t})=>t[2]};
    align-items: center;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  .select-network-button:hover {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .select-network-button > wui-image {
    width: 26px;
    height: 26px;
    border-radius: ${({borderRadius:t})=>t[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
  }
`;var Ru=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ka=class extends Q{constructor(){super(),this.unsubscribe=[],this.targetToken=Z.state.data?.target,this.sourceToken=we.state.sourceToken,this.sourceTokenAmount=we.state.sourceTokenAmount,this.toToken=we.state.toToken,this.myTokensWithBalance=we.state.myTokensWithBalance,this.popularTokens=we.state.popularTokens,this.suggestedTokens=we.state.suggestedTokens,this.tokensLoading=we.state.tokensLoading,this.searchValue="",this.unsubscribe.push(we.subscribe(e=>{this.sourceToken=e.sourceToken,this.toToken=e.toToken,this.myTokensWithBalance=e.myTokensWithBalance,this.popularTokens=e.popularTokens,this.suggestedTokens=e.suggestedTokens,this.tokensLoading=e.tokensLoading}))}async firstUpdated(){await we.getTokenList()}updated(){this.renderRoot?.querySelector(".suggested-tokens-container")?.addEventListener("scroll",this.handleSuggestedTokensScroll.bind(this)),this.renderRoot?.querySelector(".tokens")?.addEventListener("scroll",this.handleTokenListScroll.bind(this))}disconnectedCallback(){super.disconnectedCallback();const e=this.renderRoot?.querySelector(".suggested-tokens-container"),n=this.renderRoot?.querySelector(".tokens");e?.removeEventListener("scroll",this.handleSuggestedTokensScroll.bind(this)),n?.removeEventListener("scroll",this.handleTokenListScroll.bind(this)),clearInterval(this.interval)}render(){return $`
      <wui-flex flexDirection="column" gap="3">
        ${this.templateSearchInput()} ${this.templateSuggestedTokens()} ${this.templateTokens()}
      </wui-flex>
    `}onSelectToken(e){this.targetToken==="sourceToken"?we.setSourceToken(e):(we.setToToken(e),this.sourceToken&&this.sourceTokenAmount&&we.swapTokens()),Z.goBack()}templateSearchInput(){return $`
      <wui-flex .padding=${["1","3","0","3"]} gap="2">
        <wui-input-text
          data-testid="swap-select-token-search-input"
          class="network-search-input"
          size="sm"
          placeholder="Search token"
          icon="search"
          .value=${this.searchValue}
          @inputChange=${this.onSearchInputChange.bind(this)}
        ></wui-input-text>
      </wui-flex>
    `}templateMyTokens(){const e=this.myTokensWithBalance?Object.values(this.myTokensWithBalance):[],n=this.filterTokensWithText(e,this.searchValue);return n?.length>0?$`<wui-flex justifyContent="flex-start" padding="2">
          <wui-text variant="md-medium" color="secondary">Your tokens</wui-text>
        </wui-flex>
        ${n.map(r=>{const i=r.symbol===this.sourceToken?.symbol||r.symbol===this.toToken?.symbol;return $`
            <wui-token-list-item
              data-testid="swap-select-token-item-${r.symbol}"
              name=${r.name}
              ?disabled=${i}
              symbol=${r.symbol}
              price=${r?.price}
              amount=${r?.quantity?.numeric}
              imageSrc=${r.logoUri}
              @click=${()=>{i||this.onSelectToken(r)}}
            >
            </wui-token-list-item>
          `})}`:null}templateAllTokens(){const e=this.popularTokens?this.popularTokens:[],n=this.filterTokensWithText(e,this.searchValue);return this.tokensLoading?$`
        <wui-token-list-item-loader></wui-token-list-item-loader>
        <wui-token-list-item-loader></wui-token-list-item-loader>
        <wui-token-list-item-loader></wui-token-list-item-loader>
        <wui-token-list-item-loader></wui-token-list-item-loader>
        <wui-token-list-item-loader></wui-token-list-item-loader>
      `:n?.length>0?$`
        ${n.map(r=>$`
            <wui-token-list-item
              data-testid="swap-select-token-item-${r.symbol}"
              name=${r.name}
              symbol=${r.symbol}
              imageSrc=${r.logoUri}
              @click=${()=>this.onSelectToken(r)}
            >
            </wui-token-list-item>
          `)}
      `:null}templateTokens(){return $`
      <wui-flex class="tokens-container">
        <wui-flex class="tokens" .padding=${["0","2","2","2"]} flexDirection="column">
          ${this.templateMyTokens()}
          <wui-flex justifyContent="flex-start" padding="3">
            <wui-text variant="md-medium" color="secondary">Tokens</wui-text>
          </wui-flex>
          ${this.templateAllTokens()}
        </wui-flex>
      </wui-flex>
    `}templateSuggestedTokens(){const e=this.suggestedTokens?this.suggestedTokens.slice(0,8):null;return this.tokensLoading?$`
        <wui-flex
          class="suggested-tokens-container"
          .padding=${["0","3","0","3"]}
          gap="2"
        >
          <wui-token-button loading></wui-token-button>
          <wui-token-button loading></wui-token-button>
          <wui-token-button loading></wui-token-button>
          <wui-token-button loading></wui-token-button>
          <wui-token-button loading></wui-token-button>
        </wui-flex>
      `:e?$`
      <wui-flex
        class="suggested-tokens-container"
        .padding=${["0","3","0","3"]}
        gap="2"
      >
        ${e.map(n=>$`
            <wui-token-button
              text=${n.symbol}
              imageSrc=${n.logoUri}
              @click=${()=>this.onSelectToken(n)}
            >
            </wui-token-button>
          `)}
      </wui-flex>
    `:null}onSearchInputChange(e){this.searchValue=e.detail}handleSuggestedTokensScroll(){const e=this.renderRoot?.querySelector(".suggested-tokens-container");e&&(e.style.setProperty("--suggested-tokens-scroll--left-opacity",Gf.interpolate([0,100],[0,1],e.scrollLeft).toString()),e.style.setProperty("--suggested-tokens-scroll--right-opacity",Gf.interpolate([0,100],[0,1],e.scrollWidth-e.scrollLeft-e.offsetWidth).toString()))}handleTokenListScroll(){const e=this.renderRoot?.querySelector(".tokens");e&&(e.style.setProperty("--tokens-scroll--top-opacity",Gf.interpolate([0,100],[0,1],e.scrollTop).toString()),e.style.setProperty("--tokens-scroll--bottom-opacity",Gf.interpolate([0,100],[0,1],e.scrollHeight-e.scrollTop-e.offsetHeight).toString()))}filterTokensWithText(e,n){return e.filter(r=>`${r.symbol} ${r.name} ${r.address}`.toLowerCase().includes(n.toLowerCase())).sort((r,i)=>{const s=`${r.symbol} ${r.name} ${r.address}`.toLowerCase(),o=`${i.symbol} ${i.name} ${i.address}`.toLowerCase(),a=s.indexOf(n.toLowerCase()),c=o.indexOf(n.toLowerCase());return a-c})}};ka.styles=XGe;Ru([W()],ka.prototype,"interval",void 0);Ru([W()],ka.prototype,"targetToken",void 0);Ru([W()],ka.prototype,"sourceToken",void 0);Ru([W()],ka.prototype,"sourceTokenAmount",void 0);Ru([W()],ka.prototype,"toToken",void 0);Ru([W()],ka.prototype,"myTokensWithBalance",void 0);Ru([W()],ka.prototype,"popularTokens",void 0);Ru([W()],ka.prototype,"suggestedTokens",void 0);Ru([W()],ka.prototype,"tokensLoading",void 0);Ru([W()],ka.prototype,"searchValue",void 0);ka=Ru([ie("w3m-swap-select-token-view")],ka);const QGe=Object.freeze(Object.defineProperty({__proto__:null,get W3mSwapPreviewView(){return _i},get W3mSwapSelectTokenView(){return ka},get W3mSwapView(){return li}},Symbol.toStringTag,{value:"Module"})),eYe=ve`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: ${({tokens:t})=>t.theme.borderPrimary};
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 8px;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }
`;var coe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ax=class extends Q{constructor(){super(...arguments),this.text=""}render(){return $`${this.template()}`}template(){return this.text?$`<wui-text variant="md-regular" color="secondary">${this.text}</wui-text>`:null}};Ax.styles=[st,eYe];coe([L()],Ax.prototype,"text",void 0);Ax=coe([ie("wui-separator")],Ax);const tYe=ve`
  :host {
    width: 100%;
    height: 100px;
    border-radius: ${({borderRadius:t})=>t[5]};
    border: 1px solid ${({tokens:t})=>t.theme.foregroundPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color;
    position: relative;
  }

  :host(:hover) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  wui-flex {
    width: 100%;
    height: fit-content;
  }

  wui-button {
    display: ruby;
    color: ${({tokens:t})=>t.theme.textPrimary};
    margin: 0 ${({spacing:t})=>t[2]};
  }

  .instruction {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
  }

  .paste {
    display: inline-flex;
  }

  textarea {
    background: transparent;
    width: 100%;
    font-family: ${({fontFamily:t})=>t.regular};
    font-style: normal;
    font-size: ${({textSize:t})=>t.large};
    font-weight: ${({fontWeight:t})=>t.regular};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    color: ${({tokens:t})=>t.theme.textSecondary};
    caret-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
    border: none;
    outline: none;
    appearance: none;
    resize: none;
    overflow: hidden;
  }
`;var c4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let s0=class extends Q{constructor(){super(...arguments),this.inputElementRef=mc(),this.instructionElementRef=mc(),this.readOnly=!1,this.instructionHidden=!!this.value,this.pasting=!1,this.onDebouncedSearch=oe.debounce(async e=>{if(!e.length){this.setReceiverAddress("");return}const n=j.state.activeChain;if(oe.isAddress(e,n)){this.setReceiverAddress(e);return}try{const i=await pe.getEnsAddress(e);if(i){Xe.setReceiverProfileName(e),Xe.setReceiverAddress(i);const s=await pe.getEnsAvatar(e);Xe.setReceiverProfileImageUrl(s||void 0)}}catch{this.setReceiverAddress(e)}finally{Xe.setLoading(!1)}})}firstUpdated(){this.value&&(this.instructionHidden=!0),this.checkHidden()}render(){return this.readOnly?$` <wui-flex
        flexDirection="column"
        justifyContent="center"
        gap="01"
        .padding=${["8","4","5","4"]}
      >
        <textarea
          spellcheck="false"
          ?disabled=${!0}
          autocomplete="off"
          .value=${this.value??""}
        >
           ${this.value??""}</textarea
        >
      </wui-flex>`:$` <wui-flex
      @click=${this.onBoxClick.bind(this)}
      flexDirection="column"
      justifyContent="center"
      gap="01"
      .padding=${["8","4","5","4"]}
    >
      <wui-text
        ${wc(this.instructionElementRef)}
        class="instruction"
        color="secondary"
        variant="md-medium"
      >
        Type or
        <wui-button
          class="paste"
          size="md"
          variant="neutral-secondary"
          iconLeft="copy"
          @click=${this.onPasteClick.bind(this)}
        >
          <wui-icon size="sm" color="inherit" slot="iconLeft" name="copy"></wui-icon>
          Paste
        </wui-button>
        address
      </wui-text>
      <textarea
        spellcheck="false"
        ?disabled=${!this.instructionHidden}
        ${wc(this.inputElementRef)}
        @input=${this.onInputChange.bind(this)}
        @blur=${this.onBlur.bind(this)}
        .value=${this.value??""}
        autocomplete="off"
      >
${this.value??""}</textarea
      >
    </wui-flex>`}async focusInput(){this.instructionElementRef.value&&(this.instructionHidden=!0,await this.toggleInstructionFocus(!1),this.instructionElementRef.value.style.pointerEvents="none",this.inputElementRef.value?.focus(),this.inputElementRef.value&&(this.inputElementRef.value.selectionStart=this.inputElementRef.value.selectionEnd=this.inputElementRef.value.value.length))}async focusInstruction(){this.instructionElementRef.value&&(this.instructionHidden=!1,await this.toggleInstructionFocus(!0),this.instructionElementRef.value.style.pointerEvents="auto",this.inputElementRef.value?.blur())}async toggleInstructionFocus(e){this.instructionElementRef.value&&await this.instructionElementRef.value.animate([{opacity:e?0:1},{opacity:e?1:0}],{duration:100,easing:"ease",fill:"forwards"}).finished}onBoxClick(){!this.value&&!this.instructionHidden&&this.focusInput()}onBlur(){!this.value&&this.instructionHidden&&!this.pasting&&this.focusInstruction()}checkHidden(){this.instructionHidden&&this.focusInput()}async onPasteClick(){this.pasting=!0;const e=await navigator.clipboard.readText();Xe.setReceiverAddress(e),this.focusInput()}onInputChange(e){const n=e.target;this.pasting=!1,this.value=e.target?.value,n.value&&!this.instructionHidden&&this.focusInput(),Xe.setLoading(!0),this.onDebouncedSearch(n.value)}setReceiverAddress(e){Xe.setReceiverAddress(e),Xe.setReceiverProfileName(void 0),Xe.setReceiverProfileImageUrl(void 0),Xe.setLoading(!1)}};s0.styles=tYe;c4([L()],s0.prototype,"value",void 0);c4([L({type:Boolean})],s0.prototype,"readOnly",void 0);c4([W()],s0.prototype,"instructionHidden",void 0);c4([W()],s0.prototype,"pasting",void 0);s0=c4([ie("w3m-input-address")],s0);const nYe=ve`
  :host {
    position: relative;
    display: inline-block;
  }

  :host([data-error='true']) > input {
    color: ${({tokens:t})=>t.core.textError};
  }

  :host([data-error='false']) > input {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  input {
    background: transparent;
    height: auto;
    box-sizing: border-box;
    color: ${({tokens:t})=>t.theme.textPrimary};
    font-feature-settings: 'case' on;
    font-size: ${({textSize:t})=>t.h4};
    caret-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    line-height: ${({typography:t})=>t["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular-mono"].letterSpacing};
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
    font-family: ${({fontFamily:t})=>t.mono};
  }

  :host([data-width-variant='auto']) input {
    width: 100%;
  }

  :host([data-width-variant='fit']) input {
    width: 1ch;
  }

  .wui-input-amount-fit-mirror {
    position: absolute;
    visibility: hidden;
    white-space: pre;
    font-size: var(--local-font-size);
    line-height: 130%;
    letter-spacing: -1.28px;
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-input-amount-fit-width {
    display: inline-block;
    position: relative;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input::placeholder {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }
`;var qp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Iu=class extends Q{constructor(){super(...arguments),this.inputElementRef=mc(),this.disabled=!1,this.value="",this.placeholder="0",this.widthVariant="auto",this.maxDecimals=void 0,this.maxIntegers=void 0,this.fontSize="h4",this.error=!1}firstUpdated(){this.resizeInput()}updated(){this.style.setProperty("--local-font-size",vr.textSize[this.fontSize]),this.resizeInput()}render(){return this.dataset.widthVariant=this.widthVariant,this.dataset.error=String(this.error),this.inputElementRef?.value&&this.value&&(this.inputElementRef.value.value=this.value),this.widthVariant==="auto"?this.inputTemplate():$`
      <div class="wui-input-amount-fit-width">
        <span class="wui-input-amount-fit-mirror"></span>
        ${this.inputTemplate()}
      </div>
    `}inputTemplate(){return $`<input
      ${wc(this.inputElementRef)}
      type="text"
      inputmode="decimal"
      pattern="[0-9,.]*"
      placeholder=${this.placeholder}
      ?disabled=${this.disabled}
      autofocus
      value=${this.value??""}
      @input=${this.dispatchInputChangeEvent.bind(this)}
    />`}dispatchInputChangeEvent(){this.inputElementRef.value&&(this.inputElementRef.value.value=sn.maskInput({value:this.inputElementRef.value.value,decimals:this.maxDecimals,integers:this.maxIntegers}),this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value.value,bubbles:!0,composed:!0})),this.resizeInput())}resizeInput(){if(this.widthVariant==="fit"){const e=this.inputElementRef.value;if(e){const n=e.previousElementSibling;n&&(n.textContent=e.value||"0",e.style.width=`${n.offsetWidth}px`)}}}};Iu.styles=[st,Jt,nYe];qp([L({type:Boolean})],Iu.prototype,"disabled",void 0);qp([L({type:String})],Iu.prototype,"value",void 0);qp([L({type:String})],Iu.prototype,"placeholder",void 0);qp([L({type:String})],Iu.prototype,"widthVariant",void 0);qp([L({type:Number})],Iu.prototype,"maxDecimals",void 0);qp([L({type:Number})],Iu.prototype,"maxIntegers",void 0);qp([L({type:String})],Iu.prototype,"fontSize",void 0);qp([L({type:Boolean})],Iu.prototype,"error",void 0);Iu=qp([ie("wui-input-amount")],Iu);const rYe=ve`
  :host {
    width: 100%;
    height: 100px;
    border-radius: ${({borderRadius:t})=>t[5]};
    border: 1px solid ${({tokens:t})=>t.theme.foregroundPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color;
    transition: all ${({easings:t})=>t["ease-out-power-1"]}
      ${({durations:t})=>t.lg};
  }

  :host(:hover) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  wui-flex {
    width: 100%;
    height: fit-content;
  }

  wui-button {
    width: 100%;
    display: flex;
    justify-content: flex-end;
  }

  wui-input-amount {
    mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
  }

  .totalValue {
    width: 100%;
  }
`;var l4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let o0=class extends Q{constructor(){super(...arguments),this.readOnly=!1,this.isInsufficientBalance=!1}render(){const e=this.readOnly||!this.token;return $` <wui-flex
      flexDirection="column"
      gap="01"
      .padding=${["5","3","4","3"]}
    >
      <wui-flex alignItems="center">
        <wui-input-amount
          @inputChange=${this.onInputChange.bind(this)}
          ?disabled=${e}
          .value=${this.sendTokenAmount?String(this.sendTokenAmount):""}
          ?error=${!!this.isInsufficientBalance}
        ></wui-input-amount>
        ${this.buttonTemplate()}
      </wui-flex>
      ${this.bottomTemplate()}
    </wui-flex>`}buttonTemplate(){return this.token?$`<wui-token-button
        text=${this.token.symbol}
        imageSrc=${this.token.iconUrl}
        @click=${this.handleSelectButtonClick.bind(this)}
      >
      </wui-token-button>`:$`<wui-button
      size="md"
      variant="neutral-secondary"
      @click=${this.handleSelectButtonClick.bind(this)}
      >Select token</wui-button
    >`}handleSelectButtonClick(){this.readOnly||Z.push("WalletSendSelectToken")}sendValueTemplate(){if(!this.readOnly&&this.token&&this.sendTokenAmount){const n=this.token.price*this.sendTokenAmount;return $`<wui-text class="totalValue" variant="sm-regular" color="secondary"
        >${n?`$${zt.formatNumberToLocalString(n,2)}`:"Incorrect value"}</wui-text
      >`}return null}maxAmountTemplate(){return this.token?$` <wui-text variant="sm-regular" color="secondary">
        ${sn.roundNumber(Number(this.token.quantity.numeric),6,5)}
      </wui-text>`:null}actionTemplate(){return this.token?$`<wui-link @click=${this.onMaxClick.bind(this)}>Max</wui-link>`:null}bottomTemplate(){return this.readOnly?null:$`<wui-flex alignItems="center" justifyContent="space-between">
      ${this.sendValueTemplate()}
      <wui-flex alignItems="center" gap="01" justifyContent="flex-end">
        ${this.maxAmountTemplate()} ${this.actionTemplate()}
      </wui-flex>
    </wui-flex>`}onInputChange(e){Xe.setTokenAmount(e.detail)}onMaxClick(){if(this.token){const e=zt.bigNumber(this.token.quantity.numeric);Xe.setTokenAmount(Number(e.toFixed(20)))}}};o0.styles=rYe;l4([L({type:Object})],o0.prototype,"token",void 0);l4([L({type:Boolean})],o0.prototype,"readOnly",void 0);l4([L({type:Number})],o0.prototype,"sendTokenAmount",void 0);l4([L({type:Boolean})],o0.prototype,"isInsufficientBalance",void 0);o0=l4([ie("w3m-input-token")],o0);const iYe=ve`
  :host {
    display: block;
  }

  wui-flex {
    position: relative;
  }

  wui-icon-box {
    width: 32px;
    height: 32px;
    border-radius: ${({borderRadius:t})=>t[10]} !important;
    border: 4px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 3;
  }

  wui-button {
    --local-border-radius: ${({borderRadius:t})=>t[4]} !important;
  }

  .inputContainer {
    height: fit-content;
  }
`;var Wd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const zl={INSUFFICIENT_FUNDS:"Insufficient Funds",INCORRECT_VALUE:"Incorrect Value",INVALID_ADDRESS:"Invalid Address",ADD_ADDRESS:"Add Address",ADD_AMOUNT:"Add Amount",SELECT_TOKEN:"Select Token",PREVIEW_SEND:"Preview Send"};let vc=class extends Q{constructor(){super(),this.unsubscribe=[],this.isTryingToChooseDifferentWallet=!1,this.token=Xe.state.token,this.sendTokenAmount=Xe.state.sendTokenAmount,this.receiverAddress=Xe.state.receiverAddress,this.receiverProfileName=Xe.state.receiverProfileName,this.loading=Xe.state.loading,this.params=Z.state.data?.send,this.caipAddress=j.getAccountData()?.caipAddress,this.message=zl.PREVIEW_SEND,this.disconnecting=!1,this.token&&!this.params&&(this.fetchBalances(),this.fetchNetworkPrice());const e=j.subscribeKey("activeCaipAddress",n=>{!n&&this.isTryingToChooseDifferentWallet&&(this.isTryingToChooseDifferentWallet=!1,Ke.open({view:"Connect",data:{redirectView:"WalletSend"}}).catch(()=>null),e())});this.unsubscribe.push(j.subscribeAccountStateProp("caipAddress",n=>{this.caipAddress=n}),Xe.subscribe(n=>{this.token=n.token,this.sendTokenAmount=n.sendTokenAmount,this.receiverAddress=n.receiverAddress,this.receiverProfileName=n.receiverProfileName,this.loading=n.loading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}async firstUpdated(){await this.handleSendParameters()}render(){this.getMessage();const e=!!this.params;return $` <wui-flex flexDirection="column" .padding=${["0","4","4","4"]}>
      <wui-flex class="inputContainer" gap="2" flexDirection="column">
        <w3m-input-token
          .token=${this.token}
          .sendTokenAmount=${this.sendTokenAmount}
          ?readOnly=${e}
          ?isInsufficientBalance=${this.message===zl.INSUFFICIENT_FUNDS}
        ></w3m-input-token>
        <wui-icon-box size="md" variant="secondary" icon="arrowBottom"></wui-icon-box>
        <w3m-input-address
          ?readOnly=${e}
          .value=${this.receiverProfileName?this.receiverProfileName:this.receiverAddress}
        ></w3m-input-address>
      </wui-flex>
      ${this.buttonTemplate()}
    </wui-flex>`}async fetchBalances(){await Xe.fetchTokenBalance(),Xe.fetchNetworkBalance()}async fetchNetworkPrice(){await we.getNetworkTokenPrice()}onButtonClick(){Z.push("WalletSendPreview",{send:this.params})}onFundWalletClick(){Z.push("FundWallet",{redirectView:"WalletSend"})}async onConnectDifferentWalletClick(){try{this.isTryingToChooseDifferentWallet=!0,this.disconnecting=!0,await pe.disconnect()}finally{this.disconnecting=!1}}getMessage(){this.message=zl.PREVIEW_SEND,this.receiverAddress&&!oe.isAddress(this.receiverAddress,j.state.activeChain)&&(this.message=zl.INVALID_ADDRESS),this.receiverAddress||(this.message=zl.ADD_ADDRESS),this.sendTokenAmount&&this.token&&this.sendTokenAmount>Number(this.token.quantity.numeric)&&(this.message=zl.INSUFFICIENT_FUNDS),this.sendTokenAmount||(this.message=zl.ADD_AMOUNT),this.sendTokenAmount&&this.token?.price&&(this.sendTokenAmount*this.token.price||(this.message=zl.INCORRECT_VALUE)),this.token||(this.message=zl.SELECT_TOKEN)}buttonTemplate(){const e=!this.message.startsWith(zl.PREVIEW_SEND),n=this.message===zl.INSUFFICIENT_FUNDS,r=!!this.params;return n&&!r?$`
        <wui-flex .margin=${["4","0","0","0"]} flexDirection="column" gap="4">
          <wui-button
            @click=${this.onFundWalletClick.bind(this)}
            size="lg"
            variant="accent-secondary"
            fullWidth
          >
            Fund Wallet
          </wui-button>

          <wui-separator data-testid="wui-separator" text="or"></wui-separator>

          <wui-button
            @click=${this.onConnectDifferentWalletClick.bind(this)}
            size="lg"
            variant="neutral-secondary"
            fullWidth
            ?loading=${this.disconnecting}
          >
            Connect a different wallet
          </wui-button>
        </wui-flex>
      `:$`<wui-flex .margin=${["4","0","0","0"]}>
      <wui-button
        @click=${this.onButtonClick.bind(this)}
        ?disabled=${e}
        size="lg"
        variant="accent-primary"
        ?loading=${this.loading}
        fullWidth
      >
        ${this.message}
      </wui-button>
    </wui-flex>`}async handleSendParameters(){if(this.loading=!0,!this.params){this.loading=!1;return}const e=Number(this.params.amount);if(isNaN(e)){Ue.showError("Invalid amount"),this.loading=!1;return}const{namespace:n,chainId:r,assetAddress:i}=this.params;if(!yt.SEND_PARAMS_SUPPORTED_CHAINS.includes(n)){Ue.showError(`Chain "${n}" is not supported for send parameters`),this.loading=!1;return}const s=j.getCaipNetworkById(r,n);if(!s){Ue.showError(`Network with id "${r}" not found`),this.loading=!1;return}try{const{balance:o,name:a,symbol:c,decimals:l}=await L_.fetchERC20Balance({caipAddress:this.caipAddress,assetAddress:i,caipNetwork:s});if(!a||!c||!l||!o){Ue.showError("Token not found");return}Xe.setToken({name:a,symbol:c,chainId:s.id.toString(),address:`${s.chainNamespace}:${s.id}:${i}`,value:0,price:0,quantity:{decimals:l.toString(),numeric:o.toString()},iconUrl:en.getTokenImage(c)??""}),Xe.setTokenAmount(e),Xe.setReceiverAddress(this.params.to)}catch(o){console.error("Failed to load token information:",o),Ue.showError("Failed to load token information")}finally{this.loading=!1}}};vc.styles=iYe;Wd([W()],vc.prototype,"token",void 0);Wd([W()],vc.prototype,"sendTokenAmount",void 0);Wd([W()],vc.prototype,"receiverAddress",void 0);Wd([W()],vc.prototype,"receiverProfileName",void 0);Wd([W()],vc.prototype,"loading",void 0);Wd([W()],vc.prototype,"params",void 0);Wd([W()],vc.prototype,"caipAddress",void 0);Wd([W()],vc.prototype,"message",void 0);Wd([W()],vc.prototype,"disconnecting",void 0);vc=Wd([ie("w3m-wallet-send-view")],vc);const sYe=ve`
  :host {
    width: 100%;
  }

  button {
    padding: ${({spacing:t})=>t[3]};
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
    background-color: transparent;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  button[data-clickable='false'] {
    pointer-events: none;
    background-color: transparent;
  }

  wui-image,
  wui-icon {
    width: ${({spacing:t})=>t[10]};
    height: ${({spacing:t})=>t[10]};
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t[16]};
  }
`;var yy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ip=class extends Q{constructor(){super(...arguments),this.tokenName="",this.tokenImageUrl="",this.tokenValue=0,this.tokenAmount="0.0",this.tokenCurrency="",this.clickable=!1}render(){return $`
      <button data-clickable=${String(this.clickable)}>
        <wui-flex gap="2" alignItems="center">
          ${this.visualTemplate()}
          <wui-flex flexDirection="column" justifyContent="space-between" gap="1">
            <wui-text variant="md-regular" color="primary">${this.tokenName}</wui-text>
            <wui-text variant="sm-regular-mono" color="secondary">
              ${zt.formatNumberToLocalString(this.tokenAmount,4)} ${this.tokenCurrency}
            </wui-text>
          </wui-flex>
        </wui-flex>
        <wui-flex
          flexDirection="column"
          justifyContent="space-between"
          gap="1"
          alignItems="flex-end"
        >
          <wui-text variant="md-regular-mono" color="primary"
            >$${this.tokenValue.toFixed(2)}</wui-text
          >
          <wui-text variant="sm-regular-mono" color="secondary">
            ${zt.formatNumberToLocalString(this.tokenAmount,4)}
          </wui-text>
        </wui-flex>
      </button>
    `}visualTemplate(){return this.tokenName&&this.tokenImageUrl?$`<wui-image alt=${this.tokenName} src=${this.tokenImageUrl}></wui-image>`:$`<wui-icon name="coinPlaceholder" color="default"></wui-icon>`}};Ip.styles=[st,Jt,sYe];yy([L()],Ip.prototype,"tokenName",void 0);yy([L()],Ip.prototype,"tokenImageUrl",void 0);yy([L({type:Number})],Ip.prototype,"tokenValue",void 0);yy([L()],Ip.prototype,"tokenAmount",void 0);yy([L()],Ip.prototype,"tokenCurrency",void 0);yy([L({type:Boolean})],Ip.prototype,"clickable",void 0);Ip=yy([ie("wui-list-token")],Ip);const oYe=ve`
  .contentContainer {
    height: 440px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }

  wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[3]};
  }
`;var u4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let kg=class extends Q{constructor(){super(),this.unsubscribe=[],this.tokenBalances=Xe.state.tokenBalances,this.search="",this.onDebouncedSearch=oe.debounce(e=>{this.search=e}),this.fetchBalancesAndNetworkPrice(),this.unsubscribe.push(Xe.subscribe(e=>{this.tokenBalances=e.tokenBalances}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex flexDirection="column">
        ${this.templateSearchInput()} <wui-separator></wui-separator> ${this.templateTokens()}
      </wui-flex>
    `}async fetchBalancesAndNetworkPrice(){(!this.tokenBalances||this.tokenBalances?.length===0)&&(await this.fetchBalances(),await this.fetchNetworkPrice())}async fetchBalances(){await Xe.fetchTokenBalance(),Xe.fetchNetworkBalance()}async fetchNetworkPrice(){await we.getNetworkTokenPrice()}templateSearchInput(){return $`
      <wui-flex gap="2" padding="3">
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="sm"
          placeholder="Search token"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}templateTokens(){return this.tokens=this.tokenBalances?.filter(e=>e.chainId===j.state.activeCaipNetwork?.caipNetworkId),this.search?this.filteredTokens=this.tokenBalances?.filter(e=>e.name.toLowerCase().includes(this.search.toLowerCase())):this.filteredTokens=this.tokens,$`
      <wui-flex
        class="contentContainer"
        flexDirection="column"
        .padding=${["0","3","0","3"]}
      >
        <wui-flex justifyContent="flex-start" .padding=${["4","3","3","3"]}>
          <wui-text variant="md-medium" color="secondary">Your tokens</wui-text>
        </wui-flex>
        <wui-flex flexDirection="column" gap="2">
          ${this.filteredTokens&&this.filteredTokens.length>0?this.filteredTokens.map(e=>$`<wui-list-token
                    @click=${this.handleTokenClick.bind(this,e)}
                    ?clickable=${!0}
                    tokenName=${e.name}
                    tokenImageUrl=${e.iconUrl}
                    tokenAmount=${e.quantity.numeric}
                    tokenValue=${e.value}
                    tokenCurrency=${e.symbol}
                  ></wui-list-token>`):$`<wui-flex
                .padding=${["20","0","0","0"]}
                alignItems="center"
                flexDirection="column"
                gap="4"
              >
                <wui-icon-box icon="coinPlaceholder" color="default" size="lg"></wui-icon-box>
                <wui-flex
                  class="textContent"
                  gap="2"
                  flexDirection="column"
                  justifyContent="center"
                  flexDirection="column"
                >
                  <wui-text variant="lg-medium" align="center" color="primary">
                    No tokens found
                  </wui-text>
                  <wui-text variant="lg-regular" align="center" color="secondary">
                    Your tokens will appear here
                  </wui-text>
                </wui-flex>
                <wui-link @click=${this.onBuyClick.bind(this)}>Buy</wui-link>
              </wui-flex>`}
        </wui-flex>
      </wui-flex>
    `}onBuyClick(){Z.push("OnRampProviders")}onInputChange(e){this.onDebouncedSearch(e.detail)}handleTokenClick(e){Xe.setToken(e),Xe.setTokenAmount(void 0),Z.goBack()}};kg.styles=oYe;u4([W()],kg.prototype,"tokenBalances",void 0);u4([W()],kg.prototype,"tokens",void 0);u4([W()],kg.prototype,"filteredTokens",void 0);u4([W()],kg.prototype,"search",void 0);kg=u4([ie("w3m-wallet-send-select-token-view")],kg);const aYe=ve`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
    border-radius: ${({borderRadius:t})=>t[16]};
    overflow: hidden;
    position: relative;
  }

  :host([data-variant='generated']) {
    --mixed-local-color-1: var(--local-color-1);
    --mixed-local-color-2: var(--local-color-2);
    --mixed-local-color-3: var(--local-color-3);
    --mixed-local-color-4: var(--local-color-4);
    --mixed-local-color-5: var(--local-color-5);
  }

  :host([data-variant='generated']) {
    background: radial-gradient(
      var(--local-radial-circle),
      #fff 0.52%,
      var(--mixed-local-color-5) 31.25%,
      var(--mixed-local-color-3) 51.56%,
      var(--mixed-local-color-2) 65.63%,
      var(--mixed-local-color-1) 82.29%,
      var(--mixed-local-color-4) 100%
    );
  }

  :host([data-variant='default']) {
    background: radial-gradient(
      75.29% 75.29% at 64.96% 24.36%,
      #fff 0.52%,
      #f5ccfc 31.25%,
      #dba4f5 51.56%,
      #9a8ee8 65.63%,
      #6493da 82.29%,
      #6ebdea 100%
    );
  }
`;var d4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let a0=class extends Q{constructor(){super(...arguments),this.imageSrc=void 0,this.alt=void 0,this.address=void 0,this.size="xl"}render(){const e={inherit:"inherit",xxs:"3",xs:"5",sm:"6",md:"8",mdl:"8",lg:"10",xl:"16",xxl:"20"};return this.style.cssText=`
    --local-width: var(--apkt-spacing-${e[this.size??"xl"]});
    --local-height: var(--apkt-spacing-${e[this.size??"xl"]});
    `,$`${this.visualTemplate()}`}visualTemplate(){if(this.imageSrc)return this.dataset.variant="image",$`<wui-image src=${this.imageSrc} alt=${this.alt??"avatar"}></wui-image>`;if(this.address){this.dataset.variant="generated";const e=sn.generateAvatarColors(this.address);return this.style.cssText+=`
 ${e}`,null}return this.dataset.variant="default",null}};a0.styles=[st,aYe];d4([L()],a0.prototype,"imageSrc",void 0);d4([L()],a0.prototype,"alt",void 0);d4([L()],a0.prototype,"address",void 0);d4([L()],a0.prototype,"size",void 0);a0=d4([ie("wui-avatar")],a0);const cYe=ve`
  :host {
    height: 32px;
    display: flex;
    align-items: center;
    gap: ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[32]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    padding: ${({spacing:t})=>t[1]};
    padding-left: ${({spacing:t})=>t[2]};
  }

  wui-avatar,
  wui-image {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  wui-icon {
    border-radius: ${({borderRadius:t})=>t[16]};
  }
`;var Ck=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Z1=class extends Q{constructor(){super(...arguments),this.text=""}render(){return $`<wui-text variant="lg-regular" color="primary">${this.text}</wui-text>
      ${this.imageTemplate()}`}imageTemplate(){return this.address?$`<wui-avatar address=${this.address} .imageSrc=${this.imageSrc}></wui-avatar>`:this.imageSrc?$`<wui-image src=${this.imageSrc}></wui-image>`:$`<wui-icon size="lg" color="inverse" name="networkPlaceholder"></wui-icon>`}};Z1.styles=[st,Jt,cYe];Ck([L({type:String})],Z1.prototype,"text",void 0);Ck([L({type:String})],Z1.prototype,"address",void 0);Ck([L({type:String})],Z1.prototype,"imageSrc",void 0);Z1=Ck([ie("wui-preview-item")],Z1);const lYe=ve`
  :host {
    display: flex;
    padding: ${({spacing:t})=>t[4]} ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-image {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  wui-icon {
    width: 20px;
    height: 20px;
  }
`;var _k=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let G1=class extends Q{constructor(){super(...arguments),this.imageSrc=void 0,this.textTitle="",this.textValue=void 0}render(){return $`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="primary"> ${this.textTitle} </wui-text>
        ${this.templateContent()}
      </wui-flex>
    `}templateContent(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt=${this.textTitle}></wui-image>`:this.textValue?$` <wui-text variant="md-regular" color="secondary"> ${this.textValue} </wui-text>`:$`<wui-icon size="inherit" color="default" name="networkPlaceholder"></wui-icon>`}};G1.styles=[st,Jt,lYe];_k([L()],G1.prototype,"imageSrc",void 0);_k([L()],G1.prototype,"textTitle",void 0);_k([L()],G1.prototype,"textValue",void 0);G1=_k([ie("wui-list-content")],G1);const uYe=ve`
  :host {
    display: flex;
    width: auto;
    flex-direction: column;
    gap: ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[5]};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[2]}
      ${({spacing:t})=>t[2]} ${({spacing:t})=>t[2]};
  }

  wui-list-content {
    width: -webkit-fill-available !important;
  }

  wui-text {
    padding: 0 ${({spacing:t})=>t[2]};
  }

  wui-flex {
    margin-top: ${({spacing:t})=>t[2]};
  }

  .network {
    cursor: pointer;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color;
  }

  .network:focus-visible {
    border: 1px solid ${({tokens:t})=>t.core.textAccentPrimary};
    background-color: ${({tokens:t})=>t.core.glass010};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent010};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent010};
    box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent010};
  }

  .network:hover {
    background-color: ${({tokens:t})=>t.core.glass010};
  }

  .network:active {
    background-color: ${({tokens:t})=>t.core.glass010};
  }
`;var Ik=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Y1=class extends Q{constructor(){super(...arguments),this.params=Z.state.data?.send}render(){return $` <wui-text variant="sm-regular" color="secondary">Details</wui-text>
      <wui-flex flexDirection="column" gap="1">
        <wui-list-content
          textTitle="Address"
          textValue=${sn.getTruncateString({string:this.receiverAddress??"",charsStart:4,charsEnd:4,truncate:"middle"})}
        >
        </wui-list-content>
        ${this.networkTemplate()}
      </wui-flex>`}networkTemplate(){return this.caipNetwork?.name?$` <wui-list-content
        @click=${()=>this.onNetworkClick(this.caipNetwork)}
        class="network"
        textTitle="Network"
        imageSrc=${le(en.getNetworkImage(this.caipNetwork))}
      ></wui-list-content>`:null}onNetworkClick(e){e&&!this.params&&Z.push("Networks",{network:e})}};Y1.styles=uYe;Ik([L()],Y1.prototype,"receiverAddress",void 0);Ik([L({type:Object})],Y1.prototype,"caipNetwork",void 0);Ik([W()],Y1.prototype,"params",void 0);Y1=Ik([ie("w3m-wallet-send-details")],Y1);const dYe=ve`
  wui-avatar,
  wui-image {
    display: ruby;
    width: 32px;
    height: 32px;
    border-radius: ${({borderRadius:t})=>t[20]};
  }

  .sendButton {
    width: 70%;
    --local-width: 100% !important;
    --local-border-radius: ${({borderRadius:t})=>t[4]} !important;
  }

  .cancelButton {
    width: 30%;
    --local-width: 100% !important;
    --local-border-radius: ${({borderRadius:t})=>t[4]} !important;
  }
`;var Fp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ml=class extends Q{constructor(){super(),this.unsubscribe=[],this.token=Xe.state.token,this.sendTokenAmount=Xe.state.sendTokenAmount,this.receiverAddress=Xe.state.receiverAddress,this.receiverProfileName=Xe.state.receiverProfileName,this.receiverProfileImageUrl=Xe.state.receiverProfileImageUrl,this.caipNetwork=j.state.activeCaipNetwork,this.loading=Xe.state.loading,this.params=Z.state.data?.send,this.unsubscribe.push(Xe.subscribe(e=>{this.token=e.token,this.sendTokenAmount=e.sendTokenAmount,this.receiverAddress=e.receiverAddress,this.receiverProfileName=e.receiverProfileName,this.receiverProfileImageUrl=e.receiverProfileImageUrl,this.loading=e.loading}),j.subscribeKey("activeCaipNetwork",e=>this.caipNetwork=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $` <wui-flex flexDirection="column" .padding=${["0","4","4","4"]}>
      <wui-flex gap="2" flexDirection="column" .padding=${["0","2","0","2"]}>
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-flex flexDirection="column" gap="01">
            <wui-text variant="sm-regular" color="secondary">Send</wui-text>
            ${this.sendValueTemplate()}
          </wui-flex>
          <wui-preview-item
            text="${this.sendTokenAmount?sn.roundNumber(this.sendTokenAmount,6,5):"unknown"} ${this.token?.symbol}"
            .imageSrc=${this.token?.iconUrl}
          ></wui-preview-item>
        </wui-flex>
        <wui-flex>
          <wui-icon color="default" size="md" name="arrowBottom"></wui-icon>
        </wui-flex>
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="sm-regular" color="secondary">To</wui-text>
          <wui-preview-item
            text="${this.receiverProfileName?sn.getTruncateString({string:this.receiverProfileName,charsStart:20,charsEnd:0,truncate:"end"}):sn.getTruncateString({string:this.receiverAddress?this.receiverAddress:"",charsStart:4,charsEnd:4,truncate:"middle"})}"
            address=${this.receiverAddress??""}
            .imageSrc=${this.receiverProfileImageUrl??void 0}
            .isAddress=${!0}
          ></wui-preview-item>
        </wui-flex>
      </wui-flex>
      <wui-flex flexDirection="column" .padding=${["6","0","0","0"]}>
        <w3m-wallet-send-details
          .caipNetwork=${this.caipNetwork}
          .receiverAddress=${this.receiverAddress}
        ></w3m-wallet-send-details>
        <wui-flex justifyContent="center" gap="1" .padding=${["3","0","0","0"]}>
          <wui-icon size="sm" color="default" name="warningCircle"></wui-icon>
          <wui-text variant="sm-regular" color="secondary">Review transaction carefully</wui-text>
        </wui-flex>
        <wui-flex justifyContent="center" gap="3" .padding=${["4","0","0","0"]}>
          <wui-button
            class="cancelButton"
            @click=${this.onCancelClick.bind(this)}
            size="lg"
            variant="neutral-secondary"
          >
            Cancel
          </wui-button>
          <wui-button
            class="sendButton"
            @click=${this.onSendClick.bind(this)}
            size="lg"
            variant="accent-primary"
            .loading=${this.loading}
          >
            Send
          </wui-button>
        </wui-flex>
      </wui-flex></wui-flex
    >`}sendValueTemplate(){if(!this.params&&this.token&&this.sendTokenAmount){const n=this.token.price*this.sendTokenAmount;return $`<wui-text variant="md-regular" color="primary"
        >$${n.toFixed(2)}</wui-text
      >`}return null}async onSendClick(){if(!this.sendTokenAmount||!this.receiverAddress){Ue.showError("Please enter a valid amount and receiver address");return}try{await Xe.sendToken(),this.params?Z.reset("WalletSendConfirmed"):(Ue.showSuccess("Transaction started"),Z.replace("Account"))}catch(e){let n="Failed to send transaction. Please try again.";const r=e instanceof Cg&&e.originalName===Mo.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST;(j.state.activeChain===ne.CHAIN.SOLANA||r)&&e instanceof Error&&(n=e.message),Ce.sendEvent({type:"track",event:r?"SEND_REJECTED":"SEND_ERROR",properties:Xe.getSdkEventProperties(e)}),Ue.showError(n)}}onCancelClick(){Z.goBack()}};ml.styles=dYe;Fp([W()],ml.prototype,"token",void 0);Fp([W()],ml.prototype,"sendTokenAmount",void 0);Fp([W()],ml.prototype,"receiverAddress",void 0);Fp([W()],ml.prototype,"receiverProfileName",void 0);Fp([W()],ml.prototype,"receiverProfileImageUrl",void 0);Fp([W()],ml.prototype,"caipNetwork",void 0);Fp([W()],ml.prototype,"loading",void 0);Fp([W()],ml.prototype,"params",void 0);ml=Fp([ie("w3m-wallet-send-preview-view")],ml);const hYe=ve`
  .icon-box {
    width: 64px;
    height: 64px;
    border-radius: 16px;
    background-color: ${({spacing:t})=>t[16]};
    border: 8px solid ${({tokens:t})=>t.theme.borderPrimary};
    border-radius: ${({borderRadius:t})=>t.round};
  }
`;var pYe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let kx=class extends Q{constructor(){super(),this.unsubscribe=[],this.unsubscribe.push()}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding="${["1","3","4","3"]}"
      >
        <wui-flex justifyContent="center" alignItems="center" class="icon-box">
          <wui-icon size="xxl" color="success" name="checkmark"></wui-icon>
        </wui-flex>

        <wui-text variant="h6-medium" color="primary">You successfully sent asset</wui-text>

        <wui-button
          fullWidth
          @click=${this.onCloseClick.bind(this)}
          size="lg"
          variant="neutral-secondary"
        >
          Close
        </wui-button>
      </wui-flex>
    `}onCloseClick(){Ke.close()}};kx.styles=hYe;kx=pYe([ie("w3m-send-confirmed-view")],kx);const fYe=Object.freeze(Object.defineProperty({__proto__:null,get W3mSendConfirmedView(){return kx},get W3mSendSelectTokenView(){return kg},get W3mWalletSendPreviewView(){return ml},get W3mWalletSendView(){return vc}},Symbol.toStringTag,{value:"Module"})),gYe=ve`
  button {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:t})=>t[4]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[3]};
    border: none;
    padding: ${({spacing:t})=>t[3]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button:hover:enabled,
  button:active:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  wui-text {
    flex: 1;
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  wui-flex {
    width: auto;
    display: flex;
    align-items: center;
    gap: ${({spacing:t})=>t["01"]};
  }

  wui-icon {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  .network-icon {
    position: relative;
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:t})=>t[4]};
    overflow: hidden;
    margin-left: -8px;
  }

  .network-icon:first-child {
    margin-left: 0px;
  }

  .network-icon:after {
    position: absolute;
    inset: 0;
    content: '';
    display: block;
    height: 100%;
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
  }
`;var pM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let CC=class extends Q{constructor(){super(...arguments),this.networkImages=[""],this.text=""}render(){return $`
      <button>
        <wui-text variant="md-regular" color="inherit">${this.text}</wui-text>
        <wui-flex>
          ${this.networksTemplate()}
          <wui-icon name="chevronRight" size="sm" color="inherit"></wui-icon>
        </wui-flex>
      </button>
    `}networksTemplate(){const e=this.networkImages.slice(0,5);return $` <wui-flex class="networks">
      ${e?.map(n=>$` <wui-flex class="network-icon"> <wui-image src=${n}></wui-image> </wui-flex>`)}
    </wui-flex>`}};CC.styles=[st,Jt,gYe];pM([L({type:Array})],CC.prototype,"networkImages",void 0);pM([L()],CC.prototype,"text",void 0);CC=pM([ie("wui-compatible-network")],CC);const mYe=ve`
  wui-compatible-network {
    margin-top: ${({spacing:t})=>t[4]};
    width: 100%;
  }

  wui-qr-code {
    width: unset !important;
    height: unset !important;
  }

  wui-icon {
    align-items: normal;
  }
`;var Sk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let c0=class extends Q{constructor(){super(),this.unsubscribe=[],this.address=j.getAccountData()?.address,this.profileName=j.getAccountData()?.profileName,this.network=j.state.activeCaipNetwork,this.unsubscribe.push(j.subscribeChainProp("accountState",e=>{e?(this.address=e.address,this.profileName=e.profileName):Ue.showError("Account not found")}),j.subscribeKey("activeCaipNetwork",e=>{e?.id&&(this.network=e)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!this.address)throw new Error("w3m-wallet-receive-view: No account provided");const e=en.getNetworkImage(this.network);return $` <wui-flex
      flexDirection="column"
      .padding=${["0","4","4","4"]}
      alignItems="center"
    >
      <wui-chip-button
        data-testid="receive-address-copy-button"
        @click=${this.onCopyClick.bind(this)}
        text=${sn.getTruncateString({string:this.profileName||this.address||"",charsStart:this.profileName?18:4,charsEnd:this.profileName?0:4,truncate:this.profileName?"end":"middle"})}
        icon="copy"
        size="sm"
        imageSrc=${e||""}
        variant="gray"
      ></wui-chip-button>
      <wui-flex
        flexDirection="column"
        .padding=${["4","0","0","0"]}
        alignItems="center"
        gap="4"
      >
        <wui-qr-code
          size=${232}
          theme=${zn.state.themeMode}
          uri=${this.address}
          ?arenaClear=${!0}
          color=${le(zn.state.themeVariables["--apkt-qr-color"]??zn.state.themeVariables["--w3m-qr-color"])}
          data-testid="wui-qr-code"
        ></wui-qr-code>
        <wui-text variant="lg-regular" color="primary" align="center">
          Copy your address or scan this QR code
        </wui-text>
        <wui-button @click=${this.onCopyClick.bind(this)} size="sm" variant="neutral-secondary">
          <wui-icon slot="iconLeft" size="sm" color="inherit" name="copy"></wui-icon>
          <wui-text variant="md-regular" color="inherit">Copy address</wui-text>
        </wui-button>
      </wui-flex>
      ${this.networkTemplate()}
    </wui-flex>`}networkTemplate(){const e=j.getAllRequestedCaipNetworks(),n=j.checkIfSmartAccountEnabled(),r=j.state.activeCaipNetwork,i=e.filter(a=>a?.chainNamespace===r?.chainNamespace);if(En(r?.chainNamespace)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT&&n)return r?$`<wui-compatible-network
        @click=${this.onReceiveClick.bind(this)}
        text="Only receive assets on this network"
        .networkImages=${[en.getNetworkImage(r)??""]}
      ></wui-compatible-network>`:null;const o=(i?.filter(a=>a?.assets?.imageId)?.slice(0,5)).map(en.getNetworkImage).filter(Boolean);return $`<wui-compatible-network
      @click=${this.onReceiveClick.bind(this)}
      text="Only receive assets on these networks"
      .networkImages=${o}
    ></wui-compatible-network>`}onReceiveClick(){Z.push("WalletCompatibleNetworks")}onCopyClick(){try{this.address&&(oe.copyToClopboard(this.address),Ue.showSuccess("Address copied"))}catch{Ue.showError("Failed to copy")}}};c0.styles=mYe;Sk([W()],c0.prototype,"address",void 0);Sk([W()],c0.prototype,"profileName",void 0);Sk([W()],c0.prototype,"network",void 0);c0=Sk([ie("w3m-wallet-receive-view")],c0);const wYe=Object.freeze(Object.defineProperty({__proto__:null,get W3mWalletReceiveView(){return c0}},Symbol.toStringTag,{value:"Module"})),yYe=ve`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      scale ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, scale;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-image {
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var qd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let wl=class extends Q{constructor(){super(...arguments),this.imageSrc="google",this.loading=!1,this.disabled=!1,this.rightIcon=!0,this.rounded=!1,this.fullSize=!1}render(){return this.dataset.rounded=this.rounded?"true":"false",$`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        tabindex=${le(this.tabIdx)}
      >
        <wui-flex gap="2" alignItems="center">
          ${this.templateLeftIcon()}
          <wui-flex gap="1">
            <slot></slot>
          </wui-flex>
        </wui-flex>
        ${this.templateRightIcon()}
      </button>
    `}templateLeftIcon(){return this.icon?$`<wui-image
        icon=${this.icon}
        iconColor=${le(this.iconColor)}
        ?boxed=${!0}
        ?rounded=${this.rounded}
      ></wui-image>`:$`<wui-image
      ?boxed=${!0}
      ?rounded=${this.rounded}
      ?fullSize=${this.fullSize}
      src=${this.imageSrc}
    ></wui-image>`}templateRightIcon(){return this.rightIcon?this.loading?$`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:$`<wui-icon name="chevronRight" size="lg" color="default"></wui-icon>`:null}};wl.styles=[st,Jt,yYe];qd([L()],wl.prototype,"imageSrc",void 0);qd([L()],wl.prototype,"icon",void 0);qd([L()],wl.prototype,"iconColor",void 0);qd([L({type:Boolean})],wl.prototype,"loading",void 0);qd([L()],wl.prototype,"tabIdx",void 0);qd([L({type:Boolean})],wl.prototype,"disabled",void 0);qd([L({type:Boolean})],wl.prototype,"rightIcon",void 0);qd([L({type:Boolean})],wl.prototype,"rounded",void 0);qd([L({type:Boolean})],wl.prototype,"fullSize",void 0);wl=qd([ie("wui-list-item")],wl);const bYe=ve`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-flex {
    transition: opacity ${({easings:t})=>t["ease-out-power-1"]}
      ${({durations:t})=>t.md};
    will-change: opacity;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var h4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $g=class extends Q{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=Zn.state.paymentCurrency,this.currencies=Zn.state.paymentCurrencies,this.currencyImages=lr.state.currencyImages,this.checked=pc.state.isLegalCheckboxChecked,this.unsubscribe.push(Zn.subscribe(e=>{this.selectedCurrency=e.paymentCurrency,this.currencies=e.paymentCurrencies}),lr.subscribeKey("currencyImages",e=>this.currencyImages=e),pc.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state,r=X.state.features?.legalCheckbox,o=!!(e||n)&&!!r&&!this.checked;return $`
      <w3m-legal-checkbox></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","3","3","3"]}
        gap="2"
        class=${le(o?"disabled":void 0)}
      >
        ${this.currenciesTemplate(o)}
      </wui-flex>
    `}currenciesTemplate(e=!1){return this.currencies.map(n=>$`
        <wui-list-item
          imageSrc=${le(this.currencyImages?.[n.id])}
          @click=${()=>this.selectCurrency(n)}
          variant="image"
          tabIdx=${le(e?-1:void 0)}
        >
          <wui-text variant="md-medium" color="primary">${n.id}</wui-text>
        </wui-list-item>
      `)}selectCurrency(e){e&&(Zn.setPaymentCurrency(e),Ke.close())}};$g.styles=bYe;h4([W()],$g.prototype,"selectedCurrency",void 0);h4([W()],$g.prototype,"currencies",void 0);h4([W()],$g.prototype,"currencyImages",void 0);h4([W()],$g.prototype,"checked",void 0);$g=h4([ie("w3m-onramp-fiat-select-view")],$g);const vYe=ye`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="64" height="64" fill="#F7931A"/>
  <g clip-path="url(#clip0_1045_17)">
    <path d="M63.0394 39.7409C58.7654 56.8839 41.4024 67.3169 24.2574 63.0419C7.11937 58.7679 -3.31363 41.4039 0.962367 24.2619C5.23437 7.11686 22.5974 -3.31714 39.7374 0.956863C56.8814 5.23086 67.3134 22.5969 63.0394 39.7409Z" fill="#F7931A"/>
    <path d="M46.1092 27.4409C46.7462 23.1829 43.5042 20.8939 39.0712 19.3669L40.5092 13.5989L36.9982 12.7239L35.5982 18.3399C34.6752 18.1099 33.7272 17.8929 32.7852 17.6779L34.1952 12.0249L30.6862 11.1499L29.2472 16.9159C28.4832 16.7419 27.7332 16.5699 27.0052 16.3889L27.0092 16.3709L22.1672 15.1619L21.2332 18.9119C21.2332 18.9119 23.8382 19.5089 23.7832 19.5459C25.2052 19.9009 25.4622 20.8419 25.4192 21.5879L23.7812 28.1589C23.8792 28.1839 24.0062 28.2199 24.1462 28.2759C24.0292 28.2469 23.9042 28.2149 23.7752 28.1839L21.4792 37.3889C21.3052 37.8209 20.8642 38.4689 19.8702 38.2229C19.9052 38.2739 17.3182 37.5859 17.3182 37.5859L15.5752 41.6049L20.1442 42.7439C20.9942 42.9569 21.8272 43.1799 22.6472 43.3899L21.1942 49.2239L24.7012 50.0989L26.1402 44.3269C27.0982 44.5869 28.0282 44.8269 28.9382 45.0529L27.5042 50.7979L31.0152 51.6729L32.4682 45.8499C38.4552 46.9829 42.9572 46.5259 44.8522 41.1109C46.3792 36.7509 44.7762 34.2359 41.6262 32.5959C43.9202 32.0669 45.6482 30.5579 46.1092 27.4409ZM38.0872 38.6899C37.0022 43.0499 29.6612 40.6929 27.2812 40.1019L29.2092 32.3729C31.5892 32.9669 39.2212 34.1429 38.0872 38.6899ZM39.1732 27.3779C38.1832 31.3439 32.0732 29.3289 30.0912 28.8349L31.8392 21.8249C33.8212 22.3189 40.2042 23.2409 39.1732 27.3779Z" fill="white"/>
  </g>
  <defs>
    <clipPath id="clip0_1045_17">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,EYe=ye`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="30" />
  <circle cx="30" cy="30" r="3" fill="#fff" />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m45.32 17.9-.88-.42.88.42.02-.05c.1-.2.21-.44.26-.7l-.82-.15.82.16a2 2 0 0 0-.24-1.4c-.13-.23-.32-.42-.47-.57a8.42 8.42 0 0 1-.04-.04l-.04-.04a2.9 2.9 0 0 0-.56-.47l-.51.86.5-.86a2 2 0 0 0-1.4-.24c-.26.05-.5.16-.69.26l-.05.02-15.05 7.25-.1.05c-1.14.55-1.85.89-2.46 1.37a7 7 0 0 0-1.13 1.14c-.5.6-.83 1.32-1.38 2.45l-.05.11-7.25 15.05-.02.05c-.1.2-.21.43-.26.69a2 2 0 0 0 .24 1.4l.85-.5-.85.5c.13.23.32.42.47.57l.04.04.04.04c.15.15.34.34.56.47a2 2 0 0 0 1.41.24l-.2-.98.2.98c.25-.05.5-.17.69-.26l.05-.02-.42-.87.42.87 15.05-7.25.1-.05c1.14-.55 1.85-.89 2.46-1.38a7 7 0 0 0 1.13-1.13 12.87 12.87 0 0 0 1.43-2.56l7.25-15.05Z"
  />
  <path
    fill="#1DC956"
    d="M33.38 32.72 30.7 29.3 15.86 44.14l.2.2a1 1 0 0 0 1.14.2l15.1-7.27a3 3 0 0 0 1.08-4.55Z"
  />
  <path
    fill="#86F999"
    d="m26.62 27.28 2.67 3.43 14.85-14.85-.2-.2a1 1 0 0 0-1.14-.2l-15.1 7.27a3 3 0 0 0-1.08 4.55Z"
  />
  <circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
</svg> `,CYe=ye`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#clip0_7734_50402)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#EB8B47"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M19 52C24.5228 52 29 47.5228 29 42C29 36.4772 24.5228 32 19 32C13.4772 32 9 36.4772 9 42C9 47.5228 13.4772 52 19 52Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.8437 8.3264C42.4507 7.70891 41.5493 7.70891 41.1564 8.32641L28.978 27.4638C28.5544 28.1295 29.0326 29.0007 29.8217 29.0007H54.1783C54.9674 29.0007 55.4456 28.1295 55.022 27.4638L42.8437 8.3264Z"
      fill="white"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.3348 11.6456C42.659 11.7608 42.9061 12.1492 43.4005 12.926L50.7332 24.4488C51.2952 25.332 51.5763 25.7737 51.5254 26.1382C51.4915 26.3808 51.3698 26.6026 51.1833 26.7614C50.9031 27 50.3796 27 49.3327 27H34.6673C33.6204 27 33.0969 27 32.8167 26.7614C32.6302 26.6026 32.5085 26.3808 32.4746 26.1382C32.4237 25.7737 32.7048 25.332 33.2669 24.4488L40.5995 12.926C41.0939 12.1492 41.341 11.7608 41.6652 11.6456C41.8818 11.5687 42.1182 11.5687 42.3348 11.6456ZM35.0001 26.999C38.8661 26.999 42.0001 23.865 42.0001 19.999C42.0001 23.865 45.1341 26.999 49.0001 26.999H35.0001Z"
      fill="#FF974C"
    />
    <path
      d="M10.1061 9.35712C9.9973 9.67775 9.99867 10.0388 9.99978 10.3323C9.99989 10.3611 10 10.3893 10 10.4167V25.5833C10 25.6107 9.99989 25.6389 9.99978 25.6677C9.99867 25.9612 9.9973 26.3222 10.1061 26.6429C10.306 27.2317 10.7683 27.694 11.3571 27.8939C11.6777 28.0027 12.0388 28.0013 12.3323 28.0002C12.3611 28.0001 12.3893 28 12.4167 28H19C24.5228 28 29 23.5228 29 18C29 12.4772 24.5228 8 19 8H12.4167C12.3893 8 12.3611 7.99989 12.3323 7.99978C12.0388 7.99867 11.6778 7.9973 11.3571 8.10614C10.7683 8.306 10.306 8.76834 10.1061 9.35712Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
    <circle cx="19" cy="42" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="clip0_7734_50402">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,_Ye=ye`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#1DC956"
      d="M0 25.01c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02.11 15.65.11 24.9.11h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.13 60 15.76 60 25v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-3.45 1.97-8.08 1.97-17.33 1.97H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 49.1 0 44.46 0 35.21v-10.2Z"
    />
    <path
      fill="#2BEE6C"
      d="M16.1 60c-3.82-.18-6.4-.64-8.53-1.86a15 15 0 0 1-5.6-5.6C.55 50.06.16 46.97.04 41.98L4.2 40.6a4 4 0 0 0 2.48-2.39l4.65-12.4a2 2 0 0 1 2.5-1.2l2.53.84a2 2 0 0 0 2.43-1l2.96-5.94a2 2 0 0 1 3.7.32l3.78 12.58a2 2 0 0 0 3.03 1.09l3.34-2.23a2 2 0 0 0 .65-.7l5.3-9.72a2 2 0 0 1 1.42-1.01l4.14-.69a2 2 0 0 1 1.6.44l3.9 3.24a2 2 0 0 0 2.7-.12l4.62-4.63c.08 2.2.08 4.8.08 7.93v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-2.13 1.22-4.7 1.68-8.54 1.86H16.11Z"
    />
    <path
      fill="#fff"
      d="m.07 43.03-.05-2.1 3.85-1.28a3 3 0 0 0 1.86-1.79l4.66-12.4a3 3 0 0 1 3.75-1.8l2.53.84a1 1 0 0 0 1.21-.5l2.97-5.94a3 3 0 0 1 5.56.48l3.77 12.58a1 1 0 0 0 1.51.55l3.34-2.23a1 1 0 0 0 .33-.35l5.3-9.71a3 3 0 0 1 2.14-1.53l4.13-.69a3 3 0 0 1 2.41.66l3.9 3.24a1 1 0 0 0 1.34-.06l5.28-5.28c.05.85.08 1.75.1 2.73L56 22.41a3 3 0 0 1-4.04.19l-3.9-3.25a1 1 0 0 0-.8-.21l-4.13.69a1 1 0 0 0-.72.5l-5.3 9.72a3 3 0 0 1-.97 1.05l-3.34 2.23a3 3 0 0 1-4.53-1.63l-3.78-12.58a1 1 0 0 0-1.85-.16l-2.97 5.94a3 3 0 0 1-3.63 1.5l-2.53-.84a1 1 0 0 0-1.25.6l-4.65 12.4a5 5 0 0 1-3.1 3L.07 43.02Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M45 .28v59.66l-2 .1V.19c.7.02 1.37.05 2 .1Z" />
    <path fill="#2BEE6C" d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M.5 25.01c0-4.63 0-8.08.24-10.8.25-2.7.73-4.64 1.66-6.28a14.5 14.5 0 0 1 5.42-5.41C9.46 1.58 11.39 1.1 14.1.85A133 133 0 0 1 24.9.61h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.67a14.5 14.5 0 0 1 5.42 5.4c.93 1.65 1.41 3.58 1.66 6.3.24 2.71.24 6.16.24 10.79v10.2c0 4.64 0 8.08-.24 10.8-.25 2.7-.73 4.65-1.66 6.28a14.5 14.5 0 0 1-5.42 5.42c-1.63.93-3.57 1.41-6.28 1.66-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.66a14.5 14.5 0 0 1-5.42-5.42C1.47 50.66 1 48.72.74 46.01A133 133 0 0 1 .5 35.2v-10.2Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg>`,IYe=ye`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="30" />
    <path
      fill="#E87DE8"
      d="M57.98.01v19.5a4.09 4.09 0 0 0-2.63 2.29L50.7 34.2a2 2 0 0 1-2.5 1.2l-2.53-.84a2 2 0 0 0-2.42 1l-2.97 5.94a2 2 0 0 1-3.7-.32L32.8 28.6a2 2 0 0 0-3.02-1.09l-3.35 2.23a2 2 0 0 0-.64.7l-5.3 9.72a2 2 0 0 1-1.43 1.01l-4.13.69a2 2 0 0 1-1.61-.44l-3.9-3.24a2 2 0 0 0-2.69.12L2.1 42.93.02 43V.01h57.96Z"
    />
    <path
      fill="#fff"
      d="m61.95 16.94.05 2.1-3.85 1.28a3 3 0 0 0-1.86 1.79l-4.65 12.4a3 3 0 0 1-3.76 1.8l-2.53-.84a1 1 0 0 0-1.2.5l-2.98 5.94a3 3 0 0 1-5.55-.48l-3.78-12.58a1 1 0 0 0-1.5-.55l-3.35 2.23a1 1 0 0 0-.32.35l-5.3 9.72a3 3 0 0 1-2.14 1.52l-4.14.69a3 3 0 0 1-2.41-.66l-3.9-3.24a1 1 0 0 0-1.34.06l-5.28 5.28c-.05-.84-.08-1.75-.1-2.73l3.97-3.96a3 3 0 0 1 4.04-.19l3.89 3.25a1 1 0 0 0 .8.21l4.14-.68a1 1 0 0 0 .71-.51l5.3-9.71a3 3 0 0 1 .97-1.06l3.34-2.23a3 3 0 0 1 4.54 1.63l3.77 12.58a1 1 0 0 0 1.86.16l2.96-5.93a3 3 0 0 1 3.64-1.5l2.52.83a1 1 0 0 0 1.25-.6l4.66-12.4a5 5 0 0 1 3.1-2.99l4.43-1.48Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M35.5 27a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M31 0v60h-2V0h2Z" />
    <path fill="#E87DE8" d="M33.5 27a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,SYe=ye`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#987DE8" rx="30" />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="m15.48 28.37 11.97-19.3a3 3 0 0 1 5.1 0l11.97 19.3a6 6 0 0 1 .9 3.14v.03a6 6 0 0 1-1.16 3.56L33.23 50.2a4 4 0 0 1-6.46 0L15.73 35.1a6 6 0 0 1-1.15-3.54v-.03a6 6 0 0 1 .9-3.16Z"
      clip-rule="evenodd"
    />
    <path
      fill="#643CDD"
      d="M30.84 10.11a1 1 0 0 0-.84-.46V24.5l12.6 5.53a2 2 0 0 0-.28-1.4L30.84 10.11Z"
    />
    <path
      fill="#BDADEB"
      d="M30 9.65a1 1 0 0 0-.85.46L17.66 28.64a2 2 0 0 0-.26 1.39L30 24.5V9.65Z"
    />
    <path
      fill="#643CDD"
      d="M30 50.54a1 1 0 0 0 .8-.4l11.24-15.38c.3-.44-.2-1-.66-.73l-9.89 5.68a3 3 0 0 1-1.5.4v10.43Z"
    />
    <path
      fill="#BDADEB"
      d="m17.97 34.76 11.22 15.37c.2.28.5.41.8.41V40.11a3 3 0 0 1-1.49-.4l-9.88-5.68c-.47-.27-.97.3-.65.73Z"
    />
    <path
      fill="#401AB3"
      d="M42.6 30.03 30 24.5v13.14a3 3 0 0 0 1.5-.4l10.14-5.83a2 2 0 0 0 .95-1.38Z"
    />
    <path
      fill="#7C5AE2"
      d="M30 37.64V24.46l-12.6 5.57a2 2 0 0 0 .97 1.39l10.13 5.82a3 3 0 0 0 1.5.4Z"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,xYe=ye`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="64" height="64" rx="30" fill="#1DC956"/>
  <rect x="0.5" y="0.5" width="63" height="63" rx="29.5" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M32.4053 19.8031C35.3901 19.8031 38.0431 20.8349 40.1619 22.8247L45.9656 17.0211C42.4465 13.7416 37.8773 11.7333 32.4053 11.7333C24.4829 11.7333 17.6475 16.2841 14.3127 22.9168L21.056 28.1493C22.6589 23.359 27.136 19.8031 32.4053 19.8031Z" fill="#1DC956" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M32.4053 52.2667C37.8773 52.2667 42.465 50.4611 45.8182 47.3658L39.2407 42.2623C37.4351 43.4783 35.1321 44.2153 32.4053 44.2153C27.136 44.2153 22.6589 40.6594 21.056 35.8691L14.3127 41.1016C17.6475 47.7159 24.4829 52.2667 32.4053 52.2667Z" fill="#2BEE6C"/>
  <path d="M21.056 35.8507L19.5636 36.993L14.3127 41.0832M39.2407 42.2623L45.8182 47.3658C42.465 50.4611 37.8773 52.2667 32.4053 52.2667C24.4829 52.2667 17.6475 47.7159 14.3127 41.1016L21.056 35.8691C22.6589 40.6594 27.136 44.2153 32.4053 44.2153C35.1321 44.2153 37.4351 43.4783 39.2407 42.2623Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M51.8613 32.4606C51.8613 31.0235 51.7323 29.6417 51.4928 28.3151H32.4053V36.1638H43.3124C42.8334 38.688 41.3963 40.8252 39.2407 42.2623L45.8181 47.3658C49.6503 43.8283 51.8613 38.6327 51.8613 32.4606Z" fill="#1FAD7E" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" fill="#86F999"/>
  <path d="M21.056 35.8691L14.3127 41.1016M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
</svg>
`,AYe=ye`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="3" />
  <path
    fill="#1FAD7E"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 29.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 19.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#86F999"
    stroke="#fff"
    stroke-width="2"
    d="m46.69 21.06-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-6.32-3.51-.18-.1c-2.33-1.3-3.72-2.06-5.22-2.33a9 9 0 0 0-3.08 0c-1.5.27-2.9 1.04-5.22 2.33l-.17.1-6.33 3.51-.05.03c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45Z"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,kYe=ye`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31636)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58318 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58318 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9269C60.4784 58.4159 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4159 2.1019 55.9269C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#794CFF"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M40 39.4595C44.7824 36.693 48 31.5222 48 25.6C48 16.7634 40.8366 9.59998 32 9.59998C23.1634 9.59998 16 16.7634 16 25.6C16 31.5222 19.2176 36.693 24 39.4595V45.8144H40V39.4595Z" fill="#906EF7"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#906EF7"/>
    <path d="M24 45.8144V39.4595C19.2176 36.693 16 31.5222 16 25.6C16 16.7634 23.1634 9.59998 32 9.59998C40.8366 9.59998 48 16.7634 48 25.6C48 31.5222 44.7824 36.693 40 39.4595V45.8144M24 45.8144H40M24 45.8144V49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#643CDD" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M29.6735 26.9101V29.1109H34.0753V26.9101C34.0753 25.6945 35.0607 24.7092 36.2762 24.7092C37.4917 24.7092 38.4771 25.6945 38.4771 26.9101C38.4771 28.1256 37.4917 29.1109 36.2762 29.1109H34.0753H29.6735H27.4726C26.2571 29.1109 25.2717 28.1256 25.2717 26.9101C25.2717 25.6945 26.2571 24.7092 27.4726 24.7092C28.6881 24.7092 29.6735 25.6945 29.6735 26.9101Z" fill="#906EF7"/>
    <path d="M29.6735 45.3183V26.9101C29.6735 25.6945 28.6881 24.7092 27.4726 24.7092V24.7092C26.2571 24.7092 25.2717 25.6945 25.2717 26.9101V26.9101C25.2717 28.1256 26.2571 29.1109 27.4726 29.1109H36.2762C37.4917 29.1109 38.4771 28.1256 38.4771 26.9101V26.9101C38.4771 25.6945 37.4917 24.7092 36.2762 24.7092V24.7092C35.0607 24.7092 34.0753 25.6945 34.0753 26.9101V45.3183" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31636">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,$Ye=ye`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#C653C6" rx="3" />
  <path
    fill="#fff"
    d="M20.03 15.22C20 15.6 20 16.07 20 17v2.8c0 1.14 0 1.7-.2 2.12-.15.31-.3.5-.58.71-.37.28-1.06.42-2.43.7-.59.12-1.11.29-1.6.51a9 9 0 0 0-4.35 4.36C10 30 10 32.34 10 37c0 4.66 0 7 .84 8.8a9 9 0 0 0 4.36 4.36C17 51 19.34 51 24 51h12c4.66 0 7 0 8.8-.84a9 9 0 0 0 4.36-4.36C50 44 50 41.66 50 37c0-4.66 0-7-.84-8.8a9 9 0 0 0-4.36-4.36c-.48-.22-1-.39-1.6-.5-1.36-.29-2.05-.43-2.42-.7-.27-.22-.43-.4-.58-.72-.2-.42-.2-.98-.2-2.11V17c0-.93 0-1.4-.03-1.78a9 9 0 0 0-8.19-8.19C31.4 7 30.93 7 30 7s-1.4 0-1.78.03a9 9 0 0 0-8.19 8.19Z"
  />
  <path
    fill="#E87DE8"
    d="M22 17c0-.93 0-1.4.04-1.78a7 7 0 0 1 6.18-6.18C28.6 9 29.07 9 30 9s1.4 0 1.78.04a7 7 0 0 1 6.18 6.18c.04.39.04.85.04 1.78v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.4-.08-1.78a4 4 0 0 0-3.14-3.14C31.39 12 30.93 12 30 12s-1.4 0-1.78.08a4 4 0 0 0-3.14 3.14c-.08.39-.08.85-.08 1.78v4.5a1.5 1.5 0 0 1-3 0V17Z"
  />
  <path
    fill="#E87DE8"
    fill-rule="evenodd"
    d="M12 36.62c0-4.32 0-6.48.92-8.09a7 7 0 0 1 2.61-2.61C17.14 25 19.3 25 23.62 25h6.86c.46 0 .7 0 .9.02 2.73.22 4.37 2.43 4.62 4.98.27-2.7 2.11-5 5.02-5A6.98 6.98 0 0 1 48 31.98v5.4c0 4.32 0 6.48-.92 8.09a7 7 0 0 1-2.61 2.61c-1.61.92-3.77.92-8.09.92h-5.86c-.46 0-.7 0-.9-.02-2.73-.22-4.37-2.43-4.62-4.98-.26 2.58-1.94 4.82-4.71 4.99l-.7.01c-.55 0-.82 0-1.05-.02a7 7 0 0 1-6.52-6.52c-.02-.23-.02-.5-.02-1.05v-4.79Zm21.24-.27a4 4 0 1 0-6.48 0 31.28 31.28 0 0 1 1.57 2.23c.17.4.17.81.17 1.24V42.5a1.5 1.5 0 0 0 3 0V39.82c0-.43 0-.85.17-1.24.09-.2.58-.87 1.57-2.23Z"
    clip-rule="evenodd"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,TYe=ye`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#EB8B47"
      d="M0 24.9c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02 0 15.65 0 24.9 0h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.02 60 15.65 60 24.9v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6C48.98 60 44.35 60 35.1 60H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 48.98 0 44.35 0 35.1V24.9Z"
    />
    <path
      stroke="#062B2B"
      stroke-opacity=".1"
      d="M.5 24.9c0-4.64 0-8.08.24-10.8.25-2.7.73-4.65 1.66-6.28A14.5 14.5 0 0 1 7.82 2.4C9.46 1.47 11.39 1 14.1.74A133 133 0 0 1 24.9.5h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.66a14.5 14.5 0 0 1 5.42 5.42c.93 1.63 1.41 3.57 1.66 6.28.24 2.72.24 6.16.24 10.8v10.2c0 4.63 0 8.08-.24 10.8-.25 2.7-.73 4.64-1.66 6.28a14.5 14.5 0 0 1-5.42 5.41c-1.63.94-3.57 1.42-6.28 1.67-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.67a14.5 14.5 0 0 1-5.42-5.4C1.47 50.53 1 48.6.74 45.88A133 133 0 0 1 .5 35.1V24.9Z"
    />
    <path
      fill="#FF974C"
      stroke="#fff"
      stroke-width="2"
      d="M39.2 29.2a13 13 0 1 0-18.4 0l1.3 1.28a12.82 12.82 0 0 1 2.1 2.39 6 6 0 0 1 .6 1.47c.2.76.2 1.56.2 3.17v11.24c0 1.08 0 1.61.13 2.12a4 4 0 0 0 .41.98c.26.45.64.83 1.4 1.6l.3.29c.65.65.98.98 1.36 1.09.26.07.54.07.8 0 .38-.11.7-.44 1.36-1.1l3.48-3.47c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.47-.48c-.65-.65-.98-.98-1.09-1.36a1.5 1.5 0 0 1 0-.8c.1-.38.44-.7 1.1-1.36l.47-.48c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.48-.5c-.65-.64-.98-.97-1.08-1.35a1.5 1.5 0 0 1 0-.79c.1-.38.42-.7 1.06-1.36l5.46-5.55Z"
    />
    <circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg> `,NYe=ye`<svg width="40" height="42" viewBox="0 0 40 42" fill="none">
<path opacity="0.7" d="M19.9526 41.9076L7.3877 34.655V26.1226L19.9526 33.3751V41.9076Z" fill="url(#paint0_linear_2113_32117)"/>
<path opacity="0.7" d="M19.9521 41.9076L32.5171 34.655V26.1226L19.9521 33.3751V41.9076Z" fill="url(#paint1_linear_2113_32117)"/>
<path opacity="0.7" d="M39.9095 7.34521V21.8562L32.5166 26.1225V11.6114L39.9095 7.34521Z" fill="url(#paint2_linear_2113_32117)"/>
<path d="M39.9099 7.34536L27.345 0.0927734L19.9521 4.359L32.5171 11.6116L39.9099 7.34536Z" fill="url(#paint3_linear_2113_32117)"/>
<path d="M0 7.34536L12.5649 0.0927734L19.9519 4.359L7.387 11.6116L0 7.34536Z" fill="#F969D3"/>
<path opacity="0.7" d="M0 7.34521V21.8562L7.387 26.1225V11.6114L0 7.34521Z" fill="url(#paint4_linear_2113_32117)"/>
<defs>
<linearGradient id="paint0_linear_2113_32117" x1="18.6099" y1="41.8335" x2="7.73529" y2="8.31842" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
<linearGradient id="paint1_linear_2113_32117" x1="26.2346" y1="26.1226" x2="26.2346" y2="41.9076" gradientUnits="userSpaceOnUse">
<stop stop-color="#719DED"/>
<stop offset="1" stop-color="#2545BE"/>
</linearGradient>
<linearGradient id="paint2_linear_2113_32117" x1="36.213" y1="7.34521" x2="36.213" y2="26.1225" gradientUnits="userSpaceOnUse">
<stop stop-color="#93EBFF"/>
<stop offset="1" stop-color="#197DDB"/>
</linearGradient>
<linearGradient id="paint3_linear_2113_32117" x1="29.931" y1="0.0927734" x2="38.2156" y2="14.8448" gradientUnits="userSpaceOnUse">
<stop stop-color="#F969D3"/>
<stop offset="1" stop-color="#4F51C0"/>
</linearGradient>
<linearGradient id="paint4_linear_2113_32117" x1="18.1251" y1="44.2539" x2="-7.06792" y2="15.2763" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
</defs>
</svg>`,OYe=ye`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#00ACE6" rx="30" />
    <circle cx="64" cy="39" r="50" fill="#1AC6FF" stroke="#fff" stroke-width="2" />
    <circle cx="78" cy="30" r="50" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="72" cy="15" r="35" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-17" r="45" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-5" r="50" stroke="#fff" stroke-width="2" />
    <circle cx="30" cy="45" r="4" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="39.5" cy="27.5" r="4" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="16" cy="24" r="4" fill="#19C6FF" stroke="#fff" stroke-width="2" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg>`,PYe=ye`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="3" />
    <path
      fill="#E87DE8"
      stroke="#fff"
      stroke-width="2"
      d="M52.1 47.34c0-4.24-1.44-9.55-5.9-12.4a2.86 2.86 0 0 0-1.6-3.89v-.82c0-1.19-.52-2.26-1.35-3a4.74 4.74 0 0 0-2.4-6.26v-5.5a11.31 11.31 0 1 0-22.63 0v2.15a3.34 3.34 0 0 0-1.18 5.05 4.74 4.74 0 0 0-.68 6.44A5.22 5.22 0 0 0 14 35.92c-3.06 4.13-6.1 8.3-6.1 15.64 0 2.67.37 4.86.74 6.39a20.3 20.3 0 0 0 .73 2.39l.02.04v.01l.92-.39-.92.4.26.6h38.26l.3-.49-.87-.51.86.5.02-.01.03-.07a16.32 16.32 0 0 0 .57-1.05c.36-.72.85-1.74 1.33-2.96a25.51 25.51 0 0 0 1.94-9.07Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M26.5 29.5c-3-.5-5.5-3-5.5-7v-7c0-.47 0-.7.03-.9a3 3 0 0 1 2.58-2.57c.2-.03.42-.03.89-.03 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.4 0 2.1 0 2.65.23a3 3 0 0 1 1.62 1.62c.23.55.23 1.25.23 2.65v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.5 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z"
      clip-rule="evenodd"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="3" /></clipPath>
  </defs>
</svg> `,RYe=ye`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#794CFF" rx="3" />
  <path
    fill="#987DE8"
    stroke="#fff"
    stroke-width="2"
    d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"
  />
  <path fill="#fff" d="M37.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M42.5 25h5v10h-5z" />
  <path fill="#fff" d="M19.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M24.5 25h5v10h-5z" />
  <path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,DYe=ye`<svg width="60" height="60" viewBox="0 0 60 60" fill="none">
<g clip-path="url(#clip0_13859_31161)">
  <path d="M0 24.8995C0 15.6481 0 11.0223 1.97053 7.56763C3.3015 5.2342 5.23468 3.30101 7.56812 1.97004C11.0228 -0.000488281 15.6485 -0.000488281 24.9 -0.000488281H35.1C44.3514 -0.000488281 48.9772 -0.000488281 52.4319 1.97004C54.7653 3.30101 56.6985 5.2342 58.0295 7.56763C60 11.0223 60 15.6481 60 24.8995V35.0995C60 44.351 60 48.9767 58.0295 52.4314C56.6985 54.7648 54.7653 56.698 52.4319 58.029C48.9772 59.9995 44.3514 59.9995 35.1 59.9995H24.9C15.6485 59.9995 11.0228 59.9995 7.56812 58.029C5.23468 56.698 3.3015 54.7648 1.97053 52.4314C0 48.9767 0 44.351 0 35.0995V24.8995Z" fill="#EB8B47"/>
  <path d="M0.5 24.8995C0.5 20.2647 0.50047 16.8216 0.744315 14.1045C0.987552 11.3941 1.46987 9.45455 2.40484 7.81536C3.69145 5.55971 5.56019 3.69096 7.81585 2.40435C9.45504 1.46938 11.3946 0.987064 14.105 0.743826C16.8221 0.499981 20.2652 0.499512 24.9 0.499512H35.1C39.7348 0.499512 43.1779 0.499981 45.895 0.743826C48.6054 0.987064 50.545 1.46938 52.1841 2.40435C54.4398 3.69096 56.3086 5.55971 57.5952 7.81536C58.5301 9.45455 59.0124 11.3941 59.2557 14.1045C59.4995 16.8216 59.5 20.2647 59.5 24.8995V35.0995C59.5 39.7343 59.4995 43.1774 59.2557 45.8945C59.0124 48.6049 58.5301 50.5445 57.5952 52.1837C56.3086 54.4393 54.4398 56.3081 52.1841 57.5947C50.545 58.5296 48.6054 59.012 45.895 59.2552C43.1779 59.499 39.7348 59.4995 35.1 59.4995H24.9C20.2652 59.4995 16.8221 59.499 14.105 59.2552C11.3946 59.012 9.45504 58.5296 7.81585 57.5947C5.56019 56.3081 3.69145 54.4393 2.40484 52.1837C1.46987 50.5445 0.987552 48.6049 0.744315 45.8945C0.50047 43.1774 0.5 39.7343 0.5 35.0995V24.8995Z" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M13 26.0335C13 21.7838 13 19.659 14.0822 18.1694C14.4318 17.6883 14.8548 17.2653 15.3359 16.9157C16.8255 15.8335 18.9503 15.8335 23.2 15.8335H36.8C41.0497 15.8335 43.1745 15.8335 44.6641 16.9157C45.1452 17.2653 45.5682 17.6883 45.9178 18.1694C47 19.659 47 21.7838 47 26.0335V33.9668C47 38.2165 47 40.3414 45.9178 41.831C45.5682 42.312 45.1452 42.7351 44.6641 43.0846C43.1745 44.1668 41.0497 44.1668 36.8 44.1668H23.2C18.9503 44.1668 16.8255 44.1668 15.3359 43.0846C14.8548 42.7351 14.4318 42.312 14.0822 41.831C13 40.3414 13 38.2165 13 33.9668V26.0335Z" fill="#FF974C" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M39.5 36.667H36.6666" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M45.2 23.0645H14.8C14.0501 23.0645 13.6751 23.0645 13.4122 23.2554C13.3273 23.3171 13.2527 23.3918 13.191 23.4767C13 23.7395 13 24.1145 13 24.8645V27.2645C13 28.0144 13 28.3894 13.191 28.6522C13.2527 28.7371 13.3273 28.8118 13.4122 28.8735C13.6751 29.0645 14.0501 29.0645 14.8 29.0645H45.2C45.9499 29.0645 46.3249 29.0645 46.5878 28.8735C46.6727 28.8118 46.7473 28.7371 46.809 28.6522C47 28.3894 47 28.0144 47 27.2645V24.8645C47 24.1145 47 23.7395 46.809 23.4767C46.7473 23.3918 46.6727 23.3171 46.5878 23.2554C46.3249 23.0645 45.9499 23.0645 45.2 23.0645Z" fill="white" fill-opacity="0.4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<defs>
  <clipPath id="clip0_13859_31161">
    <rect width="60" height="60" fill="white"/>
  </clipPath>
</defs>
</svg>`,UYe=ye`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31635)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58317 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58317 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9268C60.4784 58.4158 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4158 2.1019 55.9268C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#EB8B47"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M28.1042 49.2329L13.1024 51.2077L15.0772 36.2059L37.1015 14.1815C39.2441 12.039 40.3154 10.9677 41.5718 10.624C42.4205 10.3918 43.3159 10.3918 44.1645 10.624C45.421 10.9677 46.4922 12.039 48.6348 14.1815L50.1286 15.6753C52.2711 17.8179 53.3424 18.8891 53.6861 20.1456C53.9183 20.9942 53.9183 21.8896 53.6861 22.7383C53.3424 23.9947 52.2711 25.066 50.1286 27.2086L28.1042 49.2329Z" fill="#FF974C" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M38.5962 20.5376L22.4199 36.7139" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M43.7727 25.714L27.5964 41.8903" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.3703 36.7635C19.3258 39.808 16.0198 36.6395 16.2616 35.0324" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5466 41.9399C24.5034 44.9831 28.155 48.7098 29.2738 48.0475" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5468 41.9398C23.428 46.0586 18.2516 40.8822 22.3704 36.7634" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M15.8191 50.5214C15.4711 49.5823 14.728 48.8392 13.7889 48.4912" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M49.2862 29.5805L34.7275 15.0219" stroke="#E4E7E7" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31635">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,MYe=ye`<svg
  viewBox="0 0 60 60"
  fill="none"
>
  <g clip-path="url(#1)">
    <rect width="60" height="60" rx="30" fill="#00ACE6" />
    <path
      d="M59 73C59 89.0163 46.0163 102 30 102C13.9837 102 1 89.0163 1 73C1 56.9837 12 44 30 44C48 44 59 56.9837 59 73Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M18.6904 19.9015C19.6264 15.3286 23.3466 11.8445 27.9708 11.2096C29.3231 11.024 30.6751 11.0238 32.0289 11.2096C36.6532 11.8445 40.3733 15.3286 41.3094 19.9015C41.4868 20.7681 41.6309 21.6509 41.7492 22.5271C41.8811 23.5041 41.8811 24.4944 41.7492 25.4715C41.6309 26.3476 41.4868 27.2304 41.3094 28.097C40.3733 32.6699 36.6532 36.154 32.0289 36.7889C30.6772 36.9744 29.3216 36.9743 27.9708 36.7889C23.3466 36.154 19.6264 32.6699 18.6904 28.097C18.513 27.2304 18.3689 26.3476 18.2506 25.4715C18.1186 24.4944 18.1186 23.5041 18.2506 22.5271C18.3689 21.6509 18.513 20.7681 18.6904 19.9015Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="24.5" cy="23.5" r="1.5" fill="white" />
    <circle cx="35.5" cy="23.5" r="1.5" fill="white" />
    <path
      d="M31 20L28 28H32"
      stroke="white"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </g>
  <rect x="0.5" y="0.5" width="59" height="59" rx="29.5" stroke="white" stroke-opacity="0.1" />
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" rx="30" fill="white" />
    </clipPath>
  </defs>
</svg> `,LYe=ye`<svg fill="none" viewBox="0 0 80 80">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M40 80a40 40 0 1 0 0-80 40 40 0 0 0 0 80Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M79.5 40a39.5 39.5 0 1 1-79 0 39.5 39.5 0 0 1 79 0Z"
    />
    <path
      fill="#fff"
      d="m62.62 51.54-7.54 7.91a1.75 1.75 0 0 1-1.29.55H18.02a.9.9 0 0 1-.8-.52.84.84 0 0 1 .16-.92l7.55-7.92a1.75 1.75 0 0 1 1.28-.55h35.77a.87.87 0 0 1 .8.52.84.84 0 0 1-.16.93Zm-7.54-15.95a1.75 1.75 0 0 0-1.29-.54H18.02a.89.89 0 0 0-.8.51.84.84 0 0 0 .16.93l7.55 7.92a1.75 1.75 0 0 0 1.28.54h35.77a.89.89 0 0 0 .8-.51.84.84 0 0 0-.16-.93l-7.54-7.92ZM18.02 29.9h35.77a1.79 1.79 0 0 0 1.29-.54l7.54-7.92a.85.85 0 0 0 .16-.93.87.87 0 0 0-.8-.51H26.21a1.79 1.79 0 0 0-1.28.54l-7.55 7.92a.85.85 0 0 0-.16.93.89.89 0 0 0 .8.52Z"
    />
  </g>
  <defs>
    <linearGradient id="b" x1="6.75" x2="80.68" y1="81.91" y2="7.37" gradientUnits="userSpaceOnUse">
      <stop offset=".08" stop-color="#9945FF" />
      <stop offset=".3" stop-color="#8752F3" />
      <stop offset=".5" stop-color="#5497D5" />
      <stop offset=".6" stop-color="#43B4CA" />
      <stop offset=".72" stop-color="#28E0B9" />
      <stop offset=".97" stop-color="#19FB9B" />
    </linearGradient>
    <clipPath id="a"><path fill="#fff" d="M0 0h80v80H0z" /></clipPath>
  </defs>
</svg> `,jYe=ye`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#1)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#794CFF"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M35.1403 31.5016C35.1193 30.9637 35.388 30.4558 35.8446 30.1707C36.1207 29.9982 36.4761 29.8473 36.7921 29.7685C37.3143 29.6382 37.8664 29.7977 38.2386 30.1864C38.8507 30.8257 39.3004 31.6836 39.8033 32.408C40.2796 33.0942 41.4695 33.2512 41.9687 32.5047C42.4839 31.7341 42.9405 30.8229 43.572 30.1399C43.9375 29.7447 44.4866 29.5756 45.0111 29.6967C45.3283 29.7701 45.6863 29.9147 45.9655 30.0823C46.4269 30.3595 46.7045 30.8626 46.6928 31.4008C46.6731 32.3083 46.3764 33.2571 46.2158 34.1473C46.061 35.0048 46.9045 35.8337 47.7592 35.664C48.6464 35.4878 49.5899 35.1747 50.497 35.1391C51.0348 35.1181 51.5427 35.3868 51.8279 35.8433C52.0004 36.1195 52.1513 36.4749 52.2301 36.7908C52.3604 37.3131 52.2009 37.8651 51.8121 38.2374C51.1729 38.8495 50.3151 39.2991 49.5908 39.8019C48.9046 40.2782 48.7473 41.4683 49.4939 41.9675C50.2644 42.4827 51.1757 42.9393 51.8587 43.5708C52.2539 43.9362 52.423 44.4854 52.3018 45.0099C52.2285 45.3271 52.0839 45.6851 51.9162 45.9642C51.6391 46.4257 51.1359 46.7032 50.5978 46.6916C49.6903 46.6719 48.7417 46.3753 47.8516 46.2146C46.9939 46.0598 46.1648 46.9035 46.3346 47.7583C46.5108 48.6454 46.8239 49.5888 46.8594 50.4958C46.8805 51.0336 46.6117 51.5415 46.1552 51.8267C45.879 51.9992 45.5236 52.15 45.2077 52.2289C44.6854 52.3592 44.1334 52.1997 43.7611 51.8109C43.1491 51.1718 42.6996 50.314 42.1968 49.5897C41.7203 48.9034 40.5301 48.7463 40.0309 49.493C39.5157 50.2634 39.0592 51.1746 38.4278 51.8574C38.0623 52.2527 37.5132 52.4218 36.9887 52.3006C36.6715 52.2273 36.3135 52.0826 36.0343 51.915C35.5729 51.6379 35.2953 51.1347 35.307 50.5966C35.3267 49.6891 35.6233 48.7405 35.7839 47.8505C35.9388 46.9928 35.0951 46.1636 34.2402 46.3334C33.3531 46.5096 32.4098 46.8227 31.5028 46.8582C30.9649 46.8793 30.457 46.6105 30.1719 46.154C29.9994 45.8778 29.8485 45.5224 29.7697 45.2065C29.6394 44.6842 29.7989 44.1322 30.1877 43.7599C30.8269 43.1479 31.6847 42.6982 32.4091 42.1954C33.0954 41.7189 33.2522 40.5289 32.5056 40.0297C31.7351 39.5145 30.824 39.058 30.1411 38.4265C29.7459 38.0611 29.5768 37.5119 29.698 36.9875C29.7713 36.6702 29.9159 36.3122 30.0836 36.0331C30.3607 35.5717 30.8638 35.2941 31.402 35.3058C32.3095 35.3255 33.2583 35.6221 34.1485 35.7828C35.006 35.9376 35.8349 35.094 35.6652 34.2393C35.489 33.3521 35.1759 32.4087 35.1403 31.5016Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M20.7706 8.22357C20.9036 7.51411 21.5231 7 22.2449 7H23.7551C24.4769 7 25.0964 7.51411 25.2294 8.22357C25.5051 9.69403 25.4829 11.6321 27.1202 12.2606C27.3092 12.3331 27.4958 12.4105 27.6798 12.4926C29.2818 13.2072 30.6374 11.8199 31.8721 10.9752C32.4678 10.5676 33.2694 10.6421 33.7798 11.1525L34.8477 12.2204C35.3581 12.7308 35.4326 13.5323 35.025 14.128C34.1802 15.3627 32.7931 16.7183 33.5077 18.3202C33.5898 18.5043 33.6672 18.6909 33.7398 18.88C34.3683 20.5171 36.3061 20.4949 37.7764 20.7706C38.4859 20.9036 39 21.5231 39 22.2449V23.7551C39 24.4769 38.4859 25.0964 37.7764 25.2294C36.3061 25.5051 34.3685 25.483 33.7401 27.1201C33.6675 27.3093 33.59 27.4961 33.5079 27.6803C32.7934 29.282 34.1803 30.6374 35.025 31.8719C35.4326 32.4677 35.3581 33.2692 34.8477 33.7796L33.7798 34.8475C33.2694 35.3579 32.4678 35.4324 31.8721 35.0248C30.6376 34.1801 29.2823 32.7934 27.6806 33.508C27.4962 33.5903 27.3093 33.6678 27.12 33.7405C25.483 34.3688 25.5051 36.3062 25.2294 37.7764C25.0964 38.4859 24.4769 39 23.7551 39H22.2449C21.5231 39 20.9036 38.4859 20.7706 37.7764C20.4949 36.3062 20.517 34.3688 18.88 33.7405C18.6908 33.6678 18.5039 33.5903 18.3196 33.5081C16.7179 32.7936 15.3625 34.1804 14.1279 35.0251C13.5322 35.4327 12.7307 35.3582 12.2203 34.8478L11.1524 33.7799C10.642 33.2695 10.5675 32.4679 10.9751 31.8722C11.8198 30.6376 13.2067 29.2822 12.4922 27.6804C12.41 27.4962 12.3325 27.3093 12.2599 27.1201C11.6315 25.483 9.69392 25.5051 8.22357 25.2294C7.51411 25.0964 7 24.4769 7 23.7551V22.2449C7 21.5231 7.51411 20.9036 8.22357 20.7706C9.69394 20.4949 11.6317 20.5171 12.2602 18.88C12.3328 18.6909 12.4103 18.5042 12.4924 18.3201C13.207 16.7181 11.8198 15.3625 10.975 14.1278C10.5674 13.5321 10.6419 12.7305 11.1523 12.2201L12.2202 11.1522C12.7306 10.6418 13.5322 10.5673 14.1279 10.9749C15.3626 11.8197 16.7184 13.2071 18.3204 12.4925C18.5044 12.4105 18.6909 12.3331 18.8799 12.2606C20.5171 11.6321 20.4949 9.69403 20.7706 8.22357Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="23" cy="23" r="6" fill="#794CFF" stroke="white" stroke-width="2" />
    <circle cx="41" cy="41" r="4" fill="#794CFF" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,BYe=Be`
  :host {
    display: block;
    width: var(--local-size);
    height: var(--local-size);
  }

  :host svg {
    width: 100%;
    height: 100%;
  }
`;var fM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const zYe={browser:EYe,dao:CYe,defi:_Ye,defiAlt:IYe,eth:SYe,layers:AYe,lock:$Ye,login:TYe,network:OYe,nft:PYe,noun:RYe,profile:MYe,system:jYe,meld:NYe,onrampCard:DYe,google:xYe,pencil:UYe,lightbulb:kYe,solana:LYe,ton:Fse,bitcoin:vYe};let _C=class extends Q{constructor(){super(...arguments),this.name="browser",this.size="md"}render(){return this.style.cssText=`
       --local-size: var(--apkt-visual-size-${this.size});
   `,$`${zYe[this.name]}`}};_C.styles=[st,BYe];fM([L()],_C.prototype,"name",void 0);fM([L()],_C.prototype,"size",void 0);_C=fM([ie("wui-visual")],_C);const WYe=ve`
  button {
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[4]};
    border: none;
    outline: none;
    background-color: ${({tokens:t})=>t.core.glass010};
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: ${({spacing:t})=>t[3]};
    transition: background-color ${({easings:t})=>t["ease-out-power-1"]}
      ${({durations:t})=>t.md};
    will-change: background-color;
    cursor: pointer;
  }

  button:hover {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .provider-image {
    width: ${({spacing:t})=>t[10]};
    min-width: ${({spacing:t})=>t[10]};
    height: ${({spacing:t})=>t[10]};
    border-radius: calc(
      ${({borderRadius:t})=>t[4]} - calc(${({spacing:t})=>t[3]} / 2)
    );
    position: relative;
    overflow: hidden;
  }

  .network-icon {
    width: ${({spacing:t})=>t[3]};
    height: ${({spacing:t})=>t[3]};
    border-radius: calc(${({spacing:t})=>t[3]} / 2);
    overflow: hidden;
    box-shadow:
      0 0 0 3px ${({tokens:t})=>t.theme.foregroundPrimary},
      0 0 0 3px ${({tokens:t})=>t.theme.backgroundPrimary};
    transition: box-shadow ${({easings:t})=>t["ease-out-power-1"]}
      ${({durations:t})=>t.md};
    will-change: box-shadow;
  }

  button:hover .network-icon {
    box-shadow:
      0 0 0 3px ${({tokens:t})=>t.core.glass010},
      0 0 0 3px ${({tokens:t})=>t.theme.backgroundPrimary};
  }
`;var Yg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let kd=class extends Q{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="",this.feeRange="",this.loading=!1,this.onClick=null}render(){return $`
      <button ?disabled=${this.disabled} @click=${this.onClick} ontouchstart>
        <wui-visual name=${le(this.name)} class="provider-image"></wui-visual>
        <wui-flex flexDirection="column" gap="01">
          <wui-text variant="md-regular" color="primary">${this.label}</wui-text>
          <wui-flex alignItems="center" justifyContent="flex-start" gap="4">
            <wui-text variant="sm-medium" color="primary">
              <wui-text variant="sm-regular" color="secondary">Fees</wui-text>
              ${this.feeRange}
            </wui-text>
            <wui-flex gap="2">
              <wui-icon name="bank" size="sm" color="default"></wui-icon>
              <wui-icon name="card" size="sm" color="default"></wui-icon>
            </wui-flex>
            ${this.networksTemplate()}
          </wui-flex>
        </wui-flex>
        ${this.loading?$`<wui-loading-spinner color="secondary" size="md"></wui-loading-spinner>`:$`<wui-icon name="chevronRight" color="default" size="sm"></wui-icon>`}
      </button>
    `}networksTemplate(){const n=j.getAllRequestedCaipNetworks()?.filter(r=>r?.assets?.imageId)?.slice(0,5);return $`
      <wui-flex class="networks">
        ${n?.map(r=>$`
            <wui-flex class="network-icon">
              <wui-image src=${le(en.getNetworkImage(r))}></wui-image>
            </wui-flex>
          `)}
      </wui-flex>
    `}};kd.styles=[WYe];Yg([L({type:Boolean})],kd.prototype,"disabled",void 0);Yg([L()],kd.prototype,"color",void 0);Yg([L()],kd.prototype,"name",void 0);Yg([L()],kd.prototype,"label",void 0);Yg([L()],kd.prototype,"feeRange",void 0);Yg([L({type:Boolean})],kd.prototype,"loading",void 0);Yg([L()],kd.prototype,"onClick",void 0);kd=Yg([ie("w3m-onramp-provider-item")],kd);const qYe=Be``;var FYe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let B9=class extends Q{render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state;return!e&&!n?null:$`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return $` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){Ce.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),Z.push("WhatIsABuy")}};B9.styles=[qYe];B9=FYe([ie("w3m-onramp-providers-footer")],B9);var loe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $x=class extends Q{constructor(){super(),this.unsubscribe=[],this.providers=Zn.state.providers,this.unsubscribe.push(Zn.subscribeKey("providers",e=>{this.providers=e}))}render(){return $`
      <wui-flex flexDirection="column" .padding=${["0","3","3","3"]} gap="2">
        ${this.onRampProvidersTemplate()}
      </wui-flex>
    `}onRampProvidersTemplate(){return this.providers.filter(e=>e.supportedChains.includes(j.state.activeChain??"eip155")).map(e=>$`
          <w3m-onramp-provider-item
            label=${e.label}
            name=${e.name}
            feeRange=${e.feeRange}
            @click=${()=>{this.onClickProvider(e)}}
            ?disabled=${!e.url}
            data-testid=${`onramp-provider-${e.name}`}
          ></w3m-onramp-provider-item>
        `)}onClickProvider(e){Zn.setSelectedProvider(e),Z.push("BuyInProgress"),oe.openHref(Zn.state.selectedProvider?.url||e.url,"popupWindow","width=600,height=800,scrollbars=yes"),Ce.sendEvent({type:"track",event:"SELECT_BUY_PROVIDER",properties:{provider:e.name,isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}})}};loe([W()],$x.prototype,"providers",void 0);$x=loe([ie("w3m-onramp-providers-view")],$x);const HYe="https://reown.com",VYe=ve`
  .reown-logo {
    height: 24px;
  }

  a {
    text-decoration: none;
    cursor: pointer;
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  a:hover {
    opacity: 0.9;
  }
`;var KYe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let z9=class extends Q{render(){return $`
      <a
        data-testid="ux-branding-reown"
        href=${HYe}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="1"
          .padding=${["01","0","3","0"]}
        >
          <wui-text variant="sm-regular" color="inherit"> UX by </wui-text>
          <wui-icon name="reown" size="inherit" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};z9.styles=[st,Jt,VYe];z9=KYe([ie("wui-ux-by-reown")],z9);const ZYe=ve`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:t})=>t[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:t})=>t.core.textAccentPrimary};
    font-weight: 500;
  }
`;var uoe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Tx=class extends Q{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=X.state.remoteFeatures,this.unsubscribe.push(X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state,r=X.state.features?.legalCheckbox;return!e&&!n||r?$`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:$`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state;return e&&n?"and":""}termsTemplate(){const{termsConditionsUrl:e}=X.state;return e?$`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){const{privacyPolicyUrl:e}=X.state;return e?$`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(e=!1){return this.remoteFeatures?.reownBranding?e?$`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:$`<wui-ux-by-reown></wui-ux-by-reown>`:null}};Tx.styles=[ZYe];uoe([W()],Tx.prototype,"remoteFeatures",void 0);Tx=uoe([ie("w3m-legal-footer")],Tx);const GYe=ve`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-flex {
    transition: opacity ${({easings:t})=>t["ease-out-power-1"]}
      ${({durations:t})=>t.md};
    will-change: opacity;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var p4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Tg=class extends Q{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=Zn.state.purchaseCurrencies,this.tokens=Zn.state.purchaseCurrencies,this.tokenImages=lr.state.tokenImages,this.checked=pc.state.isLegalCheckboxChecked,this.unsubscribe.push(Zn.subscribe(e=>{this.selectedCurrency=e.purchaseCurrencies,this.tokens=e.purchaseCurrencies}),lr.subscribeKey("tokenImages",e=>this.tokenImages=e),pc.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state,r=X.state.features?.legalCheckbox,o=!!(e||n)&&!!r&&!this.checked;return $`
      <w3m-legal-checkbox></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","3","3","3"]}
        gap="2"
        class=${le(o?"disabled":void 0)}
      >
        ${this.currenciesTemplate(o)}
      </wui-flex>
    `}currenciesTemplate(e=!1){return this.tokens.map(n=>$`
        <wui-list-item
          imageSrc=${le(this.tokenImages?.[n.symbol])}
          @click=${()=>this.selectToken(n)}
          variant="image"
          tabIdx=${le(e?-1:void 0)}
        >
          <wui-flex gap="1" alignItems="center">
            <wui-text variant="md-medium" color="primary">${n.name}</wui-text>
            <wui-text variant="sm-regular" color="secondary">${n.symbol}</wui-text>
          </wui-flex>
        </wui-list-item>
      `)}selectToken(e){e&&(Zn.setPurchaseCurrency(e),Ke.close())}};Tg.styles=GYe;p4([W()],Tg.prototype,"selectedCurrency",void 0);p4([W()],Tg.prototype,"tokens",void 0);p4([W()],Tg.prototype,"tokenImages",void 0);p4([W()],Tg.prototype,"checked",void 0);Tg=p4([ie("w3m-onramp-token-select-view")],Tg);const YYe=ve`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    border-radius: calc(
      ${({borderRadius:t})=>t[1]} * 9 - ${({borderRadius:t})=>t[3]}
    );
    position: relative;
    overflow: hidden;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:t})=>t[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:t})=>t["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: ${({spacing:t})=>t["01"]} ${({spacing:t})=>t[2]};
  }
`;var Fd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ec=class extends Q{constructor(){super(),this.unsubscribe=[],this.selectedOnRampProvider=Zn.state.selectedProvider,this.uri=pe.state.wcUri,this.ready=!1,this.showRetry=!1,this.buffering=!1,this.error=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(Zn.subscribeKey("selectedProvider",e=>{this.selectedOnRampProvider=e}))}disconnectedCallback(){this.intervalId&&clearInterval(this.intervalId)}render(){let e="Continue in external window";this.error?e="Buy failed":this.selectedOnRampProvider&&(e=`Buy in ${this.selectedOnRampProvider?.label}`);const n=this.error?"Buy can be declined from your side or due to and error on the provider app":"Weâ€™ll notify you once your Buy is processed";return $`
      <wui-flex
        data-error=${le(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-visual
            name=${le(this.selectedOnRampProvider?.name)}
            size="lg"
            class="provider-image"
          >
          </wui-visual>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["4","0","0","0"]}
        >
          <wui-text variant="md-medium" color=${this.error?"error":"primary"}>
            ${e}
          </wui-text>
          <wui-text align="center" variant="sm-medium" color="secondary">${n}</wui-text>
        </wui-flex>

        ${this.error?this.tryAgainTemplate():null}
      </wui-flex>

      <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
        <wui-link @click=${this.onCopyUri} color="secondary">
          <wui-icon size="sm" color="default" slot="iconLeft" name="copy"></wui-icon>
          Copy link
        </wui-link>
      </wui-flex>
    `}onTryAgain(){this.selectedOnRampProvider&&(this.error=!1,oe.openHref(this.selectedOnRampProvider.url,"popupWindow","width=600,height=800,scrollbars=yes"))}tryAgainTemplate(){return this.selectedOnRampProvider?.url?$`<wui-button size="md" variant="accent" @click=${this.onTryAgain.bind(this)}>
      <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
      Try again
    </wui-button>`:null}loaderTemplate(){const e=zn.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return $`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){if(!this.selectedOnRampProvider?.url){Ue.showError("No link found"),Z.goBack();return}try{oe.copyToClopboard(this.selectedOnRampProvider.url),Ue.showSuccess("Link copied")}catch{Ue.showError("Failed to copy")}}};Ec.styles=YYe;Fd([W()],Ec.prototype,"intervalId",void 0);Fd([W()],Ec.prototype,"selectedOnRampProvider",void 0);Fd([W()],Ec.prototype,"uri",void 0);Fd([W()],Ec.prototype,"ready",void 0);Fd([W()],Ec.prototype,"showRetry",void 0);Fd([W()],Ec.prototype,"buffering",void 0);Fd([W()],Ec.prototype,"error",void 0);Fd([L({type:Boolean})],Ec.prototype,"isMobile",void 0);Fd([L()],Ec.prototype,"onRetry",void 0);Ec=Fd([ie("w3m-buy-in-progress-view")],Ec);var JYe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let W9=class extends Q{render(){return $`
      <wui-flex
        flexDirection="column"
        .padding=${["6","10","5","10"]}
        alignItems="center"
        gap="5"
      >
        <wui-visual name="onrampCard"></wui-visual>
        <wui-flex flexDirection="column" gap="2" alignItems="center">
          <wui-text align="center" variant="md-medium" color="primary">
            Quickly and easily buy digital assets!
          </wui-text>
          <wui-text align="center" variant="sm-regular" color="secondary">
            Simply select your preferred onramp provider and add digital assets to your account
            using your credit card or bank transfer
          </wui-text>
        </wui-flex>
        <wui-button @click=${Z.goBack}>
          <wui-icon size="sm" color="inherit" name="add" slot="iconLeft"></wui-icon>
          Buy
        </wui-button>
      </wui-flex>
    `}};W9=JYe([ie("w3m-what-is-a-buy-view")],W9);const XYe=ve`
  :host {
    width: 100%;
  }

  wui-loading-spinner {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
  }

  .currency-container {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[2]};
    height: 40px;
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[2]}
      ${({spacing:t})=>t[2]} ${({spacing:t})=>t[2]};
    min-width: 95px;
    border-radius: ${({borderRadius:t})=>t.round};
    border: 1px solid ${({tokens:t})=>t.theme.foregroundPrimary};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    cursor: pointer;
  }

  .currency-container > wui-image {
    height: 24px;
    width: 24px;
    border-radius: 50%;
  }
`;var by=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Sp=class extends Q{constructor(){super(),this.unsubscribe=[],this.type="Token",this.value=0,this.currencies=[],this.selectedCurrency=this.currencies?.[0],this.currencyImages=lr.state.currencyImages,this.tokenImages=lr.state.tokenImages,this.unsubscribe.push(Zn.subscribeKey("purchaseCurrency",e=>{!e||this.type==="Fiat"||(this.selectedCurrency=this.formatPurchaseCurrency(e))}),Zn.subscribeKey("paymentCurrency",e=>{!e||this.type==="Token"||(this.selectedCurrency=this.formatPaymentCurrency(e))}),Zn.subscribe(e=>{this.type==="Fiat"?this.currencies=e.purchaseCurrencies.map(this.formatPurchaseCurrency):this.currencies=e.paymentCurrencies.map(this.formatPaymentCurrency)}),lr.subscribe(e=>{this.currencyImages={...e.currencyImages},this.tokenImages={...e.tokenImages}}))}firstUpdated(){Zn.getAvailableCurrencies()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.selectedCurrency?.symbol||"",n=this.currencyImages[e]||this.tokenImages[e];return $`<wui-input-text type="number" size="lg" value=${this.value}>
      ${this.selectedCurrency?$` <wui-flex
            class="currency-container"
            justifyContent="space-between"
            alignItems="center"
            gap="1"
            @click=${()=>Ke.open({view:`OnRamp${this.type}Select`})}
          >
            <wui-image src=${le(n)}></wui-image>
            <wui-text color="primary">${this.selectedCurrency.symbol}</wui-text>
          </wui-flex>`:$`<wui-loading-spinner></wui-loading-spinner>`}
    </wui-input-text>`}formatPaymentCurrency(e){return{name:e.id,symbol:e.id}}formatPurchaseCurrency(e){return{name:e.name,symbol:e.symbol}}};Sp.styles=XYe;by([L({type:String})],Sp.prototype,"type",void 0);by([L({type:Number})],Sp.prototype,"value",void 0);by([W()],Sp.prototype,"currencies",void 0);by([W()],Sp.prototype,"selectedCurrency",void 0);by([W()],Sp.prototype,"currencyImages",void 0);by([W()],Sp.prototype,"tokenImages",void 0);Sp=by([ie("w3m-onramp-input")],Sp);const QYe=ve`
  :host > wui-flex {
    width: 100%;
    max-width: 360px;
  }

  :host > wui-flex > wui-flex {
    border-radius: ${({borderRadius:t})=>t[8]};
    width: 100%;
  }

  .amounts-container {
    width: 100%;
  }
`;var Jg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const eJe={USD:"$",EUR:"â‚¬",GBP:"Â£"},tJe=[100,250,500,1e3];let Su=class extends Q{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.caipAddress=j.state.activeCaipAddress,this.loading=Ke.state.loading,this.paymentCurrency=Zn.state.paymentCurrency,this.paymentAmount=Zn.state.paymentAmount,this.purchaseAmount=Zn.state.purchaseAmount,this.quoteLoading=Zn.state.quotesLoading,this.unsubscribe.push(j.subscribeKey("activeCaipAddress",e=>this.caipAddress=e),Ke.subscribeKey("loading",e=>{this.loading=e}),Zn.subscribe(e=>{this.paymentCurrency=e.paymentCurrency,this.paymentAmount=e.paymentAmount,this.purchaseAmount=e.purchaseAmount,this.quoteLoading=e.quotesLoading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex flexDirection="column" justifyContent="center" alignItems="center">
        <wui-flex flexDirection="column" alignItems="center" gap="2">
          <w3m-onramp-input
            type="Fiat"
            @inputChange=${this.onPaymentAmountChange.bind(this)}
            .value=${this.paymentAmount||0}
          ></w3m-onramp-input>
          <w3m-onramp-input
            type="Token"
            .value=${this.purchaseAmount||0}
            .loading=${this.quoteLoading}
          ></w3m-onramp-input>
          <wui-flex justifyContent="space-evenly" class="amounts-container" gap="2">
            ${tJe.map(e=>$`<wui-button
                  variant=${this.paymentAmount===e?"accent-secondary":"neutral-secondary"}
                  size="md"
                  textVariant="md-medium"
                  fullWidth
                  @click=${()=>this.selectPresetAmount(e)}
                  >${`${eJe[this.paymentCurrency?.id||"USD"]} ${e}`}</wui-button
                >`)}
          </wui-flex>
          ${this.templateButton()}
        </wui-flex>
      </wui-flex>
    `}templateButton(){return this.caipAddress?$`<wui-button
          @click=${this.getQuotes.bind(this)}
          variant="accent-primary"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Get quotes
        </wui-button>`:$`<wui-button
          @click=${this.openModal.bind(this)}
          variant="accent"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Connect wallet
        </wui-button>`}getQuotes(){this.loading||Ke.open({view:"OnRampProviders"})}openModal(){Ke.open({view:"Connect"})}async onPaymentAmountChange(e){Zn.setPaymentAmount(Number(e.detail)),await Zn.getQuote()}async selectPresetAmount(e){Zn.setPaymentAmount(e),await Zn.getQuote()}};Su.styles=QYe;Jg([L({type:Boolean})],Su.prototype,"disabled",void 0);Jg([W()],Su.prototype,"caipAddress",void 0);Jg([W()],Su.prototype,"loading",void 0);Jg([W()],Su.prototype,"paymentCurrency",void 0);Jg([W()],Su.prototype,"paymentAmount",void 0);Jg([W()],Su.prototype,"purchaseAmount",void 0);Jg([W()],Su.prototype,"quoteLoading",void 0);Su=Jg([ie("w3m-onramp-widget")],Su);const nJe=Object.freeze(Object.defineProperty({__proto__:null,get W3mBuyInProgressView(){return Ec},get W3mOnRampProvidersView(){return $x},get W3mOnrampFiatSelectView(){return $g},get W3mOnrampTokensView(){return Tg},get W3mOnrampWidget(){return Su},get W3mWhatIsABuyView(){return W9}},Symbol.toStringTag,{value:"Module"})),rJe=ve`
  button {
    border: none;
    border-radius: ${({borderRadius:t})=>t[20]};
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: ${({spacing:t})=>t[1]};
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, box-shadow;
  }

  /* -- Variants --------------------------------------------------------------- */
  button[data-type='accent'] {
    background-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-type='neutral'] {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  /* -- Sizes --------------------------------------------------------------- */
  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='sm'] > wui-image,
  button[data-size='sm'] > wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image,
  button[data-size='md'] > wui-icon {
    width: 20px;
    height: 20px;
  }

  button[data-size='lg'] > wui-image,
  button[data-size='lg'] > wui-icon {
    width: 24px;
    height: 24px;
  }

  wui-text {
    padding-left: ${({spacing:t})=>t[1]};
    padding-right: ${({spacing:t})=>t[1]};
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t[3]};
    overflow: hidden;
    user-drag: none;
    user-select: none;
    -moz-user-select: none;
    -webkit-user-drag: none;
    -webkit-user-select: none;
    -ms-user-select: none;
  }

  /* -- States --------------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-type='accent']:not(:disabled):hover {
      background-color: ${({tokens:t})=>t.core.foregroundAccent060};
    }

    button[data-type='neutral']:not(:disabled):hover {
      background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
    }
  }

  button[data-type='accent']:not(:disabled):focus-visible,
  button[data-type='accent']:not(:disabled):active {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button[data-type='neutral']:not(:disabled):focus-visible,
  button[data-type='neutral']:not(:disabled):active {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button:disabled {
    opacity: 0.5;
  }
`;var Xg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const iJe={sm:"sm-regular",md:"md-regular",lg:"lg-regular"};let $d=class extends Q{constructor(){super(...arguments),this.type="accent",this.size="md",this.imageSrc="",this.disabled=!1,this.leftIcon=void 0,this.rightIcon=void 0,this.text=""}render(){return $`
      <button ?disabled=${this.disabled} data-type=${this.type} data-size=${this.size}>
        ${this.imageSrc?$`<wui-image src=${this.imageSrc}></wui-image>`:null}
        ${this.leftIcon?$`<wui-icon name=${this.leftIcon} color="inherit" size="inherit"></wui-icon>`:null}
        <wui-text variant=${iJe[this.size]} color="inherit">${this.text}</wui-text>
        ${this.rightIcon?$`<wui-icon name=${this.rightIcon} color="inherit" size="inherit"></wui-icon>`:null}
      </button>
    `}};$d.styles=[st,Jt,rJe];Xg([L()],$d.prototype,"type",void 0);Xg([L()],$d.prototype,"size",void 0);Xg([L()],$d.prototype,"imageSrc",void 0);Xg([L({type:Boolean})],$d.prototype,"disabled",void 0);Xg([L()],$d.prototype,"leftIcon",void 0);Xg([L()],$d.prototype,"rightIcon",void 0);Xg([L()],$d.prototype,"text",void 0);$d=Xg([ie("wui-chip-button")],$d);var xk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let IC=class extends Q{constructor(){super(...arguments),this.maxDecimals=void 0,this.maxIntegers=void 0}render(){return $`
      <wui-flex alignItems="center" gap="1">
        <wui-input-amount
          widthVariant="fit"
          fontSize="h2"
          .maxDecimals=${le(this.maxDecimals)}
          .maxIntegers=${le(this.maxIntegers)}
          .value=${this.amount?String(this.amount):""}
        ></wui-input-amount>
        <wui-text variant="md-regular" color="secondary">USD</wui-text>
      </wui-flex>
    `}};xk([L({type:Number})],IC.prototype,"amount",void 0);xk([L({type:Number})],IC.prototype,"maxDecimals",void 0);xk([L({type:Number})],IC.prototype,"maxIntegers",void 0);IC=xk([ie("w3m-fund-input")],IC);const sJe=ve`
  .amount-input-container {
    border-radius: ${({borderRadius:t})=>t[6]};
    border-top-right-radius: 0;
    border-top-left-radius: 0;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    padding: ${({spacing:t})=>t[1]};
  }

  .container {
    border-radius: 30px;
  }
`;var Du=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const CV=[10,50,100],oJe=6,aJe=10;let $a=class extends Q{constructor(){super(),this.unsubscribe=[],this.network=j.state.activeCaipNetwork,this.exchanges=Wt.state.exchanges,this.isLoading=Wt.state.isLoading,this.amount=Wt.state.amount,this.tokenAmount=Wt.state.tokenAmount,this.priceLoading=Wt.state.priceLoading,this.isPaymentInProgress=Wt.state.isPaymentInProgress,this.currentPayment=Wt.state.currentPayment,this.paymentId=Wt.state.paymentId,this.paymentAsset=Wt.state.paymentAsset,this.unsubscribe.push(j.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.setDefaultPaymentAsset()}),Wt.subscribe(e=>{this.exchanges=e.exchanges,this.isLoading=e.isLoading,this.amount=e.amount,this.tokenAmount=e.tokenAmount,this.priceLoading=e.priceLoading,this.paymentId=e.paymentId,this.isPaymentInProgress=e.isPaymentInProgress,this.currentPayment=e.currentPayment,this.paymentAsset=e.paymentAsset,e.isPaymentInProgress&&e.currentPayment?.exchangeId&&e.currentPayment?.sessionId&&e.paymentId&&this.handlePaymentInProgress()}))}disconnectedCallback(){this.unsubscribe.forEach(n=>n()),Wt.state.isPaymentInProgress||Wt.reset()}async firstUpdated(){await this.getPaymentAssets(),this.paymentAsset||await this.setDefaultPaymentAsset(),Wt.setAmount(CV[0]),await Wt.fetchExchanges()}render(){return $`
      <wui-flex flexDirection="column" class="container">
        ${this.amountInputTemplate()} ${this.exchangesTemplate()}
      </wui-flex>
    `}exchangesLoadingTemplate(){return Array.from({length:2}).map(()=>$`<wui-shimmer width="100%" height="65px" borderRadius="xxs"></wui-shimmer>`)}_exchangesTemplate(){return this.exchanges.length>0?this.exchanges.map(e=>$`<wui-list-item
              @click=${()=>this.onExchangeClick(e)}
              chevron
              variant="image"
              imageSrc=${e.imageUrl}
              ?loading=${this.isLoading}
            >
              <wui-text variant="md-regular" color="primary">
                Deposit from ${e.name}
              </wui-text>
            </wui-list-item>`):$`<wui-flex flexDirection="column" alignItems="center" gap="4" padding="4">
          <wui-text variant="lg-medium" align="center" color="primary">
            No exchanges support this asset on this network
          </wui-text>
        </wui-flex>`}exchangesTemplate(){return $`<wui-flex
      flexDirection="column"
      gap="2"
      .padding=${["3","3","3","3"]}
      class="exchanges-container"
    >
      ${this.isLoading?this.exchangesLoadingTemplate():this._exchangesTemplate()}
    </wui-flex>`}amountInputTemplate(){return $`
      <wui-flex
        flexDirection="column"
        .padding=${["0","3","3","3"]}
        class="amount-input-container"
      >
        <wui-flex
          justifyContent="space-between"
          alignItems="center"
          .margin=${["0","0","6","0"]}
        >
          <wui-text variant="md-medium" color="secondary">Asset</wui-text>
          <wui-token-button
            data-testid="deposit-from-exchange-asset-button"
            flexDirection="row-reverse"
            text=${this.paymentAsset?.metadata.symbol||""}
            imageSrc=${this.paymentAsset?.metadata.iconUrl||""}
            @click=${()=>Z.push("PayWithExchangeSelectAsset")}
            size="lg"
            .chainImageSrc=${le(en.getNetworkImage(this.network))}
          >
          </wui-token-button>
        </wui-flex>
        <wui-flex
          flexDirection="column"
          alignItems="center"
          justifyContent="center"
          .margin=${["0","0","4","0"]}
        >
          <w3m-fund-input
            @inputChange=${this.onAmountChange.bind(this)}
            .amount=${this.amount}
            .maxDecimals=${oJe}
            .maxIntegers=${aJe}
          >
          </w3m-fund-input>
          ${this.tokenAmountTemplate()}
        </wui-flex>
        <wui-flex justifyContent="center" gap="2">
          ${CV.map(e=>$`<wui-chip-button
                @click=${()=>Wt.setAmount(e)}
                type="neutral"
                size="lg"
                text=${`$${e}`}
              ></wui-chip-button>`)}
        </wui-flex>
      </wui-flex>
    `}tokenAmountTemplate(){return this.priceLoading?$`<wui-shimmer
        width="65px"
        height="20px"
        borderRadius="xxs"
        variant="light"
      ></wui-shimmer>`:$`
      <wui-text variant="md-regular" color="secondary">
        ${this.tokenAmount.toFixed(4)} ${this.paymentAsset?.metadata.symbol}
      </wui-text>
    `}async onExchangeClick(e){if(!this.amount){Ue.showError("Please enter an amount");return}await Wt.handlePayWithExchange(e.id)}handlePaymentInProgress(){const e=j.state.activeChain,{redirectView:n="Account"}=Z.state.data??{};this.isPaymentInProgress&&this.currentPayment?.exchangeId&&this.currentPayment?.sessionId&&this.paymentId&&(Wt.waitUntilComplete({exchangeId:this.currentPayment.exchangeId,sessionId:this.currentPayment.sessionId,paymentId:this.paymentId}).then(r=>{r.status==="SUCCESS"?(Ue.showSuccess("Deposit completed"),Wt.reset(),e&&(j.fetchTokenBalance(),pe.updateBalance(e)),Z.replace("Transactions")):r.status==="FAILED"&&Ue.showError("Deposit failed")}),Ue.showLoading("Deposit in progress..."),Z.replace(n))}onAmountChange({detail:e}){Wt.setAmount(e?Number(e):null)}async getPaymentAssets(){this.network&&await Wt.getAssetsForNetwork(this.network.caipNetworkId)}async setDefaultPaymentAsset(){if(this.network){const e=await Wt.getAssetsForNetwork(this.network.caipNetworkId);e[0]&&Wt.setPaymentAsset(e[0])}}};$a.styles=sJe;Du([W()],$a.prototype,"network",void 0);Du([W()],$a.prototype,"exchanges",void 0);Du([W()],$a.prototype,"isLoading",void 0);Du([W()],$a.prototype,"amount",void 0);Du([W()],$a.prototype,"tokenAmount",void 0);Du([W()],$a.prototype,"priceLoading",void 0);Du([W()],$a.prototype,"isPaymentInProgress",void 0);Du([W()],$a.prototype,"currentPayment",void 0);Du([W()],$a.prototype,"paymentId",void 0);Du([W()],$a.prototype,"paymentAsset",void 0);$a=Du([ie("w3m-deposit-from-exchange-view")],$a);const cJe=ve`
  .contentContainer {
    height: 440px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }

  wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[3]};
  }
`;var gM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let J1=class extends Q{constructor(){super(),this.unsubscribe=[],this.assets=Wt.state.assets,this.search="",this.onDebouncedSearch=oe.debounce(e=>{this.search=e}),this.unsubscribe.push(Wt.subscribe(e=>{this.assets=e.assets}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex flexDirection="column">
        ${this.templateSearchInput()} <wui-separator></wui-separator> ${this.templateTokens()}
      </wui-flex>
    `}templateSearchInput(){return $`
      <wui-flex gap="2" padding="3">
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="sm"
          placeholder="Search token"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}templateTokens(){const e=this.assets.filter(r=>r.metadata.name.toLowerCase().includes(this.search.toLowerCase())),n=e.length>0;return $`
      <wui-flex
        class="contentContainer"
        flexDirection="column"
        .padding=${["0","3","0","3"]}
      >
        <wui-flex justifyContent="flex-start" .padding=${["4","3","3","3"]}>
          <wui-text variant="md-medium" color="secondary">Available tokens</wui-text>
        </wui-flex>
        <wui-flex flexDirection="column" gap="2">
          ${n?e.map(r=>$`<wui-list-item
                    .imageSrc=${r.metadata.iconUrl}
                    ?clickable=${!0}
                    @click=${this.handleTokenClick.bind(this,r)}
                  >
                    <wui-text variant="md-medium" color="primary">${r.metadata.name}</wui-text>
                    <wui-text variant="md-regular" color="secondary"
                      >${r.metadata.symbol}</wui-text
                    >
                  </wui-list-item>`):$`<wui-flex
                .padding=${["20","0","0","0"]}
                alignItems="center"
                flexDirection="column"
                gap="4"
              >
                <wui-icon-box icon="coinPlaceholder" color="default" size="lg"></wui-icon-box>
                <wui-flex
                  class="textContent"
                  gap="2"
                  flexDirection="column"
                  justifyContent="center"
                >
                  <wui-text variant="lg-medium" align="center" color="primary">
                    No tokens found
                  </wui-text>
                </wui-flex>
                <wui-link @click=${this.onBuyClick.bind(this)}>Buy</wui-link>
              </wui-flex>`}
        </wui-flex>
      </wui-flex>
    `}onBuyClick(){Z.push("OnRampProviders")}onInputChange(e){this.onDebouncedSearch(e.detail)}handleTokenClick(e){Wt.setPaymentAsset(e),Z.goBack()}};J1.styles=cJe;gM([W()],J1.prototype,"assets",void 0);gM([W()],J1.prototype,"search",void 0);J1=gM([ie("w3m-deposit-from-exchange-select-asset-view")],J1);const lJe=Object.freeze(Object.defineProperty({__proto__:null,get W3mDepositFromExchangeSelectAssetView(){return J1},get W3mDepositFromExchangeView(){return $a}},Symbol.toStringTag,{value:"Module"}));var q9;(function(t){t.approve="approved",t.bought="bought",t.borrow="borrowed",t.burn="burnt",t.cancel="canceled",t.claim="claimed",t.deploy="deployed",t.deposit="deposited",t.execute="executed",t.mint="minted",t.receive="received",t.repay="repaid",t.send="sent",t.sell="sold",t.stake="staked",t.trade="swapped",t.unstake="unstaked",t.withdraw="withdrawn"})(q9||(q9={}));const uJe=ve`
  :host > wui-flex {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 40px;
    height: 40px;
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
    background-color: ${({tokens:t})=>t.core.glass010};
  }

  :host([data-no-images='true']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[3]} !important;
  }

  :host > wui-flex wui-image {
    display: block;
  }

  :host > wui-flex,
  :host > wui-flex wui-image,
  .swap-images-container,
  .swap-images-container.nft,
  wui-image.nft {
    border-top-left-radius: var(--local-left-border-radius);
    border-top-right-radius: var(--local-right-border-radius);
    border-bottom-left-radius: var(--local-left-border-radius);
    border-bottom-right-radius: var(--local-right-border-radius);
  }

  wui-icon {
    width: 20px;
    height: 20px;
  }

  .swap-images-container {
    position: relative;
    width: 40px;
    height: 40px;
    overflow: hidden;
  }

  .swap-images-container wui-image:first-child {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 0;
    left: 0%;
    clip-path: inset(0px calc(50% + 2px) 0px 0%);
  }

  .swap-images-container wui-image:last-child {
    clip-path: inset(0px 0px 0px calc(50% + 2px));
  }

  wui-flex.status-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
    border-radius: ${({borderRadius:t})=>t[4]};
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.backgroundPrimary};
    overflow: hidden;
    width: 16px;
    height: 16px;
  }
`;var vy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xp=class extends Q{constructor(){super(...arguments),this.images=[],this.secondImage={type:void 0,url:""}}render(){const[e,n]=this.images;this.images.length||(this.dataset.noImages="true");const r=e?.type==="NFT",i=n?.url?n.type==="NFT":r,s=r?"var(--apkt-borderRadius-3)":"var(--apkt-borderRadius-5)",o=i?"var(--apkt-borderRadius-3)":"var(--apkt-borderRadius-5)";return this.style.cssText=`
    --local-left-border-radius: ${s};
    --local-right-border-radius: ${o};
    `,$`<wui-flex> ${this.templateVisual()} ${this.templateIcon()} </wui-flex>`}templateVisual(){const[e,n]=this.images,r=e?.type;return this.images.length===2&&(e?.url||n?.url)?$`<div class="swap-images-container">
        ${e?.url?$`<wui-image src=${e.url} alt="Transaction image"></wui-image>`:null}
        ${n?.url?$`<wui-image src=${n.url} alt="Transaction image"></wui-image>`:null}
      </div>`:e?.url?$`<wui-image src=${e.url} alt="Transaction image"></wui-image>`:r==="NFT"?$`<wui-icon size="inherit" color="default" name="nftPlaceholder"></wui-icon>`:$`<wui-icon size="inherit" color="default" name="coinPlaceholder"></wui-icon>`}templateIcon(){let e="accent-primary",n;return n=this.getIcon(),this.status&&(e=this.getStatusColor()),n?$`
      <wui-flex alignItems="center" justifyContent="center" class="status-box">
        <wui-icon-box size="sm" color=${e} icon=${n}></wui-icon-box>
      </wui-flex>
    `:null}getDirectionIcon(){switch(this.direction){case"in":return"arrowBottom";case"out":return"arrowTop";default:return}}getIcon(){return this.onlyDirectionIcon?this.getDirectionIcon():this.type==="trade"?"swapHorizontal":this.type==="approve"?"checkmark":this.type==="cancel"?"close":this.getDirectionIcon()}getStatusColor(){switch(this.status){case"confirmed":return"success";case"failed":return"error";case"pending":return"inverse";default:return"accent-primary"}}};xp.styles=[uJe];vy([L()],xp.prototype,"type",void 0);vy([L()],xp.prototype,"status",void 0);vy([L()],xp.prototype,"direction",void 0);vy([L({type:Boolean})],xp.prototype,"onlyDirectionIcon",void 0);vy([L({type:Array})],xp.prototype,"images",void 0);vy([L({type:Object})],xp.prototype,"secondImage",void 0);xp=vy([ie("wui-transaction-visual")],xp);const dJe=ve`
  :host {
    width: 100%;
  }

  :host > wui-flex:first-child {
    align-items: center;
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    width: 100%;
  }

  :host > wui-flex:first-child wui-text:nth-child(1) {
    text-transform: capitalize;
  }

  wui-transaction-visual {
    width: 40px;
    height: 40px;
  }

  wui-flex {
    flex: 1;
  }

  :host wui-flex wui-flex {
    overflow: hidden;
  }

  :host .description-container wui-text span {
    word-break: break-all;
  }

  :host .description-container wui-text {
    overflow: hidden;
  }

  :host .description-separator-icon {
    margin: 0px 6px;
  }

  :host wui-text > span {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
`;var Qg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Td=class extends Q{constructor(){super(...arguments),this.type="approve",this.onlyDirectionIcon=!1,this.images=[]}render(){return $`
      <wui-flex>
        <wui-transaction-visual
          .status=${this.status}
          direction=${le(this.direction)}
          type=${this.type}
          .onlyDirectionIcon=${this.onlyDirectionIcon}
          .images=${this.images}
        ></wui-transaction-visual>
        <wui-flex flexDirection="column" gap="1">
          <wui-text variant="lg-medium" color="primary">
            ${q9[this.type]||this.type}
          </wui-text>
          <wui-flex class="description-container">
            ${this.templateDescription()} ${this.templateSecondDescription()}
          </wui-flex>
        </wui-flex>
        <wui-text variant="sm-medium" color="secondary"><span>${this.date}</span></wui-text>
      </wui-flex>
    `}templateDescription(){const e=this.descriptions?.[0];return e?$`
          <wui-text variant="md-regular" color="secondary">
            <span>${e}</span>
          </wui-text>
        `:null}templateSecondDescription(){const e=this.descriptions?.[1];return e?$`
          <wui-icon class="description-separator-icon" size="sm" name="arrowRight"></wui-icon>
          <wui-text variant="md-regular" color="secondary">
            <span>${e}</span>
          </wui-text>
        `:null}};Td.styles=[st,dJe];Qg([L()],Td.prototype,"type",void 0);Qg([L({type:Array})],Td.prototype,"descriptions",void 0);Qg([L()],Td.prototype,"date",void 0);Qg([L({type:Boolean})],Td.prototype,"onlyDirectionIcon",void 0);Qg([L()],Td.prototype,"status",void 0);Qg([L()],Td.prototype,"direction",void 0);Qg([L({type:Array})],Td.prototype,"images",void 0);Td=Qg([ie("wui-transaction-list-item")],Td);const hJe=ve`
  wui-flex {
    position: relative;
    display: inline-flex;
    justify-content: center;
    align-items: center;
  }

  wui-image {
    border-radius: ${({borderRadius:t})=>t[128]};
  }

  .fallback-icon {
    color: ${({tokens:t})=>t.theme.iconInverse};
    border-radius: ${({borderRadius:t})=>t[3]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .direction-icon,
  .status-image {
    position: absolute;
    right: 0;
    bottom: 0;
    border-radius: ${({borderRadius:t})=>t[128]};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  .direction-icon {
    padding: ${({spacing:t})=>t["01"]};
    color: ${({tokens:t})=>t.core.iconSuccess};

    background-color: color-mix(
      in srgb,
      ${({tokens:t})=>t.core.textSuccess} 30%,
      ${({tokens:t})=>t.theme.backgroundPrimary} 70%
    );
  }

  /* -- Sizes --------------------------------------------------- */
  :host([data-size='sm']) > wui-image:not(.status-image),
  :host([data-size='sm']) > wui-flex {
    width: 24px;
    height: 24px;
  }

  :host([data-size='lg']) > wui-image:not(.status-image),
  :host([data-size='lg']) > wui-flex {
    width: 40px;
    height: 40px;
  }

  :host([data-size='sm']) .fallback-icon {
    height: 16px;
    width: 16px;
    padding: ${({spacing:t})=>t[1]};
  }

  :host([data-size='lg']) .fallback-icon {
    height: 32px;
    width: 32px;
    padding: ${({spacing:t})=>t[1]};
  }

  :host([data-size='sm']) .direction-icon,
  :host([data-size='sm']) .status-image {
    transform: translate(40%, 30%);
  }

  :host([data-size='lg']) .direction-icon,
  :host([data-size='lg']) .status-image {
    transform: translate(40%, 10%);
  }

  :host([data-size='sm']) .status-image {
    height: 14px;
    width: 14px;
  }

  :host([data-size='lg']) .status-image {
    height: 20px;
    width: 20px;
  }

  /* -- Crop effects --------------------------------------------------- */
  .swap-crop-left-image,
  .swap-crop-right-image {
    position: absolute;
    top: 0;
    bottom: 0;
  }

  .swap-crop-left-image {
    left: 0;
    clip-path: inset(0px calc(50% + 1.5px) 0px 0%);
  }

  .swap-crop-right-image {
    right: 0;
    clip-path: inset(0px 0px 0px calc(50% + 1.5px));
  }
`;var f4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const oN={sm:"xxs",lg:"md"};let l0=class extends Q{constructor(){super(...arguments),this.type="approve",this.size="lg",this.statusImageUrl="",this.images=[]}render(){return $`<wui-flex>${this.templateVisual()} ${this.templateIcon()}</wui-flex>`}templateVisual(){switch(this.dataset.size=this.size,this.type){case"trade":return this.swapTemplate();case"fiat":return this.fiatTemplate();case"unknown":return this.unknownTemplate();default:return this.tokenTemplate()}}swapTemplate(){const[e,n]=this.images;return this.images.length===2&&(e||n)?$`
        <wui-image class="swap-crop-left-image" src=${e} alt="Swap image"></wui-image>
        <wui-image class="swap-crop-right-image" src=${n} alt="Swap image"></wui-image>
      `:e?$`<wui-image src=${e} alt="Swap image"></wui-image>`:null}fiatTemplate(){return $`<wui-icon
      class="fallback-icon"
      size=${oN[this.size]}
      name="dollar"
    ></wui-icon>`}unknownTemplate(){return $`<wui-icon
      class="fallback-icon"
      size=${oN[this.size]}
      name="questionMark"
    ></wui-icon>`}tokenTemplate(){const[e]=this.images;return e?$`<wui-image src=${e} alt="Token image"></wui-image> `:$`<wui-icon
      class="fallback-icon"
      name=${this.type==="nft"?"image":"coinPlaceholder"}
    ></wui-icon>`}templateIcon(){return this.statusImageUrl?$`<wui-image
        class="status-image"
        src=${this.statusImageUrl}
        alt="Status image"
      ></wui-image>`:$`<wui-icon
      class="direction-icon"
      size=${oN[this.size]}
      name=${this.getTemplateIcon()}
    ></wui-icon>`}getTemplateIcon(){return this.type==="trade"?"arrowClockWise":"arrowBottom"}};l0.styles=[hJe];f4([L()],l0.prototype,"type",void 0);f4([L()],l0.prototype,"size",void 0);f4([L()],l0.prototype,"statusImageUrl",void 0);f4([L({type:Array})],l0.prototype,"images",void 0);l0=f4([ie("wui-transaction-thumbnail")],l0);const pJe=ve`
  :host > wui-flex:first-child {
    gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
  }

  wui-flex {
    display: flex;
    flex: 1;
  }
`;var fJe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let F9=class extends Q{render(){return $`
      <wui-flex alignItems="center">
        <wui-shimmer width="40px" height="40px" rounded></wui-shimmer>
        <wui-flex flexDirection="column" gap="1">
          <wui-shimmer width="124px" height="16px" rounded></wui-shimmer>
          <wui-shimmer width="60px" height="14px" rounded></wui-shimmer>
        </wui-flex>
        <wui-shimmer width="24px" height="12px" rounded></wui-shimmer>
      </wui-flex>
    `}};F9.styles=[st,pJe];F9=fJe([ie("wui-transaction-list-item-loader")],F9);const gJe=ve`
  :host {
    min-height: 100%;
  }

  .group-container[last-group='true'] {
    padding-bottom: ${({spacing:t})=>t[3]};
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  .contentContainer > .textContent {
    width: 65%;
  }

  .emptyContainer {
    height: 100%;
  }
`;var Ey=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const _V="last-transaction",mJe=7;let Ap=class extends Q{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.page="activity",this.caipAddress=j.state.activeCaipAddress,this.transactionsByYear=Ro.state.transactionsByYear,this.loading=Ro.state.loading,this.empty=Ro.state.empty,this.next=Ro.state.next,Ro.clearCursor(),this.unsubscribe.push(j.subscribeKey("activeCaipAddress",e=>{e&&this.caipAddress!==e&&(Ro.resetTransactions(),Ro.fetchTransactions(e)),this.caipAddress=e}),j.subscribeKey("activeCaipNetwork",()=>{this.updateTransactionView()}),Ro.subscribe(e=>{this.transactionsByYear=e.transactionsByYear,this.loading=e.loading,this.empty=e.empty,this.next=e.next}))}firstUpdated(){this.updateTransactionView(),this.createPaginationObserver()}updated(){this.setPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $` ${this.empty?null:this.templateTransactionsByYear()}
    ${this.loading?this.templateLoading():null}
    ${!this.loading&&this.empty?this.templateEmpty():null}`}updateTransactionView(){Ro.resetTransactions(),this.caipAddress&&Ro.fetchTransactions(oe.getPlainAddress(this.caipAddress))}templateTransactionsByYear(){return Object.keys(this.transactionsByYear).sort().reverse().map(n=>{const r=parseInt(n,10),i=new Array(12).fill(null).map((s,o)=>{const a=e1.getTransactionGroupTitle(r,o),c=this.transactionsByYear[r]?.[o];return{groupTitle:a,transactions:c}}).filter(({transactions:s})=>s).reverse();return i.map(({groupTitle:s,transactions:o},a)=>{const c=a===i.length-1;return o?$`
          <wui-flex
            flexDirection="column"
            class="group-container"
            last-group="${c?"true":"false"}"
            data-testid="month-indexes"
          >
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["2","3","3","3"]}
            >
              <wui-text variant="md-medium" color="secondary" data-testid="group-title">
                ${s}
              </wui-text>
            </wui-flex>
            <wui-flex flexDirection="column" gap="2">
              ${this.templateTransactions(o,c)}
            </wui-flex>
          </wui-flex>
        `:null})})}templateRenderTransaction(e,n){const{date:r,descriptions:i,direction:s,images:o,status:a,type:c,transfers:l,isAllNFT:u}=this.getTransactionListItemProps(e);return $`
      <wui-transaction-list-item
        date=${r}
        .direction=${s}
        id=${n&&this.next?_V:""}
        status=${a}
        type=${c}
        .images=${o}
        .onlyDirectionIcon=${u||l.length===1}
        .descriptions=${i}
      ></wui-transaction-list-item>
    `}templateTransactions(e,n){return e.map((r,i)=>{const s=n&&i===e.length-1;return $`${this.templateRenderTransaction(r,s)}`})}emptyStateActivity(){return $`<wui-flex
      class="emptyContainer"
      flexGrow="1"
      flexDirection="column"
      justifyContent="center"
      alignItems="center"
      .padding=${["10","5","10","5"]}
      gap="5"
      data-testid="empty-activity-state"
    >
      <wui-icon-box color="default" icon="wallet" size="xl"></wui-icon-box>
      <wui-flex flexDirection="column" alignItems="center" gap="2">
        <wui-text align="center" variant="lg-medium" color="primary">No Transactions yet</wui-text>
        <wui-text align="center" variant="lg-regular" color="secondary"
          >Start trading on dApps <br />
          to grow your wallet!</wui-text
        >
      </wui-flex>
    </wui-flex>`}emptyStateAccount(){return $`<wui-flex
      class="contentContainer"
      alignItems="center"
      justifyContent="center"
      flexDirection="column"
      gap="4"
      data-testid="empty-account-state"
    >
      <wui-icon-box icon="swapHorizontal" size="lg" color="default"></wui-icon-box>
      <wui-flex
        class="textContent"
        gap="2"
        flexDirection="column"
        justifyContent="center"
        flexDirection="column"
      >
        <wui-text variant="md-regular" align="center" color="primary">No activity yet</wui-text>
        <wui-text variant="sm-regular" align="center" color="secondary"
          >Your next transactions will appear here</wui-text
        >
      </wui-flex>
      <wui-link @click=${this.onReceiveClick.bind(this)}>Trade</wui-link>
    </wui-flex>`}templateEmpty(){return this.page==="account"?$`${this.emptyStateAccount()}`:$`${this.emptyStateActivity()}`}templateLoading(){return this.page==="activity"?Array(mJe).fill($` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(e=>e):null}onReceiveClick(){Z.push("WalletReceive")}createPaginationObserver(){const{projectId:e}=X.state;this.paginationObserver=new IntersectionObserver(([n])=>{n?.isIntersecting&&!this.loading&&(Ro.fetchTransactions(oe.getPlainAddress(this.caipAddress)),Ce.sendEvent({type:"track",event:"LOAD_MORE_TRANSACTIONS",properties:{address:oe.getPlainAddress(this.caipAddress),projectId:e,cursor:this.next,isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}))},{}),this.setPaginationObserver()}setPaginationObserver(){this.paginationObserver?.disconnect();const e=this.shadowRoot?.querySelector(`#${_V}`);e&&this.paginationObserver?.observe(e)}getTransactionListItemProps(e){const n=mP.formatDate(e?.metadata?.minedAt),r=e1.mergeTransfers(e?.transfers),i=e1.getTransactionDescriptions(e,r),s=r?.[0],o=!!s&&r?.every(c=>!!c.nft_info),a=e1.getTransactionImages(r);return{date:n,direction:s?.direction,descriptions:i,isAllNFT:o,images:a,status:e.metadata?.status,transfers:r,type:e.metadata?.operationType}}};Ap.styles=gJe;Ey([L()],Ap.prototype,"page",void 0);Ey([W()],Ap.prototype,"caipAddress",void 0);Ey([W()],Ap.prototype,"transactionsByYear",void 0);Ey([W()],Ap.prototype,"loading",void 0);Ey([W()],Ap.prototype,"empty",void 0);Ey([W()],Ap.prototype,"next",void 0);Ap=Ey([ie("w3m-activity-list")],Ap);const wJe=Be`
  :host > wui-flex:first-child {
    height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }
`;var yJe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Nx=class extends Q{render(){return $`
      <wui-flex flexDirection="column" .padding=${["0","3","3","3"]} gap="3">
        <w3m-activity-list page="activity"></w3m-activity-list>
      </wui-flex>
    `}};Nx.styles=wJe;Nx=yJe([ie("w3m-transactions-view")],Nx);const bJe=Object.freeze(Object.defineProperty({__proto__:null,get W3mTransactionsView(){return Nx}},Symbol.toStringTag,{value:"Module"})),vJe=ve`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
    padding: ${({spacing:t})=>t[1]};
  }

  /* -- Colors --------------------------------------------------- */
  button[data-type='accent'] wui-icon {
    color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  button[data-type='neutral'][data-variant='primary'] wui-icon {
    color: ${({tokens:t})=>t.theme.iconInverse};
  }

  button[data-type='neutral'][data-variant='secondary'] wui-icon {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  button[data-type='success'] wui-icon {
    color: ${({tokens:t})=>t.core.iconSuccess};
  }

  button[data-type='error'] wui-icon {
    color: ${({tokens:t})=>t.core.iconError};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='xs'] {
    width: 16px;
    height: 16px;

    border-radius: ${({borderRadius:t})=>t[1]};
  }

  button[data-size='sm'] {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  button[data-size='md'] {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='lg'] {
    width: 28px;
    height: 28px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='xs'] wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] wui-icon {
    width: 20px;
    height: 20px;
  }

  /* -- Hover --------------------------------------------------- */
  @media (hover: hover) {
    button[data-type='accent']:hover:enabled {
      background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    }

    button[data-variant='primary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }

    button[data-variant='secondary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }

    button[data-type='success']:hover:enabled {
      background-color: ${({tokens:t})=>t.core.backgroundSuccess};
    }

    button[data-type='error']:hover:enabled {
      background-color: ${({tokens:t})=>t.core.backgroundError};
    }
  }

  /* -- Focus --------------------------------------------------- */
  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  /* -- Properties --------------------------------------------------- */
  button[data-full-width='true'] {
    width: 100%;
  }

  :host([fullWidth]) {
    width: 100%;
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var em=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Nd=class extends Q{constructor(){super(...arguments),this.icon="card",this.variant="primary",this.type="accent",this.size="md",this.iconSize=void 0,this.fullWidth=!1,this.disabled=!1}render(){return $`<button
      data-variant=${this.variant}
      data-type=${this.type}
      data-size=${this.size}
      data-full-width=${this.fullWidth}
      ?disabled=${this.disabled}
    >
      <wui-icon color="inherit" name=${this.icon} size=${le(this.iconSize)}></wui-icon>
    </button>`}};Nd.styles=[st,Jt,vJe];em([L()],Nd.prototype,"icon",void 0);em([L()],Nd.prototype,"variant",void 0);em([L()],Nd.prototype,"type",void 0);em([L()],Nd.prototype,"size",void 0);em([L()],Nd.prototype,"iconSize",void 0);em([L({type:Boolean})],Nd.prototype,"fullWidth",void 0);em([L({type:Boolean})],Nd.prototype,"disabled",void 0);Nd=em([ie("wui-icon-button")],Nd);const EJe=ye`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`,doe=ye`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,CJe=ye`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`,_Je=ve`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-round='true']) {
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: 100%;
    outline: 1px solid ${({tokens:t})=>t.core.glass010};
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  svg > path {
    stroke: var(--local-stroke);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`;var Cy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let kp=class extends Q{constructor(){super(...arguments),this.size="md",this.name="uknown",this.networkImagesBySize={sm:CJe,md:doe,lg:EJe},this.selected=!1,this.round=!1}render(){const e={sm:"4",md:"6",lg:"10"};return this.round?(this.dataset.round="true",this.style.cssText=`
      --local-width: var(--apkt-spacing-10);
      --local-height: var(--apkt-spacing-10);
      --local-icon-size: var(--apkt-spacing-4);
    `):this.style.cssText=`

      --local-path: var(--apkt-path-network-${this.size});
      --local-width:  var(--apkt-width-network-${this.size});
      --local-height:  var(--apkt-height-network-${this.size});
      --local-icon-size:  var(--apkt-spacing-${e[this.size]});
    `,$`${this.templateVisual()} ${this.svgTemplate()} `}svgTemplate(){return this.round?null:this.networkImagesBySize[this.size]}templateVisual(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:$`<wui-icon size="inherit" color="default" name="networkPlaceholder"></wui-icon>`}};kp.styles=[st,_Je];Cy([L()],kp.prototype,"size",void 0);Cy([L()],kp.prototype,"name",void 0);Cy([L({type:Object})],kp.prototype,"networkImagesBySize",void 0);Cy([L()],kp.prototype,"imageSrc",void 0);Cy([L({type:Boolean})],kp.prototype,"selected",void 0);Cy([L({type:Boolean})],kp.prototype,"round",void 0);kp=Cy([ie("wui-network-image")],kp);const IJe=ve`
  :host {
    position: relative;
    background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-image='true']) {
    background-color: transparent;
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-size='sm']) {
    width: 32px;
    height: 32px;
  }

  :host([data-size='md']) {
    width: 40px;
    height: 40px;
  }

  :host([data-size='lg']) {
    width: 56px;
    height: 56px;
  }

  :host([name='Extension'])::after {
    border: 1px solid ${({colors:t})=>t.accent010};
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid ${({colors:t})=>t.accent010};
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 32px;
    height: 32px;
  }

  wui-icon[data-parent-size='md'] {
    width: 40px;
    height: 40px;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    padding: 1px;
  }
`;var _y=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $p=class extends Q{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="1";return this.size==="lg"?e="4":this.size==="md"?e="2":this.size==="sm"&&(e="1"),this.style.cssText=`
       --local-border-radius: var(--apkt-borderRadius-${e});
   `,this.dataset.size=this.size,this.imageSrc&&(this.dataset.image="true"),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),$`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?$`<wui-icon size="md" color="default" name=${this.walletIcon}></wui-icon>`:$`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};$p.styles=[st,IJe];_y([L()],$p.prototype,"size",void 0);_y([L()],$p.prototype,"name",void 0);_y([L()],$p.prototype,"imageSrc",void 0);_y([L()],$p.prototype,"walletIcon",void 0);_y([L({type:Boolean})],$p.prototype,"installed",void 0);_y([L()],$p.prototype,"badgeSize",void 0);$p=_y([ie("wui-wallet-image")],$p);const Bt={INVALID_PAYMENT_CONFIG:"INVALID_PAYMENT_CONFIG",INVALID_RECIPIENT:"INVALID_RECIPIENT",INVALID_ASSET:"INVALID_ASSET",INVALID_AMOUNT:"INVALID_AMOUNT",UNKNOWN_ERROR:"UNKNOWN_ERROR",UNABLE_TO_INITIATE_PAYMENT:"UNABLE_TO_INITIATE_PAYMENT",INVALID_CHAIN_NAMESPACE:"INVALID_CHAIN_NAMESPACE",GENERIC_PAYMENT_ERROR:"GENERIC_PAYMENT_ERROR",UNABLE_TO_GET_EXCHANGES:"UNABLE_TO_GET_EXCHANGES",ASSET_NOT_SUPPORTED:"ASSET_NOT_SUPPORTED",UNABLE_TO_GET_PAY_URL:"UNABLE_TO_GET_PAY_URL",UNABLE_TO_GET_BUY_STATUS:"UNABLE_TO_GET_BUY_STATUS"},t1={[Bt.INVALID_PAYMENT_CONFIG]:"Invalid payment configuration",[Bt.INVALID_RECIPIENT]:"Invalid recipient address",[Bt.INVALID_ASSET]:"Invalid asset specified",[Bt.INVALID_AMOUNT]:"Invalid payment amount",[Bt.UNKNOWN_ERROR]:"Unknown payment error occurred",[Bt.UNABLE_TO_INITIATE_PAYMENT]:"Unable to initiate payment",[Bt.INVALID_CHAIN_NAMESPACE]:"Invalid chain namespace",[Bt.GENERIC_PAYMENT_ERROR]:"Unable to process payment",[Bt.UNABLE_TO_GET_EXCHANGES]:"Unable to get exchanges",[Bt.ASSET_NOT_SUPPORTED]:"Asset not supported by the selected exchange",[Bt.UNABLE_TO_GET_PAY_URL]:"Unable to get payment URL",[Bt.UNABLE_TO_GET_BUY_STATUS]:"Unable to get buy status"};class Qt extends Error{get message(){return t1[this.code]}constructor(e,n){super(t1[e]),this.name="AppKitPayError",this.code=e,this.details=n,Error.captureStackTrace&&Error.captureStackTrace(this,Qt)}}const SJe="https://rpc.walletconnect.org/v1/json-rpc";class xJe extends Error{}function AJe(){const t=X.getSnapshot().projectId;return`${SJe}?projectId=${t}`}async function mM(t,e){const n=AJe(),{sdkType:r,sdkVersion:i,projectId:s}=X.getSnapshot(),o={jsonrpc:"2.0",id:1,method:t,params:{...e||{},st:r,sv:i,projectId:s}},c=await(await fetch(n,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json();if(c.error)throw new xJe(c.error.message);return c}async function IV(t){return(await mM("reown_getExchanges",t)).result}async function kJe(t){return(await mM("reown_getExchangePayUrl",t)).result}async function $Je(t){return(await mM("reown_getExchangeBuyStatus",t)).result}const TJe=["eip155","solana"],NJe={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};function aN(t,e){const{chainNamespace:n,chainId:r}=Zr.parseCaipNetworkId(t),i=NJe[n];if(!i)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${n}`);let s=i.native.assetNamespace,o=i.native.assetReference;return e!=="native"&&(s=i.defaultTokenNamespace,o=e),`${`${n}:${r}`}/${s}:${o}`}function OJe(t){const{chainNamespace:e}=Zr.parseCaipNetworkId(t);return TJe.includes(e)}async function PJe(t){const{paymentAssetNetwork:e,activeCaipNetwork:n,approvedCaipNetworkIds:r,requestedCaipNetworks:i}=t,o=oe.sortRequestedNetworks(r,i).find(l=>l.caipNetworkId===e);if(!o)throw new Qt(Bt.INVALID_PAYMENT_CONFIG);if(o.caipNetworkId===n.caipNetworkId)return;const a=j.getNetworkProp("supportsAllNetworks",o.chainNamespace);if(!(r?.includes(o.caipNetworkId)||a))throw new Qt(Bt.INVALID_PAYMENT_CONFIG);try{await j.switchActiveNetwork(o)}catch(l){throw new Qt(Bt.GENERIC_PAYMENT_ERROR,l)}}async function RJe(t,e,n){if(e!==ne.CHAIN.EVM)throw new Qt(Bt.INVALID_CHAIN_NAMESPACE);if(!n.fromAddress)throw new Qt(Bt.INVALID_PAYMENT_CONFIG,"fromAddress is required for native EVM payments.");const r=typeof n.amount=="string"?parseFloat(n.amount):n.amount;if(isNaN(r))throw new Qt(Bt.INVALID_PAYMENT_CONFIG);const i=t.metadata?.decimals??18,s=pe.parseUnits(r.toString(),i);if(typeof s!="bigint")throw new Qt(Bt.GENERIC_PAYMENT_ERROR);return await pe.sendTransaction({chainNamespace:e,to:n.recipient,address:n.fromAddress,value:s,data:"0x"})??void 0}async function DJe(t,e){if(!e.fromAddress)throw new Qt(Bt.INVALID_PAYMENT_CONFIG,"fromAddress is required for ERC20 EVM payments.");const n=t.asset,r=e.recipient,i=Number(t.metadata.decimals),s=pe.parseUnits(e.amount.toString(),i);if(s===void 0)throw new Qt(Bt.GENERIC_PAYMENT_ERROR);return await pe.writeContract({fromAddress:e.fromAddress,tokenAddress:n,args:[r,s],method:"transfer",abi:Jee.getERC20Abi(n),chainNamespace:ne.CHAIN.EVM})??void 0}async function UJe(t,e){if(t!==ne.CHAIN.SOLANA)throw new Qt(Bt.INVALID_CHAIN_NAMESPACE);if(!e.fromAddress)throw new Qt(Bt.INVALID_PAYMENT_CONFIG,"fromAddress is required for Solana payments.");const n=typeof e.amount=="string"?parseFloat(e.amount):e.amount;if(isNaN(n)||n<=0)throw new Qt(Bt.INVALID_PAYMENT_CONFIG,"Invalid payment amount.");try{if(!Qn.getProvider(t))throw new Qt(Bt.GENERIC_PAYMENT_ERROR,"No Solana provider available.");const i=await pe.sendTransaction({chainNamespace:ne.CHAIN.SOLANA,to:e.recipient,value:n,tokenMint:e.tokenMint});if(!i)throw new Qt(Bt.GENERIC_PAYMENT_ERROR,"Transaction failed.");return i}catch(r){throw r instanceof Qt?r:new Qt(Bt.GENERIC_PAYMENT_ERROR,`Solana payment failed: ${r}`)}}const SV=0,cN="unknown",ke=Wn({paymentAsset:{network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},recipient:"0x0",amount:0,isConfigured:!1,error:null,isPaymentInProgress:!1,exchanges:[],isLoading:!1,openInNewTab:!0,redirectUrl:void 0,payWithExchange:void 0,currentPayment:void 0,analyticsSet:!1,paymentId:void 0}),Bn={state:ke,subscribe(t){return ci(ke,()=>t(ke))},subscribeKey(t,e){return ii(ke,t,e)},async handleOpenPay(t){this.resetState(),this.setPaymentConfig(t),this.subscribeEvents(),this.initializeAnalytics(),ke.isConfigured=!0,Ce.sendEvent({type:"track",event:"PAY_MODAL_OPEN",properties:{exchanges:ke.exchanges,configuration:{network:ke.paymentAsset.network,asset:ke.paymentAsset.asset,recipient:ke.recipient,amount:ke.amount}}}),await Ke.open({view:"Pay"})},resetState(){ke.paymentAsset={network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},ke.recipient="0x0",ke.amount=0,ke.isConfigured=!1,ke.error=null,ke.isPaymentInProgress=!1,ke.isLoading=!1,ke.currentPayment=void 0},setPaymentConfig(t){if(!t.paymentAsset)throw new Qt(Bt.INVALID_PAYMENT_CONFIG);try{ke.paymentAsset=t.paymentAsset,ke.recipient=t.recipient,ke.amount=t.amount,ke.openInNewTab=t.openInNewTab??!0,ke.redirectUrl=t.redirectUrl,ke.payWithExchange=t.payWithExchange,ke.error=null}catch(e){throw new Qt(Bt.INVALID_PAYMENT_CONFIG,e.message)}},getPaymentAsset(){return ke.paymentAsset},getExchanges(){return ke.exchanges},async fetchExchanges(){try{ke.isLoading=!0;const t=await IV({page:SV,asset:aN(ke.paymentAsset.network,ke.paymentAsset.asset),amount:ke.amount.toString()});ke.exchanges=t.exchanges.slice(0,2)}catch{throw Ue.showError(t1.UNABLE_TO_GET_EXCHANGES),new Qt(Bt.UNABLE_TO_GET_EXCHANGES)}finally{ke.isLoading=!1}},async getAvailableExchanges(t){try{const e=t?.asset&&t?.network?aN(t.network,t.asset):void 0;return await IV({page:t?.page??SV,asset:e,amount:t?.amount?.toString()})}catch{throw new Qt(Bt.UNABLE_TO_GET_EXCHANGES)}},async getPayUrl(t,e,n=!1){try{const r=Number(e.amount),i=await kJe({exchangeId:t,asset:aN(e.network,e.asset),amount:r.toString(),recipient:`${e.network}:${e.recipient}`});return Ce.sendEvent({type:"track",event:"PAY_EXCHANGE_SELECTED",properties:{source:"pay",exchange:{id:t},configuration:{network:e.network,asset:e.asset,recipient:e.recipient,amount:r},currentPayment:{type:"exchange",exchangeId:t},headless:n}}),n&&(this.initiatePayment(),Ce.sendEvent({type:"track",event:"PAY_INITIATED",properties:{source:"pay",paymentId:ke.paymentId||cN,configuration:{network:e.network,asset:e.asset,recipient:e.recipient,amount:r},currentPayment:{type:"exchange",exchangeId:t}}})),i}catch(r){throw r instanceof Error&&r.message.includes("is not supported")?new Qt(Bt.ASSET_NOT_SUPPORTED):new Error(r.message)}},async openPayUrl(t,e,n=!1){try{const r=await this.getPayUrl(t.exchangeId,e,n);if(!r)throw new Qt(Bt.UNABLE_TO_GET_PAY_URL);const s=t.openInNewTab??!0?"_blank":"_self";return oe.openHref(r.url,s),r}catch(r){throw r instanceof Qt?ke.error=r.message:ke.error=t1.GENERIC_PAYMENT_ERROR,new Qt(Bt.UNABLE_TO_GET_PAY_URL)}},subscribeEvents(){ke.isConfigured||(pe.subscribeKey("connections",t=>{t.size>0&&this.handlePayment()}),j.subscribeChainProp("accountState",t=>{const e=pe.hasAnyConnection(ne.CONNECTOR_ID.WALLET_CONNECT);t?.caipAddress&&(e?setTimeout(()=>{this.handlePayment()},100):this.handlePayment())}))},async handlePayment(){ke.currentPayment={type:"wallet",status:"IN_PROGRESS"};const t=j.getActiveCaipAddress();if(!t)return;const{chainId:e,address:n}=Zr.parseCaipAddress(t),r=j.state.activeChain;if(!n||!e||!r||!Qn.getProvider(r))return;const s=j.state.activeCaipNetwork;if(s&&!ke.isPaymentInProgress)try{this.initiatePayment();const o=j.getAllRequestedCaipNetworks(),a=j.getAllApprovedCaipNetworkIds();switch(await PJe({paymentAssetNetwork:ke.paymentAsset.network,activeCaipNetwork:s,approvedCaipNetworkIds:a,requestedCaipNetworks:o}),await Ke.open({view:"PayLoading"}),r){case ne.CHAIN.EVM:ke.paymentAsset.asset==="native"&&(ke.currentPayment.result=await RJe(ke.paymentAsset,r,{recipient:ke.recipient,amount:ke.amount,fromAddress:n})),ke.paymentAsset.asset.startsWith("0x")&&(ke.currentPayment.result=await DJe(ke.paymentAsset,{recipient:ke.recipient,amount:ke.amount,fromAddress:n})),ke.currentPayment.status="SUCCESS";break;case ne.CHAIN.SOLANA:ke.currentPayment.result=await UJe(r,{recipient:ke.recipient,amount:ke.amount,fromAddress:n,tokenMint:ke.paymentAsset.asset==="native"?void 0:ke.paymentAsset.asset}),ke.currentPayment.status="SUCCESS";break;default:throw new Qt(Bt.INVALID_CHAIN_NAMESPACE)}}catch(o){o instanceof Qt?ke.error=o.message:ke.error=t1.GENERIC_PAYMENT_ERROR,ke.currentPayment.status="FAILED",Ue.showError(ke.error)}finally{ke.isPaymentInProgress=!1}},getExchangeById(t){return ke.exchanges.find(e=>e.id===t)},validatePayConfig(t){const{paymentAsset:e,recipient:n,amount:r}=t;if(!e)throw new Qt(Bt.INVALID_PAYMENT_CONFIG);if(!n)throw new Qt(Bt.INVALID_RECIPIENT);if(!e.asset)throw new Qt(Bt.INVALID_ASSET);if(r==null||r<=0)throw new Qt(Bt.INVALID_AMOUNT)},handlePayWithWallet(){const t=j.getActiveCaipAddress();if(!t){Z.push("Connect");return}const{chainId:e,address:n}=Zr.parseCaipAddress(t),r=j.state.activeChain;if(!n||!e||!r){Z.push("Connect");return}this.handlePayment()},async handlePayWithExchange(t){try{ke.currentPayment={type:"exchange",exchangeId:t};const{network:e,asset:n}=ke.paymentAsset,r={network:e,asset:n,amount:ke.amount,recipient:ke.recipient},i=await this.getPayUrl(t,r);if(!i)throw new Qt(Bt.UNABLE_TO_INITIATE_PAYMENT);return ke.currentPayment.sessionId=i.sessionId,ke.currentPayment.status="IN_PROGRESS",ke.currentPayment.exchangeId=t,this.initiatePayment(),{url:i.url,openInNewTab:ke.openInNewTab}}catch(e){return e instanceof Qt?ke.error=e.message:ke.error=t1.GENERIC_PAYMENT_ERROR,ke.isPaymentInProgress=!1,Ue.showError(ke.error),null}},async getBuyStatus(t,e){try{const n=await $Je({sessionId:e,exchangeId:t});return(n.status==="SUCCESS"||n.status==="FAILED")&&Ce.sendEvent({type:"track",event:n.status==="SUCCESS"?"PAY_SUCCESS":"PAY_ERROR",properties:{message:n.status==="FAILED"?oe.parseError(ke.error):void 0,source:"pay",paymentId:ke.paymentId||cN,configuration:{network:ke.paymentAsset.network,asset:ke.paymentAsset.asset,recipient:ke.recipient,amount:ke.amount},currentPayment:{type:"exchange",exchangeId:ke.currentPayment?.exchangeId,sessionId:ke.currentPayment?.sessionId,result:n.txHash}}}),n}catch{throw new Qt(Bt.UNABLE_TO_GET_BUY_STATUS)}},async updateBuyStatus(t,e){try{const n=await this.getBuyStatus(t,e);ke.currentPayment&&(ke.currentPayment.status=n.status,ke.currentPayment.result=n.txHash),(n.status==="SUCCESS"||n.status==="FAILED")&&(ke.isPaymentInProgress=!1)}catch{throw new Qt(Bt.UNABLE_TO_GET_BUY_STATUS)}},initiatePayment(){ke.isPaymentInProgress=!0,ke.paymentId=crypto.randomUUID()},initializeAnalytics(){ke.analyticsSet||(ke.analyticsSet=!0,this.subscribeKey("isPaymentInProgress",t=>{if(ke.currentPayment?.status&&ke.currentPayment.status!=="UNKNOWN"){const e={IN_PROGRESS:"PAY_INITIATED",SUCCESS:"PAY_SUCCESS",FAILED:"PAY_ERROR"}[ke.currentPayment.status];Ce.sendEvent({type:"track",event:e,properties:{message:ke.currentPayment.status==="FAILED"?oe.parseError(ke.error):void 0,source:"pay",paymentId:ke.paymentId||cN,configuration:{network:ke.paymentAsset.network,asset:ke.paymentAsset.asset,recipient:ke.recipient,amount:ke.amount},currentPayment:{type:ke.currentPayment.type,exchangeId:ke.currentPayment.exchangeId,sessionId:ke.currentPayment.sessionId,result:ke.currentPayment.result}}})}}))}},MJe=Be`
  wui-separator {
    margin: var(--apkt-spacing-3) calc(var(--apkt-spacing-3) * -1) var(--apkt-spacing-2)
      calc(var(--apkt-spacing-3) * -1);
    width: calc(100% + var(--apkt-spacing-3) * 2);
  }

  .token-display {
    padding: var(--apkt-spacing-3) var(--apkt-spacing-3);
    border-radius: var(--apkt-borderRadius-5);
    background-color: var(--apkt-tokens-theme-backgroundPrimary);
    margin-top: var(--apkt-spacing-3);
    margin-bottom: var(--apkt-spacing-3);
  }

  .token-display wui-text {
    text-transform: none;
  }

  wui-loading-spinner {
    padding: var(--apkt-spacing-2);
  }
`;var tm=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xu=class extends Q{constructor(){super(),this.unsubscribe=[],this.amount="",this.tokenSymbol="",this.networkName="",this.exchanges=Bn.state.exchanges,this.isLoading=Bn.state.isLoading,this.loadingExchangeId=null,this.connectedWalletInfo=j.getAccountData()?.connectedWalletInfo,this.initializePaymentDetails(),this.unsubscribe.push(Bn.subscribeKey("exchanges",e=>this.exchanges=e)),this.unsubscribe.push(Bn.subscribeKey("isLoading",e=>this.isLoading=e)),this.unsubscribe.push(j.subscribeChainProp("accountState",e=>{this.connectedWalletInfo=e?.connectedWalletInfo})),Bn.fetchExchanges()}get isWalletConnected(){return j.getAccountData()?.status==="connected"}render(){return $`
      <wui-flex flexDirection="column">
        <wui-flex flexDirection="column" .padding=${["0","4","4","4"]} gap="3">
          ${this.renderPaymentHeader()}

          <wui-flex flexDirection="column" gap="3">
            ${this.renderPayWithWallet()} ${this.renderExchangeOptions()}
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}initializePaymentDetails(){const e=Bn.getPaymentAsset();this.networkName=e.network,this.tokenSymbol=e.metadata.symbol,this.amount=Bn.state.amount.toString()}renderPayWithWallet(){return OJe(this.networkName)?$`<wui-flex flexDirection="column" gap="3">
        ${this.isWalletConnected?this.renderConnectedView():this.renderDisconnectedView()}
      </wui-flex>
      <wui-separator text="or"></wui-separator>`:$``}renderPaymentHeader(){let e=this.networkName;if(this.networkName){const r=j.getAllRequestedCaipNetworks().find(i=>i.caipNetworkId===this.networkName);r&&(e=r.name)}return $`
      <wui-flex flexDirection="column" alignItems="center">
        <wui-flex alignItems="center" gap="2">
          <wui-text variant="h1-regular" color="primary">${this.amount||"0.0000"}</wui-text>
          <wui-flex class="token-display" alignItems="center" gap="1">
            <wui-text variant="md-medium" color="primary">
              ${this.tokenSymbol||"Unknown Asset"}
            </wui-text>
            ${e?$`
                  <wui-text variant="sm-medium" color="secondary">
                    on ${e}
                  </wui-text>
                `:""}
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}renderConnectedView(){const e=this.connectedWalletInfo?.name||"connected wallet";return $`
      <wui-list-item
        @click=${this.onWalletPayment}
        ?chevron=${!0}
        ?fullSize=${!0}
        ?rounded=${!0}
        data-testid="wallet-payment-option"
        imageSrc=${le(this.connectedWalletInfo?.icon)}
      >
        <wui-text variant="lg-regular" color="primary">Pay with ${e}</wui-text>
      </wui-list-item>

      <wui-list-item
        icon="power"
        ?rounded=${!0}
        iconColor="error"
        @click=${this.onDisconnect}
        data-testid="disconnect-button"
        ?chevron=${!1}
      >
        <wui-text variant="lg-regular" color="secondary">Disconnect</wui-text>
      </wui-list-item>
    `}renderDisconnectedView(){return $`<wui-list-item
      variant="icon"
      iconVariant="overlay"
      icon="wallet"
      ?rounded=${!0}
      @click=${this.onWalletPayment}
      ?chevron=${!0}
      data-testid="wallet-payment-option"
    >
      <wui-text variant="lg-regular" color="primary">Pay from wallet</wui-text>
    </wui-list-item>`}renderExchangeOptions(){return this.isLoading?$`<wui-flex justifyContent="center" alignItems="center">
        <wui-spinner size="md"></wui-spinner>
      </wui-flex>`:this.exchanges.length===0?$`<wui-flex justifyContent="center" alignItems="center">
        <wui-text variant="md-medium" color="primary">No exchanges available</wui-text>
      </wui-flex>`:this.exchanges.map(e=>$`
        <wui-list-item
          @click=${()=>this.onExchangePayment(e.id)}
          data-testid="exchange-option-${e.id}"
          ?chevron=${!0}
          ?disabled=${this.loadingExchangeId!==null}
          ?loading=${this.loadingExchangeId===e.id}
          imageSrc=${le(e.imageUrl)}
        >
          <wui-flex alignItems="center" gap="3">
            <wui-text flexGrow="1" variant="md-medium" color="primary"
              >Pay with ${e.name} <wui-spinner size="sm" color="secondary"></wui-spinner
            ></wui-text>
          </wui-flex>
        </wui-list-item>
      `)}onWalletPayment(){Bn.handlePayWithWallet()}async onExchangePayment(e){try{this.loadingExchangeId=e;const n=await Bn.handlePayWithExchange(e);n&&(await Ke.open({view:"PayLoading"}),oe.openHref(n.url,n.openInNewTab?"_blank":"_self"))}catch(n){console.error("Failed to pay with exchange",n),Ue.showError("Failed to pay with exchange")}finally{this.loadingExchangeId=null}}async onDisconnect(e){e.stopPropagation();try{await pe.disconnect()}catch{console.error("Failed to disconnect"),Ue.showError("Failed to disconnect")}}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}};xu.styles=MJe;tm([W()],xu.prototype,"amount",void 0);tm([W()],xu.prototype,"tokenSymbol",void 0);tm([W()],xu.prototype,"networkName",void 0);tm([W()],xu.prototype,"exchanges",void 0);tm([W()],xu.prototype,"isLoading",void 0);tm([W()],xu.prototype,"loadingExchangeId",void 0);tm([W()],xu.prototype,"connectedWalletInfo",void 0);xu=tm([ie("w3m-pay-view")],xu);const LJe=Be`
  :host {
    display: block;
    height: 100%;
    width: 100%;
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }
`;var Ak=function(t,e,n,r){var i=arguments.length,s=i<3?e:r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const jJe=4e3;let u0=class extends Q{constructor(){super(),this.loadingMessage="",this.subMessage="",this.paymentState="in-progress",this.paymentState=Bn.state.isPaymentInProgress?"in-progress":"completed",this.updateMessages(),this.setupSubscription(),this.setupExchangeSubscription()}disconnectedCallback(){clearInterval(this.exchangeSubscription)}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["7","5","5","5"]}
        gap="9"
      >
        <wui-flex justifyContent="center" alignItems="center"> ${this.getStateIcon()} </wui-flex>
        <wui-flex flexDirection="column" alignItems="center" gap="2">
          <wui-text align="center" variant="lg-medium" color="primary">
            ${this.loadingMessage}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">
            ${this.subMessage}
          </wui-text>
        </wui-flex>
      </wui-flex>
    `}updateMessages(){switch(this.paymentState){case"completed":this.loadingMessage="Payment completed",this.subMessage="Your transaction has been successfully processed";break;case"error":this.loadingMessage="Payment failed",this.subMessage="There was an error processing your transaction";break;case"in-progress":default:Bn.state.currentPayment?.type==="exchange"?(this.loadingMessage="Payment initiated",this.subMessage="Please complete the payment on the exchange"):(this.loadingMessage="Awaiting payment confirmation",this.subMessage="Please confirm the payment transaction in your wallet");break}}getStateIcon(){switch(this.paymentState){case"completed":return this.successTemplate();case"error":return this.errorTemplate();case"in-progress":default:return this.loaderTemplate()}}setupExchangeSubscription(){Bn.state.currentPayment?.type==="exchange"&&(this.exchangeSubscription=setInterval(async()=>{const e=Bn.state.currentPayment?.exchangeId,n=Bn.state.currentPayment?.sessionId;e&&n&&(await Bn.updateBuyStatus(e,n),Bn.state.currentPayment?.status==="SUCCESS"&&clearInterval(this.exchangeSubscription))},jJe))}setupSubscription(){Bn.subscribeKey("isPaymentInProgress",e=>{!e&&this.paymentState==="in-progress"&&(Bn.state.error||!Bn.state.currentPayment?.result?this.paymentState="error":this.paymentState="completed",this.updateMessages(),setTimeout(()=>{pe.state.status!=="disconnected"&&Ke.close()},3e3))}),Bn.subscribeKey("error",e=>{e&&this.paymentState==="in-progress"&&(this.paymentState="error",this.updateMessages())})}loaderTemplate(){const e=zn.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4,r=this.getPaymentIcon();return $`
      <wui-flex justifyContent="center" alignItems="center" style="position: relative;">
        ${r?$`<wui-wallet-image size="lg" imageSrc=${r}></wui-wallet-image>`:null}
        <wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>
      </wui-flex>
    `}getPaymentIcon(){const e=Bn.state.currentPayment;if(e){if(e.type==="exchange"){const n=e.exchangeId;if(n)return Bn.getExchangeById(n)?.imageUrl}if(e.type==="wallet"){const n=j.getAccountData()?.connectedWalletInfo?.icon;if(n)return n;const r=j.state.activeChain;if(!r)return;const i=ae.getConnectorId(r);if(!i)return;const s=ae.getConnectorById(i);return s?en.getConnectorImage(s):void 0}}}successTemplate(){return $`<wui-icon size="xl" color="success" name="checkmark"></wui-icon>`}errorTemplate(){return $`<wui-icon size="xl" color="error" name="close"></wui-icon>`}};u0.styles=LJe;Ak([W()],u0.prototype,"loadingMessage",void 0);Ak([W()],u0.prototype,"subMessage",void 0);Ak([W()],u0.prototype,"paymentState",void 0);u0=Ak([ie("w3m-pay-loading-view")],u0);const BJe=3e5;async function hoe(t){return Bn.handleOpenPay(t)}async function zJe(t,e=BJe){if(e<=0)throw new Qt(Bt.INVALID_PAYMENT_CONFIG,"Timeout must be greater than 0");try{await hoe(t)}catch(n){throw n instanceof Qt?n:new Qt(Bt.UNABLE_TO_INITIATE_PAYMENT,n.message)}return new Promise((n,r)=>{let i=!1;const s=setTimeout(()=>{i||(i=!0,u(),r(new Qt(Bt.GENERIC_PAYMENT_ERROR,"Payment timeout")))},e);function o(){if(i)return;const d=Bn.state.currentPayment,h=Bn.state.error,p=Bn.state.isPaymentInProgress;if(d?.status==="SUCCESS"){i=!0,u(),clearTimeout(s),n({success:!0,result:d.result});return}if(d?.status==="FAILED"){i=!0,u(),clearTimeout(s),n({success:!1,error:h||"Payment failed"});return}h&&!p&&!d&&(i=!0,u(),clearTimeout(s),n({success:!1,error:h}))}const a=lN("currentPayment",o),c=lN("error",o),l=lN("isPaymentInProgress",o),u=VJe([a,c,l]);o()})}function WJe(){return Bn.getExchanges()}function qJe(){return Bn.state.currentPayment?.result}function FJe(){return Bn.state.error}function HJe(){return Bn.state.isPaymentInProgress}function lN(t,e){return Bn.subscribeKey(t,e)}function VJe(t){return()=>{t.forEach(e=>{try{e()}catch{}})}}const KJe={network:"eip155:8453",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},ZJe={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},GJe={network:"eip155:84532",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},YJe={network:"eip155:1",asset:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},JJe={network:"eip155:10",asset:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},XJe={network:"eip155:42161",asset:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},QJe={network:"eip155:137",asset:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},eXe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},tXe={network:"eip155:1",asset:"0xdAC17F958D2ee523a2206206994597C13D831ec7",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},nXe={network:"eip155:10",asset:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},rXe={network:"eip155:42161",asset:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},iXe={network:"eip155:137",asset:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},sXe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},oXe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"native",metadata:{name:"Solana",symbol:"SOL",decimals:9}},aXe=Object.freeze(Object.defineProperty({__proto__:null,get W3mPayLoadingView(){return u0},get W3mPayView(){return xu},arbitrumUSDC:XJe,arbitrumUSDT:rXe,baseETH:KJe,baseSepoliaETH:GJe,baseUSDC:ZJe,ethereumUSDC:YJe,ethereumUSDT:tXe,getExchanges:WJe,getIsPaymentInProgress:HJe,getPayError:FJe,getPayResult:qJe,openPay:hoe,optimismUSDC:JJe,optimismUSDT:nXe,pay:zJe,polygonUSDC:QJe,polygonUSDT:iXe,solanaSOL:oXe,solanaUSDC:eXe,solanaUSDT:sXe},Symbol.toStringTag,{value:"Module"})),cXe=Be`
  .email-sufixes {
    display: flex;
    flex-direction: row;
    gap: var(--wui-spacing-3xs);
    overflow-x: auto;
    max-width: 100%;
    margin-top: var(--wui-spacing-s);
    margin-bottom: calc(-1 * var(--wui-spacing-m));
    padding-bottom: var(--wui-spacing-m);
    margin-left: calc(-1 * var(--wui-spacing-m));
    margin-right: calc(-1 * var(--wui-spacing-m));
    padding-left: var(--wui-spacing-m);
    padding-right: var(--wui-spacing-m);

    &::-webkit-scrollbar {
      display: none;
    }
  }
`;var poe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const lXe=["@gmail.com","@outlook.com","@yahoo.com","@hotmail.com","@aol.com","@icloud.com","@zoho.com"];let SC=class extends Q{constructor(){super(...arguments),this.email=""}render(){const e=lXe.filter(this.filter.bind(this)).map(this.item.bind(this));return e.length===0?null:$`<div class="email-sufixes">${e}</div>`}filter(e){if(!this.email)return!1;const n=this.email.split("@");if(n.length<2)return!0;const r=n.pop();return e.includes(r)&&e!==`@${r}`}item(e){return $`<wui-button variant="neutral" size="sm" @click=${()=>{const r=this.email.split("@");r.length>1&&r.pop();const i=r[0]+e;this.dispatchEvent(new CustomEvent("change",{detail:i,bubbles:!0,composed:!0}))}}
      >${e}</wui-button
    >`}};SC.styles=[cXe];poe([L()],SC.prototype,"email",void 0);SC=poe([ie("w3m-email-suffixes-widget")],SC);const uXe=Be`
  .recent-emails {
    display: flex;
    flex-direction: column;
    padding: var(--wui-spacing-s) 0;
    border-top: 1px solid var(--wui-color-gray-glass-005);
    border-bottom: 1px solid var(--wui-color-gray-glass-005);
  }

  .recent-emails-heading {
    margin-bottom: var(--wui-spacing-s);
  }

  .recent-emails-list-item {
    --wui-color-gray-glass-002: transparent;
  }
`;var foe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xC=class extends Q{constructor(){super(...arguments),this.emails=[]}render(){return this.emails.length===0?null:$`<div class="recent-emails">
      <wui-text variant="micro-600" color="fg-200" class="recent-emails-heading"
        >Recently used emails</wui-text
      >
      ${this.emails.map(this.item.bind(this))}
    </div>`}item(e){return $`<wui-list-item
      @click=${()=>{this.dispatchEvent(new CustomEvent("select",{detail:e,bubbles:!0,composed:!0}))}}
      ?chevron=${!0}
      icon="mail"
      iconVariant="overlay"
      class="recent-emails-list-item"
    >
      <wui-text variant="paragraph-500" color="fg-100">${e}</wui-text>
    </wui-list-item>`}};xC.styles=[uXe];foe([L()],xC.prototype,"emails",void 0);xC=foe([ie("w3m-recent-emails-widget")],xC);var goe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ox=class extends yc{constructor(){super(...arguments),this.siwx=X.state.siwx,this.onOtpSubmit=async e=>{await this.siwx.confirmEmailOtp({code:e}),Z.replace("SIWXSignMessage")},this.onOtpResend=async e=>{const n=j.getAccountData();if(!n?.caipAddress)throw new Error("No account data found");await this.siwx.requestEmailOtp({email:e,account:n.caipAddress})}}connectedCallback(){(!this.siwx||!(this.siwx instanceof bx))&&Ue.showError("ReownAuthentication is not initialized."),super.connectedCallback()}shouldSubmitOnOtpChange(){return this.otp.length===yc.OTP_LENGTH}};goe([W()],Ox.prototype,"siwx",void 0);Ox=goe([ie("w3m-data-capture-otp-confirm-view")],Ox);const dXe=Be`
  .hero {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-3xs);

    transition-property: margin, height;
    transition-duration: var(--wui-duration-md);
    transition-timing-function: var(--wui-ease-out-power-1);
    margin-top: -100px;

    &[data-state='loading'] {
      margin-top: 0px;
    }

    position: relative;
    &:after {
      content: '';
      position: absolute;
      bottom: 0;
      height: 252px;
      width: 360px;
      background: radial-gradient(
        96.11% 53.95% at 50% 51.28%,
        transparent 0%,
        color-mix(in srgb, var(--wui-color-bg-100) 5%, transparent) 49%,
        color-mix(in srgb, var(--wui-color-bg-100) 65%, transparent) 99.43%
      );
    }
  }

  .hero-main-icon {
    width: 176px;
    transition-property: background-color;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-1);

    &[data-state='loading'] {
      width: 56px;
    }
  }

  .hero-row {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-3xs);
    flex-wrap: nowrap;
    min-width: fit-content;

    &:nth-child(1) {
      transform: translateX(-30px);
    }

    &:nth-child(2) {
      transform: translateX(30px);
    }

    &:nth-child(4) {
      transform: translateX(40px);
    }

    transition-property: height;
    transition-duration: var(--wui-duration-md);
    transition-timing-function: var(--wui-ease-out-power-1);
    height: 68px;

    &[data-state='loading'] {
      height: 0px;
    }
  }

  .hero-row-icon {
    opacity: 0.1;
    transition-property: opacity;
    transition-duration: var(--wui-duration-md);
    transition-timing-function: var(--wui-ease-out-power-1);

    &[data-state='loading'] {
      opacity: 0;
    }
  }
`;var nm=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Au=class extends Q{constructor(){super(...arguments),this.email=Z.state.data?.email??j.getAccountData()?.user?.email??"",this.address=j.getAccountData()?.address??"",this.loading=!1,this.appName=X.state.metadata?.name??"AppKit",this.siwx=X.state.siwx,this.isRequired=Array.isArray(X.state.remoteFeatures?.emailCapture)&&X.state.remoteFeatures?.emailCapture.includes("required"),this.recentEmails=this.getRecentEmails()}connectedCallback(){(!this.siwx||!(this.siwx instanceof bx))&&Ue.showError("ReownAuthentication is not initialized. Please contact support."),super.connectedCallback()}firstUpdated(){this.loading=!1,this.recentEmails=this.getRecentEmails(),this.email&&this.onSubmit()}render(){return $`
      <wui-flex flexDirection="column" .padding=${["3xs","m","m","m"]} gap="l">
        ${this.hero()} ${this.paragraph()} ${this.emailInput()} ${this.recentEmailsWidget()}
        ${this.footerActions()}
      </wui-flex>
    `}hero(){return $`
      <div class="hero" data-state=${this.loading?"loading":"default"}>
        ${this.heroRow(["id","mail","wallet","x","solana","qrCode"])}
        ${this.heroRow(["mail","farcaster","wallet","discord","mobile","qrCode"])}
        <div class="hero-row">
          ${this.heroIcon("github")} ${this.heroIcon("bank")}
          <wui-icon-box
            size="xl"
            iconSize="xxl"
            iconColor=${this.loading?"fg-100":"accent-100"}
            backgroundColor=${this.loading?"fg-100":"accent-100"}
            icon=${this.loading?"id":"user"}
            isOpaque
            class="hero-main-icon"
            data-state=${this.loading?"loading":"default"}
          >
          </wui-icon-box>
          ${this.heroIcon("id")} ${this.heroIcon("card")}
        </div>
        ${this.heroRow(["google","id","github","verify","apple","mobile"])}
      </div>
    `}heroRow(e){return $`
      <div class="hero-row" data-state=${this.loading?"loading":"default"}>
        ${e.map(this.heroIcon.bind(this))}
      </div>
    `}heroIcon(e){return $`
      <wui-icon-box
        size="xl"
        iconSize="xxl"
        iconColor="fg-100"
        backgroundColor="fg-100"
        icon=${e}
        data-state=${this.loading?"loading":"default"}
        isOpaque
        class="hero-row-icon"
      >
      </wui-icon-box>
    `}paragraph(){return this.loading?$`
        <wui-text variant="paragraph-400" color="fg-200" align="center"
          >We are verifying your account with email
          <wui-text variant="paragraph-600" color="accent-100">${this.email}</wui-text> and address
          <wui-text variant="paragraph-600" color="fg-100">
            ${sn.getTruncateString({string:this.address,charsEnd:4,charsStart:4,truncate:"middle"})} </wui-text
          >, please wait a moment.</wui-text
        >
      `:this.isRequired?$`
        <wui-text variant="paragraph-600" color="fg-100" align="center">
          ${this.appName} requires your email for authentication.
        </wui-text>
      `:$`
      <wui-flex flexDirection="column" gap="xs" alignItems="center">
        <wui-text variant="paragraph-600" color="fg-100" align="center" size>
          ${this.appName} would like to collect your email.
        </wui-text>

        <wui-text variant="small-400" color="fg-200" align="center">
          Don't worry, it's optional&mdash;you can skip this step.
        </wui-text>
      </wui-flex>
    `}emailInput(){if(this.loading)return null;const e=r=>{r.key==="Enter"&&this.onSubmit()},n=r=>{this.email=r.detail};return $`
      <wui-flex flexDirection="column">
        <wui-email-input
          .value=${this.email}
          .disabled=${this.loading}
          @inputChange=${n}
          @keydown=${e}
        ></wui-email-input>

        <w3m-email-suffixes-widget
          .email=${this.email}
          @change=${n}
        ></w3m-email-suffixes-widget>
      </wui-flex>
    `}recentEmailsWidget(){if(this.recentEmails.length===0||this.loading)return null;const e=n=>{this.email=n.detail,this.onSubmit()};return $`
      <w3m-recent-emails-widget
        .emails=${this.recentEmails}
        @select=${e}
      ></w3m-recent-emails-widget>
    `}footerActions(){return $`
      <wui-flex flexDirection="row" fullWidth gap="s">
        ${this.isRequired?null:$`<wui-button
              size="lg"
              variant="neutral"
              fullWidth
              .disabled=${this.loading}
              @click=${this.onSkip.bind(this)}
              >Skip this step</wui-button
            >`}

        <wui-button
          size="lg"
          variant="main"
          type="submit"
          fullWidth
          .disabled=${!this.email||!this.isValidEmail(this.email)}
          .loading=${this.loading}
          @click=${this.onSubmit.bind(this)}
        >
          Continue
        </wui-button>
      </wui-flex>
    `}async onSubmit(){if(!(this.siwx instanceof bx)){Ue.showError("ReownAuthentication is not initialized. Please contact support.");return}const e=j.getActiveCaipAddress();if(!e)throw new Error("Account is not connected.");if(!this.isValidEmail(this.email)){Ue.showError("Please provide a valid email.");return}try{this.loading=!0;const n=await this.siwx.requestEmailOtp({email:this.email,account:e});this.pushRecentEmail(this.email),n.uuid===null?Z.replace("SIWXSignMessage"):Z.replace("DataCaptureOtpConfirm",{email:this.email})}catch{Ue.showError("Failed to send email OTP"),this.loading=!1}}onSkip(){Z.replace("SIWXSignMessage")}getRecentEmails(){const e=at.getItem(ft.RECENT_EMAILS);return(e?e.split(","):[]).filter(this.isValidEmail.bind(this)).slice(0,3)}pushRecentEmail(e){const n=this.getRecentEmails(),r=Array.from(new Set([e,...n])).slice(0,3);at.setItem(ft.RECENT_EMAILS,r.join(","))}isValidEmail(e){return/^\S+@\S+\.\S+$/u.test(e)}};Au.styles=[dXe];nm([W()],Au.prototype,"email",void 0);nm([W()],Au.prototype,"address",void 0);nm([W()],Au.prototype,"loading",void 0);nm([W()],Au.prototype,"appName",void 0);nm([W()],Au.prototype,"siwx",void 0);nm([W()],Au.prototype,"isRequired",void 0);nm([W()],Au.prototype,"recentEmails",void 0);Au=nm([ie("w3m-data-capture-view")],Au);const hXe=Object.freeze(Object.defineProperty({__proto__:null,get W3mDataCaptureOtpConfirmView(){return Ox},get W3mDataCaptureView(){return Au},get W3mEmailSuffixesWidget(){return SC},get W3mRecentEmailsWidget(){return xC}},Symbol.toStringTag,{value:"Module"})),pXe=ve`
  :host {
    display: block;
  }

  button {
    border-radius: ${({borderRadius:t})=>t[20]};
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    display: flex;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[1]};
    color: ${({tokens:t})=>t.theme.textSecondary};
    border-radius: ${({borderRadius:t})=>t[16]};
    height: 32px;
    transition: box-shadow ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: box-shadow;
  }

  button wui-flex.avatar-container {
    width: 28px;
    height: 24px;
    position: relative;

    wui-flex.network-image-container {
      position: absolute;
      bottom: 0px;
      right: 0px;
      width: 12px;
      height: 12px;
    }

    wui-flex.network-image-container wui-icon {
      background: ${({tokens:t})=>t.theme.foregroundPrimary};
    }

    wui-avatar {
      width: 24px;
      min-width: 24px;
      height: 24px;
    }

    wui-icon {
      width: 12px;
      height: 12px;
    }
  }

  wui-image,
  wui-icon {
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  wui-text {
    white-space: nowrap;
  }

  button wui-flex.balance-container {
    height: 100%;
    border-radius: ${({borderRadius:t})=>t[16]};
    padding-left: ${({spacing:t})=>t[1]};
    padding-right: ${({spacing:t})=>t[1]};
    background: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button:hover:enabled,
  button:focus-visible:enabled,
  button:active:enabled {
    box-shadow: 0px 0px 8px 0px rgba(0, 0, 0, 0.2);

    wui-flex.balance-container {
      background: ${({tokens:t})=>t.theme.foregroundTertiary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled wui-text,
  button:disabled wui-flex.avatar-container {
    opacity: 0.3;
  }
`;var Uu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cc=class extends Q{constructor(){super(...arguments),this.networkSrc=void 0,this.avatarSrc=void 0,this.balance=void 0,this.isUnsupportedChain=void 0,this.disabled=!1,this.loading=!1,this.address="",this.profileName="",this.charsStart=4,this.charsEnd=6}render(){return $`
      <button
        ?disabled=${this.disabled}
        class=${le(this.balance?void 0:"local-no-balance")}
        data-error=${le(this.isUnsupportedChain)}
      >
        ${this.imageTemplate()} ${this.addressTemplate()} ${this.balanceTemplate()}
      </button>
    `}imageTemplate(){const e=this.networkSrc?$`<wui-image src=${this.networkSrc}></wui-image>`:$` <wui-icon size="inherit" color="inherit" name="networkPlaceholder"></wui-icon> `;return $`<wui-flex class="avatar-container">
      <wui-avatar
        .imageSrc=${this.avatarSrc}
        alt=${this.address}
        address=${this.address}
      ></wui-avatar>

      <wui-flex class="network-image-container">${e}</wui-flex>
    </wui-flex>`}addressTemplate(){return $`<wui-text variant="md-regular" color="inherit">
      ${this.address?sn.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"}):null}
    </wui-text>`}balanceTemplate(){if(this.balance){const e=this.loading?$`<wui-loading-spinner size="md" color="inherit"></wui-loading-spinner>`:$`<wui-text variant="md-regular" color="inherit"> ${this.balance}</wui-text>`;return $`<wui-flex alignItems="center" justifyContent="center" class="balance-container"
        >${e}</wui-flex
      >`}return null}};Cc.styles=[st,Jt,pXe];Uu([L()],Cc.prototype,"networkSrc",void 0);Uu([L()],Cc.prototype,"avatarSrc",void 0);Uu([L()],Cc.prototype,"balance",void 0);Uu([L({type:Boolean})],Cc.prototype,"isUnsupportedChain",void 0);Uu([L({type:Boolean})],Cc.prototype,"disabled",void 0);Uu([L({type:Boolean})],Cc.prototype,"loading",void 0);Uu([L()],Cc.prototype,"address",void 0);Uu([L()],Cc.prototype,"profileName",void 0);Uu([L()],Cc.prototype,"charsStart",void 0);Uu([L()],Cc.prototype,"charsEnd",void 0);Cc=Uu([ie("wui-account-button")],Cc);var Go=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Yo extends Q{constructor(){super(...arguments),this.unsubscribe=[],this.disabled=!1,this.balance="show",this.charsStart=4,this.charsEnd=6,this.namespace=void 0,this.isSupported=X.state.allowUnsupportedChain?!0:j.state.activeChain?j.checkIfSupportedNetwork(j.state.activeChain):!0}connectedCallback(){super.connectedCallback(),this.setAccountData(j.getAccountData(this.namespace)),this.setNetworkData(j.getNetworkData(this.namespace))}firstUpdated(){const e=this.namespace;e?this.unsubscribe.push(j.subscribeChainProp("accountState",n=>{this.setAccountData(n)},e),j.subscribeChainProp("networkState",n=>{this.setNetworkData(n),this.isSupported=j.checkIfSupportedNetwork(e,n?.caipNetwork?.caipNetworkId)},e)):this.unsubscribe.push(lr.subscribeNetworkImages(()=>{this.networkImage=en.getNetworkImage(this.network)}),j.subscribeKey("activeCaipAddress",n=>{this.caipAddress=n}),j.subscribeChainProp("accountState",n=>{this.setAccountData(n)}),j.subscribeKey("activeCaipNetwork",n=>{this.network=n,this.networkImage=en.getNetworkImage(n),this.isSupported=n?.chainNamespace?j.checkIfSupportedNetwork(n?.chainNamespace):!0,this.fetchNetworkImage(n)}))}updated(){this.fetchNetworkImage(this.network)}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!j.state.activeChain)return null;const e=this.balance==="show",n=typeof this.balanceVal!="string",{formattedText:r}=oe.parseBalance(this.balanceVal,this.balanceSymbol);return $`
      <wui-account-button
        .disabled=${!!this.disabled}
        .isUnsupportedChain=${X.state.allowUnsupportedChain?!1:!this.isSupported}
        address=${le(oe.getPlainAddress(this.caipAddress))}
        profileName=${le(this.profileName)}
        networkSrc=${le(this.networkImage)}
        avatarSrc=${le(this.profileImage)}
        balance=${e?r:""}
        @click=${this.onClick.bind(this)}
        data-testid=${`account-button${this.namespace?`-${this.namespace}`:""}`}
        .charsStart=${this.charsStart}
        .charsEnd=${this.charsEnd}
        ?loading=${n}
      >
      </wui-account-button>
    `}onClick(){this.isSupported||X.state.allowUnsupportedChain?Ke.open({namespace:this.namespace}):Ke.open({view:"UnsupportedChain"})}async fetchNetworkImage(e){e?.assets?.imageId&&(this.networkImage=await en.fetchNetworkImage(e?.assets?.imageId))}setAccountData(e){e&&(this.caipAddress=e.caipAddress,this.balanceVal=e.balance,this.balanceSymbol=e.balanceSymbol,this.profileName=e.profileName,this.profileImage=e.profileImage)}setNetworkData(e){e&&(this.network=e.caipNetwork,this.networkImage=en.getNetworkImage(e.caipNetwork))}}Go([L({type:Boolean})],Yo.prototype,"disabled",void 0);Go([L()],Yo.prototype,"balance",void 0);Go([L()],Yo.prototype,"charsStart",void 0);Go([L()],Yo.prototype,"charsEnd",void 0);Go([L()],Yo.prototype,"namespace",void 0);Go([W()],Yo.prototype,"caipAddress",void 0);Go([W()],Yo.prototype,"balanceVal",void 0);Go([W()],Yo.prototype,"balanceSymbol",void 0);Go([W()],Yo.prototype,"profileName",void 0);Go([W()],Yo.prototype,"profileImage",void 0);Go([W()],Yo.prototype,"network",void 0);Go([W()],Yo.prototype,"networkImage",void 0);Go([W()],Yo.prototype,"isSupported",void 0);let H9=class extends Yo{};H9=Go([ie("w3m-account-button")],H9);let V9=class extends Yo{};V9=Go([ie("appkit-account-button")],V9);const fXe=Be`
  :host {
    display: block;
    width: max-content;
  }
`;var Mu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Il extends Q{constructor(){super(...arguments),this.unsubscribe=[],this.disabled=!1,this.balance=void 0,this.size=void 0,this.label=void 0,this.loadingLabel=void 0,this.charsStart=4,this.charsEnd=6,this.namespace=void 0}firstUpdated(){this.caipAddress=this.namespace?j.getAccountData(this.namespace)?.caipAddress:j.state.activeCaipAddress,this.namespace?this.unsubscribe.push(j.subscribeChainProp("accountState",e=>{this.caipAddress=e?.caipAddress},this.namespace)):this.unsubscribe.push(j.subscribeKey("activeCaipAddress",e=>this.caipAddress=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return this.caipAddress?$`
          <appkit-account-button
            .disabled=${!!this.disabled}
            balance=${le(this.balance)}
            .charsStart=${le(this.charsStart)}
            .charsEnd=${le(this.charsEnd)}
            namespace=${le(this.namespace)}
          >
          </appkit-account-button>
        `:$`
          <appkit-connect-button
            size=${le(this.size)}
            label=${le(this.label)}
            loadingLabel=${le(this.loadingLabel)}
            namespace=${le(this.namespace)}
          ></appkit-connect-button>
        `}}Il.styles=fXe;Mu([L({type:Boolean})],Il.prototype,"disabled",void 0);Mu([L()],Il.prototype,"balance",void 0);Mu([L()],Il.prototype,"size",void 0);Mu([L()],Il.prototype,"label",void 0);Mu([L()],Il.prototype,"loadingLabel",void 0);Mu([L()],Il.prototype,"charsStart",void 0);Mu([L()],Il.prototype,"charsEnd",void 0);Mu([L()],Il.prototype,"namespace",void 0);Mu([W()],Il.prototype,"caipAddress",void 0);let K9=class extends Il{};K9=Mu([ie("w3m-button")],K9);let Z9=class extends Il{};Z9=Mu([ie("appkit-button")],Z9);const gXe=ve`
  :host {
    position: relative;
    display: block;
  }

  button {
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='sm'] {
    padding: ${({spacing:t})=>t[2]};
  }

  button[data-size='md'] {
    padding: ${({spacing:t})=>t[3]};
  }

  button[data-size='lg'] {
    padding: ${({spacing:t})=>t[4]};
  }

  button[data-variant='primary'] {
    background: ${({tokens:t})=>t.core.backgroundAccentPrimary};
  }

  button[data-variant='secondary'] {
    background: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button:hover:enabled {
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  button:disabled {
    cursor: not-allowed;
  }

  button[data-loading='true'] {
    cursor: not-allowed;
  }

  button[data-loading='true'][data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[32]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]};
  }

  button[data-loading='true'][data-size='md'] {
    border-radius: ${({borderRadius:t})=>t[20]};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[4]};
  }

  button[data-loading='true'][data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[16]};
    padding: ${({spacing:t})=>t[4]} ${({spacing:t})=>t[5]};
  }
`;var g4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let d0=class extends Q{constructor(){super(...arguments),this.size="md",this.variant="primary",this.loading=!1,this.text="Connect Wallet"}render(){return $`
      <button
        data-loading=${this.loading}
        data-variant=${this.variant}
        data-size=${this.size}
        ?disabled=${this.loading}
      >
        ${this.contentTemplate()}
      </button>
    `}contentTemplate(){const e={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},n={primary:"invert",secondary:"accent-primary"};return this.loading?$`<wui-loading-spinner
      color=${n[this.variant]}
      size=${this.size}
    ></wui-loading-spinner>`:$` <wui-text variant=${e[this.size]} color=${n[this.variant]}>
        ${this.text}
      </wui-text>`}};d0.styles=[st,Jt,gXe];g4([L()],d0.prototype,"size",void 0);g4([L()],d0.prototype,"variant",void 0);g4([L({type:Boolean})],d0.prototype,"loading",void 0);g4([L()],d0.prototype,"text",void 0);d0=g4([ie("wui-connect-button")],d0);var rm=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class im extends Q{constructor(){super(),this.unsubscribe=[],this.size="md",this.label="Connect Wallet",this.loadingLabel="Connecting...",this.open=Ke.state.open,this.loading=this.namespace?Ke.state.loadingNamespaceMap.get(this.namespace):Ke.state.loading,this.unsubscribe.push(Ke.subscribe(e=>{this.open=e.open,this.loading=this.namespace?e.loadingNamespaceMap.get(this.namespace):e.loading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-connect-button
        size=${le(this.size)}
        .loading=${this.loading}
        @click=${this.onClick.bind(this)}
        data-testid=${`connect-button${this.namespace?`-${this.namespace}`:""}`}
      >
        ${this.loading?this.loadingLabel:this.label}
      </wui-connect-button>
    `}onClick(){this.open?Ke.close():this.loading||Ke.open({view:"Connect",namespace:this.namespace})}}rm([L()],im.prototype,"size",void 0);rm([L()],im.prototype,"label",void 0);rm([L()],im.prototype,"loadingLabel",void 0);rm([L()],im.prototype,"namespace",void 0);rm([W()],im.prototype,"open",void 0);rm([W()],im.prototype,"loading",void 0);let G9=class extends im{};G9=rm([ie("w3m-connect-button")],G9);let Y9=class extends im{};Y9=rm([ie("appkit-connect-button")],Y9);const mXe=ve`
  :host {
    display: block;
  }

  button {
    border-radius: ${({borderRadius:t})=>t[32]};
    display: flex;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]}
      ${({spacing:t})=>t[1]} ${({spacing:t})=>t[1]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button[data-size='sm'] > wui-icon-box,
  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-icon-box,
  button[data-size='md'] > wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='lg'] > wui-icon-box,
  button[data-size='lg'] > wui-image {
    width: 24px;
    height: 24px;
  }

  wui-image,
  wui-icon-box {
    border-radius: ${({borderRadius:t})=>t[32]};
  }
`;var m4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let h0=class extends Q{constructor(){super(...arguments),this.imageSrc=void 0,this.isUnsupportedChain=void 0,this.disabled=!1,this.size="lg"}render(){const e={sm:"sm-regular",md:"md-regular",lg:"lg-regular"};return $`
      <button data-size=${this.size} data-testid="wui-network-button" ?disabled=${this.disabled}>
        ${this.visualTemplate()}
        <wui-text variant=${e[this.size]} color="primary">
          <slot></slot>
        </wui-text>
      </button>
    `}visualTemplate(){return this.isUnsupportedChain?$` <wui-icon-box color="error" icon="warningCircle"></wui-icon-box> `:this.imageSrc?$`<wui-image src=${this.imageSrc}></wui-image>`:$` <wui-icon size="xl" color="default" name="networkPlaceholder"></wui-icon> `}};h0.styles=[st,Jt,mXe];m4([L()],h0.prototype,"imageSrc",void 0);m4([L({type:Boolean})],h0.prototype,"isUnsupportedChain",void 0);m4([L({type:Boolean})],h0.prototype,"disabled",void 0);m4([L()],h0.prototype,"size",void 0);h0=m4([ie("wui-network-button")],h0);const wXe=Be`
  :host {
    display: block;
    width: max-content;
  }
`;var Hp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Hd extends Q{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.network=j.state.activeCaipNetwork,this.networkImage=en.getNetworkImage(this.network),this.caipAddress=j.state.activeCaipAddress,this.loading=Ke.state.loading,this.isSupported=X.state.allowUnsupportedChain?!0:j.state.activeChain?j.checkIfSupportedNetwork(j.state.activeChain):!0,this.unsubscribe.push(lr.subscribeNetworkImages(()=>{this.networkImage=en.getNetworkImage(this.network)}),j.subscribeKey("activeCaipAddress",e=>{this.caipAddress=e}),j.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=en.getNetworkImage(e),this.isSupported=e?.chainNamespace?j.checkIfSupportedNetwork(e.chainNamespace):!0,en.fetchNetworkImage(e?.assets?.imageId)}),Ke.subscribeKey("loading",e=>this.loading=e))}firstUpdated(){en.fetchNetworkImage(this.network?.assets?.imageId)}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.network?j.checkIfSupportedNetwork(this.network.chainNamespace):!0;return $`
      <wui-network-button
        .disabled=${!!(this.disabled||this.loading)}
        .isUnsupportedChain=${X.state.allowUnsupportedChain?!1:!e}
        imageSrc=${le(this.networkImage)}
        @click=${this.onClick.bind(this)}
        data-testid="w3m-network-button"
      >
        ${this.getLabel()}
        <slot></slot>
      </wui-network-button>
    `}getLabel(){return this.network?!this.isSupported&&!X.state.allowUnsupportedChain?"Switch Network":this.network.name:this.label?this.label:this.caipAddress?"Unknown Network":"Select Network"}onClick(){this.loading||(Ce.sendEvent({type:"track",event:"CLICK_NETWORKS"}),Ke.open({view:"Networks"}))}}Hd.styles=wXe;Hp([L({type:Boolean})],Hd.prototype,"disabled",void 0);Hp([L({type:String})],Hd.prototype,"label",void 0);Hp([W()],Hd.prototype,"network",void 0);Hp([W()],Hd.prototype,"networkImage",void 0);Hp([W()],Hd.prototype,"caipAddress",void 0);Hp([W()],Hd.prototype,"loading",void 0);Hp([W()],Hd.prototype,"isSupported",void 0);let J9=class extends Hd{};J9=Hp([ie("w3m-network-button")],J9);let X9=class extends Hd{};X9=Hp([ie("appkit-network-button")],X9);const yXe=ve`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`;var wM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let X1=class extends Q{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=Z.state.view}firstUpdated(){this.status=bu.hasFooter()?"show":"hide",this.unsubscribe.push(Z.subscribeKey("view",e=>{this.view=e,this.status=bu.hasFooter()?"show":"hide",this.status==="hide"&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(e=>{for(const n of e)if(n.target===this.getWrapper()){const r=`${n.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",r)}}),this.resizeObserver.observe(this.getWrapper())}render(){return $`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return bu.hasFooter()?$` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return $`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return $`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return $` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){Ce.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),Z.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};X1.styles=[yXe];wM([W()],X1.prototype,"status",void 0);wM([W()],X1.prototype,"view",void 0);X1=wM([ie("w3m-footer")],X1);const bXe=ve`
  :host {
    display: block;
    width: inherit;
  }
`;var yM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Q1=class extends Q{constructor(){super(),this.unsubscribe=[],this.viewState=Z.state.view,this.history=Z.state.history.join(","),this.unsubscribe.push(Z.subscribeKey("view",()=>{this.history=Z.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return $`${this.templatePageContainer()}`}templatePageContainer(){return $`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=Z.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(e){switch(e){case"AccountSettings":return $`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return $`<w3m-account-view></w3m-account-view>`;case"AllWallets":return $`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return $`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return $`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return $`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return $`<w3m-connect-view></w3m-connect-view>`;case"Create":return $`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return $`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return $`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return $`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return $`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return $`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return $`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return $`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return $`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return $`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return $`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return $`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return $`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return $`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return $`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return $`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return $`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return $`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return $`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return $`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return $`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return $`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return $`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return $`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return $`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return $`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return $`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return $`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return $`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return $`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return $`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return $`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return $`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return $`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return $`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return $`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return $`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return $`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return $`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return $`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return $`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return $`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return $`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return $`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return $`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return $`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return $`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return $`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return $`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return $`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return $`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return $`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return $`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`;case"SmartAccountSettings":return $`<w3m-smart-account-settings-view></w3m-smart-account-settings-view>`;default:return $`<w3m-connect-view></w3m-connect-view>`}}};Q1.styles=[bXe];yM([W()],Q1.prototype,"viewState",void 0);yM([W()],Q1.prototype,"history",void 0);Q1=yM([ie("w3m-router")],Q1);const vXe=ve`
  :host {
    display: block;
  }

  button {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:t})=>t[4]};
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[4]};
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  wui-flex > wui-icon {
    padding: ${({spacing:t})=>t[2]};
    color: ${({tokens:t})=>t.theme.textInvert};
    background-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    border-radius: ${({borderRadius:t})=>t[2]};
    align-items: normal;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.core.foregroundAccent020};
    }
  }
`;var kk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ev=class extends Q{constructor(){super(...arguments),this.label="",this.description="",this.icon="wallet"}render(){return $`
      <button>
        <wui-flex gap="2" alignItems="center">
          <wui-icon weight="fill" size="md" name=${this.icon} color="inherit"></wui-icon>
          <wui-flex flexDirection="column" gap="1">
            <wui-text variant="md-medium" color="primary">${this.label}</wui-text>
            <wui-text variant="md-regular" color="tertiary">${this.description}</wui-text>
          </wui-flex>
        </wui-flex>
        <wui-icon size="lg" color="accent-primary" name="chevronRight"></wui-icon>
      </button>
    `}};ev.styles=[st,Jt,vXe];kk([L()],ev.prototype,"label",void 0);kk([L()],ev.prototype,"description",void 0);kk([L()],ev.prototype,"icon",void 0);ev=kk([ie("wui-notice-card")],ev);var moe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Q9=class extends Q{constructor(){super(),this.unsubscribe=[],this.socialProvider=be.getConnectedSocialProvider(),this.socialUsername=be.getConnectedSocialUsername(),this.namespace=j.state.activeChain,this.unsubscribe.push(j.subscribeKey("activeChain",e=>{this.namespace=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=ae.getConnectorId(this.namespace),n=ae.getAuthConnector();if(!n||e!==ne.CONNECTOR_ID.AUTH)return this.style.cssText="display: none",null;const r=n.provider.getEmail()??"";return!r&&!this.socialUsername?(this.style.cssText="display: none",null):$`
      <wui-list-item
        ?rounded=${!0}
        icon=${this.socialProvider??"mail"}
        data-testid="w3m-account-email-update"
        ?chevron=${!this.socialProvider}
        @click=${()=>{this.onGoToUpdateEmail(r,this.socialProvider)}}
      >
        <wui-text variant="lg-regular" color="primary">${this.getAuthName(r)}</wui-text>
      </wui-list-item>
    `}onGoToUpdateEmail(e,n){n||Z.push("UpdateEmailWallet",{email:e,redirectView:"Account"})}getAuthName(e){return this.socialUsername?this.socialProvider==="discord"&&this.socialUsername.endsWith("0")?this.socialUsername.slice(0,-1):this.socialUsername:e.length>30?`${e.slice(0,-3)}...`:e}};moe([W()],Q9.prototype,"namespace",void 0);Q9=moe([ie("w3m-account-auth-button")],Q9);var Iy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Tp=class extends Q{constructor(){super(),this.usubscribe=[],this.networkImages=lr.state.networkImages,this.address=j.getAccountData()?.address,this.profileImage=j.getAccountData()?.profileImage,this.profileName=j.getAccountData()?.profileName,this.network=j.state.activeCaipNetwork,this.disconnecting=!1,this.remoteFeatures=X.state.remoteFeatures,this.usubscribe.push(j.subscribeChainProp("accountState",e=>{e&&(this.address=e.address,this.profileImage=e.profileImage,this.profileName=e.profileName)}),j.subscribeKey("activeCaipNetwork",e=>{e?.id&&(this.network=e)}),X.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.usubscribe.forEach(e=>e())}render(){if(!this.address)throw new Error("w3m-account-settings-view: No account provided");const e=this.networkImages[this.network?.assets?.imageId??""];return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding=${["0","5","3","5"]}
      >
        <wui-avatar
          alt=${this.address}
          address=${this.address}
          imageSrc=${le(this.profileImage)}
          size="lg"
        ></wui-avatar>
        <wui-flex flexDirection="column" alignItems="center">
          <wui-flex gap="1" alignItems="center" justifyContent="center">
            <wui-text variant="h5-medium" color="primary" data-testid="account-settings-address">
              ${sn.getTruncateString({string:this.address,charsStart:4,charsEnd:6,truncate:"middle"})}
            </wui-text>
            <wui-icon-link
              size="md"
              icon="copy"
              iconColor="default"
              @click=${this.onCopyAddress}
            ></wui-icon-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
      <wui-flex flexDirection="column" gap="4">
        <wui-flex flexDirection="column" gap="2" .padding=${["6","4","3","4"]}>
          ${this.authCardTemplate()}
          <w3m-account-auth-button></w3m-account-auth-button>
          <wui-list-item
            imageSrc=${le(e)}
            ?chevron=${this.isAllowedNetworkSwitch()}
            ?fullSize=${!0}
            ?rounded=${!0}
            @click=${this.onNetworks.bind(this)}
            data-testid="account-switch-network-button"
          >
            <wui-text variant="lg-regular" color="primary">
              ${this.network?.name??"Unknown"}
            </wui-text>
          </wui-list-item>
          ${this.smartAccountSettingsTemplate()} ${this.chooseNameButtonTemplate()}
          <wui-list-item
            ?rounded=${!0}
            icon="power"
            iconColor="error"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="lg-regular" color="primary">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}chooseNameButtonTemplate(){const e=this.network?.chainNamespace,n=ae.getConnectorId(e),r=ae.getAuthConnector();return!j.checkIfNamesSupported()||!r||n!==ne.CONNECTOR_ID.AUTH||this.profileName?null:$`
      <wui-list-item
        icon="id"
        ?rounded=${!0}
        ?chevron=${!0}
        @click=${this.onChooseName.bind(this)}
        data-testid="account-choose-name-button"
      >
        <wui-text variant="lg-regular" color="primary">Choose account name </wui-text>
      </wui-list-item>
    `}authCardTemplate(){const e=ae.getConnectorId(this.network?.chainNamespace),n=ae.getAuthConnector(),{origin:r}=location;return!n||e!==ne.CONNECTOR_ID.AUTH||r.includes(yt.SECURE_SITE)?null:$`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}isAllowedNetworkSwitch(){const e=j.getAllRequestedCaipNetworks(),n=e?e.length>1:!1,r=e?.find(({id:i})=>i===this.network?.id);return n||!r}onCopyAddress(){try{this.address&&(oe.copyToClopboard(this.address),Ue.showSuccess("Address copied"))}catch{Ue.showError("Failed to copy")}}smartAccountSettingsTemplate(){const e=this.network?.chainNamespace,n=j.checkIfSmartAccountEnabled(),r=ae.getConnectorId(e);return!ae.getAuthConnector()||r!==ne.CONNECTOR_ID.AUTH||!n?null:$`
      <wui-list-item
        icon="user"
        ?rounded=${!0}
        ?chevron=${!0}
        @click=${this.onSmartAccountSettings.bind(this)}
        data-testid="account-smart-account-settings-button"
      >
        <wui-text variant="lg-regular" color="primary">Smart Account Settings</wui-text>
      </wui-list-item>
    `}onChooseName(){Z.push("ChooseAccountName")}onNetworks(){this.isAllowedNetworkSwitch()&&Z.push("Networks")}async onDisconnect(){try{this.disconnecting=!0;const e=this.network?.chainNamespace,r=pe.getConnections(e).length>0,i=e&&ae.state.activeConnectorIds[e],s=this.remoteFeatures?.multiWallet;await pe.disconnect(s?{id:i,namespace:e}:{}),r&&s&&(Z.push("ProfileWallets"),Ue.showSuccess("Wallet deleted"))}catch{Ce.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),Ue.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onGoToUpgradeView(){Ce.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),Z.push("UpgradeEmailWallet")}onSmartAccountSettings(){Z.push("SmartAccountSettings")}};Iy([W()],Tp.prototype,"address",void 0);Iy([W()],Tp.prototype,"profileImage",void 0);Iy([W()],Tp.prototype,"profileName",void 0);Iy([W()],Tp.prototype,"network",void 0);Iy([W()],Tp.prototype,"disconnecting",void 0);Iy([W()],Tp.prototype,"remoteFeatures",void 0);Tp=Iy([ie("w3m-account-settings-view")],Tp);const EXe=ve`
  :host {
    flex: 1;
    height: 100%;
  }

  button {
    width: 100%;
    height: 100%;
    display: inline-flex;
    align-items: center;
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    column-gap: ${({spacing:t})=>t[1]};
    color: ${({tokens:t})=>t.theme.textSecondary};
    border-radius: ${({borderRadius:t})=>t[20]};
    background-color: transparent;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-active='true'] {
    color: ${({tokens:t})=>t.theme.textPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
  }

  button:hover:enabled:not([data-active='true']),
  button:active:enabled:not([data-active='true']) {
    wui-text,
    wui-icon {
      color: ${({tokens:t})=>t.theme.textPrimary};
    }
  }
`;var w4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const CXe={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},_Xe={lg:"md",md:"sm",sm:"sm"};let p0=class extends Q{constructor(){super(...arguments),this.icon="mobile",this.size="md",this.label="",this.active=!1}render(){return $`
      <button data-active=${this.active}>
        ${this.icon?$`<wui-icon size=${_Xe[this.size]} name=${this.icon}></wui-icon>`:""}
        <wui-text variant=${CXe[this.size]}> ${this.label} </wui-text>
      </button>
    `}};p0.styles=[st,Jt,EXe];w4([L()],p0.prototype,"icon",void 0);w4([L()],p0.prototype,"size",void 0);w4([L()],p0.prototype,"label",void 0);w4([L({type:Boolean})],p0.prototype,"active",void 0);p0=w4([ie("wui-tab-item")],p0);const IXe=ve`
  :host {
    display: inline-flex;
    align-items: center;
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[32]};
    padding: ${({spacing:t})=>t["01"]};
    box-sizing: border-box;
  }

  :host([data-size='sm']) {
    height: 26px;
  }

  :host([data-size='md']) {
    height: 36px;
  }
`;var y4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let f0=class extends Q{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.size="md",this.activeTab=0}render(){return this.dataset.size=this.size,this.tabs.map((e,n)=>{const r=n===this.activeTab;return $`
        <wui-tab-item
          @click=${()=>this.onTabClick(n)}
          icon=${e.icon}
          size=${this.size}
          label=${e.label}
          ?active=${r}
          data-active=${r}
          data-testid="tab-${e.label?.toLowerCase()}"
        ></wui-tab-item>
      `})}onTabClick(e){this.activeTab=e,this.onTabChange(e)}};f0.styles=[st,Jt,IXe];y4([L({type:Array})],f0.prototype,"tabs",void 0);y4([L()],f0.prototype,"onTabChange",void 0);y4([L()],f0.prototype,"size",void 0);y4([W()],f0.prototype,"activeTab",void 0);f0=y4([ie("wui-tabs")],f0);const SXe=ve`
  button {
    display: flex;
    align-items: center;
    height: 40px;
    padding: ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[4]};
    column-gap: ${({spacing:t})=>t[1]};
    background-color: transparent;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  wui-image,
  .icon-box {
    width: ${({spacing:t})=>t[6]};
    height: ${({spacing:t})=>t[6]};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    flex: 1;
  }

  .icon-box {
    position: relative;
  }

  .icon-box[data-active='true'] {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  .circle {
    position: absolute;
    left: 16px;
    top: 15px;
    width: 8px;
    height: 8px;
    background-color: ${({tokens:t})=>t.core.textSuccess};
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: 50%;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }
`;var Vd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yl=class extends Q{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return $`
      <button>
        ${this.leftImageTemplate()} ${this.textTemplate()} ${this.rightImageTemplate()}
      </button>
    `}leftImageTemplate(){const e=this.icon?$`<wui-icon
          size=${le(this.iconSize)}
          color="default"
          name=${this.icon}
          class="icon"
        ></wui-icon>`:$`<wui-image src=${this.imageSrc} alt=${this.alt}></wui-image>`;return $`
      <wui-flex
        alignItems="center"
        justifyContent="center"
        class="icon-box"
        data-active=${!!this.icon}
      >
        ${e}
        <wui-flex class="circle"></wui-flex>
      </wui-flex>
    `}textTemplate(){return $`
      <wui-text variant="lg-regular" color="primary">
        ${sn.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
      </wui-text>
    `}rightImageTemplate(){return $`<wui-icon name="chevronBottom" size="sm" color="default"></wui-icon>`}};yl.styles=[st,Jt,SXe];Vd([L()],yl.prototype,"address",void 0);Vd([L()],yl.prototype,"profileName",void 0);Vd([L()],yl.prototype,"alt",void 0);Vd([L()],yl.prototype,"imageSrc",void 0);Vd([L()],yl.prototype,"icon",void 0);Vd([L()],yl.prototype,"iconSize",void 0);Vd([L({type:Boolean})],yl.prototype,"loading",void 0);Vd([L({type:Number})],yl.prototype,"charsStart",void 0);Vd([L({type:Number})],yl.prototype,"charsEnd",void 0);yl=Vd([ie("wui-wallet-switch")],yl);const xXe=ve`
  wui-icon-link {
    margin-right: calc(${({spacing:t})=>t[8]} * -1);
  }

  wui-notice-card {
    margin-bottom: ${({spacing:t})=>t[1]};
  }

  wui-list-item > wui-text {
    flex: 1;
  }

  w3m-transactions-view {
    max-height: 200px;
  }

  .balance-container {
    display: inline;
  }

  .tab-content-container {
    height: 300px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .symbol {
    transform: translateY(-2px);
  }

  .tab-content-container::-webkit-scrollbar {
    display: none;
  }

  .account-button {
    width: auto;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[3]};
    height: 48px;
    padding: ${({spacing:t})=>t[2]};
    padding-right: ${({spacing:t})=>t[3]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[6]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
  }

  .account-button:hover {
    background-color: ${({tokens:t})=>t.core.glass010};
  }

  .avatar-container {
    position: relative;
  }

  wui-avatar.avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.core.glass010};
  }

  wui-wallet-switch {
    margin-top: ${({spacing:t})=>t[2]};
  }

  wui-avatar.network-avatar {
    width: 16px;
    height: 16px;
    position: absolute;
    left: 100%;
    top: 100%;
    transform: translate(-75%, -75%);
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.core.glass010};
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;
    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition:
      background-color ${({durations:t})=>t.md}
        ${({easings:t})=>t["ease-out-power-1"]},
      opacity ${({durations:t})=>t.md} ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color, opacity;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #667dff;
  }
`;var Sl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ta=class extends Q{constructor(){super(),this.unsubscribe=[],this.caipAddress=j.getAccountData()?.caipAddress,this.address=oe.getPlainAddress(j.getAccountData()?.caipAddress),this.profileImage=j.getAccountData()?.profileImage,this.profileName=j.getAccountData()?.profileName,this.disconnecting=!1,this.balance=j.getAccountData()?.balance,this.balanceSymbol=j.getAccountData()?.balanceSymbol,this.features=X.state.features,this.remoteFeatures=X.state.remoteFeatures,this.namespace=j.state.activeChain,this.activeConnectorIds=ae.state.activeConnectorIds,this.unsubscribe.push(j.subscribeChainProp("accountState",e=>{this.address=oe.getPlainAddress(e?.caipAddress),this.caipAddress=e?.caipAddress,this.balance=e?.balance,this.balanceSymbol=e?.balanceSymbol,this.profileName=e?.profileName,this.profileImage=e?.profileImage}),X.subscribeKey("features",e=>this.features=e),X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e),ae.subscribeKey("activeConnectorIds",e=>{this.activeConnectorIds=e}),j.subscribeKey("activeChain",e=>this.namespace=e),j.subscribeKey("activeCaipNetwork",e=>{e?.chainNamespace&&(this.namespace=e?.chainNamespace)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!this.caipAddress||!this.namespace)return null;const e=this.activeConnectorIds[this.namespace],n=e?ae.getConnectorById(e):void 0,r=en.getConnectorImage(n),{value:i,decimals:s,symbol:o}=oe.parseBalance(this.balance,this.balanceSymbol);return $`<wui-flex
        flexDirection="column"
        .padding=${["0","5","4","5"]}
        alignItems="center"
        gap="3"
      >
        <wui-avatar
          alt=${le(this.caipAddress)}
          address=${le(oe.getPlainAddress(this.caipAddress))}
          imageSrc=${le(this.profileImage===null?void 0:this.profileImage)}
          data-testid="single-account-avatar"
        ></wui-avatar>
        <wui-wallet-switch
          profileName=${this.profileName}
          address=${this.address}
          imageSrc=${r}
          alt=${n?.name}
          @click=${this.onGoToProfileWalletsView.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>
        <div class="balance-container">
          <wui-text variant="h3-regular" color="primary">${i}</wui-text>
          <wui-text variant="h3-regular" color="secondary">.${s}</wui-text>
          <wui-text variant="h6-medium" color="primary" class="symbol">${o}</wui-text>
        </div>
        ${this.explorerBtnTemplate()}
      </wui-flex>

      <wui-flex flexDirection="column" gap="2" .padding=${["0","3","3","3"]}>
        ${this.authCardTemplate()} <w3m-account-auth-button></w3m-account-auth-button>
        ${this.orderedFeaturesTemplate()} ${this.activityTemplate()}
        <wui-list-item
          .rounded=${!0}
          icon="power"
          iconColor="error"
          ?chevron=${!1}
          .loading=${this.disconnecting}
          .rightIcon=${!1}
          @click=${this.onDisconnect.bind(this)}
          data-testid="disconnect-button"
        >
          <wui-text variant="lg-regular" color="primary">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>`}fundWalletTemplate(){if(!this.namespace)return null;const e=yt.ONRAMP_SUPPORTED_CHAIN_NAMESPACES.includes(this.namespace),n=!!this.features?.receive,r=this.remoteFeatures?.onramp&&e,i=Wt.isPayWithExchangeEnabled();return!r&&!n&&!i?null:$`
      <wui-list-item
        .rounded=${!0}
        data-testid="w3m-account-default-fund-wallet-button"
        iconVariant="blue"
        icon="dollar"
        ?chevron=${!0}
        @click=${this.handleClickFundWallet.bind(this)}
      >
        <wui-text variant="lg-regular" color="primary">Fund wallet</wui-text>
      </wui-list-item>
    `}orderedFeaturesTemplate(){return(this.features?.walletFeaturesOrder||yt.DEFAULT_FEATURES.walletFeaturesOrder).map(n=>{switch(n){case"onramp":return this.fundWalletTemplate();case"swaps":return this.swapsTemplate();case"send":return this.sendTemplate();default:return null}})}activityTemplate(){return this.namespace&&this.remoteFeatures?.activity&&yt.ACTIVITY_ENABLED_CHAIN_NAMESPACES.includes(this.namespace)?$` <wui-list-item
          .rounded=${!0}
          icon="clock"
          ?chevron=${!0}
          @click=${this.onTransactions.bind(this)}
          data-testid="w3m-account-default-activity-button"
        >
          <wui-text variant="lg-regular" color="primary">Activity</wui-text>
        </wui-list-item>`:null}swapsTemplate(){const e=this.remoteFeatures?.swaps,n=j.state.activeChain===ne.CHAIN.EVM;return!e||!n?null:$`
      <wui-list-item
        .rounded=${!0}
        icon="recycleHorizontal"
        ?chevron=${!0}
        @click=${this.handleClickSwap.bind(this)}
        data-testid="w3m-account-default-swaps-button"
      >
        <wui-text variant="lg-regular" color="primary">Swap</wui-text>
      </wui-list-item>
    `}sendTemplate(){const e=this.features?.send,n=j.state.activeChain;if(!n)throw new Error("SendController:sendTemplate - namespace is required");const r=yt.SEND_SUPPORTED_NAMESPACES.includes(n);return!e||!r?null:$`
      <wui-list-item
        .rounded=${!0}
        icon="send"
        ?chevron=${!0}
        @click=${this.handleClickSend.bind(this)}
        data-testid="w3m-account-default-send-button"
      >
        <wui-text variant="lg-regular" color="primary">Send</wui-text>
      </wui-list-item>
    `}authCardTemplate(){const e=j.state.activeChain;if(!e)throw new Error("AuthCardTemplate:authCardTemplate - namespace is required");const n=ae.getConnectorId(e),r=ae.getAuthConnector(),{origin:i}=location;return!r||n!==ne.CONNECTOR_ID.AUTH||i.includes(yt.SECURE_SITE)?null:$`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}handleClickFundWallet(){Z.push("FundWallet")}handleClickSwap(){Z.push("Swap")}handleClickSend(){Z.push("WalletSend")}explorerBtnTemplate(){return j.getAccountData()?.addressExplorerUrl?$`
      <wui-button size="md" variant="accent-primary" @click=${this.onExplorer.bind(this)}>
        <wui-icon size="sm" color="inherit" slot="iconLeft" name="compass"></wui-icon>
        Block Explorer
        <wui-icon size="sm" color="inherit" slot="iconRight" name="externalLink"></wui-icon>
      </wui-button>
    `:null}onTransactions(){Ce.sendEvent({type:"track",event:"CLICK_TRANSACTIONS",properties:{isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),Z.push("Transactions")}async onDisconnect(){try{this.disconnecting=!0;const n=pe.getConnections(this.namespace).length>0,r=this.namespace&&ae.state.activeConnectorIds[this.namespace],i=this.remoteFeatures?.multiWallet;await pe.disconnect(i?{id:r,namespace:this.namespace}:{}),n&&i&&(Z.push("ProfileWallets"),Ue.showSuccess("Wallet deleted"))}catch{Ce.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),Ue.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onExplorer(){const e=j.getAccountData()?.addressExplorerUrl;e&&oe.openHref(e,"_blank")}onGoToUpgradeView(){Ce.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),Z.push("UpgradeEmailWallet")}onGoToProfileWalletsView(){Z.push("ProfileWallets")}};Ta.styles=xXe;Sl([W()],Ta.prototype,"caipAddress",void 0);Sl([W()],Ta.prototype,"address",void 0);Sl([W()],Ta.prototype,"profileImage",void 0);Sl([W()],Ta.prototype,"profileName",void 0);Sl([W()],Ta.prototype,"disconnecting",void 0);Sl([W()],Ta.prototype,"balance",void 0);Sl([W()],Ta.prototype,"balanceSymbol",void 0);Sl([W()],Ta.prototype,"features",void 0);Sl([W()],Ta.prototype,"remoteFeatures",void 0);Sl([W()],Ta.prototype,"namespace",void 0);Sl([W()],Ta.prototype,"activeConnectorIds",void 0);Ta=Sl([ie("w3m-account-default-widget")],Ta);const AXe=ve`
  span {
    font-weight: 500;
    font-size: 38px;
    color: ${({tokens:t})=>t.theme.textPrimary};
    line-height: 38px;
    letter-spacing: -2%;
    text-align: center;
    font-family: var(--apkt-fontFamily-regular);
  }

  .pennies {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }
`;var bM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let AC=class extends Q{constructor(){super(...arguments),this.dollars="0",this.pennies="00"}render(){return $`<span>$${this.dollars}<span class="pennies">.${this.pennies}</span></span>`}};AC.styles=[st,AXe];bM([L()],AC.prototype,"dollars",void 0);bM([L()],AC.prototype,"pennies",void 0);AC=bM([ie("wui-balance")],AC);const kXe=ve`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
  }

  /* -- Variants --------------------------------------------------------- */
  :host([data-variant='fill']) {
    background-color: ${({colors:t})=>t.neutrals100};
  }

  :host([data-variant='shade']) {
    background-color: ${({colors:t})=>t.neutrals900};
  }

  :host([data-variant='fill']) > wui-text {
    color: ${({colors:t})=>t.black};
  }

  :host([data-variant='shade']) > wui-text {
    color: ${({colors:t})=>t.white};
  }

  :host([data-variant='fill']) > wui-icon {
    color: ${({colors:t})=>t.neutrals100};
  }

  :host([data-variant='shade']) > wui-icon {
    color: ${({colors:t})=>t.neutrals900};
  }

  /* -- Sizes --------------------------------------------------------- */
  :host([data-size='sm']) {
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-size='md']) {
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  /* -- Placements --------------------------------------------------------- */
  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var b4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const $Xe={sm:"sm-regular",md:"md-regular"};let g0=class extends Q{constructor(){super(...arguments),this.placement="top",this.variant="fill",this.size="md",this.message=""}render(){return this.dataset.variant=this.variant,this.dataset.size=this.size,$`<wui-icon data-placement=${this.placement} size="inherit" name="cursor"></wui-icon>
      <wui-text variant=${$Xe[this.size]}>${this.message}</wui-text>`}};g0.styles=[st,Jt,kXe];b4([L()],g0.prototype,"placement",void 0);b4([L()],g0.prototype,"variant",void 0);b4([L()],g0.prototype,"size",void 0);b4([L()],g0.prototype,"message",void 0);g0=b4([ie("wui-tooltip")],g0);const TXe=Be`
  :host {
    width: 100%;
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  :host::-webkit-scrollbar {
    display: none;
  }
`;var NXe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let e7=class extends Q{render(){return $`<w3m-activity-list page="account"></w3m-activity-list>`}};e7.styles=TXe;e7=NXe([ie("w3m-account-activity-widget")],e7);const OXe=ve`
  :host {
    width: 100%;
  }

  button {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: ${({spacing:t})=>t[4]};
    padding: ${({spacing:t})=>t[4]};
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    max-width: 174px;
  }

  .tag-container {
    width: fit-content;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }
`;var r2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ng=class extends Q{constructor(){super(...arguments),this.icon="card",this.text="",this.description="",this.tag=void 0,this.disabled=!1}render(){return $`
      <button ?disabled=${this.disabled}>
        <wui-flex alignItems="center" gap="3">
          <wui-icon-box padding="2" color="secondary" icon=${this.icon} size="lg"></wui-icon-box>
          <wui-flex flexDirection="column" gap="1">
            <wui-text variant="md-medium" color="primary">${this.text}</wui-text>
            ${this.description?$`<wui-text variant="md-regular" color="secondary">
                  ${this.description}</wui-text
                >`:null}
          </wui-flex>
        </wui-flex>

        <wui-flex class="tag-container" alignItems="center" gap="1" justifyContent="flex-end">
          ${this.tag?$`<wui-tag tagType="main" size="sm">${this.tag}</wui-tag>`:null}
          <wui-icon size="md" name="chevronRight" color="default"></wui-icon>
        </wui-flex>
      </button>
    `}};Ng.styles=[st,Jt,OXe];r2([L()],Ng.prototype,"icon",void 0);r2([L()],Ng.prototype,"text",void 0);r2([L()],Ng.prototype,"description",void 0);r2([L()],Ng.prototype,"tag",void 0);r2([L({type:Boolean})],Ng.prototype,"disabled",void 0);Ng=r2([ie("wui-list-description")],Ng);const PXe=Be`
  :host {
    width: 100%;
  }

  wui-flex {
    width: 100%;
  }

  .contentContainer {
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }
`;var vM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let kC=class extends Q{constructor(){super(),this.unsubscribe=[],this.tokenBalance=j.getAccountData()?.tokenBalance,this.remoteFeatures=X.state.remoteFeatures,this.unsubscribe.push(j.subscribeChainProp("accountState",e=>{this.tokenBalance=e?.tokenBalance}),X.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`${this.tokenTemplate()}`}tokenTemplate(){return this.tokenBalance&&this.tokenBalance?.length>0?$`<wui-flex class="contentContainer" flexDirection="column" gap="2">
        ${this.tokenItemTemplate()}
      </wui-flex>`:$` <wui-flex flexDirection="column">
      ${this.onRampTemplate()}
      <wui-list-description
        @click=${this.onReceiveClick.bind(this)}
        text="Receive funds"
        description="Scan the QR code and receive funds"
        icon="qrCode"
        iconColor="fg-200"
        iconBackgroundColor="fg-200"
        data-testid="w3m-account-receive-button"
      ></wui-list-description
    ></wui-flex>`}onRampTemplate(){return this.remoteFeatures?.onramp?$`<wui-list-description
        @click=${this.onBuyClick.bind(this)}
        text="Buy Crypto"
        description="Easy with card or bank account"
        icon="card"
        iconColor="success-100"
        iconBackgroundColor="success-100"
        tag="popular"
        data-testid="w3m-account-onramp-button"
      ></wui-list-description>`:$``}tokenItemTemplate(){return this.tokenBalance?.map(e=>$`<wui-list-token
          tokenName=${e.name}
          tokenImageUrl=${e.iconUrl}
          tokenAmount=${e.quantity.numeric}
          tokenValue=${e.value}
          tokenCurrency=${e.symbol}
        ></wui-list-token>`)}onReceiveClick(){Z.push("WalletReceive")}onBuyClick(){Ce.sendEvent({type:"track",event:"SELECT_BUY_CRYPTO",properties:{isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),Z.push("OnRampProviders")}};kC.styles=PXe;vM([W()],kC.prototype,"tokenBalance",void 0);vM([W()],kC.prototype,"remoteFeatures",void 0);kC=vM([ie("w3m-account-tokens-widget")],kC);const RXe=ve`
  wui-flex {
    width: 100%;
  }

  wui-promo {
    position: absolute;
    top: -32px;
  }

  wui-profile-button {
    margin-top: calc(-1 * ${({spacing:t})=>t[4]});
  }

  wui-promo + wui-profile-button {
    margin-top: ${({spacing:t})=>t[4]};
  }

  wui-tabs {
    width: 100%;
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  .contentContainer > .textContent {
    width: 65%;
  }
`;var Lu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _c=class extends Q{constructor(){super(...arguments),this.unsubscribe=[],this.network=j.state.activeCaipNetwork,this.profileName=j.getAccountData()?.profileName,this.address=j.getAccountData()?.address,this.currentTab=j.getAccountData()?.currentTab,this.tokenBalance=j.getAccountData()?.tokenBalance,this.features=X.state.features,this.namespace=j.state.activeChain,this.activeConnectorIds=ae.state.activeConnectorIds,this.remoteFeatures=X.state.remoteFeatures}firstUpdated(){j.fetchTokenBalance(),this.unsubscribe.push(j.subscribeChainProp("accountState",e=>{e?.address?(this.address=e.address,this.profileName=e.profileName,this.currentTab=e.currentTab,this.tokenBalance=e.tokenBalance):Ke.close()}),ae.subscribeKey("activeConnectorIds",e=>{this.activeConnectorIds=e}),j.subscribeKey("activeChain",e=>this.namespace=e),j.subscribeKey("activeCaipNetwork",e=>this.network=e),X.subscribeKey("features",e=>this.features=e),X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e)),this.watchSwapValues()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),clearInterval(this.watchTokenBalance)}render(){if(!this.address)throw new Error("w3m-account-features-widget: No account provided");if(!this.namespace)return null;const e=this.activeConnectorIds[this.namespace],n=e?ae.getConnectorById(e):void 0,{icon:r,iconSize:i}=this.getAuthData();return $`<wui-flex
      flexDirection="column"
      .padding=${["0","3","4","3"]}
      alignItems="center"
      gap="4"
      data-testid="w3m-account-wallet-features-widget"
    >
      <wui-flex flexDirection="column" justifyContent="center" alignItems="center" gap="2">
        <wui-wallet-switch
          profileName=${this.profileName}
          address=${this.address}
          icon=${r}
          iconSize=${i}
          alt=${n?.name}
          @click=${this.onGoToProfileWalletsView.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>

        ${this.tokenBalanceTemplate()}
      </wui-flex>
      ${this.orderedWalletFeatures()} ${this.tabsTemplate()} ${this.listContentTemplate()}
    </wui-flex>`}orderedWalletFeatures(){const e=this.features?.walletFeaturesOrder||yt.DEFAULT_FEATURES.walletFeaturesOrder;if(e.every(s=>s==="send"||s==="receive"?!this.features?.[s]:s==="swaps"||s==="onramp"?!this.remoteFeatures?.[s]:!0))return null;const r=e.map(s=>s==="receive"||s==="onramp"?"fund":s),i=[...new Set(r)];return $`<wui-flex gap="2">
      ${i.map(s=>{switch(s){case"fund":return this.fundWalletTemplate();case"swaps":return this.swapsTemplate();case"send":return this.sendTemplate();default:return null}})}
    </wui-flex>`}fundWalletTemplate(){if(!this.namespace)return null;const e=yt.ONRAMP_SUPPORTED_CHAIN_NAMESPACES.includes(this.namespace),n=this.features?.receive,r=this.remoteFeatures?.onramp&&e,i=Wt.isPayWithExchangeEnabled();return!r&&!n&&!i?null:$`
      <w3m-tooltip-trigger text="Fund wallet">
        <wui-button
          data-testid="wallet-features-fund-wallet-button"
          @click=${this.onFundWalletClick.bind(this)}
          variant="accent-secondary"
          size="lg"
          fullWidth
        >
          <wui-icon name="dollar"></wui-icon>
        </wui-button>
      </w3m-tooltip-trigger>
    `}swapsTemplate(){const e=this.remoteFeatures?.swaps,n=j.state.activeChain===ne.CHAIN.EVM;return!e||!n?null:$`
      <w3m-tooltip-trigger text="Swap">
        <wui-button
          fullWidth
          data-testid="wallet-features-swaps-button"
          @click=${this.onSwapClick.bind(this)}
          variant="accent-secondary"
          size="lg"
        >
          <wui-icon name="recycleHorizontal"></wui-icon>
        </wui-button>
      </w3m-tooltip-trigger>
    `}sendTemplate(){const e=this.features?.send,n=j.state.activeChain,r=yt.SEND_SUPPORTED_NAMESPACES.includes(n);return!e||!r?null:$`
      <w3m-tooltip-trigger text="Send">
        <wui-button
          fullWidth
          data-testid="wallet-features-send-button"
          @click=${this.onSendClick.bind(this)}
          variant="accent-secondary"
          size="lg"
        >
          <wui-icon name="send"></wui-icon>
        </wui-button>
      </w3m-tooltip-trigger>
    `}watchSwapValues(){this.watchTokenBalance=setInterval(()=>j.fetchTokenBalance(e=>this.onTokenBalanceError(e)),1e4)}onTokenBalanceError(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ne.HTTP_STATUS_CODES.SERVICE_UNAVAILABLE&&clearInterval(this.watchTokenBalance)}listContentTemplate(){return this.currentTab===0?$`<w3m-account-tokens-widget></w3m-account-tokens-widget>`:this.currentTab===1?$`<w3m-account-activity-widget></w3m-account-activity-widget>`:$`<w3m-account-tokens-widget></w3m-account-tokens-widget>`}tokenBalanceTemplate(){if(this.tokenBalance&&this.tokenBalance?.length>=0){const e=oe.calculateBalance(this.tokenBalance),{dollars:n="0",pennies:r="00"}=oe.formatTokenBalance(e);return $`<wui-balance dollars=${n} pennies=${r}></wui-balance>`}return $`<wui-balance dollars="0" pennies="00"></wui-balance>`}tabsTemplate(){const e=bu.getTabsByNamespace(j.state.activeChain);return e.length===0?null:$`<wui-tabs
      .onTabChange=${this.onTabChange.bind(this)}
      .activeTab=${this.currentTab}
      .tabs=${e}
    ></wui-tabs>`}onTabChange(e){j.setAccountProp("currentTab",e,this.namespace)}onFundWalletClick(){Z.push("FundWallet")}onSwapClick(){this.network?.caipNetworkId&&!yt.SWAP_SUPPORTED_NETWORKS.includes(this.network?.caipNetworkId)?Z.push("UnsupportedChain",{swapUnsupportedChain:!0}):(Ce.sendEvent({type:"track",event:"OPEN_SWAP",properties:{network:this.network?.caipNetworkId||"",isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),Z.push("Swap"))}getAuthData(){const e=be.getConnectedSocialProvider(),n=be.getConnectedSocialUsername(),i=ae.getAuthConnector()?.provider.getEmail()??"";return{name:ol.getAuthName({email:i,socialUsername:n,socialProvider:e}),icon:e??"mail",iconSize:e?"xl":"md"}}onGoToProfileWalletsView(){Z.push("ProfileWallets")}onSendClick(){Ce.sendEvent({type:"track",event:"OPEN_SEND",properties:{network:this.network?.caipNetworkId||"",isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}}),Z.push("WalletSend")}};_c.styles=RXe;Lu([W()],_c.prototype,"watchTokenBalance",void 0);Lu([W()],_c.prototype,"network",void 0);Lu([W()],_c.prototype,"profileName",void 0);Lu([W()],_c.prototype,"address",void 0);Lu([W()],_c.prototype,"currentTab",void 0);Lu([W()],_c.prototype,"tokenBalance",void 0);Lu([W()],_c.prototype,"features",void 0);Lu([W()],_c.prototype,"namespace",void 0);Lu([W()],_c.prototype,"activeConnectorIds",void 0);Lu([W()],_c.prototype,"remoteFeatures",void 0);_c=Lu([ie("w3m-account-wallet-features-widget")],_c);var woe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Px=class extends Q{constructor(){super(),this.unsubscribe=[],this.namespace=j.state.activeChain,this.unsubscribe.push(j.subscribeKey("activeChain",e=>{this.namespace=e}))}render(){if(!this.namespace)return null;const e=ae.getConnectorId(this.namespace),n=ae.getAuthConnector();return $`
      ${n&&e===ne.CONNECTOR_ID.AUTH?this.walletFeaturesTemplate():this.defaultTemplate()}
    `}walletFeaturesTemplate(){return $`<w3m-account-wallet-features-widget></w3m-account-wallet-features-widget>`}defaultTemplate(){return $`<w3m-account-default-widget></w3m-account-default-widget>`}};woe([W()],Px.prototype,"namespace",void 0);Px=woe([ie("w3m-account-view")],Px);const DXe=ve`
  wui-image {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  wui-image,
  .icon-box {
    width: 32px;
    height: 32px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  wui-icon:not(.custom-icon, .icon-badge) {
    cursor: pointer;
  }

  .icon-box {
    position: relative;
    border-radius: ${({borderRadius:t})=>t[2]};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  .icon-badge {
    position: absolute;
    top: 18px;
    left: 23px;
    z-index: 3;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: 50%;
    padding: ${({spacing:t})=>t["01"]};
  }

  .icon-badge {
    width: 8px;
    height: 8px;
  }
`;var Ma=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let vo=class extends Q{constructor(){super(...arguments),this.address="",this.profileName="",this.content=[],this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.iconBadge=void 0,this.iconBadgeSize="md",this.buttonVariant="neutral-primary",this.enableMoreButton=!1,this.charsStart=4,this.charsEnd=6}render(){return $`
      <wui-flex flexDirection="column" rowgap="2">
        ${this.topTemplate()} ${this.bottomTemplate()}
      </wui-flex>
    `}topTemplate(){return $`
      <wui-flex alignItems="flex-start" justifyContent="space-between">
        ${this.imageOrIconTemplate()}
        <wui-icon-link
          variant="secondary"
          size="md"
          icon="copy"
          @click=${this.dispatchCopyEvent}
        ></wui-icon-link>
        <wui-icon-link
          variant="secondary"
          size="md"
          icon="externalLink"
          @click=${this.dispatchExternalLinkEvent}
        ></wui-icon-link>
        ${this.enableMoreButton?$`<wui-icon-link
              variant="secondary"
              size="md"
              icon="threeDots"
              @click=${this.dispatchMoreButtonEvent}
              data-testid="wui-active-profile-wallet-item-more-button"
            ></wui-icon-link>`:null}
      </wui-flex>
    `}bottomTemplate(){return $` <wui-flex flexDirection="column">${this.contentTemplate()}</wui-flex> `}imageOrIconTemplate(){return this.icon?$`
        <wui-flex flexGrow="1" alignItems="center">
          <wui-flex alignItems="center" justifyContent="center" class="icon-box">
            <wui-icon size="lg" color="default" name=${this.icon} class="custom-icon"></wui-icon>

            ${this.iconBadge?$`<wui-icon
                  color="accent-primary"
                  size="inherit"
                  name=${this.iconBadge}
                  class="icon-badge"
                ></wui-icon>`:null}
          </wui-flex>
        </wui-flex>
      `:$`
      <wui-flex flexGrow="1" alignItems="center">
        <wui-image objectFit="contain" src=${this.imageSrc} alt=${this.alt}></wui-image>
      </wui-flex>
    `}contentTemplate(){return this.content.length===0?null:$`
      <wui-flex flexDirection="column" rowgap="3">
        ${this.content.map(e=>this.labelAndTagTemplate(e))}
      </wui-flex>
    `}labelAndTagTemplate({address:e,profileName:n,label:r,description:i,enableButton:s,buttonType:o,buttonLabel:a,buttonVariant:c,tagVariant:l,tagLabel:u,alignItems:d="flex-end"}){return $`
      <wui-flex justifyContent="space-between" alignItems=${d} columngap="1">
        <wui-flex flexDirection="column" rowgap="01">
          ${r?$`<wui-text variant="sm-medium" color="secondary">${r}</wui-text>`:null}

          <wui-flex alignItems="center" columngap="1">
            <wui-text variant="md-regular" color="primary">
              ${sn.getTruncateString({string:n||e,charsStart:n?16:this.charsStart,charsEnd:n?0:this.charsEnd,truncate:n?"end":"middle"})}
            </wui-text>

            ${l&&u?$`<wui-tag variant=${l} size="sm">${u}</wui-tag>`:null}
          </wui-flex>

          ${i?$`<wui-text variant="sm-regular" color="secondary">${i}</wui-text>`:null}
        </wui-flex>

        ${s?this.buttonTemplate({buttonType:o,buttonLabel:a,buttonVariant:c}):null}
      </wui-flex>
    `}buttonTemplate({buttonType:e,buttonLabel:n,buttonVariant:r}){return $`
      <wui-button
        size="sm"
        variant=${r}
        @click=${e==="disconnect"?this.dispatchDisconnectEvent.bind(this):this.dispatchSwitchEvent.bind(this)}
        data-testid=${e==="disconnect"?"wui-active-profile-wallet-item-disconnect-button":"wui-active-profile-wallet-item-switch-button"}
      >
        ${n}
      </wui-button>
    `}dispatchDisconnectEvent(){this.dispatchEvent(new CustomEvent("disconnect",{bubbles:!0,composed:!0}))}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("switch",{bubbles:!0,composed:!0}))}dispatchExternalLinkEvent(){this.dispatchEvent(new CustomEvent("externalLink",{bubbles:!0,composed:!0}))}dispatchMoreButtonEvent(){this.dispatchEvent(new CustomEvent("more",{bubbles:!0,composed:!0}))}dispatchCopyEvent(){this.dispatchEvent(new CustomEvent("copy",{bubbles:!0,composed:!0}))}};vo.styles=[st,Jt,DXe];Ma([L()],vo.prototype,"address",void 0);Ma([L()],vo.prototype,"profileName",void 0);Ma([L({type:Array})],vo.prototype,"content",void 0);Ma([L()],vo.prototype,"alt",void 0);Ma([L()],vo.prototype,"imageSrc",void 0);Ma([L()],vo.prototype,"icon",void 0);Ma([L()],vo.prototype,"iconSize",void 0);Ma([L()],vo.prototype,"iconBadge",void 0);Ma([L()],vo.prototype,"iconBadgeSize",void 0);Ma([L()],vo.prototype,"buttonVariant",void 0);Ma([L({type:Boolean})],vo.prototype,"enableMoreButton",void 0);Ma([L({type:Number})],vo.prototype,"charsStart",void 0);Ma([L({type:Number})],vo.prototype,"charsEnd",void 0);vo=Ma([ie("wui-active-profile-wallet-item")],vo);const UXe=ve`
  wui-image,
  .icon-box {
    width: 32px;
    height: 32px;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  .right-icon {
    cursor: pointer;
  }

  .icon-box {
    position: relative;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  .icon-badge {
    position: absolute;
    top: 18px;
    left: 23px;
    z-index: 3;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: 50%;
    padding: ${({spacing:t})=>t["01"]};
  }

  .icon-badge {
    width: 8px;
    height: 8px;
  }
`;var So=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ss=class extends Q{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.buttonLabel="",this.buttonVariant="accent-primary",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.iconBadgeSize="md",this.rightIcon="signOut",this.rightIconSize="md",this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return $`
      <wui-flex alignItems="center" columngap="2">
        ${this.imageOrIconTemplate()} ${this.labelAndDescriptionTemplate()}
        ${this.buttonActionTemplate()}
      </wui-flex>
    `}imageOrIconTemplate(){return this.icon?$`
        <wui-flex alignItems="center" justifyContent="center" class="icon-box">
          <wui-flex alignItems="center" justifyContent="center" class="icon-box">
            <wui-icon size="lg" color="default" name=${this.icon} class="custom-icon"></wui-icon>

            ${this.iconBadge?$`<wui-icon
                  color="default"
                  size="inherit"
                  name=${this.iconBadge}
                  class="icon-badge"
                ></wui-icon>`:null}
          </wui-flex>
        </wui-flex>
      `:$`<wui-image objectFit="contain" src=${this.imageSrc} alt=${this.alt}></wui-image>`}labelAndDescriptionTemplate(){return $`
      <wui-flex
        flexDirection="column"
        flexGrow="1"
        justifyContent="flex-start"
        alignItems="flex-start"
      >
        <wui-text variant="lg-regular" color="primary">
          ${sn.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
        </wui-text>
      </wui-flex>
    `}buttonActionTemplate(){return $`
      <wui-flex columngap="1" alignItems="center" justifyContent="center">
        <wui-button
          size="sm"
          variant=${this.buttonVariant}
          .loading=${this.loading}
          @click=${this.handleButtonClick}
          data-testid="wui-inactive-profile-wallet-item-button"
        >
          ${this.buttonLabel}
        </wui-button>

        <wui-icon-link
          variant="secondary"
          size="md"
          icon=${le(this.rightIcon)}
          class="right-icon"
          @click=${this.handleIconClick}
        ></wui-icon-link>
      </wui-flex>
    `}handleButtonClick(){this.dispatchEvent(new CustomEvent("buttonClick",{bubbles:!0,composed:!0}))}handleIconClick(){this.dispatchEvent(new CustomEvent("iconClick",{bubbles:!0,composed:!0}))}};Ss.styles=[st,Jt,UXe];So([L()],Ss.prototype,"address",void 0);So([L()],Ss.prototype,"profileName",void 0);So([L()],Ss.prototype,"alt",void 0);So([L()],Ss.prototype,"buttonLabel",void 0);So([L()],Ss.prototype,"buttonVariant",void 0);So([L()],Ss.prototype,"imageSrc",void 0);So([L()],Ss.prototype,"icon",void 0);So([L()],Ss.prototype,"iconSize",void 0);So([L()],Ss.prototype,"iconBadge",void 0);So([L()],Ss.prototype,"iconBadgeSize",void 0);So([L()],Ss.prototype,"rightIcon",void 0);So([L()],Ss.prototype,"rightIconSize",void 0);So([L({type:Boolean})],Ss.prototype,"loading",void 0);So([L({type:Number})],Ss.prototype,"charsStart",void 0);So([L({type:Number})],Ss.prototype,"charsEnd",void 0);Ss=So([ie("wui-inactive-profile-wallet-item")],Ss);const uN={getAuthData(t){const e=t.connectorId===ne.CONNECTOR_ID.AUTH;if(!e)return{isAuth:!1,icon:void 0,iconSize:void 0,name:void 0};const n=t?.auth?.name??be.getConnectedSocialProvider(),r=t?.auth?.username??be.getConnectedSocialUsername(),s=ae.getAuthConnector()?.provider.getEmail()??"";return{isAuth:!0,icon:n??"mail",iconSize:n?"xl":"md",name:e?ol.getAuthName({email:s,socialUsername:r,socialProvider:n}):void 0}}},MXe=ve`
  :host {
    --connect-scroll--top-opacity: 0;
    --connect-scroll--bottom-opacity: 0;
  }

  .balance-amount {
    flex: 1;
  }

  .wallet-list {
    scrollbar-width: none;
    overflow-y: scroll;
    overflow-x: hidden;
    transition: opacity ${({easings:t})=>t["ease-out-power-1"]}
      ${({durations:t})=>t.md};
    will-change: opacity;
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, calc(1 - var(--connect-scroll--top-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--connect-scroll--top-opacity))) 1px,
      black 40px,
      black calc(100% - 40px),
      rgba(155, 155, 155, calc(1 - var(--connect-scroll--bottom-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--connect-scroll--bottom-opacity))) 100%
    );
  }

  .active-wallets {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  .active-wallets-box {
    height: 330px;
  }

  .empty-wallet-list-box {
    height: 400px;
  }

  .empty-box {
    width: 100%;
    padding: ${({spacing:t})=>t[4]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-separator {
    margin: ${({spacing:t})=>t[2]} 0 ${({spacing:t})=>t[2]} 0;
  }

  .active-connection {
    padding: ${({spacing:t})=>t[2]};
  }

  .recent-connection {
    padding: ${({spacing:t})=>t[2]} 0 ${({spacing:t})=>t[2]} 0;
  }

  @media (max-width: 430px) {
    .active-wallets-box,
    .empty-wallet-list-box {
      height: auto;
      max-height: clamp(360px, 470px, 80vh);
    }
  }
`;var Tc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Bc={ADDRESS_DISPLAY:{START:4,END:6},BADGE:{SIZE:"md",ICON:"lightbulb"},SCROLL_THRESHOLD:50,OPACITY_RANGE:[0,1]},n1={eip155:"ethereum",solana:"solana",bip122:"bitcoin",ton:"ton"},LXe=[{namespace:"eip155",icon:n1.eip155,label:"EVM"},{namespace:"solana",icon:n1.solana,label:"Solana"},{namespace:"bip122",icon:n1.bip122,label:"Bitcoin"},{namespace:"ton",icon:n1.ton,label:"Ton"}],jXe={eip155:{title:"Add EVM Wallet",description:"Add your first EVM wallet"},solana:{title:"Add Solana Wallet",description:"Add your first Solana wallet"},bip122:{title:"Add Bitcoin Wallet",description:"Add your first Bitcoin wallet"},ton:{title:"Add TON Wallet",description:"Add your first TON wallet"}};let Eo=class extends Q{constructor(){super(),this.unsubscribers=[],this.currentTab=0,this.namespace=j.state.activeChain,this.namespaces=Array.from(j.state.chains.keys()),this.caipAddress=void 0,this.profileName=void 0,this.activeConnectorIds=ae.state.activeConnectorIds,this.lastSelectedAddress="",this.lastSelectedConnectorId="",this.isSwitching=!1,this.caipNetwork=j.state.activeCaipNetwork,this.user=j.getAccountData()?.user,this.remoteFeatures=X.state.remoteFeatures,this.currentTab=this.namespace?this.namespaces.indexOf(this.namespace):0,this.caipAddress=j.getAccountData(this.namespace)?.caipAddress,this.profileName=j.getAccountData(this.namespace)?.profileName,this.unsubscribers.push(pe.subscribeKey("connections",()=>this.onConnectionsChange()),pe.subscribeKey("recentConnections",()=>this.requestUpdate()),ae.subscribeKey("activeConnectorIds",e=>{this.activeConnectorIds=e}),j.subscribeKey("activeCaipNetwork",e=>this.caipNetwork=e),j.subscribeChainProp("accountState",e=>{this.user=e?.user}),X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e)),this.chainListener=j.subscribeChainProp("accountState",e=>{this.caipAddress=e?.caipAddress,this.profileName=e?.profileName},this.namespace)}disconnectedCallback(){this.unsubscribers.forEach(e=>e()),this.resizeObserver?.disconnect(),this.removeScrollListener(),this.chainListener?.()}firstUpdated(){const e=this.shadowRoot?.querySelector(".wallet-list");if(!e)return;const n=()=>this.updateScrollOpacity(e);requestAnimationFrame(n),e.addEventListener("scroll",n),this.resizeObserver=new ResizeObserver(n),this.resizeObserver.observe(e),n()}render(){const e=this.namespace;if(!e)throw new Error("Namespace is not set");return $`
      <wui-flex flexDirection="column" .padding=${["0","4","4","4"]} gap="4">
        ${this.renderTabs()} ${this.renderHeader(e)} ${this.renderConnections(e)}
        ${this.renderAddConnectionButton(e)}
      </wui-flex>
    `}renderTabs(){const e=LXe.filter(r=>this.namespaces.includes(r.namespace));return e.length>1?$`
        <wui-tabs
          .onTabChange=${r=>this.handleTabChange(r)}
          .activeTab=${this.currentTab}
          .tabs=${e}
        ></wui-tabs>
      `:null}renderHeader(e){const r=this.getActiveConnections(e).flatMap(({accounts:i})=>i).length+(this.caipAddress?1:0);return $`
      <wui-flex alignItems="center" columngap="1">
        <wui-icon
          size="sm"
          name=${n1[e]??n1.eip155}
        ></wui-icon>
        <wui-text color="secondary" variant="lg-regular"
          >${r>1?"Wallets":"Wallet"}</wui-text
        >
        <wui-text
          color="primary"
          variant="lg-regular"
          class="balance-amount"
          data-testid="balance-amount"
        >
          ${r}
        </wui-text>
        <wui-link
          color="secondary"
          variant="secondary"
          @click=${()=>pe.disconnect({namespace:e})}
          ?disabled=${!this.hasAnyConnections(e)}
          data-testid="disconnect-all-button"
        >
          Disconnect All
        </wui-link>
      </wui-flex>
    `}renderConnections(e){const n=this.hasAnyConnections(e);return $`
      <wui-flex flexDirection="column" class=${Q_({"wallet-list":!0,"active-wallets-box":n,"empty-wallet-list-box":!n})} rowgap="3">
        ${n?this.renderActiveConnections(e):this.renderEmptyState(e)}
      </wui-flex>
    `}renderActiveConnections(e){const n=this.getActiveConnections(e),r=this.activeConnectorIds[e],i=this.getPlainAddress();return $`
      ${i||r||n.length>0?$`<wui-flex
            flexDirection="column"
            .padding=${["4","0","4","0"]}
            class="active-wallets"
          >
            ${this.renderActiveProfile(e)} ${this.renderActiveConnectionsList(e)}
          </wui-flex>`:null}
      ${this.renderRecentConnections(e)}
    `}renderActiveProfile(e){const n=this.activeConnectorIds[e];if(!n)return null;const{connections:r}=al.getConnectionsData(e),i=ae.getConnectorById(n),s=en.getConnectorImage(i),o=this.getPlainAddress();if(!o)return null;const a=e===ne.CHAIN.BITCOIN,c=uN.getAuthData({connectorId:n,accounts:[]}),l=this.getActiveConnections(e).flatMap(h=>h.accounts).length>0,u=r.find(h=>h.connectorId===n),d=u?.accounts.filter(h=>!ni.isLowerCaseMatch(h.address,o));return $`
      <wui-flex flexDirection="column" .padding=${["0","4","0","4"]}>
        <wui-active-profile-wallet-item
          address=${o}
          alt=${i?.name}
          .content=${this.getProfileContent({address:o,connections:r,connectorId:n,namespace:e})}
          .charsStart=${Bc.ADDRESS_DISPLAY.START}
          .charsEnd=${Bc.ADDRESS_DISPLAY.END}
          .icon=${c.icon}
          .iconSize=${c.iconSize}
          .iconBadge=${this.isSmartAccount(o)?Bc.BADGE.ICON:void 0}
          .iconBadgeSize=${this.isSmartAccount(o)?Bc.BADGE.SIZE:void 0}
          imageSrc=${s}
          ?enableMoreButton=${c.isAuth}
          @copy=${()=>this.handleCopyAddress(o)}
          @disconnect=${()=>this.handleDisconnect(e,n)}
          @switch=${()=>{a&&u&&d?.[0]&&this.handleSwitchWallet(u,d[0].address,e)}}
          @externalLink=${()=>this.handleExternalLink(o)}
          @more=${()=>this.handleMore()}
          data-testid="wui-active-profile-wallet-item"
        ></wui-active-profile-wallet-item>
        ${l?$`<wui-separator></wui-separator>`:null}
      </wui-flex>
    `}renderActiveConnectionsList(e){const n=this.getActiveConnections(e);return n.length===0?null:$`
      <wui-flex flexDirection="column" .padding=${["0","2","0","2"]}>
        ${this.renderConnectionList(n,!1,e)}
      </wui-flex>
    `}renderRecentConnections(e){const{recentConnections:n}=al.getConnectionsData(e);return n.flatMap(i=>i.accounts).length===0?null:$`
      <wui-flex flexDirection="column" .padding=${["0","2","0","2"]} rowGap="2">
        <wui-text color="secondary" variant="sm-medium" data-testid="recently-connected-text"
          >RECENTLY CONNECTED</wui-text
        >
        <wui-flex flexDirection="column" .padding=${["0","2","0","2"]}>
          ${this.renderConnectionList(n,!0,e)}
        </wui-flex>
      </wui-flex>
    `}renderConnectionList(e,n,r){return e.filter(i=>i.accounts.length>0).map((i,s)=>{const o=ae.getConnectorById(i.connectorId),a=en.getConnectorImage(o)??"",c=uN.getAuthData(i);return i.accounts.map((l,u)=>{const d=s!==0||u!==0,h=this.isAccountLoading(i.connectorId,l.address);return $`
            <wui-flex flexDirection="column">
              ${d?$`<wui-separator></wui-separator>`:null}
              <wui-inactive-profile-wallet-item
                address=${l.address}
                alt=${i.connectorId}
                buttonLabel=${n?"Connect":"Switch"}
                buttonVariant=${n?"neutral-secondary":"accent-secondary"}
                rightIcon=${n?"bin":"power"}
                rightIconSize="sm"
                class=${n?"recent-connection":"active-connection"}
                data-testid=${n?"recent-connection":"active-connection"}
                imageSrc=${a}
                .iconBadge=${this.isSmartAccount(l.address)?Bc.BADGE.ICON:void 0}
                .iconBadgeSize=${this.isSmartAccount(l.address)?Bc.BADGE.SIZE:void 0}
                .icon=${c.icon}
                .iconSize=${c.iconSize}
                .loading=${h}
                .showBalance=${!1}
                .charsStart=${Bc.ADDRESS_DISPLAY.START}
                .charsEnd=${Bc.ADDRESS_DISPLAY.END}
                @buttonClick=${()=>this.handleSwitchWallet(i,l.address,r)}
                @iconClick=${()=>this.handleWalletAction({connection:i,address:l.address,isRecentConnection:n,namespace:r})}
              ></wui-inactive-profile-wallet-item>
            </wui-flex>
          `})})}renderAddConnectionButton(e){if(!this.isMultiWalletEnabled()&&this.caipAddress||!this.hasAnyConnections(e))return null;const{title:n}=this.getChainLabelInfo(e);return $`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="plus"
        iconSize="sm"
        ?chevron=${!0}
        @click=${()=>this.handleAddConnection(e)}
        data-testid="add-connection-button"
      >
        <wui-text variant="md-medium" color="secondary">${n}</wui-text>
      </wui-list-item>
    `}renderEmptyState(e){const{title:n,description:r}=this.getChainLabelInfo(e);return $`
      <wui-flex alignItems="flex-start" class="empty-template" data-testid="empty-template">
        <wui-flex
          flexDirection="column"
          alignItems="center"
          justifyContent="center"
          rowgap="3"
          class="empty-box"
        >
          <wui-icon-box size="xl" icon="wallet" color="secondary"></wui-icon-box>

          <wui-flex flexDirection="column" alignItems="center" justifyContent="center" gap="1">
            <wui-text color="primary" variant="lg-regular" data-testid="empty-state-text"
              >No wallet connected</wui-text
            >
            <wui-text color="secondary" variant="md-regular" data-testid="empty-state-description"
              >${r}</wui-text
            >
          </wui-flex>

          <wui-link
            @click=${()=>this.handleAddConnection(e)}
            data-testid="empty-state-button"
            icon="plus"
          >
            ${n}
          </wui-link>
        </wui-flex>
      </wui-flex>
    `}handleTabChange(e){const n=this.namespaces[e];n&&(this.chainListener?.(),this.currentTab=this.namespaces.indexOf(n),this.namespace=n,this.caipAddress=j.getAccountData(n)?.caipAddress,this.profileName=j.getAccountData(n)?.profileName,this.chainListener=j.subscribeChainProp("accountState",r=>{this.caipAddress=r?.caipAddress},n))}async handleSwitchWallet(e,n,r){try{this.isSwitching=!0,this.lastSelectedConnectorId=e.connectorId,this.lastSelectedAddress=n,this.caipNetwork?.chainNamespace!==r&&e?.caipNetwork&&(ae.setFilterByNamespace(r),await j.switchActiveNetwork(e?.caipNetwork)),await pe.switchConnection({connection:e,address:n,namespace:r,closeModalOnConnect:!1,onChange({hasSwitchedAccount:s,hasSwitchedWallet:o}){o?Ue.showSuccess("Wallet switched"):s&&Ue.showSuccess("Account switched")}})}catch{Ue.showError("Failed to switch wallet")}finally{this.isSwitching=!1}}handleWalletAction(e){const{connection:n,address:r,isRecentConnection:i,namespace:s}=e;i?(be.deleteAddressFromConnection({connectorId:n.connectorId,address:r,namespace:s}),pe.syncStorageConnections(),Ue.showSuccess("Wallet deleted")):this.handleDisconnect(s,n.connectorId)}async handleDisconnect(e,n){try{await pe.disconnect({id:n,namespace:e}),Ue.showSuccess("Wallet disconnected")}catch{Ue.showError("Failed to disconnect wallet")}}handleCopyAddress(e){oe.copyToClopboard(e),Ue.showSuccess("Address copied")}handleMore(){Z.push("AccountSettings")}handleExternalLink(e){const n=this.caipNetwork?.blockExplorers?.default.url;n&&oe.openHref(`${n}/address/${e}`,"_blank")}handleAddConnection(e){ae.setFilterByNamespace(e),Z.push("Connect",{addWalletForNamespace:e})}getChainLabelInfo(e){return jXe[e]??{title:"Add Wallet",description:"Add your first wallet"}}isSmartAccount(e){if(!this.namespace)return!1;const n=this.user?.accounts?.find(r=>r.type==="smartAccount");return n&&e?ni.isLowerCaseMatch(n.address,e):!1}getPlainAddress(){return this.caipAddress?oe.getPlainAddress(this.caipAddress):void 0}getActiveConnections(e){const n=this.activeConnectorIds[e],{connections:r}=al.getConnectionsData(e),[i]=r.filter(c=>ni.isLowerCaseMatch(c.connectorId,n));if(!n)return r;const s=e===ne.CHAIN.BITCOIN,{address:o}=this.caipAddress?Zr.parseCaipAddress(this.caipAddress):{};let a=[...o?[o]:[]];return s&&i&&(a=i.accounts.map(c=>c.address)||[]),al.excludeConnectorAddressFromConnections({connectorId:n,addresses:a,connections:r})}hasAnyConnections(e){const n=this.getActiveConnections(e),{recentConnections:r}=al.getConnectionsData(e);return!!this.caipAddress||n.length>0||r.length>0}isAccountLoading(e,n){return ni.isLowerCaseMatch(this.lastSelectedConnectorId,e)&&ni.isLowerCaseMatch(this.lastSelectedAddress,n)&&this.isSwitching}getProfileContent(e){const{address:n,connections:r,connectorId:i,namespace:s}=e,[o]=r.filter(c=>ni.isLowerCaseMatch(c.connectorId,i));if(s===ne.CHAIN.BITCOIN&&o?.accounts.every(c=>typeof c.type=="string"))return this.getBitcoinProfileContent(o.accounts,n);const a=uN.getAuthData({connectorId:i,accounts:[]});return[{address:n,tagLabel:"Active",tagVariant:"success",enableButton:!0,profileName:this.profileName,buttonType:"disconnect",buttonLabel:"Disconnect",buttonVariant:"neutral-secondary",...a.isAuth?{description:this.isSmartAccount(n)?"Smart Account":"EOA Account"}:{}}]}getBitcoinProfileContent(e,n){const r=e.length>1,i=this.getPlainAddress();return e.map(s=>{const o=ni.isLowerCaseMatch(s.address,i);let a="PAYMENT";return s.type==="ordinal"&&(a="ORDINALS"),{address:s.address,tagLabel:ni.isLowerCaseMatch(s.address,n)?"Active":void 0,tagVariant:ni.isLowerCaseMatch(s.address,n)?"success":void 0,enableButton:!0,...r?{label:a,alignItems:"flex-end",buttonType:o?"disconnect":"switch",buttonLabel:o?"Disconnect":"Switch",buttonVariant:o?"neutral-secondary":"accent-secondary"}:{alignItems:"center",buttonType:"disconnect",buttonLabel:"Disconnect",buttonVariant:"neutral-secondary"}}})}removeScrollListener(){const e=this.shadowRoot?.querySelector(".wallet-list");e&&e.removeEventListener("scroll",()=>this.handleConnectListScroll())}handleConnectListScroll(){const e=this.shadowRoot?.querySelector(".wallet-list");e&&this.updateScrollOpacity(e)}isMultiWalletEnabled(){return!!this.remoteFeatures?.multiWallet}updateScrollOpacity(e){e.style.setProperty("--connect-scroll--top-opacity",Gf.interpolate([0,Bc.SCROLL_THRESHOLD],Bc.OPACITY_RANGE,e.scrollTop).toString()),e.style.setProperty("--connect-scroll--bottom-opacity",Gf.interpolate([0,Bc.SCROLL_THRESHOLD],Bc.OPACITY_RANGE,e.scrollHeight-e.scrollTop-e.offsetHeight).toString())}onConnectionsChange(){if(this.isMultiWalletEnabled()&&this.namespace){const{connections:e}=al.getConnectionsData(this.namespace);e.length===0&&Z.reset("ProfileWallets")}this.requestUpdate()}};Eo.styles=MXe;Tc([W()],Eo.prototype,"currentTab",void 0);Tc([W()],Eo.prototype,"namespace",void 0);Tc([W()],Eo.prototype,"namespaces",void 0);Tc([W()],Eo.prototype,"caipAddress",void 0);Tc([W()],Eo.prototype,"profileName",void 0);Tc([W()],Eo.prototype,"activeConnectorIds",void 0);Tc([W()],Eo.prototype,"lastSelectedAddress",void 0);Tc([W()],Eo.prototype,"lastSelectedConnectorId",void 0);Tc([W()],Eo.prototype,"isSwitching",void 0);Tc([W()],Eo.prototype,"caipNetwork",void 0);Tc([W()],Eo.prototype,"user",void 0);Tc([W()],Eo.prototype,"remoteFeatures",void 0);Eo=Tc([ie("w3m-profile-wallets-view")],Eo);var i2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Og=class extends Q{constructor(){super(),this.unsubscribe=[],this.activeCaipNetwork=j.state.activeCaipNetwork,this.features=X.state.features,this.remoteFeatures=X.state.remoteFeatures,this.exchangesLoading=Wt.state.isLoading,this.exchanges=Wt.state.exchanges,this.unsubscribe.push(X.subscribeKey("features",e=>this.features=e),X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e),j.subscribeKey("activeCaipNetwork",e=>{this.activeCaipNetwork=e,this.setDefaultPaymentAsset()}),Wt.subscribeKey("isLoading",e=>this.exchangesLoading=e),Wt.subscribeKey("exchanges",e=>this.exchanges=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}async firstUpdated(){Wt.isPayWithExchangeSupported()&&(await this.setDefaultPaymentAsset(),await Wt.fetchExchanges())}render(){return $`
      <wui-flex flexDirection="column" .padding=${["1","3","3","3"]} gap="2">
        ${this.onrampTemplate()} ${this.receiveTemplate()} ${this.depositFromExchangeTemplate()}
      </wui-flex>
    `}async setDefaultPaymentAsset(){if(!this.activeCaipNetwork)return;const e=await Wt.getAssetsForNetwork(this.activeCaipNetwork.caipNetworkId),n=e.find(r=>r.metadata.symbol==="USDC")||e[0];n&&Wt.setPaymentAsset(n)}onrampTemplate(){if(!this.activeCaipNetwork)return null;const e=this.remoteFeatures?.onramp,n=yt.ONRAMP_SUPPORTED_CHAIN_NAMESPACES.includes(this.activeCaipNetwork.chainNamespace);return!e||!n?null:$`
      <wui-list-item
        @click=${this.onBuyCrypto.bind(this)}
        icon="card"
        data-testid="wallet-features-onramp-button"
      >
        <wui-text variant="lg-regular" color="primary">Buy crypto</wui-text>
      </wui-list-item>
    `}depositFromExchangeTemplate(){return!this.activeCaipNetwork||!Wt.isPayWithExchangeSupported()?null:$`
      <wui-list-item
        @click=${this.onDepositFromExchange.bind(this)}
        icon="arrowBottomCircle"
        data-testid="wallet-features-deposit-from-exchange-button"
        ?loading=${this.exchangesLoading}
        ?disabled=${this.exchangesLoading||!this.exchanges.length}
      >
        <wui-text variant="lg-regular" color="primary">Deposit from exchange</wui-text>
      </wui-list-item>
    `}receiveTemplate(){return!this.features?.receive?null:$`
      <wui-list-item
        @click=${this.onReceive.bind(this)}
        icon="qrCode"
        data-testid="wallet-features-receive-button"
      >
        <wui-text variant="lg-regular" color="primary">Receive funds</wui-text>
      </wui-list-item>
    `}onBuyCrypto(){Z.push("OnRampProviders")}onReceive(){Z.push("WalletReceive")}onDepositFromExchange(){Wt.reset(),Z.push("PayWithExchange",{redirectView:Z.state.data?.redirectView})}};i2([W()],Og.prototype,"activeCaipNetwork",void 0);i2([W()],Og.prototype,"features",void 0);i2([W()],Og.prototype,"remoteFeatures",void 0);i2([W()],Og.prototype,"exchangesLoading",void 0);i2([W()],Og.prototype,"exchanges",void 0);Og=i2([ie("w3m-fund-wallet-view")],Og);const BXe=ve`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    user-select: none;
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      width ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      height ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: ${({colors:t})=>t.neutrals300};
    border-radius: ${({borderRadius:t})=>t.round};
    border: 1px solid transparent;
    will-change: border;
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      width ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      height ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  span:before {
    content: '';
    position: absolute;
    background-color: ${({colors:t})=>t.white};
    border-radius: 50%;
  }

  /* -- Sizes --------------------------------------------------------- */
  label[data-size='lg'] {
    width: 48px;
    height: 32px;
  }

  label[data-size='md'] {
    width: 40px;
    height: 28px;
  }

  label[data-size='sm'] {
    width: 32px;
    height: 22px;
  }

  label[data-size='lg'] > span:before {
    height: 24px;
    width: 24px;
    left: 4px;
    top: 3px;
  }

  label[data-size='md'] > span:before {
    height: 20px;
    width: 20px;
    left: 4px;
    top: 3px;
  }

  label[data-size='sm'] > span:before {
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
  }

  /* -- Focus states --------------------------------------------------- */
  input:focus-visible:not(:checked) + span,
  input:focus:not(:checked) + span {
    border: 1px solid ${({tokens:t})=>t.core.iconAccentPrimary};
    background-color: ${({tokens:t})=>t.theme.textTertiary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  input:focus-visible:checked + span,
  input:focus:checked + span {
    border: 1px solid ${({tokens:t})=>t.core.iconAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  input:checked + span {
    background-color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  label[data-size='lg'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='md'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='sm'] > input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }

  /* -- Hover states ------------------------------------------------------- */
  label:hover > input:not(:checked):not(:disabled) + span {
    background-color: ${({colors:t})=>t.neutrals400};
  }

  label:hover > input:checked:not(:disabled) + span {
    background-color: ${({colors:t})=>t.accent080};
  }

  /* -- Disabled state --------------------------------------------------- */
  label:has(input:disabled) {
    pointer-events: none;
    user-select: none;
  }

  input:not(:checked):disabled + span {
    background-color: ${({colors:t})=>t.neutrals700};
  }

  input:checked:disabled + span {
    background-color: ${({colors:t})=>t.neutrals700};
  }

  input:not(:checked):disabled + span::before {
    background-color: ${({colors:t})=>t.neutrals400};
  }

  input:checked:disabled + span::before {
    background-color: ${({tokens:t})=>t.theme.textTertiary};
  }
`;var $k=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let tv=class extends Q{constructor(){super(...arguments),this.inputElementRef=mc(),this.checked=!1,this.disabled=!1,this.size="md"}render(){return $`
      <label data-size=${this.size}>
        <input
          ${wc(this.inputElementRef)}
          type="checkbox"
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};tv.styles=[st,Jt,BXe];$k([L({type:Boolean})],tv.prototype,"checked",void 0);$k([L({type:Boolean})],tv.prototype,"disabled",void 0);$k([L()],tv.prototype,"size",void 0);tv=$k([ie("wui-toggle")],tv);const zXe=ve`
  :host {
    height: auto;
  }

  :host > wui-flex {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var yoe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Rx=class extends Q{constructor(){super(...arguments),this.checked=!1}render(){return $`
      <wui-flex>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-toggle
          ?checked=${this.checked}
          size="sm"
          @switchChange=${this.handleToggleChange.bind(this)}
        ></wui-toggle>
      </wui-flex>
    `}handleToggleChange(e){e.stopPropagation(),this.checked=e.detail,this.dispatchSwitchEvent()}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("certifiedSwitchChange",{detail:this.checked,bubbles:!0,composed:!0}))}};Rx.styles=[st,Jt,zXe];yoe([L({type:Boolean})],Rx.prototype,"checked",void 0);Rx=yoe([ie("wui-certified-switch")],Rx);const WXe=ve`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.iconDefault};
    cursor: pointer;
    padding: ${({spacing:t})=>t[2]};
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
  }

  @media (hover: hover) {
    wui-icon:hover {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }
`;var boe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Dx=class extends Q{constructor(){super(...arguments),this.inputComponentRef=mc(),this.inputValue=""}render(){return $`
      <wui-input-text
        ${wc(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
        @inputChange=${this.onInputChange}
      >
        ${this.inputValue?$`<wui-icon
              @click=${this.clearValue}
              color="inherit"
              size="sm"
              name="close"
            ></wui-icon>`:null}
      </wui-input-text>
    `}onInputChange(e){this.inputValue=e.detail||""}clearValue(){const n=this.inputComponentRef.value?.inputElementRef.value;n&&(n.value="",this.inputValue="",n.focus(),n.dispatchEvent(new Event("input")))}};Dx.styles=[st,WXe];boe([L()],Dx.prototype,"inputValue",void 0);Dx=boe([ie("wui-search-bar")],Dx);const qXe=ve`
  :host {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 104px;
    width: 104px;
    row-gap: ${({spacing:t})=>t[2]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[5]};
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--apkt-path-network);
    clip-path: var(--apkt-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: ${({tokens:t})=>t.theme.foregroundSecondary};
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var voe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ux=class extends Q{constructor(){super(...arguments),this.type="wallet"}render(){return $`
      ${this.shimmerTemplate()}
      <wui-shimmer width="80px" height="20px"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?$` <wui-shimmer data-type=${this.type} width="48px" height="54px"></wui-shimmer>
        ${doe}`:$`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}};Ux.styles=[st,Jt,qXe];voe([L()],Ux.prototype,"type",void 0);Ux=voe([ie("wui-card-select-loader")],Ux);const FXe=Be`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var xl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Na=class extends Q{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&sn.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&sn.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&sn.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&sn.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&sn.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&sn.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&sn.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&sn.getSpacingStyles(this.margin,3)};
    `,$`<slot></slot>`}};Na.styles=[st,FXe];xl([L()],Na.prototype,"gridTemplateRows",void 0);xl([L()],Na.prototype,"gridTemplateColumns",void 0);xl([L()],Na.prototype,"justifyItems",void 0);xl([L()],Na.prototype,"alignItems",void 0);xl([L()],Na.prototype,"justifyContent",void 0);xl([L()],Na.prototype,"alignContent",void 0);xl([L()],Na.prototype,"columnGap",void 0);xl([L()],Na.prototype,"rowGap",void 0);xl([L()],Na.prototype,"gap",void 0);xl([L()],Na.prototype,"padding",void 0);xl([L()],Na.prototype,"margin",void 0);Na=xl([ie("wui-grid")],Na);const HXe=ve`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[0]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: clamp(0px, ${({borderRadius:t})=>t[4]}, 20px);
    transition:
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: ${({tokens:t})=>t.theme.textPrimary};
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:disabled > wui-flex > wui-text {
    color: ${({tokens:t})=>t.core.glass010};
  }

  [data-selected='true'] {
    background-color: ${({colors:t})=>t.accent020};
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: ${({colors:t})=>t.accent010};
    }
  }

  [data-selected='true']:active:enabled {
    background-color: ${({colors:t})=>t.accent010};
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var Kd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let bl=class extends Q{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.isImpressed=!1,this.explorerId="",this.walletQuery="",this.certified=!1,this.displayIndex=0,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc(),this.sendImpressionEvent()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const e=this.wallet?.badge_type==="certified";return $`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="1">
          <wui-text
            variant="md-regular"
            color="inherit"
            class=${le(e?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${e?$`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():$`
      <wui-wallet-image
        size="lg"
        imageSrc=${le(this.imageSrc)}
        name=${le(this.wallet?.name)}
        .installed=${this.wallet?.installed??!1}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return $`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=en.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await en.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}sendImpressionEvent(){!this.wallet||this.isImpressed||(this.isImpressed=!0,Ce.sendWalletImpressionEvent({name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.explorerId,view:Z.state.view,query:this.walletQuery,certified:this.certified,displayIndex:this.displayIndex}))}};bl.styles=HXe;Kd([W()],bl.prototype,"visible",void 0);Kd([W()],bl.prototype,"imageSrc",void 0);Kd([W()],bl.prototype,"imageLoading",void 0);Kd([W()],bl.prototype,"isImpressed",void 0);Kd([L()],bl.prototype,"explorerId",void 0);Kd([L()],bl.prototype,"walletQuery",void 0);Kd([L()],bl.prototype,"certified",void 0);Kd([L()],bl.prototype,"displayIndex",void 0);Kd([L({type:Object})],bl.prototype,"wallet",void 0);bl=Kd([ie("w3m-all-wallets-list-item")],bl);const VXe=ve`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  w3m-all-wallets-list-item {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-inout-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-loading-spinner {
    padding-top: ${({spacing:t})=>t[4]};
    padding-bottom: ${({spacing:t})=>t[4]};
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var sm=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const xV="local-paginator";let Od=class extends Q{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!Te.state.wallets.length,this.wallets=Te.state.wallets,this.recommended=Te.state.recommended,this.featured=Te.state.featured,this.filteredWallets=Te.state.filteredWallets,this.mobileFullScreen=X.state.enableMobileFullScreen,this.unsubscribe.push(Te.subscribeKey("wallets",e=>this.wallets=e),Te.subscribeKey("recommended",e=>this.recommended=e),Te.subscribeKey("featured",e=>this.featured=e),Te.subscribeKey("filteredWallets",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.paginationObserver?.disconnect()}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),$`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","3","3","3"]}
        gap="2"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const e=this.shadowRoot?.querySelector("wui-grid");e&&(await Te.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,n){return[...Array(e)].map(()=>$`
        <wui-card-select-loader type="wallet" id=${le(n)}></wui-card-select-loader>
      `)}getWallets(){const e=[...this.featured,...this.recommended];this.filteredWallets?.length>0?e.push(...this.filteredWallets):e.push(...this.wallets);const n=oe.uniqueBy(e,"id"),r=ll.markWalletsAsInstalled(n),i=ll.filterWalletsByWcSupport(r);return ll.markWalletsWithDisplayIndex(i)}walletsTemplate(){return this.getWallets().map((n,r)=>$`
        <w3m-all-wallets-list-item
          data-testid="wallet-search-item-${n.id}"
          @click=${()=>this.onConnectWallet(n)}
          .wallet=${n}
          explorerId=${n.id}
          certified=${this.badge==="certified"}
          displayIndex=${r}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:n,featured:r,count:i,mobileFilteredOutWalletsLength:s}=Te.state,o=window.innerWidth<352?3:4,a=e.length+n.length;let l=Math.ceil(a/o)*o-a+o;return l-=e.length?r.length%o:0,i===0&&r.length>0?null:i===0||[...r,...e,...n].length<i-(s??0)?this.shimmerTemplate(l,xV):null}createPaginationObserver(){const e=this.shadowRoot?.querySelector(`#${xV}`);e&&(this.paginationObserver=new IntersectionObserver(([n])=>{if(n?.isIntersecting&&!this.loading){const{page:r,count:i,wallets:s}=Te.state;s.length<i&&Te.fetchWalletsByPage({page:r+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){ae.selectWalletConnector(e)}};Od.styles=VXe;sm([W()],Od.prototype,"loading",void 0);sm([W()],Od.prototype,"wallets",void 0);sm([W()],Od.prototype,"recommended",void 0);sm([W()],Od.prototype,"featured",void 0);sm([W()],Od.prototype,"filteredWallets",void 0);sm([W()],Od.prototype,"badge",void 0);sm([W()],Od.prototype,"mobileFullScreen",void 0);Od=sm([ie("w3m-all-wallets-list")],Od);const KXe=Be`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
    height: auto;
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var v4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let m0=class extends Q{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.mobileFullScreen=X.state.enableMobileFullScreen,this.query=""}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.onSearch(),this.loading?$`<wui-loading-spinner color="accent-primary"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await Te.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=Te.state,n=ll.markWalletsAsInstalled(e),r=ll.filterWalletsByWcSupport(n);return r.length?$`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","3","3","3"]}
        rowGap="4"
        columngap="2"
        justifyContent="space-between"
      >
        ${r.map((i,s)=>$`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(i)}
              .wallet=${i}
              data-testid="wallet-search-item-${i.id}"
              explorerId=${i.id}
              certified=${this.badge==="certified"}
              walletQuery=${this.query}
              displayIndex=${s}
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:$`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="3"
          flexDirection="column"
        >
          <wui-icon-box size="lg" color="default" icon="wallet"></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="secondary" variant="md-medium">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){ae.selectWalletConnector(e)}};m0.styles=KXe;v4([W()],m0.prototype,"loading",void 0);v4([W()],m0.prototype,"mobileFullScreen",void 0);v4([L()],m0.prototype,"query",void 0);v4([L()],m0.prototype,"badge",void 0);m0=v4([ie("w3m-all-wallets-search")],m0);var EM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $C=class extends Q{constructor(){super(...arguments),this.search="",this.badge=void 0,this.onDebouncedSearch=oe.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return $`
      <wui-flex .padding=${["1","3","3","3"]} gap="2" alignItems="center">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge==="certified"}
          @certifiedSwitchChange=${this.onCertifiedSwitchChange.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?$`<w3m-all-wallets-search
            query=${this.search}
            .badge=${this.badge}
          ></w3m-all-wallets-search>`:$`<w3m-all-wallets-list .badge=${this.badge}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onCertifiedSwitchChange(e){e.detail?(this.badge="certified",Ue.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}qrButtonTemplate(){return oe.isMobile()?$`
        <wui-icon-box
          size="xl"
          iconSize="xl"
          color="accent-primary"
          icon="qrCode"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){Z.push("ConnectingWalletConnect")}};EM([W()],$C.prototype,"search",void 0);EM([W()],$C.prototype,"badge",void 0);$C=EM([ie("w3m-all-wallets-view")],$C);const ZXe=ve`
  button {
    display: flex;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[4]};
    width: 100%;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    justify-content: center;
    align-items: center;
  }

  :host([data-size='sm']) button {
    padding: ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-size='md']) button {
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
  }

  button:hover {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button:disabled {
    opacity: 0.5;
  }
`;var s2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Pg=class extends Q{constructor(){super(...arguments),this.text="",this.disabled=!1,this.size="lg",this.icon="copy",this.tabIdx=void 0}render(){this.dataset.size=this.size;const e=`${this.size}-regular`;return $`
      <button ?disabled=${this.disabled} tabindex=${le(this.tabIdx)}>
        <wui-icon name=${this.icon} size=${this.size} color="default"></wui-icon>
        <wui-text align="center" variant=${e} color="primary">${this.text}</wui-text>
      </button>
    `}};Pg.styles=[st,Jt,ZXe];s2([L()],Pg.prototype,"text",void 0);s2([L({type:Boolean})],Pg.prototype,"disabled",void 0);s2([L()],Pg.prototype,"size",void 0);s2([L()],Pg.prototype,"icon",void 0);s2([L()],Pg.prototype,"tabIdx",void 0);Pg=s2([ie("wui-list-button")],Pg);const GXe=ve`
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }

  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }

  wui-icon-link,
  wui-loading-spinner {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  wui-icon-link {
    right: ${({spacing:t})=>t[2]};
  }

  wui-loading-spinner {
    right: ${({spacing:t})=>t[3]};
  }

  wui-text {
    margin: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[0]} ${({spacing:t})=>t[3]};
  }
`;var Sy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Np=class extends Q{constructor(){super(),this.unsubscribe=[],this.formRef=mc(),this.email="",this.loading=!1,this.error="",this.remoteFeatures=X.state.remoteFeatures,this.hasExceededUsageLimit=Te.state.plan.hasExceededUsageLimit,this.unsubscribe.push(X.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}),Te.subscribeKey("plan",e=>this.hasExceededUsageLimit=e.hasExceededUsageLimit))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}firstUpdated(){this.formRef.value?.addEventListener("keydown",e=>{e.key==="Enter"&&this.onSubmitEmail(e)})}render(){const e=pe.hasAnyConnection(ne.CONNECTOR_ID.AUTH);return $`
      <form ${wc(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
        <wui-email-input
          @focus=${this.onFocusEvent.bind(this)}
          .disabled=${this.loading}
          @inputChange=${this.onEmailInputChange.bind(this)}
          tabIdx=${le(this.tabIdx)}
          ?disabled=${e||this.hasExceededUsageLimit}
        >
        </wui-email-input>

        ${this.submitButtonTemplate()}${this.loadingTemplate()}
        <input type="submit" hidden />
      </form>
      ${this.templateError()}
    `}submitButtonTemplate(){return!this.loading&&this.email.length>3?$`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitEmail.bind(this)}
          >
          </wui-icon-link>
        `:null}loadingTemplate(){return this.loading?$`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:null}templateError(){return this.error?$`<wui-text variant="sm-medium" color="error">${this.error}</wui-text>`:null}onEmailInputChange(e){this.email=e.detail.trim(),this.error=""}async onSubmitEmail(e){if(!bu.isValidEmail(this.email)){Kn.open({displayMessage:Rr.ALERT_WARNINGS.INVALID_EMAIL.displayMessage},"warning");return}if(!ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===j.state.activeChain)){const r=j.getFirstCaipNetworkSupportsAuthConnector();if(r){Z.push("SwitchNetwork",{network:r});return}}try{if(this.loading)return;this.loading=!0,e.preventDefault();const r=ae.getAuthConnector();if(!r)throw new Error("w3m-email-login-widget: Auth connector not found");const{action:i}=await r.provider.connectEmail({email:this.email});if(Ce.sendEvent({type:"track",event:"EMAIL_SUBMITTED"}),i==="VERIFY_OTP")Ce.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),Z.push("EmailVerifyOtp",{email:this.email});else if(i==="VERIFY_DEVICE")Z.push("EmailVerifyDevice",{email:this.email});else if(i==="CONNECT"){const s=this.remoteFeatures?.multiWallet;await pe.connectExternal(r,j.state.activeChain),s?(Z.replace("ProfileWallets"),Ue.showSuccess("New Wallet Added")):Z.replace("Account")}}catch(r){oe.parseError(r)?.includes("Invalid email")?this.error="Invalid email. Try again.":Ue.showError(r)}finally{this.loading=!1}}onFocusEvent(){Ce.sendEvent({type:"track",event:"EMAIL_LOGIN_SELECTED"})}};Np.styles=GXe;Sy([L()],Np.prototype,"tabIdx",void 0);Sy([W()],Np.prototype,"email",void 0);Sy([W()],Np.prototype,"loading",void 0);Sy([W()],Np.prototype,"error",void 0);Sy([W()],Np.prototype,"remoteFeatures",void 0);Sy([W()],Np.prototype,"hasExceededUsageLimit",void 0);Np=Sy([ie("w3m-email-login-widget")],Np);const YXe=ve`
  :host {
    display: block;
    width: 100%;
  }

  button {
    width: 100%;
    height: 52px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  @media (hover: hover) {
    button:hover:enabled {
      background: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }
`;var Tk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let nv=class extends Q{constructor(){super(...arguments),this.logo="google",this.disabled=!1,this.tabIdx=void 0}render(){return $`
      <button ?disabled=${this.disabled} tabindex=${le(this.tabIdx)}>
        <wui-icon size="xxl" name=${this.logo}></wui-icon>
      </button>
    `}};nv.styles=[st,Jt,YXe];Tk([L()],nv.prototype,"logo",void 0);Tk([L({type:Boolean})],nv.prototype,"disabled",void 0);Tk([L()],nv.prototype,"tabIdx",void 0);nv=Tk([ie("wui-logo-select")],nv);const JXe=ve`
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1)
      ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`;var om=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const AV=2,kV=6;let Pd=class extends Q{constructor(){super(),this.unsubscribe=[],this.walletGuide="get-started",this.tabIdx=void 0,this.connectors=ae.state.connectors,this.remoteFeatures=X.state.remoteFeatures,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.isPwaLoading=!1,this.hasExceededUsageLimit=Te.state.plan.hasExceededUsageLimit,this.unsubscribe.push(ae.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(n=>n.type==="AUTH")}),X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e),Te.subscribeKey("plan",e=>this.hasExceededUsageLimit=e.hasExceededUsageLimit))}connectedCallback(){super.connectedCallback(),this.handlePwaFrameLoad()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex
        class="container"
        flexDirection="column"
        gap="2"
        data-testid="w3m-social-login-widget"
      >
        ${this.topViewTemplate()}${this.bottomViewTemplate()}
      </wui-flex>
    `}topViewTemplate(){const e=this.walletGuide==="explore";let n=this.remoteFeatures?.socials;return!n&&e?(n=yt.DEFAULT_SOCIALS,this.renderTopViewContent(n)):n?this.renderTopViewContent(n):null}renderTopViewContent(e){return e.length===2?$` <wui-flex gap="2">
        ${e.slice(0,AV).map(n=>$`<wui-logo-select
              data-testid=${`social-selector-${n}`}
              @click=${()=>{this.onSocialClick(n)}}
              logo=${n}
              tabIdx=${le(this.tabIdx)}
              ?disabled=${this.isPwaLoading||this.hasConnection()}
            ></wui-logo-select>`)}
      </wui-flex>`:$` <wui-list-button
      data-testid=${`social-selector-${e[0]}`}
      @click=${()=>{this.onSocialClick(e[0])}}
      size="lg"
      icon=${le(e[0])}
      text=${`Continue with ${sn.capitalize(e[0])}`}
      tabIdx=${le(this.tabIdx)}
      ?disabled=${this.isPwaLoading||this.hasConnection()}
    ></wui-list-button>`}bottomViewTemplate(){let e=this.remoteFeatures?.socials;const n=this.walletGuide==="explore";return(!this.authConnector||!e||e.length===0)&&n&&(e=yt.DEFAULT_SOCIALS),!e||e.length<=AV?null:e&&e.length>kV?$`<wui-flex gap="2">
        ${e.slice(1,kV-1).map(i=>$`<wui-logo-select
              data-testid=${`social-selector-${i}`}
              @click=${()=>{this.onSocialClick(i)}}
              logo=${i}
              tabIdx=${le(this.tabIdx)}
              ?focusable=${this.tabIdx!==void 0&&this.tabIdx>=0}
              ?disabled=${this.isPwaLoading||this.hasConnection()}
            ></wui-logo-select>`)}
        <wui-logo-select
          logo="more"
          tabIdx=${le(this.tabIdx)}
          @click=${this.onMoreSocialsClick.bind(this)}
          ?disabled=${this.isPwaLoading||this.hasConnection()}
          data-testid="social-selector-more"
        ></wui-logo-select>
      </wui-flex>`:e?$`<wui-flex gap="2">
      ${e.slice(1,e.length).map(i=>$`<wui-logo-select
            data-testid=${`social-selector-${i}`}
            @click=${()=>{this.onSocialClick(i)}}
            logo=${i}
            tabIdx=${le(this.tabIdx)}
            ?focusable=${this.tabIdx!==void 0&&this.tabIdx>=0}
            ?disabled=${this.isPwaLoading||this.hasConnection()}
          ></wui-logo-select>`)}
    </wui-flex>`:null}onMoreSocialsClick(){Z.push("ConnectSocials")}async onSocialClick(e){if(this.hasExceededUsageLimit){Z.push("UsageExceeded");return}if(!ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===j.state.activeChain)){const r=j.getFirstCaipNetworkSupportsAuthConnector();if(r){Z.push("SwitchNetwork",{network:r});return}}e&&await Xse(e)}async handlePwaFrameLoad(){if(oe.isPWA()){this.isPwaLoading=!0;try{this.authConnector?.provider instanceof rU&&await this.authConnector.provider.init()}catch(e){Kn.open({displayMessage:"Error loading embedded wallet in PWA",debugMessage:e.message},"error")}finally{this.isPwaLoading=!1}}}hasConnection(){return pe.hasAnyConnection(ne.CONNECTOR_ID.AUTH)}};Pd.styles=JXe;om([L()],Pd.prototype,"walletGuide",void 0);om([L()],Pd.prototype,"tabIdx",void 0);om([W()],Pd.prototype,"connectors",void 0);om([W()],Pd.prototype,"remoteFeatures",void 0);om([W()],Pd.prototype,"authConnector",void 0);om([W()],Pd.prototype,"isPwaLoading",void 0);om([W()],Pd.prototype,"hasExceededUsageLimit",void 0);Pd=om([ie("w3m-social-login-widget")],Pd);const XXe=ve`
  :host {
    position: relative;
    border-radius: ${({borderRadius:t})=>t[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`;var Eoe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const dN=4;let Mx=class extends Q{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<dN;return $`${this.walletImages.slice(0,dN).map(({src:n,walletName:r})=>$`
          <wui-wallet-image
            size="sm"
            imageSrc=${n}
            name=${le(r)}
          ></wui-wallet-image>
        `)}
    ${e?[...Array(dN-this.walletImages.length)].map(()=>$` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};Mx.styles=[st,XXe];Eoe([L({type:Array})],Mx.prototype,"walletImages",void 0);Mx=Eoe([ie("wui-all-wallets-image")],Mx);const QXe=ve`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:t})=>t.core.glass010};
    color: ${({tokens:t})=>t.theme.foregroundTertiary};
  }

  wui-flex.namespace-icon {
    width: 16px;
    height: 16px;
    border-radius: ${({borderRadius:t})=>t.round};
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.backgroundPrimary};
    transition: box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
  }

  button:hover:enabled wui-flex.namespace-icon {
    box-shadow: 0 0 0 2px ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-flex.namespace-icon > wui-icon {
    width: 10px;
    height: 10px;
  }

  wui-flex.namespace-icon:not(:first-child) {
    margin-left: -4px;
  }
`;var La=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const eQe={eip155:"ethereum",solana:"solana",bip122:"bitcoin",polkadot:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:"ton"};let Co=class extends Q{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.namespaces=[],this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,$`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${le(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-flex flexDirection="column" justifyContent="center" alignItems="flex-start" gap="1">
          <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
          ${this.templateNamespaces()}
        </wui-flex>
        ${this.templateStatus()}
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}templateNamespaces(){return this.namespaces?.length?$`<wui-flex alignItems="center" gap="0">
        ${this.namespaces.map((e,n)=>$`<wui-flex
              alignItems="center"
              justifyContent="center"
              zIndex=${(this.namespaces?.length??0)*2-n}
              class="namespace-icon"
            >
              <wui-icon
                name=${le(eQe[e])}
                size="sm"
                color="default"
              ></wui-icon>
            </wui-flex>`)}
      </wui-flex>`:null}templateAllWallets(){return this.showAllWallets&&this.imageSrc?$` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?$` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?$`<wui-wallet-image
        size=${le(this.size==="sm"?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?$`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?$`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?$`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};Co.styles=[st,Jt,QXe];La([L({type:Array})],Co.prototype,"walletImages",void 0);La([L()],Co.prototype,"imageSrc",void 0);La([L()],Co.prototype,"name",void 0);La([L()],Co.prototype,"size",void 0);La([L()],Co.prototype,"tagLabel",void 0);La([L()],Co.prototype,"tagVariant",void 0);La([L()],Co.prototype,"walletIcon",void 0);La([L()],Co.prototype,"tabIdx",void 0);La([L({type:Array})],Co.prototype,"namespaces",void 0);La([L({type:Boolean})],Co.prototype,"disabled",void 0);La([L({type:Boolean})],Co.prototype,"showAllWallets",void 0);La([L({type:Boolean})],Co.prototype,"loading",void 0);La([L({type:String})],Co.prototype,"loadingSpinnerColor",void 0);Co=La([ie("wui-list-wallet")],Co);var o2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let w0=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.count=Te.state.count,this.filteredCount=Te.state.filteredWallets.length,this.isFetchingRecommendedWallets=Te.state.isFetchingRecommendedWallets,this.unsubscribe.push(ae.subscribeKey("connectors",e=>this.connectors=e),Te.subscribeKey("count",e=>this.count=e),Te.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),Te.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(l=>l.id==="walletConnect"),{allWallets:n}=X.state;if(!e||n==="HIDE"||n==="ONLY_MOBILE"&&!oe.isMobile())return null;const r=Te.state.featured.length,i=this.count+r,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`);const c=pe.hasAnyConnection(ne.CONNECTOR_ID.WALLET_CONNECT);return $`
      <wui-list-wallet
        name="Search Wallet"
        walletIcon="search"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="info"
        data-testid="all-wallets"
        tabIdx=${le(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        ?disabled=${c}
        size="sm"
      ></wui-list-wallet>
    `}onAllWallets(){Ce.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),Z.push("AllWallets",{redirectView:Z.state.data?.redirectView})}};o2([L()],w0.prototype,"tabIdx",void 0);o2([W()],w0.prototype,"connectors",void 0);o2([W()],w0.prototype,"count",void 0);o2([W()],w0.prototype,"filteredCount",void 0);o2([W()],w0.prototype,"isFetchingRecommendedWallets",void 0);w0=o2([ie("w3m-all-wallets-widget")],w0);const tQe=ve`
  :host {
    margin-top: ${({spacing:t})=>t[1]};
  }
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1)
      ${({spacing:t})=>t[2]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`;var Vp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ku=class extends Q{constructor(){super(),this.unsubscribe=[],this.connectors=ae.state.connectors,this.recommended=Te.state.recommended,this.featured=Te.state.featured,this.explorerWallets=Te.state.explorerWallets,this.connections=pe.state.connections,this.connectorImages=lr.state.connectorImages,this.loadingTelegram=!1,this.unsubscribe.push(ae.subscribeKey("connectors",e=>this.connectors=e),pe.subscribeKey("connections",e=>this.connections=e),lr.subscribeKey("connectorImages",e=>this.connectorImages=e),Te.subscribeKey("recommended",e=>this.recommended=e),Te.subscribeKey("featured",e=>this.featured=e),Te.subscribeKey("explorerFilteredWallets",e=>{this.explorerWallets=e?.length?e:Te.state.explorerWallets}),Te.subscribeKey("explorerWallets",e=>{this.explorerWallets?.length||(this.explorerWallets=e)})),oe.isTelegram()&&oe.isIos()&&(this.loadingTelegram=!pe.state.wcUri,this.unsubscribe.push(pe.subscribeKey("wcUri",e=>this.loadingTelegram=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex flexDirection="column" gap="2"> ${this.connectorListTemplate()} </wui-flex>
    `}processConnectorsByType(e,n=!0){const r=ol.sortConnectorsByExplorerWallet([...e]);return n?r.filter(ol.showConnector):r}connectorListTemplate(){const e=ol.getConnectorsByType(this.connectors,this.recommended,this.featured),n=this.processConnectorsByType(e.announced.filter(f=>f.id!=="walletConnect")),r=this.processConnectorsByType(e.injected),i=this.processConnectorsByType(e.multiChain.filter(f=>f.name!=="WalletConnect"),!1),s=e.custom,o=e.recent,a=this.processConnectorsByType(e.external.filter(f=>f.id!==ne.CONNECTOR_ID.COINBASE_SDK&&f.id!==ne.CONNECTOR_ID.BASE_ACCOUNT)),c=e.recommended,l=e.featured,u=ol.getConnectorTypeOrder({custom:s,recent:o,announced:n,injected:r,multiChain:i,recommended:c,featured:l,external:a}),d=this.connectors.find(f=>f.id==="walletConnect"),h=oe.isMobile(),p=[];for(const f of u)switch(f){case"walletConnect":{!h&&d&&p.push({kind:"connector",subtype:"walletConnect",connector:d});break}case"recent":{ol.getFilteredRecentWallets().forEach(m=>p.push({kind:"wallet",subtype:"recent",wallet:m}));break}case"injected":{i.forEach(g=>p.push({kind:"connector",subtype:"multiChain",connector:g})),n.forEach(g=>p.push({kind:"connector",subtype:"announced",connector:g})),r.forEach(g=>p.push({kind:"connector",subtype:"injected",connector:g}));break}case"featured":{l.forEach(g=>p.push({kind:"wallet",subtype:"featured",wallet:g}));break}case"custom":{ol.getFilteredCustomWallets(s??[]).forEach(m=>p.push({kind:"wallet",subtype:"custom",wallet:m}));break}case"external":{a.forEach(g=>p.push({kind:"connector",subtype:"external",connector:g}));break}case"recommended":{ol.getCappedRecommendedWallets(c).forEach(m=>p.push({kind:"wallet",subtype:"recommended",wallet:m}));break}default:console.warn(`Unknown connector type: ${f}`)}return p.map((f,g)=>f.kind==="connector"?this.renderConnector(f,g):this.renderWallet(f,g))}getConnectorNamespaces(e){return e.subtype==="walletConnect"?[]:e.subtype==="multiChain"?e.connector.connectors?.map(n=>n.chain)||[]:[e.connector.chain]}renderConnector(e,n){const r=e.connector,i=en.getConnectorImage(r)||this.connectorImages[r?.imageId??""],o=(this.connections.get(r.chain)??[]).some(d=>ni.isLowerCaseMatch(d.connectorId,r.id));let a,c;e.subtype==="walletConnect"?(a="qr code",c="accent"):e.subtype==="injected"||e.subtype==="announced"?(a=o?"connected":"installed",c=o?"info":"success"):(a=void 0,c=void 0);const l=pe.hasAnyConnection(ne.CONNECTOR_ID.WALLET_CONNECT),u=e.subtype==="walletConnect"||e.subtype==="external"?l:!1;return $`
      <w3m-list-wallet
        displayIndex=${n}
        imageSrc=${le(i)}
        .installed=${!0}
        name=${r.name??"Unknown"}
        .tagVariant=${c}
        tagLabel=${le(a)}
        data-testid=${`wallet-selector-${r.id.toLowerCase()}`}
        size="sm"
        @click=${()=>this.onClickConnector(e)}
        tabIdx=${le(this.tabIdx)}
        ?disabled=${u}
        rdnsId=${le(r.explorerWallet?.rdns||void 0)}
        walletRank=${le(r.explorerWallet?.order)}
        .namespaces=${this.getConnectorNamespaces(e)}
      >
      </w3m-list-wallet>
    `}onClickConnector(e){const n=Z.state.data?.redirectView;if(e.subtype==="walletConnect"){ae.setActiveConnector(e.connector),oe.isMobile()?Z.push("AllWallets"):Z.push("ConnectingWalletConnect",{redirectView:n});return}if(e.subtype==="multiChain"){ae.setActiveConnector(e.connector),Z.push("ConnectingMultiChain",{redirectView:n});return}if(e.subtype==="injected"){ae.setActiveConnector(e.connector),Z.push("ConnectingExternal",{connector:e.connector,redirectView:n,wallet:e.connector.explorerWallet});return}if(e.subtype==="announced"){if(e.connector.id==="walletConnect"){oe.isMobile()?Z.push("AllWallets"):Z.push("ConnectingWalletConnect",{redirectView:n});return}Z.push("ConnectingExternal",{connector:e.connector,redirectView:n,wallet:e.connector.explorerWallet});return}Z.push("ConnectingExternal",{connector:e.connector,redirectView:n})}renderWallet(e,n){const r=e.wallet,i=en.getWalletImage(r),o=pe.hasAnyConnection(ne.CONNECTOR_ID.WALLET_CONNECT),a=this.loadingTelegram,c=e.subtype==="recent"?"recent":void 0,l=e.subtype==="recent"?"info":void 0;return $`
      <w3m-list-wallet
        displayIndex=${n}
        imageSrc=${le(i)}
        name=${r.name??"Unknown"}
        @click=${()=>this.onClickWallet(e)}
        size="sm"
        data-testid=${`wallet-selector-${r.id}`}
        tabIdx=${le(this.tabIdx)}
        ?loading=${a}
        ?disabled=${o}
        rdnsId=${le(r.rdns||void 0)}
        walletRank=${le(r.order)}
        tagLabel=${le(c)}
        .tagVariant=${l}
      >
      </w3m-list-wallet>
    `}onClickWallet(e){const n=Z.state.data?.redirectView;if(e.subtype==="featured"){ae.selectWalletConnector(e.wallet);return}if(e.subtype==="recent"){if(this.loadingTelegram)return;ae.selectWalletConnector(e.wallet);return}if(e.subtype==="custom"){if(this.loadingTelegram)return;Z.push("ConnectingWalletConnect",{wallet:e.wallet,redirectView:n});return}if(this.loadingTelegram)return;const r=ae.getConnector({id:e.wallet.id,rdns:e.wallet.rdns});r?Z.push("ConnectingExternal",{connector:r,redirectView:n}):Z.push("ConnectingWalletConnect",{wallet:e.wallet,redirectView:n})}};ku.styles=tQe;Vp([L({type:Number})],ku.prototype,"tabIdx",void 0);Vp([W()],ku.prototype,"connectors",void 0);Vp([W()],ku.prototype,"recommended",void 0);Vp([W()],ku.prototype,"featured",void 0);Vp([W()],ku.prototype,"explorerWallets",void 0);Vp([W()],ku.prototype,"connections",void 0);Vp([W()],ku.prototype,"connectorImages",void 0);Vp([W()],ku.prototype,"loadingTelegram",void 0);ku=Vp([ie("w3m-connector-list")],ku);var Coe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let t7=class extends Q{constructor(){super(...arguments),this.tabIdx=void 0}render(){return $`
      <wui-flex flexDirection="column" gap="2">
        <w3m-connector-list tabIdx=${le(this.tabIdx)}></w3m-connector-list>
        <w3m-all-wallets-widget tabIdx=${le(this.tabIdx)}></w3m-all-wallets-widget>
      </wui-flex>
    `}};Coe([L()],t7.prototype,"tabIdx",void 0);t7=Coe([ie("w3m-wallet-login-list")],t7);const nQe=ve`
  :host {
    --connect-scroll--top-opacity: 0;
    --connect-scroll--bottom-opacity: 0;
    --connect-mask-image: none;
  }

  .connect {
    max-height: clamp(360px, 470px, 80vh);
    scrollbar-width: none;
    overflow-y: scroll;
    overflow-x: hidden;
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
    mask-image: var(--connect-mask-image);
  }

  .guide {
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
  }

  .connect::-webkit-scrollbar {
    display: none;
  }

  .all-wallets {
    flex-flow: column;
  }

  .connect.disabled,
  .guide.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }

  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`;var Al=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const rQe=470;let Ko=class extends Q{constructor(){super(),this.unsubscribe=[],this.connectors=ae.state.connectors,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.features=X.state.features,this.remoteFeatures=X.state.remoteFeatures,this.enableWallets=X.state.enableWallets,this.noAdapters=j.state.noAdapters,this.walletGuide="get-started",this.checked=pc.state.isLegalCheckboxChecked,this.isEmailEnabled=this.remoteFeatures?.email&&!j.state.noAdapters,this.isSocialEnabled=this.remoteFeatures?.socials&&this.remoteFeatures.socials.length>0&&!j.state.noAdapters,this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors),this.unsubscribe.push(ae.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(n=>n.type==="AUTH"),this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors)}),X.subscribeKey("features",e=>{this.features=e}),X.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e,this.setEmailAndSocialEnableCheck(this.noAdapters,this.remoteFeatures)}),X.subscribeKey("enableWallets",e=>this.enableWallets=e),j.subscribeKey("noAdapters",e=>this.setEmailAndSocialEnableCheck(e,this.remoteFeatures)),pc.subscribeKey("isLegalCheckboxChecked",e=>this.checked=e))}disconnectedCallback(){this.unsubscribe.forEach(n=>n()),this.resizeObserver?.disconnect(),this.shadowRoot?.querySelector(".connect")?.removeEventListener("scroll",this.handleConnectListScroll.bind(this))}firstUpdated(){const e=this.shadowRoot?.querySelector(".connect");e&&(requestAnimationFrame(this.handleConnectListScroll.bind(this)),e?.addEventListener("scroll",this.handleConnectListScroll.bind(this)),this.resizeObserver=new ResizeObserver(()=>{this.handleConnectListScroll()}),this.resizeObserver?.observe(e),this.handleConnectListScroll())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state,r=X.state.features?.legalCheckbox,o=!!(e||n)&&!!r&&this.walletGuide==="get-started"&&!this.checked,a={connect:!0,disabled:o},c=X.state.enableWalletGuide,l=this.enableWallets,u=this.isSocialEnabled||this.authConnector,d=o?-1:void 0;return $`
      <wui-flex flexDirection="column">
        ${this.legalCheckboxTemplate()}
        <wui-flex
          data-testid="w3m-connect-scroll-view"
          flexDirection="column"
          .padding=${["0","0","4","0"]}
          class=${Q_(a)}
        >
          <wui-flex
            class="connect-methods"
            flexDirection="column"
            gap="2"
            .padding=${u&&l&&c&&this.walletGuide==="get-started"?["0","3","0","3"]:["0","3","3","3"]}
          >
            ${this.renderConnectMethod(d)}
          </wui-flex>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}reownBrandingTemplate(){return bu.hasFooter()||!this.remoteFeatures?.reownBranding?null:$`<wui-ux-by-reown></wui-ux-by-reown>`}setEmailAndSocialEnableCheck(e,n){this.isEmailEnabled=n?.email&&!e,this.isSocialEnabled=n?.socials&&n.socials.length>0&&!e,this.remoteFeatures=n,this.noAdapters=e}checkIfAuthEnabled(e){const n=e.filter(i=>i.type===vn.CONNECTOR_TYPE_AUTH).map(i=>i.chain);return ne.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(i=>n.includes(i))}renderConnectMethod(e){const n=ll.getConnectOrderMethod(this.features,this.connectors);return $`${n.map((r,i)=>{switch(r){case"email":return $`${this.emailTemplate(e)} ${this.separatorTemplate(i,"email")}`;case"social":return $`${this.socialListTemplate(e)}
          ${this.separatorTemplate(i,"social")}`;case"wallet":return $`${this.walletListTemplate(e)}
          ${this.separatorTemplate(i,"wallet")}`;default:return null}})}`}checkMethodEnabled(e){switch(e){case"wallet":return this.enableWallets;case"social":return this.isSocialEnabled&&this.isAuthEnabled;case"email":return this.isEmailEnabled&&this.isAuthEnabled;default:return null}}checkIsThereNextMethod(e){const r=ll.getConnectOrderMethod(this.features,this.connectors)[e+1];return r?this.checkMethodEnabled(r)?r:this.checkIsThereNextMethod(e+1):void 0}separatorTemplate(e,n){const r=this.checkIsThereNextMethod(e),i=this.walletGuide==="explore";switch(n){case"wallet":return this.enableWallets&&r&&!i?$`<wui-separator data-testid="wui-separator" text="or"></wui-separator>`:null;case"email":{const s=r==="social";return this.isAuthEnabled&&this.isEmailEnabled&&!s&&r?$`<wui-separator
              data-testid="w3m-email-login-or-separator"
              text="or"
            ></wui-separator>`:null}case"social":{const s=r==="email";return this.isAuthEnabled&&this.isSocialEnabled&&!s&&r?$`<wui-separator data-testid="wui-separator" text="or"></wui-separator>`:null}default:return null}}emailTemplate(e){return!this.isEmailEnabled||!this.isAuthEnabled?null:$`<w3m-email-login-widget tabIdx=${le(e)}></w3m-email-login-widget>`}socialListTemplate(e){return!this.isSocialEnabled||!this.isAuthEnabled?null:$`<w3m-social-login-widget
      walletGuide=${this.walletGuide}
      tabIdx=${le(e)}
    ></w3m-social-login-widget>`}walletListTemplate(e){const n=this.enableWallets,r=this.features?.emailShowWallets===!1,i=this.features?.collapseWallets,s=r||i;return!n||(oe.isTelegram()&&(oe.isSafari()||oe.isIos())&&pe.connectWalletConnect().catch(a=>({})),this.walletGuide==="explore")?null:this.isAuthEnabled&&(this.isEmailEnabled||this.isSocialEnabled)&&s?$`<wui-list-button
        data-testid="w3m-collapse-wallets-button"
        tabIdx=${le(e)}
        @click=${this.onContinueWalletClick.bind(this)}
        text="Continue with a wallet"
      ></wui-list-button>`:$`<w3m-wallet-login-list tabIdx=${le(e)}></w3m-wallet-login-list>`}legalCheckboxTemplate(){return this.walletGuide==="explore"?null:$`<w3m-legal-checkbox data-testid="w3m-legal-checkbox"></w3m-legal-checkbox>`}handleConnectListScroll(){const e=this.shadowRoot?.querySelector(".connect");if(!e)return;e.scrollHeight>rQe?(e.style.setProperty("--connect-mask-image",`linear-gradient(
          to bottom,
          rgba(0, 0, 0, calc(1 - var(--connect-scroll--top-opacity))) 0px,
          rgba(200, 200, 200, calc(1 - var(--connect-scroll--top-opacity))) 1px,
          black 100px,
          black calc(100% - 100px),
          rgba(155, 155, 155, calc(1 - var(--connect-scroll--bottom-opacity))) calc(100% - 1px),
          rgba(0, 0, 0, calc(1 - var(--connect-scroll--bottom-opacity))) 100%
        )`),e.style.setProperty("--connect-scroll--top-opacity",Gf.interpolate([0,50],[0,1],e.scrollTop).toString()),e.style.setProperty("--connect-scroll--bottom-opacity",Gf.interpolate([0,50],[0,1],e.scrollHeight-e.scrollTop-e.offsetHeight).toString())):(e.style.setProperty("--connect-mask-image","none"),e.style.setProperty("--connect-scroll--top-opacity","0"),e.style.setProperty("--connect-scroll--bottom-opacity","0"))}onContinueWalletClick(){Z.push("ConnectWallets")}};Ko.styles=nQe;Al([W()],Ko.prototype,"connectors",void 0);Al([W()],Ko.prototype,"authConnector",void 0);Al([W()],Ko.prototype,"features",void 0);Al([W()],Ko.prototype,"remoteFeatures",void 0);Al([W()],Ko.prototype,"enableWallets",void 0);Al([W()],Ko.prototype,"noAdapters",void 0);Al([L()],Ko.prototype,"walletGuide",void 0);Al([W()],Ko.prototype,"checked",void 0);Al([W()],Ko.prototype,"isEmailEnabled",void 0);Al([W()],Ko.prototype,"isSocialEnabled",void 0);Al([W()],Ko.prototype,"isAuthEnabled",void 0);Ko=Al([ie("w3m-connect-view")],Ko);const iQe=ve`
  wui-flex {
    width: 100%;
    height: 52px;
    box-sizing: border-box;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[5]};
    padding-left: ${({spacing:t})=>t[3]};
    padding-right: ${({spacing:t})=>t[3]};
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:t})=>t[6]};
  }

  wui-text {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  wui-icon {
    width: 12px;
    height: 12px;
  }
`;var Nk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let rv=class extends Q{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return $`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="inherit">${this.label}</wui-text>
        <wui-button variant="accent-secondary" size="sm">
          ${this.buttonLabel}
          <wui-icon name="chevronRight" color="inherit" size="inherit" slot="iconRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};rv.styles=[st,Jt,iQe];Nk([L({type:Boolean})],rv.prototype,"disabled",void 0);Nk([L()],rv.prototype,"label",void 0);Nk([L()],rv.prototype,"buttonLabel",void 0);rv=Nk([ie("wui-cta-button")],rv);const sQe=ve`
  :host {
    display: block;
    padding: 0 ${({spacing:t})=>t[5]} ${({spacing:t})=>t[5]};
  }
`;var _oe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Lx=class extends Q{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:n,play_store:r,chrome_store:i,homepage:s}=this.wallet,o=oe.isMobile(),a=oe.isIos(),c=oe.isAndroid(),l=[n,r,s,i].filter(Boolean).length>1,u=sn.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?$`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>Z.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?$`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:n&&a?$`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&c?$`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&oe.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&oe.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&oe.openHref(this.wallet.homepage,"_blank")}};Lx.styles=[sQe];_oe([L({type:Object})],Lx.prototype,"wallet",void 0);Lx=_oe([ie("w3m-mobile-download-links")],Lx);const oQe=ve`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-wallet-image {
    width: 56px;
    height: 56px;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: ${({durations:t})=>t.lg};
    transition-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:t})=>t[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:t})=>t["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  w3m-mobile-download-links {
    padding: 0px;
    width: 100%;
  }
`;var ju=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ks=class extends Q{constructor(){super(),this.wallet=Z.state.data?.wallet,this.connector=Z.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=en.getConnectorImage(this.connector)??en.getWalletImage(this.wallet),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=pe.state.wcUri,this.error=pe.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(pe.subscribeKey("wcUri",e=>{this.uri=e,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),pe.subscribeKey("wcError",e=>this.error=e)),(oe.isTelegram()||oe.isSafari())&&oe.isIos()&&pe.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),pe.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let n="";return this.label?n=this.label:(n=`Continue in ${this.name}`,this.error&&(n="Connection declined")),$`
      <wui-flex
        data-error=${le(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex gap="2" justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${le(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="6"> <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","0","0"]}
        >
          <wui-text align="center" variant="lg-medium" color=${this.error?"error":"primary"}>
            ${n}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?$`
                <wui-button
                  variant="neutral-secondary"
                  size="md"
                  ?disabled=${this.isRetrying||this.isLoading}
                  @click=${this.onTryAgain.bind(this)}
                  data-testid="w3m-connecting-widget-secondary-button"
                >
                  <wui-icon
                    color="inherit"
                    slot="iconLeft"
                    name=${this.secondaryBtnIcon}
                  ></wui-icon>
                  ${this.secondaryBtnLabel}
                </wui-button>
              `:null}
      </wui-flex>

      ${this.isWalletConnect?$`
              <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
                <wui-link
                  @click=${this.onCopyUri}
                  variant="secondary"
                  icon="copy"
                  data-testid="wui-link-copy"
                >
                  Copy link
                </wui-link>
              </wui-flex>
            `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links></wui-flex>
      </wui-flex>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){pe.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const e=zn.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return $`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(oe.copyToClopboard(this.uri),Ue.showSuccess("Link copied"))}catch{Ue.showError("Failed to copy")}}};ks.styles=oQe;ju([W()],ks.prototype,"isRetrying",void 0);ju([W()],ks.prototype,"uri",void 0);ju([W()],ks.prototype,"error",void 0);ju([W()],ks.prototype,"ready",void 0);ju([W()],ks.prototype,"showRetry",void 0);ju([W()],ks.prototype,"label",void 0);ju([W()],ks.prototype,"secondaryBtnLabel",void 0);ju([W()],ks.prototype,"secondaryLabel",void 0);ju([W()],ks.prototype,"isLoading",void 0);ju([L({type:Boolean})],ks.prototype,"isMobile",void 0);ju([L()],ks.prototype,"onRetry",void 0);var aQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let n7=class extends ks{constructor(){if(super(),this.externalViewUnsubscribe=[],this.connectionsByNamespace=pe.getConnections(this.connector?.chain),this.hasMultipleConnections=this.connectionsByNamespace.length>0,this.remoteFeatures=X.state.remoteFeatures,this.currentActiveConnectorId=ae.state.activeConnectorIds[this.connector?.chain],!this.connector)throw new Error("w3m-connecting-view: No connector provided");const e=this.connector?.chain;this.isAlreadyConnected(this.connector)&&(this.secondaryBtnLabel=void 0,this.label=`This account is already linked, change your account in ${this.connector.name}`,this.secondaryLabel=`To link a new account, open ${this.connector.name} and switch to the account you want to link`),Ce.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.connector.name??"Unknown",platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:Z.state.view}}),this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),this.isWalletConnect=!1,this.externalViewUnsubscribe.push(ae.subscribeKey("activeConnectorIds",n=>{const r=n[e],i=this.remoteFeatures?.multiWallet,{redirectView:s}=Z.state.data??{};r!==this.currentActiveConnectorId&&(this.hasMultipleConnections&&i?(Z.replace("ProfileWallets"),Ue.showSuccess("New Wallet Added")):s?Z.replace(s):Ke.close())}),pe.subscribeKey("connections",this.onConnectionsChange.bind(this)))}disconnectedCallback(){this.externalViewUnsubscribe.forEach(e=>e())}async onConnectProxy(){try{if(this.error=!1,this.connector){if(this.isAlreadyConnected(this.connector))return;(this.connector.id!==ne.CONNECTOR_ID.COINBASE_SDK||!this.error)&&await pe.connectExternal(this.connector,this.connector.chain)}}catch(e){e instanceof Cg&&e.originalName===Mo.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?Ce.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:e.message}}):Ce.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}onConnectionsChange(e){if(this.connector?.chain&&e.get(this.connector.chain)&&this.isAlreadyConnected(this.connector)){const n=e.get(this.connector.chain)??[],r=this.remoteFeatures?.multiWallet;if(n.length===0)Z.replace("Connect");else{const i=al.getConnectionsByConnectorId(this.connectionsByNamespace,this.connector.id).flatMap(o=>o.accounts),s=al.getConnectionsByConnectorId(n,this.connector.id).flatMap(o=>o.accounts);s.length===0?this.hasMultipleConnections&&r?(Z.replace("ProfileWallets"),Ue.showSuccess("Wallet deleted")):Ke.close():!i.every(a=>s.some(c=>ni.isLowerCaseMatch(a.address,c.address)))&&r&&Z.replace("ProfileWallets")}}}isAlreadyConnected(e){return!!e&&this.connectionsByNamespace.some(n=>ni.isLowerCaseMatch(n.connectorId,e.id))}};n7=aQe([ie("w3m-connecting-external-view")],n7);const cQe=Be`
  wui-flex,
  wui-list-wallet {
    width: 100%;
  }
`;var Ioe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let TC=class extends Q{constructor(){super(),this.unsubscribe=[],this.activeConnector=ae.state.activeConnector,this.unsubscribe.push(ae.subscribeKey("activeConnector",e=>this.activeConnector=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3","5","5","5"]}
        gap="5"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image
            size="lg"
            imageSrc=${le(en.getConnectorImage(this.activeConnector))}
          ></wui-wallet-image>
        </wui-flex>
        <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["0","3","0","3"]}
        >
          <wui-text variant="lg-medium" color="primary">
            Select Chain for ${this.activeConnector?.name}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary"
            >Select which chain to connect to your multi chain wallet</wui-text
          >
        </wui-flex>
        <wui-flex
          flexGrow="1"
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","2","0"]}
        >
          ${this.networksTemplate()}
        </wui-flex>
      </wui-flex>
    `}networksTemplate(){return this.activeConnector?.connectors?.map((e,n)=>e.name?$`
            <w3m-list-wallet
              displayIndex=${n}
              imageSrc=${le(en.getChainImage(e.chain))}
              name=${ne.CHAIN_NAME_MAP[e.chain]}
              @click=${()=>this.onConnector(e)}
              size="sm"
              data-testid="wui-list-chain-${e.chain}"
              rdnsId=${e.explorerWallet?.rdns}
            ></w3m-list-wallet>
          `:null)}onConnector(e){const n=this.activeConnector?.connectors?.find(i=>i.chain===e.chain),r=Z.state.data?.redirectView;if(!n){Ue.showError("Failed to find connector");return}n.id==="walletConnect"?oe.isMobile()?Z.push("AllWallets"):Z.push("ConnectingWalletConnect",{redirectView:r}):Z.push("ConnectingExternal",{connector:n,redirectView:r,wallet:this.activeConnector?.explorerWallet})}};TC.styles=cQe;Ioe([W()],TC.prototype,"activeConnector",void 0);TC=Ioe([ie("w3m-connecting-multi-chain-view")],TC);var CM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let jx=class extends Q{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return $`
      <wui-flex justifyContent="center" .padding=${["0","0","4","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(n=>n==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:n==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:n==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:n==="web"?{label:"Webapp",icon:"browser",platform:"web"}:n==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:n})=>n),e}onTabChange(e){const n=this.platformTabs[e];n&&this.onSelectPlatfrom?.(n)}};CM([L({type:Array})],jx.prototype,"platforms",void 0);CM([L()],jx.prototype,"onSelectPlatfrom",void 0);jx=CM([ie("w3m-connecting-header")],jx);var lQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $V=class extends ks{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),Ce.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:Z.state.view}})}async onConnectProxy(){try{this.error=!1;const{connectors:e}=ae.state,n=e.find(r=>r.type==="ANNOUNCED"&&r.info?.rdns===this.wallet?.rdns||r.type==="INJECTED"||r.name===this.wallet?.name);if(n)await pe.connectExternal(n,n.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Ke.close()}catch(e){e instanceof Cg&&e.originalName===Mo.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?Ce.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:e.message}}):Ce.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};$V=lQe([ie("w3m-connecting-wc-browser")],$V);var uQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let TV=class extends ks{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),Ce.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:Z.state.view}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:n}=this.wallet,{redirect:r,href:i}=oe.formatNativeUrl(e,this.uri);pe.setWcLinking({name:n,href:i}),pe.setRecentWallet(this.wallet),oe.openHref(r,"_blank")}catch{this.error=!0}}};TV=uQe([ie("w3m-connecting-wc-desktop")],TV);var a2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let y0=class extends ks{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=X.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,link_mode:n,name:r}=this.wallet,{redirect:i,redirectUniversalLink:s,href:o}=oe.formatNativeUrl(e,this.uri,n);this.redirectDeeplink=i,this.redirectUniversalLink=s,this.target=oe.isIframe()?"_top":"_self",pe.setWcLinking({name:r,href:o}),pe.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?oe.openHref(this.redirectUniversalLink,this.target):oe.openHref(this.redirectDeeplink,this.target)}catch(e){Ce.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=yt.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(pe.subscribeKey("wcUri",()=>{this.onHandleURI()})),Ce.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:Z.state.view}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){pe.setWcError(!1),this.onConnect?.()}};a2([W()],y0.prototype,"redirectDeeplink",void 0);a2([W()],y0.prototype,"redirectUniversalLink",void 0);a2([W()],y0.prototype,"target",void 0);a2([W()],y0.prototype,"preferUniversalLinks",void 0);a2([W()],y0.prototype,"isLoading",void 0);y0=a2([ie("w3m-connecting-wc-mobile")],y0);const dQe=ve`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`;var Soe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Bx=class extends ks{constructor(){super(),this.basic=!1}firstUpdated(){this.basic||Ce.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:Z.state.view}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(e=>e())}render(){return this.onRenderProxy(),$`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","5","5","5"]}
        gap="5"
      >
        <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>
        <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0)}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.wallet?this.wallet.name:void 0;pe.setWcLinking(void 0),pe.setRecentWallet(this.wallet);const n=zn.state.themeVariables["--apkt-qr-color"]??zn.state.themeVariables["--w3m-qr-color"];return $` <wui-qr-code
      theme=${zn.state.themeMode}
      uri=${this.uri}
      imageSrc=${le(en.getWalletImage(this.wallet))}
      color=${le(n)}
      alt=${le(e)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return $`<wui-button
      .disabled=${e}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      Copy link
      <wui-icon size="sm" color="inherit" name="copy" slot="iconRight"></wui-icon>
    </wui-button>`}};Bx.styles=dQe;Soe([L({type:Boolean})],Bx.prototype,"basic",void 0);Bx=Soe([ie("w3m-connecting-wc-qrcode")],Bx);var hQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let NV=class extends Q{constructor(){if(super(),this.wallet=Z.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");Ce.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:Z.state.view}})}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${le(en.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="md-regular" color="primary">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};NV=hQe([ie("w3m-connecting-wc-unsupported")],NV);var xoe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let r7=class extends ks{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=yt.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(pe.subscribeKey("wcUri",()=>{this.updateLoadingState()})),Ce.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:Z.state.view}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:n}=this.wallet,{redirect:r,href:i}=oe.formatUniversalUrl(e,this.uri);pe.setWcLinking({name:n,href:i}),pe.setRecentWallet(this.wallet),oe.openHref(r,"_blank")}catch{this.error=!0}}};xoe([W()],r7.prototype,"isLoading",void 0);r7=xoe([ie("w3m-connecting-wc-web")],r7);const pQe=ve`
  :host([data-mobile-fullscreen='true']) {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  :host([data-mobile-fullscreen='true']) wui-ux-by-reown {
    margin-top: auto;
  }
`;var xy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Rd=class extends Q{constructor(){super(),this.wallet=Z.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!X.state.siwx,this.remoteFeatures=X.state.remoteFeatures,this.displayBranding=!0,this.basic=!1,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return X.state.enableMobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),$`
      ${this.headerTemplate()}
      <div class="platform-container">${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return!this.remoteFeatures?.reownBranding||!this.displayBranding?null:$`<wui-ux-by-reown></wui-ux-by-reown>`}async initializeConnection(e=!1){if(!(this.platform==="browser"||X.state.manualWCControl&&!e))try{const{wcPairingExpiry:n,status:r}=pe.state,{redirectView:i}=Z.state.data??{};if(e||X.state.enableEmbedded||oe.isPairingExpired(n)||r==="connecting"){const s=pe.getConnections(j.state.activeChain),o=this.remoteFeatures?.multiWallet,a=s.length>0;await pe.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(a&&o?(Z.replace("ProfileWallets"),Ue.showSuccess("New Wallet Added")):i?Z.replace(i):Ke.close())}}catch(n){if(n instanceof Error&&n.message.includes("An error occurred when attempting to switch chain")&&!X.state.enableNetworkSwitch&&j.state.activeChain){j.setActiveCaipNetwork(su.getUnsupportedNetwork(`${j.state.activeChain}:${j.state.activeCaipNetwork?.id}`)),j.showUnsupportedChainUI();return}n instanceof Cg&&n.originalName===Mo.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?Ce.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:n.message}}):Ce.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:n?.message??"Unknown"}}),pe.setWcError(!0),Ue.showError(n.message??"Connection error"),pe.resetWcConnection(),Z.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:n,webapp_link:r,injected:i,rdns:s}=this.wallet,o=i?.map(({injected_id:f})=>f).filter(Boolean),a=[...s?[s]:o??[]],c=X.state.isUniversalProvider?!1:a.length,l=e,u=r,d=pe.checkInstalled(a),h=c&&d,p=n&&!oe.isMobile();h&&!j.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(oe.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),p&&this.platforms.push("desktop"),!h&&c&&!j.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return $`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return $`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return $`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return $`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return $`<w3m-connecting-wc-qrcode ?basic=${this.basic}></w3m-connecting-wc-qrcode>`;default:return $`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?$`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){const n=this.shadowRoot?.querySelector("div");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};Rd.styles=pQe;xy([W()],Rd.prototype,"platform",void 0);xy([W()],Rd.prototype,"platforms",void 0);xy([W()],Rd.prototype,"isSiwxEnabled",void 0);xy([W()],Rd.prototype,"remoteFeatures",void 0);xy([L({type:Boolean})],Rd.prototype,"displayBranding",void 0);xy([L({type:Boolean})],Rd.prototype,"basic",void 0);Rd=xy([ie("w3m-connecting-wc-view")],Rd);var _M=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let NC=class extends Q{constructor(){super(),this.unsubscribe=[],this.isMobile=oe.isMobile(),this.remoteFeatures=X.state.remoteFeatures,this.unsubscribe.push(X.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(this.isMobile){const{featured:e,recommended:n}=Te.state,{customWallets:r}=X.state,i=be.getRecentWallets(),s=e.length||n.length||r?.length||i.length;return $`<wui-flex flexDirection="column" gap="2" .margin=${["1","3","3","3"]}>
        ${s?$`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return $`<wui-flex flexDirection="column" .padding=${["0","0","4","0"]}>
        <w3m-connecting-wc-view ?basic=${!0} .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","3","0","3"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?$` <wui-flex flexDirection="column" .padding=${["1","0","1","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};_M([W()],NC.prototype,"isMobile",void 0);_M([W()],NC.prototype,"remoteFeatures",void 0);NC=_M([ie("w3m-connecting-wc-basic-view")],NC);const fQe=Be`
  .continue-button-container {
    width: 100%;
  }
`;var Aoe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let OC=class extends Q{constructor(){super(...arguments),this.loading=!1}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="6"
        .padding=${["0","0","4","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{oe.openHref(Xee.URLS.FAQ,"_blank")}}
        >
          Learn more about names
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return $` <wui-flex
      flexDirection="column"
      gap="6"
      alignItems="center"
      .padding=${["0","6","0","6"]}
    >
      <wui-flex gap="3" alignItems="center" justifyContent="center">
        <wui-icon-box icon="id" size="xl" iconSize="xxl" color="default"></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="3">
        <wui-text align="center" variant="lg-medium" color="primary">
          Choose your account name
        </wui-text>
        <wui-text align="center" variant="md-regular" color="primary">
          Finally say goodbye to 0x addresses, name your account to make it easier to exchange
          assets
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return $`<wui-flex
      .padding=${["0","8","0","8"]}
      gap="3"
      class="continue-button-container"
    >
      <wui-button
        fullWidth
        .loading=${this.loading}
        size="lg"
        borderRadius="xs"
        @click=${this.handleContinue.bind(this)}
        >Choose name
      </wui-button>
    </wui-flex>`}handleContinue(){Z.push("RegisterAccountName"),Ce.sendEvent({type:"track",event:"OPEN_ENS_FLOW",properties:{isSmartAccount:En(j.state.activeChain)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT}})}};OC.styles=fQe;Aoe([W()],OC.prototype,"loading",void 0);OC=Aoe([ie("w3m-choose-account-name-view")],OC);var gQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let i7=class extends Q{constructor(){super(...arguments),this.wallet=Z.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return $`
      <wui-flex gap="2" flexDirection="column" .padding=${["3","3","4","3"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?$`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?$`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?$`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?$`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="md-medium" color="primary">Website</wui-text>
      </wui-list-item>
    `:null}openStore(e){e.href&&this.wallet&&(Ce.sendEvent({type:"track",event:"GET_WALLET",properties:{name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.wallet.id,type:e.type}}),oe.openHref(e.href,"_blank"))}onChromeStore(){this.wallet?.chrome_store&&this.openStore({href:this.wallet.chrome_store,type:"chrome_store"})}onAppStore(){this.wallet?.app_store&&this.openStore({href:this.wallet.app_store,type:"app_store"})}onPlayStore(){this.wallet?.play_store&&this.openStore({href:this.wallet.play_store,type:"play_store"})}onHomePage(){this.wallet?.homepage&&this.openStore({href:this.wallet.homepage,type:"homepage"})}};i7=gQe([ie("w3m-downloads-view")],i7);var mQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const wQe="https://walletconnect.com/explorer";let s7=class extends Q{render(){return $`
      <wui-flex flexDirection="column" .padding=${["0","3","3","3"]} gap="2">
        ${this.recommendedWalletsTemplate()}
        <w3m-list-wallet
          name="Explore all"
          showAllWallets
          walletIcon="allWallets"
          icon="externalLink"
          size="sm"
          @click=${()=>{oe.openHref("https://walletconnect.com/explorer?type=wallet","_blank")}}
        ></w3m-list-wallet>
      </wui-flex>
    `}recommendedWalletsTemplate(){const{recommended:e,featured:n}=Te.state,{customWallets:r}=X.state;return[...n,...r??[],...e].slice(0,4).map((s,o)=>$`
        <w3m-list-wallet
          displayIndex=${o}
          name=${s.name??"Unknown"}
          tagVariant="accent"
          size="sm"
          imageSrc=${le(en.getWalletImage(s))}
          @click=${()=>{this.onWalletClick(s)}}
        ></w3m-list-wallet>
      `)}onWalletClick(e){Ce.sendEvent({type:"track",event:"GET_WALLET",properties:{name:e.name,walletRank:void 0,explorerId:e.id,type:"homepage"}}),oe.openHref(e.homepage??wQe,"_blank")}};s7=mQe([ie("w3m-get-wallet-view")],s7);var koe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let o7=class extends Q{constructor(){super(...arguments),this.data=[]}render(){return $`
      <wui-flex flexDirection="column" alignItems="center" gap="4">
        ${this.data.map(e=>$`
            <wui-flex flexDirection="column" alignItems="center" gap="5">
              <wui-flex flexDirection="row" justifyContent="center" gap="1">
                ${e.images.map(n=>$`<wui-visual size="sm" name=${n}></wui-visual>`)}
              </wui-flex>
            </wui-flex>
            <wui-flex flexDirection="column" alignItems="center" gap="1">
              <wui-text variant="md-regular" color="primary" align="center">${e.title}</wui-text>
              <wui-text variant="sm-regular" color="secondary" align="center"
                >${e.text}</wui-text
              >
            </wui-flex>
          `)}
      </wui-flex>
    `}};koe([L({type:Array})],o7.prototype,"data",void 0);o7=koe([ie("w3m-help-widget")],o7);var yQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const bQe=[{images:["login","profile","lock"],title:"One login for all of web3",text:"Log in to any app by connecting your wallet. Say goodbye to countless passwords!"},{images:["defi","nft","eth"],title:"A home for your digital assets",text:"A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs."},{images:["browser","noun","dao"],title:"Your gateway to a new web",text:"With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more."}];let a7=class extends Q{render(){return $`
      <wui-flex
        flexDirection="column"
        .padding=${["6","5","5","5"]}
        alignItems="center"
        gap="5"
      >
        <w3m-help-widget .data=${bQe}></w3m-help-widget>
        <wui-button variant="accent-primary" size="md" @click=${this.onGetWallet.bind(this)}>
          <wui-icon color="inherit" slot="iconLeft" name="wallet"></wui-icon>
          Get a wallet
        </wui-button>
      </wui-flex>
    `}onGetWallet(){Ce.sendEvent({type:"track",event:"CLICK_GET_WALLET_HELP"}),Z.push("GetWallet")}};a7=yQe([ie("w3m-what-is-a-wallet-view")],a7);const vQe=ve`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
  }
  wui-flex::-webkit-scrollbar {
    display: none;
  }
  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var $oe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let PC=class extends Q{constructor(){super(),this.unsubscribe=[],this.checked=pc.state.isLegalCheckboxChecked,this.unsubscribe.push(pc.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:n}=X.state,r=X.state.features?.legalCheckbox,s=!!(e||n)&&!!r,o=s&&!this.checked,a=o?-1:void 0;return $`
      <w3m-legal-checkbox></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${s?["0","3","3","3"]:"3"}
        gap="2"
        class=${le(o?"disabled":void 0)}
      >
        <w3m-wallet-login-list tabIdx=${le(a)}></w3m-wallet-login-list>
      </wui-flex>
    `}};PC.styles=vQe;$oe([W()],PC.prototype,"checked",void 0);PC=$oe([ie("w3m-connect-wallets-view")],PC);const EQe=ve`
  :host {
    display: block;
    width: 120px;
    height: 120px;
  }

  svg {
    width: 120px;
    height: 120px;
    fill: none;
    stroke: transparent;
    stroke-linecap: round;
  }

  use {
    stroke: ${t=>t.colors.accent100};
    stroke-width: 2px;
    stroke-dasharray: 54, 118;
    stroke-dashoffset: 172;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var CQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let c7=class extends Q{render(){return $`
      <svg viewBox="0 0 54 59">
        <path
          id="wui-loader-path"
          d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z"
        />
        <use xlink:href="#wui-loader-path"></use>
      </svg>
    `}};c7.styles=[st,EQe];c7=CQe([ie("wui-loading-hexagon")],c7);const _Qe=Be`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: 4px;
    bottom: 0;
    opacity: 0;
    transform: scale(0.5);
    z-index: 1;
  }

  wui-button {
    display: none;
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  wui-button[data-retry='true'] {
    display: block;
    opacity: 1;
  }
`;var IM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let iv=class extends Q{constructor(){super(),this.network=Z.state.data?.network,this.unsubscribe=[],this.showRetry=!1,this.error=!1}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}firstUpdated(){this.onSwitchNetwork()}render(){if(!this.network)throw new Error("w3m-network-switch-view: No network provided");this.onShowRetry();const e=this.getLabel(),n=this.getSubLabel();return $`
      <wui-flex
        data-error=${this.error}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","10","5"]}
        gap="7"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-network-image
            size="lg"
            imageSrc=${le(en.getNetworkImage(this.network))}
          ></wui-network-image>

          ${this.error?null:$`<wui-loading-hexagon></wui-loading-hexagon>`}

          <wui-icon-box color="error" icon="close" size="sm"></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="2">
          <wui-text align="center" variant="h6-regular" color="primary">${e}</wui-text>
          <wui-text align="center" variant="md-regular" color="secondary">${n}</wui-text>
        </wui-flex>

        <wui-button
          data-retry=${this.showRetry}
          variant="accent-primary"
          size="md"
          .disabled=${!this.error}
          @click=${this.onSwitchNetwork.bind(this)}
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try again
        </wui-button>
      </wui-flex>
    `}getSubLabel(){const e=ae.getConnectorId(j.state.activeChain);return ae.getAuthConnector()&&e===ne.CONNECTOR_ID.AUTH?"":this.error?"Switch can be declined if chain is not supported by a wallet or previous request is still active":"Accept connection request in your wallet"}getLabel(){const e=ae.getConnectorId(j.state.activeChain);return ae.getAuthConnector()&&e===ne.CONNECTOR_ID.AUTH?`Switching to ${this.network?.name??"Unknown"} network...`:this.error?"Switch declined":"Approve in wallet"}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}async onSwitchNetwork(){try{this.error=!1,j.state.activeChain!==this.network?.chainNamespace&&j.setIsSwitchingNamespace(!0),this.network&&(await j.switchActiveNetwork(this.network),await ws.isAuthenticated()&&Z.goBack())}catch{this.error=!0}}};iv.styles=_Qe;IM([W()],iv.prototype,"showRetry",void 0);IM([W()],iv.prototype,"error",void 0);iv=IM([ie("w3m-network-switch-view")],iv);const IQe=ve`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-text {
    text-transform: capitalize;
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`;var E4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let b0=class extends Q{constructor(){super(...arguments),this.imageSrc=void 0,this.name="Ethereum",this.disabled=!1}render(){return $`
      <button ?disabled=${this.disabled} tabindex=${le(this.tabIdx)}>
        <wui-flex gap="2" alignItems="center">
          ${this.imageTemplate()}
          <wui-text variant="lg-regular" color="primary">${this.name}</wui-text>
        </wui-flex>
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}imageTemplate(){return this.imageSrc?$`<wui-image ?boxed=${!0} src=${this.imageSrc}></wui-image>`:$`<wui-image
      ?boxed=${!0}
      icon="networkPlaceholder"
      size="lg"
      iconColor="default"
    ></wui-image>`}};b0.styles=[st,Jt,IQe];E4([L()],b0.prototype,"imageSrc",void 0);E4([L()],b0.prototype,"name",void 0);E4([L()],b0.prototype,"tabIdx",void 0);E4([L({type:Boolean})],b0.prototype,"disabled",void 0);b0=E4([ie("wui-list-network")],b0);const SQe=Be`
  .container {
    max-height: 360px;
    overflow: auto;
  }

  .container::-webkit-scrollbar {
    display: none;
  }
`;var C4=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Rg=class extends Q{constructor(){super(),this.unsubscribe=[],this.network=j.state.activeCaipNetwork,this.requestedCaipNetworks=j.getCaipNetworks(),this.search="",this.onDebouncedSearch=oe.debounce(e=>{this.search=e},100),this.unsubscribe.push(lr.subscribeNetworkImages(()=>this.requestUpdate()),j.subscribeKey("activeCaipNetwork",e=>this.network=e),j.subscribe(()=>{this.requestedCaipNetworks=j.getAllRequestedCaipNetworks()}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      ${this.templateSearchInput()}
      <wui-flex
        class="container"
        .padding=${["0","3","3","3"]}
        flexDirection="column"
        gap="2"
      >
        ${this.networksTemplate()}
      </wui-flex>
    `}templateSearchInput(){return $`
      <wui-flex gap="2" .padding=${["0","3","3","3"]}>
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="md"
          placeholder="Search network"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}networksTemplate(){const e=j.getAllApprovedCaipNetworkIds(),n=oe.sortRequestedNetworks(e,this.requestedCaipNetworks);return this.search?this.filteredNetworks=n?.filter(r=>r?.name?.toLowerCase().includes(this.search.toLowerCase())):this.filteredNetworks=n,this.filteredNetworks?.map(r=>$`
        <wui-list-network
          .selected=${this.network?.id===r.id}
          imageSrc=${le(en.getNetworkImage(r))}
          type="network"
          name=${r.name??r.id}
          @click=${()=>this.onSwitchNetwork(r)}
          .disabled=${j.isCaipNetworkDisabled(r)}
          data-testid=${`w3m-network-switch-${r.name??r.id}`}
        ></wui-list-network>
      `)}onSwitchNetwork(e){Vte.onSwitchNetwork({network:e})}};Rg.styles=SQe;C4([W()],Rg.prototype,"network",void 0);C4([W()],Rg.prototype,"requestedCaipNetworks",void 0);C4([W()],Rg.prototype,"filteredNetworks",void 0);C4([W()],Rg.prototype,"search",void 0);Rg=C4([ie("w3m-networks-view")],Rg);const xQe=ve`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    border-radius: calc(
      ${({borderRadius:t})=>t[1]} * 9 - ${({borderRadius:t})=>t[3]}
    );
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(
      ${({borderRadius:t})=>t[1]} * 9 - ${({borderRadius:t})=>t[3]}
    );
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.core.glass010};
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:t})=>t[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:t})=>t["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: ${({spacing:t})=>t["01"]} ${({spacing:t})=>t[2]};
  }

  .capitalize {
    text-transform: capitalize;
  }
`;var Toe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const AQe={eip155:"eth",solana:"solana",bip122:"bitcoin",polkadot:void 0};let RC=class extends Q{constructor(){super(...arguments),this.unsubscribe=[],this.switchToChain=Z.state.data?.switchToChain,this.caipNetwork=Z.state.data?.network,this.activeChain=j.state.activeChain}firstUpdated(){this.unsubscribe.push(j.subscribeKey("activeChain",e=>this.activeChain=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.switchToChain?ne.CHAIN_NAME_MAP[this.switchToChain]:"supported";if(!this.switchToChain)return null;const n=ne.CHAIN_NAME_MAP[this.switchToChain];return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["4","2","2","2"]}
        gap="4"
      >
        <wui-flex justifyContent="center" flexDirection="column" alignItems="center" gap="2">
          <wui-visual
            size="md"
            name=${le(AQe[this.switchToChain])}
          ></wui-visual>
          <wui-flex gap="2" flexDirection="column" alignItems="center">
            <wui-text
              data-testid=${`w3m-switch-active-chain-to-${n}`}
              variant="lg-regular"
              color="primary"
              align="center"
              >Switch to <span class="capitalize">${n}</span></wui-text
            >
            <wui-text variant="md-regular" color="secondary" align="center">
              Connected wallet doesn't support connecting to ${e} chain. You
              need to connect with a different wallet.
            </wui-text>
          </wui-flex>
          <wui-button
            data-testid="w3m-switch-active-chain-button"
            size="md"
            @click=${this.switchActiveChain.bind(this)}
            >Switch</wui-button
          >
        </wui-flex>
      </wui-flex>
    `}async switchActiveChain(){this.switchToChain&&(j.setIsSwitchingNamespace(!0),ae.setFilterByNamespace(this.switchToChain),this.caipNetwork?await j.switchActiveNetwork(this.caipNetwork):j.setActiveNamespace(this.switchToChain),Z.reset("Connect"))}};RC.styles=xQe;Toe([L()],RC.prototype,"activeChain",void 0);RC=Toe([ie("w3m-switch-active-chain-view")],RC);var kQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const $Qe=[{images:["network","layers","system"],title:"The systemâ€™s nuts and bolts",text:"A network is what brings the blockchain to life, as this technical infrastructure allows apps to access the ledger and smart contract services."},{images:["noun","defiAlt","dao"],title:"Designed for different uses",text:"Each network is designed differently, and may therefore suit certain apps and experiences."}];let l7=class extends Q{render(){return $`
      <wui-flex
        flexDirection="column"
        .padding=${["6","5","5","5"]}
        alignItems="center"
        gap="5"
      >
        <w3m-help-widget .data=${$Qe}></w3m-help-widget>
        <wui-button
          variant="accent-primary"
          size="md"
          @click=${()=>{oe.openHref("https://ethereum.org/en/developers/docs/networks/","_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};l7=kQe([ie("w3m-what-is-a-network-view")],l7);const TQe=Be`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var SM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let sv=class extends Q{constructor(){super(),this.swapUnsupportedChain=Z.state.data?.swapUnsupportedChain,this.unsubscribe=[],this.disconnecting=!1,this.remoteFeatures=X.state.remoteFeatures,this.unsubscribe.push(lr.subscribeNetworkImages(()=>this.requestUpdate()),X.subscribeKey("remoteFeatures",e=>{this.remoteFeatures=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex class="container" flexDirection="column" gap="0">
        <wui-flex
          class="container"
          flexDirection="column"
          .padding=${["3","5","2","5"]}
          alignItems="center"
          gap="5"
        >
          ${this.descriptionTemplate()}
        </wui-flex>

        <wui-flex flexDirection="column" padding="3" gap="2"> ${this.networksTemplate()} </wui-flex>

        <wui-separator text="or"></wui-separator>
        <wui-flex flexDirection="column" padding="3" gap="2">
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="signOut"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="md-medium" color="secondary">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}descriptionTemplate(){return this.swapUnsupportedChain?$`
        <wui-text variant="sm-regular" color="secondary" align="center">
          The swap feature doesnâ€™t support your current network. Switch to an available option to
          continue.
        </wui-text>
      `:$`
      <wui-text variant="sm-regular" color="secondary" align="center">
        This app doesnâ€™t support your current network. Switch to an available option to continue.
      </wui-text>
    `}networksTemplate(){const e=j.getAllRequestedCaipNetworks(),n=j.getAllApprovedCaipNetworkIds(),r=oe.sortRequestedNetworks(n,e);return(this.swapUnsupportedChain?r.filter(s=>yt.SWAP_SUPPORTED_NETWORKS.includes(s.caipNetworkId)):r).map(s=>$`
        <wui-list-network
          imageSrc=${le(en.getNetworkImage(s))}
          name=${s.name??"Unknown"}
          @click=${()=>this.onSwitchNetwork(s)}
        >
        </wui-list-network>
      `)}async onDisconnect(){try{this.disconnecting=!0;const e=j.state.activeChain,r=pe.getConnections(e).length>0,i=e&&ae.state.activeConnectorIds[e],s=this.remoteFeatures?.multiWallet;await pe.disconnect(s?{id:i,namespace:e}:{}),r&&s&&(Z.push("ProfileWallets"),Ue.showSuccess("Wallet deleted"))}catch{Ce.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:"Failed to disconnect"}}),Ue.showError("Failed to disconnect")}finally{this.disconnecting=!1}}async onSwitchNetwork(e){const n=j.getActiveCaipAddress(),r=j.getAllApprovedCaipNetworkIds(),i=j.getNetworkProp("supportsAllNetworks",e.chainNamespace),s=Z.state.data;n?r?.includes(e.caipNetworkId)?await j.switchActiveNetwork(e):i?Z.push("SwitchNetwork",{...s,network:e}):Z.push("SwitchNetwork",{...s,network:e}):n||(j.setActiveCaipNetwork(e),Z.push("Connect"))}};sv.styles=TQe;SM([W()],sv.prototype,"disconnecting",void 0);SM([W()],sv.prototype,"remoteFeatures",void 0);sv=SM([ie("w3m-unsupported-chain-view")],sv);const NQe=ve`
  wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: ${({spacing:t})=>t[3]};
  }

  /* -- Types --------------------------------------------------------- */
  wui-flex[data-type='info'] {
    color: ${({tokens:t})=>t.theme.textSecondary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-flex[data-type='success'] {
    color: ${({tokens:t})=>t.core.textSuccess};
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  wui-flex[data-type='error'] {
    color: ${({tokens:t})=>t.core.textError};
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  wui-flex[data-type='warning'] {
    color: ${({tokens:t})=>t.core.textWarning};
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
  }

  wui-flex[data-type='info'] wui-icon-box {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  wui-flex[data-type='success'] wui-icon-box {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  wui-flex[data-type='error'] wui-icon-box {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  wui-flex[data-type='warning'] wui-icon-box {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
  }

  wui-text {
    flex: 1;
  }
`;var Ok=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ov=class extends Q{constructor(){super(...arguments),this.icon="externalLink",this.text="",this.type="info"}render(){return $`
      <wui-flex alignItems="center" data-type=${this.type}>
        <wui-icon-box size="sm" color="inherit" icon=${this.icon}></wui-icon-box>
        <wui-text variant="md-regular" color="inherit">${this.text}</wui-text>
      </wui-flex>
    `}};ov.styles=[st,Jt,NQe];Ok([L()],ov.prototype,"icon",void 0);Ok([L()],ov.prototype,"text",void 0);Ok([L()],ov.prototype,"type",void 0);ov=Ok([ie("wui-banner")],ov);const OQe=Be`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var PQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let zx=class extends Q{constructor(){super(),this.unsubscribe=[]}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $` <wui-flex flexDirection="column" .padding=${["2","3","3","3"]} gap="2">
      <wui-banner
        icon="warningCircle"
        text="You can only receive assets on these networks"
      ></wui-banner>
      ${this.networkTemplate()}
    </wui-flex>`}networkTemplate(){const e=j.getAllRequestedCaipNetworks(),n=j.getAllApprovedCaipNetworkIds(),r=j.state.activeCaipNetwork,i=j.checkIfSmartAccountEnabled();let s=oe.sortRequestedNetworks(n,e);if(i&&En(r?.chainNamespace)===Vt.ACCOUNT_TYPES.SMART_ACCOUNT){if(!r)return null;s=[r]}return s.filter(a=>a.chainNamespace===r?.chainNamespace).map(a=>$`
        <wui-list-network
          imageSrc=${le(en.getNetworkImage(a))}
          name=${a.name??"Unknown"}
          ?transparent=${!0}
        >
        </wui-list-network>
      `)}};zx.styles=OQe;zx=PQe([ie("w3m-wallet-compatible-networks-view")],zx);const RQe=ve`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 56px;
    height: 56px;
    box-shadow: 0 0 0 8px ${({tokens:t})=>t.theme.borderPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    overflow: hidden;
  }

  :host([data-border-radius-full='true']) {
    border-radius: 50px;
  }

  wui-icon {
    width: 32px;
    height: 32px;
  }
`;var Pk=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let av=class extends Q{render(){return this.dataset.borderRadiusFull=this.borderRadiusFull?"true":"false",$`${this.templateVisual()}`}templateVisual(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt=${this.alt??""}></wui-image>`:$`<wui-icon
      data-parent-size="md"
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};av.styles=[st,RQe];Pk([L()],av.prototype,"imageSrc",void 0);Pk([L()],av.prototype,"alt",void 0);Pk([L({type:Boolean})],av.prototype,"borderRadiusFull",void 0);av=Pk([ie("wui-visual-thumbnail")],av);const DQe=ve`
  :host {
    display: flex;
    justify-content: center;
    gap: ${({spacing:t})=>t[4]};
  }

  wui-visual-thumbnail:nth-child(1) {
    z-index: 1;
  }
`;var UQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let u7=class extends Q{constructor(){super(...arguments),this.dappImageUrl=X.state.metadata?.icons,this.walletImageUrl=j.getAccountData()?.connectedWalletInfo?.icon}firstUpdated(){const e=this.shadowRoot?.querySelectorAll("wui-visual-thumbnail");e?.[0]&&this.createAnimation(e[0],"translate(18px)"),e?.[1]&&this.createAnimation(e[1],"translate(-18px)")}render(){return $`
      <wui-visual-thumbnail
        ?borderRadiusFull=${!0}
        .imageSrc=${this.dappImageUrl?.[0]}
      ></wui-visual-thumbnail>
      <wui-visual-thumbnail .imageSrc=${this.walletImageUrl}></wui-visual-thumbnail>
    `}createAnimation(e,n){e.animate([{transform:"translateX(0px)"},{transform:n}],{duration:1600,easing:"cubic-bezier(0.56, 0, 0.48, 1)",direction:"alternate",iterations:1/0})}};u7.styles=DQe;u7=UQe([ie("w3m-siwx-sign-message-thumbnails")],u7);var xM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let DC=class extends Q{constructor(){super(...arguments),this.dappName=X.state.metadata?.name,this.isCancelling=!1,this.isSigning=!1}render(){return $`
      <wui-flex justifyContent="center" .padding=${["8","0","6","0"]}>
        <w3m-siwx-sign-message-thumbnails></w3m-siwx-sign-message-thumbnails>
      </wui-flex>
      <wui-flex .padding=${["0","20","5","20"]} gap="3" justifyContent="space-between">
        <wui-text variant="lg-medium" align="center" color="primary"
          >${this.dappName??"Dapp"} needs to connect to your wallet</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${["0","10","4","10"]} gap="3" justifyContent="space-between">
        <wui-text variant="md-regular" align="center" color="secondary"
          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect
          you.</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${["4","5","5","5"]} gap="3" justifyContent="space-between">
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="neutral-secondary"
          ?loading=${this.isCancelling}
          @click=${this.onCancel.bind(this)}
          data-testid="w3m-connecting-siwe-cancel"
        >
          ${this.isCancelling?"Cancelling...":"Cancel"}
        </wui-button>
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="neutral-primary"
          @click=${this.onSign.bind(this)}
          ?loading=${this.isSigning}
          data-testid="w3m-connecting-siwe-sign"
        >
          ${this.isSigning?"Signing...":"Sign"}
        </wui-button>
      </wui-flex>
    `}async onSign(){this.isSigning=!0;try{await ws.requestSignMessage()}catch(e){if(e instanceof Error&&e.message.includes("OTP is required")){Ue.showError({message:"Something went wrong. We need to verify your account again."}),Z.replace("DataCapture");return}throw e}finally{this.isSigning=!1}}async onCancel(){this.isCancelling=!0,await ws.cancelSignMessage().finally(()=>this.isCancelling=!1)}};xM([W()],DC.prototype,"isCancelling",void 0);xM([W()],DC.prototype,"isSigning",void 0);DC=xM([ie("w3m-siwx-sign-message-view")],DC);const MQe=Object.freeze(Object.defineProperty({__proto__:null,get AppKitAccountButton(){return V9},get AppKitButton(){return Z9},get AppKitConnectButton(){return Y9},get AppKitNetworkButton(){return X9},get W3mAccountButton(){return H9},get W3mAccountSettingsView(){return Tp},get W3mAccountView(){return Px},get W3mAllWalletsView(){return $C},get W3mButton(){return K9},get W3mChooseAccountNameView(){return OC},get W3mConnectButton(){return G9},get W3mConnectView(){return Ko},get W3mConnectWalletsView(){return PC},get W3mConnectingExternalView(){return n7},get W3mConnectingMultiChainView(){return TC},get W3mConnectingWcBasicView(){return NC},get W3mConnectingWcView(){return Rd},get W3mDownloadsView(){return i7},get W3mFooter(){return X1},get W3mFundWalletView(){return Og},get W3mGetWalletView(){return s7},get W3mNetworkButton(){return J9},get W3mNetworkSwitchView(){return iv},get W3mNetworksView(){return Rg},get W3mProfileWalletsView(){return Eo},get W3mRouter(){return Q1},get W3mSIWXSignMessageView(){return DC},get W3mSwitchActiveChainView(){return RC},get W3mUnsupportedChainView(){return sv},get W3mWalletCompatibleNetworksView(){return zx},get W3mWhatIsANetworkView(){return l7},get W3mWhatIsAWalletView(){return a7}},Symbol.toStringTag,{value:"Module"})),LQe=ve`
  :host {
    display: block;
    border-radius: clamp(0px, ${({borderRadius:t})=>t[8]}, 44px);
    box-shadow: 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    overflow: hidden;
  }
`;var jQe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let d7=class extends Q{render(){return $`<slot></slot>`}};d7.styles=[st,LQe];d7=jQe([ie("wui-card")],d7);const BQe=ve`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[6]};
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
    box-sizing: border-box;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  :host > wui-flex[data-type='info'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};

      wui-icon {
        color: ${({tokens:t})=>t.theme.iconDefault};
      }
    }
  }
  :host > wui-flex[data-type='success'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundSuccess};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderSuccess};
      }
    }
  }
  :host > wui-flex[data-type='warning'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundWarning};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderWarning};
      }
    }
  }
  :host > wui-flex[data-type='error'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundError};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderError};
      }
    }
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:t})=>t[2]};
    background-color: var(--local-icon-bg-value);
  }
`;var AM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const zQe={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"};let UC=class extends Q{constructor(){super(...arguments),this.message="",this.type="info"}render(){return $`
      <wui-flex
        data-type=${le(this.type)}
        flexDirection="row"
        justifyContent="space-between"
        alignItems="center"
        gap="2"
      >
        <wui-flex columnGap="2" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color="inherit" size="md" name=${zQe[this.type]}></wui-icon>
          </wui-flex>
          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="inherit"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){Kn.close()}};UC.styles=[st,BQe];AM([L()],UC.prototype,"message",void 0);AM([L()],UC.prototype,"type",void 0);UC=AM([ie("wui-alertbar")],UC);const WQe=ve`
  :host {
    display: block;
    position: absolute;
    top: ${({spacing:t})=>t[3]};
    left: ${({spacing:t})=>t[4]};
    right: ${({spacing:t})=>t[4]};
    opacity: 0;
    pointer-events: none;
  }
`;var Noe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const qQe={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}};let Wx=class extends Q{constructor(){super(),this.unsubscribe=[],this.open=Kn.state.open,this.onOpen(!0),this.unsubscribe.push(Kn.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n}=Kn.state,r=qQe[n];return $`
      <wui-alertbar
        message=${e}
        backgroundColor=${r?.backgroundColor}
        iconColor=${r?.iconColor}
        icon=${r?.icon}
        type=${n}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};Wx.styles=WQe;Noe([W()],Wx.prototype,"open",void 0);Wx=Noe([ie("w3m-alertbar")],Wx);const FQe=ve`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:t})=>t[1]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
    border-radius: ${({borderRadius:t})=>t[32]};
  }

  wui-image {
    border-radius: 100%;
  }

  wui-text {
    padding-left: ${({spacing:t})=>t[1]};
  }

  .left-icon-container,
  .right-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-type='filled-dropdown'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-type='text-dropdown'] {
    background-color: transparent;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    opacity: 0.5;
  }
`;var c2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const HQe={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},VQe={lg:"lg",md:"md",sm:"sm"};let Dg=class extends Q{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return $`<button ?disabled=${this.disabled} data-size=${this.size} data-type=${this.type}>
      ${this.imageTemplate()} ${this.textTemplate()}
      <wui-flex class="right-icon-container">
        <wui-icon name="chevronBottom"></wui-icon>
      </wui-flex>
    </button>`}textTemplate(){const e=HQe[this.size];return this.text?$`<wui-text color="primary" variant=${e}>${this.text}</wui-text>`:null}imageTemplate(){if(this.imageSrc)return $`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;const e=VQe[this.size];return $` <wui-flex class="left-icon-container">
      <wui-icon size=${e} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}};Dg.styles=[st,Jt,FQe];c2([L()],Dg.prototype,"imageSrc",void 0);c2([L()],Dg.prototype,"text",void 0);c2([L()],Dg.prototype,"size",void 0);c2([L()],Dg.prototype,"type",void 0);c2([L({type:Boolean})],Dg.prototype,"disabled",void 0);Dg=c2([ie("wui-select")],Dg);const KQe=ve`
  :host {
    height: 60px;
  }

  :host > wui-flex {
    box-sizing: border-box;
    background-color: var(--local-header-background-color);
  }

  wui-text {
    background-color: var(--local-header-background-color);
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards ${({easings:t})=>t["ease-out-power-2"]},
      slide-down-in 120ms forwards ${({easings:t})=>t["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards ${({easings:t})=>t["ease-out-power-2"]},
      slide-up-in 120ms forwards ${({easings:t})=>t["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-icon-button[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var am=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const ZQe=["SmartSessionList"],GQe={PayWithExchange:vr.tokens.theme.foregroundPrimary};function OV(){const t=Z.state.data?.connector?.name,e=Z.state.data?.wallet?.name,n=Z.state.data?.network?.name,r=e??t,i=ae.getConnectors(),s=i.length===1&&i[0]?.id==="w3m-email",o=j.getAccountData()?.socialProvider,a=o?o.charAt(0).toUpperCase()+o.slice(1):"Connect Social";return{Connect:`Connect ${s?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",UsageExceeded:"Usage Exceeded",ConnectingExternal:r??"Connect Wallet",ConnectingWalletConnect:r??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:r?`Get ${r}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:n??"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WalletSendConfirmed:"Confirmed",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:a,ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in Progress",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from Exchange",PayWithExchangeSelectAsset:"Select Asset",SmartAccountSettings:"Smart Account Settings"}}let Dd=class extends Q{constructor(){super(),this.unsubscribe=[],this.heading=OV()[Z.state.view],this.network=j.state.activeCaipNetwork,this.networkImage=en.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=Z.state.view,this.viewDirection="",this.unsubscribe.push(lr.subscribeNetworkImages(()=>{this.networkImage=en.getNetworkImage(this.network)}),Z.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.heading=OV()[e]},np.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),j.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=en.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=GQe[Z.state.view]??vr.tokens.theme.backgroundPrimary;return this.style.setProperty("--local-header-background-color",e),$`
      <wui-flex
        .padding=${["0","4","0","4"]}
        justifyContent="space-between"
        alignItems="center"
      >
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){Ce.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),Z.push("WhatIsAWallet")}async onClose(){await $se.safeClose()}rightHeaderTemplate(){const e=X?.state?.features?.smartSessions;return Z.state.view!=="Account"||!e?this.closeButtonTemplate():$`<wui-flex>
      <wui-icon-button
        icon="clock"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${()=>Z.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-button>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return $`
      <wui-icon-button
        icon="close"
        size="lg"
        type="neutral"
        variant="primary"
        iconSize="lg"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-button>
    `}titleTemplate(){const e=ZQe.includes(this.view);return $`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="2"
      >
        <wui-text
          display="inline"
          variant="lg-regular"
          color="primary"
          data-testid="w3m-header-text"
        >
          ${this.heading}
        </wui-text>
        ${e?$`<wui-tag variant="accent" size="md">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:e}=Z.state,n=e==="Connect",r=X.state.enableEmbedded,i=e==="ApproveTransaction",s=e==="ConnectingSiwe",o=e==="Account",a=X.state.enableNetworkSwitch,c=i||s||n&&r;return o&&a?$`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${le(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${le(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?$`<wui-icon-button
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-button>`:$`<wui-icon-button
      data-hidden=${!n}
      id="dynamic"
      icon="helpCircle"
      size="lg"
      iconSize="lg"
      type="neutral"
      variant="primary"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-button>`}onNetworks(){this.isAllowedNetworkSwitch()&&(Ce.sendEvent({type:"track",event:"CLICK_NETWORKS"}),Z.push("Networks"))}isAllowedNetworkSwitch(){const e=j.getAllRequestedCaipNetworks(),n=e?e.length>1:!1,r=e?.find(({id:i})=>i===this.network?.id);return n||!r}onViewChange(){const{history:e}=Z.state;let n=np.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(n=np.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=n}async onHistoryChange(){const{history:e}=Z.state,n=this.shadowRoot?.querySelector("#dynamic");e.length>1&&!this.showBack&&n?(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){Z.goBack()}};Dd.styles=KQe;am([W()],Dd.prototype,"heading",void 0);am([W()],Dd.prototype,"network",void 0);am([W()],Dd.prototype,"networkImage",void 0);am([W()],Dd.prototype,"showBack",void 0);am([W()],Dd.prototype,"prevHistoryLength",void 0);am([W()],Dd.prototype,"view",void 0);am([W()],Dd.prototype,"viewDirection",void 0);Dd=am([ie("w3m-header")],Dd);const YQe=ve`
  :host {
    display: flex;
    align-items: center;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[2]} ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[20]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow:
      0px 0px 8px 0px rgba(0, 0, 0, 0.1),
      inset 0 0 0 1px ${({tokens:t})=>t.theme.borderPrimary};
    max-width: 320px;
  }

  wui-icon-box {
    border-radius: ${({borderRadius:t})=>t.round} !important;
    overflow: hidden;
  }

  wui-loading-spinner {
    padding: ${({spacing:t})=>t[1]};
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    border-radius: ${({borderRadius:t})=>t.round} !important;
  }
`;var kM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let MC=class extends Q{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return $`
      ${this.templateIcon()}
      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){const e={success:"success",error:"error",warning:"warning",info:"default"},n={success:"checkmark",error:"warning",warning:"warningCircle",info:"info"};return this.variant==="loading"?$`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:$`<wui-icon-box
      size="md"
      color=${e[this.variant]}
      icon=${n[this.variant]}
    ></wui-icon-box>`}};MC.styles=[st,YQe];kM([L()],MC.prototype,"message",void 0);kM([L()],MC.prototype,"variant",void 0);MC=kM([ie("wui-snackbar")],MC);const JQe=Be`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var Ooe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let qx=class extends Q{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=Ue.state.open,this.unsubscribe.push(Ue.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n}=Ue.state;return $` <wui-snackbar message=${e} variant=${n}></wui-snackbar> `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),Ue.state.autoClose&&(this.timeout=setTimeout(()=>Ue.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};qx.styles=JQe;Ooe([W()],qx.prototype,"open",void 0);qx=Ooe([ie("w3m-snackbar")],qx);const XQe=ve`
  :host {
    z-index: ${({tokens:t})=>t.core.zIndex};
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: ${({tokens:t})=>t.theme.overlay};
    backdrop-filter: blur(0px);
    transition:
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      backdrop-filter ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--apkt-modal-width);
    width: 100%;
    position: relative;
    outline: none;
    transform: translateY(4px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);
    transition:
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: border-radius, background-color, transform, box-shadow;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    padding: var(--local-modal-padding);
    box-sizing: border-box;
  }

  :host(.open) wui-card {
    transform: translateY(0px);
  }

  wui-card::before {
    z-index: 1;
    pointer-events: none;
    content: '';
    position: absolute;
    inset: 0;
    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    transition: box-shadow ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    transition-delay: ${({durations:t})=>t.md};
    will-change: box-shadow;
  }

  :host([data-mobile-fullscreen='true']) wui-card::before {
    border-radius: 0px;
  }

  :host([data-border='true']) wui-card::before {
    box-shadow: inset 0px 0px 0px 4px ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  :host([data-border='false']) wui-card::before {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:t})=>t.theme.borderPrimaryDark};
  }

  :host([data-border='true']) wui-card {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      card-background-border var(--apkt-duration-dynamic)
        ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  :host([data-border='false']) wui-card {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      card-background-default var(--apkt-duration-dynamic)
        ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: 0s;
  }

  :host(.appkit-modal) wui-card {
    max-width: var(--apkt-modal-width);
  }

  wui-card[shake='true'] {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      w3m-shake ${({durations:t})=>t.xl}
        ${({easings:t})=>t["ease-out-power-2"]};
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--apkt-spacing-6) 0px;
    }
  }

  @media (max-width: 430px) {
    :host([data-mobile-fullscreen='true']) {
      height: 100dvh;
    }
    :host([data-mobile-fullscreen='true']) wui-flex {
      align-items: stretch;
    }
    :host([data-mobile-fullscreen='true']) wui-card {
      max-width: 100%;
      height: 100%;
      border-radius: 0;
      border: none;
    }
    :host(:not([data-mobile-fullscreen='true'])) wui-flex {
      align-items: flex-end;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card {
      max-width: 100%;
      border-bottom: none;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card[data-embedded='true'] {
      border-bottom-left-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
      border-bottom-right-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card:not([data-embedded='true']) {
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }

    wui-card[shake='true'] {
      animation: w3m-shake 0.5s ${({easings:t})=>t["ease-out-power-2"]};
    }
  }

  @keyframes fade-in {
    0% {
      transform: scale(0.99) translateY(4px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes card-background-border {
    from {
      background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    }
    to {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  @keyframes card-background-default {
    from {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
    to {
      background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    }
  }
`;var Zd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const PV="scroll-lock",QQe={PayWithExchange:"0",PayWithExchangeSelectAsset:"0"};let kl=class extends Q{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=X.state.enableEmbedded,this.open=Ke.state.open,this.caipAddress=j.state.activeCaipAddress,this.caipNetwork=j.state.activeCaipNetwork,this.shake=Ke.state.shake,this.filterByNamespace=ae.state.filterByNamespace,this.padding=vr.spacing[1],this.mobileFullScreen=X.state.enableMobileFullScreen,this.initializeTheming(),Te.prefetchAnalyticsConfig(),this.unsubscribe.push(Ke.subscribeKey("open",e=>e?this.onOpen():this.onClose()),Ke.subscribeKey("shake",e=>this.shake=e),j.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),j.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),X.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),ae.subscribeKey("filterByNamespace",e=>{this.filterByNamespace!==e&&!j.getAccountData(e)?.caipAddress&&(Te.fetchRecommendedWallets(),this.filterByNamespace=e)}),Z.subscribeKey("view",()=>{this.dataset.border=bu.hasFooter()?"true":"false",this.padding=QQe[Z.state.view]??vr.spacing[1]}))}firstUpdated(){if(this.dataset.border=bu.hasFooter()?"true":"false",this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.caipAddress){if(this.enableEmbedded){Ke.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.setProperty("--local-modal-padding",this.padding),this.enableEmbedded?$`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?$`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return $` <wui-card
      shake="${this.shake}"
      data-embedded="${le(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-footer></w3m-footer>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){if(e.target===e.currentTarget){if(this.mobileFullScreen)return;await this.handleClose()}}async handleClose(){await $se.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:n}=zn.state,r=sn.getColorTheme(n);nKe(e,r)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),Ue.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=PV,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${PV}"]`);e&&e.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const e=this.shadowRoot?.querySelector("wui-card");e?.focus(),window.addEventListener("keydown",n=>{if(n.key==="Escape")this.handleClose();else if(n.key==="Tab"){const{tagName:r}=n.target;r&&!r.includes("W3M-")&&!r.includes("WUI-")&&e?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(e){const n=j.state.isSwitchingNamespace,r=Z.state.view==="ProfileWallets";!e&&!n&&!r&&Ke.close(),await ws.initializeIfEnabled(e),this.caipAddress=e,j.setIsSwitchingNamespace(!1)}onNewNetwork(e){const r=this.caipNetwork?.caipNetworkId?.toString(),i=e?.caipNetworkId?.toString(),s=r!==i,o=Z.state.view==="UnsupportedChain",a=Ke.state.open;let c=!1;this.enableEmbedded&&Z.state.view==="SwitchNetwork"&&(c=!0),s&&we.resetState(),a&&o&&(c=!0),c&&Z.state.view!=="SIWXSignMessage"&&Z.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(Te.prefetch(),Te.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}};kl.styles=XQe;Zd([L({type:Boolean})],kl.prototype,"enableEmbedded",void 0);Zd([W()],kl.prototype,"open",void 0);Zd([W()],kl.prototype,"caipAddress",void 0);Zd([W()],kl.prototype,"caipNetwork",void 0);Zd([W()],kl.prototype,"shake",void 0);Zd([W()],kl.prototype,"filterByNamespace",void 0);Zd([W()],kl.prototype,"padding",void 0);Zd([W()],kl.prototype,"mobileFullScreen",void 0);let h7=class extends kl{};h7=Zd([ie("w3m-modal")],h7);let p7=class extends kl{};p7=Zd([ie("appkit-modal")],p7);const eet=ve`
  .icon-box {
    width: 64px;
    height: 64px;
    border-radius: ${({borderRadius:t})=>t[5]};
    background-color: ${({colors:t})=>t.semanticError010};
  }
`;var tet=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Fx=class extends Q{constructor(){super()}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding="${["1","3","4","3"]}"
      >
        <wui-flex justifyContent="center" alignItems="center" class="icon-box">
          <wui-icon size="xxl" color="error" name="warningCircle"></wui-icon>
        </wui-flex>

        <wui-text variant="lg-medium" color="primary" align="center">
          The app isn't responding as expected
        </wui-text>
        <wui-text variant="md-regular" color="secondary" align="center">
          Try again or reach out to the app team for help.
        </wui-text>

        <wui-button
          variant="neutral-secondary"
          size="md"
          @click=${this.onTryAgainClick.bind(this)}
          data-testid="w3m-usage-exceeded-button"
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try Again
        </wui-button>
      </wui-flex>
    `}onTryAgainClick(){Z.goBack()}};Fx.styles=eet;Fx=tet([ie("w3m-usage-exceeded-view")],Fx);const net=ve`
  :host {
    width: 100%;
  }
`;var Ys=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Li=class extends Q{constructor(){super(...arguments),this.hasImpressionSent=!1,this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100",this.rdnsId="",this.displayIndex=void 0,this.walletRank=void 0,this.namespaces=[]}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupIntersectionObserver()}updated(e){super.updated(e),(e.has("name")||e.has("imageSrc")||e.has("walletRank"))&&(this.hasImpressionSent=!1),e.has("walletRank")&&this.walletRank&&!this.intersectionObserver&&this.setupIntersectionObserver()}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&!this.loading&&!this.hasImpressionSent&&this.sendImpressionEvent()})},{threshold:.1}),this.intersectionObserver.observe(this)}cleanupIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}sendImpressionEvent(){!this.name||this.hasImpressionSent||!this.walletRank||(this.hasImpressionSent=!0,(this.rdnsId||this.name)&&Ce.sendWalletImpressionEvent({name:this.name,walletRank:this.walletRank,rdnsId:this.rdnsId,view:Z.state.view,displayIndex:this.displayIndex}))}handleGetWalletNamespaces(){return Object.keys(lU.state.adapters).length>1?this.namespaces:[]}render(){return $`
      <wui-list-wallet
        .walletImages=${this.walletImages}
        imageSrc=${le(this.imageSrc)}
        name=${this.name}
        size=${le(this.size)}
        tagLabel=${le(this.tagLabel)}
        .tagVariant=${this.tagVariant}
        .walletIcon=${this.walletIcon}
        .tabIdx=${this.tabIdx}
        .disabled=${this.disabled}
        .showAllWallets=${this.showAllWallets}
        .loading=${this.loading}
        loadingSpinnerColor=${this.loadingSpinnerColor}
        .namespaces=${this.handleGetWalletNamespaces()}
      ></wui-list-wallet>
    `}};Li.styles=net;Ys([L({type:Array})],Li.prototype,"walletImages",void 0);Ys([L()],Li.prototype,"imageSrc",void 0);Ys([L()],Li.prototype,"name",void 0);Ys([L()],Li.prototype,"size",void 0);Ys([L()],Li.prototype,"tagLabel",void 0);Ys([L()],Li.prototype,"tagVariant",void 0);Ys([L()],Li.prototype,"walletIcon",void 0);Ys([L()],Li.prototype,"tabIdx",void 0);Ys([L({type:Boolean})],Li.prototype,"disabled",void 0);Ys([L({type:Boolean})],Li.prototype,"showAllWallets",void 0);Ys([L({type:Boolean})],Li.prototype,"loading",void 0);Ys([L({type:String})],Li.prototype,"loadingSpinnerColor",void 0);Ys([L()],Li.prototype,"rdnsId",void 0);Ys([L()],Li.prototype,"displayIndex",void 0);Ys([L()],Li.prototype,"walletRank",void 0);Ys([L({type:Array})],Li.prototype,"namespaces",void 0);Li=Ys([ie("w3m-list-wallet")],Li);const ret=ve`
  :host {
    --local-duration-height: 0s;
    --local-duration: ${({durations:t})=>t.lg};
    --local-transition: ${({easings:t})=>t["ease-out-power-2"]};
  }

  .container {
    display: block;
    overflow: hidden;
    overflow: hidden;
    position: relative;
    height: var(--local-container-height);
    transition: height var(--local-duration-height) var(--local-transition);
    will-change: height, padding-bottom;
  }

  .container[data-mobile-fullscreen='true'] {
    overflow: scroll;
  }

  .page {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: auto;
    width: inherit;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border-bottom-left-radius: var(--local-border-bottom-radius);
    border-bottom-right-radius: var(--local-border-bottom-radius);
    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);
  }

  .page[data-mobile-fullscreen='true'] {
    height: 100%;
  }

  .page-content {
    display: flex;
    flex-direction: column;
    min-height: 100%;
  }

  .footer {
    height: var(--apkt-footer-height);
  }

  div.page[view-direction^='prev-'] .page-content {
    animation:
      slide-left-out var(--local-duration) forwards var(--local-transition),
      slide-left-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:t})=>t.lg});
  }

  div.page[view-direction^='next-'] .page-content {
    animation:
      slide-right-out var(--local-duration) forwards var(--local-transition),
      slide-right-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:t})=>t.lg});
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }
`;var Gd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const iet=60;let Ic=class extends Q{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px",this.mobileFullScreen=X.state.enableMobileFullScreen,this.onViewportResize=()=>{this.updateContainerHeight()}}updated(e){if(e.has("history")){const n=this.history;this.historyState!==""&&this.historyState!==n&&this.onViewChange(n)}e.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),e.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(e=>{for(const n of e)if(n.target===this.getWrapper()){let r=n.contentRect.height;const i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");if(this.mobileFullScreen){const s=window.visualViewport?.height||window.innerHeight,o=this.getHeaderHeight();r=s-o-i,this.style.setProperty("--local-border-bottom-radius","0px")}else r=r+i,this.style.setProperty("--local-border-bottom-radius",i?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${r}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${r}px`}}),this.resizeObserver.observe(this.getWrapper()),this.updateContainerHeight(),window.addEventListener("resize",this.onViewportResize),window.visualViewport?.addEventListener("resize",this.onViewportResize)}disconnectedCallback(){const e=this.getWrapper();e&&this.resizeObserver&&this.resizeObserver.unobserve(e),window.removeEventListener("resize",this.onViewportResize),window.visualViewport?.removeEventListener("resize",this.onViewportResize)}render(){return $`
      <div class="container" data-mobile-fullscreen="${le(this.mobileFullScreen)}">
        <div
          class="page"
          data-mobile-fullscreen="${le(this.mobileFullScreen)}"
          view-direction="${this.viewDirection}"
        >
          <div class="page-content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}onViewChange(e){const n=e.split(",").filter(Boolean),r=this.historyState.split(",").filter(Boolean),i=r.length,s=n.length,o=n[n.length-1]||"",a=sn.cssDurationToNumber(this.transitionDuration);let c="";s>i?c="next":s<i?c="prev":s===i&&n[s-1]!==r[i-1]&&(c="next"),this.viewDirection=`${c}-${o}`,setTimeout(()=>{this.historyState=e,this.setView?.(o)},a),setTimeout(()=>{this.viewDirection=""},a*2)}getWrapper(){return this.shadowRoot?.querySelector("div.page")}updateContainerHeight(){const e=this.getWrapper();if(!e)return;const n=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");let r=0;if(this.mobileFullScreen){const i=window.visualViewport?.height||window.innerHeight,s=this.getHeaderHeight();r=i-s-n,this.style.setProperty("--local-border-bottom-radius","0px")}else r=e.getBoundingClientRect().height+n,this.style.setProperty("--local-border-bottom-radius",n?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${r}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${r}px`}getHeaderHeight(){return iet}};Ic.styles=[ret];Gd([L({type:String})],Ic.prototype,"transitionDuration",void 0);Gd([L({type:String})],Ic.prototype,"transitionFunction",void 0);Gd([L({type:String})],Ic.prototype,"history",void 0);Gd([L({type:String})],Ic.prototype,"view",void 0);Gd([L({attribute:!1})],Ic.prototype,"setView",void 0);Gd([W()],Ic.prototype,"viewDirection",void 0);Gd([W()],Ic.prototype,"historyState",void 0);Gd([W()],Ic.prototype,"previousHeight",void 0);Gd([W()],Ic.prototype,"mobileFullScreen",void 0);Ic=Gd([ie("w3m-router-container")],Ic);const set=Object.freeze(Object.defineProperty({__proto__:null,get AppKitModal(){return p7},get W3mListWallet(){return Li},get W3mModal(){return h7},W3mModalBase:kl,get W3mRouterContainer(){return Ic},get W3mUsageExceededView(){return Fx}},Symbol.toStringTag,{value:"Module"})),oet="@base-org/account",aet="2.4.0",Poe={name:oet,version:aet},cet="https://keys.coinbase.com/connect",f7="https://rpc.wallet.coinbase.com",Rk=Poe.name,Ay=Poe.version,RV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_VERSION:"2.2.0",VITE_ENABLE_ANALYTICS:"true",VITE_FRONTEND_VERSION:"2.2.0",VITE_GA_MEASUREMENT_ID:"G-NY3H7YR52Y"},g7=new Map,X5=t=>{const e=g7.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},uet=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=g7.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return g7.set(n.name,i),{type:"tracked",store:t,...i}},det=(t,e={})=>(n,r,i)=>{const{enabled:s,anonymousActionType:o,store:a,...c}=e;let l;try{l=(s??(RV?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!l)return t(n,r,i);const{connection:u,...d}=uet(a,l,c);let h=!0;i.setState=(g,m,b)=>{const y=n(g,m);if(!h)return y;const v=b===void 0?{type:o||"anonymous"}:typeof b=="string"?{type:b}:b;return a===void 0?(u?.send(v,r()),y):(u?.send({...v,type:`${a}/${v.type}`},{...X5(c.name),[a]:i.getState()}),y)};const p=(...g)=>{const m=h;h=!1,n(...g),h=m},f=t(i.setState,r,i);if(d.type==="untracked"?u?.init(f):(d.stores[d.store]=i,u?.init(Object.fromEntries(Object.entries(d.stores).map(([g,m])=>[g,g===d.store?f:m.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let g=!1;const m=i.dispatch;i.dispatch=(...b)=>{(RV?"production":void 0)!=="production"&&b[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),m(...b)}}return u.subscribe(g=>{var m;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return hN(g.payload,b=>{if(b.type==="__setState"){if(a===void 0){p(b.state);return}Object.keys(b.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const y=b.state[a];if(y==null)return;JSON.stringify(i.getState())!==JSON.stringify(y)&&p(y);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(b)});case"DISPATCH":switch(g.payload.type){case"RESET":return p(f),a===void 0?u?.init(i.getState()):u?.init(X5(c.name));case"COMMIT":if(a===void 0){u?.init(i.getState());return}return u?.init(X5(c.name));case"ROLLBACK":return hN(g.state,b=>{if(a===void 0){p(b),u?.init(i.getState());return}p(b[a]),u?.init(X5(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return hN(g.state,b=>{if(a===void 0){p(b);return}JSON.stringify(i.getState())!==JSON.stringify(b[a])&&p(b[a])});case"IMPORT_STATE":{const{nextLiftedState:b}=g.payload,y=(m=b.computedStates.slice(-1)[0])==null?void 0:m.state;if(!y)return;p(a===void 0?y:y[a]),u?.send(null,b);return}case"PAUSE_RECORDING":return h=!h}return}}),f},het=det,hN=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)},pet=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=c?.equalityFn||Object.is;let d=o(r.getState());l=h=>{const p=o(h);if(!u(d,p)){const f=d;a(d=p,f)}},c?.fireImmediately&&a(d,d)}return i(l)},t(e,n,r)},fet=pet;function $M(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const m7=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return m7(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return m7(r)(n)}}}},get=(t,e)=>(n,r,i)=>{let s={storage:$M(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...g)},r,i);const u=()=>{const g=s.partialize({...r()});return l.setItem(s.name,{state:g,version:s.version})},d=i.setState;i.setState=(g,m)=>{d(g,m),u()};const h=t((...g)=>{n(...g),u()},r,i);i.getInitialState=()=>h;let p;const f=()=>{var g,m;if(!l)return;o=!1,a.forEach(y=>{var v;return y((v=r())!=null?v:h)});const b=((m=s.onRehydrateStorage)==null?void 0:m.call(s,(g=r())!=null?g:h))||void 0;return m7(l.getItem.bind(l))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate){const v=s.migrate(y.state,y.version);return v instanceof Promise?v.then(w=>[!0,w]):[!0,v]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var v;const[w,C]=y;if(p=s.merge(C,(v=r())!=null?v:h),n(p,!0),w)return u()}).then(()=>{b?.(p,void 0),p=r(),o=!0,c.forEach(y=>y(p))}).catch(y=>{b?.(void 0,y)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},s.skipHydration||f(),p||h},TM=get,DV=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},ky=t=>t?DV(t):DV,met=()=>({chains:[]}),wet=()=>({keys:{}}),yet=()=>({account:{}}),bet=()=>({subAccount:void 0}),vet=()=>({subAccountConfig:{}}),Eet=()=>({spendPermissions:[]}),Cet=()=>({config:{version:Ay}}),Ei=ky(TM((...t)=>({...met(...t),...wet(...t),...yet(...t),...bet(...t),...Eet(...t),...Cet(...t),...vet(...t)}),{name:"base-acc-sdk.store",storage:$M(()=>localStorage),partialize:t=>({chains:t.chains,keys:t.keys,account:t.account,subAccount:t.subAccount,spendPermissions:t.spendPermissions,config:t.config})})),_et={get:()=>Ei.getState().subAccountConfig,set:t=>{Ei.setState(e=>({subAccountConfig:{...e.subAccountConfig,...t}}))},clear:()=>{Ei.setState({subAccountConfig:{}})}},Iet={get:()=>Ei.getState().subAccount,set:t=>{Ei.setState(e=>({subAccount:e.subAccount?{...e.subAccount,...t}:{address:t.address,...t}}))},clear:()=>{Ei.setState({subAccount:void 0})}},NM={get:()=>Ei.getState().spendPermissions,set:t=>{Ei.setState({spendPermissions:t})},clear:()=>{Ei.setState({spendPermissions:[]})}},xet={get:()=>Ei.getState().account,set:t=>{Ei.setState(e=>({account:{...e.account,...t}}))},clear:()=>{Ei.setState({account:{}})}},Aet={get:()=>Ei.getState().chains,set:t=>{Ei.setState({chains:t})},clear:()=>{Ei.setState({chains:[]})}},ket={get:t=>Ei.getState().keys[t],set:(t,e)=>{Ei.setState(n=>({keys:{...n.keys,[t]:e}}))},clear:()=>{Ei.setState({keys:{}})}},Roe={get:()=>Ei.getState().config,set:t=>{Ei.setState(e=>({config:{...e.config,...t}}))}},$et={subAccounts:Iet,subAccountsConfig:_et,spendPermissions:NM,account:xet,chains:Aet,keys:ket,config:Roe},et={...Ei,...$et},Tet='!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClientAnalytics=t():e.ClientAnalytics=t()}(this,(function(){return(()=>{var e={792:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},562:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},335:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},762:(e,t,n)=>{var r,i,a,o,s;r=n(562),i=n(792).utf8,a=n(335),o=n(792).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,m=0;m<n.length;m++)n[m]=16711935&(n[m]<<8|n[m]>>>24)|4278255360&(n[m]<<24|n[m]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=s._ff,v=s._gg,g=s._hh,b=s._ii;for(m=0;m<n.length;m+=16){var h=u,w=l,y=d,T=p;u=f(u,l,d,p,n[m+0],7,-680876936),p=f(p,u,l,d,n[m+1],12,-389564586),d=f(d,p,u,l,n[m+2],17,606105819),l=f(l,d,p,u,n[m+3],22,-1044525330),u=f(u,l,d,p,n[m+4],7,-176418897),p=f(p,u,l,d,n[m+5],12,1200080426),d=f(d,p,u,l,n[m+6],17,-1473231341),l=f(l,d,p,u,n[m+7],22,-45705983),u=f(u,l,d,p,n[m+8],7,1770035416),p=f(p,u,l,d,n[m+9],12,-1958414417),d=f(d,p,u,l,n[m+10],17,-42063),l=f(l,d,p,u,n[m+11],22,-1990404162),u=f(u,l,d,p,n[m+12],7,1804603682),p=f(p,u,l,d,n[m+13],12,-40341101),d=f(d,p,u,l,n[m+14],17,-1502002290),u=v(u,l=f(l,d,p,u,n[m+15],22,1236535329),d,p,n[m+1],5,-165796510),p=v(p,u,l,d,n[m+6],9,-1069501632),d=v(d,p,u,l,n[m+11],14,643717713),l=v(l,d,p,u,n[m+0],20,-373897302),u=v(u,l,d,p,n[m+5],5,-701558691),p=v(p,u,l,d,n[m+10],9,38016083),d=v(d,p,u,l,n[m+15],14,-660478335),l=v(l,d,p,u,n[m+4],20,-405537848),u=v(u,l,d,p,n[m+9],5,568446438),p=v(p,u,l,d,n[m+14],9,-1019803690),d=v(d,p,u,l,n[m+3],14,-187363961),l=v(l,d,p,u,n[m+8],20,1163531501),u=v(u,l,d,p,n[m+13],5,-1444681467),p=v(p,u,l,d,n[m+2],9,-51403784),d=v(d,p,u,l,n[m+7],14,1735328473),u=g(u,l=v(l,d,p,u,n[m+12],20,-1926607734),d,p,n[m+5],4,-378558),p=g(p,u,l,d,n[m+8],11,-2022574463),d=g(d,p,u,l,n[m+11],16,1839030562),l=g(l,d,p,u,n[m+14],23,-35309556),u=g(u,l,d,p,n[m+1],4,-1530992060),p=g(p,u,l,d,n[m+4],11,1272893353),d=g(d,p,u,l,n[m+7],16,-155497632),l=g(l,d,p,u,n[m+10],23,-1094730640),u=g(u,l,d,p,n[m+13],4,681279174),p=g(p,u,l,d,n[m+0],11,-358537222),d=g(d,p,u,l,n[m+3],16,-722521979),l=g(l,d,p,u,n[m+6],23,76029189),u=g(u,l,d,p,n[m+9],4,-640364487),p=g(p,u,l,d,n[m+12],11,-421815835),d=g(d,p,u,l,n[m+15],16,530742520),u=b(u,l=g(l,d,p,u,n[m+2],23,-995338651),d,p,n[m+0],6,-198630844),p=b(p,u,l,d,n[m+7],10,1126891415),d=b(d,p,u,l,n[m+14],15,-1416354905),l=b(l,d,p,u,n[m+5],21,-57434055),u=b(u,l,d,p,n[m+12],6,1700485571),p=b(p,u,l,d,n[m+3],10,-1894986606),d=b(d,p,u,l,n[m+10],15,-1051523),l=b(l,d,p,u,n[m+1],21,-2054922799),u=b(u,l,d,p,n[m+8],6,1873313359),p=b(p,u,l,d,n[m+15],10,-30611744),d=b(d,p,u,l,n[m+6],15,-1560198380),l=b(l,d,p,u,n[m+13],21,1309151649),u=b(u,l,d,p,n[m+4],6,-145523070),p=b(p,u,l,d,n[m+11],10,-1120210379),d=b(d,p,u,l,n[m+2],15,718787259),l=b(l,d,p,u,n[m+9],21,-343485551),u=u+h>>>0,l=l+w>>>0,d=d+y>>>0,p=p+T>>>0}return r.endian([u,l,d,p])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},2:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Perfume:()=>ze,incrementUjNavigation:()=>Le,markStep:()=>Re,markStepOnce:()=>qe});var r,i,a={isResourceTiming:!1,isElementTiming:!1,maxTime:3e4,reportOptions:{},enableNavigationTracking:!0},o=window,s=o.console,c=o.navigator,u=o.performance,l=function(){return c.deviceMemory},d=function(){return c.hardwareConcurrency},p="mark.",m=function(){return u&&!!u.getEntriesByType&&!!u.now&&!!u.mark},f="4g",v=!1,g={},b={value:0},h={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},w={value:0},y={value:0},T={},k={isHidden:!1,didChange:!1},_=function(){k.isHidden=!1,document.hidden&&(k.isHidden=document.hidden,k.didChange=!0)},S=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){s.warn("Perfume.js:",e)}return null},E=function(){return!!(d()&&d()<=4)||!!(l()&&l()<=4)},x=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return E()||t}},O=function(e){return parseFloat(e.toFixed(4))},j=function(e){return"number"!=typeof e?null:O(e/Math.pow(1024,2))},N=function(e,t,n,r,i){var s,u=function(){a.analyticsTracker&&(k.isHidden&&!["CLS","INP"].includes(e)||a.analyticsTracker({attribution:r,metricName:e,data:t,navigatorInformation:c?{deviceMemory:l()||0,hardwareConcurrency:d()||0,serviceWorkerStatus:"serviceWorker"in c?c.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:E(),isLowEndExperience:x(f,v)}:{},rating:n,navigationType:i}))};["CLS","INP"].includes(e)?u():(s=u,"requestIdleCallback"in o?o.requestIdleCallback(s,{timeout:3e3}):s())},I=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<b.value)){var t=e.duration-50;t>0&&(w.value+=t,y.value+=t)}}))};!function(e){e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable"}(r||(r={}));var P,M,B,C,D,A=((i={})[r.instant]={vitalsThresholds:[100,200],maxOutlierThreshold:1e4},i[r.quick]={vitalsThresholds:[200,500],maxOutlierThreshold:1e4},i[r.moderate]={vitalsThresholds:[500,1e3],maxOutlierThreshold:1e4},i[r.slow]={vitalsThresholds:[1e3,2e3],maxOutlierThreshold:1e4},i[r.unavoidable]={vitalsThresholds:[2e3,5e3],maxOutlierThreshold:2e4},i),L={RT:[100,200],TBT:[200,600],NTBT:[200,600]},U=function(e,t){return L[e]?t<=L[e][0]?"good":t<=L[e][1]?"needsImprovement":"poor":null},R=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=O(t[e]))})),N(e,t,null,n||{})},q=function(e){var t=e.attribution,n=e.name,r=e.rating,i=e.value,o=e.navigationType;"FCP"===n&&(b.value=i),["FCP","LCP"].includes(n)&&!T[0]&&(T[0]=S("longtask",I)),"FID"===n&&setTimeout((function(){k.didChange||(q({attribution:t,name:"TBT",rating:U("TBT",w.value),value:w.value,navigationType:o}),R("dataConsumption",h.value))}),1e4);var s=O(i);s<=a.maxTime&&s>=0&&N(n,s,r,t,o)},F=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},z=function(e){if("loading"===document.readyState)return"loading";var t=F();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},K=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},$=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:K(r)+(r.className&&r.className.length?"."+r.className.replace(/\\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},Q=-1,W=function(){return Q},H=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Q=t.timeStamp,e(t))}),!0)},V=function(){var e=F();return e&&e.activationStart||0},J=function(e,t){var n=F(),r="navigate";return W()>=0?r="back-forward-cache":n&&(r=document.prerendering||V()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},X=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},G=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Z=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Y=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},ee=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},te=-1,ne=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},re=function(e){"hidden"===document.visibilityState&&te>-1&&(te="visibilitychange"===e.type?e.timeStamp:0,ae())},ie=function(){addEventListener("visibilitychange",re,!0),addEventListener("prerenderingchange",re,!0)},ae=function(){removeEventListener("visibilitychange",re,!0),removeEventListener("prerenderingchange",re,!0)},oe=function(){return te<0&&(te=ne(),ie(),H((function(){setTimeout((function(){te=ne(),ie()}),0)}))),{get firstHiddenTime(){return te}}},se=function(e,t){t=t||{},ee((function(){var n,r=[1800,3e3],i=oe(),a=J("FCP"),o=X("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<i.firstHiddenTime&&(a.value=Math.max(e.startTime-V(),0),a.entries.push(e),n(!0)))}))}));o&&(n=Z(e,a,r,t.reportAllChanges),H((function(i){a=J("FCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,n(!0)}))})))}))},ce={passive:!0,capture:!0},ue=new Date,le=function(e,t){P||(P=t,M=e,B=new Date,me(removeEventListener),de())},de=function(){if(M>=0&&M<B-ue){var e={entryType:"first-input",name:P.type,target:P.target,cancelable:P.cancelable,startTime:P.timeStamp,processingStart:P.timeStamp+M};C.forEach((function(t){t(e)})),C=[]}},pe=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){le(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,ce),removeEventListener("pointercancel",r,ce)};addEventListener("pointerup",n,ce),addEventListener("pointercancel",r,ce)}(t,e):le(t,e)}},me=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,pe,ce)}))},fe=0,ve=1/0,ge=0,be=function(e){e.forEach((function(e){e.interactionId&&(ve=Math.min(ve,e.interactionId),ge=Math.max(ge,e.interactionId),fe=ge?(ge-ve)/7+1:0)}))},he=function(){return D?fe:performance.interactionCount||0},we=0,ye=function(){return he()-we},Te=[],ke={},_e=function(e){var t=Te[Te.length-1],n=ke[e.interactionId];if(n||Te.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ke[r.id]=r,Te.push(r)}Te.sort((function(e,t){return t.latency-e.latency})),Te.splice(10).forEach((function(e){delete ke[e.id]}))}},Se={},Ee=function e(t){document.prerendering?ee((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},xe=function(e,t){t=t||{};var n=[800,1800],r=J("TTFB"),i=Z(e,r,n,t.reportAllChanges);Ee((function(){var a=F();if(a){var o=a.responseStart;if(o<=0||o>performance.now())return;r.value=Math.max(o-V(),0),r.entries=[a],i(!0),H((function(){r=J("TTFB",0),(i=Z(e,r,n,t.reportAllChanges))(!0)}))}}))},Oe=function(e){e.forEach((function(e){e.identifier&&q({attribution:{identifier:e.identifier},name:"ET",rating:null,value:e.startTime})}))},je=function(e){e.forEach((function(e){if(a.isResourceTiming&&R("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;h.value[e.initiatorType]+=t,h.value.total+=t}}))},Ne=function(){!function(e,t){xe((function(e){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,r=Math.max(t.domainLookupStart-n,0),i=Math.max(t.connectStart-n,0),a=Math.max(t.requestStart-n,0);e.attribution={waitingTime:r,dnsTime:i-r,connectionTime:a-i,requestTime:e.value-a,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(e),function(e){e.value>0&&q(e)}(e)}),t)}(0,a.reportOptions.ttfb),function(e,t){!function(e,t){t=t||{},ee((function(){var e,n=[.1,.25],r=J("CLS"),i=-1,a=0,o=[],s=function(e){i>-1&&function(e){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:$(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:z(t.startTime)})}}var r;e.attribution={}}(e),function(e){q(e)}(e)}(e)},c=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=o[0],i=o[o.length-1];a&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(a+=t.value,o.push(t)):(a=t.value,o=[t]),a>r.value&&(r.value=a,r.entries=o,e())}}))},u=X("layout-shift",c);u&&(e=Z(s,r,n,t.reportAllChanges),se((function(t){i=t.value,r.value<0&&(r.value=0,e())})),G((function(){c(u.takeRecords()),e(!0)})),H((function(){a=0,i=-1,r=J("CLS",0),e=Z(s,r,n,t.reportAllChanges),Y((function(){return e()}))})))}))}(0,t)}(0,a.reportOptions.cls),function(e,t){se((function(e){!function(e){if(e.entries.length){var t=F(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:z(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:z(W())}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[100,300],i=oe(),a=J("FID"),o=function(e){e.startTime<i.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},s=function(e){e.forEach(o)},c=X("first-input",s);n=Z(e,a,r,t.reportAllChanges),c&&G((function(){s(c.takeRecords()),c.disconnect()}),!0),c&&H((function(){var i;a=J("FID"),n=Z(e,a,r,t.reportAllChanges),C=[],M=-1,P=null,me(addEventListener),i=o,C.push(i),de()}))}))}((function(e){!function(e){var t=e.entries[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fid),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[2500,4e3],i=oe(),a=J("LCP"),o=function(e){var t=e[e.length-1];if(t){var r=Math.max(t.startTime-V(),0);r<i.firstHiddenTime&&(a.value=r,a.entries=[t],n())}},s=X("largest-contentful-paint",o);if(s){n=Z(e,a,r,t.reportAllChanges);var c=function(){Se[a.id]||(o(s.takeRecords()),s.disconnect(),Se[a.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),G(c,!0),H((function(i){a=J("LCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,Se[a.id]=!0,n(!0)}))}))}}))}((function(e){!function(e){if(e.entries.length){var t=F();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===r.url}))[0],a=Math.max(0,t.responseStart-n),o=Math.max(a,i?(i.requestStart||i.startTime)-n:0),s=Math.max(o,i?i.responseEnd-n:0),c=Math.max(s,r?r.startTime-n:0),u={element:$(r.element),timeToFirstByte:a,resourceLoadDelay:o-a,resourceLoadTime:s-o,elementRenderDelay:c-s,navigationEntry:t,lcpEntry:r};return r.url&&(u.url=r.url),i&&(u.lcpResourceEntry=i),void(e.attribution=u)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.lcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n=[200,500];"interactionCount"in performance||D||(D=X("event",be,{type:"event",buffered:!0,durationThreshold:0}));var r,i=J("INP"),a=function(e){e.forEach((function(e){e.interactionId&&_e(e),"first-input"===e.entryType&&!Te.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&_e(e)}));var t,n=(t=Math.min(Te.length-1,Math.floor(ye()/50)),Te[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=X("event",a,{durationThreshold:t.durationThreshold||40});r=Z(e,i,n,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),G((function(){a(o.takeRecords()),i.value<0&&ye()>0&&(i.value=0,i.entries=[]),r(!0)})),H((function(){Te=[],we=he(),i=J("INP"),r=Z(e,i,n,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}((function(e){return q(e)}),a.reportOptions.inp),a.isResourceTiming&&S("resource",je),a.isElementTiming&&S("element",Oe)},Ie=function(e){var t="usageDetails"in e?e.usageDetails:{};R("storageEstimate",{quota:j(e.quota),usage:j(e.usage),caches:j(t.caches),indexedDB:j(t.indexedDB),serviceWorker:j(t.serviceWorkerRegistrations)})},Pe={finalMarkToStepsMap:{},startMarkToStepsMap:{},active:{},navigationSteps:{}},Me=function(e){delete Pe.active[e]},Be=function(){return Pe.navigationSteps},Ce=function(e){var t;return null!==(t=Be()[e])&&void 0!==t?t:{}},De=function(e,t,n){var r="step."+e,i=u.getEntriesByName(p+t).length>0;if(u.getEntriesByName(p+n).length>0&&a.steps){var o=A[a.steps[e].threshold],s=o.maxOutlierThreshold,c=o.vitalsThresholds;if(i){var l=u.measure(r,p+t,p+n),d=l.duration;if(d<=s){var m=function(e,t){return e<=t[0]?"good":e<=t[1]?"needsImprovement":"poor"}(d,c);d>=0&&(N("userJourneyStep",d,m,{stepName:e},void 0),u.measure("step.".concat(e,"_vitals_").concat(m),{start:l.startTime+l.duration,end:l.startTime+l.duration,detail:{type:"stepVital",duration:d}}))}}}},Ae=function(){var e=Be(),t=Pe.startMarkToStepsMap,n=Object.keys(e).length;if(0===n)return{};var r={},i=n-1,a=Ce(i);if(Object.keys(a).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))})),n>1){var o=Ce(i-1);Object.keys(o).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))}))}return r},Le=function(){var e,t=Object.keys(Pe.navigationSteps).length;Pe.navigationSteps[t]={};var n=Ae();null===(e=a.onMarkStep)||void 0===e||e.call(a,"",Object.keys(n))},Ue=function(e){var t,n,r,i,o,s,c;if(Pe.finalMarkToStepsMap[e]){!function(e){var t=Pe.navigationSteps,n=Pe.finalMarkToStepsMap,r=Object.keys(t).length;if(0!==r){var i=r-1,a=Ce(i);if(a&&n[e]){var o=n[e];o&&Object.keys(o).forEach((function(e){if(a[e]){var n=Ce(i)||{};n[e]=!1,t[i]=n}if(r>1){var o=i-1,s=Ce(o);s[e]&&(s[e]=!1,t[o]=s)}}))}}}(e);var u=Pe.finalMarkToStepsMap[e];Object.keys(u).forEach((function(t){var n=u[t];n.forEach(Me),Promise.all(n.map((function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(e,t){function i(e){try{o(r.next(e))}catch(e){t(e)}}function a(e){try{o(r.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}o((r=r.apply(undefined,[])).next())}))}(0,0,void 0,(function(){return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:return[4,De(n,t,e)];case 1:return r.sent(),[2]}}))}))}))).catch((function(){}))}))}else r=e,i=Pe.navigationSteps,o=Object.keys(i).length,(c=Ce(s=(o>0?o:1)-1)||[])[r]=!0,i[s]=c,function(e){var t,n=null!==(t=Pe.startMarkToStepsMap[e])&&void 0!==t?t:[];Object.keys(n).forEach((function(e){Pe.active[e]||(Pe.active[e]=!0)}))}(e);if(a.enableNavigationTracking){var l=Ae();null===(t=a.onMarkStep)||void 0===t||t.call(a,e,Object.keys(l))}else null===(n=a.onMarkStep)||void 0===n||n.call(a,e,Object.keys(Pe.active))},Re=function(e){u.mark(p+e),Ue(e)},qe=function(e){0===u.getEntriesByName(p+e).length&&(u.mark(p+e),Ue(e))},Fe=0,ze=function(){function e(e){if(void 0===e&&(e={}),this.v="9.0.0-rc.3",a.analyticsTracker=e.analyticsTracker,a.isResourceTiming=!!e.resourceTiming,a.isElementTiming=!!e.elementTiming,a.maxTime=e.maxMeasureTime||a.maxTime,a.reportOptions=e.reportOptions||a.reportOptions,a.steps=e.steps,a.onMarkStep=e.onMarkStep,a.enableNavigationTracking=e.enableNavigationTracking,m()){"PerformanceObserver"in o&&Ne(),void 0!==document.hidden&&document.addEventListener("visibilitychange",_);var t=function(){if(!m())return{};var e=u.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();R("navigationTiming",t),t.redirectTime&&q({attribution:{},name:"RT",rating:U("RT",t.redirectTime),value:t.redirectTime}),R("networkInformation",function(){if("connection"in c){var e=c.connection;return"object"!=typeof e?{}:(f=e.effectiveType,v=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),c&&c.storage&&"function"==typeof c.storage.estimate&&c.storage.estimate().then(Ie),a.steps&&a.steps&&(Pe.startMarkToStepsMap={},Pe.finalMarkToStepsMap={},Pe.active={},Pe.navigationSteps={},Object.entries(a.steps).forEach((function(e){var t,n,r=e[0],i=e[1].marks,a=i[0],o=i[1],s=null!==(n=Pe.startMarkToStepsMap[a])&&void 0!==n?n:{};if(s[r]=!0,Pe.startMarkToStepsMap[a]=s,Pe.finalMarkToStepsMap[o]){var c=Pe.finalMarkToStepsMap[o][a]||[];c.push(r),Pe.finalMarkToStepsMap[o][a]=c}else Pe.finalMarkToStepsMap[o]=((t={})[a]=[r],t)})))}}return e.prototype.start=function(e){m()&&!g[e]&&(g[e]=!0,u.mark("mark_".concat(e,"_start")))},e.prototype.end=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=!0),m()&&g[e]){u.mark("mark_".concat(e,"_end")),delete g[e];var r=function(e){u.measure(e,"mark_".concat(e,"_start"),"mark_".concat(e,"_end"));var t=u.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e);n&&R(e,O(r),t)}},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete g[e],u.clearMarks&&(u.clearMarks("mark_".concat(e,"_start")),u.clearMarks("mark_".concat(e,"_end")))},e.prototype.markNTBT=function(){var e=this;this.start("ntbt"),y.value=0,clearTimeout(Fe),Fe=setTimeout((function(){e.end("ntbt",{},!1),q({attribution:{},name:"NTBT",rating:U("NTBT",y.value),value:y.value}),y.value=0}),2e3)},e}()},426:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r=Object.assign,i={};function a(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}function o(){}function s(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}a.prototype.isReactComponent={},a.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var c=s.prototype=new o;c.constructor=s,r(c,a.prototype),c.isPureReactComponent=!0;Array.isArray,Object.prototype.hasOwnProperty;var u={current:null};t.useCallback=function(e,t){return u.current.useCallback(e,t)},t.useEffect=function(e,t){return u.current.useEffect(e,t)},t.useRef=function(e){return u.current.useRef(e)}},784:(e,t,n)=>{"use strict";e.exports=n(426)},353:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",c="object",u="string",l="major",d="model",p="name",m="type",f="vendor",v="version",g="architecture",b="console",h="mobile",w="tablet",y="smarttv",T="wearable",k="embedded",_="Amazon",S="Apple",E="ASUS",x="BlackBerry",O="Browser",j="Chrome",N="Firefox",I="Google",P="Huawei",M="LG",B="Microsoft",C="Motorola",D="Opera",A="Samsung",L="Sharp",U="Sony",R="Xiaomi",q="Zebra",F="Facebook",z="Chromium OS",K="Mac OS",$=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Q=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===u)return e=e.replace(/^\\s\\s*/,""),typeof t===s?e:e.substring(0,350)},V=function(e,t){for(var n,r,i,s,u,l,d=0;d<t.length&&!u;){var p=t[d],m=t[d+1];for(n=r=0;n<p.length&&!u&&p[n];)if(u=p[n++].exec(e))for(i=0;i<m.length;i++)l=u[++r],typeof(s=m[i])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;d+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Q(t[n][r],e))return"?"===n?a:n}else if(Q(t[n],e))return"?"===n?a:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[p,v],[/opios[\\/ ]+([\\w\\.]+)/i],[v,[p,D+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[v,[p,D]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(heytap|ovi)browser\\/([\\d\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[p,v],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[v,[p,"UC"+O]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[v,[p,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[v,[p,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\\/([\\w\\.]+)/i],[v,[p,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 Secure "+O],v],[/\\bfocus\\/([\\w\\.]+)/i],[v,[p,N+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[v,[p,D+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[v,[p,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[v,[p,D+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[v,[p,"MIUI "+O]],[/fxios\\/([-\\w\\.]+)/i],[v,[p,N]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 "+O],v],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[p,/_/g," "],v],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[p,v],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[p],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[p,F],v],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[p,v],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[v,[p,j+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[p,j+" WebView"],v],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[p,v],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[p,[v,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[p,v],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[v,[p,N+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\\/([\\w\\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\\)]/i],[[g,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[g,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[g,/ower/,"",W]],[/(sun4\\w)[;\\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[g,W]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,A],[m,w]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[f,A],[m,h]],[/(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i],[d,[f,S],[m,h]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[f,S],[m,w]],[/(macintosh);/i],[d,[f,S]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[f,L],[m,h]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[d,[f,P],[m,w]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[f,P],[m,h]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,h]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,w]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[f,"OPPO"],[m,h]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[m,h]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[d,[f,"Realme"],[m,h]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[f,C],[m,h]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[f,C],[m,w]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,M],[m,w]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[f,M],[m,h]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[d,[f,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[m,h]],[/(pixel c)\\b/i],[d,[f,I],[m,w]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[f,I],[m,h]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[f,U],[m,h]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,"Xperia Tablet"],[f,U],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[f,"OnePlus"],[m,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[f,_],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,_],[m,h]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,f,[m,w]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[f,x],[m,h]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[f,E],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[f,E],[m,h]],[/(nexus 9)/i],[d,[f,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[d,/_/g," "],[m,h]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[f,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[f,"Meizu"],[m,h]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,d,[m,h]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,d,[m,w]],[/(surface duo)/i],[d,[f,B],[m,w]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[f,"Fairphone"],[m,h]],[/(u304aa)/i],[d,[f,"AT&T"],[m,h]],[/\\bsie-(\\w*)/i],[d,[f,"Siemens"],[m,h]],[/\\b(rct\\w+) b/i],[d,[f,"RCA"],[m,w]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[f,"Dell"],[m,w]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[f,"Verizon"],[m,w]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[f,"Barnes & Noble"],[m,w]],[/\\b(tm\\d{3}\\w+) b/i],[d,[f,"NuVision"],[m,w]],[/\\b(k88) b/i],[d,[f,"ZTE"],[m,w]],[/\\b(nx\\d{3}j) b/i],[d,[f,"ZTE"],[m,h]],[/\\b(gen\\d{3}) b.+49h/i],[d,[f,"Swiss"],[m,h]],[/\\b(zur\\d{3}) b/i],[d,[f,"Swiss"],[m,w]],[/\\b((zeki)?tb.*\\b) b/i],[d,[f,"Zeki"],[m,w]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],d,[m,w]],[/\\b(ns-?\\w{0,9}) b/i],[d,[f,"Insignia"],[m,w]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[f,"NextBook"],[m,w]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[m,h]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],d,[m,h]],[/\\b(ph-1) /i],[d,[f,"Essential"],[m,h]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[f,"Envizen"],[m,w]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[f,"MachSpeed"],[m,w]],[/\\btu_(1491) b/i],[d,[f,"Rotor"],[m,w]],[/(shield[\\w ]+) b/i],[d,[f,"Nvidia"],[m,w]],[/(sprint) (\\w+)/i],[f,d,[m,h]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g," "],[f,B],[m,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[f,q],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[f,q],[m,h]],[/smart-tv.+(samsung)/i],[f,[m,y]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,"SmartTV"],[f,A],[m,y]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,M],[m,y]],[/(apple) ?tv/i],[f,[d,S+" TV"],[m,y]],[/crkey/i],[[d,j+"cast"],[f,I],[m,y]],[/droid.+aft(\\w)( bui|\\))/i],[d,[f,_],[m,y]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[f,L],[m,y]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[f,U],[m,y]],[/(mitv-\\w{5}) bui/i],[d,[f,R],[m,y]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[m,y]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[f,H],[d,H],[m,y]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[m,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[m,b]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[d,[f,U],[m,b]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[f,B],[m,b]],[/((pebble))app/i],[f,d,[m,T]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[f,S],[m,T]],[/droid.+; (glass) \\d/i],[d,[f,I],[m,T]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[f,q],[m,T]],[/(quest( 2| pro)?)/i],[d,[f,F],[m,T]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[m,k]],[/(aeobc)\\b/i],[d,[f,_],[m,k]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[d,[m,h]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[m,w]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[m,h]],[/(android[-\\w\\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[v,[p,"EdgeHTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[v,[p,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,/\\b(libweb)/i],[p,v],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[p,[v,J,X]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[p,"Windows"],[v,J,X]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/ios;fbsv\\/([\\d\\.]+)/i,/cfnetwork\\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[p,K],[v,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[p,v],[/\\(bb(10);/i],[v,[p,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[v,[p,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[v,[p,N+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[v,[p,"watchOS"]],[/crkey\\/([\\d\\.]+)/i],[v,[p,j+"cast"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[p,z],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[p,v],[/(sunos) ?([\\w\\.\\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\\w\\.]*)/i],[p,v]]},Z=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:a,r=e||(n&&n.userAgent?n.userAgent:""),b=n&&n.userAgentData?n.userAgentData:a,y=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(G,t):G,T=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[p]=a,t[v]=a,V.call(t,r,y.browser),t[l]=typeof(e=t[v])===u?e.replace(/[^\\d\\.]/g,"").split(".")[0]:a,T&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,V.call(e,r,y.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[d]=a,e[m]=a,V.call(e,r,y.device),T&&!e[m]&&b&&b.mobile&&(e[m]=h),T&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.engine),e},this.getOS=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.os),T&&!e[p]&&b&&"Unknown"!=b.platform&&(e[p]=b.platform.replace(/chrome os/i,z).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>350?H(e,350):e,this},this.setUA(r),this};Z.VERSION="1.0.35",Z.BROWSER=$([p,v,l]),Z.CPU=$([g]),Z.DEVICE=$([d,f,m,b,h,y,w,T,k]),Z.ENGINE=Z.OS=$([p,v]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(r=function(){return Z}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=Z);var Y=typeof i!==s&&(i.jQuery||i.Zepto);if(Y&&!Y.ua){var ee=new Z;Y.ua=ee.getResult(),Y.ua.get=function(){return ee.getUA()},Y.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Y.ua[n]=t[n]}}}("object"==typeof window?window:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{ActionType:()=>f,AmplitudePlatformName:()=>g,AnalyticsEventImportance:()=>l,AnalyticsQueries:()=>e,AuthStatus:()=>b,ComponentType:()=>m,IThresholdTier:()=>Jt,MetricType:()=>d,PlatformName:()=>v,SessionActions:()=>h,SessionAutomatedEvents:()=>w,SessionRank:()=>y,SubjectType:()=>p,UserTypeCommerce:()=>c,UserTypeInsto:()=>i,UserTypeRetail:()=>t,UserTypeRetailBusinessBanking:()=>s,UserTypeRetailEmployeeInternal:()=>a,UserTypeRetailEmployeePersonal:()=>o,UserTypeWallet:()=>u,automatedEvents:()=>xn,automatedMappingConfig:()=>In,clearMarkEntry:()=>Vn,clearPerformanceMarkEntries:()=>Xn,config:()=>A,createEventConfig:()=>On,createNewSpan:()=>Ln,createNewTrace:()=>Un,device:()=>W,endPerfMark:()=>Jn,exposeExperiment:()=>wn,flushQueue:()=>or,generateUUID:()=>V,getAnalyticsHeaders:()=>sr,getReferrerData:()=>le,getTracingHeaders:()=>An,getTracingId:()=>Dn,getUrlHostname:()=>pe,getUrlParams:()=>me,getUrlPathname:()=>fe,getUserContext:()=>ar,identify:()=>Tn,identifyFlow:()=>xe,identity:()=>H,identityFlow:()=>Se,incrementUjNavigation:()=>an,init:()=>yn,initNextJsTrackPageview:()=>_n,initTrackPageview:()=>kn,isEventKeyFormatValid:()=>we,isSessionEnded:()=>pt,location:()=>re,logEvent:()=>$t,logMetric:()=>Ht,logPageView:()=>on,logTrace:()=>Rn,markNTBT:()=>tn,markStep:()=>nn,markStepOnce:()=>rn,onVisibilityChange:()=>ln,optIn:()=>En,optOut:()=>Sn,perfMark:()=>Wn,persistentData:()=>oe,postMessage:()=>K,recordSessionDuration:()=>pn,removeFromIdentifyFlow:()=>Ee,savePersistentData:()=>st,sendScheduledEvents:()=>Bt,setBreadcrumbs:()=>ie,setConfig:()=>U,setLocation:()=>ae,setPagePath:()=>ve,setPageview:()=>Kt,setPersistentData:()=>se,setSessionStart:()=>dt,setTime:()=>Ue,startPerfMark:()=>Hn,timeStone:()=>Le,useEventLogger:()=>Yn,useLogEventOnMount:()=>tr,usePerformanceMarks:()=>rr});let e=function(e){return e.fbclid="fbclid",e.gclid="gclid",e.msclkid="msclkid",e.ptclid="ptclid",e.ttclid="ttclid",e.utm_source="utm_source",e.utm_medium="utm_medium",e.utm_campaign="utm_campaign",e.utm_term="utm_term",e.utm_content="utm_content",e}({});const t=0,i=1,a=2,o=3,s=4,c=5,u=6;let l=function(e){return e.low="low",e.high="high",e}({}),d=function(e){return e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram",e}({}),p=function(e){return e.commerce_merchant="commerce_merchant",e.device="device",e.edp_fingerprint_id="edp_fingerprint_id",e.nft_user="nft_user",e.user="user",e.wallet_user="wallet_user",e.uuid="user_uuid",e}({}),m=function(e){return e.unknown="unknown",e.banner="banner",e.button="button",e.card="card",e.chart="chart",e.content_script="content_script",e.dropdown="dropdown",e.link="link",e.page="page",e.modal="modal",e.table="table",e.search_bar="search_bar",e.service_worker="service_worker",e.text="text",e.text_input="text_input",e.tray="tray",e.checkbox="checkbox",e.icon="icon",e}({}),f=function(e){return e.unknown="unknown",e.blur="blur",e.click="click",e.change="change",e.dismiss="dismiss",e.focus="focus",e.hover="hover",e.select="select",e.measurement="measurement",e.move="move",e.process="process",e.render="render",e.scroll="scroll",e.view="view",e.search="search",e.keyPress="keyPress",e}({}),v=function(e){return e.unknown="unknown",e.web="web",e.android="android",e.ios="ios",e.mobile_web="mobile_web",e.tablet_web="tablet_web",e.server="server",e.windows="windows",e.macos="macos",e.extension="extension",e}({}),g=function(e){return e.web="Web",e.ios="iOS",e.android="Android",e}({}),b=function(e){return e[e.notLoggedIn=0]="notLoggedIn",e[e.loggedIn=1]="loggedIn",e}({}),h=function(e){return e.ac="ac",e.af="af",e.ah="ah",e.al="al",e.am="am",e.ar="ar",e.as="as",e}({}),w=function(e){return e.pv="pv",e}({}),y=function(e){return e.xs="xs",e.s="s",e.m="m",e.l="l",e.xl="xl",e.xxl="xxl",e}({});const T="https://analytics-service-dev.cbhq.net",k=3e5,_=5e3,S="analytics-db",E="experiment-exposure-db",x="Analytics SDK:",O=Object.values(e),j="pageview",N="session_duration",I={navigationTiming:{eventName:"perf_navigation_timing"},redirectTime:{eventName:"perf_redirect_time"},RT:{eventName:"perf_redirect_time"},TTFB:{eventName:"perf_time_to_first_byte"},networkInformation:{eventName:"perf_network_information"},storageEstimate:{eventName:"perf_storage_estimate"},FCP:{eventName:"perf_first_contentful_paint"},FID:{eventName:"perf_first_input_delay"},LCP:{eventName:"perf_largest_contentful_paint"},CLS:{eventName:"perf_cumulative_layout_shift"},TBT:{eventName:"perf_total_blocking_time"},NTBT:{eventName:"perf_navigation_total_blocking_time"},INP:{eventName:"perf_interact_to_next_paint"},ET:{eventName:"perf_element_timing"},userJourneyStep:{eventName:"perf_user_journey_step"}},P="1",M="web";function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const C=/^(https?:\\/\\/)/;function D(e){return{eventsEndpoint:e+"/amp",metricsEndPoint:e+"/metrics",exposureEndpoint:e+"/track-exposures",tracesEndpoint:e+"/traces"}}const A=B({authCookie:"logged_in",amplitudeApiKey:"",batchEventsPeriod:_,batchEventsThreshold:30,batchMetricsPeriod:_,batchMetricsThreshold:30,batchTracesPeriod:_,batchTracesThreshold:30,headers:{},interactionManager:null,isAlwaysAuthed:!1,isProd:!1,isInternalApplication:!1,onError:(e,t)=>{console.error(x,e,t)},platform:v.unknown,projectName:"",ricTimeoutScheduleEvent:1e3,ricTimeoutSetDevice:500,showDebugLogging:!1,trackUserId:!1,version:null,apiEndpoint:T},D(T),{steps:{}}),L=[].reduce(((e,t)=>n=>e(t(n))),(e=>{if(!e.isProd)return e.isInternalApplication?(e.apiEndpoint="https://analytics-service-internal-dev.cbhq.net",B({},e,D(e.apiEndpoint))):e;const t=(e=>e.apiEndpoint?C.test(e.apiEndpoint)?e.apiEndpoint:`https://${e.apiEndpoint}`:e.isInternalApplication?"https://analytics-service-internal.cbhq.net":"https://as.coinbase.com")(e);return B({},e,{apiEndpoint:t},D(t))})),U=e=>{const{batchEventsThreshold:t,batchMetricsThreshold:n,batchTracesThreshold:r}=e,i=[t,n,r];for(const e of i)if((e||0)>30){console.warn("You are setting the threshhold for the batch limit to be greater than 30. This may cause request overload.");break}Object.assign(A,L(e))},R=[v.web,v.mobile_web,v.tablet_web];function q(){return"android"===A.platform}function F(){return"ios"===A.platform}function z(){return R.includes(A.platform)}function K(e){if(z()&&navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.controller)try{navigator.serviceWorker.controller.postMessage(e)}catch(e){e instanceof Error&&A.onError(e)}}var $=n(353),Q=n.n($);const W={amplitudeOSName:null,amplitudeOSVersion:null,amplitudeDeviceModel:null,amplitudePlatform:null,browserName:null,browserMajor:null,osName:null,userAgent:null,width:null,height:null},H={countryCode:null,deviceId:null,device_os:null,isOptOut:!1,languageCode:null,locale:null,jwt:null,session_lcc_id:null,userAgent:null,userId:null},V=e=>e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,V),J=()=>A.isAlwaysAuthed||!!H.userId,X=()=>{const e={};return H.countryCode&&(e.country_code=H.countryCode),e},G=()=>{const{platform:e}=A;if(e===v.web)switch(!0){case window.matchMedia("(max-width: 560px)").matches:return v.mobile_web;case window.matchMedia("(max-width: 1024px, min-width: 561px)").matches:return v.tablet_web}return e},Z=()=>{var e,t,n,r,i;z()?("requestIdleCallback"in window?window.requestIdleCallback(ne,{timeout:A.ricTimeoutSetDevice}):ne(),W.amplitudePlatform=g.web,W.userAgent=(null==(e=window)||null==(e=e.navigator)?void 0:e.userAgent)||null,ee({height:null!=(t=null==(n=window)?void 0:n.innerHeight)?t:null,width:null!=(r=null==(i=window)?void 0:i.innerWidth)?r:null})):F()?(W.amplitudePlatform=g.ios,W.userAgent=H.userAgent,W.userAgent&&ne()):q()&&(W.userAgent=H.userAgent,W.amplitudePlatform=g.android,W.userAgent&&ne())},Y=e=>{Object.assign(H,e),z()&&K({identity:{isAuthed:!!H.userId,locale:H.locale||null}})},ee=e=>{W.height=e.height,W.width=e.width},te=()=>{U({platform:G()}),z()&&K({config:{platform:A.platform}})},ne=()=>{var e;performance.mark&&performance.mark("ua_parser_start");const t=new(Q())(null!=(e=W.userAgent)?e:"").getResult();W.browserName=t.browser.name||null,W.browserMajor=t.browser.major||null,W.osName=t.os.name||null,W.amplitudeOSName=W.browserName,W.amplitudeOSVersion=W.browserMajor,W.amplitudeDeviceModel=W.osName,K({device:{browserName:W.browserName,osName:W.osName}}),performance.mark&&(performance.mark("ua_parser_end"),performance.measure("ua_parser","ua_parser_start","ua_parser_end"))},re={breadcrumbs:[],initialUAAData:{},pageKey:"",pageKeyRegex:{},pagePath:"",prevPageKey:"",prevPagePath:""};function ie(e){Object.assign(re,{breadcrumbs:e})}function ae(e){Object.assign(re,e)}const oe={eventId:0,sequenceNumber:0,sessionId:0,lastEventTime:0,sessionStart:0,sessionUUID:null,userId:null,ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0};function se(e){Object.assign(oe,e)}function ce(){var e,t;return null!=(e=null==(t=document)?void 0:t.referrer)?e:""}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}const le=()=>{const e=ce();if(!e)return{};const t=new URL(e);return t.hostname===pe()?{}:{referrer:e,referring_domain:t.hostname}},de=()=>{const e=new URLSearchParams(me()),t={};return O.forEach((n=>{e.has(n)&&(t[n]=(e.get(n)||"").toLowerCase())})),t},pe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.hostname)||""},me=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.search)||""},fe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.pathname)||""},ve=()=>{const e=A.overrideWindowLocation?re.pagePath:fe()+me();e&&e!==re.pagePath&&(e!==re.pagePath&&ge(),re.pagePath=e,re.pageKeyRegex&&Object.keys(re.pageKeyRegex).some((e=>{if(re.pageKeyRegex[e].test(re.pagePath))return re.pageKey=e,!0})))},ge=()=>{if(z()){const e=ce();if(!re.prevPagePath&&e){const t=new URL(e);if(t.hostname===pe())return void(re.prevPagePath=t.pathname)}}re.prevPagePath=re.pagePath,re.prevPageKey=re.pageKey},be=e=>{z()&&Object.assign(e,z()?(Object.keys(re.initialUAAData).length>0||(new URLSearchParams(me()),re.initialUAAData=ue({},(()=>{const e={};return O.forEach((t=>{oe[t]&&(e[t]=oe[t])})),e})(),de(),le())),re.initialUAAData):re.initialUAAData)},he=/^[a-zd]+(_[a-zd]+)*$/;function we(e){return he.test(e)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}const Te=["action","component_type","component_name","context","logging_id"],ke=["num_non_hardware_accounts","ujs"],_e="ujs_",Se={};function Ee(e){e.forEach((e=>{ke.includes(e)&&delete Se[e]}))}function xe(e){var t;const n=Object.entries(e).reduce(((e,t)=>{const[n,r]=t;return!Te.includes(n)&&ke.includes(n)?we(n)?ye({},e,{[n]:r}):(A.onError(new Error("IdentityFlow property names must have snake case format"),{[n]:r}),e):e}),{});null!=(t=n.ujs)&&t.length&&(n.ujs=n.ujs.map((e=>`${_e}${e}`))),Object.assign(Se,n)}function Oe(){return A.platform!==v.unknown||(A.onError(new Error("SDK platform not initialized")),!1)}const je={eventsQueue:[],eventsScheduled:!1,metricsQueue:[],metricsScheduled:!1,tracesQueue:[],tracesScheduled:!1};function Ne(e){Object.assign(je,e)}const Ie={ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0},Pe={ac:20,af:5,ah:1,al:1,am:0,ar:10,as:20},Me={pv:25},Be={xs:0,s:1,m:1,l:2,xl:2,xxl:2},Ce=e=>e<15?y.xs:e<60?y.s:e<240?y.m:e<960?y.l:e<3840?y.xl:y.xxl,De=e=>{Object.assign(Ie,e)};function Ae(){return(new Date).getTime()}const Le={timeStart:Ae(),timeOnPagePath:0,timeOnPageKey:0,prevTimeOnPagePath:0,prevTimeOnPageKey:0,sessionDuration:0,sessionEnd:0,sessionStart:0,prevSessionDuration:0};function Ue(e){Object.assign(Le,e)}const Re=(e,t)=>t.some((t=>e instanceof t));let qe,Fe;const ze=new WeakMap,Ke=new WeakMap,$e=new WeakMap,Qe=new WeakMap,We=new WeakMap;let He={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ke.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$e.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Je(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ve(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Xe(this),e),Je(ze.get(this))}:function(...e){return Je(t.apply(Xe(this),e))}:function(e,...n){const r=t.call(Xe(this),e,...n);return $e.set(r,e.sort?e.sort():[e]),Je(r)}:(e instanceof IDBTransaction&&function(e){if(Ke.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ke.set(e,t)}(e),Re(e,qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,He):e);var t}function Je(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Je(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&ze.set(t,e)})).catch((()=>{})),We.set(t,e),t}(e);if(Qe.has(e))return Qe.get(e);const t=Ve(e);return t!==e&&(Qe.set(e,t),We.set(t,e)),t}const Xe=e=>We.get(e),Ge=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Ye=new Map;function et(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ye.get(t))return Ye.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ge.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Ye.set(t,a),a}var tt;tt=He,He={...tt,get:(e,t,n)=>et(e,t)||tt.get(e,t,n),has:(e,t)=>!!et(e,t)||tt.has(e,t)};const nt={isReady:!1,idbKeyval:null};function rt(e){Object.assign(nt,e)}const it={},at=async e=>{if(!nt.idbKeyval)return Promise.resolve(null);try{return await nt.idbKeyval.get(e)}catch(e){return A.onError(new Error("IndexedDB:Get:InternalError")),Promise.resolve(null)}},ot=async(e,t)=>{if(nt.idbKeyval)try{await nt.idbKeyval.set(e,t)}catch(e){A.onError(new Error("IndexedDB:Set:InternalError"))}},st=()=>{"server"!==A.platform&&(se({sessionStart:Le.sessionStart,ac:Ie.ac,af:Ie.af,ah:Ie.ah,al:Ie.al,am:Ie.am,ar:Ie.ar,as:Ie.as,pv:Ie.pv}),H.userId&&se({userId:H.userId}),ot(S,oe))},ct="rgb(5,177,105)",ut=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`%c ${x}`,a=`color:${ct};font-size:11px;`,o=`Importance: ${r}`;console.group(i,a,t,o),n.forEach((e=>{e.event_type?console.log(e.event_type,e):console.log(e)})),console.groupEnd()},lt=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`color:${ct};font-size:11px;`,a=`%c ${x}`,o=`Importance: ${r}`;console.log(a,i,t,n,o)},dt=()=>{const e=Ae();oe.sessionId&&oe.lastEventTime&&oe.sessionUUID&&!pt(e)||(oe.sessionId=e,oe.sessionUUID=V(),Ue({sessionStart:e}),lt({metricName:"Started new session:",data:{persistentData:oe,timeStone:Le}})),oe.lastEventTime=e},pt=e=>e-oe.lastEventTime>18e5;function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}const ft=e=>{var t;(e=>{switch(e.action){case f.click:Ie.ac+=1;break;case f.focus:Ie.af+=1;break;case f.hover:Ie.ah+=1;break;case f.move:Ie.am+=1;break;case f.scroll:Ie.al+=1;break;case f.search:Ie.ar+=1;break;case f.select:Ie.as+=1}})(t=e),t.event_type!==j?t.event_type===N&&((e=>{if(!e.session_rank)return;const t=e.session_rank;Object.values(h).forEach((e=>{Ie.sqs+=Ie[e]*Pe[e]})),Object.values(w).forEach((e=>{Ie.sqs+=Ie[e]*Me[e]})),Ie.sqs*=Be[t]})(t),Object.assign(t,Ie),De({ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0})):Ie.pv+=1;const n=e.event_type;delete e.event_type;const r=e.deviceId?e.deviceId:null,i=e.timestamp;return delete e.timestamp,se({eventId:oe.eventId+1}),se({sequenceNumber:oe.sequenceNumber+1}),dt(),st(),{device_id:H.deviceId||r||null,user_id:H.userId,timestamp:i,event_id:oe.eventId,session_id:oe.sessionId||-1,event_type:n,version_name:A.version||null,platform:W.amplitudePlatform,os_name:W.amplitudeOSName,os_version:W.amplitudeOSVersion,device_model:W.amplitudeDeviceModel,language:H.languageCode,event_properties:mt({},e,{session_uuid:oe.sessionUUID,height:W.height,width:W.width}),user_properties:X(),uuid:V(),library:{name:"@cbhq/client-analytics",version:"10.6.0"},sequence_number:oe.sequenceNumber,user_agent:W.userAgent||H.userAgent}},vt=e=>e.map((e=>ft(e)));function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}const bt=e=>e.map((e=>(e=>{const t=e.tags||{},n=gt({authed:J()?"true":"false",platform:A.platform},t,{project_name:A.projectName,version_name:A.version||null});return{metric_name:e.metricName,page_path:e.pagePath||null,value:e.value,tags:n,type:e.metricType}})(e))),ht=e=>0!==je.metricsQueue.length&&(je.metricsQueue.length>=A.batchMetricsThreshold||(je.metricsScheduled||(je.metricsScheduled=!0,setTimeout((()=>{je.metricsScheduled=!1,e(bt(je.metricsQueue)),je.metricsQueue=[]}),A.batchMetricsPeriod)),!1)),wt=e=>0!==je.tracesQueue.length&&(je.tracesQueue.length>=A.batchTracesThreshold||(je.tracesScheduled||(je.tracesScheduled=!0,setTimeout((()=>{je.tracesScheduled=!1,e(je.tracesQueue),je.tracesQueue=[]}),A.batchTracesPeriod)),!1)),yt=e=>{var t;z()&&null!=(t=window)&&t.requestIdleCallback?window.requestIdleCallback(e,{timeout:A.ricTimeoutScheduleEvent}):(q()||F())&&A.interactionManager?A.interactionManager.runAfterInteractions(e):e()};function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}const kt="application/x-www-form-urlencoded; charset=UTF-8",_t=e=>{const{data:t,importance:n,isJSON:r,onError:i,url:a}=e,o=r?"application/json":kt,s=n||l.low,c=r?JSON.stringify(t):new URLSearchParams(t).toString();function u(){const e=new XMLHttpRequest;e.open("POST",a,!0),Object.keys(A.headers||{}).forEach((t=>{e.setRequestHeader(t,A.headers[t])})),e.setRequestHeader("Content-Type",kt),H.jwt&&e.setRequestHeader("authorization",`Bearer ${H.jwt}`),e.send(c)}if(!z()||r||!("sendBeacon"in navigator)||s!==l.low||A.headers&&0!==Object.keys(A.headers).length)if(z()&&!r)u();else{const e=Tt({},A.headers,{"Content-Type":o});H.jwt&&(e.Authorization=`Bearer ${H.jwt}`),fetch(a,{method:"POST",mode:"no-cors",headers:e,body:c}).catch((e=>{i(e,{context:"AnalyticsSDKApiError"})}))}else{const e=new Blob([c],{type:kt});try{navigator.sendBeacon.bind(navigator)(a,e)||u()}catch(e){console.error(e),u()}}};var St=n(762),Et=n.n(St);const xt=(e,t,n)=>{const r=e||"";return Et()("2"+r+t+n)};function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}class jt extends Error{constructor(e){super(e),this.name="CircularJsonReference",this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}class Nt extends jt{constructor(...e){super(...e),this.name="DomReferenceInAnalyticsEvent"}}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}const Pt=(e,t=l.low)=>{var n;e&&je.eventsQueue.push(e),nt.isReady&&(!A.trackUserId||H.userId?(t===l.high||(n=Mt,0!==je.eventsQueue.length&&(je.eventsQueue.length>=A.batchEventsThreshold||(je.eventsScheduled||(je.eventsScheduled=!0,setTimeout((()=>{je.eventsScheduled=!1,n(vt(je.eventsQueue)),je.eventsQueue=[]}),A.batchEventsPeriod)),0))))&&Bt():je.eventsQueue.length>10&&(A.trackUserId=!1,A.onError(new Error("userId not set in Logged-in"))))},Mt=(e,t=l.low)=>{if(H.isOptOut||0===e.length)return;let n;try{n=JSON.stringify(e)}catch(t){const r=e.map((e=>e.event_type)).join(", "),[i,a]=(e=>{try{const n=[];for(const r of e){const e=Ot({},r);r.event_properties&&(e.event_properties=Ot({},e.event_properties,{currentTarget:null,target:null,relatedTarget:null,_dispatchInstances:null,_targetInst:null,view:(t=r.event_properties.view,["string","number","boolean"].includes(typeof t)?r.event_properties.view:null)})),n.push(e)}return[!0,JSON.stringify(n)]}catch(e){return[!1,""]}var t})(e);if(!i)return void A.onError(new jt(t instanceof Error?t.message:"unknown"),{listEventType:r});n=a,A.onError(new Nt("Found DOM element reference"),{listEventType:r,stringifiedEventData:n})}const r=Ae().toString(),i=It({},{e:n,v:"2",upload_time:r},{client:A.amplitudeApiKey,checksum:xt(A.amplitudeApiKey,n,r)});_t({url:A.eventsEndpoint,data:i,importance:t,onError:A.onError}),ut({metricName:"Batch Events",data:e,importance:t})},Bt=()=>{Mt(vt(je.eventsQueue)),Ne({eventsQueue:[]})};function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}const Dt=Object.values(f),At=Object.values(m),Lt=e=>Dt.includes(e)?e:f.unknown,Ut=e=>At.includes(e)?e:m.unknown,Rt=(e,t,n)=>{const r={auth:J()?b.loggedIn:b.notLoggedIn,action:Lt(e),component_type:Ut(t),logging_id:n,platform:A.platform,project_name:A.projectName};return"number"==typeof H.userTypeEnum&&(r.user_type_enum=H.userTypeEnum),r},qt=e=>{const t=Ae();if(!e)return A.onError(new Error("missing logData")),Ct({},Rt(f.unknown,m.unknown),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});const n=Ct({},e,Rt(e.action,e.componentType,e.loggingId),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});return delete n.componentType,delete n.loggingId,n},Ft={blacklistRegex:[],isEnabled:!1};function zt(){return{page_key:re.pageKey,page_path:re.pagePath,prev_page_key:re.prevPageKey,prev_page_path:re.prevPagePath}}function Kt(e){Object.assign(Ft,e)}function $t(e,t,n=l.low){if(H.isOptOut)return;if(!Oe())return;const r=qt(t);!function(e){Ft.isEnabled&&(ve(),Object.assign(e,zt()))}(r),be(r),function(e){Object.keys(Se).length>0&&Object.assign(e,Se)}(r),r.has_double_fired=!1,r.event_type=e,n===l.high?Pt(r,n):yt((()=>{Pt(r)}))}function Qt(e,t=!1){t?_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Metrics",data:e})}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ht(e){if(!Oe())return;v.server!==A.platform&&!e.pagePath&&re.pagePath&&(e.pagePath=re.pagePath);const t=Object.keys(Se).length?Wt({},e.tags,Se):e.tags;t&&Object.assign(e,{tags:t}),je.metricsQueue.push(e),ht(Qt)&&(Qt(bt(je.metricsQueue)),je.metricsQueue=[])}function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}let Jt=function(e){return e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable",e}({});function Xt(e){return e.toLowerCase()}let Gt={};const Zt=(e,t)=>{null!=A&&A.onMarkStep&&A.onMarkStep(e,t),xe({ujs:t})};let Yt;const en={Perfume:()=>{},markStep:e=>{},markStepOnce:e=>{},incrementUjNavigation:()=>{}},tn=()=>{z()&&Yt&&Yt.markNTBT&&Yt.markNTBT()},nn=e=>{z()&&Yt&&en.markStep&&en.markStep(e)},rn=e=>{z()&&Yt&&en.markStepOnce&&en.markStepOnce(e)},an=()=>{z()&&Yt&&en.incrementUjNavigation&&en.incrementUjNavigation()};function on(e={callMarkNTBT:!0}){"unknown"!==A.platform&&(Ft.blacklistRegex.some((e=>e.test(fe())))||($t(j,{action:f.render,componentType:m.page}),e.callMarkNTBT&&tn()))}let sn=!1,cn=!1;const un=e=>{sn=!e.persisted},ln=(e,t="hidden",n=!1)=>{cn||(addEventListener("pagehide",un),addEventListener("beforeunload",(()=>{})),cn=!0),addEventListener("visibilitychange",(({timeStamp:n})=>{document.visibilityState===t&&e({timeStamp:n,isUnloading:sn})}),{capture:!0,once:n})},dn=36e3;function pn(){const e=pt(Ae());if(e&&(O.forEach((e=>{oe[e]&&delete oe[e]})),st()),!oe.lastEventTime||!Le.sessionStart||!e)return;const t=Math.round((oe.lastEventTime-Le.sessionStart)/1e3);if(t<1||t>dn)return;const n=Ce(t);$t(N,{action:f.measurement,componentType:m.page,session_duration:t,session_end:oe.lastEventTime,session_start:Le.sessionStart,session_rank:n})}function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mn.apply(this,arguments)}const fn=[],vn=[],gn=()=>{const e=fn.shift();e&&e()},bn=()=>{const e=vn.shift();e&&e()};let hn={};function wn(e){const t=function(e){return{test_name:e.testName,group_name:e.group,subject_id:e.subjectId,exposed_at:Ae(),subject_type:e.subjectType,platform:A.platform}}(e);hn[e.testName]=hn[e.testName]||0,hn[e.testName]+k>Ae()?lt({metricName:`Event: exposeExperiment ${e.testName} not sent`,data:t}):(hn[e.testName]=Ae(),ot(E,hn),lt({metricName:`Event: exposeExperiment ${e.testName} sent`,data:t}),_t({url:A.exposureEndpoint,data:[t],onError:(t,n)=>{hn[e.testName]=0,ot(E,hn),A.onError(t,n)},isJSON:!0,importance:l.high}))}const yn=e=>{var t,r,i;U(e),z()&&(H.languageCode=(null==(t=navigator)?void 0:t.languages[0])||(null==(r=navigator)?void 0:r.language)||""),te(),(()=>{var e;if(z()&&null!=(e=window)&&e.indexedDB){const e=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Je(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Je(o.result),e.oldVersion,e.newVersion,Je(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("keyval-store",1,{upgrade(e){e.createObjectStore("keyval")}});rt({idbKeyval:{get:async t=>(await e).get("keyval",t),set:async(t,n)=>(await e).put("keyval",n,t),delete:async t=>(await e).delete("keyval",t),keys:async()=>(await e).getAllKeys("keyval")}})}else rt({idbKeyval:{get:async e=>new Promise((t=>{t(it[e])})),set:async(e,t)=>new Promise((n=>{it[e]=t,n(e)})),delete:async e=>new Promise((()=>{delete it[e]})),keys:async()=>new Promise((e=>{e(Object.keys(it))}))}})})(),lt({metricName:"Initialized Analytics:",data:{deviceId:H.deviceId}}),fn.push((()=>{Pt()})),(async()=>{const e=await at(S);rt({isReady:!0}),gn(),e&&(bn(),se({eventId:e.eventId||oe.eventId,sequenceNumber:e.sequenceNumber||oe.sequenceNumber,sessionId:e.sessionId||oe.sessionId,lastEventTime:e.lastEventTime||oe.lastEventTime,sessionUUID:e.sessionUUID||oe.sessionUUID}),function(e){se(mn({},function(e){const t={};return O.forEach((n=>{e[n]&&(t[n]=e[n])})),t}(e),de()))}(e),Ue({sessionStart:e.sessionStart||oe.sessionStart}),De({ac:e.ac||Ie.ac,af:e.af||Ie.af,ah:e.ah||Ie.ah,al:e.al||Ie.al,am:e.am||Ie.am,ar:e.ar||Ie.ar,as:e.as||Ie.as,pv:e.pv||Ie.pv}),A.trackUserId&&Y({userId:e.userId||H.userId}),pn(),lt({metricName:"Initialized Analytics IndexedDB:",data:e}))})(),async function(){at(E).then((e=>{hn=null!=e?e:{}})).catch((e=>{e instanceof Error&&A.onError(e)}))}(),Z(),z()&&(ln((()=>{se({lastEventTime:Ae()}),st(),Bt()}),"hidden"),ln((()=>{pn()}),"visible")),z()&&(i=()=>{var e,t,n,r;te(),ee({width:null!=(e=null==(t=window)?void 0:t.innerWidth)?e:null,height:null!=(n=null==(r=window)?void 0:r.innerHeight)?n:null})},addEventListener("resize",(()=>{requestAnimationFrame((()=>{i()}))}))),(()=>{if(z())try{const e=n(2);en.markStep=e.markStep,en.markStepOnce=e.markStepOnce,en.incrementUjNavigation=e.incrementUjNavigation,Yt=new e.Perfume({analyticsTracker:e=>{const{data:t,attribution:n,metricName:r,navigatorInformation:i,rating:a}=e,o=I[r],s=(null==n?void 0:n.category)||null;if(!o&&!s)return;const c=(null==i?void 0:i.deviceMemory)||0,u=(null==i?void 0:i.hardwareConcurrency)||0,l=(null==i?void 0:i.isLowEndDevice)||!1,p=(null==i?void 0:i.isLowEndExperience)||!1,v=(null==i?void 0:i.serviceWorkerStatus)||"unsupported",g=Vt({deviceMemory:c,hardwareConcurrency:u,isLowEndDevice:l,isLowEndExperience:p,serviceWorkerStatus:v},Gt),b={is_low_end_device:l,is_low_end_experience:p,page_key:re.pageKey||"",save_data:t.saveData||!1,service_worker:v,is_perf_metric:!0};if("navigationTiming"===r)t&&"number"==typeof t.redirectTime&&Ht({metricName:I.redirectTime.eventName,metricType:d.histogram,tags:b,value:t.redirectTime||0});else if("TTFB"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),Ht({metricName:I.TTFB.eventName,metricType:d.histogram,tags:Vt({},b),value:t}),a&&Ht({metricName:`perf_web_vitals_ttfb_${a}`,metricType:d.count,tags:b,value:1});else if("networkInformation"===r)null!=t&&t.effectiveType&&(Gt=t,$t(o.eventName,{action:f.measurement,componentType:m.page,networkInformationDownlink:t.downlink,networkInformationEffectiveType:t.effectiveType,networkInformationRtt:t.rtt,networkInformationSaveData:t.saveData,navigatorDeviceMemory:c,navigatorHardwareConcurrency:u}));else if("storageEstimate"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page},t,g)),Ht({metricName:"perf_storage_estimate_caches",metricType:d.histogram,tags:b,value:t.caches}),Ht({metricName:"perf_storage_estimate_indexed_db",metricType:d.histogram,tags:b,value:t.indexedDB});else if("CLS"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,score:100*t||null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_cls_${a}`,metricType:d.count,tags:b,value:1});else if("FID"===r){const e=(null==n?void 0:n.performanceEntry)||null,r=parseInt((null==e?void 0:e.processingStart)||"");$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,processingStart:null!=e&&e.processingStart?r:null,startTime:null!=e&&e.startTime?parseInt(e.startTime):null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_fidVitals_${a}`,metricType:d.count,tags:b,value:1})}else"userJourneyStep"===r?($t("perf_user_journey_step",Vt({action:f.measurement,componentType:m.page,duration:t||null,rating:null!=a?a:null,step_name:(null==n?void 0:n.stepName)||""},g)),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}_vitals_${a}`,metricType:d.count,tags:b,value:1}),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}`,metricType:d.distribution,tags:b,value:t||null})):I[r]&&t&&($t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),a&&(Ht({metricName:`perf_web_vitals_${Xt(r)}_${a}`,metricType:d.count,tags:b,value:1}),"LCP"===r&&Ht({metricName:`perf_web_vitals_${Xt(r)}`,metricType:d.distribution,tags:b,value:t})))},maxMeasureTime:3e4,steps:A.steps,onMarkStep:Zt})}catch(e){e instanceof Error&&A.onError(e)}})()},Tn=e=>{Y(e),e.userAgent&&Z(),lt({metricName:"Identify:",data:{countryCode:H.countryCode,deviceId:H.deviceId,userId:H.userId}})},kn=({blacklistRegex:e,pageKeyRegex:t,browserHistory:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.listen((()=>{on()}))},_n=({blacklistRegex:e,pageKeyRegex:t,nextJsRouter:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.events.on("routeChangeComplete",(()=>{on()}))},Sn=()=>{Y({isOptOut:!0}),ot(S,{})},En=()=>{Y({isOptOut:!1})},xn={Button:{label:"cb_button",uuid:"e921a074-40e6-4371-8700-134d5cd633e6",componentType:m.button}};function On(e,t,n){return{componentName:e,actions:t,data:n}}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}function Nn(e,t,n){const{componentName:r,data:i}=n;$t(e.label,jn({componentType:e.componentType,action:t,loggingId:e.uuid,component_name:r},i))}const In={actionMapping:{onPress:f.click,onHover:f.hover},handlers:{Button:{[f.click]:e=>Nn(xn.Button,f.click,e),[f.hover]:e=>Nn(xn.Button,f.hover,e)}}};function Pn(e,t=!1){t?_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Traces",data:e})}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}const Bn=1e6;function Cn(e){return e*Bn}function Dn(e=function(){var e;return null==(e=window)?void 0:e.crypto}()){const t=new Uint32Array(2);return null==e||e.getRandomValues(t),((BigInt(t[0])<<BigInt(32))+BigInt(t[1])).toString()}function An(e,t){return{"x-datadog-origin":"rum","x-datadog-parent-id":t,"x-datadog-sampling-priority":"1","x-datadog-trace-id":e}}function Ln(e){var t;const{name:n,traceId:r,spanId:i,start:a,duration:o,resource:s,meta:c}=e;return{duration:o?Cn(o):0,name:n,resource:s,service:A.projectName,span_id:null!=i?i:Dn(),start:a?Cn(a):0,trace_id:null!=r?r:Dn(),parent_id:P,type:M,meta:Mn({platform:A.platform},re.pageKey?{page_key:re.pageKey}:{},null!=(t=Se.ujs)&&t.length?{last_ujs:Se.ujs[Se.ujs.length-1]}:{},null!=c?c:{})}}function Un(e){return[Ln(e)]}function Rn(e,t){Oe()&&function(e){return e.length>0}(e)&&(t&&function(e,t){e.forEach((e=>function(e,t){const n=Mn({},e.meta,t.meta),r={start:t.start?Cn(t.start):e.start,duration:t.duration?Cn(t.duration):e.duration};Object.assign(e,t,Mn({meta:n},r))}(e,t)))}(e,t),je.tracesQueue.push(e),wt(Pn)&&(Pn(je.tracesQueue),je.tracesQueue=[]))}function qn(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}function zn(){return void 0!==typeof window&&"performance"in window&&"mark"in performance&&"getEntriesByName"in performance}function Kn(e,t){return`perf_${e}${null!=t&&t.label?`_${t.label}`:""}`}function $n(e,t,n){return`${Kn(e,n)}__${t}`}let Qn={};function Wn(e,t,n){if(!zn())return;const r=$n(e,t,n);if(performance.mark(r),"end"===t){const t=Kn(e,n);!function(e,t,n){try{performance.measure(e,t,n)}catch(e){A.onError(e)}}(t,$n(e,"start",n),r);const i=performance.getEntriesByName(t).pop();i&&Ht(Fn({metricName:e,metricType:d.distribution,value:i.duration},null!=n&&n.tags?{tags:n.tags}:{}))}}function Hn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]||(Wn(e,"start",t),Qn[n]=!0)}function Vn(e,t){const n=$n(e,"start",t),r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(Qn,[n].map(qn));Qn=r}function Jn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]&&(Wn(e,"end",t),Vn(e,t))}function Xn(){zn()&&(performance.clearMarks(),Qn={})}var Gn=n(784);function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function Yn(e,t,n=l.low){const r=(0,Gn.useRef)(t);return(0,Gn.useEffect)((()=>{r.current=t}),[t]),(0,Gn.useCallback)((t=>{$t(e,Zn({},r.current,t),n)}),[e,n])}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function tr(e,t,n=l.low){(0,Gn.useEffect)((()=>{const r=er({},t,{action:f.render});$t(e,r,n)}),[])}function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}const rr=function(e,t){return{markStartPerf:(0,Gn.useCallback)((()=>Hn(e,t)),[e,t]),markEndPerf:(0,Gn.useCallback)((n=>Jn(e,nr({},t,n))),[e,t])}};function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)}function ar(){return Object.entries(ir({},Se,zt(),{sessionUUID:oe.sessionUUID,userId:oe.userId})).reduce(((e,t)=>{return null!=(n=t[1])&&""!==n?ir({},e,{[t[0]]:t[1]}):e;var n}),{})}async function or(){return new Promise((e=>{Mt(vt(je.eventsQueue)),Qt(bt(je.metricsQueue),!0),Pn(je.tracesQueue,!0),Ne({eventsQueue:[],metricsQueue:[],tracesQueue:[]}),e()}))}function sr(){return{"X-CB-Device-ID":H.deviceId||"unknown","X-CB-Is-Logged-In":H.userId?"true":"false","X-CB-Pagekey":re.pageKey||"unknown","X-CB-UJS":(e=Se.ujs,void 0===e||0===e.length?"":e.join(",")),"X-CB-Platform":A.platform||"unknown","X-CB-Project-Name":A.projectName||"unknown","X-CB-Session-UUID":oe.sessionUUID||"unknown","X-CB-Version-Name":A.version?String(A.version):"unknown"};var e}})(),r})()}));',Net=()=>new Promise((t,e)=>{if(typeof window>"u"){e(new Error("Telemetry is not supported in non-browser environments"));return}if(window.ClientAnalytics)return t();try{const n=document.createElement("script");n.textContent=Tet,n.type="text/javascript",document.head.appendChild(n),Oet(),document.head.removeChild(n),t()}catch{console.error("Failed to execute inlined telemetry script"),e()}}),Oet=()=>{if(typeof window<"u"){const t=et.config.get().deviceId??crypto?.randomUUID()??"";if(window.ClientAnalytics){const{init:e,identify:n,PlatformName:r}=window.ClientAnalytics;e({isProd:!0,amplitudeApiKey:"c66737ad47ec354ced777935b0af822e",platform:r.web,projectName:"base_account_sdk",showDebugLogging:!1,version:"1.0.0",apiEndpoint:"https://cca-lite.coinbase.com"}),n({deviceId:t}),et.config.set({deviceId:t})}}},Pet="0xba5ed110efdba3d005bfc882d75358acbbb85842",uu=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"owner",type:"bytes"}],name:"AlreadyOwner",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidEthereumAddressOwner",type:"error"},{inputs:[{name:"key",type:"uint256"}],name:"InvalidNonceKey",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidOwnerBytesLength",type:"error"},{inputs:[],name:"LastOwner",type:"error"},{inputs:[{name:"index",type:"uint256"}],name:"NoOwnerAtIndex",type:"error"},{inputs:[{name:"ownersRemaining",type:"uint256"}],name:"NotLastOwner",type:"error"},{inputs:[{name:"selector",type:"bytes4"}],name:"SelectorNotAllowed",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnauthorizedCallContext",type:"error"},{inputs:[],name:"UpgradeFailed",type:"error"},{inputs:[{name:"index",type:"uint256"},{name:"expectedOwner",type:"bytes"},{name:"actualOwner",type:"bytes"}],name:"WrongOwnerAtIndex",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"AddOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"RemoveOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"REPLAYABLE_NONCE_KEY",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"addOwnerAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"addOwnerPublicKey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"functionSelector",type:"bytes4"}],name:"canSkipChainIdValidation",outputs:[{name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"entryPoint",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"calls",type:"bytes[]"}],name:"executeWithoutChainIdValidation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHashWithoutChainId",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"$",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"owners",type:"bytes[]"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"isOwnerAddress",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"bytes"}],name:"isOwnerBytes",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"isOwnerPublicKey",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"result",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextOwnerIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"ownerAtIndex",outputs:[{name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownerCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeLastOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeOwnerAtIndex",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"removedOwnersCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"}],name:"replaySafeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"newImplementation",type:"address"},{name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],Doe=[{inputs:[{name:"implementation_",type:"address"}],stateMutability:"payable",type:"constructor"},{inputs:[],name:"OwnerRequired",type:"error"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"createAccount",outputs:[{name:"account",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"getAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],ui={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},w7={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},Uoe="Unspecified error message.",Ret="Unspecified server error.";function OM(t,e=Uoe){if(t&&Number.isInteger(t)){const n=t.toString();if(y7(w7,n))return w7[n].message;if(Moe(t))return Ret}return e}function Det(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(w7[e]||Moe(t))}function Uet(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&y7(t,"code")&&Det(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,y7(r,"data")&&(n.data=r.data)):(n.message=OM(n.code),n.data={originalError:UV(t)})}else n.code=ui.rpc.internal,n.message=MV(t,"message")?t.message:Uoe,n.data={originalError:UV(t)};return e&&(n.stack=MV(t,"stack")?t.stack:void 0),n}function Moe(t){return t>=-32099&&t<=-32e3}function UV(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function y7(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function MV(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const it={rpc:{parse:t=>zc(ui.rpc.parse,t),invalidRequest:t=>zc(ui.rpc.invalidRequest,t),invalidParams:t=>zc(ui.rpc.invalidParams,t),methodNotFound:t=>zc(ui.rpc.methodNotFound,t),internal:t=>zc(ui.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return zc(e,t)},invalidInput:t=>zc(ui.rpc.invalidInput,t),resourceNotFound:t=>zc(ui.rpc.resourceNotFound,t),resourceUnavailable:t=>zc(ui.rpc.resourceUnavailable,t),transactionRejected:t=>zc(ui.rpc.transactionRejected,t),methodNotSupported:t=>zc(ui.rpc.methodNotSupported,t),limitExceeded:t=>zc(ui.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>tb(ui.provider.userRejectedRequest,t),unauthorized:t=>tb(ui.provider.unauthorized,t),unsupportedMethod:t=>tb(ui.provider.unsupportedMethod,t),disconnected:t=>tb(ui.provider.disconnected,t),chainDisconnected:t=>tb(ui.provider.chainDisconnected,t),unsupportedChain:t=>tb(ui.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new joe(e,n,r)}}};function zc(t,e){const[n,r]=Loe(e);return new PM(t,n||OM(t),r)}function tb(t,e){const[n,r]=Loe(e);return new joe(t,n||OM(t),r)}function Loe(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}let PM=class extends Error{code;data;constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}},joe=class extends PM{constructor(e,n,r){if(!Met(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}};function Met(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function LV(t){return typeof t=="object"&&t!==null&&"code"in t&&"data"in t&&t.code===-32090&&typeof t.data=="object"&&t.data!==null&&"type"in t.data&&t.data.type==="INSUFFICIENT_FUNDS"}function Boe(t){return typeof t=="object"&&t!==null&&"details"in t}function Let(t){try{const e=JSON.parse(t.details);return new PM(e.code,e.message,e.data)}catch{return null}}function ul(t,e,n){if(t==null)throw e??it.rpc.invalidParams({message:"value must be present",data:t})}function Rf(t,e){if(!Array.isArray(t))throw it.rpc.invalidParams({message:e??"value must be an array",data:t})}const jet=`Base Account SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Base Account app.

Please see https://docs.base.org/smart-wallet/quickstart#cross-origin-opener-policy for more information.`,Bet=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);t=n.headers.get("Cross-Origin-Opener-Policy")??"null",t==="same-origin"&&console.error(jet)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:zet,getCrossOriginOpenerPolicy:Wet}=Bet();function qet(t){if(t){if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties");if(t.telemetry&&typeof t.telemetry!="boolean")throw new Error("Telemetry must be a boolean")}}function jV(t){if(typeof t!="function")throw new Error("toAccount is not a function")}var Ur;(function(t){t.unknown="unknown",t.banner="banner",t.button="button",t.card="card",t.chart="chart",t.content_script="content_script",t.dropdown="dropdown",t.link="link",t.page="page",t.modal="modal",t.table="table",t.search_bar="search_bar",t.service_worker="service_worker",t.text="text",t.text_input="text_input",t.tray="tray",t.checkbox="checkbox",t.icon="icon"})(Ur||(Ur={}));var Mr;(function(t){t.unknown="unknown",t.blur="blur",t.click="click",t.change="change",t.dismiss="dismiss",t.focus="focus",t.hover="hover",t.select="select",t.measurement="measurement",t.move="move",t.process="process",t.render="render",t.scroll="scroll",t.view="view",t.search="search",t.keyPress="keyPress",t.error="error"})(Mr||(Mr={}));var Lr;(function(t){t.low="low",t.high="high"})(Lr||(Lr={}));function Jr(t,e,n){typeof window<"u"&&window.ClientAnalytics&&window.ClientAnalytics?.logEvent(t,{...e,sdkVersion:Ay,sdkName:Rk,appName:et.config.get().metadata?.appName??"",appOrigin:window.location.origin},n)}const Fet=()=>{Jr("communicator.popup_setup.started",{action:Mr.unknown,componentType:Ur.unknown},Lr.high)},Het=()=>{Jr("communicator.popup_setup.completed",{action:Mr.unknown,componentType:Ur.unknown},Lr.high)},Vet=()=>{Jr("communicator.popup_unload.received",{action:Mr.unknown,componentType:Ur.unknown},Lr.high)},RM=({dialogContext:t})=>{Jr(`dialog.${t}.shown`,{action:Mr.render,componentType:Ur.modal,dialogContext:t},Lr.high)},zoe=({dialogContext:t})=>{Jr(`dialog.${t}.dismissed`,{action:Mr.dismiss,componentType:Ur.modal,dialogContext:t},Lr.high)},Ow=({dialogContext:t,dialogAction:e})=>{Jr(`dialog.${t}.action_clicked`,{action:Mr.click,componentType:Ur.button,dialogContext:t,dialogAction:e},Lr.high)},Ket=`
@font-face {
  font-family: "BaseSans-Regular";
  src: url("data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAJigAA8AAAACCywAAJg8AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cGoIuG4L7BhzCdAZgAJIGEQgKg+k0gv4NC4p0AAE2AiQDlWQEIAWGfgeublsIz5EGVeP2TiXfSAJ0G0LBr7Zlqf6pcAA3dwBbquuITJr6o7y2YrpNHoSyAwBKe/rZ//////+/IlmMMf8PuQcEUUitMtva1oSQhGamQkxJxpSLWVScqgQ1RW16VovNJTZ2uagkVSeuNje11QubnvZpYVB7yUGi4thNqJYBdoegR2V9jiA4dEhCOgf3Va7muEqhcRKz0dDNOVV47+hxPO9qkzFCUg5glpCZxKbOGFxehX5nYwGEBZOQwyRFIY5oljSrLwkSIj35dugPRJKk8G3GwUgw06hpknM0qqcUdO/UkzLvviWielabhCp59zPCaOnnqLtK3qXfP4Jz+vAum7Q0/NuZGXK9lUJKTpCEJ7ENfKrSzrLJy8uqLLgUD5sssqscpk8OS7HhGv36H+Ct59wJukpOmwpgFOqL6vCNd0ISNjq/nA5E/OXNVV0dR7EKTAKiB1ZvW+tSlyr7EWdJ3qxDtA8codE8WQY4xkT9EJF26FGP+iQKnwv66klyovCkLwlr8Lxu3nv/5/MNMUKMiAhhDtdkGsM0RAwRI8QYaRhCUNgOUAO4Bi0u3DhL0aZoKaLFsXHublwTFwWef9oP2rlv3sxftRCxRCOKSDVvItZINGlFPFkmbqay38SW9hmQLI2pME5qCPQ47vfu8GC3f2SvxM2MUAmZO8ThjH049p2ZcUbGnTPWOHudo8vMLNEQRUvt3y9qA6U5Uu9ZONvHHhBR/BdN1Kcsoz6KD7j59iAmJA4eESNxvpq3Y6fp1ru163hU2GRzm8rmg0BhMJKgMIaf9nO3qg2ztI6m8ncflWgaGnQInYUqlufvbIecf9zg3KdoiqIpiqLnHzctBAhpSGNI+CSBCoxSmdVel2WMzJgqpdvlRLu9sTnXnnhOLGfKTLCJOTM9UWa8ezmfeyz//739L9vet2xVfdv8v/dtfXvfXldd46q+pW+rqhpVVXVV1biGGqPGGGOMMSIiRkSEOCIiIiIiIiKOIyJEHBHHETH/+Nz8/5kozOTkkPZ9M9uZRYC0pVwIQS5XK0nOJvA8lOVX3YrZypBnvvvmw25iURRFUTRNURRFURRFURRFURRF0TRNUzRN0TRN0/zRttoUsFC40OU9euRGFjGNjc8DAIWhNhWIqEFFnL7nFu2CjlFaJxxJRqf6Ung+Jvp73GVuoRtcHv8zeSKBU33dLOlWLJ0kBS4NEvIIaJvcM3ZuaDO0PkAHB26nUXSKoiiKorCiM7PySCWqIBxaeL2g/EBoVNGFPYv0QhLD6BUFa7FVDM8hh4gg8ggWk0GkW3K9iQBYnQnPTdjg3A60rt4SpU4u7oiFDsrYvgxqdHDejpIzYZgbzk8QuuLh/8fU3Bf+KRCpqkoCWRYOgAZ6Z5rQmDGR2/bhWlmYKohLc8ntExu5JXwnk4LxI3Dc4OHi4/9eZ9m+b3l93mMfUbzJKYRFQ1QlXco0TebrSbL0JXsjyd5bw4HXPtI6YPvIcDe3DiFVQLb3iLxBgC4dNk2KLk2ZpkxREncp6io8fL/sm+2zzdT+IY9D0m6/Y4Tb+s6iqZrfMxvuf9tUfXJvk9JjSEMeYnYhCoOwOIYhfWJUUa2kkNlJpML5EP/eVKu0P5sQZjyxnCmOds/xprjWpqAZcY3TaO585D3x+jeeuj+aGBIYUWAPxDGOwjgjW4Pf//+GJyFLEJQZZ5xG63XOmMhaQ53VznlFa3y22daGl256F+cXhBeFxoYXXhZfePD8O32lcfRutrIm2gQ7oUjxl7L8lWnl5GWsjrVZocNaAAtYi4twUQmBxeWB71Q+jf0X4QkWtlmSCs9F9QVYKjgMPC1YEQfHiQ1IA75IGACGQSXDpvfmW2GhW4TDy9KXWhTKEVQViiAk0uAR7iVCIrxEwlP9Tf+zRMPFdQxv5oIEg///pmZK8yodlcqgE4BywtDq/vc9azWnlY7kGdlbOg4NZKEs8O+WPP07CTSbOoxcSiiOX6QEN+t/J+H/fye5TqG9dlWtqrVWRESMyIsRI0bEWhVH3///6xjuE3wV5isP2bQlhMJa/PCAB7e9XrJlnx4vRqoCxJEeHtsI0x9/s5owdGxp17TXIikE8RSCxh6y+31+b1Pbj1sa9nZsapXA6RS3w2leokH/w4wAP/6mRgHw09uiJICffvQeEZQY/BH8E+WJYYuQkGD11BMhJcNy5oJw5Yrlxg3hzh3LQxgiXDhWhAjEGGOw5BSISJFYUWIQsWKx4oxHJEjAmiARoaHBmqgMMc8ClDkxSGKjw2RK5iCZm1JsyrIcyYqswGZl9iDZmxNoTuYrkm/pRNNFvZHyqUC0gupnpCx1EFOHqhHBggLBgJnAPGAJFElsNCDYJGVStElG0cRmItSr1aA7AqYxnAnd7KY4NcTHPZpvggwLTE5jQFCdzRz7ZK4J0n+yOBxfPLubEYQhClMafQx9v+JB6UbImj03AQYbTS6OWrJUJhSP0p/2es1yt0Omr7Egj5366fr4ua6v3dbt9Ruc/3R947/ZvnkHjg3y7lUgoL2UBP/MNpUuiyQu8YoquufZv6iCKqyOV+sY2sKGZqwbj8bn9uvFkxPI5wJN4YqTdR3cr39S/T4cB2JUjhcpltUvgRzIldzOJ3mQJ8XXdymUZumXYxErv47qa0tRnWmroa07s59NsWk3Q2f+HEC/bJfPh/PLFdHXxHmv5nfeueJkzg3Zs+zvMTCTf967JdTaNjTKjk5xsRvd5QGPed4r3vZnH/nrwvoTeZY4lfsvixW3mtfjU+A83xeuevacM9d5qon6fOTg/79PrhPLMWMcwa3bv3J36RZlxnBgAJ2KMoyFYTREKn+ZKsvGlEcUkroTk15wKDTCoMoIwHgRFQNDXIa8HgfEacoFAzxuOQ7CC3jkglmPV3om8ky0iIPACWPlXBxA16FBIDBeeJaRPVKUYhqoHSvO1VEgVUajSwqlmlIalK25HF6e7le5QsHuVNO9EEUGvScieDTMCFZkT4wSprN3PWQynglxJhmiQBMhZVkvQGCuhy3sGznDAIAvIckysxSNLSamjH8rL/iQ6kCmCWULlOP5La5Cs7pTIL3W4dKITAHf4EO4q5DGYsYTJxAmKicRJgvAnGZ4X3BH3jdqsaKPhrAlcd9II/pGQ57oVzQUSmFQLm+lopVwjzel0YxGq1ZiNdKcpfuGqsZq1tfw2zUtj7I82jLYr2C4PWYaWZ7sU0shbvISKvr5PPYncRCxIBcTsIcjEmiZi+j6+xZjUG3QSJJkOZ0oBjriBHZXeDFRTOILE8ls/Z1QmBmC1XFrmI7FjqdMACayJ1Eg7HQJdDV0dWgN4VgRHHE5ABPlwkwJvi3SNGU/lasiDqPyamkvpWzzBjsBryYXJNXRm2tksf66FHEGdBmprXMO/1yFsdTx4ATRRPEkkcqIE5HnoBB2PKcIq8ZzlSN8HCKVJBHWJzP1NxSViSkoDNOJZpubo9BJtAXOIPRT0X9kVclq8tUZa+iMJY1nT2BPZE5i7yWMRBxEHkXREryFuA1pTeFkz16JKs2eU2cambRkOYZ51DBJkZdkdOBO1AQu0xoxEcLlwSSBqtBzWJOQp2j/YPUah4IrAyPcIIRHuRyjYm79IrehQq6t9gjOo6A5WAlDn6G/Slwapo9gn6z1M9KX/NyrefcT219m/6T9N1+VuBqwus3JnHV46zL3MhVy1okYqZS3Xcm8i7xvbUEzwFWV2XeQ5F6iBJcLUUfaS0gcx2wRFtPjKKVzUzgM0nCXr5JMDXgZL8jbNiPYm2wRUCU4+QQoQ91iwHod68TgjVRIY/cPoxKynq70EPJKDlY+WP8/iJENKyo2DdZO0RFCRWl8qYaUyVu2HuXo8nyFlO7UrXuhigi9UUMhCoNpZKOmo7sejsnhitMeFwkw4jbF6eKNCUQeE6I3hF/ZyCJFXdBcy2HclbkniyIr5XDCacLlCrDJrYNzhmcQdHmIRFtGVnnvci45/f5axEx9ZsTly7CRjYpavpZsBLBW4871xpXwuoQwsnGRf67JdGbERWSYIk+XT4QhBZrEundut/S4Oy7OUn2eBVcfMACKZwtZ7vfPkikU8liT8fgJ5pPMqQKnI5sNt3bV9WYXwYCRCmnsJx3RJ0l+6/QvNvRMxawtzC4Ve/pNF9wma6m7xmLp3uXhEaPZS1FUrC1TzWgWUWglgRYfAJF3xGHMqRcDDrmxOBMSnoPnyRB33z8pwsi4oobUmtOoPmfI6dsqlqf6FaTnHQrVMCiFey0ybwY8BcJphGVwiQEUb5+AImiIJCpVoEz+stnFThmZ5E4N86YgEtlZrpMAyaHS6KGQgEAbv7A3kKrhuJCjbuekZkO95mq0dxThTHgj4YjVXu1K1PWIIag9EYMgwH0ZijiLLKJU4NcXx1Mn0CaKJlGNAIcDCHic5Z4StDNOHDZbv7+bRDOSrhiJiqUFgdtxi51Q7pTJTgfRP3jnYS57EIs1CW8ysRQSOk7m7p9jnJzgFFd83PHxxGcIp4ThMwUXE6dU7Um6wBbQywdbvtjyw5Y/tgKwFYjFERNm1a5XNt/KwddMfBXgEfF6P19vBIZYb/EKsmGvtlsHs+XFXT+ugvmLV07hpJyoQKWFFlnspNPOvvt2rlm7l9m0J0S8iAXrI96AQ2JiYmJiYmLiEdmal3VYUVKSJGl/JWzgCM7bBzojlGUlYKF0vU265E+2EO5klB3PUFBWMSOTWolpoaFoor5MkPQ+o6HQ6Cn1jcK8p1zf/YRhp1TgHVfurATSOreWKNSiPbLa8byeBD23wXWgdW5KdhHedfE2EVhUMJNDKaHcdLor9Imh3DvtcFL4Y17E00B5ZStaY9uaXDZpgKZvEZQWWXJKPeq0IL6r24RivS9KJYVHJYSovb2ndPFvOUyxNC5yeXqLW8iJswKBh0zx3z52tby6PyMqltMpj0zteLz4NqK7DmHRrSN3WD3G46yxswltmY2NwFA2nSDKgZ0E5DEBoia2rObDAAy4OTgcRC0G2k3EcdVx6veK9H6BhqHA7y3odv5qPTAUKppb7vWymulmK8NNz9UZ5jiQJkwI7CAgGWfJEzgo9yDmmkgT4PNBHqF2vDigI4wa1Xv17/28Vbquyn7/PLcDQ2HYy7B08iq8MdA4eUgQlpf5zvZaqBf15lCE0M6cNvZpEiAZ2F45nOBqF+dUbKHUUI6ne4MAYbiTVO3lqVfKb1ayIi5FXpcDlGlyjhzkw/MZmPmoh5QQiZDYcpOgDpXi/1NnChbIDPU5wLQ8scKEcyYn50pPz42BgbtUaTxkyOAjWzZfOXL4yZXLX74iAWabrb8yZQYwMxtoo40GOeywwYlIhCGZk0WGZllWGJNV+Z4i1dkqNtuzgyY7s0tSbuYmbe7mgcmlLKUppSoVfU2oCabWxNIxlKGMMiujZsip3MpVVPmVr7gKa5aSKq1SpTW/Fiir8qowv6qqihnd6DqwsPbVo8IQKQ1qjbIrwYlZoLkRJG+6WZugMZshWKeMxCutGYpJve3Mw28xpYiLzi/bdEFwn1ZxmiUMnnpvH8aVtrQW0e6ZDVGIx3ato8cXg9yY3yVwTMWfoZlZasK15xoRJu19atJdVE3aaQooW7py90yx2b0cRnPzQLBQ9HYIGRn2cTuDUU7mqC7QMta7GWFHwDrFdMaTcOwsxz9wFp3hDa95kR4xMURdxCne5kuXVot3fK/AUBFTYyTNwCHho0m3WELrjocfdeK8R76XC8sKb0xtLZNbrPCKR+W4yRFYr8cdWSVxbPijn5fJ7dmOHZjFHoTyqEnGo/iRX/s9m7fejl9nco980fKEe9ZO25rQGIkA8mLmLDUilOb3hTSBN5ZhC0Ppw8fWDJvl6bLWs0om0vNerrzWNo7vz22ZHyX5BJRxLb61CbxsxLC/f5mvCpm9CxpgTGm0mMU2ZFnhZmZoe6P4i3wiNZ1xall2cbaXQ86Jfv1ui0W+Kk5xF7+1CfzDjUdlRyiYgjb1nopTbRc0MOZlydBSGxnHwAhJUwDznPM7XDt5mXHPiztGft91q4ufPGYV8ntnHuOxMKEus9qnCt4NAkC+2EOcjJKkrO8V9zTVQBEfQC4jeS/RQnV12bAEfNhtdUrQOHvFgfxCMpQbaavfRzKKxDFTDhQebuPIyrNyoFCxIqVGLXIygcMhw8uTcy82JZhpiA9XPjuXa+2v0tRpHrJVh8XK5SMI2G7k5DKT7ct2NPJACAlHBetq03f4yQjYWor/KH89NyFNy6aAZfcCPXd/KIF6JBZmc5T156XLzGXJ6MrrokXOWYTZ8OxwfvkjfV6609pkows0w3++aaoWq81hGOyO+h91VBj9Q4+GbwdWiL4yGuSCYyG/BJvVEvDPNPPUi95/VtmyVu0ZmtjUTqqtrR1eiucax2SM5Dze5puIrOflYNPzPKDLhEOv3R+QCE6s+kYtThtQN9QWNv4pwg7GeX2ZlZuQjUN0+tJo0EhUQYT74ymt1oWww35CO+AP+pL6ZgkTZ3Wao8595eNLZjMLXf7QO+Lga81u4TXJUfseAUH/HUsQlPWkQjsn53QV0IokfPU5gcVDN5ey+5t/vund2zM6bridM6h2XdYc2rWHOxatInPllyuGRjh9IZYZl58tA2aPqPK1Vr4jdOa288nZZpQ7JVr4H9lus4hh34OJSGzsgMM+54OzceTY8RNo+nDGutrGPteGPgeE/1zbksih71QDck2qru1lzrsO3fCRj3u9a7IvUWQeivblx00HrgguaQaOhFNG90eTaTPiE1hZsmZF3DoqkHkvm96X74dPYlNQzL1amVzbtptuuJlbeG4gNT2/YNDl+QW7XZ5fkHRZPkP5+kcReN5h0kWyvX/e6p5gc8+NRL07spHCH+2Qx+WzOq7LbDniVvfiXkpoeJQHO8Z8SBxht2BXAhj2Jzm3n1Im7V6xn69XYgk4QIRv5rxFPj8O0co68Vyf//bCf8Fdw3aZ8cS8HAX5tR4zee2G0yXLKziJFiw3a1ETRLImUkmXNb/o1KSR2LTx660Fb7pEx70N2SQQlMaVbODmgGOQwr/lRE1Naqc4ZRbi6VjvlJin37FoOqdevRtc19fpT1/qnqn9a7tHFY9UqzpDo4lLkicwxZgdbr9cQCcL1RYpOzfhViLum2j+Hnr7rNbUcezQpcv7btFZt8+vKrMfwG8XH9DENOGzsdKbtETTVWkl6BjpCUxSzIwsRFY+FBM7HQcNJx2XKLdBHj1eA2j9GG2sFk4fnkLQJKZdoRCW0eXQY6bw6Be3zWpH2S6bfVUHeKfKLuRdIdxWSx49aXgT8KHhi8rvIQzms9Wgl3JkmrVAPwXDALqp6NfGsA66abA76rEfTJLcIyD2OFRj6qpzORp7s0x9OhT37VXoWOfVutBNcpUfkaoEq8FVJ1bjYKkZTRvzQ4rFHwcVj707OBPwdhdXInSbuJNg2oJsG3U7kO2ibo9sh5H7jLb0UDpluIKgmT4x+uSJAOBQmWiNQQRgp2FnNM+socVkyhyrmnpmqXIthgZ8WW3FNxaLAtcGHLOJ0KEdPfjPSVqMTgKwC5BtUnQpWD2btmzZtGnRIsWirkXLJP2yfHL8AkYsiAL6FAAAACwAgAmAGgBkAAAQFAQAwAwgCOAAAJDmvbEQSgEE221AWyelstEKZQgqgS17Ej9CG6DoT/ltRouXPH2bsuOGbsfK9G09wEGh4y1CwT5bvHuo4CIDCMJTw/imZd1CkGbc0X+fJB8VfwstEHU8nbbw/prowT8+QDElmOTENPMhPIH9OQwAY8EO+eTC1Th7grqzUhB/I1P+/I3cdwFOBijV1cHNzpc6XwlnuwudrXY2QLDwulnjduhXzAMbOs1tlEOFU1xSlYtN8eoOA+w8CNgeIvGjEgKjpnY+hnqUGC5KXJEuF23bJdl3IFBvylAZLiNltIyViTJZpsq0zCt1ZKeNV9uDOlFOm+lumh2D4PCme846TPbB1MXXp3yFqIH4JP8RF11Bj434iCvhEOiRndy7bVvxImrlRTeGPuoGbPiNuBXvhXvfwIzyVM/q0ZzssNlH5Vcqb+SwNJ2pDLqSJ5+Hc/lXeG4XoQ7qsBXatFHt2dGdHRtzHAKuLkEVuXdjU/sV4SF9YE4eRKDEp+LMDkVJ4f1PoJ05MGcPtuP3oN9kGHGc2FGjN9Wg2Mhtt2HbxjUPPOE2DFtBYFdh27IrOa97qTg45+w4N67GmJ2NPCR+O0x/mXMr0ZNELM3b1MpG1Fl31zhRqA4lMITwfGI9ewFaNvwzZrtnHbH8exZX+Lvw9NW3LWYvzO2H9S5cCgamDlK9FTIzok2VzzHx/kQbCYZI0Mr3sN4rIdGlYuJTlb8ScvMb59MEnj7zfC6chza9q1d/Hvky/H30h3/umz/OpVwXd+FEPVKVRRliMamNSkN9LpaDbA2WRweqpS6Yy9p0D8ORZ/l/4NsJ40YQ8nSWzTI8aDIqSy659mEfsseNVcQrJJwGjBxsL0R3XUw1ejDUQYu83qwQRIIkDC4y0IGUaE8HhEIkhYM8EQRFTlPBbx+BWhn+tSyXCpUNlx+gquaWmKKCHh7suwwjoEiFYNYLUCDaN7J7C6vmUgFUnIqg4gvR349ExWJcCTbVyzSJJCiVWFoiU3CsDfPyxG/ho23WoejWZMFlH14J+MbuKdOgjMrPh+CrCtNwxfZkUXRnqkyp2wzVszCYMSfzZIud10vRzY1qXpiOvBgHn3NT64jZwVZ5kySmxqOgbzXvdVjvs+9D9aFHrHYun+nXgMm0OvpteB/2jJaVtkzUmKTw870LUPiqSwL0d1/xEAke1Q06jlw3zEYA61w2Ir3G7KQ4JYNugXpEpR2YwArLWQ/wYz8s5CkFI0leRyjairkhOrLH821NEizyjCVWLXXTMg2rPGqNh631pFTjSgMyiWUb0jqr1vurjf5sk4bNHrbHjn2ec8CaY5ac8miK4nxWFz3setysXvs7f/SrxQBdieVDKnqGnjwUOgNpC8+faj7452LYUnbKOQkPjtCu12aD/tW0ZkvOIz0TYz3ObsDK3HBpPoS7iNmi/ri4taWB5TyzXussUmqZYFm1Qqg7anpwGCzUZj0dZcruDQ4JVsGlAEy51TgJQcmj4Ofqr1kE3xzWDpkbLmGoIy7VNk0myZJqQmmhTFRBGL95ptCU7lRXEUePHfRUmJs4Q80q8dJEPGFZc3viyQyl2U7JUVJVoLS4YbPfiAMDeQiEnz1VkZEpI47g7AB5bFN4xoH3Q6JY7VTT5eIiCW0dUXXC1EAa6HOapEqqIaXVsgXLEW0lMNgEhg7WZSLepw1qXp+/G112mm4fEqbzM6q7qtPVtLfH5YrWMLdA8wJ1VJ/Gl8RJNaM0VbbIuCxTbilV1KKHEOizScXw5VxEECO1Ahq9DlxEjwwnI9hKFQQNMSa7l1xGKMryIZn1IsSRazKku35uq48KArOpuFsizFNpYXXzQpJ19VSjyiQUzYTwZk4j6VWW9YnPGhl9QjBXj12TgQ/C0i5j2iqz6Ni9YiLUoFvGVPHmZc8ygVeJvpRtBDhCQdSjgp0H5cMgPI2v5kSIhBUek11XqFDo4mFsOUigHZHDdfWsbj1mjHds0eTdhqHqvA90JAyFA2h4IdOtFuXCdGjBnBzrhytcHpxG7EPsDGq6ajZKOMgLPwvseVivwsGprWFci0EgWSNXm2D4KZPRGsxfO/qiYWLnUrWQj+1EeAb9l9Yh3vF7Jaoo60gWWsO8XVO1ZWWLqxyKmimiCkSUjt0qKmsk6MeTa+M6LvPikN21Tbur9GYGjxhqRfZ4dPHzoNRF22K37yMi2L5ybdg8LCFAgy9qGrCVgV/d+RouxrozXm+C/kTDSfpKEDRy8rpYeEC1Dnr1KgPZeDLVrjsQ+f3TtIJ0wszCrDYpJu2atbhuyr/+88fyAGJhnCK8tnBpMIkmAxw8tCQ6QWZBlEUhfygkuxi3Nj0NMv5uf8my9FrKiujULNoLEkkpuACFOsdLy0VHmPmwVjJKVMg0hWxXy60qzvgT93/zDASBgCVgtcBgG1jZnHjySL/3ZzfjYxEpJJKwKZn9XSrqMalXd3QKM0aady60NbvEV2VaqBXKCmUFs55Fe0yGh78QlMvhliIGqsuC7PVcFiqeN5opodCSHG31djSKAfni6uKLWywMFItABqchMUzVGFio2Ad6cAjHfTh5OFu4nGSv05+FeRAtSJKBLFOW0opy+kOt2rTr0Kmr6j79rh69+vTn0dO7jWE8JjCJipbnT3+3cBKLackdy7FKrLu7NmNrrataPMh4ZHZiF0/tox256Ts/+Om6v2XyN1yIm5lHWMXOVXkgyicgFJE1YkhIycjN5y0qqCqmEhyR59AWsBQrFavW5hmoA7BDyAHQmX8EzQTjmWFhZWPn4OTiHvYhpgXhhYRFRMXEJSSlpKuMfFk5eQVFJThCj97hJjQKHB1bFDunKhGNT/69RdwlJKiy7icdSERzFqFwoQizItXka1Jy8xoU1fCoRsQ0MqZRUY2OSilRvDqypmQ1bJnSkpGtdkf1i9+6QjcFS9xD0R/06q+o/i3+7w+pS3cvudth65kq91eN1shK0tQs2jPnQajzio9fYFhs3ikFDxTqI4XytRoCkEFMCCzwMwg13CKih/oycDtOgcMxcEzqwb7JaAND0R2sT1PQwgq6gtxl+/IrNLbI8cknFDopKXsILgtvOG+kcfl6LTk2Ja54rWjUqFGpRuUse0rggAr1ehnLRfDMVn0jzkfeD1Th1KJBU9fyyPD1QR8rt+xqJWtzNmh0+iOv4xqK+DDjI/nYJz6tG6f45iR2VWOPV4dxjjruZOTNDbd878dJk1Va2Q25vMYvWOUXKcLTZBWdXWnaWTMZq6t6bLhmsAS339Wo7Z2130MJPb/l3W2TtpN2bwrIHst6ab2cp0kYBRuLZbmBiIjKYDfEMONMyJPUpmBqKLVuhjALsagei2WJpZZZbkW1UmWV1dZYa70NNtpks6222W6HndU+xAGH4giOOeGUM84676LLrsZ13PSdH/w0IclskQdW+RAQqhLqUjJyVa+qfoOGjaZxHlSr1XWda8sYbnSg6FBYRYzWGooyIKVmtInOiCOGHwlngtXMLKxs7BycXNzLRflkKSPitEqURLUIzygCOj1XQragBIvj9frEeBDeD1rDdH4QxAJlV0ENCCP2lpf7BdQf3yys/2ZT8q6dcGL1B8J9l/kA8jK0xzG+YrPE61KZS74wXRyoAtQCGgBNgJZgA70hommwpiGahgKGaRqBGIkYY8tYW8ZpGm/LBE0TbZlkx2SKKXZEfaVVS8xNbfZN1fAQoJ1lhoNGPz/jyItzvCQve8WrXjvjdaBkAQAAgAZ0CNo3LDZLuqXe7RLE8hErrFqpaZXV1lj77lJFStNk6lG2UOtsWb+LDdhok822Vtvs2G6HndUu+/bM73VgnzfsTwccdGj4MOCIpqOOOe6Ek07FGWouibMW581Fl111PW5U3Ixb5jvf+8GPfrpdh8KMRVL3EEUb/uD6es39batbEeYRVrFzzbshyAObeZ2PX0BQKCLfy2P6JeyUslemwzHYL58LlIqmNOl4mLY79XsMmmGjxvOkVtMneU6jBeUle614rNr8GiXSRnViwzUzoxlXzQe+6hDyMPB4HUsdLX7koMeOgv8HQ1SZYHNmFlY2dg5OLu5hH8Jd0MZCwjmiu2hGDHEJSanhNGYZzWXl5BUUleAIPXqrPmD9BgwaMlw1HYxCn7Gly93bunW1PtWkTPOBSYdeyGO+4Js/Y8Vcgdc3g0zMAxp/aaFuK8bjtm8J2Yl8vBZKtUgmS/XXpuSHmc4Sh3Qy6tLThb8JIzBnwLC0yxn7xJ1qvy89S0echGytnerg/JiPTcSUpqGwbuNxRkzdcGygjsGu7nFMfL/DENmeLkHp1fynBiH0ynteEoxFXT9I+Vr+B5anb3EBJlGoBIZn0nV3zUtD9IatheS/H5dgdFZWEGyiMvAXCjawqQm1N73m4sVrqbPOevVinyb2eZsb09bZkZlzoutt361x6dOnz4rCezI8zIQNHxzY3u1t6nh48qaDvxdMIP8vJ6J3rUFd4aW3U6uSiOXsZFZ4Nhuac7DT6hMtx/L9LnxCcKmZgcSuLeU8q+JBSq0l8u8kfro7GwBYuk05Y6HhN7TPOsF5nAFRc2sLiWIfOTpRNJsQdqYmwRmnG4HUEUvkLmgnjF2NdbtsygZEX2AmglWeVUQBR+CSuS0PvJUeVIJa90Ku8pkJmHzUUMrG4M17auJ2czdRWGMLxcCLBJIICx5dcMChQ8N7rXTnRvwVj4dewe7Esnx+gWtUFdQfLuxjoT6r5keqifKmEJrFY0N16Aomg6XLMaD9PBy1IhGP8cmxxE6kFKMT8U90oFSHPoXPrMhaI2684f4UD6/jqfNWgiZS6lSfUdS2t0dnH7XBDTWVci2LmYQIIqiABtkywWquj6Hu0VlRv6Yu44ghDjR8Fu841TSWaBg5fmUC3iDEQoxUUoe49WfKcYxkChEYhz5xhw6zwoL7GTHSKVRV3zZtMOUq79yxmfNhOAszMrOsFo/7XR/rNa+thcgfPexJnnnquozk2OZKmdas5POZW/UdvA6oMoaNlrXMad0vW/LWcl2vkC9Sb8ZfCsYRd/mxLUp4qQICWjPJSqkk9Whi3pADZ5Rad3S7OWSTUZuLM39Tzg3dVOBBZDGHPkhuoVdQOZyi5vRKO+a1gFK7X0RQTFbxqiQ7onb0A86RzqgPVUhwrcvyk4wBISNOfIK2bKn4KC9475hNcCxRU4tRxSp+5fzwiBlEtjuxqDn8nN9hP+9MdHtV0zKBn2v7YbL5JvaafwUtKcnIitUrwtoFbrXZE2KnN9Itxs8W9/Uc07Z2/MDjfutJH5kve9dCZYXLXoyegoRZ5nZtVnIpZ7tZwhjjbnE3V2wwPQhyDhwIgTtmBEXlxRnTnDR0yB56ft1jdaYtg34ykR4qjo4FqCNMmjkUJbFiL1Q1dK+PZJSKFpSDx7p4WkhYjLq5S0uKU4ncgXZcEgLETSTAcVEzVXU3hjAolG6dNu0Ol0+65WKwinN7trbxHLdxNEnQeCDpK6eycMoLpT1QTb1patlVYlyRP+WKnbli9nOuuvYcRWIvulGSsZaT1BWPhGYYvgw+myFRcv1KfKSBAhmLk8llXmKeR4d9YIGo2jaIxkw18YrAD0GzvcbK5CHpSCYlqlhmUL7l2VySneUSBHI9PCuTospHSSLtKXer+hiKJOohWaacxc1TfwkksrENmoHAzS1mt+u4ICa+hwJW3XRVXp4h0zKcagHxR10Z38irUa6Br8uZhCdMvqZUGcu9vyEw7n30XQ3DWT73UJsRLMrClf06BSU6xDWYdFOhH8MA3d41bQziQ5Ep04pQtpehdhAd8Y6BTP85SNLDv6Y6/IwjJ15jK4XQ1ODsGRucRNsLmeXdUBQPVC3Hr2MpVXgNiobDPpOkitgn3lwaLkAx0zke6ofyp5INMlU8IGpKfOHtQmhkaruTMC7gcWfpQQwgdGOmSI2rSYAMkdmcDPzCojyQUkhxZH8QXuzxXk/FrUEvtC7PMqahRBKXZIAjPLGiC1K+srkjJY/9SwXdbiw8EccNzYR3ZM64ccyP9WVy6JTCVXycajLWzzMdODwSC3tk/LhBmzWqjZnnsQ1bQvyPvKfZ0ON5UqvDZpjJuW12mUSf61q5CnkspBdpWypdrJYEjKwK3X7ZanYjAaIo4L1UmEgqLv5P8k3GKDkjQ0Fe0jbGbDcvGqs1EEKTB9eTvkT/ZsnpiZ4Izp5YEfh8sjSXotXrE6d2GBF7tbp+e8Vp9wmXzJ4fIy9qk5Cc2NrNM3n7dIGLOrZYs1pnoK6rDLquD6NltTMrqR00iRjsVR6xZ0zyhB6wEYboNuNfXOhESlibm02RZQ+wyyY641qIpyaBMCwMBgIQyKoljZFogNeXyoAcOFIVtbu77mZyjK7kqltvHlx4FpBZ3ikDm60Cphpu6EMf26Ps+N/SYVfpy2DkmEwJx9vttsCQXqk0kk31RX+AC0vY9soc8Dsgp05VC9MzAQfa4SyCeyEeQIDOkCHyL2ZOYQCiQq0kP5iB6xDabQ9c/ZjAW+raaBa06pTAvKyPcU6iEZ+jR2ol+fmQatsfh7BmjO0xXCxYX6CD5F4yH9Dye8RFsEsCPWgvBS92iUd7Q84vm1sSGH1okwRxlPC4pUNJD2bZwEwzwd4dkbhMJaYYIbD9W2EyMxnp8BTZGMq1z7Pbi9bgYF2XaEJjvyYhFKWBxRHZuXSEmZxemyKm2f4sAyStAyKQr67qXutE11TfDvZJq+OzTk3UrQ8rWcLqWQCcIhU21QWXEtazl18N5p7IzkQZNQdSgL2BQELveSwRlOVBvxsHI0bmKPlioCYAiDDxA0jNiKxR43ZYLBEI51wqIiXK5JnevaxKOc5DtEaWbWeWkd7tRX3iSGzMinwUCUZX9+NvfnHgzotYrvykZQjMkbvFEKaiDorBLBhPa429dkDk8sqGTas9e+2IfCgJYe1gjko47PQXI6kmT13UNTv+9cFXiyEC6Y/k9fGZ8y++YYigsbSDkkVtyraImbyL2f0C9tdg71A/jOA/5K6/Z7XVw1bNlKIdcyLKaFZLtnsScr2jm6r8Epa4VgSOvK/tBsCUex7TFGXzDXazqFWbduPoHZM8xvMm/rjllPiRtMYzv1M4mbRyr1Vdk87EjrGkCmq571UZ50RWA+a3RZU0HrXaZSNLsQm5BDF3b9WKVerXfWKRXx7HswZfuIqYDWJ5qw0vLEkPrsthb5DxajQuXeOL2NPEmqQKpfyQSyTDgHcXUw4zvkW+3D6T4CCpPRJIZCOStZ3ze8lrfW+Hb5E8mRbD3FHEfPExn9GNHW1PXlj3/qSvpOk5iL/hgdMbpBYK1hE4VNzUm/qZ3wJw1xqMEVJxxGc4XtIhIfWOX8QQlfBWK7uKXyh7L7nPKxVbzpXsGn1DYW9neWF3Dk4d3aGeowbag+tWTOxtdK9qLY9dCZzjKbIgmNpUhJGRgZRv345AUnFQ03xBWkhD47i+Iu2LbmbhYeVFsTmvm8bi8EQSRoCvt/rxAt9qhrAYYVExcXlJBSlpf7areSI2HKJCUEFAY5P4EdoAA8tbTXHLodtEHDHgs7OA0AaExFMpbLQA9PQELkQS3mSeiji9GrOjRqC9L6BN6fhJ6/FABJu3RmC4DhmEAEK4RmGY3iTaYhabsUWcfjxnpWixSUcdx8rnL+AE9OAfH8yJFoJtNNNmtu7i+vBQipl3S0ZQj3SeYJI/eGyWYqatKtJVpaGCQy6r3MumX1COw1ktFr33B9TELSqLiigpmhIzZ07PnzdJtoIAfuhi1Q3XBqRJquJ0u7R8FOJJZOiIOsMoeksZGIc1cpNhMmpRRvTfnZzcPKq8xtHaAEAEuAAyQQkm7RQ21rLpYOlVc9I8Qb4MrINSAEGiDSCoU1orrVAHQSowYofxI7QBFE+KNhwtMt30BGrHFfqOqekJRsBBoeMRUod9Nnr3UMFRBhCEp4bxJKduUXHPWM1znxpeWnRLQzvqeDqNsPlrogf/+GBLSYFgkhOtWIfY2LWewyEL/EE1M9GicHnubCKIl6k5FcoyQNCZPjjcebPzsXDDRgLfc2VGwCABYoUboD/UkyLfch+z2e3mXjNZUx8l2T7Cal6k9vkVMtO6miH95X9GXFgZ/9oECBUZpHFmJCMbD56jQsqIPk5tpPZdtT8SZayFKCax0UL2SzKb+qUa2OqJUCLUCC1CjzAishC5iGJEKaIcsQSxClEN7gOPgKfAC4gGRBOSdw0kRVD/9qsAUfg94hBiCAsl7SW9N+mcToMKPiutrqb7xgsqqCH/OmYwHm1CZ5hDlO7sUOjr9YiOamWroe/T+jZ2VudCP6tLoV/WS3pVV3dNb4f+FPQXuqGbuqVPd2tfg/5N6N+H/lPov4b+x27vjkkFPDBmAMZswwHGQsNrBIyBY/gIgbHZjJmqqZnJ0wDjqGma+XMWjItgXAHjOhi3wLgLxgMwHoPxDIyXYLwB4715fJ6F8RUYX4XxbRg/hPFzGL+F8WcY/5ydi20E9+4DAAgIMBCgMMEMDDgIkKBAgwELDvyFi5AgQ4EKDRZYYbv9OhxwwoALbnjuve8E8RVwQinokIVH+EX/GBqjIyKiKKlp6RllyVWsVLlshcrVatahzwgqukVr7nscj+KfeBZvoj06hDMyjmyeL6vPiKlRyZrt0dgRo6NUY6A21ldi6LF+pIxd48A4NtLGWQk5Fa3ZPBgPx49OUhfNbuje/sDg0PDI6FduTgobn5icmp6ZnZtfWFxaXlld27IVbWhHHR3oRANdu/dMaz5/J+ffAuaMVqYXD504d+XmylErV69dv/Gsc3PxpZeffeHl1+btd+T6R6bmlhdfy9d+/LP8z+//ktvvEGD3TGxdP4lPsEl6UpiUJvVJdzKeLEIbU5dL7aeMmIpzWdVN2/XTnWlj2p6eTAfT4fRx+jr9nJrRH9rrB4KhcCTa1ByLJ5KpdCabyxeKpXKlWmtpbWuvd3Q2urp7evu6kozh3Ye/LGaIz1vOilb9atDvNLe10XY1xv4OdaTjnGyis13octe62a4We5CqmhVIc9XrnLnbMFatCzmxF3eI00YfVulA4nCWyxB/tyeWvbPabsuretVtnpu6Xxu8GZIKlFFQBf26zV0yMxMc3EHylA49G6K93h5o9vRwFhZIvYiyWYMDmDcM2zxcCUuT9kuqzk2Hw34HhwvOKf0K7Q1SNv0mh0u7eq9qEz5ZzRFh1SV66tkJxamGU489rswd2Jv49DfWCzDRAKyZRW8W6MBu27KbkH/7qaezYDMbBYK3AUttq/OwdWmYGoIaE3hgnIHoMAPGm+m1AFiRZqHweA8SHqFzjNdUlQhWSKmIwZ6ZB5YMr0c6dNspeEgQMdsNsFU1VHcDZTGHHJUx/5A+2TeAQXokjRHS0ezFzJnHAiZ69Q1f9o16MJvFz9h3Q2qi9bYivfmSA5oicO8C9w2oRHd2HpyNMsp2mzCh01OepYCrSul1am2HRpbnHhMF7oWXhafrBv1vXV1EXUgYdzyVz1C3NEBtt108GDTzgH5uqLA4Ka0l37TY2DrNNqPTz+mcvmFow+L32Dl6EYPJplvnqy7KT1XtOoy3CUtr2LJU33oH6eAZ2uRCVmClFwztmy/22GLQF+u39Zu9wcWJfFNp6KaCCDMojpVb291NCEOxTNt87m3P1P1p33gqgG0WD08jYnGChImoo7PrJBaDHDV5pPjWI/LvR6AfK66OZrCs8dQBqLzJfDXbx90Izo3GVMKgAJdgL1a1YqtqLEk36gAobM0X9wyrYmbbME1VaVV/Gt/bBGDmgTX60BP0BJKgBETtly34FrsFVW5x7HmGYKl/30YEGIA1yGBCQ40kMtpotkKEklBQkIoSo5c449hTGc/BBIkcTZTMmc4Unspt4K3GNiFq/ULuoCZqzY7ROuENvXc+WKE93bA61kRiZ6QJ91P0yXA/02PybzFUhKclpt7et82LAAAAAAAAAIIgCEB8NsTlJ51/HEK8INJLgIGGCyEXQ0UjmUE6k3yzzFNpmTXW2awWSVkD6YZwd1Mjva+Ne1GDU2aWfuvHSKPhjM94s+JtPxPoZYBo4yWa5Lqbvunwv05dDCAhlLjGPZ4JiyHTELQsdRAF04CZEJl+yHXoZzDT9eqJiDhw4ZWC/UirmNXZbs9N8hLZ8Hvqz4WIRBsnEfEH6qnnmVpi2oPalC2CJAUBUyBh2KmReMTsUf38xVCjRYiipKalZ5QlV7FS5ZZYpVqN7fao16BJi9NaETUNrV+cJtWvh12MdOH7/dbrvYmE3Qk03AcCTHjSDWysiTW4klQfVuVU3nqkJzDRzOBUSiGWmkM5YtIblVLiZ576vR6c8Tp0BqTINN8BnVmC/6Bst4YSaQ+IpLvmjkf+8cwb7TpCdxPkeFh8REhRoEabfgawEHGYUB4BgUmKZliOh4BDwSIgo2GC0ow+UZ9fIBSJJVInZ5lcoVSpNVqd3mA0mS1Wm4urm7vdw9Ph5e3j6+fl2wwwUzAiRtLsm6x5NL/Wvw1to5EhBen1IFkK0raCtDaQJgYk2SD1FWwVnuBJDI9HlkIwMezSti6IH49kPx71NTmkIP1O9npQAX6DURbPVoHlUmZMwZjWV8WjG6XUpJ9PynqVLnbV/i+yzG5QNzXSDIVZMRZQmqOdHCvlFuMtU0Vsk63s1NrLQZ1fuDiihY+TzglwywMDPfLYCC98NCpeGWBspifL+EqeCRxCSmvydL1gR3byuSPYWhqzzfPEL4Y/YE+VaC4t8MbFauyiFUp/2WYiYjIe/PRn8DuSd0yfgmf92688ROH3iENIaliQdLOJO510Qkfmwy+b9ytlefRL59XjYINDDW2jnbQHin8atR84BBwFTgCngXPAReAKcB24RaTwYuTCYRqvauAX2AfDAlL8nno8/dJzwc9RbUn0JD3UXSez6bVqF8jvjI9zQf598eMeP93BsuNeI8lfu9ZtAbsQ9/YOjQYZvlrL/UaO8gOlvr64cFCNDQ0KAG1YfBgO9Py/EegDQ/9Z2Bs8DA3zDQV7MO8L/A1cJHgbFllIgc/h/6wDHEUF4f3B76goAtt/AIGFBhIuNIiIQoOJZPwQYv+/GXALItNm9HmcdnCzxA8EUHHBCkxeRz2CoCSETzuBmWI50/t+F95POAQ4IsPZDvrbVZDdBNidnz342BPoQ9+hbLj8GYD896WANCAdA6TKUmyBZb5Xo1adQ/7zSrvOcERM7CKLV4IyNCFRRBlNdDHGlMKUpjKrsi5bsycH0piWnM2V3MkfeZZ3+VqUCqmkHDAgOYpjg0757IAIMAWoqdymisKBmlp7cB4KMnUNAjK1BQcy9UksyNRvcKCm+XzYCwdmP6w9/OJI6VG2+5JjrLj02Ivj2uPNJ2Q2+bbzY7XV2WtO3iuUbCBJdSzBgsxyFQ5k1nMWHpNv29nm4xj5lJ19GbnPzjFPcE1zrgPyXTvXNUPvIPyWv8p/7dxzlQvBg5p7qT5xm3iEkk/ZefbhMvnz1LwHgY133LK/t/A78x1HhumHEDb6EkSG+BbwEZ/ic3xJfv0X558BpB/3a/JTnDlZkMosyYqsSXVqsicNaUlr7uSfvElH8VRa9uVYLuVVfqLryeEVUhGV/JmHogId6h6Y0MAIDY2OuLiTEhmRHVoc5aH10RxZl44FNXQ2FkM34n7ceRIH8Sr0Y3wJ/RwdoSJDL4RCJYCFyqIQByqoxz8GfYwxxwoUaJxxBwOWQEIJJwYCyaSRQTb5FFNONfU000YXfYwwAQ0689xhjXts85g9DnjFWz7yhQ98pkOQlDp0SUhikhBM5yUrBSlKRerSlr6MZS4roYSWs9wPUWeChVf0lNKUoaWqjObV1CjKVPVo4H9HnhCt7xCYyCq0sSM5QgMXFRFULN+1PEdWK59mHE6ur6IXLocz61V2RzFc2Kyqe1fCFWrV083Dje1qZliEO7vVzrQMD/arm2UVntCrn20dXhzWMMemqI+aqCskISif0xm9FHKFh7GQJyJ2Fp11BnQHYiCJnuklHMIpfYYpZkdO1MbUWFhYgYlFsTLmxLwojB0xP7ZFWVlpAvlGURhiffCABRwQAStgDewLG1jhFrJwCdfoBgRACGyiB5BG77CLXtEn+oZjFpyFZKFZWHiHRziHV7iHZ/wSDXEwbCMzpkdq/BDFUVJYio4lsSyWR2UsiH3xY9TFT7EutkdNbI0thWpmjAl5jA1FREZUREdMxEZEDI8RMTJGxegIjpAIjbAIj/rYHwfi59RMLdRKbdROHdRJXdRNPUiP/CgIc1ab9uiAytm2Ylvp2fZsR9F+RelQ7GHtqY7dpM+i/+vTALtHg9TPHrD7dMvu0gVt04Io2Zt+y1cuVam6muo01Fqn/YRva7ce/e6g4TN1/xNx1px5C7alEGmcBBOoTaSVQm8qg2m+Y5QmXYZM2XLMkKvALLOVMduo1k677LbHXgcddsRRv2txyhnnPPV8oKIKSsoqmr284PNH48l0Nr9+/Ub5UNaycvMam5pbKK2LOEGqpmU7rucHYRQnaZYXXT+M07ys236cV8dD3AKIMKGMexEpSpIMHJ5AJJEpVBqXxxcIRWKJVCZXKFVqjbZsGRA1SG1SBnFJK/8ZIRLG9quuuq6sgCRi2VRkvVQs0i8bOZ1NGn4WHst23C4pef99+U9YWzt7B0cnZxc0BovDE4gkMoVKozOYLDaHy+MLhGKJVCZXKP1hCBQGRyBRaAwWhycQSWQKlUZn8NWR737645+hT1ZeUVKlRp3D5aFZXvQFQpFYIpXJFUqVqtxodbYrtcZtinZQs9Nb0jF50MasQB0EtEgTduekMlQs5fNDMh5B00WBIsYmOCEJTRiCpfFCCB4hziyZzTjGIAOoDsFy4IVCCJZ9/3eyItXfSOtsd88LDJ4NuzRjSLiHRSGH2ZhQ9rH1B4qQHRc++hsujEKcBEk5iiVxmHMUs2ybuaRUawLjEdKCCp80Cs+tM7epNCcSpCH04ymOOGKyTmcivzvaY5ZtM5eUsiM+9CMNR4zYC0S4RRuXsOKmua7CjSl5IzvEAYIzjztZPkOkoCxcK4NXpqFkNpY944MMtiYkT2DpvX7vNNZ8DDSagopWKlNjcAjhBjpMOilfGIQxUJYbpo0PjSvkRcx/DJdTSmKQpdA8hAvc+JSU4YJjY0GwYd14CDJchDgaepnyEaN5nbyxl5SFntxBGd9s39pQYWKo6aQ356ZxssVYwjHcZAy0Pisu/AwWIkqCZN4pwC33sRR1CDF5vNdyZEyx1gh79DzmIvZ+c+1xSMCxeGsIO5T+Yyuw85UbL2mWQ0HBGtH4hSFP6u6nY5ph38vKkwRVCxWXuChbMyoRxhE23sU+HRs7GQtRXS5/hdDfvZ6xIuWiUo1mZz1CsPkNkxXspcuDR1FJos+PkY+MnV7ZZ+PK0rA0O2Vvs2MszX1T3+xgXnOf1DXbm9/aO42oTXUy++2S+clsiqu0fQ76dQ74aVxgYHR+3lJn55CV/gvra9R/JU4pqhcpmK8X52Ro4QqpOSpjngXwPRjHZbI3v2EpxGipCewZ+TIMBce0HYZhZO/qXobssdyrflf3WONAULlU7v57h7Rz0kDBf24D1ZGxEmjK99wHHe+CryRr0WjG3X8E9dx0q89rJdece+7R1PdwxCYJo7X80qt77pFNNKIiW59rXntzV0c58ZiqxuO56Z0fd3XE3g194WErkbM2vralVHMt0690nqvBiWUxgG1NYfMtvNfffNQhbWUv3Llf4YyZs2bPsV+acAgfZiLDiK69R9GIZfP4CVs4Jlwz3P27yS1qz4Hyti3vr91h+w73VN3O+uy/gd/eBvXHR8Wu2+24sG1BKsoK0lzGp5VUa2sKsHuvjWXz9EN+KZJo1JbqGU2l6Km5ErHTNszylW7lV8ZNwx3Mcuv6lkMLtjuSgxduEWf1CrkOIc3FdyGG8pSlHBVRK2pNu1EBFUKp5c4l7VZ+akeTOiulYiph4yZwqeBRphyFpFIsJweAwwvw8eqikh+dOnuo8BP/2QkV9EC53qfzQMCMBkjqR35kkiAYVMJBI909PL2Y3j6+fnSGTu8G39ipSsNmzdt36sqT/wnL+6bxp11QV6IeQb3qaovGNdWPMROmzJi7xoIlQ+pa9CLqTdJHSF8GRbFHe8sqyO/TzhphQPBYQi6Gisr/hMZTi6M2iU6iGO7pIBRJIUmMBAoTqbinE288tSgqWonc8w0viYbWrMUY5UhcP2rCTCHBuYhH6qVsmdggAUY10sD+3QYKFmCtjqtUObgFwqkbDj+OZ7ebdrYP/k6mnC622X82fuAn2hc2PqFsJXiC9Us5cuNTfhixxpfvMqwsf/QiAT1ryAd1CQJM4rY4wVYgatLeTVFC1PuEI7eEeA7Jn9iPhDV54RKz32EvB4T0xD4qHFlnRWlqYiXVpNLW5EqulNLVFBQhJQOL90fpK67GlbLiS1XjK6EmlLoSUZRmAcRId3MfJqUPAON4YMMU1Nh+L6sIYKzaL0JWXe4EbRo0VjLUtBxDp8+s7Fb4w3Wo9k2wFLDx9S4uaIHJqZX/E8CUj5QRBOgEl4OFdAcDNLAc6FB/RIAp/otB9poZwptj6yR4yjyc//fe9Erjn5AkprT61rA6XGfq4YHpq5Kezb35tGGtJfzLpCBqEBKkHjIN+QbjhNnChGDiMAgMAZOGKcKUYZowY1g4LB6WBaPAemBU2DTsFlwUjoBLwy/BveBZ8Cp4F3wYPg6fgi/CjxGMCA7RAyFBiCMgCHmEOQKD8EMsnA88//78abhJalXqrkyyDFmmWJ7/gOkP7ew6/ecUAOXNwUAjwyViwJDEaH9xF+njM3dE2ENImrnaeh6iCklZHw3yFQZgfDBBmBhMAga7NCvBNGYUDUshqEcshHfCB+BjcCoRhNsSrI4JNUqt3FqMTIpMljzPAflDLv9nUsyp7rV5s+hmTv2nxm/hSdIJ7sTyxOLk2onxydUT5ROZf5dqZpdeu+9frL3o335hhRRcQP755ZNLztlnETQ+p38de3twePD6IF8HsMeFomocJzsGisj+vf2N/bX9+f25fdr+5H7vftE+YT92X+xp8t6/vXd71/bge5AncU88Abj1Dv6bpZOh1NYCEFPLDDCB/PxAqp9IbdunC999z9He6R+6hVxgnIeuLBsOg6zQG4A/Qja2u9jLBfccUHPNvMP61rSmjb3rXZv4jM/a1Dd9rzeHBlq3rSlMZSfTmM6uZjGrPSxqUXtZwlL2tro17bcfQeRAgE12fqSAoUqNjxQkWPXqBaOZFuKrb40DwAUAuHAKw4dfAkFCkogRd5MEiDQwCCTSpGVSpCiLEmXZNGjKZcxYvnDhCkSLVyhFlnIUFI169GhCRdVs2rSWvQVJKAC4ioIHrRAQ2kiT1u6SSzqgeOmUJcukQlWoOnWZN2DYojHjVlBNWbNo0cYeQ5K7AG6M4ME9zFhs4sVrCz8B28SJewgC4hF58h4zZ24HBsYTWH52dwGC3fI9WOyReQbfd9FFv7Db+5ew+Lew+Hd+5We/+M3+AZHfwZKv/O8A+T3e86nv+9znfu6L/cr8LXvM+iSQf8AP0w3kP/CfnCJ6WybA/++vAkz+3UcVyJ8OsyMYv1i4EgIEmr+vFtTj34WEeY6wLP4qFtNpZy6Ceo178DxExvMDKbmxziKH6LgxYj++AVkDd5JgqYNonl6SSbQmS5ZCZ8opA4Zj6A/+Usv9YIOtdqq1yx677fWjn9Spt9/P38HxhfGgXx3SqMlvjjridzcEPVLR+RdQCHKEWkSG01ZcoZ6UrbZH3bBrr6Di3bNti5fH4UsOYB+adH6Fexggwv3CuikzbERkVQkICsMNSZPuppSm+tBcqvlg2nZW4b3bRUGuMDvzU57FKq1QYaVlB+ls1SG6C3ccoP8yYJP3GZNoeRkbRSLNSUyiIgeZdEWBehsYp8BYGba6DDj2ewB7AZqwmt/mDAEGyacLoSEGja50GmAEKkC7SqiJ94eg5FgKOAKUsEIAHWIxYElnwgZpHrPw5mJkN59cddZcybgSRqRBCWbOEh8OWQsAE+iVymLsFldeV0L5WDC4AJmcB9S4J+UqoBduVfMuTlOc3GUmWd/jGFY0564i8uOG5hlftgDwCnNA8BZBsYhOswIQwhWF6dt8OALaYSwedKH7ODOW3cHE8IN+0E6nfF5xJfRNCE86capKMYhKsFEI3cRbBu1TKtGVrpDcceKfMJ4EBDz5VqvSlNEcgZU0Q/md2J4sBIi/OSuuRUiEeZqejHxEAabquj14d3ZCXWknVh0SBfQc/xJD0hMm2uUpMNfQBydaWoaaHrVoDJbLlPFWXvjkc7Wd1IPvAEfG1c6s2uRxV7mVjbzAxfU9vsjzwRrwV4A4Ot6873uQJcEILvfYBkDN+l7hnSLW07szHQYINAavQA2BE1DXZWI4ZMDEyGwTRAMEqQrbklKBrgoKYWB6uoCLINAYvGpq/iE+YwdBIFJdkjXpKXfNDBgEKQMZU1XrTI2YfBygIN8IzbjIvsebn2DGicziVGOSaoi8GrtJMe+yyMZ2o7DL+KUcvIXcM19CRxAT7YoNTQcEp9IrYLaD4pIR67lELxDHGlifUAER6tFtYs+phQwZ31TKbsO5SUUKVNEzySPu8Ch337aiQvNaYi1NJyDZUuPrgfjlZQjCJmOGA5ExiFi2XaniIpKhFn0eKA2ZKaOQRsVESFodpNZvmaIjP/01266JYZx/nxRjtcNKScAA8dhU8O5sdV1oa0JED/fhukPe+8t2nE5TYphEQy/WtFe19cAymvH7FXcWTt1nD4Z3Wkg3/QyoF8rSfWKmnXm6mtilee+apxT3tJYb5vn83NP23KeE6wEDbClbr6+rQuFl1AYWuPd6V8az0Mp4iEZVF0oTI9j3yijllD6kLBDKAqGMhDK2QpVBylR27vdVnLQ9KnCWe7y6msGEF3g02EWCoUYLa7RoIYFWK6ro0bZylTBCssCuwzRv6jurXd3gCvVe7NVR5nZ/Lyw0nKGxxH14F2exhmiFrkkHVRkWdh+ADs4Ca9yiUWBouV+pjZyFceDFlLRVkhcXqoXrtf9rfW998zlFsA1DST4M+snX29OUFjnYtcjD+7ZPz+31tioL3AUhPioWfFFUVXg558jr6/5aQbUejIEJO1A+d9wt5eWFVG4e+mE0QDA/P4gLzprIoA54jwWvFztN6hKJLtzs4jtsnFBLFzc05DUJ9Jf/y4xFyBBQaR/VXvanlgkl+FCUeekryLdbnJ0uIK1GOJO8EFDycBF9v1AFUJJ9xVku500rusFrT9AyZqyT6iyTbJFviRInXD2LxoOVeLDOtjj2/xFPHjKvv+AVh1IE6kHjulPayttxNgonYXwu6ra52QsOW367pzsodNYEOForJl1ozRglsFtLoDj7L+O2a+V2SW6d8z8tpbrkDVUcylydDrHHOWPa6liftrZ3glbgH4KEaWUWx89jCRG6JWyxCNbMn1jqLiphMZB2RZg0rISoOFQeuE3essXR3IKgEEl4sdzicHQ/A+vah1u6PFbooidTGW6QsoTy6qC9gyqKHJ1FQllTDPE1zN3KT3syUUa0AmD5UBI0LFbCmWJjIB1/tnyFqtAVXILLnW4FnBvhVbyCuZZW5xG967u1PyxX+LevfHthAe0/Na+0zUHAdL8epNilHrYtEHGSk72IkY2yc5y8Diut3tucMg5WY1xG5NR2mx1xQLNfzrlxr8YBmnLS0UzxMpycfF36/ZzGHJRrkIh45UpqeiAmv0eCBEL1GisPGiXB1TzU4QaMwe92I1EHZfmKrNiQJudkugYXzp+GFwU1rHOtBCIFfCqOjp0TQtGahAmIk5i0TplTUC1MX2o59XUkzhWensTqnvuWe9IKZx2KI55yDuQYhRDp6wyKeF/QByer1ebuEMoMw3iRLKV+dqKkctIejQctap+V1FC6Q4NheBhbZnapibToTUHwCCxSybqDu5za9CzoNlu7RnBnMXei4JwVZ0QTFKfWkYwnYzHiCQ9HzpiGQi9Yzs40RoWNHQWgtt4aQJkJ02oDVO5gmLBTmSPCLMjfUYUi6B6VMduod9gIywWtXAL6RIoyf3sgBvqTNj1eFtDC43sf/hoZc3KjhdNGtDQ6eVcwlSgfRyvgzcQGhSqBawnm6Mm5tKAxV8geHMvqNtuEXC3MAlbzKQMwkNVCuRiijnWqJNap45HQx5LUrq+HKQIGmWJZMLjOtQIZmtjI+wiDQrEKFqfcH9GANAl3TRNwb0vL70oz+w61y+M/mp+7qWlqieSrGTNIVdCCRI2zdTVw3OPyaJR7A3N8LUQZvtE0aPuk+0m+qaQ3EvmXCm7ogk1C1lljIKOsMMM0HmSjUdHdf3CsstIBtziejYltarbw8ajuS6Jik6xWxHj6XLYegYSkRn32bAuOtEV5SCvhzfDrNSrIMLQU52qGhABmgGGRwwp6+G34m68OvUhV9L2v/0HTb1Zu5BR9ZEoj3/O6708zMs0flqpMclIxEE7xB0f5ZUq1ZWyPmKCQMZhBxgpTLYeE/PinUCa/JnHXrqYYCHBelC0hCqPNtR5eYEAvj1XUGuHqXTPuGXpNuMBJ0EEes8ZJx5OZjtYx2chAuzwrSqH/Rs9LXElbfXf+2opglvwHzE1P/wJh6qd9fTYyuAbef20xw61zfs99S3u7Fb8U6pa56FXLLumMBZOqUBztxx0eq8cwJZDRuGwXk6pByv3EvctSeiNee/TA6W7aN+8gR4S6J84LAgo/kyaIxEs4+4ophRL+Pwwk7uPQp5wcPVcCh6Mr7MEAX5hi+yBg8otaHjsFBIgn9YnlBtjFqEj4LbV9dWtVK14vgbWp6cJvhWWRk6I81oWWxNxUJvkYsfVvhkiWnMJi0jgdcNLnu0DMQh9/Bpx56OCEDQaCgdCpWb//xFlsKuluyldPj1r9t3+r/NuRk4ym7Mi9f3jNu7ZbXPc+R41mW8+ctfQWJ6UUnUvMLQp/F1f0nRuqEG36cfnvWPMixWtYkeWVV/JR/f8fnNl4CYsWtzarHpSEGKldP443V0NjOM2JMAkanKIfczMQOGURiuDt1iPhX0j1fxx737DP8PIAD8hpwYEG8/fUlAvt7wMgsbU4Bg46jcskoIEZmKSZJZkIqdeT4Hnpn4/Dv6hBP0wHUZIG/SSvsE/RBthg7vZwoYkcDhdf4mw9LovKTCagCBOeqGH6E0iLkcTeo1bA4jN4VRMg7JqWFn/QupgY/AAW2TOmcw2A3wlhDANfkEGZCakZ0vSQzneKuNO8TlGCT+f0OGL7uleP8ia+10EUFQK1kHZcURuaBZfEu8FBDEEa9DE/1RD4pUksRnek0V/xHvZxcjKAkA55QDFICoSdkXjSg4j/9ybe4MMw2oTR+h29wF/f+jcNCzstcBouomHJOv6nkP6n8fTa9M9JRDp6wJ+Pfp8OrUV1Yi5+h9JRhf3e4vuR/ro9kyYCTC4SNaAEEkpiR3EgOoADIRpRiL1gEpMk6F1Ny+GV0tlNqtkwtcrgHVvZuYyQP121Bp7CKyU8fbY8lodukc+RSIl8BWBt7wL8rEC01uAsl2Qje96JRAWfDIsgp6PQoMKL204CU5ISXjVkuIAGlXJ2mwNfZvNESeLshKPE5NNTS/3ZIh9IcLwQ7sLaqgdUk+ERxiyPBNOUlnBklrJZC/63WcRcPBGFuc66xM0MQ2PrQUqW3xDB9cQuN7ivwdUY89bf9mMq1mcwPQDfKU6vCNN6xGpZIXM1+ZADMClVZfIT54NkbgerD3r1keGXYYVVy1Q/IqYR8dWdKWKf4UjNhJ3iYxJ0fyFCduRmBp4DbIlu3UkLcEAMALiU0wF/KlVPgXu/BDI8sMTeRRJiD9tY2gZr/RuyubYhYUIpl87wUhBkCk0HXiTP+HBHieZ5Yk4IP/BZxtj+RPMHRdGPLXXWaDYSUxJ4MD7Ej0ST+d6zyRS5WQBRA3ObPkYmGz041CS8OXEEvpGqgDohwIBKjgr7JsK0nsemHRQj6VOskHPEy8iLFuLLJomavW8JdHmKo0x5xGtZGWqJy7IlhDqRNBU+Xi+F4nyjagJXFoddRj16yNj9Oy/L7rGG+ecPjA0ZGETn+SKgshQ7V0246IgZetQ7PGb2zBLCgMQcdAElMSX5lbeGTnzJSQKbT3JNK+8Tpv/9wpCA+HICNr9KHEUfTiZt9CsAaEl4fBtJQzKlF+OGQjMTQqeD4MQ2ygYd2eCGAasoPpexzoKgXIpJpG4ClCAKNQI23hMLOPgmkaB3SivgF5AFKqJ6LRBEjTfhUJENX/2S+wFT0Y14VrNn9t3cxFJVmDMx33knNwIqM97hvhiC/nN5fHjLk6ZHBk9RuvU47LPloMGLP9ikja5/04UKEWXi3PkxVZM1R4/DHdMI8h4AAi5BPoRdBxvx4IcUcIk6CIjc4cVsRY62PkroGG5KuwNAxXTIJpCLqTPUEgdcORx1ew4W8vrQVo8fvAr5NN2/Y5FNuOsBB63WBotLqKShinMJbJGmp8jqJ6Rc+RLSoo7M3JCymzXFXux9gSm6FapRfcbY0wdeKMX5aYhMWYjnJVIezYlVVtMC8YZ3A4QsQ77Tz8QbUFADDQBArPXNvFJI9o0cS4xGd6BbV6UM1rr6bzw3Ptspzdh8sCSrxRwpfIeUSNntozq8ZxBmPdkRVZ6cI1KcTfC9pBz2pKGTj5vOiz827EhwfP4iPzeiZDX+2Cdmks5X7fM2JLd8nbgShuoujeX9Rv8l8Waodi4GM2+fTTMr7HREX+KkRCklv41dTpIWpyUHKtmSAdHDNEmKJadKknxpl8iZga1Oki770+LMVK3uM+6geBWZYMLn2PvfD+ZV8KR9xFqw7e342fQ4jy9992OonFNxh5djiymPhXCfOms9OISUtpCpPe1R7iFGQiNhitQwksIOgDmaZYrzAvNShO8Y31KEBE7PS1zzrCLxdEDRCeYdn5q8zx02yKQ9OiDD9U0oYT9GgXMHthQMQfnv7+JWGtUimMiz5eRiz8kdp6MFq3sKT88HTr3oyPLjLkciLxuehPm7nGlN9iDtXWNL46FkTPU9uuHtGIjqe4mUCWq9cngqdw1JfXhEQg2fljC9GmwleeiCbKq3bpVcBOdXMHzEfjIEH/NNTFhsqmfP99g6O83G/5RmI4U+0xe4gg1vMzQk/slp0AdpUz88PfYHZHU8HETHR2GKDV7SpMHRSZTwRS+Nu9cTO5LL1xrrt7Aa02OhTmifbM8FOI7CUzyP3qIOqWM+YKuRKZ6o4AguQmPjPe4N0sAHmagmQtXIdC4EKozQbfNCDMARQ+J+8sSzHQj8G5KWIPsd6zPu7Ci23OuGUNr3EnNtleF0AI6C/kACzEZTFgmyf5VcF73JQhJaYSdheeaLFGJqkSkhBCW0fo+jdi3z30UaFBMGStvMW4HTT5OQsWtHMBKjO9lNSvquTX6YJhIlKwsrbrPFXYlQPuOuPC699mSUljyqwrlQNLnAZzqOuFMce95rhSwoUYQKKCfl5i2cjHFXw2gIng56kgNCsT/8S/Qqei2cKPo8fkHY+lxGGn02PfOtVxyFlCkfLZl9q8gPpFRDNVRANxCcqUOiKm56mBtFhIJrbEwajuL4AlwfgPq+Og9TrRHvYbyIFzDXMvSk8r468F86rbl8dbiwWsLOfb18Wtwb3S+q3soLQTPKUcizoPjSVE+uF/NW9o79QWk8KN8u2VLz1KhciCZ7U48QYWjqY2Pl4PwYhagGk7z/rIX1Ao7t88el3Xrad3PfmdJaXo71n9HMqOjj3bBV560dHppOD6VuQk3SdmbiXYRESIR8mYYYT8RoGPJkTLkmiF5w4fRqvsC2vIjORQR8qdei27yoWOSqUmvF2Oo0KkqxWSdF5PykQLFv9Ro3R3lWb3Mc02WUZpdwgALXuD5k757oK9ZhSFGl7FnG+xJWmaaa0kSfVlpwka9cnOLR0+4K8goTOEqAENi55IAAv1gurQ9/YT99BpRpvkBPBBks58t8sHw4ON6cBVUHmoh1JhGjLpK0iX3ioZ6ySJt7d1nbae2SoOVtC3XYCYssL9ZDSJlcD1+NrHKnJxUnEDqJnWXUvPJ4KHFWwUD+lcI7ECApRbUnStANoSbvEZWmIzPOC4HgUcWzrCrX1tRPAPdmoQLQqmKwIWLQIvu8wJIjc3aeOGaeel5Lt5BbfDxF7J2cqgxgF5SSBpS+0KBSTfF7kwsrRGWOfEgVElWQZuEw2x/twehokNrhb4wxnmNiIuwZt6Jo60bbIsiSfGldKCu0K7iPyoWOtArE/pxz9CyOCkTiQjtTqC223x8lXNZHKUbIsorGibLFmfCmYXFyZcrDsz0qItomoK+yLXdo15hzhEauTMjybjuf20dvopwMJObw+pPTapzTxwsCiuusVXoZwSjs19WuCXhWNDdN72FTFw+eg8kR+O+Y08kHgd52cpY3li+W901elrebiiXCVbe8/ZiWt52flsivuiU97OcrUN07Vqasu2zFyvrwqZJlA/CucFk8tcpX8adOCbL+kSpk3f2lEBUy6tRSTle453C5l8dlOyJd0V8xUUaVdLmdI9Dl5jqZwhzBLq+VHCnnSlfSQNxp7Nf6J6EAvaKUf6+u9grsTMt0Wlw4agFipWqlVm1HF/JYWCsPy3B746Xgs1GCEG+8gu5S/PhNZmXdtZWK6yqdYAlwdPkvKAR7FZne3H9v7s9W+JV23bn1g/nxErr89MLnZeryBzsYHZnLLaPxuwC16INVBghGoUTMZAcza3OtgiIgcwDR+OgIPwhADvRwgh+/5/1jeygkVoPVldogNTUdwdbH5sYCQ0uE8uvtEAvZD42qxMUFmjY73HinqqI5q7FcIKMsbH2Gpn6QWy1nJlpnmTdRRpZ76NuJFZU+5E7J9yeU8NqhkhXediXcbHsD02DRQMVS7tSN7QQ1sqFsVm2hr/ra3RGe7sSxlPxMXT0oFmsaknOVL3zHIkLTa7YAX5OFy0u324kSc9O3dc3lyCXLk7BaWdyiLey5ggx7yL25o99XtqZR7XUeChfD1gFR1du1PucsU7Ep4I92Rj7+d1lH3iWUBjLBL5mE83gfqwoOfuEGHiL5SnRTj+hmH5yMhZO9eK6UniRSH7q0W51UdGMIm3spyBoO8Xqoh11UPiizgCKtTazeG1wtbfBTeJD7VORDsAevVQYoKypulqKogKQiHiZ4IahuBEGHrab+HM5gCScGuhtv0F+hGBg4T8MuMsr/QiE/GAhE1JqqDK/QrsOtprsxi+6XAMxnHS06XUGWCZgRP+INmgCW9xvaDBUHhvuOABapBjhRdFozTUw+kRkTY4tMw8yyg/kmRsG/fzK8//tJ08nfTrBFxXNbXxZzHszXdrk7J0B8NLoczTqayW0Hk5EKy3mEbaJoADQ96B/F4vEyj64VQxuqoMG/yQa60PuHQk3rwu4pQe68NzMineXqnj8c52smUfr5NxYkapevdDVKzqwY8GbJBhiaouXirnX+d7DAWSdsvGLvjQ2F1GO4snHCRov+nLOjHV2D/OIQoOWwfZpx7SKNoaNtEmysTTK2Vri4thcUuba5uLu1FRXKgj4my5tEjMpLRaiEC7XTGNic7dvE0Fr+EgQ2kKIXmHRaMpDOhhqZmmfalj9Y6B6Ym88KJzYWm0pKnJcJmlxl41b3QhD8Gdmdnaeb6T4EAjHoij/R1a8pK/heyMXAUGMLVzdLC2/Pa6q62DG719BiYhJ1ho4N3+2YqV5+/6n6Tgcd8PpRjCOZGHnYbkRq6VUtROWnqqpnzHXujZHPeG1ddUaNEoW8Zvi9TZI1h+1dnwlW4mfOg7cVOeQhctZ0FmmIlAPCRVJEElgoN08EBMzT7eggiYVykOiWZkHNcv8hAaUUqN0xLd6IEm94PGV3NBVnSIkzUmdQ3Sjxo0n/XR45sKZO8vg7nKOQrBXrJtM0wOwPgh9Qk/MJ0T3egWlJ2JDym1x5+4ILIv8tz/95e0sPFqXm7RXs62qhLfAa0nwbuEG2IPfObbwRi6wPioquTArBZ0fFpfeEhBOCvX1T4/ywxcFCfgcSVP5Hc3d+bvZu3bdB3BDN6SDfzJx65g6+a1EOpc6YSBEeDD7QGvtw2AKfTwG+kHWWbZfB52JO+Th8YjUl+WZJcyo+K0r0+kNWxioN09lSwRaYvFmLU/jcR46Nm+f4QBwkfNgyLtV2FLkWbS+X85t2SD/XtiNoEeXuWXKbnfGj+wXsAC6KuJ6E205bFxV6OBNT00ZIqm6Mja9pTCLUtYG7SJV0+NZs1yP4dgEIgHwRftafUkiJRyJ9YQmVEU0nT/fwozoxgfrZ1yMIlVgYMhZe2JbSL/zs8wypKTUA20wipjeSsIENKekxNwoSaYXJ0VH5ybT8RHD+NSl82CIuFdUvyO32+jbn4XTjNlYhJvhwOqbWXdPkrm6C2oybLJQjXz4WiHdjbMr5FzvT8EuldpEPE/y9X//B7P7pDCJfDC8Oa3unDi0OgbSKjeMz7h+ZL46O8GFCON3frtBRC9vzkiBqIu+bFhvgXxbO77d/dkLoYGnh98G46floY4fv3cZWKhrutjt8DSe/O6H+ZWvgYtjuauKlseE0jaePLyZ2VLPYTueTbhnsxcYYzOISsgyv2flacsrhcKMca9eejd9ThMCN0Vi8faLRBMyHEuZobhM/1pDh8LKx8zemNvc4qH8cC0rudF6Ub7i9W+djFE2NOyceQq4j3MioCQxJqYkl3KwBAhASSU9ylPQy0s/1ht8wZP9xixQYAswkzOqnid43e5ZwdjXp6K/lZc7p8PQbgVhSJL5x1C8Knx62SAzDRQElPuiS8RTV9n4dToA2yxJWdjrzrNK7Q7n8z73Nj7guP6uMPXqal9/wvvEy+a3GQTCP2tvCSOHwHxz3OqlcazEymtmRph/z9H3zHyfbZ8qS2vk8K5zdRe8aQ869fqwfzZ5kl8+Wx4IrX6BlLLgpeih/Q32oAG2WDV/5y41t2F9vLpEf19Y+5r38rDLuaD+vYO54h7NnfKI86fbohat14vaO413HXWfsLu4u7p0AiwDC8z+VZhQD92jeYTjvqkW4Sym4sSwZbr93VtVLCvMxNPuqF/nxIkx9SBFsH47aS30yIkQAY72vIRICn/fZKrn5wfCjPqk+oBQOrWQPm74dKlC3RUWZ0lYr2PHTdJxAfR3RE3p6HZCL4vsF8Uflh3zKPfzKh+XxRyqefqkLP3YJv17MdVgBI64NYemR2KD0uLBqoDbo7oz1cSFzndeUIurxAtN0dnx5GRv+Fh0vUA+1LWGXHmdlWd3jcOZ6T9VX5YTj/Tyx/byE4/IyCu4XKP0nd3P+Db336IUlPFTE5wZjGnfLffYKRizWPaDWFRgJkSLSov380yPDSSAZ8p/8c+jUU0QUNTQlrTnOE5PmXwBtl7bkS9IIddHOchwUfD/EfM9rclf37vuUkmgX53jPLGirrD5PpkyggZm9PMGCKvEJsMw9nx2a/TgHHkJYLw7i8dm1Hul50t3VuztsvevD4zcIvJQgkT6IqszKiJbOvpR4QAKBAsyklzzRszK8lFlrPuysFA96dk/AgeTFx9R1nhfbBbj+XToYZXHhh3vw/3zW++Mha5giMk4RfD9yTi/66dWLdOt9B7UvOgLWX5WiRpDctJOvA42GkMozjrjK9a6/gLn8bxdItNc956VFjgGXolRONKoJeH80/hCsMqu6s6rCYZuURQLi50m/TvnaT6HDkOrVjgJ73dhoU5KUM1s/FzWXmIAQ30RHAetlgbIPU9OL+7MjR5F1TGsSNFLOgmLx28gK7+RMamrDO36QSOFOuQ5WIP4dDgpOiIJNwEzalEQouPS7B22zKTz7JKTxm5rdt1xd1b+SRR5Y1ExWDtwg+5cUXj0G+1Psax79dyFuhb5BGUO3GlsG6eTgkkCI5yZigGsLcpAt1otPaxL/PsvPCmx3vugME1M8XRHsskO/iwpV0cuYnN2zrNK7DFwgnyQUjj7DL72qepV/46gGeZm5ZHCIvKpf+EC+kHHkfaYrd1F9YVxsZy54iaE2Uh85eHqieWr7pJVka382fseAb8QeNV0jLXmkgtegZ8gjdvg/hxKKO9gmJwUXZMl8dVRcbAzPyEXDtxWHb2Xm9s2WVYgFaofySLAhAm2qbL0aaMu9HfcCw3CZ4fjMIv9AUAs2AbfKrv0H+8Ce2Eaxsi7aXHfyxjgx7JKPS2KL0EEUjP989Ok//pOmacQMEgAv7st0hIJ1pZ03tsJB1kYqqHWzc2G9v3kThw8ihoVkZ2JiNwPxIVlhwRn5PmG0u2cAad6Qw4vKD0fv4evLKtsre0XLHl5U9Wbn9S+on2ngIho6wSqS9qxZ/hGsBRs0pDSGGkrgfcxcXtbX3vQZcEN+/9krUnZX2DrbyssjydpI30/HlydfsE6sMzs9/3nvSPdBFbRw+XLGoCveMsbxqi9vnpAlZ54cxkQJZ17+YRhksqKcXO2p9MZ5oSWhv42/E6T5ZAfagBFk/cO7TewmJiomPwIfnR+F2cTef/MWRAgbg6d8SDSc7wz6kTARAE+eeWxxItVIzm9qPWBIuso1XhUYcp6geNkAoZjTkNP//gHwzwGv/H8QWN92hSP/hQMDYkefZq8bzE2MIrrHh2RE2JQw7sjO7yA8oq+HAutH1zzgql3IB9e8oN49gGhi7uJuibQwc6Q7mplLWTm5WVxpmzA1XTHQcafD6DpuRstV/kQbGCQCVo77aCxEWin0xNxlPmDSxHTV4bYyd6M7piaTT5RaUQ8qWs24g1+yCnbNxgfNJ0IRlGjtm8i1u6F+NbPHRPaymQ3GXlCwTUyktXcChHowMn9/Yvgbfv+JEZ9smBc7DVFPffNiDaS6Vr7DO7DGu+LWERhbzmY77gLfs7ab0Kb3dzv46iKnstPGgsVHgs6mjwIsVRCXGRKkxHJ2wrMBygnED5WaOrvsdeP2ySOhuR3B4LRIbwW0xDV1BV99Q2FzEZOEAWMbfv2rBCd9eDkVPGkICMjN9E1G+SbnZgYEZufedGtozsAUFgUGlhS6JjY3uSaWFAUGFBYSvSgNN90gLkmdgyedg0mJHYMnHYPgo7wKSSVHJfNtXPOnK7YwDdunic3vMpVzlEnK8mDwgLJL4R7xt16VQIk4ftQr0bSk2LTuFe9qaepjnyQTLV3sKu2mrW0mhdXx9i5yFYcbSlkQ3UpezI72v2qXbKJfqplzD3exMvFGJ8rGSDc7S7traZpJBejO0w2gJbYTZe9mozauR7tY24Y7pV4g7cCvxzra2kc6pF1wYIcURbeZOZQFyl+gtYIR83MR/CpszM9ON7/2Lpo+Z1s7Z4emJ+BdJSkt0L50zJvW1kNMaq9kSzPUHW+ZLcjg16/NU0df95c+pkCzetSKu4Pzqj/n1QS36eZ3QEiPKEB3zTsV5zH2S5guAFU01NJWM7vSXcPpW5OYlFqaFKNjlcy2yVRUzWV5W27/ipWbh558OrcFW6Q8UDwIhPfBm1/JNsv2ZT/dAqBmK9DFPbXkB0Ln6bZ0IMuw1J3z1GkujrMQPn2Ka85Pqdl6UFd/f7sWPXz1dfcf8BesPTe20NWysxARMOKk4WcWBTIUyGv6DrEFiX84K/pBPAjwoGcoVhQAK9H5OzKafHNk+C/P92ay0jl9N1c9fVdXAz0XV300HxA7tDikL4YmDZFQNJTwKkQDppfCDtbHyZYoP00dMzMNbXtzlvBhPvJkFTm9vfqmG64o2rOKIFJaDMqOjW9AMfq6eJboSfG0PEO0qbaWtYGpy01zAzMdvLmRuoatXu2YYNp4YQa5lYzLTFcSMeOd6I9OnskDfERS+yn94xRsJNqrt3hgWFAmLoRU7Be4KSoHk9dqi7F3NGWLRiha1rq5xRup1QOxtZMn3J8PT3N9vP8csNhlAeZHlwHzIyQ/Y2Hk4EYcFG+zFQfc34RHRNoxtfcTq24AvRXZpYXyisVFucXFivJOhVovnIOTZ1i9Z5iTA7APkOuTa36JaEQMzD1lgl9/mkXbvcp+xatv+P6RN4kYkZeKgM51tcZyXQ/MJGXODZsJpov+CWXZ588Jc6OvbcMQX+aqREuLQPthvYHO+ifW57w+u1Vk4shpSqLgd/Jb+TyH/SFxPJlEnhs5tBbdKEBbK5wHnf440dRZ5/UA466wP0fY4TrPfAjKPQg7CcZw7H4jf5wKKX+NMRvZ7pEPdxgeFVdFVbFuPW3+kQrpyBgUDVEyuySPCspiNZSOCrS6fslMUsnikhwqkMxqKBUVYCXx8qVQP9TRMVtmMBGHMRfpAwMTfj4UG9YVGzEUE9F1DKy+SEn/b8Xg5cm+bWD8di/y8muSxeyjbDwdP/ZmjhbxcSFcVjarWiqaSHZMW2MeKUMSOTZlXlVJqbbR8kJ7KI9N0kkVVUVX1c86u/gpMWZIcrZJxnc29xJoNKKjnGtje0I+jjtIM2v6GTLkEPNvZPAZ10xvdma8HzbYorZW6cVy4DYHjpICnf06AbpAT0yxgjCW+fI77rhO88/f/3XK33bK5/LeuHbmfqMahtp7U+S36J7QkZWR0OQ2kexvc87Nf5ulW9Hg67K1RdmmpKDuevpUcoo1XR9Q+gJ9PZbsEfRp4UXnxrlo7AbY8GUfRpLdgj4vbptWJetA9vdaZYt5BwUJx2WDrgVygkzxTtbioy7ZckjGRKfK3P08wnFidA0J+1/4dcrffkpyRR0vjLkUqpHKkJlWKYo0p7/FWXqnT9Vct/Rkzo5UR0w6JFN2+OPnmyfBP+a6pJSKzPibGSkxhc0BiTF4TwwhJpSc093YvDKRZEEnRnVoYJc+3q3DReW5SiDj4eTxXH+L+nTfXqXAZMo9U07Zd/Vcgpi4ymc1LnM+5dONsYgRqhGkNNvZtcs+p5P2pZAjv/aSBQR+7fKFPb52Id+cu0iz5C+YtrXLZZ+q6KmwsrOHYsK6YsKHYsO7vlt87f+6nHO31T4Ta5C2e+2FRhcCTIwDL+PPGrMECTtHBwRjEj4dlb+jTiV3OUqjkKrWI87hJU/y8Uc1SB7mHzoH0qk6hQ9kCv6OduRsxV4MQCoFrsdoG2Zxx1QURUQ15QomdBtb4Z0c0xracY5vJRJb8iOJdg67EZX42OXDUnblQFI8TlaidwXQFD0doQxUAyM2792VMy0mkmbBLmjzwKFWaaTXLmcpacjGq5240aS2xh8150rTuzE+DDBEh+q/OhoAqf2en/GjMj/h215Rhi1ZFQt3JlamCbpJx93SddKylN5RuX6pi9lBOpqm21y2dOP2qZTum4lc6nJ13eRKXv70am319HLSvUpiKkmbfAebwEyVxHyfM1ttPy2CCo3L8K1tt6ugA7nsX+/qsQrbWuXf2u/5HO5tfpy/aSIRQ4tDbb3RKJSmBsom2tpGQ8u6/c0dg6zOYXzR/AcF5cORDJ9r11f1a+EKFz5c1EbXbXo9rTVn+E5NiJz1wqGV6mNf9xpafGWhHpQzdCfmTwow2VIpUlLwyD5KoWoEk82TopjFJmRfFDIDB7Dt4miLPm6CleOSE1LBZdA9KOey7ychjftHKcdACl2F5fRmTrQ+rU9eXlwIbnmFpguztstbLFvgWKlA1F8jd9X4jp5SLCnIqCqT5hlafweB9FW6t5IhuS3BxtzEzM7MncKQjFQJ7a4+R3mupLpSyOed36gFvC8kMzwwJcUz3I139npz86O2YZf2r8j8yOlWjlr/16dmy3RUnC+pykPAWvpIBJ+y5Cwt5X7H/kL364TdfxfaT6nvp+Y5KZnfiv52Ue3RHgj50VK1K5P59fmszpvT5s+fPv9hzTH668dYW/ZWvIfYza+Mq3z0mGGLnmjEV5LF1FiPNXv0Uch8Hbh8ButAnM8gznNEZL808HCt5ErYTKguqE4g7jVL678ifT8r9Y3Hk9x+SrGiuNj3i14EMsKkr9J9DYygdFslcrWM6Fx83W65omuIp6QyLmyz4nDhAuaeP3veovH0RTfa7AvNDPI2QGGrkHBicDc23b0i+42QAJ70hmYFeevouS1CX4NzsntBaxf1/vU8EndOKUTLYS6jfbUV6bd88bHki/HEN+THxHZmCybF1ZVmYSt/PVYpwfnbNSuvc8SSC7ldNWyxwfqudKjh8l3vx3MRgzqM5fwVq7X4noz6/FvjrDsX8ekXKGcrvscgxfDyVaVchPnluMrboGn/g90Dv+lwv7gZz1x+7DcTFTzjty+P7WeoFr5od0mxvKxoiXNjfJU73eLKGcpZ2lm6u7S7lDeUx0Xma8flu0/vglr/ysLKgs0CnkKedy/Ik5nFGCNMKdOGgwAD4rmMpUmXLAd6HcqyC54OPB8ZcJ3gUcS+G7dYtfhJiL0S+d6oeG8oORRLzMYA5qTcD0Q6/7ht2MUDRSm1nG7wpzc0C+ebWeb+cxOMda1wT45jP4QWOSW4Y1oNCA4vkw+Z5dfaLsFnqdFmcOa7P6/qruVV8BTi3k7Etg5WbU3DVPNJ57BQJZ4cY6UCzV+kmssEsWZOB9AIvCucsEdlelJrjGOGkrwkt+PQD13jOkHg0dqJ0igR43iyr4ADcSGD+Ggz/4fMH3R0ocl+a7y3rB0xWOnWgz96OQc+Xmx32hom3TvX7uyUruSvJfmkhR6yExaXTU1yFvsdOLXcI5LHOLHwxMdq3jaGK/v+2mH9YN5l2MurjMPZYG61VUiL//7dff8W8IdI/an2XDlQntgjFd68zohvNCnaOmDZ324YPgB4E7uK5VTkv91YuBnkeX3DxcvTWaCWYkrkugwqM6EUOwV2TfwmXB+6TWXQShO3pb+82xr7nqV5vr/ffortXX12tUrWrqxlfN+0n1o9aiiw4G+MBeNpqt3m/Sk7k6mlwkOshRuyueO9+n/bkNaeH/1SFzU6DucBeamg/HD84eR16v1gHS+Ehtfd4JSX3FdeIi8zFw8OZ6zrFz6QKzwzMkDeClXxQGh4boXcTMiXscJVN57ipoKY+E5wiMvBCQfpVdhjLRGh1NplEKrAUSJVzV5Zu1ck41uAs0rThxR/E3YYdFNcUZYL929ulexJwRHOzmRIUo2UqcxwJbcxq4a/mr9MhsQlX/mJyHKarFcUk35D4q224lVZlSHDBHNrVAupDGIRxOQEqTMlYBWJg0QXxKzhUeUpVgZ/nezzJgfSQgYJnMN63Pao/1hqoQ/17rfdsaAOdz6BucY5tttbF/CN/Gn8xfZp648taVBFipufZo2BK0ME4xNEMiKaFWQSEjdLRZlCPPS92aWI9kOjeSVyyV26I//USYrIMs684oBIkUxzPIT6safgBNFSZF1WdALuWxE+FBPedSyX3WOUX2g/xTY2LpftPhVKgSn7V8/Azb6QzGCMuj76O+Irp3QAY5CLPLwl2as0YI0f/bndIHMu98Wgbuj4HTYocOc1PejFGjMfJF/otgue+alB56qZ/Md0auCeGtYbZpmot2qo+hyLbFlBADfAXBmmKJAB8F256qmzl5RR7XC8dIaScHT/IsBlIqNjL6tPhZIgsHrLO5+6j3cYvMdH+ppN4vFDv8vbkezpu3fgP32cJf923IhsJv5snCxzGnA4HZDyw/wbAKJlpBThBFZqZU8I2LHp1dkvzlQAgTz3wgiu0RW0NtAE91GxuvLb7o3GU+UzCOJ6+YuHtf0XEKM4pTmgGyga8/tlZ1vjeIQqGhYCMFFHhY+pOjkTfCOdDg6kJJUh73jxRTTI+6piitsUNIOdhwVrFdriv7+xOX4LsLx2sHUAVuYFqB0jUTw/nIuMN5IbAQv2e0FsAfDb3oKJbwGNAzY7J1f7ClOdTR3K3OW5Fncpfhnr5pk0Ow1HegZt57ri9Mm+eoYndg8ptSOGBgThV2IgSTZ1qakRS7Ifzv3UUJIl9d5XQwPCi4J/peMcAeO2FuiHX01WmmFKASEqIv9GqnBXXCiSww4dtjPhFYzz9Pxgbwm/6lZ7JdbLqNon+FpzGrZHOUB4WOEiOENNmEhlv0I+A6IBPgHemjc7TXL8p5+iwJKTHJXVR5eymF8xWT7ozsTqxMX5wcAEECExhjGsUYFLIZqjRX41X15wDv5Ns/a5AI8eiAa1zeDPDY08xnUE+QdSPjQf0g7Jl+YrBbYPSD4zPi8uaCQ0mKkBGBV7paXNpKV6eaakzqSkAVI51gkRVSPA36ZFSWO0Giucl6cyrLdSwU0tfBJwRTMD5rmSOM6Lqzl/GMOxdpdVnCAgADxYAmQLgq2wvVcjQOcxMHqmQAesc4zewiKXVlfSOot2ABHkmNvXFsepR9YwbCaQLvInoOI4qz9fILpn315X19zR3czc3uOaro3BXgubeA+ZqkbOT/bTfsoGyWXd6Tmj/aD12DXLzC5ZtsFrd+lP282qNH5cx4qh0lV0VCkjWXQpRNs4vaErhTQ5+KA4083D2NzFzdjUzd3MGLApC53WhGklwSXXn4OK44aR/AiUU5CFiMh3C2/T4I7ckoLuvCBzK+8jEUtRxyCbiOH82mwL5+s6Wi7W1yzcbDR13a1YK9NszENRFvoGqGtqqiD5OKUqVQDf1YWGO0aVgEyoTxCpQ7lx7JV0obFc+ZyZq7uZsYuHqZFkG5s7uoFOs5xSqkmpUsWYrg08U6KJtHvBCi/vulIH6+MUSxssPJIP6pmL1tzU045ycr6uC/XbusxM6thgmF+DpqRv0Ew+OFCa7WqL47oeRCaRZ4dNBYgVM8WsA53XYhW3kSkNfmzIbTTTG0PJ1el1z3kGmXcbelCimxG33dOU+N6FaKXBpdcPgmaaKMGQPC3/MEuMvpAoasjRNTu11szC0wi5vVYgucP5b7QsqiCOHBIkfO4qWfBi1msyVdjBKDV19o6ec1jqTWsLmueTfeWy1MlnRQUOWtmnGS069AgvqfVuKWNAREFcZ4i0rPMGJ/n/b6OAyqtd+bwPvU3NXwdVKkIVic46YqI6MkqkRyplX4eaG9/UXyI9VXuCZYOyxYZl3sjKvx4udB0RnpEPrex3c/PCyY+2/3CwFy4zFPp+He3lwlDAyUl1V3lB+UD5zS8LP3enaT/3F+BZoV2hJ59FIlIi/ILT4sJEwBBg9me6aF7PZFmv2M2VbBgghYRVBiOQN8VyWtJKbs3XiD8gr+euk9Zh0+HpEf7exOAwFAWNDCOGeGNIwXgkUIEI3/vmVkPd5oMzH/cvDBys9E3dzS2DB9jw4n+U/ojjweKHqv/jxAVjxd9XJYgLEc4uJZ8VEFeS2E+yTtqXABE0CclsVD5X1zLNyHK0Er+ynzFa7ixgz0VLQmkJd4fPH0Dn9s5d6BO/sDe/LzF6fhNchUEr+aJm5yP5Kqsi+ebmeCMV+SLn5yL5qoREmjucHN54ptf9jXMINdXyIcAzZez582ucnT/6koiHHk4OerR5A3RX6odTrVK4UBMnkbqI3hDPa4sKFhFx1ZyEpOJlTXqFjASZtURsrkqhkHvxVf80dow+78U0MzDXVVU7aCIxDQi63+sPE1nECoXV0DE3V4cMI5pXEYI2sDU3rq/UgyVF/WE1jcpfba9IHIgND7kuHH+jSLslTLimnM3qD3Jyz0d7sm3dmpCz99HA9bHPNNYqR9rYyHgnVWuyHQIHhEilvSI5pZvA0ZiX6u8gRXrm6/CenU7y1Z9WNhRIzqBdYFp4zrWoV5pyY9LFxTukQhfqekrd6SEDwTtMDD4MOF/qoOwwc6AgWi13P4FDeYeoSKF5D4iRsEcmrhIJTyoKMf9tAy1JO+lpsNKsGgKn1mVbuBBX4trgpqGILbHJdalCMjQ+fbgjiwbL1WxWrn3KSY6OKF8eELcO3W+34Y/TmtB0aUjp9QOGwm2nX2DZvwqRFBpg/dOOYckNgdbDYY3kcLXXoRUTrueAIyK5N2LMw/n+8vrCKGYm5WlGQrYVg4cGQ6pktzmPpFHMw/L0Jjy4MZUZl8eZoRLm61v6Yfh4sFXMdah5pkoUU4GvYnr8DzChc7oHqjqTVc4N5HNKavi2QJ3LuCnmibXLuKeM4g3t6IKRsArL00dJWz9XwgDYTU5DTVdqUz05xNPUDO7YFuXTaBDHlqHKyepe8PanZiRNd0bU/tnV+9thII/EPyuYmoKyPWtVT1Z68Q/yqai7v7s3OW58GHqZUFXxsaqSsLA4t83HdeccH/t2IGR8EBinSCYmjg9CLm/zsJ87y8t1/cTiHKG68mN1BeEydHw4Ma63F+QgJ6Djg8mJAamEOA8o6Q3ArrwhQScGEwm9fbg/MRHp0CmgPiqwfqJK/ggnx3XTPPuTE8aHJCaAiIkAYhIyMbSU/HITNVi0oG6WtBASKijJD6D9o4Tk3hwjMTnWBt15wMZ57So71w31OsCtordZua5eDxl3Jc+FPLW7bz82eWhU4kFyOSUhvpQCCHhY6GoDg6r00boL2c6EuiCDsJ20DQGh1WVewcsvajKRZxANrn497xgkW6bP0vtUrw4AFX3oLUenh5kucYt27j1DD9Z1iAHhWk1+eZdb8MIKn9BGGm4n0IBQl+1cd2GUPqiqNgCYZdeUFhclJjbUiLPc5iS3VD47yLx11edY6MamKsynqAz40yQGhwmE/t7uXittWJKm/EVypsfp/aPitHWapHtWERKBGWSbW+xuRsjjzdSchOEgWQxSiMlzjDxwg1Cpd5K6/CgicSyhqTsnt6knIa6uJzenrhuowKCHw4m5DcTwwpbueYl1qoXJxOKbi5WTIgua2hfO3ixL48mFxdxnWfGfS/pdsmu+xdtacza4ZdYcx9pXH90z2YT/gAXkKgkFuUHSC7/9VESI7zyQIwIW0+V5B30wvwJYTJ8A4Xk4QDjx02HVYdknPpoU8r+W/9qRUjTgixhaGgL/iN+Om7tQrz7IQE0dV5BqHODen4qVfUMuWzEfPaWPtIubpJWvrSluXrlfqYuutzXM2gBb6OjUjrNNVHVRdUKl4a1DkkcS/+dvhjVut6xqThou1xOBPbGxUUZIFjCHObp7oJm2LDgpcJsBqAvU2karKS9L5Lwd5/raR6s5UFzrkZX/2OM8wZ2g/B+vhyzjNuaH5fO/j4zhN8PXKbw4dPEoDxjd+67tfUEM0leOdhBHD+dQeREkHq8fP0Qc76xoRyRbkdAimYfT/1o2KG11FCraGqWuTecKdDFQxbEkiZgnf1VlJN/8fJtAP7ytXXp4BGXhrf3E994dHT6fycOrbESb38K0WOvKL6jYiwg0xy2s4jp+5mbqa9/2KuJVpgaNo6He+rp41k5QLxi9gS04mvqmyGNmpNaZNpLGRSHjMlPQYMqbFGC/V0XYvLcwz1eWjO1VQS24dzCzL18ouu+enY6emaOHqdnoKmFjONUqIFjh+3rOj3akEib2spxqO5jPak2pShPEDfo3XLWpsHiAHzAe8O9VITYhFqYfYLMXEbD6Bzt0h+25iOgLW/gINIgVCXugLS1dW1yt2DW70boadXXl4Bypa1FNS3/KNJcWE2f3HIWYdhy05jk9Q+3U0+M/72AX946CQrc2Vzf3tsKC+ZhgCqLIFzVPtGl+jq+JN3Kuge/UzM5b1t96J4METW191UZVLX3NAk2tn5r2yQGO18Jr8wZKqChbK6s4Ktue/N7B76rZqtuMPdVXUCXDMrI8st1l/LhTqZIKlbcB1yE2pYK14glDrEiFwNgM1LMbFaLL2BxiKSreV1ZzPdtQS1VOWIPaGzZ/FayxptQ3cRXyY5NX34zfL8wLkgtUaP9wXGJ3b39vYmLvMOS7J0AvuX+TPJidmDygZ3fHJce9oFRg+cpddD8yAv0aZObETwKJDi/nHZb85g7UdHQyxj6SrmXr/jEbMHNmGjyC2bsrtegU4OwmD4DvjHTposMBop8+wwHlAeiCY5lULAACEmCUCrJptHTbAHLvP/FrMb4uKu/Lzqrsf1/aLV7abap4WLnWnW+vFRdmnibtwBYg0zAOtPVwDjaV/C5Q8f/04vJ7+tiSgd/yj92VztsSi+hxBZUBygfiwZzTjA113U0twm/PngwLV/y1ide3sQ7QU1NxveTBO52/6VxnIbHs3QB16GUdtPC7TFD5dU8txcsW8s7c0/mtuYoVfMyV8eaN/41HfIJe+PG/t/ybd9xX317kYptdU4zvUg1n8V7DPmFRwuObH+0TUBbJ71c0Y6IPsqYFztAoyK5ZYiRFCqflc+24WyvOUvwlBrO6X8uRrMEmhmGsSku8lYuTJfFbEFT5bFoKDVgyfarLbt+4aL2i8s2rRNr7c0o2gda+NhG4c9pV1/SueHTPDH+Q9vp3Q33BrS04iX8313D4voMr+OcrzUvhUjj6d3KZWz5I4vyzBlm3PaTZg3rwPljxvhml7jleSgX6zgIaj9WKWUVMzGc/KxH3sWJWrOSlbJOqot+bJDE7J1eHRgcnV7vwYVl+aTZpW9n2Svsv2j+UkxsadY9JBjJ5Vvrehf6WEJPXIRc6smwF+ALsvigHR1c7SgzuFLXJJG0rE2+1aRUvyy/NdM/hoe2d3G0u2Di7268GkZVfTfZS0VuQ9BVXgQrIuVdLt2Epcsd4om6x3Gk1PYWSSuB4bsSuYnkV+QIfWWQOlXTx9nQuHDd75KyT53nS2lhL2tNuCeEryPJc/YMBe+cgNad5UfeYpG1ljWUZXpS3eTXpR8xFKbel+4Q2fDm86v70la9yGHtMb72j5VyT1sSmK2UlHhEhYDv1t52WyGH0/TV9mkHnS8u4iIY2vlnIF662yo8dfC+H7ilKywWzbL1bI5XDHQhIpAUp8IygA7Gj/iD2SRlEb3IyK5gIjBc9dSpvbb/0TVqBTUw8ZhVzE6MtpHPhB0FnoZ/KXScncCko0JFiUNjUM5CFAfmQ9k/j0YaPd6INPo52tEuPf8Z2rvEu/jlTXnzuZ7P22wyyX0XJuR8/MRd8prmOb+f5KMbT010mNDBG0hvLiHBnf8ML+95WkIasUHB4QiDtTd2XmOJ72MSn1XbjSBMk4dHgI63RD29aEF9azRTWUFhiFSl+fdnRolYaPNCsiXdrS9BRm2/MbywIEvQbU+OrsFBS0E6INJFGEh0seJLKlIlnpfuqYkWswSKCySzx6IpHRgbNeOTs3FCrFLvWOYtl3G2ImAvnhGKfdRRGROaCBD0tUGJi7qV5xjlg4bVdksTeauW3ReZ+mgOoXkSIVGjjErFfslRkzkcqPbU+EBGXoKNEYGnIPKNKZnlsDuK8Mo5E5njEuUsuYrL15YgisBUSvAsblMUeq6Eo+JsClQMYgp85pEdl3NUXFDykTmUya0fa9zetKpOeQDbqkHKVb1pTUum/6Vg9nWNi9Juqld80MaRx9dSNdctvileOZO2cV/5N/xV2gjby9nW3iljvbtdwrX0mPVUuiBBxyHm+PxuvVVexIIQAUXcI5qfrbTUKdhKIknKtVsEaJUFAnYrcGVDwTwuw/IOwEhmkHypVihiVeqbpwYEBlI1pdIiVAij8T/cfkkPBe2U0XnT45T8B+Lok93LB367IUcu3+zhY1FhBCKPxar9uP8OAhXK4fuCVmjaTqjF7JJitNAtqbr9jO/lnwzxL2aWRNeDeVKT3bbvbIMZvcnXy6y35wcAkaBk0iTpDNtGfcmcLf7UCFpMsJYiDO7I+4DUzx9uOZmbNE6YmDL6JKzHZB4i0qXkKISzMp5g/5qQJbN2aGRwELO/2ZCZl4+DSan9yiXLXTczd3C0Bc7Wls8u50jVmbg6YWdKisS4gckwxd72+HitnNwulrnEz02y8hHPQVQVmXVgju35Xc1WJCNHcFZ+fg/fCW17Jtsj2Zv+cO7ARl+uVa3mJaEL0zz0cNwgQdz0FUP8Ssa/7sJ1Lie3rf+q02ggbJ/5thFylhdRUh2/pJj0ThX5Pa7xJPakm1Xm1YHAWsHLehyQ4kbVbv5KAXAAbV9U20ADMoMULRRVNB6oz2hrVbfn5IWl2wgZwhEmutXN0b4zzPGHqFXOHbaLRBNKnSSM/XlP3msVzZeUQZeUiFWU7PtCgOAtCsusIMZnVQXvJf9MBD8ih5Mf7ZZOrZNGW63bmZOey/r5qcmljCyli2dHIxFrP0dTc0lhByv6hULdDXr1sSN8KG1tCj4SsYFqm1fUDl661lOaikkksIaXUWyCcCC6t/eXIjIzF5eMibwR/2GFUg/dT+1LQd6WpRV65onOlZ8rWDVI+3zjw/9fmqa9f95c9pkCyelSK+zaMTaGjLc4ZPd+n4JMsRAj+AMoAfa5r8MRAV9uJezH3Ta7F3FFnRW6Kns3Erz03ttTVsrMUETDe0NURBD7OwHggoP933QbKebjVF4MK/4sJ+6Iq8ekKAzCHwnfab5SNnfe15LmK2EulSJlr9NQTbvhK++kTSOW19Q4CPhduk6cZsqbIkwxBjDNMRpLDKVpeU5+2BGd3+AJjwtyVHSDmBtIxDCqGxAJy3pmsLDKZxxLpBoX/pgI31YEpphXiTUeSwlsdT/q6KTtOeuZQ6UAhYyn2Yn5Rlak8tj5BwOfMfjAHnd3YZJLTCQo2LkQUAVy2XIaTjTwB+6HYs6h7jggSpIq5wwGebZpsFBXNay8udCFQWlwIxYcnoAjt72t/LYXr25TvXIYhH5Q7Q0z3M7i5I7rvyeIcem3UVvk5oX6Nqk+KxF1YM3SpzqtZC/XNqb2cGgfNVAFcJqh6qwUU1pe2Mg0hyzyyT381sti+2elEQxiEQdhGhHU6l/Xfwq+9uF9mT1wXziV60omCgv2sF3hBXpmknKOc+Sau+bOiLVx9Q+q692NBApWHVnvSyTQPlTyhUB35WLezOxFEu6lndtuHgoaUDBQwcL+d3sHHv3q9SoihO0MeDn9/dnz6ZJaBG4wpLD4xqi4qSYQNhMX9hLgKts//hhESouqjCCkET1F7bELY9WKbGhO0SY3NWcs9Y7TxnqV5xF+b7ljfbhux0Tr3CnT+7AIMUw6hKcU/Et13PPouqt8rCX3U8v8xWj3E5pBA8V/b6J1wKE13t1NiK38VEbNBktvY571aNpvRERsB9uXHeSHofjG8NKwdkUpGP9VEAivHwspGC76/HbaGJSjY5/i/S5loiqnUTvUCXKn178zu7WfQq5MUM/3y/YwqdeWQFsbDuX1kCXRJfoOdsp3TR0xNSbfKYVPXtmd5/NADmnCBLq6pRT+gdmVrea37r0q4Au0I9QcRPTCvdl5COrWqOm0yITF9srpqrpSQi126g/W+s8TpHctRSR9PTEgbV7kr3sucX12eXwbctRU6+y8PeSpBleV6rXJxtpdHu7ig0uPXkQta3t7FGaWZcsVf/qlCwBWeS0UKT+ViL50XvOGl5768v6mokTrkqAjUh3alBGQioOODiYm9/b29iTqS2lP1SJbaKvBfU1PHVNuFTgwmE7p7u/uToZLJCBkG6ddLoYZ2drPd1ZmkF4s4jQJfVSm4TARkYigxgZxr4l1YARevCji4O6EEZOKfQo8Mn4zwIkAvCUnzyXYpxg0B1FvdQTlOLwh/6XsK4mEYOthDQQmoyWfskuWTFloCXNubxCzAL5SeTwcsWC6LCx0MrbR017h8b/r53i69DTZq8pPHu3oyROSRF+/oj2zWPP4fRuWdYP797K3HmnoRXnbIsaL8++62AjDXNR/uL4tjgphWWW/3/yx61zNC+d7jV742tH14KZk3jGqz4O2G0LlTUlqU1Hq6Wq9v2wvt5Qx5bebwkJ5v5g4dp/7GWP8KbDN1H6DsfyV0vZw+zdhi9OsrDH2aoYALS4iytjB2nby2MLeM58YjaQaSzCSWJaGd11imEJY+yrJ8aGcbSwWz1GuS/sTSi1m2QSzzIcsaRzvdFtDdK32bvNv0nXttn1J9N4uo6UXUj+6LPktZJ1nwCkRCO7qWO4RmPLans1jHBO7rpZSVduq1VHWUb38b6dvUFI8NSnTVtQ9Q3NsI3Ev0SUoX98R9OGRqxv9Cq41rV1jaYjitfCPakbQpJKONsl5TVGgcqRHTS0naO7KIqt5E06elTqm83sHb/JpoLV0P0LZKJY1+kjuSok9KH4GyO566W/077CV1g6IhxIjhZsi4HZ69raYtBuR/Zd2c5KJwHUlUHUm95hu1WozadKLaxoiU79Yjua3ewzxwQgVu85kKnni29Oz3mGI6xOUgqn7rObKXXlQexgD4bQaztEVNypPq4BaIIgdjapZLXU3eWzdssPd/dyuligP0uvOSbx7aCrA8VzROQkUX4iZ0J2X0vDOHKvY7wE5UXeVaDZWhUweVV3ptR7ft3FwUD7EVPB4V31VNr97z+CDvQ+B6lrImhbeF2FAWj4vt2lMa0NMe5WJzvW7Jqobm3eetEqqOPGekLapzNeve5JA0RpeDB/UHt/uUG5R3VZSUHvTvpChLKw1Xv02JfgNYlRLkZSqKkqasAGBQ2pRXdImGJUXw16NuVa0jp8b7M93qceR+qlQU7Bb+BE9BpgLckXr1M/BpP7jlLyC3gh9t/d8Rthv+ImQ/yOWmwZyWI9TYbjIit0peGmti2NVl/GxQRxclvqkBUwHlrqdJrSJ7wJhvQf+BAHsA8DM+VtZbZG5ey5D79DmvKB8VjBlyhmHUjzn6J95elryqYFgs5h4eIDQPJY8xNrC2Udwydc7uJvEUY5hhw1HcGEBRBziPfuSmyfeRYxQO2j02j2A/p11baPpPqf239P7G0un0a4RBa7WZa6O89daoddeIgz5GrEYjth/ErdOZv5NyWy9ia/iC+6vYdohZD1n9ynaOVb42ql+KuWUR8y3djCef76XOCRTbJ8lzMf0ErlfDAdNHdsOeFSmhYWa/pg9sWOx1y04BK2xfBgUpvbx1tK7kG5fZ7Fkv5iti6D/PIiulzu0rV7KcMZZ6DjGfdyJNirT9mFsHXFxb5LRfsJ6zrMfq+yP9luw+gFsgb9pLniKok8SlR833vp6Wxn1qwn1BY2X9A9/eUQRM/SVDOGuPwmq6RU3vBdbaufc0m5vq3gGBKlCgRz1vTN/ucWj4wnc9hMc+rOYMxeOoYgWvbGWWaZfVDlk8y08KjYQFdnG9L5RGm2Yew6xRNuwgZgwirD7po8xaZ8vIS4yFtV72yOVq7zPnYjEf/v8IM0xeNyraQhXJrn3qLYVcAOkS8dbQaravN3jZu8dQ0KqqjRS2Sk5FUcuHWi3d5qif9bR9XBSl9h2Hzc2Uiz5J7+eSp6MTqFZksYXymFVYKdXsKxeUxd2u/zrGtoP2UBttv9hmHzTNulen0Wb1zZ6tvKYa1BVJJ5d4f2rs13Sl6K3px/rWBlq3gC/LdYS79U9g3oN/gUC9bR0eUCAI2AgAc8ULAbCYmDcfVAFfiDl8E+ge39GI+aF7AodPwSYpawjMUNF80Lt68gVxbpBWt7t6B595GKR3A+KSgSdYOTxFFfMMrVKexYbnBRxiO5zjklFrIMB85c8TBOVvnsIxhwhTt7h2FjYxSWTyojIpZxjnIXIhhW3oCbt9B1LefcM/DAU5BWWDLj4dFS/KXAwWGoThHdLC6GQxUN7mCZHxRWRAWk46KBErrVTOIStnGcHjUx+lADnYnOeJFbOfJTkqIZBnmbmgKq0iLZsGzmypFOaONJQyOV+daXLDHlpZs02FeGuhmq6khWsrlL54JGIFz4wZ8qLgrwB47wtfyeS4EYIp6w0zNVEfLuvMTA4GbCdHGhTmKzHDd6AiW1Tcmw3samYlXGNbmYmOymaQww8mXWXO3G4YTXk8T8l5ObKcjehz4ZZBgJWlZ9mZKcsdFeR9aEi5pLd7sveY9uTWDEIXk8EkTVaNLP8Fs0ronlOBX1iDH7zMVKD8fNMmYRZK1tufwr9DhxIGDJbcz75hsYNu7kMeUe2JSiv+/rzJXrURYIl7zKrCESssD49FTniUbthsn48+aLfdT845o57BNKukuuA7Z513WauLLnnK6LorrtovzRur3XLDTemee2mxTBmmy5bFZKscM82QK0+BfIWKPFNslhKzzTVHo23KlJpnvhdeafoIDWMd1+tfnYKdg7MfQ+XmQfhoDBaHJxBJfPwCHX1xKSQsIiomLiEpJS0jK9fVbaigqKSsoqpGVtfQ1CrK/lhEj6JPP2GgvQ0bET56xozHlnaZNGXajFlz5u/T98dfr7zOgSMnWvKOG8G1z3xeMLz58IXlx1+AQEGCmypEKBx8h94UJlyESFGie+y5XXueOrBjvxtixIoTjyBBIimizE0pUqkRrZ+IJANZZjVlyZazGZevgAzfN4lyFSpVqVajVp16DYSPDYJHZOxz77wRoxakmUXWbbE27c24hVaHTl269ejVp9+AQUOGjRg1ZtyESVRTaKbNlNstdLfNmjNvgRbd9w0rVq1Zt+Guezbdt2XbAw898phucl+VwvfMd1Wr8p9WxWq1K1CqrPc++OgTHeVkk5uPQbfH6zM5AFGSFVXTjfCmmJb99R8YhPRu3sXNw4vGYCnohQTiEX38AoISCX/JRsXEJSSlpGn5CQneLcONCp6QNpyQcNx6PABEmGRT1GYeFTugbZeKJS+WEaoDSnZurSFod3O9wWgyW+jupdKkv0qT6DiDcWkWK1GqjJozJcYXJc2Ha900DlHE+3Njxk2YRDWFZtqMW+g+f7qfc/yci0+Wxt4RBFjS2yQYvVHba6TtmT0MT2CGWmu3B7h0NxsJz34tgTeuVhfa2bGiBWe1qnCerixYGhQz8mJLLC9hSVheaf1fDjm+gYbx2iDhhmoVXko7ufdBBCEHX1lJ/+vVtUB5J7dudxqtPkEi61uevxXMuU8WbhBVwVXehdvSCy0Cb5PYreziuXWQS7yf5m4/cp5fvasw5/sGE5t15IuAI7+gAZi/EfAAIjUE4TLExzTWuhvfYhNW8JQtHyfRxZqRN0y8Vn1QMPDn4uuJS3keO3mSxJ5Fj/IlkGcjz+vPbnrv/v0ijUJMTV16Knhr1CgH34hRFbyHlPp/vfp+BJbUycg65iY/8HOWR4tdwz/qrUcSyDFBPJZWAnM8bgZXRrvm8b+rIpB80XGyg5cqHr+b89HXp06+lcsrq905U9So/fZaojghbITFohKSPezfZ5ZnpNAzJGS0KVdYmI3oNc42pt3+IhDFwnAKQUpnke7xghOjpMHPSoxUEgQlViMkGb5xPJBAtEADR978daOC3UPz+0iZ3Y/lb/Zo5uXsl3c7X6Sqw5PNxfESfnOX/w9FRMGlYliAEIygGE6hEpIWocKGAcQmqMHQIzkAQTE8NICnAgAhGEExnPJ0vQo9hQWlT/tAygC9GYcR/YxsqppEj6QAEIIRFMMp1HsxlTEpNHHPrSkN0TsLump727KmLMWwCkWClG+VOoVcyR3XhyU7HKVJZb2h0vqYQg2IflGwiBjLaSorzh+reFQqdTMsCZsAQjCGE5KxSzoadcLA4pEms9omODzkxLDR2MCJGFggBCMohkvpGeJ4HMsMOB5t5D5wQwMbXTrxd83uiEZ/M+J45t4iSDp6M/QmyGgRWjHyjyAcDr+24qsVHF8uAS/f2sLld2UOfYA7DNjChs1d32q+6yvoGzwbPYBQL05R3KXh23B5Bv2+p6bHFC43+P84NW4xncptt3AzzpuvXgxmSltF/7O4mo+wKtKeRhWj6TUUZ+z10CDBLZrIfpmZ5dV85JSjJ8XtrbLKjfAsXYA2P6dpVSlbwGbajXkuWjhyuFo4TrNKxVsiv7q0LbsIV/68zaUw71X59WXD5jnGZ9/PIGNaHjWNLEsDQC4XjFFIFgwCJB3T3t527K03IHYWlrvsV6U3c3HwLqfxS3JoOBFCM1GUp0bjZnGUIfGARIkqkS8OkzYRZrInSqUjcSzadAtfvW5T8KozAYu2LVH+0IXgc/FDcZc8IAgdAkHeUIKLGlBOpeSbmRiW+qc9coGyIpCZZVkSOyCCstC0wWqVbY0pFfUYVD3f7wTQHgAHpsBBAEBZBODgEQhlQ9M02rp3srA5pxUvYzSOoIlKTVvxlCFQdXmtrIU6M23TVHXnxpybFR2q0n0oGtxUtrZLDQrx9VX8xWL2MQ1TqQ/dLnEbObO+tMox40BUNWblCpOi7bKmbV0AFHbZirNFCzOtBwGZTd32dTB53RcxFFjyCLV2PEsIu915+ZmaNkSyxlHXLzOkKfTNxHHI38JVhtawdFurteI9E7eSVO9nK4gSUgx3msEz1qCOpAhB0ZjbF6w5z7RVvThX0nYhtKQon2eZu1hmrcOB8RrPzrLotXhZc9RU2dTMaVVWSycJnKNhUUqOPNeC2PX6ployg2P53yvWtdRW18JNkgT08wtzVXM2OBXqyg9VnhwPGOw07JshDKrapPfl/JZ9U1UQv8muyogzfjq3zcXfBk5dUaandemo1Lpu+gfxRS0quGhm0MTixgxyGUTXdZZIb8fSeJ5iIbyL6xxlDU1z1Ondoq5WK/TiBmGFViZDOT9TXHjq9J/1n/df9F/2X2XX2eLqMYT6Bda7m7tPU7tesjePu86yzG/3v77fxWK6k+sviyhq2vJhA9bGk3/X5eN/AAAA")
    format("woff2");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
`,BV="BaseSans-Regular";function Zet(){if(document.head.querySelector(`style[base-sdk-font="${BV}"]`))return;const e=document.createElement("style");e.setAttribute("base-sdk-font",BV),e.textContent=Ket,document.head.appendChild(e)}var Dk,Cr,Woe,tw,zV,qoe,b7,DM,v7,E7,LC={},Foe=[],Get=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,UM=Array.isArray;function Yf(t,e){for(var n in e)t[n]=e[n];return t}function Hoe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tr(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Dk.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return uS(t,o,r,i,null)}function uS(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Woe,__i:-1,__u:0};return i==null&&Cr.vnode!=null&&Cr.vnode(s),s}function Uk(t){return t.children}function dS(t,e){this.props=t,this.context=e}function cv(t,e){if(e==null)return t.__?cv(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?cv(t):null}function Voe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Voe(t)}}function WV(t){(!t.__d&&(t.__d=!0)&&tw.push(t)&&!Hx.__r++||zV!==Cr.debounceRendering)&&((zV=Cr.debounceRendering)||qoe)(Hx)}function Hx(){var t,e,n,r,i,s,o,a;for(tw.sort(b7);t=tw.shift();)t.__d&&(e=tw.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=Yf({},i)).__v=i.__v+1,Cr.vnode&&Cr.vnode(r),MM(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??cv(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,Goe(o,r,a),r.__e!=s&&Voe(r)),tw.length>e&&tw.sort(b7));Hx.__r=0}function Koe(t,e,n,r,i,s,o,a,c,l,u){var d,h,p,f,g,m=r&&r.__k||Foe,b=e.length;for(n.__d=c,Yet(n,e,m),c=n.__d,d=0;d<b;d++)(p=n.__k[d])!=null&&(h=p.__i===-1?LC:m[p.__i]||LC,p.__i=d,MM(t,p,h,i,s,o,a,c,l,u),f=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&LM(h.ref,null,p),u.push(p.ref,p.__c||f,p)),g==null&&f!=null&&(g=f),65536&p.__u||h.__k===p.__k?c=Zoe(p,c,t):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:f&&(c=f.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function Yet(t,e,n){var r,i,s,o,a,c=e.length,l=n.length,u=l,d=0;for(t.__k=[],r=0;r<c;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=r+d,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?uS(null,i,null,null,null):UM(i)?uS(Uk,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?uS(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=Jet(i,n,o,u))!==-1&&(u--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?d--:a==o+1?d++:(a>o?d--:d++,i.__u|=65536))):i=t.__k[r]=null;if(u)for(r=0;r<l;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=cv(s)),Yoe(s,s))}function Zoe(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Zoe(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=cv(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Jet(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type&&(131072&c.__u)==0)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return a;a++}}return-1}function qV(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Get.test(e)?n:n+"px"}function Q5(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||qV(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||qV(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=DM,t.addEventListener(e,s?E7:v7,s)):t.removeEventListener(e,s?E7:v7,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function FV(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=DM++;else if(e.t<n.u)return;return n(Cr.event?Cr.event(e):e)}}}function MM(t,e,n,r,i,s,o,a,c,l){var u,d,h,p,f,g,m,b,y,v,w,C,I,k,P,S,N=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=e.__e=n.__e]),(u=Cr.__b)&&u(e);e:if(typeof N=="function")try{if(b=e.props,y="prototype"in N&&N.prototype.render,v=(u=N.contextType)&&r[u.__c],w=u?v?v.props.value:u.__:r,n.__c?m=(d=e.__c=n.__c).__=d.__E:(y?e.__c=d=new N(b,w):(e.__c=d=new dS(b,w),d.constructor=N,d.render=Qet),v&&v.sub(d),d.props=b,d.state||(d.state={}),d.context=w,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),y&&d.__s==null&&(d.__s=d.state),y&&N.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Yf({},d.__s)),Yf(d.__s,N.getDerivedStateFromProps(b,d.__s))),p=d.props,f=d.state,d.__v=e,h)y&&N.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),y&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(y&&N.getDerivedStateFromProps==null&&b!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,w),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,w)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=b,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(R){R&&(R.__=e)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,w),y&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,f,g)})}if(d.context=w,d.props=b,d.__P=t,d.__e=!1,I=Cr.__r,k=0,y){for(d.state=d.__s,d.__d=!1,I&&I(e),u=d.render(d.props,d.state,d.context),P=0;P<d._sb.length;P++)d.__h.push(d._sb[P]);d._sb=[]}else do d.__d=!1,I&&I(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++k<25);d.state=d.__s,d.getChildContext!=null&&(r=Yf(Yf({},r),d.getChildContext())),y&&!h&&d.getSnapshotBeforeUpdate!=null&&(g=d.getSnapshotBeforeUpdate(p,f)),Koe(t,UM(S=u!=null&&u.type===Uk&&u.key==null?u.props.children:u)?S:[S],e,n,r,i,s,o,a,c,l),d.base=e.__e,e.__u&=-161,d.__h.length&&o.push(d),m&&(d.__E=d.__=null)}catch(R){if(e.__v=null,c||s!=null){for(e.__u|=c?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;Cr.__e(R,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Xet(n.__e,e,n,r,i,s,o,c,l);(u=Cr.diffed)&&u(e)}function Goe(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)LM(n[r],n[++r],n[++r]);Cr.__c&&Cr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Cr.__e(s,i.__v)}})}function Xet(t,e,n,r,i,s,o,a,c){var l,u,d,h,p,f,g,m=n.props,b=e.props,y=e.type;if(y==="svg"?i="http://www.w3.org/2000/svg":y==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((p=s[l])&&"setAttribute"in p==!!y&&(y?p.localName===y:p.nodeType===3)){t=p,s[l]=null;break}}if(t==null){if(y===null)return document.createTextNode(b);t=document.createElementNS(i,y,b.is&&b),a&&(Cr.__m&&Cr.__m(e,s),a=!1),s=null}if(y===null)m===b||a&&t.data===b||(t.data=b);else{if(s=s&&Dk.call(t.childNodes),m=n.props||LC,!a&&s!=null)for(m={},l=0;l<t.attributes.length;l++)m[(p=t.attributes[l]).name]=p.value;for(l in m)if(p=m[l],l!="children"){if(l=="dangerouslySetInnerHTML")d=p;else if(!(l in b)){if(l=="value"&&"defaultValue"in b||l=="checked"&&"defaultChecked"in b)continue;Q5(t,l,null,p,i)}}for(l in b)p=b[l],l=="children"?h=p:l=="dangerouslySetInnerHTML"?u=p:l=="value"?f=p:l=="checked"?g=p:a&&typeof p!="function"||m[l]===p||Q5(t,l,p,m[l],i);if(u)a||d&&(u.__html===d.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),Koe(t,UM(h)?h:[h],e,n,r,y==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&cv(n,0),a,c),s!=null)for(l=s.length;l--;)Hoe(s[l]);a||(l="value",y==="progress"&&f==null?t.removeAttribute("value"):f!==void 0&&(f!==t[l]||y==="progress"&&!f||y==="option"&&f!==m[l])&&Q5(t,l,f,m[l],i),l="checked",g!==void 0&&g!==t[l]&&Q5(t,l,g,m[l],i))}return t}function LM(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Cr.__e(i,n)}}function Yoe(t,e,n){var r,i;if(Cr.unmount&&Cr.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||LM(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Cr.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Yoe(r[i],e,n||typeof t.type!="function");n||Hoe(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Qet(t,e,n){return this.constructor(t,n)}function jC(t,e,n){var r,i,s,o;Cr.__&&Cr.__(t,e),i=(r=!1)?null:e.__k,s=[],o=[],MM(e,t=e.__k=tr(Uk,null,[t]),i||LC,LC,e.namespaceURI,i?null:e.firstChild?Dk.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,o),Goe(s,t,o)}Dk=Foe.slice,Cr={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Woe=0,dS.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Yf({},this.state),typeof t=="function"&&(t=t(Yf({},n),this.props)),t&&Yf(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),WV(this))},dS.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),WV(this))},dS.prototype.render=Uk,tw=[],qoe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b7=function(t,e){return t.__v.__b-e.__v.__b},Hx.__r=0,DM=0,v7=FV(!1),E7=FV(!0);var ett=0;function ai(t,e,n,r,i,s){e||(e={});var o,a,c=e;"ref"in e&&(o=e.ref,delete e.ref);var l={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ett,__i:-1,__u:0,__source:i,__self:s};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return Cr.vnode&&Cr.vnode(l),l}function Joe(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Joe(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ig(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Joe(t))&&(r&&(r+=" "),r+=e);return r}async function ttt(t){return ntt(t)}function ntt(t,e=4){return`${t.slice(0,2+e)}...${t.slice(-e)}`}const rtt="#FFF",itt="#0000FF",stt=({fill:t})=>ai("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ai("path",{d:"M0 2.014C0 1.58105 0 1.36457 0.0815779 1.19805C0.159686 1.03861 0.288611 0.909686 0.448049 0.831578C0.61457 0.75 0.831047 0.75 1.264 0.75H14.736C15.169 0.75 15.3854 0.75 15.552 0.831578C15.7114 0.909686 15.8403 1.03861 15.9184 1.19805C16 1.36457 16 1.58105 16 2.014V15.486C16 15.919 16 16.1354 15.9184 16.302C15.8403 16.4614 15.7114 16.5903 15.552 16.6684C15.3854 16.75 15.169 16.75 14.736 16.75H1.264C0.831047 16.75 0.61457 16.75 0.448049 16.6684C0.288611 16.5903 0.159686 16.4614 0.0815779 16.302C0 16.1354 0 15.919 0 15.486V2.014Z",fill:t==="blue"?itt:rtt})});var BC,fi,pN,HV,C7=0,Xoe=[],Ni=Cr,VV=Ni.__b,KV=Ni.__r,ZV=Ni.diffed,GV=Ni.__c,YV=Ni.unmount,JV=Ni.__;function jM(t,e){Ni.__h&&Ni.__h(fi,t,C7||e),C7=0;var n=fi.__H||(fi.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function cp(t){return C7=1,ott(eae,t)}function ott(t,e,n){var r=jM(BC++,2);if(r.t=t,!r.__c&&(r.__=[eae(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=fi,!fi.u)){var i=function(a,c,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,a,c,l);var d=!1;return u.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(d=!0)}}),!(!d&&r.__c.props===a)&&(!s||s.call(this,a,c,l))};fi.u=!0;var s=fi.shouldComponentUpdate,o=fi.componentWillUpdate;fi.componentWillUpdate=function(a,c,l){if(this.__e){var u=s;s=void 0,i(a,c,l),s=u}o&&o.call(this,a,c,l)},fi.shouldComponentUpdate=i}return r.__N||r.__}function Vx(t,e){var n=jM(BC++,3);!Ni.__s&&Qoe(n.__H,e)&&(n.__=t,n.i=e,fi.__H.__h.push(n))}function att(t,e){var n=jM(BC++,7);return Qoe(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function ctt(){for(var t;t=Xoe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(hS),t.__H.__h.forEach(_7),t.__H.__h=[]}catch(e){t.__H.__h=[],Ni.__e(e,t.__v)}}Ni.__b=function(t){fi=null,VV&&VV(t)},Ni.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),JV&&JV(t,e)},Ni.__r=function(t){KV&&KV(t),BC=0;var e=(fi=t.__c).__H;e&&(pN===fi?(e.__h=[],fi.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(hS),e.__h.forEach(_7),e.__h=[],BC=0)),pN=fi},Ni.diffed=function(t){ZV&&ZV(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Xoe.push(e)!==1&&HV===Ni.requestAnimationFrame||((HV=Ni.requestAnimationFrame)||ltt)(ctt)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),pN=fi=null},Ni.__c=function(t,e){e.some(function(n){try{n.__h.forEach(hS),n.__h=n.__h.filter(function(r){return!r.__||_7(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ni.__e(r,n.__v)}}),GV&&GV(t,e)},Ni.unmount=function(t){YV&&YV(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{hS(r)}catch(i){e=i}}),n.__H=void 0,e&&Ni.__e(e,n.__v))};var XV=typeof requestAnimationFrame=="function";function ltt(t){var e,n=function(){clearTimeout(r),XV&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);XV&&(e=requestAnimationFrame(n))}function hS(t){var e=fi,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),fi=e}function _7(t){var e=fi;t.__c=t.__(),fi=e}function Qoe(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function eae(t,e){return typeof e=="function"?e(t):e}const utt='.-base-acc-sdk-css-reset{-webkit-font-smoothing:antialiased;pointer-events:auto !important}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-container{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2147483647}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-container *{user-select:none;box-sizing:border-box}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;padding:20px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-backdrop{align-items:flex-end;justify-content:stretch;padding:0}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog{position:relative;z-index:2147483648}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog{width:100%}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04);width:380px;max-height:90vh;overflow:hidden;transform:scale(0.95);opacity:0;transition:all .2s ease-in-out}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{touch-action:pan-y;user-select:none}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:scale(0.9);opacity:0}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:translateY(100%)}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:scale(1);opacity:1}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:translateY(0)}}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{width:100%;max-width:100%;border-radius:20px 20px 0 0;box-shadow:0 -10px 25px rgba(0,0,0,.15);max-height:80vh;transform:translateY(0)}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:translateY(100%);opacity:1}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:translateY(0);opacity:1}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px 0 20px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header{padding:16px 20px 12px 20px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-icon-and-title{display:flex;align-items:center;gap:8px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-icon-and-title-title{font-family:"BaseSans-Regular",sans-serif;font-size:14px;font-weight:400;color:#5b616e}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-cblogo{width:32px;height:32px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close{display:flex;align-items:center;justify-content:center;width:32px;height:32px;cursor:pointer;border-radius:6px;transition:background-color .2s}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close:hover{background-color:#f5f7f8}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close-icon{width:14px;height:14px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close-icon{display:none}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content{padding:20px 20px 16px 20px;font-family:"BaseSans-Regular",sans-serif}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content{padding:8px 20px 12px 20px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content-title{font-size:20px;font-weight:600;line-height:28px;color:#0a0b0d;margin-bottom:10px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content-message{font-size:16px;font-weight:400;line-height:24px;color:#5b616e;margin-bottom:0}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-actions{display:flex;padding:16px 20px 20px 20px;flex-direction:column}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-actions{padding:16px 20px calc(20px + env(safe-area-inset-bottom)) 20px;gap:6px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button{font-family:"BaseSans-Regular",sans-serif;font-size:16px;font-weight:500;line-height:24px;border:none;border-radius:12px;padding:16px 24px;cursor:pointer;transition:all .2s ease-in-out;width:100%;margin:4px 0}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button:disabled{opacity:.5;cursor:not-allowed}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary{background-color:#0a0b0d;color:#fff}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary:hover:not(:disabled){background-color:#1c1e20}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary:active:not(:disabled){background-color:#2a2d31}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary{background-color:#eef0f3;color:#0a0b0d}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary:hover:not(:disabled){background-color:#e1e4e8}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary:active:not(:disabled){background-color:#d4d8dd}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-handle-bar{position:absolute;top:-16px;left:50%;transform:translateX(-50%);width:64px;height:4px;background-color:#d1d5db;border-radius:2px;opacity:0;animation:handleBarFadeIn .2s ease-in-out .2s forwards}@keyframes handleBarFadeIn{from{opacity:0}to{opacity:1}}',dtt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzIDFMMSAxM20wLTEyTDEzIDEzIiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+";function tae(){return window.innerWidth<=600&&window.innerHeight>window.innerWidth}const htt=()=>{const[t,e]=cp(!1);return Vx(()=>{const n=()=>{e(tae())};return n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),t?ai("div",{class:"-base-acc-sdk-dialog-handle-bar"}):null};class ptt{items=new Map;nextItemKey=0;root=null;constructor(){}attach(e){this.root=document.createElement("div"),this.root.className="-base-acc-sdk-dialog-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;this.items.set(n,e),this.render()}clear(){this.items.clear(),this.root&&jC(null,this.root)}render(){this.root&&jC(ai("div",{children:ai(ftt,{children:Array.from(this.items.entries()).map(([e,n])=>tr(gtt,{...n,key:e,handleClose:()=>{this.clear(),n.onClose?.()}}))})}),this.root)}}const ftt=t=>{const[e,n]=cp(0),[r,i]=cp(!1),[s,o]=cp(0),a=u=>{if(!tae())return;const d=u.touches[0];o(d.clientY),i(!0)},c=u=>{if(!r)return;const h=u.touches[0].clientY-s;h>0&&(n(h),u.preventDefault())},l=()=>{if(r)if(i(!1),e>100){const u=document.querySelector(".-base-acc-sdk-dialog-instance-header-close");u&&u.click()}else n(0)};return ai("div",{class:ig("-base-acc-sdk-dialog-container"),children:[ai("style",{children:utt}),ai("div",{class:"-base-acc-sdk-dialog-backdrop",onTouchStart:a,onTouchMove:c,onTouchEnd:l,children:ai("div",{class:"-base-acc-sdk-dialog",style:{transform:`translateY(${e}px)`,transition:r?"none":"transform 0.2s ease-out"},children:[ai(htt,{}),t.children]})})]})},gtt=({title:t,message:e,actionItems:n,handleClose:r})=>{const[i,s]=cp(!0),[o,a]=cp(!0),[c,l]=cp(null);Vx(()=>{const h=window.setTimeout(()=>{s(!1)},1);return()=>{window.clearTimeout(h)}},[]),Vx(()=>{(async()=>{const p=et.account.get().accounts?.[0];if(p){const f=await ttt(p);l(f)}a(!1)})()},[]);const u=att(()=>c?`Signed in as ${c}`:"Base Account",[c]),d=!o;return ai("div",{class:ig("-base-acc-sdk-dialog-instance",i&&"-base-acc-sdk-dialog-instance-hidden"),children:[ai("div",{class:"-base-acc-sdk-dialog-instance-header",children:[ai("div",{class:"-base-acc-sdk-dialog-instance-header-icon-and-title",children:[ai(stt,{fill:"blue"}),d&&ai("div",{class:"-base-acc-sdk-dialog-instance-header-icon-and-title-title",children:u})]}),ai("div",{class:"-base-acc-sdk-dialog-instance-header-close",onClick:r,children:ai("img",{src:dtt,class:"-base-acc-sdk-dialog-instance-header-close-icon"})})]}),ai("div",{class:"-base-acc-sdk-dialog-instance-content",children:[ai("div",{class:"-base-acc-sdk-dialog-instance-content-title",children:t}),ai("div",{class:"-base-acc-sdk-dialog-instance-content-message",children:e})]}),n&&n.length>0&&ai("div",{class:"-base-acc-sdk-dialog-instance-actions",children:n.map((h,p)=>ai("button",{class:ig("-base-acc-sdk-dialog-instance-button",h.variant==="primary"&&"-base-acc-sdk-dialog-instance-button-primary",h.variant==="secondary"&&"-base-acc-sdk-dialog-instance-button-secondary"),onClick:h.onClick,children:h.text},p))})]})};let eI=null;function BM(){if(!eI){const t=document.createElement("div");t.className="-base-acc-sdk-css-reset",document.body.appendChild(t),eI=new ptt,eI.attach(t)}return Zet(),eI}const QV=420,eK=700,mtt="{app} wants to continue in Base Account",wtt="This action requires your permission to open a new window.";function ytt(t){const e=(window.innerWidth-QV)/2+window.screenX,n=(window.innerHeight-eK)/2+window.screenY;vtt(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${QV}, height=${eK}, left=${e}, top=${n}`);return o?.focus(),o||null}const i=r();return i?Promise.resolve(i):Ett(r)}function btt(t){t&&!t.closed&&t.close()}function vtt(t){const e={sdkName:Rk,sdkVersion:Ay,origin:window.location.origin,coop:Wet()};for(const[n,r]of Object.entries(e))t.searchParams.has(n)||t.searchParams.append(n,r.toString())}function Ett(t){const e=et.config.get().metadata?.appName??"App",n=BM();return new Promise((r,i)=>{RM({dialogContext:"popup_blocked"}),n.presentItem({title:mtt.replace("{app}",e),message:wtt,onClose:()=>{Ow({dialogContext:"popup_blocked",dialogAction:"cancel"}),i(it.rpc.internal("Popup window was blocked"))},actionItems:[{text:"Try again",variant:"primary",onClick:()=>{Ow({dialogContext:"popup_blocked",dialogAction:"confirm"});const s=t();s?r(s):i(it.rpc.internal("Popup window was blocked")),n.clear()}},{text:"Cancel",variant:"secondary",onClick:()=>{Ow({dialogContext:"popup_blocked",dialogAction:"cancel"}),i(it.rpc.internal("Popup window was blocked")),n.clear()}}]})})}let Ctt=class{metadata;preference;url;popup=null;listeners=new Map;constructor({url:e=cet,metadata:n,preference:r}){this.url=new URL(e),this.metadata=n,this.preference=r}postMessage=async e=>{(await this.waitForPopupLoaded()).postMessage(e,this.url.origin)};postRequestAndWaitForResponse=async e=>{const n=this.onMessage(({requestId:r})=>r===e.id);return this.postMessage(e),await n};onMessage=async e=>new Promise((n,r)=>{const i=s=>{if(s.origin!==this.url.origin)return;const o=s.data;e(o)&&(n(o),window.removeEventListener("message",i),this.listeners.delete(i))};window.addEventListener("message",i),this.listeners.set(i,{reject:r})});disconnect=()=>{btt(this.popup),this.popup=null,this.listeners.forEach(({reject:e},n)=>{e(it.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",n)}),this.listeners.clear()};waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(Fet(),this.popup=await ytt(this.url),this.onMessage(({event:e})=>e==="PopupUnload").then(()=>{this.disconnect(),Vet()}).catch(()=>{}),this.onMessage(({event:e})=>e==="PopupLoaded").then(e=>{this.postMessage({requestId:e.id,data:{version:Ay,sdkName:Rk,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw it.rpc.internal();return Het(),this.popup}))};function _tt(t){const e=Uet(Stt(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",Ay),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),{...e,docUrl:n.href}}function Itt(t){return t.errorMessage!==void 0}function Stt(t){if(typeof t=="string")return{message:t,code:ui.rpc.internal};if(Itt(t)){const e=t.errorMessage,n=t.errorCode??(e.match(/(denied|rejected)/i)?ui.provider.userRejectedRequest:void 0);return{...t,message:e,code:n,data:{method:t.method}}}return t}let xtt=class extends $A{};const Att=({method:t,correlationId:e})=>{Jr("provider.request.started",{action:Mr.unknown,componentType:Ur.unknown,method:t,signerType:"base-account",correlationId:e},Lr.high)},ktt=({method:t,correlationId:e,errorMessage:n})=>{Jr("provider.request.error",{action:Mr.error,componentType:Ur.unknown,method:t,signerType:"base-account",correlationId:e,errorMessage:n},Lr.high)},$tt=({method:t,correlationId:e})=>{Jr("provider.request.responded",{action:Mr.unknown,componentType:Ur.unknown,method:t,signerType:"base-account",correlationId:e},Lr.high)},Wb=t=>"message"in t&&typeof t.message=="string"?t.message:"";function Ttt(){return t=>t}const Kx=Ttt();function fN(t){return Math.floor(t)}const Ntt=/^[0-9]*$/,nae=/^[a-f0-9]*$/;function Ott(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Ptt(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function rae(t){return Kx(`0x${BigInt(t).toString(16)}`)}function Rtt(t){return t.startsWith("0x")||t.startsWith("0X")}function iae(t){return Rtt(t)?t.slice(2):t}function Dtt(t){if(typeof t!="string")return!1;const e=iae(t).toLowerCase();return nae.test(e)}function I7(t,e=!1){if(typeof t=="string"){const n=iae(t).toLowerCase();if(nae.test(n))return Kx(e?`0x${n}`:n)}throw it.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function Utt(t,e=!1){let n=I7(t,!1);return n.length%2===1&&(n=Kx(`0${n}`)),e?Kx(`0x${n}`):n}function Mtt(t){if(typeof t=="number"&&Number.isInteger(t))return fN(t);if(typeof t=="string"){if(Ntt.test(t))return fN(Number(t));if(Dtt(t))return fN(Number(BigInt(Utt(t,!0))))}throw it.rpc.invalidParams(`Not an integer: ${String(t)}`)}const Ltt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_signer.handshake.started",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},jtt=({method:t,correlationId:e,errorMessage:n})=>{const r=et.subAccountsConfig.get();Jr("scw_signer.handshake.error",{action:Mr.error,componentType:Ur.unknown,method:t,correlationId:e,errorMessage:n,subAccountCreation:r?.creation,subAccountDefaultAccount:r?.defaultAccount,subAccountFunding:r?.funding},Lr.high)},Btt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_signer.handshake.completed",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},ztt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_signer.request.started",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},Wtt=({method:t,correlationId:e,errorMessage:n})=>{const r=et.subAccountsConfig.get();Jr("scw_signer.request.error",{action:Mr.error,componentType:Ur.unknown,method:t,correlationId:e,errorMessage:n,subAccountCreation:r?.creation,subAccountDefaultAccount:r?.defaultAccount,subAccountFunding:r?.funding},Lr.high)},qtt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_signer.request.completed",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},Ftt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_sub_account.request.started",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},Htt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_sub_account.request.completed",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},Vtt=({method:t,correlationId:e,errorMessage:n})=>{const r=et.subAccountsConfig.get();Jr("scw_sub_account.request.error",{action:Mr.error,componentType:Ur.unknown,method:t,correlationId:e,errorMessage:n,subAccountCreation:r?.creation,subAccountDefaultAccount:r?.defaultAccount,subAccountFunding:r?.funding},Lr.high)},Ktt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_sub_account.add_owner.started",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},Ztt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_sub_account.add_owner.completed",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},Gtt=({method:t,correlationId:e,errorMessage:n})=>{const r=et.subAccountsConfig.get();Jr("scw_sub_account.add_owner.error",{action:Mr.error,componentType:Ur.unknown,method:t,correlationId:e,errorMessage:n,subAccountCreation:r?.creation,subAccountDefaultAccount:r?.defaultAccount,subAccountFunding:r?.funding},Lr.high)},Ytt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_sub_account.insufficient_balance.error_handling.started",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},Jtt=({method:t,correlationId:e})=>{const n=et.subAccountsConfig.get();Jr("scw_sub_account.insufficient_balance.error_handling.completed",{action:Mr.unknown,componentType:Ur.unknown,method:t,correlationId:e,subAccountCreation:n?.creation,subAccountDefaultAccount:n?.defaultAccount,subAccountFunding:n?.funding},Lr.high)},Xtt=({method:t,correlationId:e,errorMessage:n})=>{const r=et.subAccountsConfig.get();Jr("scw_sub_account.insufficient_balance.error_handling.error",{action:Mr.error,componentType:Ur.unknown,method:t,correlationId:e,errorMessage:n,subAccountCreation:r?.creation,subAccountDefaultAccount:r?.defaultAccount,subAccountFunding:r?.funding},Lr.high)},sae=ky(()=>({})),Qtt=[Ww,yee,DE,UE,ME,XD,bee,LE],ent=[jE,BE,zE],tnt=[...Qtt,...ent].reduce((t,e)=>(t.set(e.id,e),t),new Map);function zM(t){return tnt.get(t)}function oae(t){const e=zM(t);if(e?.rpcUrls?.default?.http?.[0])return e.rpcUrls.default.http[0]}function nnt(t,e,n){const r=n?.viemChain,i=n?.nativeCurrency,s=i?.name??r?.name??"",o=i?.symbol??r?.nativeCurrency?.symbol??"",a=i?.decimal??r?.nativeCurrency?.decimals??18;return OA({id:t,name:s,nativeCurrency:{name:s,symbol:o,decimals:a},rpcUrls:{default:{http:[e]}}})}function tK(t){t.forEach(e=>{let n=e.rpcUrl;if(n||(n=oae(e.id)),!n)return;const r=zM(e.id),i=aae({chainId:e.id,rpcUrl:n,nativeCurrency:e.nativeCurrency,viemChain:r});cae(e.id,i)})}function aae(t){const{chainId:e,rpcUrl:n,nativeCurrency:r,viemChain:i}=t,s=nnt(e,n,{viemChain:i,nativeCurrency:r}),o=vee({chain:s,transport:mo(n)}),a=Eee({client:o,transport:mo(n)});return{client:o,bundlerClient:a}}function rnt(t){const e=oae(t),n=zM(t);if(e)return aae({chainId:t,rpcUrl:e,viemChain:n})}function cae(t,e){sae.setState(n=>({...n,[t]:{client:e.client,bundlerClient:e.bundlerClient}}))}function lae(t){const e=sae.getState()[t]?.client;if(e)return e;const n=rnt(t);if(n)return cae(t,n),n.client}const tI=ky(()=>({correlationIds:new Map})),Bh={get:t=>tI.getState().correlationIds.get(t),set:(t,e)=>{tI.setState(n=>{const r=new Map(n.correlationIds);return r.set(t,e),{correlationIds:r}})},delete:t=>{tI.setState(e=>{const n=new Map(e.correlationIds);return n.delete(t),{correlationIds:n}})},clear:()=>{tI.setState({correlationIds:new Map})}};function nI(t){if(typeof t!="object"||t===null)throw it.rpc.internal("sub account info is not an object");if(!("address"in t))throw it.rpc.internal("sub account is invalid");if("address"in t&&typeof t.address=="string"&&!gg(t.address))throw it.rpc.internal("sub account address is invalid");if("factory"in t&&typeof t.factory=="string"&&!gg(t.factory))throw it.rpc.internal("sub account factory address is invalid");if("factoryData"in t&&typeof t.factoryData=="string"&&!oc(t.factoryData))throw it.rpc.internal("sub account factory data is invalid")}async function int(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function snt(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function ont(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function ant(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function uae(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function dae(t,e){const n=uae(t),r=await crypto.subtle.exportKey(n,e);return Ott(new Uint8Array(r))}async function hae(t,e){const n=uae(t),r=Ptt(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function cnt(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return{...s.code?{code:s.code}:{},message:s.message}});return ont(e,n)}async function lnt(t,e){return JSON.parse(await ant(e,t))}async function Y3(t,e){const n={...t,jsonrpc:"2.0",id:crypto.randomUUID()},r=await fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Ay,"X-Cbw-Sdk-Platform":Rk}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function unt(t){if(!t||typeof t!="object"||Array.isArray(t))throw it.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw it.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw it.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw it.provider.unsupportedMethod()}}const pae={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},fae={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},gae={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},dnt=ay(pae.p),hnt=ay(fae.p),pnt=ay(gae.p),fnt=OU({...pae,Fp:dnt,lowS:!1},Gv);OU({...fae,Fp:hnt,lowS:!1},Ste);OU({...gae,Fp:pnt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Ite);const NLt=fnt;function gnt(t,e){const n=typeof indexedDB<"u"?j_(t,e):void 0;return{getItem:async r=>{const i=await aC(r,n);return i||null},removeItem:async r=>YA(r,n),setItem:async(r,i)=>GA(r,i,n)}}const mnt="base-acc-sdk",wnt="keys",WM="activeId",lv=gnt(mnt,wnt);async function ynt(){const t=await Kee({extractable:!1}),e=Kv(Zv(t.publicKey),1);return await lv.setItem(e,t),await lv.setItem(WM,e),t}async function bnt(){const t=await lv.getItem(WM);if(!t)return null;const e=await lv.getItem(t);return e||null}async function vnt(){const t=await bnt();if(!t){const e=await ynt(),n=Kv(Zv(e.publicKey),1);return await lv.setItem(n,e),await lv.setItem(WM,n),e}return t}async function Ent(){const t=await vnt(),e=Kv(Zv(t.publicKey),1),n=async r=>{const{payload:i,metadata:s}=Fee({challenge:r,origin:"https://keys.coinbase.com",userVerification:"preferred"}),o=await Hee({payload:i,privateKey:t.privateKey});return{signature:Vee(o),raw:{},webauthn:s}};return{id:e,publicKey:e,async sign({hash:r}){return n(r)},async signMessage({message:r}){return n(Vv(r))},async signTypedData(r){return n(Fg(r))},type:"webAuthn"}}async function Zx(){return{account:await Ent()}}const nK={storageKey:"ownPrivateKey",keyType:"private"},rK={storageKey:"ownPublicKey",keyType:"public"},iK={storageKey:"peerPublicKey",keyType:"public"};let Cnt=class{ownPrivateKey=null;ownPublicKey=null;peerPublicKey=null;sharedSecret=null;async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(iK,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,et.keys.clear()}async generateKeyPair(){const e=await int();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(nK,e.privateKey),await this.storeKey(rK,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(nK)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(rK)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(iK)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await snt(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=et.keys.get(e.storageKey);return n?hae(e.keyType,n):null}async storeKey(e,n){const r=await dae(e.keyType,n);et.keys.set(e.storageKey,r)}};function J3(t,e){if(!(typeof t!="object"||t===null))return e.split(/[.[\]]+/).filter(Boolean).reduce((n,r)=>{if(typeof n=="object"&&n!==null)return n[r]},t)}function sK(t){if(!Array.isArray(t.params))return null;switch(t.method){case"personal_sign":return t.params[1];case"eth_signTypedData_v4":return t.params[0];case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":return t.params[0]?.from;default:return null}}function _nt(t,e){if(!Array.isArray(t.params))throw it.rpc.invalidParams();const n=[...t.params];switch(t.method){case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":n[0].from=e;break;case"eth_signTypedData_v4":n[0]=e;break;case"personal_sign":n[1]=e;break}return{...t,params:n}}function oK(t){if(!t||!Array.isArray(t)||!t[0]?.chainId||typeof t[0].chainId!="string"&&typeof t[0].chainId!="number")throw it.rpc.invalidParams()}function Int(t){if(!t||!Array.isArray(t)||t.length!==1&&t.length!==2||typeof t[0]!="string"||!gg(t[0]))throw it.rpc.invalidParams();if(t.length===2){if(!Array.isArray(t[1]))throw it.rpc.invalidParams();for(const e of t[1])if(typeof e!="string"||!e.startsWith("0x"))throw it.rpc.invalidParams()}}function zC(t,e){const n={...t};if(e&&t.method.startsWith("wallet_")){let r=J3(n,"params.0.capabilities");if(typeof r>"u"&&(r={}),typeof r!="object")throw it.rpc.invalidParams();r={...e,...r},n.params&&Array.isArray(n.params)&&(n.params[0]={...n.params[0],capabilities:r})}return n}async function S7(){const t=et.subAccountsConfig.get()??{},e={};if(t.creation==="on-connect"){const{account:n}=t.toOwnerAccount?await t.toOwnerAccount():await Zx();if(!n)throw it.provider.unauthorized("No owner account found");e.addSubAccount={account:{type:"create",keys:[{type:n.address?"address":"webauthn-p256",publicKey:n.address||n.publicKey}]}}}et.subAccountsConfig.set({...t,capabilities:e})}function Snt(t){if(!(t.method==="coinbase_fetchPermissions"&&t.params===void 0)){if(t.method==="coinbase_fetchPermissions"&&Array.isArray(t.params)&&t.params.length===1&&typeof t.params[0]=="object"){if(typeof t.params[0].account!="string"||!t.params[0].chainId.startsWith("0x"))throw it.rpc.invalidParams("FetchPermissions - Invalid params: params[0].account must be a hex string");if(typeof t.params[0].chainId!="string"||!t.params[0].chainId.startsWith("0x"))throw it.rpc.invalidParams("FetchPermissions - Invalid params: params[0].chainId must be a hex string");if(typeof t.params[0].spender!="string"||!t.params[0].spender.startsWith("0x"))throw it.rpc.invalidParams("FetchPermissions - Invalid params: params[0].spender must be a hex string");return}throw it.rpc.invalidParams()}}function xnt(t){if(t.params!==void 0)return t;const e=et.getState().account.accounts?.[0],n=et.getState().account.chain?.id,r=et.getState().subAccount?.address;if(!e||!r||!n)throw it.rpc.invalidParams("FetchPermissions - one or more of account, sub account, or chain id is missing, connect to sub account via wallet_connect first");return{method:"coinbase_fetchPermissions",params:[{account:e,chainId:rr(n),spender:r}]}}async function mae({client:t,id:e}){const n=await Qh(t,{id:e});if(n.status==="success")return n.receipts?.[0].transactionHash;throw it.rpc.internal("failed to send transaction")}function wae({calls:t,from:e,chainId:n,capabilities:r}){const i=Roe.get().paymasterUrls;let s={method:"wallet_sendCalls",params:[{version:"1.0",calls:t,chainId:rr(n),from:e,atomicRequired:!0,capabilities:r}]};return i?.[n]&&(s=zC(s,{paymasterService:{url:i?.[n]}})),s}async function Ant(){const t=BM();return await new Promise((n,r)=>{RM({dialogContext:"sub_account_insufficient_balance"}),t.presentItem({title:"Insufficient spend permission",message:"Your spend permission's remaining balance cannot cover this transaction. Please use your primary account to complete this transaction.",onClose:()=>{zoe({dialogContext:"sub_account_insufficient_balance"}),t.clear(),r(new Error("User cancelled funding"))},actionItems:[{text:"Use primary account",variant:"primary",onClick:()=>{Ow({dialogContext:"sub_account_insufficient_balance",dialogAction:"continue_in_popup"}),t.clear(),n("continue_popup")}},{text:"Cancel",variant:"secondary",onClick:()=>{Ow({dialogContext:"sub_account_insufficient_balance",dialogAction:"cancel"}),t.clear(),r(new Error("User cancelled funding"))}}]})})}function knt(t){return typeof t=="object"&&t!==null&&Array.isArray(t)&&t.length>0&&typeof t[0]=="object"&&t[0]!==null&&"calls"in t[0]}function $nt(t){return Array.isArray(t)&&t.length===1&&typeof t[0]=="object"&&t[0]!==null&&"to"in t[0]}function Tnt(t){return Cee(_ee(wo(t)),0,16)}function Nnt({attribution:t,dappOrigin:e}){if(t){if("auto"in t&&t.auto&&e)return Tnt(e);if("dataSuffix"in t)return t.dataSuffix}}function rI(t,e){const n=t.filter(r=>r!==e);return[e,...n]}function iI(t,e){return[...t.filter(r=>r!==e),e]}function Ont(t){return t.replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}function sI(t){const e=btoa(String.fromCharCode(...new Uint8Array(t)));return Ont(e)}function Pnt({webauthn:t,signature:e,id:n}){const r=MA(e);return{id:n,rawId:sI(kS(n)),response:{authenticatorData:sI(N1(t.authenticatorData)),clientDataJSON:sI(kS(t.clientDataJSON)),signature:sI(Rnt(r.r,r.s))},type:JSON.parse(t.clientDataJSON).type}}function Rnt(t,e){const n=N1($S(rr(t))),r=N1($S(rr(e))),i=n.length,s=r.length,o=i+s+4,a=new Uint8Array(o+2);return a[0]=48,a[1]=o,a[2]=2,a[3]=i,a.set(n,4),a[i+4]=2,a[i+5]=s,a.set(r,i+6),a}async function Dnt(t){const{owner:e,ownerIndex:n,address:r,client:i,factoryData:s}=t,o={abi:xee,address:See,version:"0.6"},a={abi:Doe,address:Pet};return Iee({client:i,entryPoint:o,extend:{abi:uu,factory:a},async decodeCalls(c){const l=PA({abi:uu,data:c});if(l.functionName==="execute")return[{to:l.args[0],value:l.args[1],data:l.args[2]}];if(l.functionName==="executeBatch")return l.args[0].map(u=>({to:u.target,value:u.value,data:u.data}));throw new $_(`unable to decode calls for "${l.functionName}"`)},async encodeCalls(c){return c.length===1?Fs({abi:uu,functionName:"execute",args:[c[0].to,c[0].value??BigInt(0),c[0].data??"0x"]}):Fs({abi:uu,functionName:"executeBatch",args:[c.map(l=>({data:l.data??"0x",target:l.to,value:l.value??BigInt(0)}))]})},async getAddress(){return r},async getFactoryArgs(){return s?{factory:a.address,factoryData:s}:{factory:a.address,factoryData:s}},async getStubSignature(){return e.type==="webAuthn"?"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000001949fc7c88032b9fcb5f6efc7a7b8c63668eae9871b765e23123bb473ff57aa831a7c0d9276168ebcc29f2875a0239cffdf2a9cd1c2007c5c77c071db9264df1d000000000000000000000000000000000000000000000000000000000000002549960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97630500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008a7b2274797065223a22776562617574686e2e676574222c226368616c6c656e6765223a2273496a396e6164474850596759334b7156384f7a4a666c726275504b474f716d59576f4d57516869467773222c226f726967696e223a2268747470733a2f2f7369676e2e636f696e626173652e636f6d222c2263726f73734f726967696e223a66616c73657d00000000000000000000000000000000000000000000":i3({ownerIndex:n,signature:"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"})},async sign(c){const l=await this.getAddress(),u=gN({address:l,chainId:i.chain.id,hash:c.hash}),d=await oI({hash:u,owner:e});return i3({ownerIndex:n,signature:d})},async signMessage(c){const{message:l}=c,u=await this.getAddress(),d=gN({address:u,chainId:i.chain.id,hash:Vv(l)}),h=await oI({hash:d,owner:e});return i3({ownerIndex:n,signature:h})},async signTypedData(c){const{domain:l,types:u,primaryType:d,message:h}=c,p=await this.getAddress(),f=gN({address:p,chainId:i.chain.id,hash:Fg({domain:l,message:h,primaryType:d,types:u})}),g=await oI({hash:f,owner:e});return i3({ownerIndex:n,signature:g})},async signUserOperation(c){const{chainId:l=i.chain.id,...u}=c,d=await this.getAddress(),h=Aee({chainId:l,entryPointAddress:o.address,entryPointVersion:o.version,userOperation:{...u,sender:d}}),p=await oI({hash:h,owner:e});return i3({ownerIndex:n,signature:p})},userOperation:{async estimateGas(c){if(e.type==="webAuthn")return{verificationGasLimit:BigInt(Math.max(Number(c.verificationGasLimit??BigInt(0)),8e5))}}}})}async function oI({hash:t,owner:e}){if(e.type==="webAuthn"){const{signature:n,webauthn:r}=await e.sign({hash:t});return Unt({signature:n,webauthn:r})}if(e.sign)return e.sign({hash:t});throw new $_("`owner` does not support raw sign.")}function gN({address:t,chainId:e,hash:n}){return Fg({domain:{chainId:e,name:"Coinbase Smart Wallet",verifyingContract:t,version:"1"},types:{CoinbaseSmartWalletMessage:[{name:"hash",type:"bytes32"}]},primaryType:"CoinbaseSmartWalletMessage",message:{hash:n}})}function Unt({webauthn:t,signature:e}){const{r:n,s:r}=MA(e);return RA([{components:[{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"bytes"},{name:"challengeIndex",type:"uint256"},{name:"typeIndex",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"}],type:"tuple"}],[{authenticatorData:t.authenticatorData,clientDataJSON:kee(t.clientDataJSON),challengeIndex:BigInt(t.challengeIndex),typeIndex:BigInt(t.typeIndex),r:n,s:r}])}function i3(t){const{ownerIndex:e=0}=t,n=(()=>{if($ee(t.signature)!==65)return t.signature;const r=Tee(t.signature);return Nee(["bytes32","bytes32","uint8"],[r.r,r.s,r.yParity===0?27:28])})();return RA([{components:[{name:"ownerIndex",type:"uint8"},{name:"signatureData",type:"bytes"}],type:"tuple"}],[{ownerIndex:e,signatureData:n}])}async function Mnt({address:t,client:e,factory:n,factoryData:r,owner:i,ownerIndex:s,parentAddress:o,attribution:a}){const c={address:t,factory:n,factoryData:r},l=e.chain?.id;if(!l)throw it.rpc.internal("chainId not found");const u=await Dnt({owner:i,ownerIndex:s??1,address:t,client:e,factoryData:r}),d=async h=>{try{switch(h.method){case"wallet_addSubAccount":return c;case"eth_accounts":return[c.address];case"eth_coinbase":return c.address;case"net_version":return l.toString();case"eth_chainId":return rr(l);case"eth_sendTransaction":{Rf(h.params);const p=h.params[0];ul(p.to,it.rpc.invalidParams("to is required"));const f={to:p.to,data:I7(p.data??"0x",!0),value:I7(p.value??"0x",!0),from:p.from??c.address},g=wae({calls:[f],chainId:l,from:f.from}),m=await d(g);return mae({client:e,id:m})}case"wallet_sendCalls":{Rf(h.params);const p=J3(h.params[0],"chainId");if(!p)throw it.rpc.invalidParams("chainId is required");if(!oc(p))throw it.rpc.invalidParams("chainId must be a hex encoded integer");if(!h.params[0])throw it.rpc.invalidParams("params are required");if(!("calls"in h.params[0]))throw it.rpc.invalidParams("calls are required");let f={method:"wallet_prepareCalls",params:[{version:"1.0",calls:h.params[0].calls,chainId:p,from:c.address,capabilities:"capabilities"in h.params[0]?h.params[0].capabilities:{}}]};o&&(f=zC(f,{funding:[{type:"spendPermission",data:{autoApply:!0,sources:[o],preference:"PREFER_DIRECT_BALANCE"}}]}));let g=await d(f);const m=await i.sign?.({hash:TS(g.signatureRequest.hash)});let b;if(!m)throw it.rpc.internal("signature not found");return oc(m)?b={type:"secp256k1",data:{address:i.address,signature:m}}:b={type:"webauthn",data:{signature:JSON.stringify(Pnt({id:i.id??"1",...m})),publicKey:i.publicKey}},(await d({method:"wallet_sendPreparedCalls",params:[{version:"1.0",type:g.type,data:g.userOp,chainId:g.chainId,signature:b}]}))[0]}case"wallet_sendPreparedCalls":{Rf(h.params);const p=J3(h.params[0],"chainId");if(!p)throw it.rpc.invalidParams("chainId is required");if(!oc(p))throw it.rpc.invalidParams("chainId must be a hex encoded integer");return await e.request({method:"wallet_sendPreparedCalls",params:h.params})}case"wallet_prepareCalls":{Rf(h.params);const p=J3(h.params[0],"chainId");if(!p)throw it.rpc.invalidParams("chainId is required");if(!oc(p))throw it.rpc.invalidParams("chainId must be a hex encoded integer");if(!h.params[0])throw it.rpc.invalidParams("params are required");if(!J3(h.params[0],"calls"))throw it.rpc.invalidParams("calls are required");const f=h.params[0];return a&&f.capabilities&&!("attribution"in f.capabilities)&&(f.capabilities.attribution=a),await e.request({method:"wallet_prepareCalls",params:[{...h.params[0],chainId:p}]})}case"personal_sign":{if(Rf(h.params),!oc(h.params[0]))throw it.rpc.invalidParams("message must be a hex encoded string");const p=TS(h.params[0]);return u.signMessage({message:p})}case"eth_signTypedData_v4":{Rf(h.params);const p=typeof h.params[1]=="string"?JSON.parse(h.params[1]):h.params[1];return u.signTypedData(p)}case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":default:throw it.rpc.methodNotSupported()}}catch(p){if(Boe(p)){const f=Let(p);if(f)throw f}throw p}};return{request:d}}async function yae({address:t,client:e,publicKey:n,factory:r,factoryData:i}){if(!await Oee(e,{address:t})&&r&&i){const a=PA({abi:Doe,data:i});if(a.functionName!=="createAccount")throw it.rpc.internal("unknown factory function");const[c]=a.args;return c.findIndex(l=>l.toLowerCase()===aK(n).toLowerCase())}const o=await NS(e,{address:t,abi:uu,functionName:"ownerCount"});for(let a=Number(o)-1;a>=0;a--){const c=await NS(e,{address:t,abi:uu,functionName:"ownerAtIndex",args:[BigInt(a)]}),l=aK(n);if(c.toLowerCase()===l.toLowerCase())return a}return-1}function aK(t){return gg(t)?Pee(t):t}async function Lnt(){const t=et.config.get().metadata?.appName??"App",e=BM();return new Promise(n=>{RM({dialogContext:"sub_account_add_owner"}),e.presentItem({title:`Re-authorize ${t}`,message:`${t} has lost access to your account. Please sign at the next step to re-authorize ${t}`,onClose:()=>{zoe({dialogContext:"sub_account_add_owner"}),n("cancel")},actionItems:[{text:"Continue",variant:"primary",onClick:()=>{Ow({dialogContext:"sub_account_add_owner",dialogAction:"confirm"}),e.clear(),n("authenticate")}},{text:"Not now",variant:"secondary",onClick:()=>{Ow({dialogContext:"sub_account_add_owner",dialogAction:"cancel"}),e.clear(),n("cancel")}}]})})}async function jnt({ownerAccount:t,globalAccountRequest:e,chainId:n}){const r=et.account.get(),i=et.subAccounts.get(),s=r.accounts?.find(p=>p.toLowerCase()!==i?.address.toLowerCase());ul(s,it.provider.unauthorized("no global account")),ul(r.chain?.id,it.provider.unauthorized("no chain id")),ul(i?.address,it.provider.unauthorized("no sub account"));const o=[];if(t.type==="local"&&t.address&&o.push({to:i.address,data:Fs({abi:uu,functionName:"addOwnerAddress",args:[t.address]}),value:wo(0)}),t.publicKey){const[p,f]=DA([{type:"bytes32"},{type:"bytes32"}],t.publicKey);o.push({to:i.address,data:Fs({abi:uu,functionName:"addOwnerPublicKey",args:[p,f]}),value:wo(0)})}const a={method:"wallet_sendCalls",params:[{version:"1",calls:o,chainId:rr(n),from:s}]};if(await Lnt()==="cancel")throw it.provider.unauthorized("user cancelled");const l=await e(a),u=lae(r.chain.id);if(ul(u,it.rpc.internal(`client not found for chainId ${r.chain.id}`)),(await Qh(u,{id:l})).status!=="success")throw it.rpc.internal("add owner call failed");const h=await yae({address:i.address,publicKey:t.type==="local"&&t.address?t.address:t.publicKey,client:u});if(h===-1)throw it.rpc.internal("failed to find owner index");return h}async function bae({request:t,globalAccountAddress:e,subAccountAddress:n,client:r,globalAccountRequest:i,chainId:s,prependCalls:o}){let a;if(t.method==="wallet_sendCalls"&&knt(t.params))a=t.params[0];else if(t.method==="eth_sendTransaction"&&$nt(t.params))a=wae({calls:[t.params[0]],chainId:s,from:t.params[0].from}).params[0];else throw new Error(`Could not get original call from ${t.method} request`);const c=Fs({abi:uu,functionName:"executeBatch",args:[a.calls.map(p=>({target:p.to,value:lE(p.value??"0x0"),data:p.data??"0x"}))]}),l=[...o??[],{data:c,to:n,value:"0x0"}],u=zC({method:"wallet_sendCalls",params:[{...a,calls:l,from:e,version:"2.0.0",atomicRequired:!0}]},{spendPermissions:{request:{spender:n}}}),d=await i(u);let h=d.id;return d.capabilities?.spendPermissions&&NM.set(d.capabilities.spendPermissions.permissions),t.method==="eth_sendTransaction"?mae({client:r,id:h}):d}async function Bnt({globalAccountAddress:t,subAccountAddress:e,client:n,request:r,globalAccountRequest:i}){const s=n.chain?.id;ul(s,it.rpc.internal("invalid chainId"));try{await Ant()}catch{throw it.provider.userRejectedRequest({message:"User cancelled funding"})}return await bae({request:r,globalAccountAddress:t,subAccountAddress:e,client:n,globalAccountRequest:i,chainId:s})}class znt{communicator;keyManager;callback;accounts;chain;constructor(e){this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Cnt;const{account:n,chains:r}=et.getState();this.accounts=n.accounts??[],this.chain=n.chain??{id:e.metadata.appChainIds?.[0]??1},r&&tK(r)}get isConnected(){return this.accounts.length>0}async handshake(e){const n=Bh.get(e);Ltt({method:e.method,correlationId:n});try{await this.communicator.waitForPopupLoaded?.();const r=await this.createRequestMessage({handshake:{method:e.method,params:e.params??[]}},n),i=await this.communicator.postRequestAndWaitForResponse(r);if("failure"in i.content)throw i.content.failure;const s=await hae("public",i.sender);await this.keyManager.setPeerPublicKey(s);const o=await this.decryptResponseMessage(i);this.handleResponse(e,o),Btt({method:e.method,correlationId:n})}catch(r){throw jtt({method:e.method,correlationId:n,errorMessage:Wb(r)}),r}}async request(e){const n=Bh.get(e);ztt({method:e.method,correlationId:n});try{const r=await this._request(e);return qtt({method:e.method,correlationId:n}),r}catch(r){throw Wtt({method:e.method,correlationId:n,errorMessage:Wb(r)}),r}}async _request(e){if(this.accounts.length===0)switch(e.method){case"wallet_switchEthereumChain":{oK(e.params),this.chain.id=Number(e.params[0].chainId);return}case"wallet_connect":{await this.communicator.waitForPopupLoaded?.(),await S7();const n=et.subAccountsConfig.get(),r=zC(e,n?.capabilities??{});return this.sendRequestToPopup(r)}case"wallet_sendCalls":case"wallet_sign":return this.sendRequestToPopup(e);default:throw it.provider.unauthorized()}if(this.shouldRequestUseSubAccountSigner(e)){const n=Bh.get(e);Ftt({method:e.method,correlationId:n});try{const r=await this.sendRequestToSubAccountSigner(e);return Htt({method:e.method,correlationId:n}),r}catch(r){throw Vtt({method:e.method,correlationId:n,errorMessage:Wb(r)}),r}}switch(e.method){case"eth_requestAccounts":case"eth_accounts":{const n=et.subAccounts.get(),r=et.subAccountsConfig.get();return n?.address&&(this.accounts=r?.defaultAccount==="sub"?rI(this.accounts,n.address):iI(this.accounts,n.address)),this.callback?.("connect",{chainId:rr(this.chain.id)}),this.accounts}case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return rr(this.chain.id);case"wallet_getCapabilities":return this.handleGetCapabilitiesRequest(e);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);case"wallet_connect":{await this.communicator.waitForPopupLoaded?.(),await S7();const n=et.subAccountsConfig.get(),r=zC(e,n?.capabilities??{}),i=await this.sendRequestToPopup(r);return this.callback?.("connect",{chainId:rr(this.chain.id)}),i}case"wallet_getSubAccounts":{const n=et.subAccounts.get();if(n?.address)return{subAccounts:[n]};if(!this.chain.rpcUrl)throw it.rpc.internal("No RPC URL set for chain");const r=await Y3(e,this.chain.rpcUrl);if(Rf(r.subAccounts,"subAccounts"),r.subAccounts.length>0){nI(r.subAccounts[0]);const i=r.subAccounts[0];et.subAccounts.set({address:i.address,factory:i.factory,factoryData:i.factoryData})}return r}case"wallet_addSubAccount":return this.addSubAccount(e);case"coinbase_fetchPermissions":{Snt(e);const n=xnt(e),r=await Y3(n,f7),i=dw(n.params?.[0].chainId);return et.spendPermissions.set(r.permissions.map(s=>({...s,chainId:i}))),r}case"coinbase_fetchPermission":{const r=await Y3(e,f7);return r.permission&&r.permission.chainId&&et.spendPermissions.set([r.permission]),r}default:if(!this.chain.rpcUrl)throw it.rpc.internal("No RPC URL set for chain");return Y3(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){await this.communicator.waitForPopupLoaded?.();const n=await this.sendEncryptedRequest(e),r=await this.decryptResponseMessage(n);return this.handleResponse(e,r)}async handleResponse(e,n){const r=n.result;if("error"in r)throw r.error;switch(e.method){case"eth_requestAccounts":{const i=r.value;this.accounts=i,et.account.set({accounts:i,chain:this.chain}),this.callback?.("accountsChanged",i);break}case"wallet_connect":{const i=r.value,s=i.accounts.map(d=>d.address);this.accounts=s,et.account.set({accounts:s});const a=i.accounts.at(0)?.capabilities;if(a?.subAccounts){const d=a?.subAccounts;Rf(d,"subAccounts"),nI(d[0]),et.subAccounts.set({address:d[0].address,factory:d[0].factory,factoryData:d[0].factoryData})}const c=et.subAccounts.get(),l=et.subAccountsConfig.get();c?.address&&(this.accounts=l?.defaultAccount==="sub"?rI(this.accounts,c.address):iI(this.accounts,c.address));const u=i?.accounts?.[0].capabilities?.spendPermissions;u&&"permissions"in u&&et.spendPermissions.set(u?.permissions),this.callback?.("accountsChanged",this.accounts);break}case"wallet_addSubAccount":{nI(r.value);const i=r.value;et.subAccounts.set(i);const s=et.subAccountsConfig.get();this.accounts=s?.defaultAccount==="sub"?rI(this.accounts,i.address):iI(this.accounts,i.address),this.callback?.("accountsChanged",this.accounts);break}}return r.value}async cleanup(){const e=et.config.get().metadata;await this.keyManager.clear(),et.account.clear(),et.subAccounts.clear(),et.spendPermissions.clear(),et.chains.clear(),this.accounts=[],this.chain={id:e?.appChainIds?.[0]??1}}async handleSwitchChainRequest(e){oK(e.params);const n=Mtt(e.params[0].chainId);if(this.updateChain(n))return null;const i=await this.sendRequestToPopup(e);return i===null&&this.updateChain(n),i}async handleGetCapabilitiesRequest(e){Int(e.params);const n=e.params[0],r=e.params[1];if(!this.accounts.some(a=>Ree(a,n)))throw it.provider.unauthorized("no active account found when getting capabilities");const i=et.getState().account.capabilities;if(!i)return{};if(!r||r.length===0)return i;const s=new Set(r.map(a=>dw(a)));return Object.fromEntries(Object.entries(i).filter(([a])=>{try{const c=dw(a);return s.has(c)}catch{return!1}}))}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw it.provider.unauthorized("No shared secret found when encrypting request");const r=await cnt({action:e,chainId:this.chain.id},n),i=Bh.get(e),s=await this.createRequestMessage({encrypted:r},i);return this.communicator.postRequestAndWaitForResponse(s)}async createRequestMessage(e,n){const r=await dae("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),correlationId:n,sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){const n=e.content;if("failure"in n)throw n.failure;const r=await this.keyManager.getSharedSecret();if(!r)throw it.provider.unauthorized("Invalid session: no shared secret found when decrypting response");const i=await lnt(n.encrypted,r),s=i.data?.chains;if(s){const a=i.data?.nativeCurrencies,c=Object.entries(s).map(([l,u])=>{const d=a?.[Number(l)];return{id:Number(l),rpcUrl:u,...d?{nativeCurrency:d}:{}}});et.chains.set(c),this.updateChain(this.chain.id,c),tK(c)}const o=i.data?.capabilities;return o&&et.account.set({capabilities:o}),i}updateChain(e,n){const r=et.getState(),s=(n??r.chains)?.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,et.account.set({chain:s}),this.callback?.("chainChanged",rae(s.id))),!0):!1}async addSubAccount(e){const r=et.getState().subAccount,i=et.subAccountsConfig.get();if(r?.address)return this.accounts=i?.defaultAccount==="sub"?rI(this.accounts,r.address):iI(this.accounts,r.address),this.callback?.("accountsChanged",this.accounts),r;if(await this.communicator.waitForPopupLoaded?.(),Array.isArray(e.params)&&e.params.length>0&&e.params[0].account&&e.params[0].account.type==="create"){let o;if(e.params[0].account.keys&&e.params[0].account.keys.length>0)o=e.params[0].account.keys;else{const a=et.subAccountsConfig.get()??{},{account:c}=a.toOwnerAccount?await a.toOwnerAccount():await Zx();if(!c)throw it.provider.unauthorized("could not get subaccount owner account when adding sub account");o=[{type:c.address?"address":"webauthn-p256",publicKey:c.address||c.publicKey}]}e.params[0].account.keys=o}const s=await this.sendRequestToPopup(e);return nI(s),s}shouldRequestUseSubAccountSigner(e){const n=sK(e),r=et.subAccounts.get();return n?n.toLowerCase()===r?.address.toLowerCase():!1}async sendRequestToSubAccountSigner(e){const n=et.subAccounts.get(),r=et.subAccountsConfig.get(),i=et.config.get();ul(n?.address,it.provider.unauthorized("no active sub account when sending request to sub account signer"));const s=r?.toOwnerAccount?await r.toOwnerAccount():await Zx();ul(s?.account,it.provider.unauthorized("no active sub account owner when sending request to sub account signer")),sK(e)===void 0&&(e=_nt(e,n.address));const a=this.accounts.find(g=>g.toLowerCase()!==n.address.toLowerCase());ul(a,it.provider.unauthorized("no global account found when sending request to sub account signer"));const c=Nnt({attribution:i.preference?.attribution,dappOrigin:window.location.origin}),l=e.method==="wallet_sendCalls"&&e.params?.[0]?.chainId,u=l?dw(l):this.chain.id,d=lae(u);if(ul(d,it.rpc.internal(`client not found for chainId ${u} when sending request to sub account signer`)),["eth_sendTransaction","wallet_sendCalls"].includes(e.method)&&et.subAccountsConfig.get()?.funding==="spend-permissions"&&NM.get().length===0)return await bae({request:e,globalAccountAddress:a,subAccountAddress:n.address,client:d,globalAccountRequest:this.sendRequestToPopup.bind(this),chainId:u});const h=s.account.type==="local"?s.account.address:s.account.publicKey;let p=await yae({address:n.address,factory:n.factory,factoryData:n.factoryData,publicKey:h,client:d});if(p===-1){const g=Bh.get(e);Ktt({method:e.method,correlationId:g});try{p=await jnt({ownerAccount:s.account,globalAccountRequest:this.sendRequestToPopup.bind(this),chainId:u}),Ztt({method:e.method,correlationId:g})}catch(m){return Gtt({method:e.method,correlationId:g,errorMessage:Wb(m)}),it.provider.unauthorized("failed to add sub account owner when sending request to sub account signer")}}const{request:f}=await Mnt({address:n.address,owner:s.account,client:d,factory:n.factory,factoryData:n.factoryData,parentAddress:a,attribution:c?{suffix:c}:void 0,ownerIndex:p});try{return await f(e)}catch(g){if(et.subAccountsConfig.get()?.funding==="manual")throw g;let b;if(Boe(g))b=JSON.parse(g.details);else if(LV(g))b=g;else throw g;if(!(LV(b)&&b.data)||!b.data)throw g;const y=Bh.get(e);Ytt({method:e.method,correlationId:y});try{const v=await Bnt({errorData:b.data,globalAccountAddress:a,subAccountAddress:n.address,client:d,request:e,globalAccountRequest:this.request.bind(this)});return Jtt({method:e.method,correlationId:y}),v}catch(v){throw console.error(v),Xtt({method:e.method,correlationId:y,errorMessage:Wb(v)}),g}}}}class Wnt extends xtt{communicator;signer;constructor({metadata:e,preference:{walletUrl:n,...r}}){super(),this.communicator=new Ctt({url:n,metadata:e,preference:r}),this.signer=new znt({metadata:e,communicator:this.communicator,callback:this.emit.bind(this)})}async request(e){const n=crypto.randomUUID();Bh.set(e,n),Att({method:e.method,correlationId:n});try{const r=await this._request(e);return $tt({method:e.method,correlationId:n}),r}catch(r){throw ktt({method:e.method,correlationId:n,errorMessage:Wb(r)}),r}finally{Bh.delete(e)}}async _request(e){try{if(unt(e),!this.signer.isConnected)switch(e.method){case"eth_requestAccounts":{await this.signer.handshake({method:"handshake"}),await S7(),await this.signer.request({method:"wallet_connect",params:[{version:"1",capabilities:{...et.subAccountsConfig.get()?.capabilities??{}}}]});break}case"wallet_connect":return await this.signer.handshake({method:"handshake"}),await this.signer.request(e);case"wallet_switchEthereumChain":return await this.signer.request(e);case"wallet_sendCalls":case"wallet_sign":try{return await this.signer.handshake({method:"handshake"}),await this.signer.request(e)}finally{await this.signer.cleanup()}case"wallet_getCallsStatus":return await Y3(e,f7);case"eth_accounts":return[];case"net_version":return 1;case"eth_chainId":return rae(1);default:throw it.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===ui.provider.unauthorized&&await this.disconnect(),Promise.reject(_tt(n))}}async disconnect(){await this.signer.cleanup(),Bh.clear(),this.emit("disconnect",it.provider.disconnected("User initiated disconnection"))}isBaseAccount=!0}const qnt="isCoinbaseBrowser";function Fnt(){const t=window.top?.ethereum??window.ethereum;return t?.[qnt]?t:null}function Hnt(t){const e={metadata:{appName:t.appName||"App",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:t.preference??{},paymasterUrls:t.paymasterUrls};t.subAccounts?.toOwnerAccount&&jV(t.subAccounts.toOwnerAccount),et.subAccountsConfig.set({toOwnerAccount:t.subAccounts?.toOwnerAccount,creation:t.subAccounts?.creation??"manual",defaultAccount:t.subAccounts?.defaultAccount??"universal",funding:t.subAccounts?.funding??"spend-permissions"}),et.config.set(e),et.persist.rehydrate(),zet(),qet(e.preference),e.preference.telemetry!==!1&&Net();let n=null;const r={getProvider:()=>(n||(n=Fnt()??new Wnt(e)),n),subAccount:{async create(i){return await r.getProvider()?.request({method:"wallet_addSubAccount",params:[{version:"1",account:i}]})},async get(){const i=et.subAccounts.get();if(i?.address)return i;const o=(await r.getProvider()?.request({method:"wallet_connect",params:[{version:"1",capabilities:{}}]})).accounts[0].capabilities?.subAccounts;return Array.isArray(o)?o[0]:null},addOwner:async({address:i,publicKey:s,chainId:o})=>{const a=et.subAccounts.get(),c=et.account.get();ul(c,new Error("account does not exist")),ul(a?.address,new Error("subaccount does not exist"));const l=[];if(s){const[u,d]=DA([{type:"bytes32"},{type:"bytes32"}],s);l.push({to:a.address,data:Fs({abi:uu,functionName:"addOwnerPublicKey",args:[u,d]}),value:wo(0)})}return i&&l.push({to:a.address,data:Fs({abi:uu,functionName:"addOwnerAddress",args:[i]}),value:wo(0)}),await r.getProvider()?.request({method:"wallet_sendCalls",params:[{calls:l,chainId:wo(o),from:c.accounts?.[0],version:"1"}]})},setToOwnerAccount(i){jV(i),et.subAccountsConfig.set({toOwnerAccount:i})}}};return r}const PLt=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Ay,createBaseAccountSDK:Hnt,getCryptoKeyAccount:Zx},Symbol.toStringTag,{value:"Module"})),l2="4.3.6",vae="@coinbase/wallet-sdk",Vnt=()=>({chains:[]}),Knt=()=>({keys:{}}),Znt=()=>({account:{}}),Gnt=()=>({subAccount:void 0}),Ynt=()=>({subAccountConfig:{}}),Jnt=()=>({spendPermissions:[]}),Xnt=()=>({config:{version:l2}}),Ci=ky(TM((...t)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Vnt(...t)),Knt(...t)),Znt(...t)),Gnt(...t)),Jnt(...t)),Xnt(...t)),Ynt(...t)),{name:"cbwsdk.store",storage:$M(()=>localStorage),partialize:t=>({chains:t.chains,keys:t.keys,account:t.account,subAccount:t.subAccount,spendPermissions:t.spendPermissions,config:t.config})})),Qnt={get:()=>Ci.getState().subAccountConfig,set:t=>{Ci.setState(e=>({subAccountConfig:Object.assign(Object.assign({},e.subAccountConfig),t)}))},clear:()=>{Ci.setState({subAccountConfig:{}})}},ert={get:()=>Ci.getState().subAccount,set:t=>{Ci.setState(e=>({subAccount:e.subAccount?Object.assign(Object.assign({},e.subAccount),t):Object.assign({address:t.address},t)}))},clear:()=>{Ci.setState({subAccount:void 0})}},trt={get:()=>Ci.getState().spendPermissions,set:t=>{Ci.setState({spendPermissions:t})},clear:()=>{Ci.setState({spendPermissions:[]})}},nrt={get:()=>Ci.getState().account,set:t=>{Ci.setState(e=>({account:Object.assign(Object.assign({},e.account),t)}))},clear:()=>{Ci.setState({account:{}})}},rrt={get:()=>Ci.getState().chains,set:t=>{Ci.setState({chains:t})},clear:()=>{Ci.setState({chains:[]})}},irt={get:t=>Ci.getState().keys[t],set:(t,e)=>{Ci.setState(n=>({keys:Object.assign(Object.assign({},n.keys),{[t]:e})}))},clear:()=>{Ci.setState({keys:{}})}},Eae={get:()=>Ci.getState().config,set:t=>{Ci.setState(e=>({config:Object.assign(Object.assign({},e.config),t)}))}},srt={subAccounts:ert,subAccountsConfig:Qnt,spendPermissions:trt,account:nrt,chains:rrt,keys:irt,config:Eae},tt=Object.assign(Object.assign({},Ci),srt),ort='!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClientAnalytics=t():e.ClientAnalytics=t()}(this,(function(){return(()=>{var e={792:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},562:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},335:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},762:(e,t,n)=>{var r,i,a,o,s;r=n(562),i=n(792).utf8,a=n(335),o=n(792).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,m=0;m<n.length;m++)n[m]=16711935&(n[m]<<8|n[m]>>>24)|4278255360&(n[m]<<24|n[m]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=s._ff,v=s._gg,g=s._hh,b=s._ii;for(m=0;m<n.length;m+=16){var h=u,w=l,y=d,T=p;u=f(u,l,d,p,n[m+0],7,-680876936),p=f(p,u,l,d,n[m+1],12,-389564586),d=f(d,p,u,l,n[m+2],17,606105819),l=f(l,d,p,u,n[m+3],22,-1044525330),u=f(u,l,d,p,n[m+4],7,-176418897),p=f(p,u,l,d,n[m+5],12,1200080426),d=f(d,p,u,l,n[m+6],17,-1473231341),l=f(l,d,p,u,n[m+7],22,-45705983),u=f(u,l,d,p,n[m+8],7,1770035416),p=f(p,u,l,d,n[m+9],12,-1958414417),d=f(d,p,u,l,n[m+10],17,-42063),l=f(l,d,p,u,n[m+11],22,-1990404162),u=f(u,l,d,p,n[m+12],7,1804603682),p=f(p,u,l,d,n[m+13],12,-40341101),d=f(d,p,u,l,n[m+14],17,-1502002290),u=v(u,l=f(l,d,p,u,n[m+15],22,1236535329),d,p,n[m+1],5,-165796510),p=v(p,u,l,d,n[m+6],9,-1069501632),d=v(d,p,u,l,n[m+11],14,643717713),l=v(l,d,p,u,n[m+0],20,-373897302),u=v(u,l,d,p,n[m+5],5,-701558691),p=v(p,u,l,d,n[m+10],9,38016083),d=v(d,p,u,l,n[m+15],14,-660478335),l=v(l,d,p,u,n[m+4],20,-405537848),u=v(u,l,d,p,n[m+9],5,568446438),p=v(p,u,l,d,n[m+14],9,-1019803690),d=v(d,p,u,l,n[m+3],14,-187363961),l=v(l,d,p,u,n[m+8],20,1163531501),u=v(u,l,d,p,n[m+13],5,-1444681467),p=v(p,u,l,d,n[m+2],9,-51403784),d=v(d,p,u,l,n[m+7],14,1735328473),u=g(u,l=v(l,d,p,u,n[m+12],20,-1926607734),d,p,n[m+5],4,-378558),p=g(p,u,l,d,n[m+8],11,-2022574463),d=g(d,p,u,l,n[m+11],16,1839030562),l=g(l,d,p,u,n[m+14],23,-35309556),u=g(u,l,d,p,n[m+1],4,-1530992060),p=g(p,u,l,d,n[m+4],11,1272893353),d=g(d,p,u,l,n[m+7],16,-155497632),l=g(l,d,p,u,n[m+10],23,-1094730640),u=g(u,l,d,p,n[m+13],4,681279174),p=g(p,u,l,d,n[m+0],11,-358537222),d=g(d,p,u,l,n[m+3],16,-722521979),l=g(l,d,p,u,n[m+6],23,76029189),u=g(u,l,d,p,n[m+9],4,-640364487),p=g(p,u,l,d,n[m+12],11,-421815835),d=g(d,p,u,l,n[m+15],16,530742520),u=b(u,l=g(l,d,p,u,n[m+2],23,-995338651),d,p,n[m+0],6,-198630844),p=b(p,u,l,d,n[m+7],10,1126891415),d=b(d,p,u,l,n[m+14],15,-1416354905),l=b(l,d,p,u,n[m+5],21,-57434055),u=b(u,l,d,p,n[m+12],6,1700485571),p=b(p,u,l,d,n[m+3],10,-1894986606),d=b(d,p,u,l,n[m+10],15,-1051523),l=b(l,d,p,u,n[m+1],21,-2054922799),u=b(u,l,d,p,n[m+8],6,1873313359),p=b(p,u,l,d,n[m+15],10,-30611744),d=b(d,p,u,l,n[m+6],15,-1560198380),l=b(l,d,p,u,n[m+13],21,1309151649),u=b(u,l,d,p,n[m+4],6,-145523070),p=b(p,u,l,d,n[m+11],10,-1120210379),d=b(d,p,u,l,n[m+2],15,718787259),l=b(l,d,p,u,n[m+9],21,-343485551),u=u+h>>>0,l=l+w>>>0,d=d+y>>>0,p=p+T>>>0}return r.endian([u,l,d,p])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},2:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Perfume:()=>ze,incrementUjNavigation:()=>Le,markStep:()=>Re,markStepOnce:()=>qe});var r,i,a={isResourceTiming:!1,isElementTiming:!1,maxTime:3e4,reportOptions:{},enableNavigationTracking:!0},o=window,s=o.console,c=o.navigator,u=o.performance,l=function(){return c.deviceMemory},d=function(){return c.hardwareConcurrency},p="mark.",m=function(){return u&&!!u.getEntriesByType&&!!u.now&&!!u.mark},f="4g",v=!1,g={},b={value:0},h={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},w={value:0},y={value:0},T={},k={isHidden:!1,didChange:!1},_=function(){k.isHidden=!1,document.hidden&&(k.isHidden=document.hidden,k.didChange=!0)},S=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){s.warn("Perfume.js:",e)}return null},E=function(){return!!(d()&&d()<=4)||!!(l()&&l()<=4)},x=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return E()||t}},O=function(e){return parseFloat(e.toFixed(4))},j=function(e){return"number"!=typeof e?null:O(e/Math.pow(1024,2))},N=function(e,t,n,r,i){var s,u=function(){a.analyticsTracker&&(k.isHidden&&!["CLS","INP"].includes(e)||a.analyticsTracker({attribution:r,metricName:e,data:t,navigatorInformation:c?{deviceMemory:l()||0,hardwareConcurrency:d()||0,serviceWorkerStatus:"serviceWorker"in c?c.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:E(),isLowEndExperience:x(f,v)}:{},rating:n,navigationType:i}))};["CLS","INP"].includes(e)?u():(s=u,"requestIdleCallback"in o?o.requestIdleCallback(s,{timeout:3e3}):s())},I=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<b.value)){var t=e.duration-50;t>0&&(w.value+=t,y.value+=t)}}))};!function(e){e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable"}(r||(r={}));var P,M,B,C,D,A=((i={})[r.instant]={vitalsThresholds:[100,200],maxOutlierThreshold:1e4},i[r.quick]={vitalsThresholds:[200,500],maxOutlierThreshold:1e4},i[r.moderate]={vitalsThresholds:[500,1e3],maxOutlierThreshold:1e4},i[r.slow]={vitalsThresholds:[1e3,2e3],maxOutlierThreshold:1e4},i[r.unavoidable]={vitalsThresholds:[2e3,5e3],maxOutlierThreshold:2e4},i),L={RT:[100,200],TBT:[200,600],NTBT:[200,600]},U=function(e,t){return L[e]?t<=L[e][0]?"good":t<=L[e][1]?"needsImprovement":"poor":null},R=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=O(t[e]))})),N(e,t,null,n||{})},q=function(e){var t=e.attribution,n=e.name,r=e.rating,i=e.value,o=e.navigationType;"FCP"===n&&(b.value=i),["FCP","LCP"].includes(n)&&!T[0]&&(T[0]=S("longtask",I)),"FID"===n&&setTimeout((function(){k.didChange||(q({attribution:t,name:"TBT",rating:U("TBT",w.value),value:w.value,navigationType:o}),R("dataConsumption",h.value))}),1e4);var s=O(i);s<=a.maxTime&&s>=0&&N(n,s,r,t,o)},F=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},z=function(e){if("loading"===document.readyState)return"loading";var t=F();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},K=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},$=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:K(r)+(r.className&&r.className.length?"."+r.className.replace(/\\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},Q=-1,W=function(){return Q},H=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Q=t.timeStamp,e(t))}),!0)},V=function(){var e=F();return e&&e.activationStart||0},J=function(e,t){var n=F(),r="navigate";return W()>=0?r="back-forward-cache":n&&(r=document.prerendering||V()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},X=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},G=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Z=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Y=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},ee=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},te=-1,ne=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},re=function(e){"hidden"===document.visibilityState&&te>-1&&(te="visibilitychange"===e.type?e.timeStamp:0,ae())},ie=function(){addEventListener("visibilitychange",re,!0),addEventListener("prerenderingchange",re,!0)},ae=function(){removeEventListener("visibilitychange",re,!0),removeEventListener("prerenderingchange",re,!0)},oe=function(){return te<0&&(te=ne(),ie(),H((function(){setTimeout((function(){te=ne(),ie()}),0)}))),{get firstHiddenTime(){return te}}},se=function(e,t){t=t||{},ee((function(){var n,r=[1800,3e3],i=oe(),a=J("FCP"),o=X("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<i.firstHiddenTime&&(a.value=Math.max(e.startTime-V(),0),a.entries.push(e),n(!0)))}))}));o&&(n=Z(e,a,r,t.reportAllChanges),H((function(i){a=J("FCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,n(!0)}))})))}))},ce={passive:!0,capture:!0},ue=new Date,le=function(e,t){P||(P=t,M=e,B=new Date,me(removeEventListener),de())},de=function(){if(M>=0&&M<B-ue){var e={entryType:"first-input",name:P.type,target:P.target,cancelable:P.cancelable,startTime:P.timeStamp,processingStart:P.timeStamp+M};C.forEach((function(t){t(e)})),C=[]}},pe=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){le(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,ce),removeEventListener("pointercancel",r,ce)};addEventListener("pointerup",n,ce),addEventListener("pointercancel",r,ce)}(t,e):le(t,e)}},me=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,pe,ce)}))},fe=0,ve=1/0,ge=0,be=function(e){e.forEach((function(e){e.interactionId&&(ve=Math.min(ve,e.interactionId),ge=Math.max(ge,e.interactionId),fe=ge?(ge-ve)/7+1:0)}))},he=function(){return D?fe:performance.interactionCount||0},we=0,ye=function(){return he()-we},Te=[],ke={},_e=function(e){var t=Te[Te.length-1],n=ke[e.interactionId];if(n||Te.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ke[r.id]=r,Te.push(r)}Te.sort((function(e,t){return t.latency-e.latency})),Te.splice(10).forEach((function(e){delete ke[e.id]}))}},Se={},Ee=function e(t){document.prerendering?ee((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},xe=function(e,t){t=t||{};var n=[800,1800],r=J("TTFB"),i=Z(e,r,n,t.reportAllChanges);Ee((function(){var a=F();if(a){var o=a.responseStart;if(o<=0||o>performance.now())return;r.value=Math.max(o-V(),0),r.entries=[a],i(!0),H((function(){r=J("TTFB",0),(i=Z(e,r,n,t.reportAllChanges))(!0)}))}}))},Oe=function(e){e.forEach((function(e){e.identifier&&q({attribution:{identifier:e.identifier},name:"ET",rating:null,value:e.startTime})}))},je=function(e){e.forEach((function(e){if(a.isResourceTiming&&R("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;h.value[e.initiatorType]+=t,h.value.total+=t}}))},Ne=function(){!function(e,t){xe((function(e){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,r=Math.max(t.domainLookupStart-n,0),i=Math.max(t.connectStart-n,0),a=Math.max(t.requestStart-n,0);e.attribution={waitingTime:r,dnsTime:i-r,connectionTime:a-i,requestTime:e.value-a,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(e),function(e){e.value>0&&q(e)}(e)}),t)}(0,a.reportOptions.ttfb),function(e,t){!function(e,t){t=t||{},ee((function(){var e,n=[.1,.25],r=J("CLS"),i=-1,a=0,o=[],s=function(e){i>-1&&function(e){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:$(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:z(t.startTime)})}}var r;e.attribution={}}(e),function(e){q(e)}(e)}(e)},c=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=o[0],i=o[o.length-1];a&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(a+=t.value,o.push(t)):(a=t.value,o=[t]),a>r.value&&(r.value=a,r.entries=o,e())}}))},u=X("layout-shift",c);u&&(e=Z(s,r,n,t.reportAllChanges),se((function(t){i=t.value,r.value<0&&(r.value=0,e())})),G((function(){c(u.takeRecords()),e(!0)})),H((function(){a=0,i=-1,r=J("CLS",0),e=Z(s,r,n,t.reportAllChanges),Y((function(){return e()}))})))}))}(0,t)}(0,a.reportOptions.cls),function(e,t){se((function(e){!function(e){if(e.entries.length){var t=F(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:z(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:z(W())}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[100,300],i=oe(),a=J("FID"),o=function(e){e.startTime<i.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},s=function(e){e.forEach(o)},c=X("first-input",s);n=Z(e,a,r,t.reportAllChanges),c&&G((function(){s(c.takeRecords()),c.disconnect()}),!0),c&&H((function(){var i;a=J("FID"),n=Z(e,a,r,t.reportAllChanges),C=[],M=-1,P=null,me(addEventListener),i=o,C.push(i),de()}))}))}((function(e){!function(e){var t=e.entries[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fid),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[2500,4e3],i=oe(),a=J("LCP"),o=function(e){var t=e[e.length-1];if(t){var r=Math.max(t.startTime-V(),0);r<i.firstHiddenTime&&(a.value=r,a.entries=[t],n())}},s=X("largest-contentful-paint",o);if(s){n=Z(e,a,r,t.reportAllChanges);var c=function(){Se[a.id]||(o(s.takeRecords()),s.disconnect(),Se[a.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),G(c,!0),H((function(i){a=J("LCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,Se[a.id]=!0,n(!0)}))}))}}))}((function(e){!function(e){if(e.entries.length){var t=F();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===r.url}))[0],a=Math.max(0,t.responseStart-n),o=Math.max(a,i?(i.requestStart||i.startTime)-n:0),s=Math.max(o,i?i.responseEnd-n:0),c=Math.max(s,r?r.startTime-n:0),u={element:$(r.element),timeToFirstByte:a,resourceLoadDelay:o-a,resourceLoadTime:s-o,elementRenderDelay:c-s,navigationEntry:t,lcpEntry:r};return r.url&&(u.url=r.url),i&&(u.lcpResourceEntry=i),void(e.attribution=u)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.lcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n=[200,500];"interactionCount"in performance||D||(D=X("event",be,{type:"event",buffered:!0,durationThreshold:0}));var r,i=J("INP"),a=function(e){e.forEach((function(e){e.interactionId&&_e(e),"first-input"===e.entryType&&!Te.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&_e(e)}));var t,n=(t=Math.min(Te.length-1,Math.floor(ye()/50)),Te[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=X("event",a,{durationThreshold:t.durationThreshold||40});r=Z(e,i,n,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),G((function(){a(o.takeRecords()),i.value<0&&ye()>0&&(i.value=0,i.entries=[]),r(!0)})),H((function(){Te=[],we=he(),i=J("INP"),r=Z(e,i,n,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}((function(e){return q(e)}),a.reportOptions.inp),a.isResourceTiming&&S("resource",je),a.isElementTiming&&S("element",Oe)},Ie=function(e){var t="usageDetails"in e?e.usageDetails:{};R("storageEstimate",{quota:j(e.quota),usage:j(e.usage),caches:j(t.caches),indexedDB:j(t.indexedDB),serviceWorker:j(t.serviceWorkerRegistrations)})},Pe={finalMarkToStepsMap:{},startMarkToStepsMap:{},active:{},navigationSteps:{}},Me=function(e){delete Pe.active[e]},Be=function(){return Pe.navigationSteps},Ce=function(e){var t;return null!==(t=Be()[e])&&void 0!==t?t:{}},De=function(e,t,n){var r="step."+e,i=u.getEntriesByName(p+t).length>0;if(u.getEntriesByName(p+n).length>0&&a.steps){var o=A[a.steps[e].threshold],s=o.maxOutlierThreshold,c=o.vitalsThresholds;if(i){var l=u.measure(r,p+t,p+n),d=l.duration;if(d<=s){var m=function(e,t){return e<=t[0]?"good":e<=t[1]?"needsImprovement":"poor"}(d,c);d>=0&&(N("userJourneyStep",d,m,{stepName:e},void 0),u.measure("step.".concat(e,"_vitals_").concat(m),{start:l.startTime+l.duration,end:l.startTime+l.duration,detail:{type:"stepVital",duration:d}}))}}}},Ae=function(){var e=Be(),t=Pe.startMarkToStepsMap,n=Object.keys(e).length;if(0===n)return{};var r={},i=n-1,a=Ce(i);if(Object.keys(a).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))})),n>1){var o=Ce(i-1);Object.keys(o).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))}))}return r},Le=function(){var e,t=Object.keys(Pe.navigationSteps).length;Pe.navigationSteps[t]={};var n=Ae();null===(e=a.onMarkStep)||void 0===e||e.call(a,"",Object.keys(n))},Ue=function(e){var t,n,r,i,o,s,c;if(Pe.finalMarkToStepsMap[e]){!function(e){var t=Pe.navigationSteps,n=Pe.finalMarkToStepsMap,r=Object.keys(t).length;if(0!==r){var i=r-1,a=Ce(i);if(a&&n[e]){var o=n[e];o&&Object.keys(o).forEach((function(e){if(a[e]){var n=Ce(i)||{};n[e]=!1,t[i]=n}if(r>1){var o=i-1,s=Ce(o);s[e]&&(s[e]=!1,t[o]=s)}}))}}}(e);var u=Pe.finalMarkToStepsMap[e];Object.keys(u).forEach((function(t){var n=u[t];n.forEach(Me),Promise.all(n.map((function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(e,t){function i(e){try{o(r.next(e))}catch(e){t(e)}}function a(e){try{o(r.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}o((r=r.apply(undefined,[])).next())}))}(0,0,void 0,(function(){return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:return[4,De(n,t,e)];case 1:return r.sent(),[2]}}))}))}))).catch((function(){}))}))}else r=e,i=Pe.navigationSteps,o=Object.keys(i).length,(c=Ce(s=(o>0?o:1)-1)||[])[r]=!0,i[s]=c,function(e){var t,n=null!==(t=Pe.startMarkToStepsMap[e])&&void 0!==t?t:[];Object.keys(n).forEach((function(e){Pe.active[e]||(Pe.active[e]=!0)}))}(e);if(a.enableNavigationTracking){var l=Ae();null===(t=a.onMarkStep)||void 0===t||t.call(a,e,Object.keys(l))}else null===(n=a.onMarkStep)||void 0===n||n.call(a,e,Object.keys(Pe.active))},Re=function(e){u.mark(p+e),Ue(e)},qe=function(e){0===u.getEntriesByName(p+e).length&&(u.mark(p+e),Ue(e))},Fe=0,ze=function(){function e(e){if(void 0===e&&(e={}),this.v="9.0.0-rc.3",a.analyticsTracker=e.analyticsTracker,a.isResourceTiming=!!e.resourceTiming,a.isElementTiming=!!e.elementTiming,a.maxTime=e.maxMeasureTime||a.maxTime,a.reportOptions=e.reportOptions||a.reportOptions,a.steps=e.steps,a.onMarkStep=e.onMarkStep,a.enableNavigationTracking=e.enableNavigationTracking,m()){"PerformanceObserver"in o&&Ne(),void 0!==document.hidden&&document.addEventListener("visibilitychange",_);var t=function(){if(!m())return{};var e=u.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();R("navigationTiming",t),t.redirectTime&&q({attribution:{},name:"RT",rating:U("RT",t.redirectTime),value:t.redirectTime}),R("networkInformation",function(){if("connection"in c){var e=c.connection;return"object"!=typeof e?{}:(f=e.effectiveType,v=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),c&&c.storage&&"function"==typeof c.storage.estimate&&c.storage.estimate().then(Ie),a.steps&&a.steps&&(Pe.startMarkToStepsMap={},Pe.finalMarkToStepsMap={},Pe.active={},Pe.navigationSteps={},Object.entries(a.steps).forEach((function(e){var t,n,r=e[0],i=e[1].marks,a=i[0],o=i[1],s=null!==(n=Pe.startMarkToStepsMap[a])&&void 0!==n?n:{};if(s[r]=!0,Pe.startMarkToStepsMap[a]=s,Pe.finalMarkToStepsMap[o]){var c=Pe.finalMarkToStepsMap[o][a]||[];c.push(r),Pe.finalMarkToStepsMap[o][a]=c}else Pe.finalMarkToStepsMap[o]=((t={})[a]=[r],t)})))}}return e.prototype.start=function(e){m()&&!g[e]&&(g[e]=!0,u.mark("mark_".concat(e,"_start")))},e.prototype.end=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=!0),m()&&g[e]){u.mark("mark_".concat(e,"_end")),delete g[e];var r=function(e){u.measure(e,"mark_".concat(e,"_start"),"mark_".concat(e,"_end"));var t=u.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e);n&&R(e,O(r),t)}},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete g[e],u.clearMarks&&(u.clearMarks("mark_".concat(e,"_start")),u.clearMarks("mark_".concat(e,"_end")))},e.prototype.markNTBT=function(){var e=this;this.start("ntbt"),y.value=0,clearTimeout(Fe),Fe=setTimeout((function(){e.end("ntbt",{},!1),q({attribution:{},name:"NTBT",rating:U("NTBT",y.value),value:y.value}),y.value=0}),2e3)},e}()},426:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r=Object.assign,i={};function a(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}function o(){}function s(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}a.prototype.isReactComponent={},a.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var c=s.prototype=new o;c.constructor=s,r(c,a.prototype),c.isPureReactComponent=!0;Array.isArray,Object.prototype.hasOwnProperty;var u={current:null};t.useCallback=function(e,t){return u.current.useCallback(e,t)},t.useEffect=function(e,t){return u.current.useEffect(e,t)},t.useRef=function(e){return u.current.useRef(e)}},784:(e,t,n)=>{"use strict";e.exports=n(426)},353:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",c="object",u="string",l="major",d="model",p="name",m="type",f="vendor",v="version",g="architecture",b="console",h="mobile",w="tablet",y="smarttv",T="wearable",k="embedded",_="Amazon",S="Apple",E="ASUS",x="BlackBerry",O="Browser",j="Chrome",N="Firefox",I="Google",P="Huawei",M="LG",B="Microsoft",C="Motorola",D="Opera",A="Samsung",L="Sharp",U="Sony",R="Xiaomi",q="Zebra",F="Facebook",z="Chromium OS",K="Mac OS",$=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Q=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===u)return e=e.replace(/^\\s\\s*/,""),typeof t===s?e:e.substring(0,350)},V=function(e,t){for(var n,r,i,s,u,l,d=0;d<t.length&&!u;){var p=t[d],m=t[d+1];for(n=r=0;n<p.length&&!u&&p[n];)if(u=p[n++].exec(e))for(i=0;i<m.length;i++)l=u[++r],typeof(s=m[i])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;d+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Q(t[n][r],e))return"?"===n?a:n}else if(Q(t[n],e))return"?"===n?a:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[p,v],[/opios[\\/ ]+([\\w\\.]+)/i],[v,[p,D+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[v,[p,D]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(heytap|ovi)browser\\/([\\d\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[p,v],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[v,[p,"UC"+O]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[v,[p,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[v,[p,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\\/([\\w\\.]+)/i],[v,[p,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 Secure "+O],v],[/\\bfocus\\/([\\w\\.]+)/i],[v,[p,N+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[v,[p,D+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[v,[p,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[v,[p,D+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[v,[p,"MIUI "+O]],[/fxios\\/([-\\w\\.]+)/i],[v,[p,N]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 "+O],v],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[p,/_/g," "],v],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[p,v],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[p],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[p,F],v],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[p,v],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[v,[p,j+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[p,j+" WebView"],v],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[p,v],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[p,[v,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[p,v],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[v,[p,N+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\\/([\\w\\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\\)]/i],[[g,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[g,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[g,/ower/,"",W]],[/(sun4\\w)[;\\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[g,W]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,A],[m,w]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[f,A],[m,h]],[/(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i],[d,[f,S],[m,h]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[f,S],[m,w]],[/(macintosh);/i],[d,[f,S]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[f,L],[m,h]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[d,[f,P],[m,w]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[f,P],[m,h]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,h]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,w]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[f,"OPPO"],[m,h]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[m,h]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[d,[f,"Realme"],[m,h]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[f,C],[m,h]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[f,C],[m,w]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,M],[m,w]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[f,M],[m,h]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[d,[f,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[m,h]],[/(pixel c)\\b/i],[d,[f,I],[m,w]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[f,I],[m,h]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[f,U],[m,h]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,"Xperia Tablet"],[f,U],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[f,"OnePlus"],[m,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[f,_],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,_],[m,h]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,f,[m,w]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[f,x],[m,h]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[f,E],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[f,E],[m,h]],[/(nexus 9)/i],[d,[f,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[d,/_/g," "],[m,h]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[f,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[f,"Meizu"],[m,h]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,d,[m,h]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,d,[m,w]],[/(surface duo)/i],[d,[f,B],[m,w]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[f,"Fairphone"],[m,h]],[/(u304aa)/i],[d,[f,"AT&T"],[m,h]],[/\\bsie-(\\w*)/i],[d,[f,"Siemens"],[m,h]],[/\\b(rct\\w+) b/i],[d,[f,"RCA"],[m,w]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[f,"Dell"],[m,w]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[f,"Verizon"],[m,w]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[f,"Barnes & Noble"],[m,w]],[/\\b(tm\\d{3}\\w+) b/i],[d,[f,"NuVision"],[m,w]],[/\\b(k88) b/i],[d,[f,"ZTE"],[m,w]],[/\\b(nx\\d{3}j) b/i],[d,[f,"ZTE"],[m,h]],[/\\b(gen\\d{3}) b.+49h/i],[d,[f,"Swiss"],[m,h]],[/\\b(zur\\d{3}) b/i],[d,[f,"Swiss"],[m,w]],[/\\b((zeki)?tb.*\\b) b/i],[d,[f,"Zeki"],[m,w]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],d,[m,w]],[/\\b(ns-?\\w{0,9}) b/i],[d,[f,"Insignia"],[m,w]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[f,"NextBook"],[m,w]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[m,h]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],d,[m,h]],[/\\b(ph-1) /i],[d,[f,"Essential"],[m,h]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[f,"Envizen"],[m,w]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[f,"MachSpeed"],[m,w]],[/\\btu_(1491) b/i],[d,[f,"Rotor"],[m,w]],[/(shield[\\w ]+) b/i],[d,[f,"Nvidia"],[m,w]],[/(sprint) (\\w+)/i],[f,d,[m,h]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g," "],[f,B],[m,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[f,q],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[f,q],[m,h]],[/smart-tv.+(samsung)/i],[f,[m,y]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,"SmartTV"],[f,A],[m,y]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,M],[m,y]],[/(apple) ?tv/i],[f,[d,S+" TV"],[m,y]],[/crkey/i],[[d,j+"cast"],[f,I],[m,y]],[/droid.+aft(\\w)( bui|\\))/i],[d,[f,_],[m,y]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[f,L],[m,y]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[f,U],[m,y]],[/(mitv-\\w{5}) bui/i],[d,[f,R],[m,y]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[m,y]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[f,H],[d,H],[m,y]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[m,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[m,b]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[d,[f,U],[m,b]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[f,B],[m,b]],[/((pebble))app/i],[f,d,[m,T]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[f,S],[m,T]],[/droid.+; (glass) \\d/i],[d,[f,I],[m,T]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[f,q],[m,T]],[/(quest( 2| pro)?)/i],[d,[f,F],[m,T]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[m,k]],[/(aeobc)\\b/i],[d,[f,_],[m,k]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[d,[m,h]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[m,w]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[m,h]],[/(android[-\\w\\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[v,[p,"EdgeHTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[v,[p,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,/\\b(libweb)/i],[p,v],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[p,[v,J,X]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[p,"Windows"],[v,J,X]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/ios;fbsv\\/([\\d\\.]+)/i,/cfnetwork\\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[p,K],[v,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[p,v],[/\\(bb(10);/i],[v,[p,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[v,[p,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[v,[p,N+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[v,[p,"watchOS"]],[/crkey\\/([\\d\\.]+)/i],[v,[p,j+"cast"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[p,z],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[p,v],[/(sunos) ?([\\w\\.\\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\\w\\.]*)/i],[p,v]]},Z=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:a,r=e||(n&&n.userAgent?n.userAgent:""),b=n&&n.userAgentData?n.userAgentData:a,y=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(G,t):G,T=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[p]=a,t[v]=a,V.call(t,r,y.browser),t[l]=typeof(e=t[v])===u?e.replace(/[^\\d\\.]/g,"").split(".")[0]:a,T&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,V.call(e,r,y.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[d]=a,e[m]=a,V.call(e,r,y.device),T&&!e[m]&&b&&b.mobile&&(e[m]=h),T&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.engine),e},this.getOS=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.os),T&&!e[p]&&b&&"Unknown"!=b.platform&&(e[p]=b.platform.replace(/chrome os/i,z).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>350?H(e,350):e,this},this.setUA(r),this};Z.VERSION="1.0.35",Z.BROWSER=$([p,v,l]),Z.CPU=$([g]),Z.DEVICE=$([d,f,m,b,h,y,w,T,k]),Z.ENGINE=Z.OS=$([p,v]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(r=function(){return Z}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=Z);var Y=typeof i!==s&&(i.jQuery||i.Zepto);if(Y&&!Y.ua){var ee=new Z;Y.ua=ee.getResult(),Y.ua.get=function(){return ee.getUA()},Y.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Y.ua[n]=t[n]}}}("object"==typeof window?window:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{ActionType:()=>f,AmplitudePlatformName:()=>g,AnalyticsEventImportance:()=>l,AnalyticsQueries:()=>e,AuthStatus:()=>b,ComponentType:()=>m,IThresholdTier:()=>Jt,MetricType:()=>d,PlatformName:()=>v,SessionActions:()=>h,SessionAutomatedEvents:()=>w,SessionRank:()=>y,SubjectType:()=>p,UserTypeCommerce:()=>c,UserTypeInsto:()=>i,UserTypeRetail:()=>t,UserTypeRetailBusinessBanking:()=>s,UserTypeRetailEmployeeInternal:()=>a,UserTypeRetailEmployeePersonal:()=>o,UserTypeWallet:()=>u,automatedEvents:()=>xn,automatedMappingConfig:()=>In,clearMarkEntry:()=>Vn,clearPerformanceMarkEntries:()=>Xn,config:()=>A,createEventConfig:()=>On,createNewSpan:()=>Ln,createNewTrace:()=>Un,device:()=>W,endPerfMark:()=>Jn,exposeExperiment:()=>wn,flushQueue:()=>or,generateUUID:()=>V,getAnalyticsHeaders:()=>sr,getReferrerData:()=>le,getTracingHeaders:()=>An,getTracingId:()=>Dn,getUrlHostname:()=>pe,getUrlParams:()=>me,getUrlPathname:()=>fe,getUserContext:()=>ar,identify:()=>Tn,identifyFlow:()=>xe,identity:()=>H,identityFlow:()=>Se,incrementUjNavigation:()=>an,init:()=>yn,initNextJsTrackPageview:()=>_n,initTrackPageview:()=>kn,isEventKeyFormatValid:()=>we,isSessionEnded:()=>pt,location:()=>re,logEvent:()=>$t,logMetric:()=>Ht,logPageView:()=>on,logTrace:()=>Rn,markNTBT:()=>tn,markStep:()=>nn,markStepOnce:()=>rn,onVisibilityChange:()=>ln,optIn:()=>En,optOut:()=>Sn,perfMark:()=>Wn,persistentData:()=>oe,postMessage:()=>K,recordSessionDuration:()=>pn,removeFromIdentifyFlow:()=>Ee,savePersistentData:()=>st,sendScheduledEvents:()=>Bt,setBreadcrumbs:()=>ie,setConfig:()=>U,setLocation:()=>ae,setPagePath:()=>ve,setPageview:()=>Kt,setPersistentData:()=>se,setSessionStart:()=>dt,setTime:()=>Ue,startPerfMark:()=>Hn,timeStone:()=>Le,useEventLogger:()=>Yn,useLogEventOnMount:()=>tr,usePerformanceMarks:()=>rr});let e=function(e){return e.fbclid="fbclid",e.gclid="gclid",e.msclkid="msclkid",e.ptclid="ptclid",e.ttclid="ttclid",e.utm_source="utm_source",e.utm_medium="utm_medium",e.utm_campaign="utm_campaign",e.utm_term="utm_term",e.utm_content="utm_content",e}({});const t=0,i=1,a=2,o=3,s=4,c=5,u=6;let l=function(e){return e.low="low",e.high="high",e}({}),d=function(e){return e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram",e}({}),p=function(e){return e.commerce_merchant="commerce_merchant",e.device="device",e.edp_fingerprint_id="edp_fingerprint_id",e.nft_user="nft_user",e.user="user",e.wallet_user="wallet_user",e.uuid="user_uuid",e}({}),m=function(e){return e.unknown="unknown",e.banner="banner",e.button="button",e.card="card",e.chart="chart",e.content_script="content_script",e.dropdown="dropdown",e.link="link",e.page="page",e.modal="modal",e.table="table",e.search_bar="search_bar",e.service_worker="service_worker",e.text="text",e.text_input="text_input",e.tray="tray",e.checkbox="checkbox",e.icon="icon",e}({}),f=function(e){return e.unknown="unknown",e.blur="blur",e.click="click",e.change="change",e.dismiss="dismiss",e.focus="focus",e.hover="hover",e.select="select",e.measurement="measurement",e.move="move",e.process="process",e.render="render",e.scroll="scroll",e.view="view",e.search="search",e.keyPress="keyPress",e}({}),v=function(e){return e.unknown="unknown",e.web="web",e.android="android",e.ios="ios",e.mobile_web="mobile_web",e.tablet_web="tablet_web",e.server="server",e.windows="windows",e.macos="macos",e.extension="extension",e}({}),g=function(e){return e.web="Web",e.ios="iOS",e.android="Android",e}({}),b=function(e){return e[e.notLoggedIn=0]="notLoggedIn",e[e.loggedIn=1]="loggedIn",e}({}),h=function(e){return e.ac="ac",e.af="af",e.ah="ah",e.al="al",e.am="am",e.ar="ar",e.as="as",e}({}),w=function(e){return e.pv="pv",e}({}),y=function(e){return e.xs="xs",e.s="s",e.m="m",e.l="l",e.xl="xl",e.xxl="xxl",e}({});const T="https://analytics-service-dev.cbhq.net",k=3e5,_=5e3,S="analytics-db",E="experiment-exposure-db",x="Analytics SDK:",O=Object.values(e),j="pageview",N="session_duration",I={navigationTiming:{eventName:"perf_navigation_timing"},redirectTime:{eventName:"perf_redirect_time"},RT:{eventName:"perf_redirect_time"},TTFB:{eventName:"perf_time_to_first_byte"},networkInformation:{eventName:"perf_network_information"},storageEstimate:{eventName:"perf_storage_estimate"},FCP:{eventName:"perf_first_contentful_paint"},FID:{eventName:"perf_first_input_delay"},LCP:{eventName:"perf_largest_contentful_paint"},CLS:{eventName:"perf_cumulative_layout_shift"},TBT:{eventName:"perf_total_blocking_time"},NTBT:{eventName:"perf_navigation_total_blocking_time"},INP:{eventName:"perf_interact_to_next_paint"},ET:{eventName:"perf_element_timing"},userJourneyStep:{eventName:"perf_user_journey_step"}},P="1",M="web";function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const C=/^(https?:\\/\\/)/;function D(e){return{eventsEndpoint:e+"/amp",metricsEndPoint:e+"/metrics",exposureEndpoint:e+"/track-exposures",tracesEndpoint:e+"/traces"}}const A=B({authCookie:"logged_in",amplitudeApiKey:"",batchEventsPeriod:_,batchEventsThreshold:30,batchMetricsPeriod:_,batchMetricsThreshold:30,batchTracesPeriod:_,batchTracesThreshold:30,headers:{},interactionManager:null,isAlwaysAuthed:!1,isProd:!1,isInternalApplication:!1,onError:(e,t)=>{console.error(x,e,t)},platform:v.unknown,projectName:"",ricTimeoutScheduleEvent:1e3,ricTimeoutSetDevice:500,showDebugLogging:!1,trackUserId:!1,version:null,apiEndpoint:T},D(T),{steps:{}}),L=[].reduce(((e,t)=>n=>e(t(n))),(e=>{if(!e.isProd)return e.isInternalApplication?(e.apiEndpoint="https://analytics-service-internal-dev.cbhq.net",B({},e,D(e.apiEndpoint))):e;const t=(e=>e.apiEndpoint?C.test(e.apiEndpoint)?e.apiEndpoint:`https://${e.apiEndpoint}`:e.isInternalApplication?"https://analytics-service-internal.cbhq.net":"https://as.coinbase.com")(e);return B({},e,{apiEndpoint:t},D(t))})),U=e=>{const{batchEventsThreshold:t,batchMetricsThreshold:n,batchTracesThreshold:r}=e,i=[t,n,r];for(const e of i)if((e||0)>30){console.warn("You are setting the threshhold for the batch limit to be greater than 30. This may cause request overload.");break}Object.assign(A,L(e))},R=[v.web,v.mobile_web,v.tablet_web];function q(){return"android"===A.platform}function F(){return"ios"===A.platform}function z(){return R.includes(A.platform)}function K(e){if(z()&&navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.controller)try{navigator.serviceWorker.controller.postMessage(e)}catch(e){e instanceof Error&&A.onError(e)}}var $=n(353),Q=n.n($);const W={amplitudeOSName:null,amplitudeOSVersion:null,amplitudeDeviceModel:null,amplitudePlatform:null,browserName:null,browserMajor:null,osName:null,userAgent:null,width:null,height:null},H={countryCode:null,deviceId:null,device_os:null,isOptOut:!1,languageCode:null,locale:null,jwt:null,session_lcc_id:null,userAgent:null,userId:null},V=e=>e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,V),J=()=>A.isAlwaysAuthed||!!H.userId,X=()=>{const e={};return H.countryCode&&(e.country_code=H.countryCode),e},G=()=>{const{platform:e}=A;if(e===v.web)switch(!0){case window.matchMedia("(max-width: 560px)").matches:return v.mobile_web;case window.matchMedia("(max-width: 1024px, min-width: 561px)").matches:return v.tablet_web}return e},Z=()=>{var e,t,n,r,i;z()?("requestIdleCallback"in window?window.requestIdleCallback(ne,{timeout:A.ricTimeoutSetDevice}):ne(),W.amplitudePlatform=g.web,W.userAgent=(null==(e=window)||null==(e=e.navigator)?void 0:e.userAgent)||null,ee({height:null!=(t=null==(n=window)?void 0:n.innerHeight)?t:null,width:null!=(r=null==(i=window)?void 0:i.innerWidth)?r:null})):F()?(W.amplitudePlatform=g.ios,W.userAgent=H.userAgent,W.userAgent&&ne()):q()&&(W.userAgent=H.userAgent,W.amplitudePlatform=g.android,W.userAgent&&ne())},Y=e=>{Object.assign(H,e),z()&&K({identity:{isAuthed:!!H.userId,locale:H.locale||null}})},ee=e=>{W.height=e.height,W.width=e.width},te=()=>{U({platform:G()}),z()&&K({config:{platform:A.platform}})},ne=()=>{var e;performance.mark&&performance.mark("ua_parser_start");const t=new(Q())(null!=(e=W.userAgent)?e:"").getResult();W.browserName=t.browser.name||null,W.browserMajor=t.browser.major||null,W.osName=t.os.name||null,W.amplitudeOSName=W.browserName,W.amplitudeOSVersion=W.browserMajor,W.amplitudeDeviceModel=W.osName,K({device:{browserName:W.browserName,osName:W.osName}}),performance.mark&&(performance.mark("ua_parser_end"),performance.measure("ua_parser","ua_parser_start","ua_parser_end"))},re={breadcrumbs:[],initialUAAData:{},pageKey:"",pageKeyRegex:{},pagePath:"",prevPageKey:"",prevPagePath:""};function ie(e){Object.assign(re,{breadcrumbs:e})}function ae(e){Object.assign(re,e)}const oe={eventId:0,sequenceNumber:0,sessionId:0,lastEventTime:0,sessionStart:0,sessionUUID:null,userId:null,ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0};function se(e){Object.assign(oe,e)}function ce(){var e,t;return null!=(e=null==(t=document)?void 0:t.referrer)?e:""}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}const le=()=>{const e=ce();if(!e)return{};const t=new URL(e);return t.hostname===pe()?{}:{referrer:e,referring_domain:t.hostname}},de=()=>{const e=new URLSearchParams(me()),t={};return O.forEach((n=>{e.has(n)&&(t[n]=(e.get(n)||"").toLowerCase())})),t},pe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.hostname)||""},me=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.search)||""},fe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.pathname)||""},ve=()=>{const e=A.overrideWindowLocation?re.pagePath:fe()+me();e&&e!==re.pagePath&&(e!==re.pagePath&&ge(),re.pagePath=e,re.pageKeyRegex&&Object.keys(re.pageKeyRegex).some((e=>{if(re.pageKeyRegex[e].test(re.pagePath))return re.pageKey=e,!0})))},ge=()=>{if(z()){const e=ce();if(!re.prevPagePath&&e){const t=new URL(e);if(t.hostname===pe())return void(re.prevPagePath=t.pathname)}}re.prevPagePath=re.pagePath,re.prevPageKey=re.pageKey},be=e=>{z()&&Object.assign(e,z()?(Object.keys(re.initialUAAData).length>0||(new URLSearchParams(me()),re.initialUAAData=ue({},(()=>{const e={};return O.forEach((t=>{oe[t]&&(e[t]=oe[t])})),e})(),de(),le())),re.initialUAAData):re.initialUAAData)},he=/^[a-zd]+(_[a-zd]+)*$/;function we(e){return he.test(e)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}const Te=["action","component_type","component_name","context","logging_id"],ke=["num_non_hardware_accounts","ujs"],_e="ujs_",Se={};function Ee(e){e.forEach((e=>{ke.includes(e)&&delete Se[e]}))}function xe(e){var t;const n=Object.entries(e).reduce(((e,t)=>{const[n,r]=t;return!Te.includes(n)&&ke.includes(n)?we(n)?ye({},e,{[n]:r}):(A.onError(new Error("IdentityFlow property names must have snake case format"),{[n]:r}),e):e}),{});null!=(t=n.ujs)&&t.length&&(n.ujs=n.ujs.map((e=>`${_e}${e}`))),Object.assign(Se,n)}function Oe(){return A.platform!==v.unknown||(A.onError(new Error("SDK platform not initialized")),!1)}const je={eventsQueue:[],eventsScheduled:!1,metricsQueue:[],metricsScheduled:!1,tracesQueue:[],tracesScheduled:!1};function Ne(e){Object.assign(je,e)}const Ie={ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0},Pe={ac:20,af:5,ah:1,al:1,am:0,ar:10,as:20},Me={pv:25},Be={xs:0,s:1,m:1,l:2,xl:2,xxl:2},Ce=e=>e<15?y.xs:e<60?y.s:e<240?y.m:e<960?y.l:e<3840?y.xl:y.xxl,De=e=>{Object.assign(Ie,e)};function Ae(){return(new Date).getTime()}const Le={timeStart:Ae(),timeOnPagePath:0,timeOnPageKey:0,prevTimeOnPagePath:0,prevTimeOnPageKey:0,sessionDuration:0,sessionEnd:0,sessionStart:0,prevSessionDuration:0};function Ue(e){Object.assign(Le,e)}const Re=(e,t)=>t.some((t=>e instanceof t));let qe,Fe;const ze=new WeakMap,Ke=new WeakMap,$e=new WeakMap,Qe=new WeakMap,We=new WeakMap;let He={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ke.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$e.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Je(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ve(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Xe(this),e),Je(ze.get(this))}:function(...e){return Je(t.apply(Xe(this),e))}:function(e,...n){const r=t.call(Xe(this),e,...n);return $e.set(r,e.sort?e.sort():[e]),Je(r)}:(e instanceof IDBTransaction&&function(e){if(Ke.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ke.set(e,t)}(e),Re(e,qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,He):e);var t}function Je(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Je(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&ze.set(t,e)})).catch((()=>{})),We.set(t,e),t}(e);if(Qe.has(e))return Qe.get(e);const t=Ve(e);return t!==e&&(Qe.set(e,t),We.set(t,e)),t}const Xe=e=>We.get(e),Ge=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Ye=new Map;function et(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ye.get(t))return Ye.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ge.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Ye.set(t,a),a}var tt;tt=He,He={...tt,get:(e,t,n)=>et(e,t)||tt.get(e,t,n),has:(e,t)=>!!et(e,t)||tt.has(e,t)};const nt={isReady:!1,idbKeyval:null};function rt(e){Object.assign(nt,e)}const it={},at=async e=>{if(!nt.idbKeyval)return Promise.resolve(null);try{return await nt.idbKeyval.get(e)}catch(e){return A.onError(new Error("IndexedDB:Get:InternalError")),Promise.resolve(null)}},ot=async(e,t)=>{if(nt.idbKeyval)try{await nt.idbKeyval.set(e,t)}catch(e){A.onError(new Error("IndexedDB:Set:InternalError"))}},st=()=>{"server"!==A.platform&&(se({sessionStart:Le.sessionStart,ac:Ie.ac,af:Ie.af,ah:Ie.ah,al:Ie.al,am:Ie.am,ar:Ie.ar,as:Ie.as,pv:Ie.pv}),H.userId&&se({userId:H.userId}),ot(S,oe))},ct="rgb(5,177,105)",ut=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`%c ${x}`,a=`color:${ct};font-size:11px;`,o=`Importance: ${r}`;console.group(i,a,t,o),n.forEach((e=>{e.event_type?console.log(e.event_type,e):console.log(e)})),console.groupEnd()},lt=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`color:${ct};font-size:11px;`,a=`%c ${x}`,o=`Importance: ${r}`;console.log(a,i,t,n,o)},dt=()=>{const e=Ae();oe.sessionId&&oe.lastEventTime&&oe.sessionUUID&&!pt(e)||(oe.sessionId=e,oe.sessionUUID=V(),Ue({sessionStart:e}),lt({metricName:"Started new session:",data:{persistentData:oe,timeStone:Le}})),oe.lastEventTime=e},pt=e=>e-oe.lastEventTime>18e5;function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}const ft=e=>{var t;(e=>{switch(e.action){case f.click:Ie.ac+=1;break;case f.focus:Ie.af+=1;break;case f.hover:Ie.ah+=1;break;case f.move:Ie.am+=1;break;case f.scroll:Ie.al+=1;break;case f.search:Ie.ar+=1;break;case f.select:Ie.as+=1}})(t=e),t.event_type!==j?t.event_type===N&&((e=>{if(!e.session_rank)return;const t=e.session_rank;Object.values(h).forEach((e=>{Ie.sqs+=Ie[e]*Pe[e]})),Object.values(w).forEach((e=>{Ie.sqs+=Ie[e]*Me[e]})),Ie.sqs*=Be[t]})(t),Object.assign(t,Ie),De({ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0})):Ie.pv+=1;const n=e.event_type;delete e.event_type;const r=e.deviceId?e.deviceId:null,i=e.timestamp;return delete e.timestamp,se({eventId:oe.eventId+1}),se({sequenceNumber:oe.sequenceNumber+1}),dt(),st(),{device_id:H.deviceId||r||null,user_id:H.userId,timestamp:i,event_id:oe.eventId,session_id:oe.sessionId||-1,event_type:n,version_name:A.version||null,platform:W.amplitudePlatform,os_name:W.amplitudeOSName,os_version:W.amplitudeOSVersion,device_model:W.amplitudeDeviceModel,language:H.languageCode,event_properties:mt({},e,{session_uuid:oe.sessionUUID,height:W.height,width:W.width}),user_properties:X(),uuid:V(),library:{name:"@cbhq/client-analytics",version:"10.6.0"},sequence_number:oe.sequenceNumber,user_agent:W.userAgent||H.userAgent}},vt=e=>e.map((e=>ft(e)));function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}const bt=e=>e.map((e=>(e=>{const t=e.tags||{},n=gt({authed:J()?"true":"false",platform:A.platform},t,{project_name:A.projectName,version_name:A.version||null});return{metric_name:e.metricName,page_path:e.pagePath||null,value:e.value,tags:n,type:e.metricType}})(e))),ht=e=>0!==je.metricsQueue.length&&(je.metricsQueue.length>=A.batchMetricsThreshold||(je.metricsScheduled||(je.metricsScheduled=!0,setTimeout((()=>{je.metricsScheduled=!1,e(bt(je.metricsQueue)),je.metricsQueue=[]}),A.batchMetricsPeriod)),!1)),wt=e=>0!==je.tracesQueue.length&&(je.tracesQueue.length>=A.batchTracesThreshold||(je.tracesScheduled||(je.tracesScheduled=!0,setTimeout((()=>{je.tracesScheduled=!1,e(je.tracesQueue),je.tracesQueue=[]}),A.batchTracesPeriod)),!1)),yt=e=>{var t;z()&&null!=(t=window)&&t.requestIdleCallback?window.requestIdleCallback(e,{timeout:A.ricTimeoutScheduleEvent}):(q()||F())&&A.interactionManager?A.interactionManager.runAfterInteractions(e):e()};function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}const kt="application/x-www-form-urlencoded; charset=UTF-8",_t=e=>{const{data:t,importance:n,isJSON:r,onError:i,url:a}=e,o=r?"application/json":kt,s=n||l.low,c=r?JSON.stringify(t):new URLSearchParams(t).toString();function u(){const e=new XMLHttpRequest;e.open("POST",a,!0),Object.keys(A.headers||{}).forEach((t=>{e.setRequestHeader(t,A.headers[t])})),e.setRequestHeader("Content-Type",kt),H.jwt&&e.setRequestHeader("authorization",`Bearer ${H.jwt}`),e.send(c)}if(!z()||r||!("sendBeacon"in navigator)||s!==l.low||A.headers&&0!==Object.keys(A.headers).length)if(z()&&!r)u();else{const e=Tt({},A.headers,{"Content-Type":o});H.jwt&&(e.Authorization=`Bearer ${H.jwt}`),fetch(a,{method:"POST",mode:"no-cors",headers:e,body:c}).catch((e=>{i(e,{context:"AnalyticsSDKApiError"})}))}else{const e=new Blob([c],{type:kt});try{navigator.sendBeacon.bind(navigator)(a,e)||u()}catch(e){console.error(e),u()}}};var St=n(762),Et=n.n(St);const xt=(e,t,n)=>{const r=e||"";return Et()("2"+r+t+n)};function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}class jt extends Error{constructor(e){super(e),this.name="CircularJsonReference",this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}class Nt extends jt{constructor(...e){super(...e),this.name="DomReferenceInAnalyticsEvent"}}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}const Pt=(e,t=l.low)=>{var n;e&&je.eventsQueue.push(e),nt.isReady&&(!A.trackUserId||H.userId?(t===l.high||(n=Mt,0!==je.eventsQueue.length&&(je.eventsQueue.length>=A.batchEventsThreshold||(je.eventsScheduled||(je.eventsScheduled=!0,setTimeout((()=>{je.eventsScheduled=!1,n(vt(je.eventsQueue)),je.eventsQueue=[]}),A.batchEventsPeriod)),0))))&&Bt():je.eventsQueue.length>10&&(A.trackUserId=!1,A.onError(new Error("userId not set in Logged-in"))))},Mt=(e,t=l.low)=>{if(H.isOptOut||0===e.length)return;let n;try{n=JSON.stringify(e)}catch(t){const r=e.map((e=>e.event_type)).join(", "),[i,a]=(e=>{try{const n=[];for(const r of e){const e=Ot({},r);r.event_properties&&(e.event_properties=Ot({},e.event_properties,{currentTarget:null,target:null,relatedTarget:null,_dispatchInstances:null,_targetInst:null,view:(t=r.event_properties.view,["string","number","boolean"].includes(typeof t)?r.event_properties.view:null)})),n.push(e)}return[!0,JSON.stringify(n)]}catch(e){return[!1,""]}var t})(e);if(!i)return void A.onError(new jt(t instanceof Error?t.message:"unknown"),{listEventType:r});n=a,A.onError(new Nt("Found DOM element reference"),{listEventType:r,stringifiedEventData:n})}const r=Ae().toString(),i=It({},{e:n,v:"2",upload_time:r},{client:A.amplitudeApiKey,checksum:xt(A.amplitudeApiKey,n,r)});_t({url:A.eventsEndpoint,data:i,importance:t,onError:A.onError}),ut({metricName:"Batch Events",data:e,importance:t})},Bt=()=>{Mt(vt(je.eventsQueue)),Ne({eventsQueue:[]})};function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}const Dt=Object.values(f),At=Object.values(m),Lt=e=>Dt.includes(e)?e:f.unknown,Ut=e=>At.includes(e)?e:m.unknown,Rt=(e,t,n)=>{const r={auth:J()?b.loggedIn:b.notLoggedIn,action:Lt(e),component_type:Ut(t),logging_id:n,platform:A.platform,project_name:A.projectName};return"number"==typeof H.userTypeEnum&&(r.user_type_enum=H.userTypeEnum),r},qt=e=>{const t=Ae();if(!e)return A.onError(new Error("missing logData")),Ct({},Rt(f.unknown,m.unknown),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});const n=Ct({},e,Rt(e.action,e.componentType,e.loggingId),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});return delete n.componentType,delete n.loggingId,n},Ft={blacklistRegex:[],isEnabled:!1};function zt(){return{page_key:re.pageKey,page_path:re.pagePath,prev_page_key:re.prevPageKey,prev_page_path:re.prevPagePath}}function Kt(e){Object.assign(Ft,e)}function $t(e,t,n=l.low){if(H.isOptOut)return;if(!Oe())return;const r=qt(t);!function(e){Ft.isEnabled&&(ve(),Object.assign(e,zt()))}(r),be(r),function(e){Object.keys(Se).length>0&&Object.assign(e,Se)}(r),r.has_double_fired=!1,r.event_type=e,n===l.high?Pt(r,n):yt((()=>{Pt(r)}))}function Qt(e,t=!1){t?_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Metrics",data:e})}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ht(e){if(!Oe())return;v.server!==A.platform&&!e.pagePath&&re.pagePath&&(e.pagePath=re.pagePath);const t=Object.keys(Se).length?Wt({},e.tags,Se):e.tags;t&&Object.assign(e,{tags:t}),je.metricsQueue.push(e),ht(Qt)&&(Qt(bt(je.metricsQueue)),je.metricsQueue=[])}function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}let Jt=function(e){return e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable",e}({});function Xt(e){return e.toLowerCase()}let Gt={};const Zt=(e,t)=>{null!=A&&A.onMarkStep&&A.onMarkStep(e,t),xe({ujs:t})};let Yt;const en={Perfume:()=>{},markStep:e=>{},markStepOnce:e=>{},incrementUjNavigation:()=>{}},tn=()=>{z()&&Yt&&Yt.markNTBT&&Yt.markNTBT()},nn=e=>{z()&&Yt&&en.markStep&&en.markStep(e)},rn=e=>{z()&&Yt&&en.markStepOnce&&en.markStepOnce(e)},an=()=>{z()&&Yt&&en.incrementUjNavigation&&en.incrementUjNavigation()};function on(e={callMarkNTBT:!0}){"unknown"!==A.platform&&(Ft.blacklistRegex.some((e=>e.test(fe())))||($t(j,{action:f.render,componentType:m.page}),e.callMarkNTBT&&tn()))}let sn=!1,cn=!1;const un=e=>{sn=!e.persisted},ln=(e,t="hidden",n=!1)=>{cn||(addEventListener("pagehide",un),addEventListener("beforeunload",(()=>{})),cn=!0),addEventListener("visibilitychange",(({timeStamp:n})=>{document.visibilityState===t&&e({timeStamp:n,isUnloading:sn})}),{capture:!0,once:n})},dn=36e3;function pn(){const e=pt(Ae());if(e&&(O.forEach((e=>{oe[e]&&delete oe[e]})),st()),!oe.lastEventTime||!Le.sessionStart||!e)return;const t=Math.round((oe.lastEventTime-Le.sessionStart)/1e3);if(t<1||t>dn)return;const n=Ce(t);$t(N,{action:f.measurement,componentType:m.page,session_duration:t,session_end:oe.lastEventTime,session_start:Le.sessionStart,session_rank:n})}function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mn.apply(this,arguments)}const fn=[],vn=[],gn=()=>{const e=fn.shift();e&&e()},bn=()=>{const e=vn.shift();e&&e()};let hn={};function wn(e){const t=function(e){return{test_name:e.testName,group_name:e.group,subject_id:e.subjectId,exposed_at:Ae(),subject_type:e.subjectType,platform:A.platform}}(e);hn[e.testName]=hn[e.testName]||0,hn[e.testName]+k>Ae()?lt({metricName:`Event: exposeExperiment ${e.testName} not sent`,data:t}):(hn[e.testName]=Ae(),ot(E,hn),lt({metricName:`Event: exposeExperiment ${e.testName} sent`,data:t}),_t({url:A.exposureEndpoint,data:[t],onError:(t,n)=>{hn[e.testName]=0,ot(E,hn),A.onError(t,n)},isJSON:!0,importance:l.high}))}const yn=e=>{var t,r,i;U(e),z()&&(H.languageCode=(null==(t=navigator)?void 0:t.languages[0])||(null==(r=navigator)?void 0:r.language)||""),te(),(()=>{var e;if(z()&&null!=(e=window)&&e.indexedDB){const e=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Je(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Je(o.result),e.oldVersion,e.newVersion,Je(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("keyval-store",1,{upgrade(e){e.createObjectStore("keyval")}});rt({idbKeyval:{get:async t=>(await e).get("keyval",t),set:async(t,n)=>(await e).put("keyval",n,t),delete:async t=>(await e).delete("keyval",t),keys:async()=>(await e).getAllKeys("keyval")}})}else rt({idbKeyval:{get:async e=>new Promise((t=>{t(it[e])})),set:async(e,t)=>new Promise((n=>{it[e]=t,n(e)})),delete:async e=>new Promise((()=>{delete it[e]})),keys:async()=>new Promise((e=>{e(Object.keys(it))}))}})})(),lt({metricName:"Initialized Analytics:",data:{deviceId:H.deviceId}}),fn.push((()=>{Pt()})),(async()=>{const e=await at(S);rt({isReady:!0}),gn(),e&&(bn(),se({eventId:e.eventId||oe.eventId,sequenceNumber:e.sequenceNumber||oe.sequenceNumber,sessionId:e.sessionId||oe.sessionId,lastEventTime:e.lastEventTime||oe.lastEventTime,sessionUUID:e.sessionUUID||oe.sessionUUID}),function(e){se(mn({},function(e){const t={};return O.forEach((n=>{e[n]&&(t[n]=e[n])})),t}(e),de()))}(e),Ue({sessionStart:e.sessionStart||oe.sessionStart}),De({ac:e.ac||Ie.ac,af:e.af||Ie.af,ah:e.ah||Ie.ah,al:e.al||Ie.al,am:e.am||Ie.am,ar:e.ar||Ie.ar,as:e.as||Ie.as,pv:e.pv||Ie.pv}),A.trackUserId&&Y({userId:e.userId||H.userId}),pn(),lt({metricName:"Initialized Analytics IndexedDB:",data:e}))})(),async function(){at(E).then((e=>{hn=null!=e?e:{}})).catch((e=>{e instanceof Error&&A.onError(e)}))}(),Z(),z()&&(ln((()=>{se({lastEventTime:Ae()}),st(),Bt()}),"hidden"),ln((()=>{pn()}),"visible")),z()&&(i=()=>{var e,t,n,r;te(),ee({width:null!=(e=null==(t=window)?void 0:t.innerWidth)?e:null,height:null!=(n=null==(r=window)?void 0:r.innerHeight)?n:null})},addEventListener("resize",(()=>{requestAnimationFrame((()=>{i()}))}))),(()=>{if(z())try{const e=n(2);en.markStep=e.markStep,en.markStepOnce=e.markStepOnce,en.incrementUjNavigation=e.incrementUjNavigation,Yt=new e.Perfume({analyticsTracker:e=>{const{data:t,attribution:n,metricName:r,navigatorInformation:i,rating:a}=e,o=I[r],s=(null==n?void 0:n.category)||null;if(!o&&!s)return;const c=(null==i?void 0:i.deviceMemory)||0,u=(null==i?void 0:i.hardwareConcurrency)||0,l=(null==i?void 0:i.isLowEndDevice)||!1,p=(null==i?void 0:i.isLowEndExperience)||!1,v=(null==i?void 0:i.serviceWorkerStatus)||"unsupported",g=Vt({deviceMemory:c,hardwareConcurrency:u,isLowEndDevice:l,isLowEndExperience:p,serviceWorkerStatus:v},Gt),b={is_low_end_device:l,is_low_end_experience:p,page_key:re.pageKey||"",save_data:t.saveData||!1,service_worker:v,is_perf_metric:!0};if("navigationTiming"===r)t&&"number"==typeof t.redirectTime&&Ht({metricName:I.redirectTime.eventName,metricType:d.histogram,tags:b,value:t.redirectTime||0});else if("TTFB"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),Ht({metricName:I.TTFB.eventName,metricType:d.histogram,tags:Vt({},b),value:t}),a&&Ht({metricName:`perf_web_vitals_ttfb_${a}`,metricType:d.count,tags:b,value:1});else if("networkInformation"===r)null!=t&&t.effectiveType&&(Gt=t,$t(o.eventName,{action:f.measurement,componentType:m.page,networkInformationDownlink:t.downlink,networkInformationEffectiveType:t.effectiveType,networkInformationRtt:t.rtt,networkInformationSaveData:t.saveData,navigatorDeviceMemory:c,navigatorHardwareConcurrency:u}));else if("storageEstimate"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page},t,g)),Ht({metricName:"perf_storage_estimate_caches",metricType:d.histogram,tags:b,value:t.caches}),Ht({metricName:"perf_storage_estimate_indexed_db",metricType:d.histogram,tags:b,value:t.indexedDB});else if("CLS"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,score:100*t||null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_cls_${a}`,metricType:d.count,tags:b,value:1});else if("FID"===r){const e=(null==n?void 0:n.performanceEntry)||null,r=parseInt((null==e?void 0:e.processingStart)||"");$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,processingStart:null!=e&&e.processingStart?r:null,startTime:null!=e&&e.startTime?parseInt(e.startTime):null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_fidVitals_${a}`,metricType:d.count,tags:b,value:1})}else"userJourneyStep"===r?($t("perf_user_journey_step",Vt({action:f.measurement,componentType:m.page,duration:t||null,rating:null!=a?a:null,step_name:(null==n?void 0:n.stepName)||""},g)),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}_vitals_${a}`,metricType:d.count,tags:b,value:1}),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}`,metricType:d.distribution,tags:b,value:t||null})):I[r]&&t&&($t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),a&&(Ht({metricName:`perf_web_vitals_${Xt(r)}_${a}`,metricType:d.count,tags:b,value:1}),"LCP"===r&&Ht({metricName:`perf_web_vitals_${Xt(r)}`,metricType:d.distribution,tags:b,value:t})))},maxMeasureTime:3e4,steps:A.steps,onMarkStep:Zt})}catch(e){e instanceof Error&&A.onError(e)}})()},Tn=e=>{Y(e),e.userAgent&&Z(),lt({metricName:"Identify:",data:{countryCode:H.countryCode,deviceId:H.deviceId,userId:H.userId}})},kn=({blacklistRegex:e,pageKeyRegex:t,browserHistory:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.listen((()=>{on()}))},_n=({blacklistRegex:e,pageKeyRegex:t,nextJsRouter:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.events.on("routeChangeComplete",(()=>{on()}))},Sn=()=>{Y({isOptOut:!0}),ot(S,{})},En=()=>{Y({isOptOut:!1})},xn={Button:{label:"cb_button",uuid:"e921a074-40e6-4371-8700-134d5cd633e6",componentType:m.button}};function On(e,t,n){return{componentName:e,actions:t,data:n}}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}function Nn(e,t,n){const{componentName:r,data:i}=n;$t(e.label,jn({componentType:e.componentType,action:t,loggingId:e.uuid,component_name:r},i))}const In={actionMapping:{onPress:f.click,onHover:f.hover},handlers:{Button:{[f.click]:e=>Nn(xn.Button,f.click,e),[f.hover]:e=>Nn(xn.Button,f.hover,e)}}};function Pn(e,t=!1){t?_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Traces",data:e})}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}const Bn=1e6;function Cn(e){return e*Bn}function Dn(e=function(){var e;return null==(e=window)?void 0:e.crypto}()){const t=new Uint32Array(2);return null==e||e.getRandomValues(t),((BigInt(t[0])<<BigInt(32))+BigInt(t[1])).toString()}function An(e,t){return{"x-datadog-origin":"rum","x-datadog-parent-id":t,"x-datadog-sampling-priority":"1","x-datadog-trace-id":e}}function Ln(e){var t;const{name:n,traceId:r,spanId:i,start:a,duration:o,resource:s,meta:c}=e;return{duration:o?Cn(o):0,name:n,resource:s,service:A.projectName,span_id:null!=i?i:Dn(),start:a?Cn(a):0,trace_id:null!=r?r:Dn(),parent_id:P,type:M,meta:Mn({platform:A.platform},re.pageKey?{page_key:re.pageKey}:{},null!=(t=Se.ujs)&&t.length?{last_ujs:Se.ujs[Se.ujs.length-1]}:{},null!=c?c:{})}}function Un(e){return[Ln(e)]}function Rn(e,t){Oe()&&function(e){return e.length>0}(e)&&(t&&function(e,t){e.forEach((e=>function(e,t){const n=Mn({},e.meta,t.meta),r={start:t.start?Cn(t.start):e.start,duration:t.duration?Cn(t.duration):e.duration};Object.assign(e,t,Mn({meta:n},r))}(e,t)))}(e,t),je.tracesQueue.push(e),wt(Pn)&&(Pn(je.tracesQueue),je.tracesQueue=[]))}function qn(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}function zn(){return void 0!==typeof window&&"performance"in window&&"mark"in performance&&"getEntriesByName"in performance}function Kn(e,t){return`perf_${e}${null!=t&&t.label?`_${t.label}`:""}`}function $n(e,t,n){return`${Kn(e,n)}__${t}`}let Qn={};function Wn(e,t,n){if(!zn())return;const r=$n(e,t,n);if(performance.mark(r),"end"===t){const t=Kn(e,n);!function(e,t,n){try{performance.measure(e,t,n)}catch(e){A.onError(e)}}(t,$n(e,"start",n),r);const i=performance.getEntriesByName(t).pop();i&&Ht(Fn({metricName:e,metricType:d.distribution,value:i.duration},null!=n&&n.tags?{tags:n.tags}:{}))}}function Hn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]||(Wn(e,"start",t),Qn[n]=!0)}function Vn(e,t){const n=$n(e,"start",t),r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(Qn,[n].map(qn));Qn=r}function Jn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]&&(Wn(e,"end",t),Vn(e,t))}function Xn(){zn()&&(performance.clearMarks(),Qn={})}var Gn=n(784);function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function Yn(e,t,n=l.low){const r=(0,Gn.useRef)(t);return(0,Gn.useEffect)((()=>{r.current=t}),[t]),(0,Gn.useCallback)((t=>{$t(e,Zn({},r.current,t),n)}),[e,n])}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function tr(e,t,n=l.low){(0,Gn.useEffect)((()=>{const r=er({},t,{action:f.render});$t(e,r,n)}),[])}function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}const rr=function(e,t){return{markStartPerf:(0,Gn.useCallback)((()=>Hn(e,t)),[e,t]),markEndPerf:(0,Gn.useCallback)((n=>Jn(e,nr({},t,n))),[e,t])}};function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)}function ar(){return Object.entries(ir({},Se,zt(),{sessionUUID:oe.sessionUUID,userId:oe.userId})).reduce(((e,t)=>{return null!=(n=t[1])&&""!==n?ir({},e,{[t[0]]:t[1]}):e;var n}),{})}async function or(){return new Promise((e=>{Mt(vt(je.eventsQueue)),Qt(bt(je.metricsQueue),!0),Pn(je.tracesQueue,!0),Ne({eventsQueue:[],metricsQueue:[],tracesQueue:[]}),e()}))}function sr(){return{"X-CB-Device-ID":H.deviceId||"unknown","X-CB-Is-Logged-In":H.userId?"true":"false","X-CB-Pagekey":re.pageKey||"unknown","X-CB-UJS":(e=Se.ujs,void 0===e||0===e.length?"":e.join(",")),"X-CB-Platform":A.platform||"unknown","X-CB-Project-Name":A.projectName||"unknown","X-CB-Session-UUID":oe.sessionUUID||"unknown","X-CB-Version-Name":A.version?String(A.version):"unknown"};var e}})(),r})()}));',art=()=>new Promise((t,e)=>{if(window.ClientAnalytics)return t();try{const n=document.createElement("script");n.textContent=ort,n.type="text/javascript",document.head.appendChild(n),crt(),document.head.removeChild(n),t()}catch{console.error("Failed to execute inlined telemetry script"),e()}}),crt=()=>{var t,e,n;if(typeof window<"u"){const r=(n=(t=tt.config.get().deviceId)!==null&&t!==void 0?t:(e=window.crypto)===null||e===void 0?void 0:e.randomUUID())!==null&&n!==void 0?n:"";if(window.ClientAnalytics){const{init:i,identify:s,PlatformName:o}=window.ClientAnalytics;i({isProd:!0,amplitudeApiKey:"c66737ad47ec354ced777935b0af822e",platform:o.web,projectName:"base_account_sdk",showDebugLogging:!1,version:"1.0.0",apiEndpoint:"https://cca-lite.coinbase.com"}),s({deviceId:r}),tt.config.set({deviceId:r})}}},di={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},x7={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},Cae="Unspecified error message.",lrt="Unspecified server error.";function qM(t,e=Cae){if(t&&Number.isInteger(t)){const n=t.toString();if(A7(x7,n))return x7[n].message;if(_ae(t))return lrt}return e}function urt(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(x7[e]||_ae(t))}function drt(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&A7(t,"code")&&urt(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,A7(r,"data")&&(n.data=r.data)):(n.message=qM(n.code),n.data={originalError:cK(t)})}else n.code=di.rpc.internal,n.message=lK(t,"message")?t.message:Cae,n.data={originalError:cK(t)};return e&&(n.stack=lK(t,"stack")?t.stack:void 0),n}function _ae(t){return t>=-32099&&t<=-32e3}function cK(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function A7(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lK(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Fe={rpc:{parse:t=>Wc(di.rpc.parse,t),invalidRequest:t=>Wc(di.rpc.invalidRequest,t),invalidParams:t=>Wc(di.rpc.invalidParams,t),methodNotFound:t=>Wc(di.rpc.methodNotFound,t),internal:t=>Wc(di.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Wc(e,t)},invalidInput:t=>Wc(di.rpc.invalidInput,t),resourceNotFound:t=>Wc(di.rpc.resourceNotFound,t),resourceUnavailable:t=>Wc(di.rpc.resourceUnavailable,t),transactionRejected:t=>Wc(di.rpc.transactionRejected,t),methodNotSupported:t=>Wc(di.rpc.methodNotSupported,t),limitExceeded:t=>Wc(di.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>nb(di.provider.userRejectedRequest,t),unauthorized:t=>nb(di.provider.unauthorized,t),unsupportedMethod:t=>nb(di.provider.unsupportedMethod,t),disconnected:t=>nb(di.provider.disconnected,t),chainDisconnected:t=>nb(di.provider.chainDisconnected,t),unsupportedChain:t=>nb(di.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Sae(e,n,r)}}};function Wc(t,e){const[n,r]=Iae(e);return new FM(t,n||qM(t),r)}function nb(t,e){const[n,r]=Iae(e);return new Sae(t,n||qM(t),r)}function Iae(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class FM extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class Sae extends FM{constructor(e,n,r){if(!hrt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function hrt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function uK(t){return typeof t=="object"&&t!==null&&"code"in t&&"data"in t&&t.code===-32090&&typeof t.data=="object"&&t.data!==null&&"type"in t.data&&t.data.type==="INSUFFICIENT_FUNDS"}function xae(t){return typeof t=="object"&&t!==null&&"details"in t}function prt(t){try{const e=JSON.parse(t.details);return new FM(e.code,e.message,e.data)}catch{return null}}function Aae(){return t=>t}const WC=Aae(),frt=Aae();function zh(t){return Math.floor(t)}const kae=/^[0-9]*$/,$ae=/^[a-f0-9]*$/;function nw(t){return HM(crypto.getRandomValues(new Uint8Array(t)))}function HM(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function pS(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function yE(t,e=!1){const n=t.toString("hex");return WC(e?`0x${n}`:n)}function mN(t){return yE($7(t),!0)}function Ku(t){return frt(t.toString(10))}function r1(t){return WC(`0x${BigInt(t).toString(16)}`)}function Tae(t){return t.startsWith("0x")||t.startsWith("0X")}function VM(t){return Tae(t)?t.slice(2):t}function Nae(t){return Tae(t)?`0x${t.slice(2)}`:`0x${t}`}function Mk(t){if(typeof t!="string")return!1;const e=VM(t).toLowerCase();return $ae.test(e)}function k7(t,e=!1){if(typeof t=="string"){const n=VM(t).toLowerCase();if($ae.test(n))return WC(e?`0x${n}`:n)}throw Fe.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function KM(t,e=!1){let n=k7(t,!1);return n.length%2===1&&(n=WC(`0${n}`)),e?WC(`0x${n}`):n}function ff(t){if(typeof t=="string"){const e=VM(t).toLowerCase();if(Mk(e)&&e.length===40)return Nae(e)}throw Fe.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function $7(t){if(window.Buffer.isBuffer(t))return t;if(typeof t=="string"){if(Mk(t)){const e=KM(t,!1);return window.Buffer.from(e,"hex")}return window.Buffer.from(t,"utf8")}throw Fe.rpc.invalidParams(`Not binary data: ${String(t)}`)}function bE(t){if(typeof t=="number"&&Number.isInteger(t))return zh(t);if(typeof t=="string"){if(kae.test(t))return zh(Number(t));if(Mk(t))return zh(Number(BigInt(KM(t,!0))))}throw Fe.rpc.invalidParams(`Not an integer: ${String(t)}`)}function s3(t){if(t!==null&&(typeof t=="bigint"||mrt(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(bE(t));if(typeof t=="string"){if(kae.test(t))return BigInt(t);if(Mk(t))return BigInt(KM(t,!0))}throw Fe.rpc.invalidParams(`Not an integer: ${String(t)}`)}function grt(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Fe.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function mrt(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}const wrt=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,yrt=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(wrt)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:brt,getCrossOriginOpenerPolicy:vrt}=yrt();async function vE(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":l2,"X-Cbw-Sdk-Platform":vae}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function Ert(){return globalThis.coinbaseWalletExtension}function Crt(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function _rt({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const c=Ert();if(c)return(n=c.setAppInfo)===null||n===void 0||n.call(c,i,s,o,e),c}const a=Crt();if(a?.isCoinbaseBrowser)return(r=a.setAppInfo)===null||r===void 0||r.call(a,i,s,o,e),a}function Irt(t){if(!t||typeof t!="object"||Array.isArray(t))throw Fe.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Fe.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Fe.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Fe.provider.unsupportedMethod()}}function Srt(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties");if(t.telemetry&&typeof t.telemetry!="boolean")throw new Error("Telemetry must be a boolean")}}function dK(t){if(typeof t!="function")throw new Error("toAccount is not a function")}const xrt="https://keys.coinbase.com/connect",Oae="https://rpc.wallet.coinbase.com",hK="https://www.walletlink.org",Art="https://go.cb-w.com/walletlink";var an;(function(t){t.unknown="unknown",t.banner="banner",t.button="button",t.card="card",t.chart="chart",t.content_script="content_script",t.dropdown="dropdown",t.link="link",t.page="page",t.modal="modal",t.table="table",t.search_bar="search_bar",t.service_worker="service_worker",t.text="text",t.text_input="text_input",t.tray="tray",t.checkbox="checkbox",t.icon="icon"})(an||(an={}));var cn;(function(t){t.unknown="unknown",t.blur="blur",t.click="click",t.change="change",t.dismiss="dismiss",t.focus="focus",t.hover="hover",t.select="select",t.measurement="measurement",t.move="move",t.process="process",t.render="render",t.scroll="scroll",t.view="view",t.search="search",t.keyPress="keyPress",t.error="error"})(cn||(cn={}));var ln;(function(t){t.low="low",t.high="high"})(ln||(ln={}));function wn(t,e,n){var r,i,s,o;window.ClientAnalytics&&((r=window.ClientAnalytics)===null||r===void 0||r.logEvent(t,Object.assign(Object.assign({},e),{sdkVersion:l2,appName:(s=(i=tt.config.get().metadata)===null||i===void 0?void 0:i.appName)!==null&&s!==void 0?s:"",appOrigin:window.location.origin,appPreferredSigner:(o=tt.config.get().preference)===null||o===void 0?void 0:o.options}),n))}const krt=()=>{wn("communicator.popup_setup.started",{action:cn.unknown,componentType:an.unknown},ln.high)},$rt=()=>{wn("communicator.popup_setup.completed",{action:cn.unknown,componentType:an.unknown},ln.high)},Trt=()=>{wn("communicator.popup_unload.received",{action:cn.unknown,componentType:an.unknown},ln.high)},ZM=({snackbarContext:t})=>{wn(`snackbar.${t}.shown`,{action:cn.render,componentType:an.modal,snackbarContext:t},ln.high)},_1=({snackbarContext:t,snackbarAction:e})=>{wn(`snackbar.${t}.action_clicked`,{action:cn.click,componentType:an.button,snackbarContext:t,snackbarAction:e},ln.high)},Nrt='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function Pae(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(Nrt)),document.documentElement.appendChild(t)}function Ort(){try{return window.frameElement!==null}catch{return!1}}function Prt(){try{return Ort()&&window.top?window.top.location:window.location}catch{return window.location}}function Rrt(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function Rae(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const Drt=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",Urt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",Mrt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Dae{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=Rae()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&jC(tr("div",null,tr(Uae,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>tr(Lrt,Object.assign({},n,{key:e}))))),this.root)}}const Uae=t=>tr("div",{class:ig("-cbwsdk-snackbar-container")},tr("style",null,Drt),tr("div",{class:"-cbwsdk-snackbar"},t.children)),Lrt=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=cp(!0),[s,o]=cp(t??!1);Vx(()=>{const c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return tr("div",{class:ig("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},tr("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},tr("img",{src:Urt,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",tr("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),tr("div",{class:"-gear-container"},!s&&tr("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tr("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),tr("img",{src:Mrt,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&tr("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((c,l)=>tr("div",{class:ig("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:l},tr("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tr("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),tr("span",{class:ig("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))},Mae="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class jrt{constructor(){this.attached=!1,this.snackbar=new Dae}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,Pae()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:Mae,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const pK=420,fK=700,Brt={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:Mae,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},zrt="Popup was blocked. Try again.";let aI=null;function Wrt(t){const e=(window.innerWidth-pK)/2+window.screenX,n=(window.innerHeight-fK)/2+window.screenY;Frt(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${pK}, height=${fK}, left=${e}, top=${n}`);return o?.focus(),o||null}let i=r();if(!i){const s=GM();return new Promise((o,a)=>{ZM({snackbarContext:"popup_blocked"}),s.presentItem({autoExpand:!0,message:zrt,menuItems:[Object.assign(Object.assign({},Brt),{onClick:()=>{_1({snackbarContext:"popup_blocked",snackbarAction:"confirm"}),i=r(),i?o(i):a(Fe.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function qrt(t){t&&!t.closed&&t.close()}function Frt(t){const e={sdkName:vae,sdkVersion:l2,origin:window.location.origin,coop:vrt()};for(const[n,r]of Object.entries(e))t.searchParams.has(n)||t.searchParams.append(n,r.toString())}function GM(){if(!aI){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),aI=new Dae,aI.attach(t)}return aI}let Hrt=class{constructor({url:e=xrt,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const l=c.data;i(l)&&(s(l),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{qrt(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Fe.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(krt(),this.popup=await Wrt(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(()=>{this.disconnect(),Trt()}).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:l2,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Fe.rpc.internal();return $rt(),this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}};function js(t){return t.errorMessage!==void 0}function Vrt(t){const e=drt(Krt(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",l2),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function Krt(t){var e;if(typeof t=="string")return{message:t,code:di.rpc.internal};if(js(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?di.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}let Zrt=class extends $A{};class v0{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new v0("CBWSDK").clear(),new v0("walletlink").clear()}}const Grt=({signerType:t})=>{wn("provider.signer.loaded_from_storage",{action:cn.measurement,componentType:an.unknown,signerType:t},ln.low)},Yrt=({method:t,correlationId:e})=>{wn("provider.request.started",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e},ln.high)},Jrt=({method:t,correlationId:e,signerType:n,errorMessage:r})=>{wn("provider.request.error",{action:cn.error,componentType:an.unknown,method:t,signerType:n,correlationId:e,errorMessage:r},ln.high)},Xrt=({method:t,signerType:e,correlationId:n})=>{wn("provider.request.responded",{action:cn.unknown,componentType:an.unknown,method:t,signerType:e,correlationId:n},ln.high)},Qrt=()=>{wn("provider.enable_function.called",{action:cn.measurement,componentType:an.unknown},ln.high)},eit=()=>{wn("signer.selection.requested",{action:cn.unknown,componentType:an.unknown},ln.high)},tit=t=>{wn("signer.selection.responded",{action:cn.unknown,componentType:an.unknown,signerType:t},ln.high)},cI=ky(()=>({correlationIds:new Map})),ru={get:t=>cI.getState().correlationIds.get(t),set:(t,e)=>{cI.setState(n=>{const r=new Map(n.correlationIds);return r.set(t,e),{correlationIds:r}})},delete:t=>{cI.setState(e=>{const n=new Map(e.correlationIds);return n.delete(t),{correlationIds:n}})},clear:()=>{cI.setState({correlationIds:new Map})}},nit=({method:t,correlationId:e})=>{var n;wn("scw_signer.handshake.started",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},rit=({method:t,correlationId:e,errorMessage:n})=>{var r;wn("scw_signer.handshake.error",{action:cn.error,componentType:an.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=tt.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},ln.high)},iit=({method:t,correlationId:e})=>{var n;wn("scw_signer.handshake.completed",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},sit=({method:t,correlationId:e})=>{var n;wn("scw_signer.request.started",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},oit=({method:t,correlationId:e,errorMessage:n})=>{var r;wn("scw_signer.request.error",{action:cn.error,componentType:an.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=tt.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},ln.high)},ait=({method:t,correlationId:e})=>{var n;wn("scw_signer.request.completed",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},cit=({method:t,correlationId:e})=>{var n;wn("scw_sub_account.request.started",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},lit=({method:t,correlationId:e})=>{var n;wn("scw_sub_account.request.completed",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},uit=({method:t,correlationId:e,errorMessage:n})=>{var r;wn("scw_sub_account.request.error",{action:cn.error,componentType:an.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=tt.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},ln.high)},dit=({method:t,correlationId:e})=>{var n;wn("scw_sub_account.add_owner.started",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},hit=({method:t,correlationId:e})=>{var n;wn("scw_sub_account.add_owner.completed",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},pit=({method:t,correlationId:e,errorMessage:n})=>{var r;wn("scw_sub_account.add_owner.error",{action:cn.error,componentType:an.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=tt.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},ln.high)},fit=({method:t,correlationId:e})=>{var n;wn("scw_sub_account.insufficient_balance.error_handling.started",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},git=({method:t,correlationId:e})=>{var n;wn("scw_sub_account.insufficient_balance.error_handling.completed",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=tt.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},ln.high)},mit=({method:t,correlationId:e,errorMessage:n})=>{var r;wn("scw_sub_account.insufficient_balance.error_handling.error",{action:cn.error,componentType:an.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=tt.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},ln.high)},rw=t=>"message"in t&&typeof t.message=="string"?t.message:"",Lae=ky(()=>({}));function gK(t){t.forEach(e=>{var n,r,i,s,o,a,c,l;if(!e.rpcUrl)return;const u=OA({id:e.id,rpcUrls:{default:{http:[e.rpcUrl]}},name:(r=(n=e.nativeCurrency)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",nativeCurrency:{name:(s=(i=e.nativeCurrency)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:"",symbol:(a=(o=e.nativeCurrency)===null||o===void 0?void 0:o.symbol)!==null&&a!==void 0?a:"",decimals:(l=(c=e.nativeCurrency)===null||c===void 0?void 0:c.decimal)!==null&&l!==void 0?l:18}}),d=vee({chain:u,transport:mo(e.rpcUrl)}),h=Eee({client:d,transport:mo(e.rpcUrl)});Lae.setState({[e.id]:{client:d,bundlerClient:h}})})}function jae(t){var e;return(e=Lae.getState()[t])===null||e===void 0?void 0:e.client}function uc(t,e,n){if(t==null)throw e??Fe.rpc.invalidParams({message:"value must be present",data:t})}function Df(t,e){if(!Array.isArray(t))throw Fe.rpc.invalidParams({message:e??"value must be an array",data:t})}function lI(t){if(typeof t!="object"||t===null)throw Fe.rpc.internal("sub account info is not an object");if(!("address"in t))throw Fe.rpc.internal("sub account is invalid");if("address"in t&&typeof t.address=="string"&&!gg(t.address))throw Fe.rpc.internal("sub account address is invalid");if("factory"in t&&typeof t.factory=="string"&&!gg(t.factory))throw Fe.rpc.internal("sub account factory address is invalid");if("factoryData"in t&&typeof t.factoryData=="string"&&!oc(t.factoryData))throw Fe.rpc.internal("sub account factory data is invalid")}async function wit(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function yit(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function bit(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function vit(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function Bae(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function zae(t,e){const n=Bae(t),r=await crypto.subtle.exportKey(n,e);return HM(new Uint8Array(r))}async function Wae(t,e){const n=Bae(t),r=pS(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function Eit(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return bit(e,n)}async function Cit(t,e){return JSON.parse(await vit(e,t))}function _it(t,e){const n=typeof indexedDB<"u"?j_(t,e):void 0;return{getItem:async r=>{const i=await aC(r,n);return i||null},removeItem:async r=>YA(r,n),setItem:async(r,i)=>GA(r,i,n)}}const Iit="cbwsdk",Sit="keys",YM="activeId",uv=_it(Iit,Sit);async function xit(){const t=await Kee({extractable:!1}),e=Kv(Zv(t.publicKey),1);return await uv.setItem(e,t),await uv.setItem(YM,e),t}async function Ait(){const t=await uv.getItem(YM);if(!t)return null;const e=await uv.getItem(t);return e||null}async function kit(){const t=await Ait();if(!t){const e=await xit(),n=Kv(Zv(e.publicKey),1);return await uv.setItem(n,e),await uv.setItem(YM,n),e}return t}async function $it(){const t=await kit(),e=Kv(Zv(t.publicKey),1),n=async r=>{const{payload:i,metadata:s}=Fee({challenge:r,origin:"https://keys.coinbase.com",userVerification:"preferred"}),o=await Hee({payload:i,privateKey:t.privateKey});return{signature:Vee(o),raw:{},webauthn:s}};return{id:e,publicKey:e,async sign({hash:r}){return n(r)},async signMessage({message:r}){return n(Vv(r))},async signTypedData(r){return n(Fg(r))},type:"webAuthn"}}async function Gx(){return{account:await $it()}}const mK={storageKey:"ownPrivateKey",keyType:"private"},wK={storageKey:"ownPublicKey",keyType:"public"},yK={storageKey:"peerPublicKey",keyType:"public"};class Tit{constructor(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(yK,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,tt.keys.clear()}async generateKeyPair(){const e=await wit();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(mK,e.privateKey),await this.storeKey(wK,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(mK)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(wK)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(yK)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await yit(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=tt.keys.get(e.storageKey);return n?Wae(e.keyType,n):null}async storeKey(e,n){const r=await zae(e.keyType,n);tt.keys.set(e.storageKey,r)}}function X3(t,e){if(!(typeof t!="object"||t===null))return e.split(/[.[\]]+/).filter(Boolean).reduce((n,r)=>{if(typeof n=="object"&&n!==null)return n[r]},t)}const qae="0x0ba5ed0c6aa8c49038f819e587e2633c4a9f428a",Fae="0xf85210B21cC50302F477BA56686d2019dC9b67Ad",du=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"owner",type:"bytes"}],name:"AlreadyOwner",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidEthereumAddressOwner",type:"error"},{inputs:[{name:"key",type:"uint256"}],name:"InvalidNonceKey",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidOwnerBytesLength",type:"error"},{inputs:[],name:"LastOwner",type:"error"},{inputs:[{name:"index",type:"uint256"}],name:"NoOwnerAtIndex",type:"error"},{inputs:[{name:"ownersRemaining",type:"uint256"}],name:"NotLastOwner",type:"error"},{inputs:[{name:"selector",type:"bytes4"}],name:"SelectorNotAllowed",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnauthorizedCallContext",type:"error"},{inputs:[],name:"UpgradeFailed",type:"error"},{inputs:[{name:"index",type:"uint256"},{name:"expectedOwner",type:"bytes"},{name:"actualOwner",type:"bytes"}],name:"WrongOwnerAtIndex",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"AddOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"RemoveOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"REPLAYABLE_NONCE_KEY",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"addOwnerAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"addOwnerPublicKey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"functionSelector",type:"bytes4"}],name:"canSkipChainIdValidation",outputs:[{name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"entryPoint",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"calls",type:"bytes[]"}],name:"executeWithoutChainIdValidation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHashWithoutChainId",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"$",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"owners",type:"bytes[]"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"isOwnerAddress",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"bytes"}],name:"isOwnerBytes",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"isOwnerPublicKey",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"result",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextOwnerIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"ownerAtIndex",outputs:[{name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownerCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeLastOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeOwnerAtIndex",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"removedOwnersCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"}],name:"replaySafeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"newImplementation",type:"address"},{name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],Hae=[{inputs:[{name:"implementation_",type:"address"}],stateMutability:"payable",type:"constructor"},{inputs:[],name:"OwnerRequired",type:"error"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"createAccount",outputs:[{name:"account",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"getAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"}];function bK(t){var e;if(!Array.isArray(t.params))return null;switch(t.method){case"personal_sign":return t.params[1];case"eth_signTypedData_v4":return t.params[0];case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":return(e=t.params[0])===null||e===void 0?void 0:e.from;default:return null}}function Nit(t,e){if(!Array.isArray(t.params))throw Fe.rpc.invalidParams();const n=[...t.params];switch(t.method){case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":n[0].from=e;break;case"eth_signTypedData_v4":n[0]=e;break;case"personal_sign":n[1]=e;break}return Object.assign(Object.assign({},t),{params:n})}function vK(t){var e;if(!t||!Array.isArray(t)||!(!((e=t[0])===null||e===void 0)&&e.chainId)||typeof t[0].chainId!="string"&&typeof t[0].chainId!="number")throw Fe.rpc.invalidParams()}function Oit(t){if(!t||!Array.isArray(t)||t.length!==1&&t.length!==2||typeof t[0]!="string"||!gg(t[0]))throw Fe.rpc.invalidParams();if(t.length===2){if(!Array.isArray(t[1]))throw Fe.rpc.invalidParams();for(const e of t[1])if(typeof e!="string"||!e.startsWith("0x"))throw Fe.rpc.invalidParams()}}function Yx(t,e){const n=Object.assign({},t);if(e&&t.method.startsWith("wallet_")){let r=X3(n,"params.0.capabilities");if(typeof r>"u"&&(r={}),typeof r!="object")throw Fe.rpc.invalidParams();r=Object.assign(Object.assign({},e),r),n.params&&Array.isArray(n.params)&&(n.params[0]=Object.assign(Object.assign({},n.params[0]),{capabilities:r}))}return n}async function wN(){var t;const e=(t=tt.subAccountsConfig.get())!==null&&t!==void 0?t:{},n={};if(e.enableAutoSubAccounts){const{account:r}=e.toOwnerAccount?await e.toOwnerAccount():await Gx();if(!r)throw Fe.provider.unauthorized("No owner account found");n.addSubAccount={account:{type:"create",keys:[{type:r.address?"address":"webauthn-p256",publicKey:r.address||r.publicKey}]}}}tt.subAccountsConfig.set({capabilities:n})}function Pit(t){if(!(t.method==="coinbase_fetchPermissions"&&t.params===void 0)){if(t.method==="coinbase_fetchPermissions"&&Array.isArray(t.params)&&t.params.length===1&&typeof t.params[0]=="object"){if(typeof t.params[0].account!="string"||!t.params[0].chainId.startsWith("0x"))throw Fe.rpc.invalidParams("FetchPermissions - Invalid params: params[0].account must be a hex string");if(typeof t.params[0].chainId!="string"||!t.params[0].chainId.startsWith("0x"))throw Fe.rpc.invalidParams("FetchPermissions - Invalid params: params[0].chainId must be a hex string");if(typeof t.params[0].spender!="string"||!t.params[0].spender.startsWith("0x"))throw Fe.rpc.invalidParams("FetchPermissions - Invalid params: params[0].spender must be a hex string");return}throw Fe.rpc.invalidParams()}}function Rit(t){var e,n,r;if(t.params!==void 0)return t;const i=(e=tt.getState().account.accounts)===null||e===void 0?void 0:e[0],s=(n=tt.getState().account.chain)===null||n===void 0?void 0:n.id,o=(r=tt.getState().subAccount)===null||r===void 0?void 0:r.address;if(!i||!o||!s)throw Fe.rpc.invalidParams("FetchPermissions - one or more of account, sub account, or chain id is missing, connect to sub account via wallet_connect first");return{method:"coinbase_fetchPermissions",params:[{account:i,chainId:rr(s),spender:o}]}}function Dit({spendPermission:t,chainId:e}){return{domain:{name:"Spend Permission Manager",version:"1",chainId:e,verifyingContract:Fae},types:{SpendPermission:[{name:"account",type:"address"},{name:"spender",type:"address"},{name:"token",type:"address"},{name:"allowance",type:"uint160"},{name:"period",type:"uint48"},{name:"start",type:"uint48"},{name:"end",type:"uint48"},{name:"salt",type:"uint256"},{name:"extraData",type:"bytes"}]},primaryType:"SpendPermission",message:{account:t.account,spender:t.spender,token:t.token,allowance:t.allowance,period:t.period,start:t.start,end:t.end,salt:t.salt,extraData:t.extraData}}}function Uit({spendPermissionBatch:t,chainId:e}){return{domain:{name:"Spend Permission Manager",version:"1",chainId:e,verifyingContract:Fae},types:{SpendPermissionBatch:[{name:"account",type:"address"},{name:"period",type:"uint48"},{name:"start",type:"uint48"},{name:"end",type:"uint48"},{name:"permissions",type:"PermissionDetails[]"}],PermissionDetails:[{name:"spender",type:"address"},{name:"token",type:"address"},{name:"allowance",type:"uint160"},{name:"salt",type:"uint256"},{name:"extraData",type:"bytes"}]},primaryType:"SpendPermissionBatch",message:{account:t.account,period:t.period,start:t.start,end:t.end,permissions:t.permissions.map(n=>({spender:n.spender,token:n.token,allowance:n.allowance,salt:n.salt,extraData:n.extraData}))}}}async function Vae({client:t,id:e}){var n;const r=await Qh(t,{id:e});if(r.status==="success")return(n=r.receipts)===null||n===void 0?void 0:n[0].transactionHash;throw Fe.rpc.internal("failed to send transaction")}function Kae({calls:t,from:e,chainId:n,capabilities:r}){const i=Eae.get().paymasterUrls;let s={method:"wallet_sendCalls",params:[{version:"1.0",calls:t,chainId:rr(n),from:e,atomicRequired:!0,capabilities:r}]};return i?.[n]&&(s=Yx(s,{paymasterService:{url:i?.[n]}})),s}async function Mit(){const t=GM();return await new Promise(n=>{ZM({snackbarContext:"sub_account_insufficient_balance"}),t.presentItem({autoExpand:!0,message:"Insufficient spend permission. Choose how to proceed:",menuItems:[{isRed:!1,info:"Create new Spend Permission",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{_1({snackbarContext:"sub_account_insufficient_balance",snackbarAction:"create_permission"}),t.clear(),n("update_permission")}},{isRed:!1,info:"Continue in Popup",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{_1({snackbarContext:"sub_account_insufficient_balance",snackbarAction:"continue_in_popup"}),t.clear(),n("continue_popup")}},{isRed:!0,info:"Cancel",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{_1({snackbarContext:"sub_account_insufficient_balance",snackbarAction:"cancel"}),t.clear(),n("cancel")}}]})})}function Lit({errorData:t,sourceAddress:e}){var n;const r=[];for(const[i,{amount:s,sources:o}]of Object.entries((n=t?.required)!==null&&n!==void 0?n:{})){if(o.filter(c=>lE(c.balance)>=lE(s)&&c.address.toLowerCase()===e?.toLowerCase()).length===0)throw new Error("Source address has insufficient balance for a token");r.push({token:i,requiredAmount:lE(s)})}return r}function jit(t){return typeof t=="object"&&t!==null&&"calls"in t}function Bit(t){return Array.isArray(t)&&t.length===1&&typeof t[0]=="object"&&t[0]!==null&&"to"in t[0]}function zit(t){return Cee(_ee(wo(t)),0,16)}function Wit({attribution:t,dappOrigin:e}){if(t){if("auto"in t&&t.auto&&e)return zit(e);if("dataSuffix"in t)return t.dataSuffix}}function qit(t,e){var n;if(!Array.isArray(t?.params))return!1;const r=(n=t.params[0])===null||n===void 0?void 0:n.capabilities;return!r||typeof r!="object"?!1:e in r}function uI(t,e){const n=t.filter(r=>r!==e);return[e,...n]}function dI(t,e){return[...t.filter(r=>r!==e),e]}async function Fit(){const t=tt.spendPermissions.get(),e=tt.subAccounts.get(),n=tt.account.get().accounts;return n?{accounts:n?.map(i=>({address:i,capabilities:{subAccounts:e?[e]:void 0,spendPermissions:t.length>0?{permissions:t}:void 0}}))}:null}function Hit(t){return t.replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}function hI(t){const e=btoa(String.fromCharCode(...new Uint8Array(t)));return Hit(e)}function Vit({webauthn:t,signature:e,id:n}){const r=MA(e);return{id:n,rawId:hI(kS(n)),response:{authenticatorData:hI(N1(t.authenticatorData)),clientDataJSON:hI(kS(t.clientDataJSON)),signature:hI(Kit(r.r,r.s))},type:JSON.parse(t.clientDataJSON).type}}function Kit(t,e){const n=N1($S(rr(t))),r=N1($S(rr(e))),i=n.length,s=r.length,o=i+s+4,a=new Uint8Array(o+2);return a[0]=48,a[1]=o,a[2]=2,a[3]=i,a.set(n,4),a[i+4]=2,a[i+5]=s,a.set(r,i+6),a}var Zit=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};async function Git(t){const{owner:e,ownerIndex:n,address:r,client:i,factoryData:s}=t,o={abi:xee,address:See,version:"0.6"},a={abi:Hae,address:qae};return Iee({client:i,entryPoint:o,extend:{abi:du,factory:a},async decodeCalls(c){const l=PA({abi:du,data:c});if(l.functionName==="execute")return[{to:l.args[0],value:l.args[1],data:l.args[2]}];if(l.functionName==="executeBatch")return l.args[0].map(u=>({to:u.target,value:u.value,data:u.data}));throw new $_(`unable to decode calls for "${l.functionName}"`)},async encodeCalls(c){var l,u;return c.length===1?Fs({abi:du,functionName:"execute",args:[c[0].to,(l=c[0].value)!==null&&l!==void 0?l:BigInt(0),(u=c[0].data)!==null&&u!==void 0?u:"0x"]}):Fs({abi:du,functionName:"executeBatch",args:[c.map(d=>{var h,p;return{data:(h=d.data)!==null&&h!==void 0?h:"0x",target:d.to,value:(p=d.value)!==null&&p!==void 0?p:BigInt(0)}})]})},async getAddress(){return r},async getFactoryArgs(){return s?{factory:a.address,factoryData:s}:{factory:a.address,factoryData:s}},async getStubSignature(){return e.type==="webAuthn"?"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000001949fc7c88032b9fcb5f6efc7a7b8c63668eae9871b765e23123bb473ff57aa831a7c0d9276168ebcc29f2875a0239cffdf2a9cd1c2007c5c77c071db9264df1d000000000000000000000000000000000000000000000000000000000000002549960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97630500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008a7b2274797065223a22776562617574686e2e676574222c226368616c6c656e6765223a2273496a396e6164474850596759334b7156384f7a4a666c726275504b474f716d59576f4d57516869467773222c226f726967696e223a2268747470733a2f2f7369676e2e636f696e626173652e636f6d222c2263726f73734f726967696e223a66616c73657d00000000000000000000000000000000000000000000":o3({ownerIndex:n,signature:"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"})},async sign(c){const l=await this.getAddress(),u=yN({address:l,chainId:i.chain.id,hash:c.hash}),d=await pI({hash:u,owner:e});return o3({ownerIndex:n,signature:d})},async signMessage(c){const{message:l}=c,u=await this.getAddress(),d=yN({address:u,chainId:i.chain.id,hash:Vv(l)}),h=await pI({hash:d,owner:e});return o3({ownerIndex:n,signature:h})},async signTypedData(c){const{domain:l,types:u,primaryType:d,message:h}=c,p=await this.getAddress(),f=yN({address:p,chainId:i.chain.id,hash:Fg({domain:l,message:h,primaryType:d,types:u})}),g=await pI({hash:f,owner:e});return o3({ownerIndex:n,signature:g})},async signUserOperation(c){const{chainId:l=i.chain.id}=c,u=Zit(c,["chainId"]),d=await this.getAddress(),h=Aee({chainId:l,entryPointAddress:o.address,entryPointVersion:o.version,userOperation:Object.assign(Object.assign({},u),{sender:d})}),p=await pI({hash:h,owner:e});return o3({ownerIndex:n,signature:p})},userOperation:{async estimateGas(c){var l;if(e.type==="webAuthn")return{verificationGasLimit:BigInt(Math.max(Number((l=c.verificationGasLimit)!==null&&l!==void 0?l:BigInt(0)),8e5))}}}})}async function pI({hash:t,owner:e}){if(e.type==="webAuthn"){const{signature:n,webauthn:r}=await e.sign({hash:t});return Yit({signature:n,webauthn:r})}if(e.sign)return e.sign({hash:t});throw new $_("`owner` does not support raw sign.")}function yN({address:t,chainId:e,hash:n}){return Fg({domain:{chainId:e,name:"Coinbase Smart Wallet",verifyingContract:t,version:"1"},types:{CoinbaseSmartWalletMessage:[{name:"hash",type:"bytes32"}]},primaryType:"CoinbaseSmartWalletMessage",message:{hash:n}})}function Yit({webauthn:t,signature:e}){const{r:n,s:r}=MA(e);return RA([{components:[{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"bytes"},{name:"challengeIndex",type:"uint256"},{name:"typeIndex",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"}],type:"tuple"}],[{authenticatorData:t.authenticatorData,clientDataJSON:kee(t.clientDataJSON),challengeIndex:BigInt(t.challengeIndex),typeIndex:BigInt(t.typeIndex),r:n,s:r}])}function o3(t){const{ownerIndex:e=0}=t,n=(()=>{if($ee(t.signature)!==65)return t.signature;const r=Tee(t.signature);return Nee(["bytes32","bytes32","uint8"],[r.r,r.s,r.yParity===0?27:28])})();return RA([{components:[{name:"ownerIndex",type:"uint8"},{name:"signatureData",type:"bytes"}],type:"tuple"}],[{ownerIndex:e,signatureData:n}])}async function Jit({address:t,client:e,factory:n,factoryData:r,owner:i,ownerIndex:s,parentAddress:o,attribution:a}){var c;const l={address:t,factory:n,factoryData:r},u=(c=e.chain)===null||c===void 0?void 0:c.id;if(!u)throw Fe.rpc.internal("chainId not found");const d=await Git({owner:i,ownerIndex:s??1,address:t,client:e,factoryData:r}),h=async p=>{var f,g,m,b,y,v;try{switch(p.method){case"wallet_addSubAccount":return l;case"eth_accounts":return[l.address];case"eth_coinbase":return l.address;case"net_version":return u.toString();case"eth_chainId":return rr(u);case"eth_sendTransaction":{Df(p.params);const w=p.params[0];uc(w.to,Fe.rpc.invalidParams("to is required"));const C={to:w.to,data:k7((f=w.data)!==null&&f!==void 0?f:"0x",!0),value:k7((g=w.value)!==null&&g!==void 0?g:"0x",!0),from:(m=w.from)!==null&&m!==void 0?m:l.address},I=Kae({calls:[C],chainId:u,from:C.from}),k=await h(I);return Vae({client:e,id:k})}case"wallet_sendCalls":{Df(p.params);const w=X3(p.params[0],"chainId");if(!w)throw Fe.rpc.invalidParams("chainId is required");if(!oc(w))throw Fe.rpc.invalidParams("chainId must be a hex encoded integer");if(!p.params[0])throw Fe.rpc.invalidParams("params are required");if(!("calls"in p.params[0]))throw Fe.rpc.invalidParams("calls are required");let C={method:"wallet_prepareCalls",params:[{version:"1.0",calls:p.params[0].calls,chainId:w,from:l.address,capabilities:"capabilities"in p.params[0]?p.params[0].capabilities:{}}]};o&&(C=Yx(C,{funding:[{type:"spendPermission",data:{autoApply:!0,sources:[o],preference:"PREFER_DIRECT_BALANCE"}}]}));let I=await h(C);const k=await((y=(b=i).sign)===null||y===void 0?void 0:y.call(b,{hash:TS(I.signatureRequest.hash)}));let P;if(!k)throw Fe.rpc.internal("signature not found");return oc(k)?P={type:"secp256k1",data:{address:i.address,signature:k}}:P={type:"webauthn",data:{signature:JSON.stringify(Vit(Object.assign({id:(v=i.id)!==null&&v!==void 0?v:"1"},k))),publicKey:i.publicKey}},(await h({method:"wallet_sendPreparedCalls",params:[{version:"1.0",type:I.type,data:I.userOp,chainId:I.chainId,signature:P}]}))[0]}case"wallet_sendPreparedCalls":{Df(p.params);const w=X3(p.params[0],"chainId");if(!w)throw Fe.rpc.invalidParams("chainId is required");if(!oc(w))throw Fe.rpc.invalidParams("chainId must be a hex encoded integer");return await e.request({method:"wallet_sendPreparedCalls",params:p.params})}case"wallet_prepareCalls":{Df(p.params);const w=X3(p.params[0],"chainId");if(!w)throw Fe.rpc.invalidParams("chainId is required");if(!oc(w))throw Fe.rpc.invalidParams("chainId must be a hex encoded integer");if(!p.params[0])throw Fe.rpc.invalidParams("params are required");if(!X3(p.params[0],"calls"))throw Fe.rpc.invalidParams("calls are required");const C=p.params[0];return a&&C.capabilities&&!("attribution"in C.capabilities)&&(C.capabilities.attribution=a),await e.request({method:"wallet_prepareCalls",params:[Object.assign(Object.assign({},p.params[0]),{chainId:w})]})}case"personal_sign":{if(Df(p.params),!oc(p.params[0]))throw Fe.rpc.invalidParams("message must be a hex encoded string");const w=TS(p.params[0]);return d.signMessage({message:w})}case"eth_signTypedData_v4":{Df(p.params);const w=typeof p.params[1]=="string"?JSON.parse(p.params[1]):p.params[1];return d.signTypedData(w)}case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":default:throw Fe.rpc.methodNotSupported()}}catch(w){if(xae(w)){const C=prt(w);if(C)throw C}throw w}};return{request:h}}async function Zae({address:t,client:e,publicKey:n,factory:r,factoryData:i}){if(!await Oee(e,{address:t})&&r&&i){if(pd(r)!==pd(qae))throw Fe.rpc.internal("unknown factory address");const a=PA({abi:Hae,data:i});if(a.functionName!=="createAccount")throw Fe.rpc.internal("unknown factory function");const[c]=a.args;return c.findIndex(l=>l.toLowerCase()===EK(n).toLowerCase())}const o=await NS(e,{address:t,abi:du,functionName:"ownerCount"});for(let a=Number(o)-1;a>=0;a--){const c=await NS(e,{address:t,abi:du,functionName:"ownerAtIndex",args:[BigInt(a)]}),l=EK(n);if(c.toLowerCase()===l.toLowerCase())return a}return-1}function EK(t){return gg(t)?Pee(t):t}async function Xit(){const t=GM();return new Promise(e=>{ZM({snackbarContext:"sub_account_add_owner"}),t.presentItem({autoExpand:!0,message:"App requires a signer update",menuItems:[{isRed:!1,info:"Confirm",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{_1({snackbarContext:"sub_account_add_owner",snackbarAction:"confirm"}),t.clear(),e("authenticate")}},{isRed:!0,info:"Cancel",svgWidth:"10",svgHeight:"11",path:"",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:()=>{_1({snackbarContext:"sub_account_add_owner",snackbarAction:"cancel"}),t.clear(),e("cancel")}}]})})}async function Qit({ownerAccount:t,globalAccountRequest:e}){var n,r;const i=tt.account.get(),s=tt.subAccounts.get(),o=(n=i.accounts)===null||n===void 0?void 0:n.find(f=>f.toLowerCase()!==s?.address.toLowerCase());uc(o,Fe.provider.unauthorized("no global account")),uc((r=i.chain)===null||r===void 0?void 0:r.id,Fe.provider.unauthorized("no chain id")),uc(s?.address,Fe.provider.unauthorized("no sub account"));const a=[];if(t.type==="local"&&t.address&&a.push({to:s.address,data:Fs({abi:du,functionName:"addOwnerAddress",args:[t.address]}),value:wo(0)}),t.publicKey){const[f,g]=DA([{type:"bytes32"},{type:"bytes32"}],t.publicKey);a.push({to:s.address,data:Fs({abi:du,functionName:"addOwnerPublicKey",args:[f,g]}),value:wo(0)})}const c={method:"wallet_sendCalls",params:[{version:"1",calls:a,chainId:rr(84532),from:o}]};if(await Xit()==="cancel")throw Fe.provider.unauthorized("user cancelled");const u=await e(c),d=jae(i.chain.id);if(uc(d,Fe.rpc.internal(`client not found for chainId ${i.chain.id}`)),(await Qh(d,{id:u})).status!=="success")throw Fe.rpc.internal("add owner call failed");const p=await Zae({address:s.address,publicKey:t.type==="local"&&t.address?t.address:t.publicKey,client:d});if(p===-1)throw Fe.rpc.internal("failed to find owner index");return p}async function est({errorData:t,globalAccountAddress:e,subAccountAddress:n,client:r,request:i,subAccountRequest:s,globalAccountRequest:o}){var a;const c=(a=r.chain)===null||a===void 0?void 0:a.id;uc(c,Fe.rpc.internal("invalid chainId"));const l=Lit({errorData:t,sourceAddress:e}),u=await Mit();if(u==="cancel")throw new Error("User cancelled funding");let d;const h=3600*24,p=3;if(u==="update_permission"){if(l.length===1){const v=l[0],w=Dit({spendPermission:{token:v.token,allowance:rr(v.requiredAmount*BigInt(p)),period:h,account:e,spender:n,start:0,end:0xffffffffffff,salt:rr(BigInt(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),extraData:"0x"},chainId:c});d={method:"eth_signTypedData_v4",params:[e,w]}}else{const v=Uit({spendPermissionBatch:{account:e,period:h,start:0,end:0xffffffffffff,permissions:l.map(w=>({token:w.token,allowance:rr(w.requiredAmount*BigInt(p)),period:h,account:e,spender:n,salt:"0x0",extraData:"0x"}))},chainId:c});d={method:"eth_signTypedData_v4",params:[e,v]}}try{await o(d)}catch(v){throw console.error(v),new Error("User denied spend permission request")}return s(i)}const f=l.map(v=>v.token.toLowerCase()==="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE".toLowerCase()?{to:n,value:rr(v.requiredAmount),data:"0x"}:{to:v.token,value:"0x0",data:Fs({abi:F3,functionName:"transfer",args:[n,v.requiredAmount]})});let g;if(i.method==="wallet_sendCalls"&&jit(i.params))g=i.params[0];else if(i.method==="eth_sendTransaction"&&Bit(i.params))g=Kae({calls:[i.params[0]],chainId:c,from:i.params[0].from}).params[0];else throw new Error("Could not get original call");const m=Fs({abi:du,functionName:"executeBatch",args:[g.calls.map(v=>{var w,C;return{target:v.to,value:lE((w=v.value)!==null&&w!==void 0?w:"0x0"),data:(C=v.data)!==null&&C!==void 0?C:"0x"}})]}),b=[...f,{data:m,to:n,value:"0x0"}],y=await o({method:"wallet_sendCalls",params:[Object.assign(Object.assign({},g),{calls:b,from:e})]});return i.method==="eth_sendTransaction"?Vae({client:r,id:y}):y}class Gae{constructor(e){var n,r,i,s;this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Tit;const{account:o,chains:a}=tt.getState();this.accounts=(n=o.accounts)!==null&&n!==void 0?n:[],this.chain=(r=o.chain)!==null&&r!==void 0?r:{id:(s=(i=e.metadata.appChainIds)===null||i===void 0?void 0:i[0])!==null&&s!==void 0?s:1},a&&gK(a)}async handshake(e){var n,r,i;const s=ru.get(e);nit({method:e.method,correlationId:s});try{await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:(i=e.params)!==null&&i!==void 0?i:[]}},s),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const c=await Wae("public",a.sender);await this.keyManager.setPeerPublicKey(c);const l=await this.decryptResponseMessage(a);this.handleResponse(e,l),iit({method:e.method,correlationId:s})}catch(o){throw rit({method:e.method,correlationId:s,errorMessage:rw(o)}),o}}async request(e){const n=ru.get(e);sit({method:e.method,correlationId:n});try{const r=await this._request(e);return ait({method:e.method,correlationId:n}),r}catch(r){throw oit({method:e.method,correlationId:n,errorMessage:rw(r)}),r}}async _request(e){var n,r,i,s,o,a,c,l,u,d,h,p,f,g;if(this.accounts.length===0)switch(e.method){case"eth_requestAccounts":return await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n)),await wN(),await this.request({method:"wallet_connect",params:[{version:"1",capabilities:Object.assign({},(s=(i=tt.subAccountsConfig.get())===null||i===void 0?void 0:i.capabilities)!==null&&s!==void 0?s:{})}]}),this.accounts;case"wallet_switchEthereumChain":{vK(e.params),this.chain.id=Number(e.params[0].chainId);return}case"wallet_connect":{await((a=(o=this.communicator).waitForPopupLoaded)===null||a===void 0?void 0:a.call(o)),await wN();let m={};qit(e,"addSubAccount")&&(m=(l=(c=tt.subAccountsConfig.get())===null||c===void 0?void 0:c.capabilities)!==null&&l!==void 0?l:{});const b=Yx(e,m);return this.sendRequestToPopup(b)}case"wallet_sendCalls":case"wallet_sign":return this.sendRequestToPopup(e);default:throw Fe.provider.unauthorized()}if(this.shouldRequestUseSubAccountSigner(e)){const m=ru.get(e);cit({method:e.method,correlationId:m});try{const b=await this.sendRequestToSubAccountSigner(e);return lit({method:e.method,correlationId:m}),b}catch(b){throw uit({method:e.method,correlationId:m,errorMessage:rw(b)}),b}}switch(e.method){case"eth_requestAccounts":case"eth_accounts":{const m=tt.subAccounts.get(),b=tt.subAccountsConfig.get();return m?.address&&(this.accounts=b?.enableAutoSubAccounts?uI(this.accounts,m.address):dI(this.accounts,m.address)),(u=this.callback)===null||u===void 0||u.call(this,"connect",{chainId:rr(this.chain.id)}),this.accounts}case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return rr(this.chain.id);case"wallet_getCapabilities":return this.handleGetCapabilitiesRequest(e);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);case"wallet_connect":{const m=await Fit();if(m)return m;await((h=(d=this.communicator).waitForPopupLoaded)===null||h===void 0?void 0:h.call(d)),await wN();const b=tt.subAccountsConfig.get(),y=Yx(e,(p=b?.capabilities)!==null&&p!==void 0?p:{});return(f=this.callback)===null||f===void 0||f.call(this,"connect",{chainId:rr(this.chain.id)}),this.sendRequestToPopup(y)}case"wallet_getSubAccounts":{const m=tt.subAccounts.get();if(m?.address)return{subAccounts:[m]};if(!this.chain.rpcUrl)throw Fe.rpc.internal("No RPC URL set for chain");const b=await vE(e,this.chain.rpcUrl);if(Df(b.subAccounts,"subAccounts"),b.subAccounts.length>0){lI(b.subAccounts[0]);const y=b.subAccounts[0];tt.subAccounts.set({address:y.address,factory:y.factory,factoryData:y.factoryData})}return b}case"wallet_addSubAccount":return this.addSubAccount(e);case"coinbase_fetchPermissions":{Pit(e);const m=Rit(e),b=await vE(m,Oae),y=dw((g=m.params)===null||g===void 0?void 0:g[0].chainId);return tt.spendPermissions.set(b.permissions.map(v=>Object.assign(Object.assign({},v),{chainId:y}))),b}default:if(!this.chain.rpcUrl)throw Fe.rpc.internal("No RPC URL set for chain");return vE(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),s=await this.decryptResponseMessage(i);return this.handleResponse(e,s)}async handleResponse(e,n){var r,i,s,o,a;const c=n.result;if("error"in c)throw c.error;switch(e.method){case"eth_requestAccounts":{const l=c.value;this.accounts=l,tt.account.set({accounts:l,chain:this.chain}),(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",l);break}case"wallet_connect":{const l=c.value,u=l.accounts.map(b=>b.address);this.accounts=u,tt.account.set({accounts:u});const d=l.accounts.at(0),h=d?.capabilities;if(h?.subAccounts){const b=h?.subAccounts;Df(b,"subAccounts"),lI(b[0]),tt.subAccounts.set({address:b[0].address,factory:b[0].factory,factoryData:b[0].factoryData})}let p=[this.accounts[0]];const f=tt.subAccounts.get(),g=tt.subAccountsConfig.get();f?.address&&(this.accounts=g?.enableAutoSubAccounts?uI(this.accounts,f.address):dI(this.accounts,f.address));const m=(s=(i=l?.accounts)===null||i===void 0?void 0:i[0].capabilities)===null||s===void 0?void 0:s.spendPermissions;m&&"permissions"in m&&tt.spendPermissions.set(m?.permissions),(o=this.callback)===null||o===void 0||o.call(this,"accountsChanged",p);break}case"wallet_addSubAccount":{lI(c.value);const l=c.value;tt.subAccounts.set(l);const u=tt.subAccountsConfig.get();this.accounts=u?.enableAutoSubAccounts?uI(this.accounts,l.address):dI(this.accounts,l.address),(a=this.callback)===null||a===void 0||a.call(this,"accountsChanged",this.accounts);break}}return c.value}async cleanup(){var e,n;const r=tt.config.get().metadata;await this.keyManager.clear(),tt.account.clear(),tt.subAccounts.clear(),tt.spendPermissions.clear(),tt.chains.clear(),this.accounts=[],this.chain={id:(n=(e=r?.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){vK(e.params);const n=bE(e.params[0].chainId);if(this.updateChain(n))return null;const i=await this.sendRequestToPopup(e);return i===null&&this.updateChain(n),i}async handleGetCapabilitiesRequest(e){Oit(e.params);const n=e.params[0],r=e.params[1];if(!this.accounts.some(a=>Ree(a,n)))throw Fe.provider.unauthorized("no active account found when getting capabilities");const i=tt.getState().account.capabilities;if(!i)return{};if(!r||r.length===0)return i;const s=new Set(r.map(a=>dw(a)));return Object.fromEntries(Object.entries(i).filter(([a])=>{try{const c=dw(a);return s.has(c)}catch{return!1}}))}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Fe.provider.unauthorized("No shared secret found when encrypting request");const r=await Eit({action:e,chainId:this.chain.id},n),i=ru.get(e),s=await this.createRequestMessage({encrypted:r},i);return this.communicator.postRequestAndWaitForResponse(s)}async createRequestMessage(e,n){const r=await zae("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),correlationId:n,sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r,i;const s=e.content;if("failure"in s)throw s.failure;const o=await this.keyManager.getSharedSecret();if(!o)throw Fe.provider.unauthorized("Invalid session: no shared secret found when decrypting response");const a=await Cit(s.encrypted,o),c=(n=a.data)===null||n===void 0?void 0:n.chains;if(c){const u=(r=a.data)===null||r===void 0?void 0:r.nativeCurrencies,d=Object.entries(c).map(([h,p])=>{const f=u?.[Number(h)];return Object.assign({id:Number(h),rpcUrl:p},f?{nativeCurrency:f}:{})});tt.chains.set(d),this.updateChain(this.chain.id,d),gK(d)}const l=(i=a.data)===null||i===void 0?void 0:i.capabilities;return l&&tt.account.set({capabilities:l}),a}updateChain(e,n){var r;const i=tt.getState(),s=n??i.chains,o=s?.find(a=>a.id===e);return o?(o!==this.chain&&(this.chain=o,tt.account.set({chain:o}),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",r1(o.id))),!0):!1}async addSubAccount(e){var n,r,i,s;const a=tt.getState().subAccount,c=tt.subAccountsConfig.get();if(a?.address)return this.accounts=c?.enableAutoSubAccounts?uI(this.accounts,a.address):dI(this.accounts,a.address),(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",this.accounts),a;if(await((i=(r=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(r)),Array.isArray(e.params)&&e.params.length>0&&e.params[0].account&&e.params[0].account.type==="create"){let u;if(e.params[0].account.keys&&e.params[0].account.keys.length>0)u=e.params[0].account.keys;else{const d=(s=tt.subAccountsConfig.get())!==null&&s!==void 0?s:{},{account:h}=d.toOwnerAccount?await d.toOwnerAccount():await Gx();if(!h)throw Fe.provider.unauthorized("could not get subaccount owner account when adding sub account");u=[{type:h.address?"address":"webauthn-p256",publicKey:h.address||h.publicKey}]}e.params[0].account.keys=u}const l=await this.sendRequestToPopup(e);return lI(l),l}shouldRequestUseSubAccountSigner(e){const n=bK(e),r=tt.subAccounts.get();return n?n.toLowerCase()===r?.address.toLowerCase():!1}async sendRequestToSubAccountSigner(e){var n;const r=tt.subAccounts.get(),i=tt.subAccountsConfig.get(),s=tt.config.get();uc(r?.address,Fe.provider.unauthorized("no active sub account when sending request to sub account signer"));const o=i?.toOwnerAccount?await i.toOwnerAccount():await Gx();uc(o?.account,Fe.provider.unauthorized("no active sub account owner when sending request to sub account signer")),bK(e)===void 0&&(e=Nit(e,r.address));const c=jae(this.chain.id);uc(c,Fe.rpc.internal(`client not found for chainId ${this.chain.id} when sending request to sub account signer`));const l=this.accounts.find(f=>f.toLowerCase()!==r.address.toLowerCase());uc(l,Fe.provider.unauthorized("no global account found when sending request to sub account signer"));const u=Wit({attribution:(n=s.preference)===null||n===void 0?void 0:n.attribution,dappOrigin:window.location.origin}),d=o.account.type==="local"?o.account.address:o.account.publicKey;let h=await Zae({address:r.address,factory:r.factory,factoryData:r.factoryData,publicKey:d,client:c});if(h===-1){const f=ru.get(e);dit({method:e.method,correlationId:f});try{h=await Qit({ownerAccount:o.account,globalAccountRequest:this.sendRequestToPopup.bind(this)}),hit({method:e.method,correlationId:f})}catch(g){return pit({method:e.method,correlationId:f,errorMessage:rw(g)}),Fe.provider.unauthorized("failed to add sub account owner when sending request to sub account signer")}}const{request:p}=await Jit({address:r.address,owner:o.account,client:c,factory:r.factory,factoryData:r.factoryData,parentAddress:l,attribution:u?{suffix:u}:void 0,ownerIndex:h});try{return await p(e)}catch(f){let g;if(xae(f))g=JSON.parse(f.details);else if(uK(f))g=f;else throw f;if(!(uK(g)&&g.data)||!g.data)throw f;const m=ru.get(e);fit({method:e.method,correlationId:m});try{const b=await est({errorData:g.data,globalAccountAddress:l,subAccountAddress:r.address,client:c,request:e,subAccountRequest:p,globalAccountRequest:this.request.bind(this)});return git({method:e.method,correlationId:m}),b}catch(b){throw console.error(b),mit({method:e.method,correlationId:m,errorMessage:rw(b)}),f}}}}const tst=({method:t,correlationId:e})=>{wn("walletlink_signer.handshake.started",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e},ln.high)},nst=({method:t,correlationId:e,errorMessage:n})=>{wn("walletlink_signer.handshake.error",{action:cn.error,componentType:an.unknown,method:t,correlationId:e,errorMessage:n},ln.high)},rst=({method:t,correlationId:e})=>{wn("walletlink_signer.handshake.completed",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e},ln.high)},ist=({method:t,correlationId:e})=>{wn("walletlink_signer.request.started",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e},ln.high)},sst=({method:t,correlationId:e,errorMessage:n})=>{wn("walletlink_signer.request.error",{action:cn.error,componentType:an.unknown,method:t,correlationId:e,errorMessage:n},ln.high)},ost=({method:t,correlationId:e})=>{wn("walletlink_signer.request.completed",{action:cn.unknown,componentType:an.unknown,method:t,correlationId:e},ln.high)},CK=()=>{wn("walletlink_signer.walletlink_connection.connection_failed",{action:cn.measurement,componentType:an.unknown},ln.high)},ast=()=>{wn("walletlink_signer.walletlink_connection.fetch_unseen_events_failed",{action:cn.measurement,componentType:an.unknown},ln.high)};var pr={},ns={},_K;function Yae(){if(_K)return ns;_K=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.output=ns.exists=ns.hash=ns.bytes=ns.bool=ns.number=ns.isBytes=void 0;function t(c){if(!Number.isSafeInteger(c)||c<0)throw new Error(`positive integer expected, not ${c}`)}ns.number=t;function e(c){if(typeof c!="boolean")throw new Error(`boolean expected, not ${c}`)}ns.bool=e;function n(c){return c instanceof Uint8Array||c!=null&&typeof c=="object"&&c.constructor.name==="Uint8Array"}ns.isBytes=n;function r(c,...l){if(!n(c))throw new Error("Uint8Array expected");if(l.length>0&&!l.includes(c.length))throw new Error(`Uint8Array expected of length ${l}, not of length=${c.length}`)}ns.bytes=r;function i(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(c.outputLen),t(c.blockLen)}ns.hash=i;function s(c,l=!0){if(c.destroyed)throw new Error("Hash instance has been destroyed");if(l&&c.finished)throw new Error("Hash#digest() has already been called")}ns.exists=s;function o(c,l){r(c);const u=l.outputLen;if(c.length<u)throw new Error(`digestInto() expects output buffer of length at least ${u}`)}ns.output=o;const a={number:t,bool:e,bytes:r,hash:i,exists:s,output:o};return ns.default=a,ns}var Pt={},IK;function cst(){if(IK)return Pt;IK=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.add5L=Pt.add5H=Pt.add4H=Pt.add4L=Pt.add3H=Pt.add3L=Pt.add=Pt.rotlBL=Pt.rotlBH=Pt.rotlSL=Pt.rotlSH=Pt.rotr32L=Pt.rotr32H=Pt.rotrBL=Pt.rotrBH=Pt.rotrSL=Pt.rotrSH=Pt.shrSL=Pt.shrSH=Pt.toBig=Pt.split=Pt.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(S,N=!1){return N?{h:Number(S&t),l:Number(S>>e&t)}:{h:Number(S>>e&t)|0,l:Number(S&t)|0}}Pt.fromBig=n;function r(S,N=!1){let R=new Uint32Array(S.length),D=new Uint32Array(S.length);for(let O=0;O<S.length;O++){const{h:T,l:E}=n(S[O],N);[R[O],D[O]]=[T,E]}return[R,D]}Pt.split=r;const i=(S,N)=>BigInt(S>>>0)<<e|BigInt(N>>>0);Pt.toBig=i;const s=(S,N,R)=>S>>>R;Pt.shrSH=s;const o=(S,N,R)=>S<<32-R|N>>>R;Pt.shrSL=o;const a=(S,N,R)=>S>>>R|N<<32-R;Pt.rotrSH=a;const c=(S,N,R)=>S<<32-R|N>>>R;Pt.rotrSL=c;const l=(S,N,R)=>S<<64-R|N>>>R-32;Pt.rotrBH=l;const u=(S,N,R)=>S>>>R-32|N<<64-R;Pt.rotrBL=u;const d=(S,N)=>N;Pt.rotr32H=d;const h=(S,N)=>S;Pt.rotr32L=h;const p=(S,N,R)=>S<<R|N>>>32-R;Pt.rotlSH=p;const f=(S,N,R)=>N<<R|S>>>32-R;Pt.rotlSL=f;const g=(S,N,R)=>N<<R-32|S>>>64-R;Pt.rotlBH=g;const m=(S,N,R)=>S<<R-32|N>>>64-R;Pt.rotlBL=m;function b(S,N,R,D){const O=(N>>>0)+(D>>>0);return{h:S+R+(O/2**32|0)|0,l:O|0}}Pt.add=b;const y=(S,N,R)=>(S>>>0)+(N>>>0)+(R>>>0);Pt.add3L=y;const v=(S,N,R,D)=>N+R+D+(S/2**32|0)|0;Pt.add3H=v;const w=(S,N,R,D)=>(S>>>0)+(N>>>0)+(R>>>0)+(D>>>0);Pt.add4L=w;const C=(S,N,R,D,O)=>N+R+D+O+(S/2**32|0)|0;Pt.add4H=C;const I=(S,N,R,D,O)=>(S>>>0)+(N>>>0)+(R>>>0)+(D>>>0)+(O>>>0);Pt.add5L=I;const k=(S,N,R,D,O,T)=>N+R+D+O+T+(S/2**32|0)|0;Pt.add5H=k;const P={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:a,rotrSL:c,rotrBH:l,rotrBL:u,rotr32H:d,rotr32L:h,rotlSH:p,rotlSL:f,rotlBH:g,rotlBL:m,add:b,add3L:y,add3H:v,add4L:w,add4H:C,add5H:k,add5L:I};return Pt.default=P,Pt}var bN={},a3={},SK;function lst(){return SK||(SK=1,Object.defineProperty(a3,"__esModule",{value:!0}),a3.crypto=void 0,a3.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),a3}var xK;function ust(){return xK||(xK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=lst(),n=Yae();function r(D){return D instanceof Uint8Array||D!=null&&typeof D=="object"&&D.constructor.name==="Uint8Array"}t.isBytes=r;const i=D=>new Uint8Array(D.buffer,D.byteOffset,D.byteLength);t.u8=i;const s=D=>new Uint32Array(D.buffer,D.byteOffset,Math.floor(D.byteLength/4));t.u32=s;const o=D=>new DataView(D.buffer,D.byteOffset,D.byteLength);t.createView=o;const a=(D,O)=>D<<32-O|D>>>O;t.rotr=a;const c=(D,O)=>D<<O|D>>>32-O>>>0;t.rotl=c,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const l=D=>D<<24&4278190080|D<<8&16711680|D>>>8&65280|D>>>24&255;t.byteSwap=l,t.byteSwapIfBE=t.isLE?D=>D:D=>(0,t.byteSwap)(D);function u(D){for(let O=0;O<D.length;O++)D[O]=(0,t.byteSwap)(D[O])}t.byteSwap32=u;const d=Array.from({length:256},(D,O)=>O.toString(16).padStart(2,"0"));function h(D){(0,n.bytes)(D);let O="";for(let T=0;T<D.length;T++)O+=d[D[T]];return O}t.bytesToHex=h;const p={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function f(D){if(D>=p._0&&D<=p._9)return D-p._0;if(D>=p._A&&D<=p._F)return D-(p._A-10);if(D>=p._a&&D<=p._f)return D-(p._a-10)}function g(D){if(typeof D!="string")throw new Error("hex string expected, got "+typeof D);const O=D.length,T=O/2;if(O%2)throw new Error("padded hex string expected, got unpadded hex of length "+O);const E=new Uint8Array(T);for(let _=0,x=0;_<T;_++,x+=2){const M=f(D.charCodeAt(x)),A=f(D.charCodeAt(x+1));if(M===void 0||A===void 0){const U=D[x]+D[x+1];throw new Error('hex string expected, got non-hex character "'+U+'" at index '+x)}E[_]=M*16+A}return E}t.hexToBytes=g;const m=async()=>{};t.nextTick=m;async function b(D,O,T){let E=Date.now();for(let _=0;_<D;_++){T(_);const x=Date.now()-E;x>=0&&x<O||(await(0,t.nextTick)(),E+=x)}}t.asyncLoop=b;function y(D){if(typeof D!="string")throw new Error(`utf8ToBytes expected string, got ${typeof D}`);return new Uint8Array(new TextEncoder().encode(D))}t.utf8ToBytes=y;function v(D){return typeof D=="string"&&(D=y(D)),(0,n.bytes)(D),D}t.toBytes=v;function w(...D){let O=0;for(let E=0;E<D.length;E++){const _=D[E];(0,n.bytes)(_),O+=_.length}const T=new Uint8Array(O);for(let E=0,_=0;E<D.length;E++){const x=D[E];T.set(x,_),_+=x.length}return T}t.concatBytes=w;class C{clone(){return this._cloneInto()}}t.Hash=C;const I={}.toString;function k(D,O){if(O!==void 0&&I.call(O)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(D,O)}t.checkOpts=k;function P(D){const O=E=>D().update(v(E)).digest(),T=D();return O.outputLen=T.outputLen,O.blockLen=T.blockLen,O.create=()=>D(),O}t.wrapConstructor=P;function S(D){const O=(E,_)=>D(_).update(v(E)).digest(),T=D({});return O.outputLen=T.outputLen,O.blockLen=T.blockLen,O.create=E=>D(E),O}t.wrapConstructorWithOpts=S;function N(D){const O=(E,_)=>D(_).update(v(E)).digest(),T=D({});return O.outputLen=T.outputLen,O.blockLen=T.blockLen,O.create=E=>D(E),O}t.wrapXOFConstructorWithOpts=N;function R(D=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(D));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=R})(bN)),bN}var AK;function dst(){if(AK)return pr;AK=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.shake256=pr.shake128=pr.keccak_512=pr.keccak_384=pr.keccak_256=pr.keccak_224=pr.sha3_512=pr.sha3_384=pr.sha3_256=pr.sha3_224=pr.Keccak=pr.keccakP=void 0;const t=Yae(),e=cst(),n=ust(),r=[],i=[],s=[],o=BigInt(0),a=BigInt(1),c=BigInt(2),l=BigInt(7),u=BigInt(256),d=BigInt(113);for(let w=0,C=a,I=1,k=0;w<24;w++){[I,k]=[k,(2*I+3*k)%5],r.push(2*(5*k+I)),i.push((w+1)*(w+2)/2%64);let P=o;for(let S=0;S<7;S++)C=(C<<a^(C>>l)*d)%u,C&c&&(P^=a<<(a<<BigInt(S))-a);s.push(P)}const[h,p]=(0,e.split)(s,!0),f=(w,C,I)=>I>32?(0,e.rotlBH)(w,C,I):(0,e.rotlSH)(w,C,I),g=(w,C,I)=>I>32?(0,e.rotlBL)(w,C,I):(0,e.rotlSL)(w,C,I);function m(w,C=24){const I=new Uint32Array(10);for(let k=24-C;k<24;k++){for(let N=0;N<10;N++)I[N]=w[N]^w[N+10]^w[N+20]^w[N+30]^w[N+40];for(let N=0;N<10;N+=2){const R=(N+8)%10,D=(N+2)%10,O=I[D],T=I[D+1],E=f(O,T,1)^I[R],_=g(O,T,1)^I[R+1];for(let x=0;x<50;x+=10)w[N+x]^=E,w[N+x+1]^=_}let P=w[2],S=w[3];for(let N=0;N<24;N++){const R=i[N],D=f(P,S,R),O=g(P,S,R),T=r[N];P=w[T],S=w[T+1],w[T]=D,w[T+1]=O}for(let N=0;N<50;N+=10){for(let R=0;R<10;R++)I[R]=w[N+R];for(let R=0;R<10;R++)w[N+R]^=~I[(R+2)%10]&I[(R+4)%10]}w[0]^=h[k],w[1]^=p[k]}I.fill(0)}pr.keccakP=m;class b extends n.Hash{constructor(C,I,k,P=!1,S=24){if(super(),this.blockLen=C,this.suffix=I,this.outputLen=k,this.enableXOF=P,this.rounds=S,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(k),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),m(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(C){(0,t.exists)(this);const{blockLen:I,state:k}=this;C=(0,n.toBytes)(C);const P=C.length;for(let S=0;S<P;){const N=Math.min(I-this.pos,P-S);for(let R=0;R<N;R++)k[this.pos++]^=C[S++];this.pos===I&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:C,suffix:I,pos:k,blockLen:P}=this;C[k]^=I,(I&128)!==0&&k===P-1&&this.keccak(),C[P-1]^=128,this.keccak()}writeInto(C){(0,t.exists)(this,!1),(0,t.bytes)(C),this.finish();const I=this.state,{blockLen:k}=this;for(let P=0,S=C.length;P<S;){this.posOut>=k&&this.keccak();const N=Math.min(k-this.posOut,S-P);C.set(I.subarray(this.posOut,this.posOut+N),P),this.posOut+=N,P+=N}return C}xofInto(C){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(C)}xof(C){return(0,t.number)(C),this.xofInto(new Uint8Array(C))}digestInto(C){if((0,t.output)(C,this),this.finished)throw new Error("digest() was already called");return this.writeInto(C),this.destroy(),C}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(C){const{blockLen:I,suffix:k,outputLen:P,rounds:S,enableXOF:N}=this;return C||(C=new b(I,k,P,N,S)),C.state32.set(this.state32),C.pos=this.pos,C.posOut=this.posOut,C.finished=this.finished,C.rounds=S,C.suffix=k,C.outputLen=P,C.enableXOF=N,C.destroyed=this.destroyed,C}}pr.Keccak=b;const y=(w,C,I)=>(0,n.wrapConstructor)(()=>new b(C,w,I));pr.sha3_224=y(6,144,224/8),pr.sha3_256=y(6,136,256/8),pr.sha3_384=y(6,104,384/8),pr.sha3_512=y(6,72,512/8),pr.keccak_224=y(1,144,224/8),pr.keccak_256=y(1,136,256/8),pr.keccak_384=y(1,104,384/8),pr.keccak_512=y(1,72,512/8);const v=(w,C,I)=>(0,n.wrapXOFConstructorWithOpts)((k={})=>new b(C,w,k.dkLen===void 0?I:k.dkLen,!0));return pr.shake128=v(31,168,128/8),pr.shake256=v(31,136,256/8),pr}var vN,kK;function Jae(){if(kK)return vN;kK=1;const{keccak_256:t}=dst();function e(g){return window.Buffer.allocUnsafe(g).fill(0)}function n(g){return`0x${g.toString(16)}`}function r(g){const m=n(g);return new window.Buffer(h(m.slice(2)),"hex")}function i(g){return g.toString(2).length}function s(g,m){let b=g.toString(16);b.length%2!==0&&(b="0"+b);const y=b.match(/.{1,2}/g).map(v=>parseInt(v,16));for(;y.length<m;)y.unshift(0);return window.Buffer.from(y)}function o(g,m){const b=g<0n;let y;if(b){const v=(1n<<BigInt(m))-1n;y=(~g&v)+1n}else y=g;return y&=(1n<<BigInt(m))-1n,y}function a(g,m,b){const y=e(m);return g=l(g),b?g.length<m?(g.copy(y),y):g.slice(0,m):g.length<m?(g.copy(y,m-g.length),y):g.slice(-m)}function c(g,m){return a(g,m,!0)}function l(g){if(!window.Buffer.isBuffer(g))if(Array.isArray(g))g=window.Buffer.from(g);else if(typeof g=="string")p(g)?g=window.Buffer.from(h(f(g)),"hex"):g=window.Buffer.from(g);else if(typeof g=="number")g=r(g);else if(g==null)g=window.Buffer.allocUnsafe(0);else if(typeof g=="bigint")g=s(g);else if(g.toArray)g=window.Buffer.from(g.toArray());else throw new Error("invalid type");return g}function u(g){return g=l(g),"0x"+g.toString("hex")}function d(g,m){if(g=l(g),m||(m=256),m!==256)throw new Error("unsupported");return window.Buffer.from(t(new Uint8Array(g)))}function h(g){return g.length%2?"0"+g:g}function p(g){return typeof g=="string"&&g.match(/^0x[0-9A-Fa-f]*$/)}function f(g){return typeof g=="string"&&g.startsWith("0x")?g.slice(2):g}return vN={zeros:e,setLength:a,setLengthRight:c,isHexString:p,stripHexPrefix:f,toBuffer:l,bufferToHex:u,keccak:d,bitLengthFromBigInt:i,bufferBEFromBigInt:s,twosFromBigInt:o},vN}var EN,$K;function hst(){if($K)return EN;$K=1;const t=Jae();function e(h){return h.startsWith("int[")?"int256"+h.slice(3):h==="int"?"int256":h.startsWith("uint[")?"uint256"+h.slice(4):h==="uint"?"uint256":h.startsWith("fixed[")?"fixed128x128"+h.slice(5):h==="fixed"?"fixed128x128":h.startsWith("ufixed[")?"ufixed128x128"+h.slice(6):h==="ufixed"?"ufixed128x128":h}function n(h){return Number.parseInt(/^\D+(\d+)$/.exec(h)[1],10)}function r(h){var p=/^\D+(\d+)x(\d+)$/.exec(h);return[Number.parseInt(p[1],10),Number.parseInt(p[2],10)]}function i(h){var p=h.match(/(.*)\[(.*?)\]$/);return p?p[2]===""?"dynamic":Number.parseInt(p[2],10):null}function s(h){var p=typeof h;if(p==="string"||p==="number")return BigInt(h);if(p==="bigint")return h;throw new Error("Argument is not a number")}function o(h,p){var f,g,m,b;if(h==="address")return o("uint160",s(p));if(h==="bool")return o("uint8",p?1:0);if(h==="string")return o("bytes",new window.Buffer(p,"utf8"));if(c(h)){if(typeof p.length>"u")throw new Error("Not an array?");if(f=i(h),f!=="dynamic"&&f!==0&&p.length>f)throw new Error("Elements exceed array size: "+f);m=[],h=h.slice(0,h.lastIndexOf("[")),typeof p=="string"&&(p=JSON.parse(p));for(b in p)m.push(o(h,p[b]));if(f==="dynamic"){var y=o("uint256",p.length);m.unshift(y)}return window.Buffer.concat(m)}else{if(h==="bytes")return p=new window.Buffer(p),m=window.Buffer.concat([o("uint256",p.length),p]),p.length%32!==0&&(m=window.Buffer.concat([m,t.zeros(32-p.length%32)])),m;if(h.startsWith("bytes")){if(f=n(h),f<1||f>32)throw new Error("Invalid bytes<N> width: "+f);return t.setLengthRight(p,32)}else if(h.startsWith("uint")){if(f=n(h),f%8||f<8||f>256)throw new Error("Invalid uint<N> width: "+f);g=s(p);const v=t.bitLengthFromBigInt(g);if(v>f)throw new Error("Supplied uint exceeds width: "+f+" vs "+v);if(g<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(g,32)}else if(h.startsWith("int")){if(f=n(h),f%8||f<8||f>256)throw new Error("Invalid int<N> width: "+f);g=s(p);const v=t.bitLengthFromBigInt(g);if(v>f)throw new Error("Supplied int exceeds width: "+f+" vs "+v);const w=t.twosFromBigInt(g,256);return t.bufferBEFromBigInt(w,32)}else if(h.startsWith("ufixed")){if(f=r(h),g=s(p),g<0)throw new Error("Supplied ufixed is negative");return o("uint256",g*BigInt(2)**BigInt(f[1]))}else if(h.startsWith("fixed"))return f=r(h),o("int256",s(p)*BigInt(2)**BigInt(f[1]))}throw new Error("Unsupported or invalid type: "+h)}function a(h){return h==="string"||h==="bytes"||i(h)==="dynamic"}function c(h){return h.lastIndexOf("]")===h.length-1}function l(h,p){var f=[],g=[],m=32*h.length;for(var b in h){var y=e(h[b]),v=p[b],w=o(y,v);a(y)?(f.push(o("uint256",m)),g.push(w),m+=w.length):f.push(w)}return window.Buffer.concat(f.concat(g))}function u(h,p){if(h.length!==p.length)throw new Error("Number of types are not matching the values");for(var f,g,m=[],b=0;b<h.length;b++){var y=e(h[b]),v=p[b];if(y==="bytes")m.push(v);else if(y==="string")m.push(new window.Buffer(v,"utf8"));else if(y==="bool")m.push(new window.Buffer(v?"01":"00","hex"));else if(y==="address")m.push(t.setLength(v,20));else if(y.startsWith("bytes")){if(f=n(y),f<1||f>32)throw new Error("Invalid bytes<N> width: "+f);m.push(t.setLengthRight(v,f))}else if(y.startsWith("uint")){if(f=n(y),f%8||f<8||f>256)throw new Error("Invalid uint<N> width: "+f);g=s(v);const w=t.bitLengthFromBigInt(g);if(w>f)throw new Error("Supplied uint exceeds width: "+f+" vs "+w);m.push(t.bufferBEFromBigInt(g,f/8))}else if(y.startsWith("int")){if(f=n(y),f%8||f<8||f>256)throw new Error("Invalid int<N> width: "+f);g=s(v);const w=t.bitLengthFromBigInt(g);if(w>f)throw new Error("Supplied int exceeds width: "+f+" vs "+w);const C=t.twosFromBigInt(g,f);m.push(t.bufferBEFromBigInt(C,f/8))}else throw new Error("Unsupported or invalid type: "+y)}return window.Buffer.concat(m)}function d(h,p){return t.keccak(u(h,p))}return EN={rawEncode:l,solidityPack:u,soliditySHA3:d},EN}var CN,TK;function pst(){if(TK)return CN;TK=1;const t=Jae(),e=hst(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(s,o,a,c=!0){const l=["bytes32"],u=[this.hashType(s,a)];if(c){const d=(h,p,f)=>{if(a[p]!==void 0)return["bytes32",f==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(p,f,a,c))];if(f===void 0)throw new Error(`missing value for field ${h} of type ${p}`);if(p==="bytes")return["bytes32",t.keccak(f)];if(p==="string")return typeof f=="string"&&(f=window.Buffer.from(f,"utf8")),["bytes32",t.keccak(f)];if(p.lastIndexOf("]")===p.length-1){const g=p.slice(0,p.lastIndexOf("[")),m=f.map(b=>d(h,g,b));return["bytes32",t.keccak(e.rawEncode(m.map(([b])=>b),m.map(([,b])=>b)))]}return[p,f]};for(const h of a[s]){const[p,f]=d(h.name,h.type,o[h.name]);l.push(p),u.push(f)}}else for(const d of a[s]){let h=o[d.name];if(h!==void 0)if(d.type==="bytes")l.push("bytes32"),h=t.keccak(h),u.push(h);else if(d.type==="string")l.push("bytes32"),typeof h=="string"&&(h=window.Buffer.from(h,"utf8")),h=t.keccak(h),u.push(h);else if(a[d.type]!==void 0)l.push("bytes32"),h=t.keccak(this.encodeData(d.type,h,a,c)),u.push(h);else{if(d.type.lastIndexOf("]")===d.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");l.push(d.type),u.push(h)}}return e.rawEncode(l,u)},encodeType(s,o){let a="",c=this.findTypeDependencies(s,o).filter(l=>l!==s);c=[s].concat(c.sort());for(const l of c){if(!o[l])throw new Error("No type definition specified: "+l);a+=l+"("+o[l].map(({name:d,type:h})=>h+" "+d).join(",")+")"}return a},findTypeDependencies(s,o,a=[]){if(s=s.match(/^\w*/)[0],a.includes(s)||o[s]===void 0)return a;a.push(s);for(const c of o[s])for(const l of this.findTypeDependencies(c.type,o,a))!a.includes(l)&&a.push(l);return a},hashStruct(s,o,a,c=!0){return t.keccak(this.encodeData(s,o,a,c))},hashType(s,o){return t.keccak(this.encodeType(s,o))},sanitizeData(s){const o={};for(const a in n.properties)s[a]&&(o[a]=s[a]);return o.types&&(o.types=Object.assign({EIP712Domain:[]},o.types)),o},hash(s,o=!0){const a=this.sanitizeData(s),c=[window.Buffer.from("1901","hex")];return c.push(this.hashStruct("EIP712Domain",a.domain,a.types,o)),a.primaryType!=="EIP712Domain"&&c.push(this.hashStruct(a.primaryType,a.message,a.types,o)),t.keccak(window.Buffer.concat(c))}};CN={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:r,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return r.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return r.hash(s.data)}};function i(s){const o=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw o;const a=s.map(function(u){return u.type==="bytes"?t.toBuffer(u.value):u.value}),c=s.map(function(u){return u.type}),l=s.map(function(u){if(!u.name)throw o;return u.type+" "+u.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),l),e.soliditySHA3(c,a)])}return CN}var fst=pst();const fI=ny(fst),gst="walletUsername",T7="Addresses",mst="AppVersion";class wst{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw new Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",pS(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,c=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),u=new Uint8Array(c),d=new Uint8Array(l),h=new Uint8Array([...r,...u,...d]);return HM(h)}async decrypt(e){const n=this.secret;if(n.length!==64)throw new Error("secret must be 256 bits");return new Promise((r,i)=>{(async()=>{const s=await crypto.subtle.importKey("raw",pS(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=pS(e),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),u=new Uint8Array([...l,...c]),d={name:"AES-GCM",iv:new Uint8Array(a)};try{const h=await window.crypto.subtle.decrypt(d,s,u),p=new TextDecoder;r(p.decode(h))}catch(h){i(h)}})()})}}class yst{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unable to mark events as seen:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r?.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var hd;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(hd||(hd={}));class tc{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.isDisconnecting=!1,this.url=e.replace(/^http/,"ws"),this.instanceId=tc.instanceCounter++,tc.activeInstances.add(this.instanceId)}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");if(this.isDisconnecting)throw new Error("WebSocket is disconnecting, cannot reconnect on same instance");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,hd.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),i.readyState!==WebSocket.OPEN&&n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,hd.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,hd.CONNECTED),tc.pendingData.length>0&&([...tc.pendingData].forEach(c=>this.sendData(c)),tc.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.isDisconnecting=!0,this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,hd.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){tc.pendingData.push(e),this.isDisconnecting||this.connect();return}if(n.readyState!==WebSocket.OPEN){tc.pendingData.push(e);return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}cleanup(){tc.activeInstances.delete(this.instanceId)}}tc.instanceCounter=0;tc.activeInstances=new Set;tc.pendingData=[];const NK=1e4,bst=6e4;class vst{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=zh(1),this.reconnectAttempts=0,this.isReconnecting=!1,this._connected=!1,this._linked=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,c)=>{const l=s[c];l!==void 0&&a(l)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;try{const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)}catch{}},this.handleMetadataUpdated=async(s,o)=>{var a;try{const c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,c)}catch{}},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(gst,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(mst,s)},this.handleChainUpdated=async(s,o)=>{var a;try{const c=await this.cipher.decrypt(s),l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(c,l)}catch{}},this.session=e,this.cipher=new wst(e.secret),this.listener=r,this.linkAPIUrl=n,this.WebSocketClass=WebSocket;const i=this.createWebSocket();this.ws=i,this.http=new yst(n,e.id,e.key),this.setupVisibilityChangeHandler()}createWebSocket(){const e=new tc(`${this.linkAPIUrl}/rpc`,this.WebSocketClass);return this.activeWsInstance=e,e.setConnectionStateListener(async n=>{if(e!==this.activeWsInstance)return;let r=!1;switch(n){case hd.DISCONNECTED:this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=void 0),this.lastHeartbeatResponse=0,r=!1,this.destroyed||(async()=>{if(this.isReconnecting)return;this.isReconnecting=!0;const s=this.reconnectAttempts===0?0:3e3;await new Promise(o=>setTimeout(o,s)),!this.destroyed&&e===this.activeWsInstance?(this.reconnectAttempts++,"cleanup"in this.ws&&typeof this.ws.cleanup=="function"&&this.ws.cleanup(),this.ws=this.createWebSocket(),this.ws.connect().catch(()=>{CK()}).finally(()=>{this.isReconnecting=!1})):this.isReconnecting=!1})();break;case hd.CONNECTED:this.reconnectAttempts=0;try{r=await this.handleConnected(),this.fetchUnseenEventsAPI().catch(()=>{})}catch{break}this.connected=r,this.updateLastHeartbeat(),this.heartbeatIntervalId&&clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=window.setInterval(()=>{this.heartbeat()},NK),setTimeout(()=>{this.heartbeat()},100);break;case hd.CONNECTING:break}n!==hd.CONNECTED&&(this.connected=r)}),e.setIncomingDataListener(n=>{var r;switch(n.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const i=n.type==="IsLinkedOK"?n.linked:void 0;this.linked=i||n.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(n.metadata);break}case"Event":{this.handleIncomingEvent(n);break}}n.id!==void 0&&((r=this.requestResolutions.get(n.id))===null||r===void 0||r(n))}),e}setupVisibilityChangeHandler(){this.visibilityChangeHandler=()=>{!document.hidden&&!this.destroyed&&(this.connected?this.heartbeat():this.reconnectWithFreshWebSocket())},this.focusHandler=()=>{!this.destroyed&&!this.connected&&this.reconnectWithFreshWebSocket()},document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("focus",this.focusHandler),window.addEventListener("pageshow",e=>{e.persisted&&this.focusHandler&&this.focusHandler()})}reconnectWithFreshWebSocket(){if(this.destroyed)return;const e=this.ws;this.activeWsInstance=void 0,e.disconnect(),"cleanup"in e&&typeof e.cleanup=="function"&&e.cleanup(),this.ws=this.createWebSocket(),this.ws.connect().catch(()=>{CK()})}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:zh(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.activeWsInstance=void 0,this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=void 0),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.focusHandler&&window.removeEventListener("focus",this.focusHandler),this.ws.disconnect(),"cleanup"in this.ws&&typeof this.ws.cleanup=="function"&&this.ws.cleanup(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(!(e.type!=="Event"||e.event!=="Web3Response"))try{const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(i.id,i.response)}catch{}}async checkUnseenEvents(){await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){try{(await this.http.fetchUnseenEvents()).forEach(n=>{this.handleIncomingEvent(n)})}catch{ast()}}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:zh(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>NK*2){this.ws.disconnect();return}if(this.connected)try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:bst}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:zh(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:zh(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:zh(this.nextReqId++),sessionId:this.session.id}),!0)}}class Est{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=Nae(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function Cst(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function JM(t,...e){if(!Cst(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function OK(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _st(t,e){JM(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const _N=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Zu=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Ist=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sst(t){JM(t);let e="";for(let n=0;n<t.length;n++)e+=Ist[t[n]];return e}function xst(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Xae(t){return typeof t=="string"&&(t=xst(t)),JM(t),t}let Ast=class{clone(){return this._cloneInto()}};function kst(t){const e=r=>t().update(Xae(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $st(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}const Tst=(t,e,n)=>t&e^~t&n,Nst=(t,e,n)=>t&e^t&n^e&n;let Ost=class extends Ast{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_N(this.buffer)}update(e){OK(this);const{view:n,buffer:r,blockLen:i}=this;e=Xae(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=_N(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){OK(this),_st(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;$st(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=_N(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Pst=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mf=new Uint32Array(64);let Rst=class extends Ost{constructor(){super(64,32,8,!1),this.A=gf[0]|0,this.B=gf[1]|0,this.C=gf[2]|0,this.D=gf[3]|0,this.E=gf[4]|0,this.F=gf[5]|0,this.G=gf[6]|0,this.H=gf[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)mf[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=mf[d-15],p=mf[d-2],f=Zu(h,7)^Zu(h,18)^h>>>3,g=Zu(p,17)^Zu(p,19)^p>>>10;mf[d]=g+mf[d-7]+f+mf[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Zu(a,6)^Zu(a,11)^Zu(a,25),p=u+h+Tst(a,c,l)+Pst[d]+mf[d]|0,g=(Zu(r,2)^Zu(r,13)^Zu(r,22))+Nst(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){mf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Dst=kst(()=>new Rst),PK="session:id",RK="session:secret",DK="session:linked";class I1{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=Sst(Dst(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=nw(16),r=nw(32);return new I1(e,n,r).save()}static load(e){const n=e.getItem(PK),r=e.getItem(DK),i=e.getItem(RK);return n&&i?new I1(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(PK,this.id),this.storage.setItem(RK,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(DK,this._linked?"1":"0")}}const Ust=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class Mst{constructor(){this.root=null,this.darkMode=Rae()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),Pae()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(jC(null,this.root),e&&jC(tr(Lst,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const Lst=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return tr(Uae,{darkMode:n},tr("div",{class:"-cbwsdk-redirect-dialog"},tr("style",null,Ust),tr("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),tr("div",{class:ig("-cbwsdk-redirect-dialog-box",s)},tr("p",null,t),tr("button",{onClick:r},e))))};class UK{constructor(){this.attached=!1,this.redirectDialog=new Mst}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(Art);n.searchParams.append("redirect_url",Prt().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectToCoinbaseWallet(e),setTimeout(()=>{this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}})},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Wh{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=Rrt(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(T7);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Wh.accountRequestCallbackIds.size>0&&(Array.from(Wh.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),Wh.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Est,this.ui=r,this.ui.attach()}subscribe(){const e=I1.load(this.storage)||I1.create(this.storage),{linkAPIUrl:n}=this,r=new vst({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new UK:new jrt;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=I1.load(this.storage);e?.id===this._session.id&&v0.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Ku(e.weiValue),data:yE(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Ku(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Ku(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Ku(e.gasPriceInWei):null,gasLimit:e.gasLimit?Ku(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Ku(e.weiValue),data:yE(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Ku(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Ku(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Ku(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Ku(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:yE(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=nw(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n?.()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n?.(),js(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof UK)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Wh.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Wh.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=nw(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(js(a))return o(new Error(a.errorMessage));s(a)}),Wh.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let c=null;const l=nw(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,p=>{if(c?.(),js(p))return h(new Error(p.errorMessage));d(p)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let c=null;const l=nw(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,p=>{if(c?.(),js(p))return h(new Error(p.errorMessage));d(p)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=nw(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,a),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,c)=>{this.relayEventManager.callbacks.set(s,l=>{if(i?.(),js(l)&&l.errorCode)return c(Fe.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(js(l))return c(new Error(l.errorMessage));a(l)}),this.publishWeb3RequestEvent(s,r)})}}Wh.accountRequestCallbackIds=new Set;const MK="DefaultChainId",LK="DefaultJsonRpcUrl";class Qae{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new v0("walletlink",hK),this.callback=e.callback||null;const n=this._storage.getItem(T7);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>ff(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(e){const n="eth_requestAccounts",r=ru.get(e);tst({method:n,correlationId:r});try{await this._eth_requestAccounts(),rst({method:n,correlationId:r})}catch(i){throw nst({method:n,correlationId:r,errorMessage:rw(i)}),i}}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(LK))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(LK,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(MK,n.toString(10)),bE(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",r1(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Fe.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw Fe.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw Fe.rpc.invalidParams("Options are required");if(!n?.options.address)throw Fe.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options,l=await this.initializeRelay().watchAsset(n.type,i,s,a,o,r?.toString());return js(l)?!1:!!l.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Fe.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Fe.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Fe.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:c=[],chainName:l,iconUrls:u=[],nativeCurrency:d}=i,h=await o.addEthereumChain(s.toString(),a,u,c,l,d);if(js(h))return!1;if(((r=h.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw Fe.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(js(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>ff(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(T7,i.join(" ")))}async request(e){const n=ru.get(e);ist({method:e.method,correlationId:n});try{const r=await this._request(e);return ost({method:e.method,correlationId:n}),r}catch(r){throw sst({method:e.method,correlationId:n,errorMessage:rw(r)}),r}}async _request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return r1(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Fe.rpc.internal("No RPC URL set for chain");return vE(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=ff(e);if(!this._addresses.map(i=>ff(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?ff(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?ff(e.to):null,i=e.value!=null?s3(e.value):BigInt(0),s=e.data?$7(e.data):window.Buffer.alloc(0),o=e.nonce!=null?bE(e.nonce):null,a=e.gasPrice!=null?s3(e.gasPrice):null,c=e.maxFeePerGas!=null?s3(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?s3(e.maxPriorityFeePerGas):null,u=e.gas!=null?s3(e.gas):null,d=e.chainId?bE(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:d}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Fe.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:mN(r[0]),signature:mN(r[1]),addPrefix:n==="personal_ecRecover"}});if(js(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(MK))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:r1(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(js(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:r1(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Fe.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:ff(n),message:mN(r),addPrefix:!0,typedDataJson:null}});if(js(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(js(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=$7(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(js(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(js(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Fe.rpc.invalidParams();const i=l=>{const u={eth_signTypedData_v1:fI.hashForSignTypedDataLegacy,eth_signTypedData_v3:fI.hashForSignTypedData_v3,eth_signTypedData_v4:fI.hashForSignTypedData_v4,eth_signTypedData:fI.hashForSignTypedData_v4};return yE(u[n]({data:grt(l)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],o=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:ff(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(js(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new Wh({linkAPIUrl:hK,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const ece="SignerType",tce=new v0("CBWSDK","SignerConfigurator");function jst(){return tce.getItem(ece)}function Bst(t){tce.setItem(ece,t)}function jK(t){if(t)return t instanceof Gae?"scw":"walletlink"}async function zst(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;qst(e,n,i,r).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function Wst(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new Gae({metadata:n,callback:i,communicator:r});case"walletlink":return new Qae({metadata:n,callback:i})}}async function qst(t,e,n,r){await t.onMessage(({event:s})=>s==="WalletLinkSessionRequest");const i=new Qae({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:i.getSession()}}),await i.handshake(r),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var Fst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Hst extends Zrt{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=Fst(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new Hrt({url:i,metadata:n,preference:s});const o=jst();o&&(this.signer=this.initSigner(o),Grt({signerType:o}))}async request(e){const n=crypto.randomUUID();ru.set(e,n),Yrt({method:e.method,correlationId:n});try{const r=await this._request(e);return Xrt({method:e.method,signerType:jK(this.signer),correlationId:n}),r}catch(r){throw Jrt({method:e.method,correlationId:n,signerType:jK(this.signer),errorMessage:r instanceof Error?r.message:""}),r}finally{ru.delete(e)}}async _request(e){try{if(Irt(e),!this.signer)switch(e.method){case"eth_requestAccounts":{let r;const i=tt.subAccountsConfig.get();i?.enableAutoSubAccounts?r="scw":r=await this.requestSignerSelection(e);const s=this.initSigner(r);r==="scw"&&i?.enableAutoSubAccounts?(await s.handshake({method:"handshake"}),await s.request(e)):await s.handshake(e),this.signer=s,Bst(r);break}case"wallet_connect":{const r=this.initSigner("scw");await r.handshake({method:"handshake"});const i=await r.request(e);return this.signer=r,i}case"wallet_sendCalls":case"wallet_sign":{const r=this.initSigner("scw");await r.handshake({method:"handshake"});const i=await r.request(e);return await r.cleanup(),i}case"wallet_getCallsStatus":return await vE(e,Oae);case"net_version":return 1;case"eth_chainId":return r1(1);default:throw Fe.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===di.provider.unauthorized&&this.disconnect(),Promise.reject(Vrt(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),Qrt(),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,v0.clearAll(),ru.clear(),this.emit("disconnect",Fe.provider.disconnected("User initiated disconnection"))}async requestSignerSelection(e){eit();const n=await zst({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)});return tit(n),n}initSigner(e){return Wst({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Vst(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=_rt(n))!==null&&e!==void 0?e:new Hst(n)}const Kst={options:"all"};function Zst(t){var e,n,r,i;const s={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(Kst,(e=t.preference)!==null&&e!==void 0?e:{}),paymasterUrls:t.paymasterUrls};!((n=t.subAccounts)===null||n===void 0)&&n.toOwnerAccount&&dK(t.subAccounts.toOwnerAccount),tt.subAccountsConfig.set({toOwnerAccount:(r=t.subAccounts)===null||r===void 0?void 0:r.toOwnerAccount,enableAutoSubAccounts:(i=t.subAccounts)===null||i===void 0?void 0:i.enableAutoSubAccounts}),tt.config.set(s),tt.persist.rehydrate(),brt(),s.preference.telemetry!==!1&&art(),Srt(s.preference);let o=null;const a={getProvider(){return o||(o=Vst(s)),o.sdk=a,o},subAccount:{async create(c){var l,u;const d=tt.getState();return uc((l=d.subAccount)===null||l===void 0?void 0:l.address,new Error("subaccount already exists")),await((u=a.getProvider())===null||u===void 0?void 0:u.request({method:"wallet_addSubAccount",params:[{version:"1",account:c}]}))},async get(){var c,l;const u=tt.subAccounts.get();if(u?.address)return u;const h=(l=(await((c=a.getProvider())===null||c===void 0?void 0:c.request({method:"wallet_connect",params:[{version:"1",capabilities:{}}]}))).accounts[0].capabilities)===null||l===void 0?void 0:l.subAccounts;return Array.isArray(h)?h[0]:null},async addOwner({address:c,publicKey:l,chainId:u}){var d,h;const p=tt.subAccounts.get(),f=tt.account.get();uc(f,new Error("account does not exist")),uc(p?.address,new Error("subaccount does not exist"));const g=[];if(l){const[m,b]=DA([{type:"bytes32"},{type:"bytes32"}],l);g.push({to:p.address,data:Fs({abi:du,functionName:"addOwnerPublicKey",args:[m,b]}),value:wo(0)})}return c&&g.push({to:p.address,data:Fs({abi:du,functionName:"addOwnerAddress",args:[c]}),value:wo(0)}),await((d=a.getProvider())===null||d===void 0?void 0:d.request({method:"wallet_sendCalls",params:[{calls:g,chainId:wo(u),from:(h=f.accounts)===null||h===void 0?void 0:h[0],version:"1"}]}))},setToOwnerAccount(c){dK(c),tt.subAccountsConfig.set({toOwnerAccount:c})}}};return a}const Gst=Object.freeze(Object.defineProperty({__proto__:null,createCoinbaseWalletSDK:Zst,getCryptoKeyAccount:Gx},Symbol.toStringTag,{value:"Module"}));var Yst={version:"0.3.2"},Jst="https://keys.gemini.com",nce=Jst,rce=Yst.version,dv=42161,Xst={ARBITRUM_ONE:42161,BASE:8453,ETHEREUM:1,OP_MAINNET:10,POLYGON:137},Qst={ARBITRUM_SEPOLIA:421614,BASE_SEPOLIA:84532,OP_SEPOLIA:11155420,POLYGON_AMOY:80002,SEPOLIA:11155111},eot=[...Object.values(Xst),...Object.values(Qst)];function gI(t){return{[ME.id]:ME.rpcUrls.default.http[0],[DE.id]:DE.rpcUrls.default.http[0],[LE.id]:LE.rpcUrls.default.http[0],[Ww.id]:Ww.rpcUrls.default.http[0],[UE.id]:UE.rpcUrls.default.http[0],[BE.id]:BE.rpcUrls.default.http[0],[OS.id]:OS.rpcUrls.default.http[0],[zE.id]:zE.rpcUrls.default.http[0],[jE.id]:jE.rpcUrls.default.http[0],[pP.id]:pP.rpcUrls.default.http[0]}[t]}var ice=class extends $A{},BK=420,zK=650,sce=t=>{const e=(window.innerWidth-BK)/2+window.screenX,n=(window.innerHeight-zK)/2+window.screenY,r=`wallet_${window?.crypto?.randomUUID()}`,i=window.open(t,r,`width=${BK}, height=${zK}, left=${e}, top=${n}`);if(i?.focus(),!i)throw Do.internal("Pop up window failed to open");return i},oce=t=>{t&&!t.closed&&(t.opener?.focus(),t.close())},EE=t=>`0x${BigInt(t).toString(16)}`,ace=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n,2),cce=class{constructor({appMetadata:t,onDisconnectCallback:e}){this.popup=null,this.listeners=new Map,this.postMessage=async n=>{(await this.waitForPopupLoaded()).postMessage(n,this.url.origin)},this.postRequestAndWaitForResponse=async n=>{const r=this.onMessage(({requestId:i})=>i===n.requestId);return this.postMessage(n),await r},this.onMessage=n=>new Promise((r,i)=>{const s=o=>{if(o.origin!==this.url.origin)return;const a=o.data;n(a)&&(r(a),window.removeEventListener("message",s),this.listeners.delete(s))};window.addEventListener("message",s),this.listeners.set(s,{reject:i})}),this.onRequestCancelled=()=>{oce(this.popup),this.popup=null,this.listeners.forEach(({reject:n},r)=>{n(qm.userRejectedRequest()),window.removeEventListener("message",r)}),this.listeners.clear()},this.waitForPopupLoaded=()=>this.popup&&!this.popup.closed?(this.popup.focus(),Promise.resolve(this.popup)):(this.popup=sce(this.url),this.onMessage(({event:n})=>n==="POPUP_UNLOADED").then(this.onRequestCancelled).catch(()=>{}),this.onMessage(({event:n})=>n==="SDK_DISCONNECT").then(()=>{this.onDisconnectCallback?.(),this.onRequestCancelled()}).catch(()=>{}),this.onMessage(({event:n})=>n==="POPUP_LOADED").then(n=>{this.postMessage({chainId:dv,data:{appMetadata:this.appMetadata,origin:window.location.origin,sdkVersion:rce},event:"POPUP_APP_CONTEXT",origin:window.location.origin,requestId:n.requestId})}).then(()=>{if(!this.popup)throw Do.internal();return this.popup})),this.url=new URL(nce),this.appMetadata=t,this.onDisconnectCallback=e}},IN={},XM=class{constructor({scope:t="@gemini",module:e="wallet"}={}){this.scope=t,this.module=e}scopedKey(t){return`${this.scope}.${this.module}.${t}`}async storeObject(t,e){const n=ace(e);await this.setItem(t,n)}async loadObject(t,e){const n=await this.getItem(t);if(!n)return await this.storeObject(t,e),e;try{return JSON.parse(n)}catch(r){return console.error(`Error parsing JSON for key ${t}:`,r),e}}async setItem(t,e){const n=this.scopedKey(t);try{localStorage.setItem(n,e)}catch(r){console.warn("localStorage not available, using memory storage",r),IN[n]=e}}async getItem(t){const e=this.scopedKey(t);try{return localStorage.getItem(e)}catch(n){return console.warn("localStorage not available, using memory storage",n),IN[e]||null}}async removeItem(t){const e=this.scopedKey(t);try{localStorage.removeItem(e)}catch(n){console.warn("localStorage not available, using memory storage",n),delete IN[e]}}async removeItems(t){await Promise.all(t.map(e=>this.removeItem(e)))}},CE="eth-accounts",Jx="eth-active-chain",$f="call-batches";function lce(t){return eot.includes(t)}var N7=class{constructor({appMetadata:t,chain:e,onDisconnectCallback:n,storage:r}){this.accounts=[],this.chain={id:dv},this.communicator=new cce({appMetadata:t,onDisconnectCallback:n}),this.storage=r||new XM;const i=e?.id??dv,s=e?.rpcUrl??gI(i),o={id:i,rpcUrl:s};this.initPromise=this.initializeFromStorage(o)}async initializeFromStorage(t){const e={...t,rpcUrl:t.rpcUrl||gI(t.id)},[n,r]=await Promise.all([this.storage.loadObject(Jx,e),this.storage.loadObject(CE,this.accounts)]);this.chain={...n,rpcUrl:n.rpcUrl||gI(n.id)},this.accounts=r}async ensureInitialized(){await this.initPromise}async connect(){await this.ensureInitialized();const t=await this.sendMessageToPopup({chainId:this.chain.id,event:"SDK_CONNECT",origin:window.location.origin});return this.accounts=t.data.address?[t.data.address]:[],await this.storage.storeObject(CE,this.accounts),this.accounts}async disconnect(){await this.ensureInitialized(),this.accounts=[],await this.storage.storeObject(CE,this.accounts)}async switchChain({id:t}){return await this.ensureInitialized(),lce(t)?(this.chain={id:t,rpcUrl:gI(t)},await this.storage.storeObject(Jx,this.chain),null):(await this.sendMessageToPopup({chainId:this.chain.id,data:t,event:"SDK_SWITCH_CHAIN",origin:window.location.origin})).data.error??"Unsupported chain."}async sendTransaction(t){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:t,event:"SDK_SEND_TRANSACTION",origin:window.location.origin})).data}async signData({message:t}){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:{message:t},event:"SDK_SIGN_DATA",origin:window.location.origin})).data}async signTypedData({message:t,types:e,primaryType:n,domain:r}){return await this.ensureInitialized(),(await this.sendMessageToPopup({chainId:this.chain.id,data:{domain:r,message:t,primaryType:n,types:e},event:"SDK_SIGN_TYPED_DATA",origin:window.location.origin})).data}async openSettings(){await this.ensureInitialized(),await this.sendMessageToPopup({chainId:this.chain.id,data:{},event:"SDK_OPEN_SETTINGS",origin:window.location.origin})}getCapabilities(t){const e={},n=t?.map(r=>parseInt(r,16))||[this.chain.id];for(const r of n){const i=EE(r);e[i]={atomic:{status:"supported"},paymasterService:{supported:!0}}}return e}async sendCalls(t){await this.ensureInitialized();const e=window?.crypto?.randomUUID()||`batch-${Date.now()}-${Math.random()}`,n=parseInt(t.chainId,16);if(n!==this.chain.id)throw new Error(`Chain mismatch. Expected ${this.chain.id}, got ${n}`);if(!t.calls||t.calls.length===0)throw new Error("No calls provided");const r={calls:t.calls,capabilities:t.capabilities,chainId:t.chainId,from:t.from,id:e,status:"pending",timestamp:Date.now()},i=await this.storage.loadObject($f,{});i[e]=r,await this.storage.storeObject($f,i);try{const s=await this.sendMessageToPopup({chainId:this.chain.id,data:{calls:t.calls},event:"SDK_SEND_BATCH_CALLS",origin:window.location.origin});if(s.data.error)throw new Error(s.data.error);return r.transactionHash=s.data.hash,r.status="pending",i[e]=r,await this.storage.storeObject($f,i),{capabilities:{caip345:{caip2:`eip155:${n}`,transactionHashes:[s.data.hash]}},id:e}}catch(s){throw r.status="failed",i[e]=r,await this.storage.storeObject($f,i),s}}async getCallsStatus(t){await this.ensureInitialized();const e=await this.storage.loadObject($f,{}),n=e[t];if(!n)throw new Error(`Unknown bundle ID: ${t}`);if(n.transactionHash&&this.chain.rpcUrl)try{const o=(await(await fetch(this.chain.rpcUrl,{body:JSON.stringify({id:1,jsonrpc:"2.0",method:"eth_getTransactionReceipt",params:[n.transactionHash]}),headers:{"Content-Type":"application/json"},method:"POST"})).json()).result;if(o){const a=o.status==="0x1"?"confirmed":"reverted";return n.status=a,e[t]=n,await this.storage.storeObject($f,e),{atomic:!0,chainId:n.chainId,id:t,receipts:[{blockHash:o.blockHash,blockNumber:o.blockNumber,gasUsed:o.gasUsed,logs:o.logs.map(c=>({address:c.address,data:c.data,topics:c.topics})),status:a==="confirmed"?"success":"reverted",transactionHash:o.transactionHash}],status:a==="confirmed"?200:500,version:"2.0.0"}}}catch(i){console.error("Failed to fetch transaction receipt:",i)}let r;switch(n.status){case"pending":r=100;break;case"confirmed":r=200;break;case"failed":r=400;break;case"reverted":r=500;break;default:r=100}return{atomic:!0,chainId:n.chainId,id:t,status:r,version:"2.0.0"}}async showCallsStatus(t){if(await this.ensureInitialized(),!(await this.storage.loadObject($f,{}))[t])throw new Error(`Unknown bundle ID: ${t}`)}sendMessageToPopup(t){return this.communicator.postRequestAndWaitForResponse({...t,requestId:window?.crypto?.randomUUID()})}},uce=async(t,e)=>{const n={...t,id:window?.crypto?.randomUUID(),jsonrpc:"2.0"},r=await window.fetch(e,{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST",mode:"cors"}),{result:i,error:s}=await r.json();if(s)throw s;return i};function dce(t){if(!t||typeof t!="object"||Array.isArray(t))throw Do.invalidParams({message:"Expected a single, non-array, object argument."});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Do.invalidParams({message:"'args.method' must be a non-empty string."});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Do.invalidParams({message:"'args.params' must be an object or array if provided."})}function hce(t){const e=["value","gas","gasPrice","maxPriorityFeePerGas","maxFeePerGas"],n={...t};for(const r of e){if(!(r in t))continue;const i=t[r];typeof i!="bigint"&&oc(i)&&(n[r]=BigInt(i))}return n}var tot=class extends ice{constructor(t){super(),this.wallet=null,this.config=t;const e=t.onDisconnectCallback;this.wallet=new N7({...t,onDisconnectCallback:()=>{e?.(),this.disconnect()}})}async request(t){try{if(dce(t),!this.wallet?.accounts?.length)switch(t.method){case"eth_requestAccounts":{if(!this.wallet){const r=this.config.onDisconnectCallback;this.wallet=new N7({...this.config,onDisconnectCallback:()=>{r?.(),this.disconnect()}})}await this.wallet.connect(),this.emit("accountsChanged",this.wallet.accounts);break}case"net_version":return dv;case"eth_chainId":return EE(dv);default:throw qm.unauthorized()}let e,n;switch(t.method){case"eth_requestAccounts":case"eth_accounts":e=this.wallet.accounts;break;case"net_version":e=this.wallet.chain.id;break;case"eth_chainId":e=EE(this.wallet.chain.id);break;case"personal_sign":case"wallet_sign":if(n=t.params,e=await this.wallet.signData({account:n[1],message:n[0]}),e.error)throw Do.transactionRejected(e.error);e=e.hash;break;case"eth_sendTransaction":case"wallet_sendTransaction":if(n=t.params,n=hce(n[0]),e=await this.wallet.sendTransaction(n),e.error)throw Do.transactionRejected(e.error);e=e.hash;break;case"wallet_switchEthereumChain":{const r=t.params;let i;if(Array.isArray(r)&&r[0]?.chainId)i=parseInt(r[0].chainId,16);else if(r&&typeof r=="object"&&"id"in r&&Number.isInteger(r.id))i=r.id;else throw Do.invalidParams("Invalid chain id argument. Expected [{ chainId: hex_string }] or { id: number }.");if(e=await this.wallet.switchChain({id:i}),e)throw qm.custom({code:4902,message:e});await this.emit("chainChanged",EE(i));break}case"eth_signTypedData_v1":case"eth_signTypedData_v2":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":{n=t.params;const r=JSON.parse(n[1]);if(e=await this.wallet.signTypedData({account:n[0],domain:r.domain,message:r.message,primaryType:r.primaryType,types:r.types}),e.error)throw Do.transactionRejected(e.error);e=e.hash;break}case"wallet_getCapabilities":{const r=Array.isArray(t.params)?t.params:void 0;e=this.getCapabilities(r);break}case"wallet_sendCalls":{n=t.params,e=await this.sendCalls(n[0]);break}case"wallet_getCallsStatus":{n=t.params,e=await this.getCallsStatus(n[0]);break}case"wallet_showCallsStatus":{n=t.params,await this.showCallsStatus(n[0]),e=null;break}case"eth_ecRecover":case"eth_subscribe":case"eth_unsubscribe":case"personal_ecRecover":case"eth_signTransaction":case"wallet_watchAsset":case"wallet_grantPermissions":throw Do.methodNotSupported("Not yet implemented.");case"eth_sign":case"eth_coinbase":case"wallet_addEthereumChain":throw Do.methodNotSupported();default:if(!this.wallet.chain.rpcUrl)throw Do.internal(`RPC URL missing for current chain (${this.wallet.chain.id})`);return uce(t,this.wallet.chain.rpcUrl)}return e}catch(e){const{code:n}=e;return n===uye.provider.unauthorized&&this.disconnect(),Promise.reject(dye(e))}}async openSettings(){await this.wallet?.openSettings()}getCapabilities(t){if(!this.wallet)throw qm.unauthorized();const e=t?.[0];return this.wallet.getCapabilities(e)}async sendCalls(t){if(!this.wallet)throw qm.unauthorized();try{return await this.wallet.sendCalls(t)}catch(e){throw Do.transactionRejected(e instanceof Error?e.message:String(e))}}async getCallsStatus(t){if(!this.wallet)throw qm.unauthorized();try{return await this.wallet.getCallsStatus(t)}catch(e){throw Do.invalidParams(e instanceof Error?e.message:String(e))}}async showCallsStatus(t){if(!this.wallet)throw qm.unauthorized();try{await this.wallet.showCallsStatus(t)}catch(e){throw Do.invalidParams(e instanceof Error?e.message:String(e))}}async disconnect(){if(this.wallet){const t=this.config.storage||new XM;await t.removeItem(CE),await t.removeItem(Jx)}this.wallet=null,this.config.onDisconnectCallback?.(),await this.emit("disconnect","User initiated disconnection"),await this.emit("accountsChanged",[])}};const jLt=Object.freeze(Object.defineProperty({__proto__:null,Communicator:cce,DEFAULT_CHAIN_ID:dv,GeminiStorage:XM,GeminiWallet:N7,GeminiWalletProvider:tot,ProviderEventEmitter:ice,SDK_BACKEND_URL:nce,SDK_VERSION:rce,STORAGE_CALL_BATCHES_KEY:$f,STORAGE_ETH_ACCOUNTS_KEY:CE,STORAGE_ETH_ACTIVE_CHAIN_KEY:Jx,closePopup:oce,convertSendValuesToBigInt:hce,fetchRpcRequest:uce,hexStringFromNumber:EE,isChainSupportedByGeminiSw:lce,openPopup:sce,safeJsonStringify:ace,validateRpcRequestArgs:dce},Symbol.toStringTag,{value:"Module"})),not=Object.freeze(Object.defineProperty({__proto__:null,arbitrum:DE,arbitrumSepolia:OS,base:Ww,baseSepolia:jE,berachain:Dee,berachainBepolia:Uee,bsc:XD,celo:Mee,gnosis:Lee,hoodi:jee,katana:Bee,mainnet:ME,optimism:LE,optimismSepolia:zE,polygon:UE,sepolia:BE},Symbol.toStringTag,{value:"Module"})),rot=[Ww,...Object.values(not).filter(t=>t&&t.id!==Ww.id)],pce=zee;({...pce});({...pce});const O7="#__bigint";function iot(t,e){return JSON.parse(t,(n,r)=>{const i=r;return typeof i=="string"&&i.endsWith(O7)?BigInt(i.slice(0,-O7.length)):i})}function Op(t,e,n){return JSON.stringify(t,(r,i)=>typeof e=="function"?e(r,i):typeof i=="bigint"?i.toString()+O7:i,n)}const sot="0.1.1";function oot(){return sot}let xt=class Nh extends Error{static setStaticOptions(e){Nh.prototype.docsOrigin=e.docsOrigin,Nh.prototype.showVersion=e.showVersion,Nh.prototype.version=e.version}constructor(e,n={}){const r=(()=>{if(n.cause instanceof Nh){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Nh&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??Nh.prototype.docsOrigin,o=`${s}${i??""}`,a=!!(n.version??Nh.prototype.showVersion),c=n.version??Nh.prototype.version,l=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||a?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=o,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=a,this.version=c}walk(e){return fce(this,e)}};Object.defineProperty(xt,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${oot()}`}});xt.setStaticOptions(xt.defaultStaticOptions);function fce(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?fce(t.cause,e):e?null:t}function aot(t,e={}){const{raw:n=!1}=e,r=t;if(n)return t;if(r.error)throw gce(r.error);return r.result}function gce(t){const e=t;if(e instanceof Error&&!("code"in e))return new Jf({cause:e,data:e,message:e.message,stack:e.stack});const{code:n}=e;return n===Jf.code?new Jf(e):n===P7.code?new P7(e):n===_0.code?new _0(e):n===KC.code?new KC(e):n===HC.code?new HC(e):n===ZC.code?new ZC(e):n===C0.code?new C0(e):n===GC.code?new GC(e):n===qC.code?new qC(e):n===FC.code?new FC(e):n===E0.code?new E0(e):n===VC.code?new VC(e):new Jf({cause:e instanceof Error?e:void 0,data:e,message:e.message,stack:e instanceof Error?e.stack:void 0})}let $l=class extends Error{constructor(e){const{cause:n,code:r,message:i,data:s,stack:o}=e;super(i,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=n,this.code=r,this.data=s,this.stack=o??""}},P7=class mce extends $l{constructor(e={}){super({code:mce.code,data:e.data,message:e.message??"Missing or invalid parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}};Object.defineProperty(P7,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class qC extends $l{constructor(e={}){super({code:qC.code,data:e.data,message:e.message??"Requested resource not found."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(qC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class FC extends $l{constructor(e={}){super({code:FC.code,data:e.data,message:e.message??"Requested resource not available."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(FC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class E0 extends $l{constructor(e={}){super({code:E0.code,data:e.data,message:e.message??"Transaction creation failed."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(E0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class C0 extends $l{constructor(e={}){super({code:C0.code,data:e.data,message:e.message??"Method is not implemented."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(C0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class HC extends $l{constructor(e={}){super({code:HC.code,data:e.data,message:e.message??"Rate limit exceeded."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(HC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class VC extends $l{constructor(e={}){super({code:VC.code,data:e.data,message:e.message??"JSON-RPC version not supported."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(VC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class KC extends $l{constructor(e={}){super({code:KC.code,data:e.data,message:e.message??"Input is not a valid JSON-RPC request."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(KC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ZC extends $l{constructor(e={}){super({code:ZC.code,data:e.data,message:e.message??"Method does not exist."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(ZC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class _0 extends $l{constructor(e={}){super({code:_0.code,data:e.data,message:e.message??"Invalid method parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(_0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Jf extends $l{constructor(e={}){super({cause:e.cause,code:Jf.code,data:e.data,message:e.message??"Internal JSON-RPC error.",stack:e.stack}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalError"})}}Object.defineProperty(Jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class GC extends $l{constructor(e={}){super({code:GC.code,data:e.data,message:e.message??"Failed to parse JSON-RPC response."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(GC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Nc extends Error{constructor(e,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=n}}class hv extends Nc{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(hv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Fi extends Nc{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(Fi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class YC extends Nc{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(YC,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Hi extends Nc{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(Hi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vf extends Nc{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(Vf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class R7 extends Nc{constructor({message:e="An error occurred when attempting to switch chain."}={}){super(4902,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.SwitchChainError"})}}Object.defineProperty(R7,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class D7 extends Nc{constructor({message:e="This Wallet does not support a capability that was not marked as optional."}={}){super(5700,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedNonOptionalCapabilityError"})}}Object.defineProperty(D7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Xx extends Nc{constructor({message:e="This Wallet does not support the requested chain ID."}={}){super(5710,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedChainIdError"})}}Object.defineProperty(Xx,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class U7 extends Nc{constructor({message:e="There is already a bundle submitted with this ID."}={}){super(5720,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DuplicateIdError"})}}Object.defineProperty(U7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class JC extends Nc{constructor({message:e="This bundle id is unknown / has not been submitted."}={}){super(5730,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnknownBundleIdError"})}}Object.defineProperty(JC,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class M7 extends Nc{constructor({message:e="The call bundle is too large for the Wallet to process."}={}){super(5740,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.BundleTooLargeError"})}}Object.defineProperty(M7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class L7 extends Nc{constructor({message:e="The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."}={}){super(5750,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicReadyWalletRejectedUpgradeError"})}}Object.defineProperty(L7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class j7 extends Nc{constructor({message:e="The wallet does not support atomic execution but the request requires it."}={}){super(5760,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicityNotSupportedError"})}}Object.defineProperty(j7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});function cot(){const t=new $A;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}function wce(t,e={}){if(!t)throw new lot;return{...t,async request(n){try{const r=await t.request(n);return r&&typeof r=="object"&&"jsonrpc"in r?aot(r):r}catch(r){throw yce(r)}}}}function yce(t){const e=gce(t);if(e instanceof Jf){if(!e.data)return e;const{code:n}=e.data;if(n===Hi.code)return new Hi(e);if(n===Vf.code)return new Vf(e);if(n===hv.code)return new hv(e);if(n===Fi.code)return new Fi(e);if(n===YC.code)return new YC(e);if(n===R7.code)return new R7(e);if(n===L7.code)return new L7(e);if(n===j7.code)return new j7(e);if(n===M7.code)return new M7(e);if(n===JC.code)return new JC(e);if(n===U7.code)return new U7(e);if(n===Xx.code)return new Xx(e);if(n===D7.code)return new D7(e)}return e}class lot extends xt{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}const uot=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype&&"isVisible"in IntersectionObserverEntry.prototype;function dot(t={}){const{prefix:e="[Porto]"}=t,n=new Set;return{error:rb(console.error,{prefix:e}),errorOnce:rb(console.error,{memo:n,prefix:e}),log:rb(console.log,{prefix:e}),logOnce:rb(console.log,{memo:n,prefix:e}),warn:rb(console.warn,{prefix:e}),warnOnce:rb(console.warn,{memo:n,prefix:e})}}const WK=dot();function rb(t,e={}){const{memo:n,prefix:r}=e;return(...i)=>{const s=i.join(" ");n?.has(s)||(n?.add(s),t(`${r} ${s}`))}}function hot(){const t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")}function pot(){const t=navigator.userAgent.toLowerCase();return(t.includes("firefox")||t.includes("fxios"))&&!t.includes("seamonkey")}function fot(){return window.navigator?.userAgentData?.mobile?!0:navigator.maxTouchPoints>1||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(navigator.userAgent.slice(0,4))}function got(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),reject:e,resolve:t}}function pv(t){if(Array.isArray(t))return t.map(pv);if(typeof t=="function")return;if(typeof t!="object"||t===null)return t;if(Object.getPrototypeOf(t)!==Object.prototype)try{return structuredClone(t)}catch{return}const e={};for(const[n,r]of Object.entries(t))e[n]=pv(r);return e}function bce(t,e){const n=[],r=new Set;for(const i of t){const s=e(i);r.has(s)||(r.add(s),n.push(i))}return n}function QM(){return typeof globalThis<"u"&&"crypto"in globalThis?globalThis.crypto.randomUUID():crypto.randomUUID()}function _w(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(_w.cache.get(n))return _w.cache.get(n);const r=t().finally(()=>_w.cache.delete(n));return _w.cache.set(n,r),r}(function(t){t.cache=new Map})(_w||(_w={}));function Qx(t,e={}){const{targetOrigin:n}=e,r=new Map;return{destroy(){for(const i of r.values())t.removeEventListener("message",i)},on(i,s,o){function a(c){c.data.topic===i&&(o&&c.data.id!==o||n&&c.origin!==n||s(c.data.payload,c))}return t.addEventListener("message",a),r.set(i,a),()=>t.removeEventListener("message",a)},async send(i,s,o){const a=QM();return t.postMessage(pv({id:a,payload:s,topic:i}),o??n??"*"),{id:a,payload:s,topic:i}},async sendAsync(i,s,o){const{id:a}=await this.send(i,s,o);return new Promise(c=>this.on(i,c,a))}}}function vce(t){const{from:e,to:n,waitForReady:r=!1}=t;let i=!1;const s=got();e.on("ready",s.resolve);const o={destroy(){e.destroy(),n.destroy(),i&&s.reject()},on(a,c,l){return e.on(a,c,l)},async send(a,c){return i=!0,r&&await s.promise.finally(()=>i=!1),n.send(a,c)},async sendAsync(a,c){return i=!0,r&&await s.promise.finally(()=>i=!1),n.sendAsync(a,c)}};return{...o,ready(a){o.send("ready",a)},waitForReady(){return s.promise}}}const Ece={prod:"https://id.porto.sh/dialog"};function mot(t={}){const{skipProtocolCheck:e,skipUnsupported:n}=t,r=i=>!n&&hot()&&i?.some(s=>["wallet_connect","eth_requestAccounts"].includes(s.method));return typeof window>"u"?Cce():{name:"iframe",setup(i){const{host:s,internal:o,theme:a,themeController:c}=i,{store:l}=o,u=wot().setup(i);let d=!1;const h=new URL(s),p=document.createElement("dialog");p.dataset.porto="",p.setAttribute("role","dialog"),p.setAttribute("aria-closed","true"),p.setAttribute("aria-label","Porto Wallet"),p.setAttribute("hidden","until-found"),Object.assign(p.style,{background:"transparent",border:"0",outline:"0",padding:"0",position:"fixed"}),document.body.appendChild(p);const f=document.createElement("iframe");f.setAttribute("data-testid","porto");const g=["payment",`publickey-credentials-get ${h.origin}`,`publickey-credentials-create ${h.origin}`];pot()||g.push("clipboard-write"),f.setAttribute("allow",g.join("; ")),f.setAttribute("tabindex","0"),f.setAttribute("sandbox","allow-forms allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"),f.setAttribute("src",B7(s)),f.setAttribute("title","Porto"),Object.assign(f.style,{backgroundColor:"transparent",border:"0",colorScheme:"light dark",height:"100%",left:"0",position:"fixed",top:"0",width:"100%"});const m=document.createElement("style");m.innerHTML=`
        dialog[data-porto]::backdrop {
          background: transparent!important;
        }
      `,p.appendChild(m),p.appendChild(f);const b=vce({from:Qx(window,{targetOrigin:h.origin}),to:Qx(f.contentWindow,{targetOrigin:h.origin}),waitForReady:!0});c?._setup(b,!0);const y=window.matchMedia("(max-width: 460px)"),v=()=>{b.send("__internal",{type:"resize",width:y.matches?460:461})};y.addEventListener("change",v),b.on("ready",E=>{let x=i.internal.store.getState().chainIds.filter(M=>E.chainIds.includes(M));x.length===0&&(x=E.chainIds),l.setState(M=>({...M,chainIds:x})),b.send("__internal",{chainIds:x,mode:"iframe",referrer:fS(),theme:a,type:"init"}),v()}),b.on("rpc-response",E=>{if(r([E._request])){const _=f.src;f.src=_}Ice(l,E)}),b.on("__internal",E=>{E.type==="switch"&&E.mode==="popup"&&(u.open(),u.syncRequests(l.getState().requestQueue))});let w=null,C=null;const I=()=>e6(l),k=E=>{E.key==="Escape"&&e6(l)},P=new MutationObserver(E=>{for(const _ of E){if(_.type!=="attributes")continue;const x=_.attributeName;x&&x==="inert"&&p.removeAttribute(x)}});P.observe(p,{attributeOldValue:!0,attributes:!0});let S=!1;const N=()=>{S&&(S=!1,p.removeEventListener("click",I),document.removeEventListener("keydown",k),p.style.pointerEvents="none",C?.focus(),C=null,Object.assign(document.body.style,w??""),document.body.style.overflow=w?.overflow??"")},R=()=>{S||(S=!0,p.addEventListener("click",I),document.addEventListener("keydown",k),f.focus(),p.style.pointerEvents="auto",w=Object.assign({},document.body.style),document.body.style.overflow="hidden")};let D=!1;const O=()=>{D||(D=!0,document.activeElement instanceof HTMLElement&&(C=document.activeElement),p.removeAttribute("hidden"),p.removeAttribute("aria-closed"),p.showModal())},T=()=>{if(D){D=!1,p.setAttribute("hidden","true"),p.setAttribute("aria-closed","true"),p.close();for(const E of p.parentNode?Array.from(p.parentNode.children):[])E!==p&&E.hasAttribute("inert")&&E.removeAttribute("inert")}};return{close(){u.close(),d=!1,b.send("__internal",{mode:"iframe",referrer:fS(),type:"init"}),T(),N()},destroy(){u.close(),d=!1,N(),T(),u.destroy(),b.destroy(),p.remove(),P.disconnect(),y.removeEventListener("change",v)},open(){d||(d=!0,O(),R(),b.send("__internal",{mode:"iframe",referrer:fS(),type:"init"}))},async secure(){const{trustedHosts:E}=await b.waitForReady(),_=(()=>{if(e)return!0;const U=window.location.protocol.startsWith("https");return U||WK.warnOnce("Detected insecure protocol (HTTP).",`

The Porto iframe is not supported on HTTP origins (${window.location.origin})`,"due to lack of WebAuthn support.","See https://porto.sh/sdk#secure-origins-https for more information."),U})(),x=uot(),M=!!E?.includes(window.location.hostname),A=!!(x||M);return A||WK.warnOnce([`Warning: Browser does not support IntersectionObserver v2 or host "${h.hostname}" is not trusted by Porto.`,"This may result in the dialog falling back to a popup.","",`Add "${h.hostname}" to the trusted hosts list to enable iframe dialog: https://github.com/ithacaxyz/porto/edit/main/src/trusted-hosts.ts`].join(`
`)),{frame:A,host:M,protocol:_}},async syncRequests(E){const{methodPolicies:_}=await b.waitForReady(),x=await this.secure(),M=E?.every(U=>_?.find(B=>B.method===U.request.method)?.modes?.headless===!0),A=r(E.map(U=>U.request));if(!M&&(A||!x.protocol||!x.frame))u.syncRequests(E);else{const U=E.some(B=>_ce(B.request,{methodPolicies:_,targetOrigin:h.origin}));!d&&U&&this.open(),b.send("rpc-requests",E)}}}},supportsHeadless:!0}}function wot(t={}){if(typeof window>"u")return Cce();const{type:e="auto",size:n=yot}=t;return{name:"popup",setup(r){const{host:i,internal:s,themeController:o}=r,{store:a}=s,c=new URL(i);let l=null;const u=e==="page"||e==="auto"&&fot()?"page":"popup";function d(){l&&e6(a)}const h=(()=>{const f=setInterval(()=>{l?.closed&&e6(a)},100);return()=>clearInterval(f)})();let p;return o?._setup(null,!0),{close(){l&&(l.close(),l=null)},destroy(){this.close(),window.removeEventListener("focus",d),p?.destroy(),h()},open(){if(u==="popup"){const f=(window.innerWidth-n.width)/2+window.screenX,g=window.screenY+100;l=window.open(B7(i),"_blank",`width=${n.width},height=${n.height},left=${f},top=${g}`)}else l=window.open(B7(i),"_blank");if(!l)throw new Error("Failed to open popup");p=vce({from:Qx(window,{targetOrigin:c.origin}),to:Qx(l,{targetOrigin:c.origin}),waitForReady:!0}),o?._setup(p,!1),p.send("__internal",{mode:u==="page"?"page":"popup",referrer:fS(),theme:o?.getTheme()??r.theme,type:"init"}),p.on("rpc-response",f=>Ice(a,f)),window.removeEventListener("focus",d),window.addEventListener("focus",d)},async secure(){return{frame:!0,host:!0,protocol:!0}},async syncRequests(f){f.some(m=>_ce(m.request))&&((!l||l.closed)&&this.open(),l?.focus()),p?.send("rpc-requests",f)}}},supportsHeadless:!1}}function Cce(){return{name:"noop",setup(){return{close(){},destroy(){},open(){},async secure(){return{frame:!0,host:!0,protocol:!0}},async syncRequests(){}}},supportsHeadless:!0}}const yot={height:282,width:360};function _ce(t,e={}){const{methodPolicies:n,targetOrigin:r}=e,i=n?.find(s=>s.method===t.method);return i&&i.modes?.headless?!!(typeof i.modes.headless=="object"&&i.modes.headless.sameOrigin&&r!==window.location.origin):!0}function fS(){return{icon:(()=>{const e=document.querySelector('link[rel="icon"][media="(prefers-color-scheme: dark)"]')?.href,n=document.querySelector('link[rel="icon"][media="(prefers-color-scheme: light)"]')?.href??document.querySelector('link[rel="icon"]')?.href;return e&&n&&e!==n?{dark:e,light:n}:window.matchMedia("(prefers-color-scheme: dark)").matches?e:n})(),title:document.title}}function e6(t){t.setState(e=>({...e,requestQueue:e.requestQueue.map(n=>({account:n.account,error:new hv,request:n.request,status:"error"}))}))}function Ice(t,e){t.setState(n=>({...n,requestQueue:n.requestQueue.map(r=>r.request.id!==e.id?r:e.error?{account:r.account,error:e.error,request:r.request,status:"error"}:{account:r.account,request:r.request,result:e.result,status:"success"})}))}function B7(t){const e=new URL(t),n=new URLSearchParams(window.location.search),r="porto.";for(const[i,s]of n.entries())i.startsWith(r)&&e.searchParams.set(i.slice(r.length),s);return e.toString()}const eL=BigInt(0),z7=BigInt(1);function _4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tL(t){if(!_4(t))throw new Error("Uint8Array expected")}function XC(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function mI(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Sce(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?eL:BigInt("0x"+t)}const xce=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bot=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function QC(t){if(tL(t),xce)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=bot[t[n]];return e}const hh={_0:48,_9:57,A:65,F:70,a:97,f:102};function qK(t){if(t>=hh._0&&t<=hh._9)return t-hh._0;if(t>=hh.A&&t<=hh.F)return t-(hh.A-10);if(t>=hh.a&&t<=hh.f)return t-(hh.a-10)}function t6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(xce)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=qK(t.charCodeAt(s)),a=qK(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Pw(t){return Sce(QC(t))}function Ace(t){return tL(t),Sce(QC(Uint8Array.from(t).reverse()))}function I4(t,e){return t6(t.toString(16).padStart(e*2,"0"))}function kce(t,e){return I4(t,e).reverse()}function rl(t,e,n){let r;if(typeof e=="string")try{r=t6(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(_4(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function n6(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];tL(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const SN=t=>typeof t=="bigint"&&eL<=t;function nL(t,e,n){return SN(t)&&SN(e)&&SN(n)&&e<=t&&t<n}function S1(t,e,n,r){if(!nL(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function vot(t){let e;for(e=0;t>eL;t>>=z7,e+=1);return e}const Lk=t=>(z7<<BigInt(t))-z7,xN=t=>new Uint8Array(t),FK=t=>Uint8Array.from(t);function Eot(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=xN(t),i=xN(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=xN(0))=>{i=a(FK([0]),d),r=a(),d.length!==0&&(i=a(FK([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const p=r.slice();h.push(p),d+=r.length}return n6(...h)};return(d,h)=>{o(),c(d);let p;for(;!(p=h(l()));)c();return o(),p}}const Cot={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||_4(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function jk(t,e,n={}){const r=(i,s,o)=>{const a=Cot[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function HK(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function $ce(t,e){if(fv(t)>e)throw new Lot({givenSize:fv(t),maxSize:e})}function _ot(t,e){if(typeof e=="number"&&e>0&&e>fv(t)-1)throw new Dce({offset:e,position:"start",size:fv(t)})}function Iot(t,e,n){if(typeof e=="number"&&typeof n=="number"&&fv(t)!==n-e)throw new Dce({offset:n,position:"end",size:fv(t)})}const ph={zero:48,nine:57,A:65,F:70,a:97,f:102};function VK(t){if(t>=ph.zero&&t<=ph.nine)return t-ph.zero;if(t>=ph.A&&t<=ph.F)return t-(ph.A-10);if(t>=ph.a&&t<=ph.f)return t-(ph.a-10)}function Sot(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new jot({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function Bk(t,e){if(Ii(t)>e)throw new Oot({givenSize:Ii(t),maxSize:e})}function xot(t,e){if(typeof e=="number"&&e>0&&e>Ii(t)-1)throw new Pce({offset:e,position:"start",size:Ii(t)})}function Aot(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ii(t)!==n-e)throw new Pce({offset:n,position:"end",size:Ii(t)})}function Tce(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Pot({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function kot(t,e={}){const{dir:n="left"}=e;let r=t.replace("0x",""),i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const $ot=new TextEncoder,Tot=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Not(t,e={}){const{strict:n=!1}=e;if(!t)throw new ZK(t);if(typeof t!="string")throw new ZK(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new GK(t);if(!t.startsWith("0x"))throw new GK(t)}function Hs(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function $y(t){return t instanceof Uint8Array?_o(t):Array.isArray(t)?_o(new Uint8Array(t)):t}function Nce(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Bk(n,e.size),Ug(n,e.size)):n}function _o(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Tot[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Bk(r,e.size),I0(r,e.size)):r}function nn(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new Oce({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?Ug(c,r):c}function dl(t,e={}){return _o($ot.encode(t),e)}function Ug(t,e){return Tce(t,{dir:"left",size:e})}function I0(t,e){return Tce(t,{dir:"right",size:e})}function ys(t,e,n,r={}){const{strict:i}=r;xot(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Aot(s,e,n),s}function Ii(t){return Math.ceil((t.length-2)/2)}function KK(t){return kot(t,{dir:"left"})}function u2(t,e={}){const{signed:n}=e;e.size&&Bk(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function x1(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:u2(t,e))}function S4(t,e={}){const{strict:n=!1}=e;try{return Not(t,{strict:n}),!0}catch{return!1}}let Oce=class extends xt{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class ZK extends xt{constructor(e){super(`Value \`${typeof e=="object"?Op(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class GK extends xt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Oot=class extends xt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},Pce=class extends xt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Pot=class extends xt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const Rot=new TextEncoder;function Dot(t){if(!(t instanceof Uint8Array)){if(!t)throw new wI(t);if(typeof t!="object")throw new wI(t);if(!("BYTES_PER_ELEMENT"in t))throw new wI(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new wI(t)}}function S0(t){return t instanceof Uint8Array?t:typeof t=="string"?x0(t):Rce(t)}function Rce(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function x0(t,e={}){const{size:n}=e;let r=t;n&&(Bk(t,n),r=I0(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=VK(i.charCodeAt(c++)),u=VK(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new xt(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l<<4|u}return o}function zk(t,e={}){const{size:n}=e,r=Rot.encode(t);return typeof n=="number"?($ce(r,n),Uot(r,n)):r}function Uot(t,e){return Sot(t,{dir:"right",size:e})}function fv(t){return t.length}function YK(t,e,n,r={}){const{strict:i}=r;_ot(t,e);const s=t.slice(e,n);return i&&Iot(s,e,n),s}function JK(t,e={}){const{size:n}=e;typeof n<"u"&&$ce(t,n);const r=_o(t,e);return u2(r,e)}function rL(t,e={}){return _o(t,e)}function Mot(t){try{return Dot(t),!0}catch{return!1}}class wI extends xt{constructor(e){super(`Value \`${typeof e=="object"?Op(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let Lot=class extends xt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}};class Dce extends xt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}let jot=class extends xt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}},Bot=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const zot={checksum:new Bot(8192)},AN=zot.checksum;function qs(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=vte(S0(t));return n==="Bytes"?r:_o(r)}function Uce(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=Nke(S0(t));return n==="Bytes"?r:_o(r)}function Mce(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new XK({prefix:r,cause:new Hot});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new XK({prefix:r,cause:new Fot});return}throw new qot({publicKey:t})}function gv(t){const e=(()=>{if(S4(t))return Wk(t);if(Mot(t))return Wot(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return Mce(e),e}function Wot(t){return Wk(_o(t))}function Wk(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new Vot({publicKey:t});if(t.length===130){const r=BigInt(ys(t,0,32)),i=BigInt(ys(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(ys(t,0,1)),i=BigInt(ys(t,1,33)),s=BigInt(ys(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(ys(t,0,1)),n=BigInt(ys(t,1,33));return{prefix:e,x:n}}function d2(t,e={}){Mce(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return Hs(s?nn(n,{size:1}):"0x",nn(r,{size:32}),typeof i=="bigint"?nn(i,{size:32}):"0x")}class qot extends xt{constructor({publicKey:e}){super(`Value \`${Op(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class XK extends xt{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Fot extends xt{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Hot extends xt{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Vot=class extends xt{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Ii($y(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Kot=/^0x[a-fA-F0-9]{40}$/;function A0(t,e={}){const{strict:n=!0}=e;if(!Kot.test(t))throw new W7({address:t,cause:new Bce});if(n){if(t.toLowerCase()===t)return;if(Lce(t)!==t)throw new W7({address:t,cause:new Zot})}}function Lce(t){if(AN.has(t))return AN.get(t);A0(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=qs(zk(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return AN.set(t,i),i}function jce(t,e={}){const{checksum:n=!1}=e;return A0(t),n?Lce(t):t}function iL(t,e={}){const n=qs(`0x${d2(t).slice(4)}`).substring(26);return jce(`0x${n}`,e)}function ei(t,e){return A0(t,{strict:!1}),A0(e,{strict:!1}),t.toLowerCase()===e.toLowerCase()}function k0(t,e={}){const{strict:n=!0}=e??{};try{return A0(t,{strict:n}),!0}catch{return!1}}class W7 extends xt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Bce extends xt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Zot extends xt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const sL=Object.freeze({status:"aborted"});function de(t,e,n){function r(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:o,traits:new Set},enumerable:!1}),a._zod.traits.has(t))return;a._zod.traits.add(t),e(a,c);const l=o.prototype,u=Object.keys(l);for(let d=0;d<u.length;d++){const h=u[d];h in a||(a[h]=l[h].bind(a))}}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function o(a){var c;const l=n?.Parent?new s:this;r(l,a),(c=l._zod).deferred??(c.deferred=[]);for(const u of l._zod.deferred)u();return l}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}const oL=Symbol("zod_brand");class Rw extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class aL extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const r6={};function Sc(t){return t&&Object.assign(r6,t),r6}function Got(t){return t}function Yot(t){return t}function Jot(t){}function Xot(t){throw new Error}function Qot(t){}function cL(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function ze(t,e="|"){return t.map(n=>Dt(n)).join(e)}function zce(t,e){return typeof e=="bigint"?e.toString():e}function x4(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Ty(t){return t==null}function qk(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Wce(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}const s=n>i?n:i,o=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return o%a/10**s}const QK=Symbol("evaluating");function on(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==QK)return r===void 0&&(r=QK,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function eat(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function cm(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function lm(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function tat(t){return lm(t._zod.def)}function nat(t,e){return e?e.reduce((n,r)=>n?.[r],t):t}function rat(t){const e=Object.keys(t),n=e.map(r=>t[r]);return Promise.all(n).then(r=>{const i={};for(let s=0;s<e.length;s++)i[e[s]]=r[s];return i})}function iat(t=10){const e="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}function q7(t){return JSON.stringify(t)}function qce(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const lL="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function mv(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Fce=x4(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function $0(t){if(mv(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(mv(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Fk(t){return $0(t)?{...t}:Array.isArray(t)?[...t]:t}function sat(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}const oat=t=>{const e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},i6=new Set(["string","number","symbol"]),Hce=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Pp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Oc(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Ae(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function aat(t){let e;return new Proxy({},{get(n,r,i){return e??(e=t()),Reflect.get(e,r,i)},set(n,r,i,s){return e??(e=t()),Reflect.set(e,r,i,s)},has(n,r){return e??(e=t()),Reflect.has(e,r)},deleteProperty(n,r){return e??(e=t()),Reflect.deleteProperty(e,r)},ownKeys(n){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(n,r){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,r)},defineProperty(n,r,i){return e??(e=t()),Reflect.defineProperty(e,r,i)}})}function Dt(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function Vce(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Kce={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Zce={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function Gce(t,e){const n=t._zod.def,r=lm(t._zod.def,{get shape(){const i={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(i[s]=n.shape[s])}return cm(this,"shape",i),i},checks:[]});return Oc(t,r)}function Yce(t,e){const n=t._zod.def,r=lm(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete i[s]}return cm(this,"shape",i),i},checks:[]});return Oc(t,r)}function uL(t,e){if(!$0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=lm(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return cm(this,"shape",s),s},checks:[]});return Oc(t,i)}function Jce(t,e){if(!$0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return cm(this,"shape",r),r},checks:t._zod.def.checks};return Oc(t,n)}function cat(t,e){const n=lm(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return cm(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Oc(t,n)}function Xce(t,e,n){const r=lm(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=t?new t({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=t?new t({type:"optional",innerType:i[o]}):i[o];return cm(this,"shape",s),s},checks:[]});return Oc(e,r)}function Qce(t,e,n){const r=lm(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new t({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new t({type:"nonoptional",innerType:i[o]});return cm(this,"shape",s),s},checks:[]});return Oc(e,r)}function Iw(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function hu(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Q3(t){return typeof t=="string"?t:t?.message}function $u(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=Q3(t.inst?._zod.def?.error?.(t))??Q3(e?.error?.(t))??Q3(n.customError?.(t))??Q3(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Hk(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function Vk(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function s6(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}function lat(t){return Object.entries(t).filter(([e,n])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function ele(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function tle(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function uat(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-e.length%4)%4);return ele(e+n)}function dat(t){return tle(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function hat(t){const e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");const n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r/2]=Number.parseInt(e.slice(r,r+2),16);return n}function pat(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}class fat{constructor(...e){}}const dL=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:Zce,Class:fat,NUMBER_FORMAT_RANGES:Kce,aborted:Iw,allowsEval:Fce,assert:Qot,assertEqual:Got,assertIs:Jot,assertNever:Xot,assertNotEqual:Yot,assignProp:cm,base64ToUint8Array:ele,base64urlToUint8Array:uat,cached:x4,captureStackTrace:lL,cleanEnum:lat,cleanRegex:qk,clone:Oc,cloneDef:tat,createTransparentProxy:aat,defineLazy:on,esc:q7,escapeRegex:Pp,extend:uL,finalizeIssue:$u,floatSafeRemainder:Wce,getElementAtPath:nat,getEnumValues:cL,getLengthableOrigin:Vk,getParsedType:oat,getSizableOrigin:Hk,hexToUint8Array:hat,isObject:mv,isPlainObject:$0,issue:s6,joinValues:ze,jsonStringifyReplacer:zce,merge:cat,mergeDefs:lm,normalizeParams:Ae,nullish:Ty,numKeys:sat,objectClone:eat,omit:Yce,optionalKeys:Vce,partial:Xce,pick:Gce,prefixIssues:hu,primitiveTypes:Hce,promiseAllObject:rat,propertyKeyTypes:i6,randomString:iat,required:Qce,safeExtend:Jce,shallowClone:Fk,slugify:qce,stringifyPrimitive:Dt,uint8ArrayToBase64:tle,uint8ArrayToBase64url:dat,uint8ArrayToHex:pat,unwrapMessage:Q3},Symbol.toStringTag,{value:"Module"})),nle=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,zce,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},rle=de("$ZodError",nle),Pc=de("$ZodError",nle,{Parent:Error});function hL(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function pL(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let o=n,a=0;for(;a<s.path.length;){const c=s.path[a];a===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(e(s))):o[c]=o[c]||{_errors:[]},o=o[c],a++}}};return r(t),n}function fL(t,e=n=>n.message){const n={errors:[]},r=(i,s=[])=>{var o,a;for(const c of i.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(l=>r({issues:l},c.path));else if(c.code==="invalid_key")r({issues:c.issues},c.path);else if(c.code==="invalid_element")r({issues:c.issues},c.path);else{const l=[...s,...c.path];if(l.length===0){n.errors.push(e(c));continue}let u=n,d=0;for(;d<l.length;){const h=l[d],p=d===l.length-1;typeof h=="string"?(u.properties??(u.properties={}),(o=u.properties)[h]??(o[h]={errors:[]}),u=u.properties[h]):(u.items??(u.items=[]),(a=u.items)[h]??(a[h]={errors:[]}),u=u.items[h]),p&&u.errors.push(e(c)),d++}}};return r(t),n}function ile(t){const e=[],n=t.map(r=>typeof r=="object"?r.key:r);for(const r of n)typeof r=="number"?e.push(`[${r}]`):typeof r=="symbol"?e.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?e.push(`[${JSON.stringify(r)}]`):(e.length&&e.push("."),e.push(r));return e.join("")}function gL(t){const e=[],n=[...t.issues].sort((r,i)=>(r.path??[]).length-(i.path??[]).length);for(const r of n)e.push(`âœ– ${r.message}`),r.path?.length&&e.push(`  â†’ at ${ile(r.path)}`);return e.join(`
`)}const Kk=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new Rw;if(o.issues.length){const a=new(i?.Err??t)(o.issues.map(c=>$u(c,s,Sc())));throw lL(a,i?.callee),a}return o.value},wv=Kk(Pc),Zk=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(i?.Err??t)(o.issues.map(c=>$u(c,s,Sc())));throw lL(a,i?.callee),a}return o.value},yv=Zk(Pc),Gk=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Rw;return s.issues.length?{success:!1,error:new(t??rle)(s.issues.map(o=>$u(o,i,Sc())))}:{success:!0,data:s.value}},h2=Gk(Pc),Yk=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(o=>$u(o,i,Sc())))}:{success:!0,data:s.value}},A4=Yk(Pc),sle=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Kk(t)(e,n,i)},Er=sle(Pc),ole=t=>(e,n,r)=>Kk(t)(e,n,r),Ui=ole(Pc),ale=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zk(t)(e,n,i)},mL=ale(Pc),cle=t=>async(e,n,r)=>Zk(t)(e,n,r),wL=cle(Pc),lle=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gk(t)(e,n,i)},yL=lle(Pc),ule=t=>(e,n,r)=>Gk(t)(e,n,r),bL=ule(Pc),dle=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yk(t)(e,n,i)},vL=dle(Pc),hle=t=>async(e,n,r)=>Yk(t)(e,n,r),EL=hle(Pc),ple=/^[cC][^\s-]{8,}$/,fle=/^[0-9a-z]+$/,gle=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,mle=/^[0-9a-vA-V]{20}$/,wle=/^[A-Za-z0-9]{27}$/,yle=/^[a-zA-Z0-9_-]{21}$/,ble=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,gat=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vle=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bv=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,mat=bv(4),wat=bv(6),yat=bv(7),Ele=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,bat=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vat=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Cle=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Eat=Cle,Cat=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_at="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function _le(){return new RegExp(_at,"u")}const Ile=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sle=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,xle=t=>{const e=Pp(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},Ale=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,kle=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$le=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,CL=/^[A-Za-z0-9_-]*$/,Tle=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Nle=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Ole=/^\+(?:[0-9]){6,14}[0-9]$/,Ple="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Rle=new RegExp(`^${Ple}$`);function Dle(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Ule(t){return new RegExp(`^${Dle(t)}$`)}function Mle(t){const e=Dle({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Ple}T(?:${r})$`)}const Lle=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},jle=/^-?\d+n?$/,Ble=/^-?\d+$/,zle=/^-?\d+(?:\.\d+)?/,Wle=/^(?:true|false)$/i,qle=/^null$/i,Fle=/^undefined$/i,Hle=/^[^A-Z]*$/,Vle=/^[^a-z]*$/,Kle=/^[0-9a-fA-F]*$/;function k4(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function $4(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}const Iat=/^[0-9a-fA-F]{32}$/,Sat=k4(22,"=="),xat=$4(22),Aat=/^[0-9a-fA-F]{40}$/,kat=k4(27,"="),$at=$4(27),Tat=/^[0-9a-fA-F]{64}$/,Nat=k4(43,"="),Oat=$4(43),Pat=/^[0-9a-fA-F]{96}$/,Rat=k4(64,""),Dat=$4(64),Uat=/^[0-9a-fA-F]{128}$/,Mat=k4(86,"=="),Lat=$4(86),Jk=Object.freeze(Object.defineProperty({__proto__:null,base64:$le,base64url:CL,bigint:jle,boolean:Wle,browserEmail:Cat,cidrv4:Ale,cidrv6:kle,cuid:ple,cuid2:fle,date:Rle,datetime:Mle,domain:Nle,duration:ble,e164:Ole,email:Ele,emoji:_le,extendedDuration:gat,guid:vle,hex:Kle,hostname:Tle,html5Email:bat,idnEmail:Eat,integer:Ble,ipv4:Ile,ipv6:Sle,ksuid:wle,lowercase:Hle,mac:xle,md5_base64:Sat,md5_base64url:xat,md5_hex:Iat,nanoid:yle,null:qle,number:zle,rfc5322Email:vat,sha1_base64:kat,sha1_base64url:$at,sha1_hex:Aat,sha256_base64:Nat,sha256_base64url:Oat,sha256_hex:Tat,sha384_base64:Rat,sha384_base64url:Dat,sha384_hex:Pat,sha512_base64:Mat,sha512_base64url:Lat,sha512_hex:Uat,string:Lle,time:Ule,ulid:gle,undefined:Fle,unicodeEmail:Cle,uppercase:Vle,uuid:bv,uuid4:mat,uuid6:wat,uuid7:yat,xid:mle},Symbol.toStringTag,{value:"Module"})),Xr=de("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Zle={number:"number",bigint:"bigint",object:"date"},_L=de("$ZodCheckLessThan",(t,e)=>{Xr.init(t,e);const n=Zle[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),IL=de("$ZodCheckGreaterThan",(t,e)=>{Xr.init(t,e);const n=Zle[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Gle=de("$ZodCheckMultipleOf",(t,e)=>{Xr.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Wce(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Yle=de("$ZodCheckNumberFormat",(t,e)=>{Xr.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,s]=Kce[e.format];t._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=i,a.maximum=s,n&&(a.pattern=Ble)}),t._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}a<i&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),a>s&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:s,inst:t})}}),Jle=de("$ZodCheckBigIntFormat",(t,e)=>{Xr.init(t,e);const[n,r]=Zce[e.format];t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,s.minimum=n,s.maximum=r}),t._zod.check=i=>{const s=i.value;s<n&&i.issues.push({origin:"bigint",input:s,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),s>r&&i.issues.push({origin:"bigint",input:s,code:"too_big",maximum:r,inst:t})}}),Xle=de("$ZodCheckMaxSize",(t,e)=>{var n;Xr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Ty(i)&&i.size!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;i.size<=e.maximum||r.issues.push({origin:Hk(i),code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Qle=de("$ZodCheckMinSize",(t,e)=>{var n;Xr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Ty(i)&&i.size!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;i.size>=e.minimum||r.issues.push({origin:Hk(i),code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),eue=de("$ZodCheckSizeEquals",(t,e)=>{var n;Xr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Ty(i)&&i.size!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.size,i.maximum=e.size,i.size=e.size}),t._zod.check=r=>{const i=r.value,s=i.size;if(s===e.size)return;const o=s>e.size;r.issues.push({origin:Hk(i),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),tue=de("$ZodCheckMaxLength",(t,e)=>{var n;Xr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Ty(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const o=Vk(i);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),nue=de("$ZodCheckMinLength",(t,e)=>{var n;Xr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Ty(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const o=Vk(i);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),rue=de("$ZodCheckLengthEquals",(t,e)=>{var n;Xr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Ty(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const o=Vk(i),a=s>e.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),T4=de("$ZodCheckStringFormat",(t,e)=>{var n,r;Xr.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),iue=de("$ZodCheckRegex",(t,e)=>{T4.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),sue=de("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Hle),T4.init(t,e)}),oue=de("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Vle),T4.init(t,e)}),aue=de("$ZodCheckIncludes",(t,e)=>{Xr.init(t,e);const n=Pp(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),cue=de("$ZodCheckStartsWith",(t,e)=>{Xr.init(t,e);const n=new RegExp(`^${Pp(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),lue=de("$ZodCheckEndsWith",(t,e)=>{Xr.init(t,e);const n=new RegExp(`.*${Pp(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}});function eZ(t,e,n){t.issues.length&&e.issues.push(...hu(n,t.issues))}const uue=de("$ZodCheckProperty",(t,e)=>{Xr.init(t,e),t._zod.check=n=>{const r=e.schema._zod.run({value:n.value[e.property],issues:[]},{});if(r instanceof Promise)return r.then(i=>eZ(i,n,e.property));eZ(r,n,e.property)}}),due=de("$ZodCheckMimeType",(t,e)=>{Xr.init(t,e);const n=new Set(e.mime);t._zod.onattach.push(r=>{r._zod.bag.mime=e.mime}),t._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:e.mime,input:r.value.type,inst:t,continue:!e.abort})}}),hue=de("$ZodCheckOverwrite",(t,e)=>{Xr.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class pue{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const fue={major:4,minor:1,patch:13},Ft=de("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=fue;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const s of i._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(o,a,c)=>{let l=Iw(o),u;for(const d of a){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(l)continue;const h=o.issues.length,p=d._zod.check(o);if(p instanceof Promise&&c?.async===!1)throw new Rw;if(u||p instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await p,o.issues.length!==h&&(l||(l=Iw(o,h)))});else{if(o.issues.length===h)continue;l||(l=Iw(o,h))}}return u?u.then(()=>o):o},s=(o,a,c)=>{if(Iw(o))return o.aborted=!0,o;const l=i(a,r,c);if(l instanceof Promise){if(c.async===!1)throw new Rw;return l.then(u=>t._zod.parse(u,c))}return t._zod.parse(l,c)};t._zod.run=(o,a)=>{if(a.skipChecks)return t._zod.parse(o,a);if(a.direction==="backward"){const l=t._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return l instanceof Promise?l.then(u=>s(u,o,a)):s(l,o,a)}const c=t._zod.parse(o,a);if(c instanceof Promise){if(a.async===!1)throw new Rw;return c.then(l=>i(l,r,a))}return i(c,r,a)}}t["~standard"]={validate:i=>{try{const s=h2(t,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return A4(t,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Xk=de("$ZodString",(t,e)=>{Ft.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Lle(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),xr=de("$ZodStringFormat",(t,e)=>{T4.init(t,e),Xk.init(t,e)}),gue=de("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=vle),xr.init(t,e)}),mue=de("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=bv(r))}else e.pattern??(e.pattern=bv());xr.init(t,e)}),wue=de("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Ele),xr.init(t,e)}),yue=de("$ZodURL",(t,e)=>{xr.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),bue=de("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=_le()),xr.init(t,e)}),vue=de("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=yle),xr.init(t,e)}),Eue=de("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=ple),xr.init(t,e)}),Cue=de("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=fle),xr.init(t,e)}),_ue=de("$ZodULID",(t,e)=>{e.pattern??(e.pattern=gle),xr.init(t,e)}),Iue=de("$ZodXID",(t,e)=>{e.pattern??(e.pattern=mle),xr.init(t,e)}),Sue=de("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=wle),xr.init(t,e)}),xue=de("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Mle(e)),xr.init(t,e)}),Aue=de("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Rle),xr.init(t,e)}),kue=de("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Ule(e)),xr.init(t,e)}),$ue=de("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=ble),xr.init(t,e)}),Tue=de("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Ile),xr.init(t,e),t._zod.bag.format="ipv4"}),Nue=de("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Sle),xr.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Oue=de("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=xle(e.delimiter)),xr.init(t,e),t._zod.bag.format="mac"}),Pue=de("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Ale),xr.init(t,e)}),Rue=de("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=kle),xr.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function SL(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Due=de("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=$le),xr.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{SL(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Uue(t){if(!CL.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return SL(n)}const Mue=de("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=CL),xr.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{Uue(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Lue=de("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Ole),xr.init(t,e)});function jue(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const Bue=de("$ZodJWT",(t,e)=>{xr.init(t,e),t._zod.check=n=>{jue(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),zue=de("$ZodCustomStringFormat",(t,e)=>{xr.init(t,e),t._zod.check=n=>{e.fn(n.value)||n.issues.push({code:"invalid_format",format:e.format,input:n.value,inst:t,continue:!e.abort})}}),xL=de("$ZodNumber",(t,e)=>{Ft.init(t,e),t._zod.pattern=t._zod.bag.pattern??zle,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),Wue=de("$ZodNumberFormat",(t,e)=>{Yle.init(t,e),xL.init(t,e)}),AL=de("$ZodBoolean",(t,e)=>{Ft.init(t,e),t._zod.pattern=Wle,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),kL=de("$ZodBigInt",(t,e)=>{Ft.init(t,e),t._zod.pattern=jle,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:t}),n}}),que=de("$ZodBigIntFormat",(t,e)=>{Jle.init(t,e),kL.init(t,e)}),Fue=de("$ZodSymbol",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;return typeof i=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:t}),n}}),Hue=de("$ZodUndefined",(t,e)=>{Ft.init(t,e),t._zod.pattern=Fle,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(n,r)=>{const i=n.value;return typeof i>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:t}),n}}),Vue=de("$ZodNull",(t,e)=>{Ft.init(t,e),t._zod.pattern=qle,t._zod.values=new Set([null]),t._zod.parse=(n,r)=>{const i=n.value;return i===null||n.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),n}}),Kue=de("$ZodAny",(t,e)=>{Ft.init(t,e),t._zod.parse=n=>n}),Zue=de("$ZodUnknown",(t,e)=>{Ft.init(t,e),t._zod.parse=n=>n}),Gue=de("$ZodNever",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),Yue=de("$ZodVoid",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;return typeof i>"u"||n.issues.push({expected:"void",code:"invalid_type",input:i,inst:t}),n}}),Jue=de("$ZodDate",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,s=i instanceof Date;return s&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...s?{received:"Invalid Date"}:{},inst:t}),n}});function tZ(t,e,n){t.issues.length&&e.issues.push(...hu(n,t.issues)),e.value[n]=t.value}const Xue=de("$ZodArray",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const a=i[o],c=e.element._zod.run({value:a,issues:[]},r);c instanceof Promise?s.push(c.then(l=>tZ(l,n,o))):tZ(c,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function o6(t,e,n,r){t.issues.length&&e.issues.push(...hu(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function Que(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Vce(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function ede(t,e,n,r,i,s){const o=[],a=i.keySet,c=i.catchall._zod,l=c.def.type;for(const u in e){if(a.has(u))continue;if(l==="never"){o.push(u);continue}const d=c.run({value:e[u],issues:[]},r);d instanceof Promise?t.push(d.then(h=>o6(h,n,u,e))):o6(d,n,u,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const $L=de("$ZodObject",(t,e)=>{if(Ft.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const a=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...a};return Object.defineProperty(e,"shape",{value:c}),c}})}const r=x4(()=>Que(e));on(t._zod,"propValues",()=>{const a=e.shape,c={};for(const l in a){const u=a[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(const d of u.values)c[l].add(d)}}return c});const i=mv,s=e.catchall;let o;t._zod.parse=(a,c)=>{o??(o=r.value);const l=a.value;if(!i(l))return a.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),a;a.value={};const u=[],d=o.shape;for(const h of o.keys){const f=d[h]._zod.run({value:l[h],issues:[]},c);f instanceof Promise?u.push(f.then(g=>o6(g,a,h,l))):o6(f,a,h,l)}return s?ede(u,l,a,c,r.value,t):u.length?Promise.all(u).then(()=>a):a}}),jat=de("$ZodObjectJIT",(t,e)=>{$L.init(t,e);const n=t._zod.parse,r=x4(()=>Que(e)),i=h=>{const p=new pue(["shape","payload","ctx"]),f=r.value,g=v=>{const w=q7(v);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};p.write("const input = payload.value;");const m=Object.create(null);let b=0;for(const v of f.keys)m[v]=`key_${b++}`;p.write("const newResult = {};");for(const v of f.keys){const w=m[v],C=q7(v);p.write(`const ${w} = ${g(v)};`),p.write(`
        if (${w}.issues.length) {
          payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        
        if (${w}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${w}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const y=p.compile();return(v,w)=>y(h,v,w)};let s;const o=mv,a=!r6.jitless,l=a&&Fce.value,u=e.catchall;let d;t._zod.parse=(h,p)=>{d??(d=r.value);const f=h.value;return o(f)?a&&l&&p?.async===!1&&p.jitless!==!0?(s||(s=i(e.shape)),h=s(h,p),u?ede([],f,h,p,d,t):h):n(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),h)}});function nZ(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!Iw(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(o=>$u(o,r,Sc())))}),e)}const TL=de("$ZodUnion",(t,e)=>{Ft.init(t,e),on(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),on(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),on(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),on(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>qk(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const a=[];for(const c of e.options){const l=c._zod.run({value:i.value,issues:[]},s);if(l instanceof Promise)a.push(l),o=!0;else{if(l.issues.length===0)return l;a.push(l)}}return o?Promise.all(a).then(c=>nZ(c,i,t,s)):nZ(a,i,t,s)}}),tde=de("$ZodDiscriminatedUnion",(t,e)=>{TL.init(t,e);const n=t._zod.parse;on(t._zod,"propValues",()=>{const i={};for(const s of e.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(const[a,c]of Object.entries(o)){i[a]||(i[a]=new Set);for(const l of c)i[a].add(l)}}return i});const r=x4(()=>{const i=e.options,s=new Map;for(const o of i){const a=o._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(const c of a){if(s.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);s.set(c,o)}}return s});t._zod.parse=(i,s)=>{const o=i.value;if(!mv(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),i;const a=r.value.get(o?.[e.discriminator]);return a?a._zod.run(i,s):e.unionFallback?n(i,s):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:o,path:[e.discriminator],inst:t}),i)}}),nde=de("$ZodIntersection",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),o=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([c,l])=>rZ(n,c,l)):rZ(n,s,o)}});function F7(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if($0(t)&&$0(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const o=F7(t[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],o=F7(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function rZ(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Iw(t))return t;const r=F7(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const NL=de("$ZodTuple",(t,e)=>{Ft.init(t,e);const n=e.items;t._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:t,expected:"tuple",code:"invalid_type"}),r;r.value=[];const o=[],a=[...n].reverse().findIndex(u=>u._zod.optin!=="optional"),c=a===-1?0:n.length-a;if(!e.rest){const u=s.length>n.length,d=s.length<c-1;if(u||d)return r.issues.push({...u?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:s,inst:t,origin:"array"}),r}let l=-1;for(const u of n){if(l++,l>=s.length&&l>=c)continue;const d=u._zod.run({value:s[l],issues:[]},i);d instanceof Promise?o.push(d.then(h=>yI(h,r,l))):yI(d,r,l)}if(e.rest){const u=s.slice(n.length);for(const d of u){l++;const h=e.rest._zod.run({value:d,issues:[]},i);h instanceof Promise?o.push(h.then(p=>yI(p,r,l))):yI(h,r,l)}}return o.length?Promise.all(o).then(()=>r):r}});function yI(t,e,n){t.issues.length&&e.issues.push(...hu(n,t.issues)),e.value[n]=t.value}const rde=de("$ZodRecord",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!$0(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),n;const s=[],o=e.keyType._zod.values;if(o){n.value={};const a=new Set;for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){a.add(typeof l=="number"?l.toString():l);const u=e.valueType._zod.run({value:i[l],issues:[]},r);u instanceof Promise?s.push(u.then(d=>{d.issues.length&&n.issues.push(...hu(l,d.issues)),n.value[l]=d.value})):(u.issues.length&&n.issues.push(...hu(l,u.issues)),n.value[l]=u.value)}let c;for(const l in i)a.has(l)||(c=c??[],c.push(l));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:c})}else{n.value={};for(const a of Reflect.ownKeys(i)){if(a==="__proto__")continue;const c=e.keyType._zod.run({value:a,issues:[]},r);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(u=>$u(u,r,Sc())),input:a,path:[a],inst:t}),n.value[c.value]=c.value;continue}const l=e.valueType._zod.run({value:i[a],issues:[]},r);l instanceof Promise?s.push(l.then(u=>{u.issues.length&&n.issues.push(...hu(a,u.issues)),n.value[c.value]=u.value})):(l.issues.length&&n.issues.push(...hu(a,l.issues)),n.value[c.value]=l.value)}}return s.length?Promise.all(s).then(()=>n):n}}),ide=de("$ZodMap",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:i,inst:t}),n;const s=[];n.value=new Map;for(const[o,a]of i){const c=e.keyType._zod.run({value:o,issues:[]},r),l=e.valueType._zod.run({value:a,issues:[]},r);c instanceof Promise||l instanceof Promise?s.push(Promise.all([c,l]).then(([u,d])=>{iZ(u,d,n,o,i,t,r)})):iZ(c,l,n,o,i,t,r)}return s.length?Promise.all(s).then(()=>n):n}});function iZ(t,e,n,r,i,s,o){t.issues.length&&(i6.has(typeof r)?n.issues.push(...hu(r,t.issues)):n.issues.push({code:"invalid_key",origin:"map",input:i,inst:s,issues:t.issues.map(a=>$u(a,o,Sc()))})),e.issues.length&&(i6.has(typeof r)?n.issues.push(...hu(r,e.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:s,key:r,issues:e.issues.map(a=>$u(a,o,Sc()))})),n.value.set(t.value,e.value)}const sde=de("$ZodSet",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Set))return n.issues.push({input:i,inst:t,expected:"set",code:"invalid_type"}),n;const s=[];n.value=new Set;for(const o of i){const a=e.valueType._zod.run({value:o,issues:[]},r);a instanceof Promise?s.push(a.then(c=>sZ(c,n))):sZ(a,n)}return s.length?Promise.all(s).then(()=>n):n}});function sZ(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}const ode=de("$ZodEnum",(t,e)=>{Ft.init(t,e);const n=cL(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>i6.has(typeof i)).map(i=>typeof i=="string"?Pp(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:t}),i}}),ade=de("$ZodLiteral",(t,e)=>{if(Ft.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Pp(r):r?Pp(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),r}}),cde=de("$ZodFile",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;return i instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:i,inst:t}),n}}),lde=de("$ZodTransform",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new aL(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new Rw;return n.value=i,n}});function oZ(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const ude=de("$ZodOptional",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",t._zod.optout="optional",on(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),on(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${qk(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>oZ(s,n.value)):oZ(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),dde=de("$ZodNullable",(t,e)=>{Ft.init(t,e),on(t._zod,"optin",()=>e.innerType._zod.optin),on(t._zod,"optout",()=>e.innerType._zod.optout),on(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${qk(n.source)}|null)$`):void 0}),on(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),hde=de("$ZodDefault",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",on(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>aZ(s,e)):aZ(i,e)}});function aZ(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const pde=de("$ZodPrefault",(t,e)=>{Ft.init(t,e),t._zod.optin="optional",on(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),fde=de("$ZodNonOptional",(t,e)=>{Ft.init(t,e),on(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>cZ(s,t)):cZ(i,t)}});function cZ(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const gde=de("$ZodSuccess",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new aL("ZodSuccess");const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.issues.length===0,n)):(n.value=i.issues.length===0,n)}}),mde=de("$ZodCatch",(t,e)=>{Ft.init(t,e),on(t._zod,"optin",()=>e.innerType._zod.optin),on(t._zod,"optout",()=>e.innerType._zod.optout),on(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(o=>$u(o,r,Sc()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>$u(s,r,Sc()))},input:n.value}),n.issues=[]),n)}}),wde=de("$ZodNaN",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:t,expected:"nan",code:"invalid_type"}),n)}),yde=de("$ZodPipe",(t,e)=>{Ft.init(t,e),on(t._zod,"values",()=>e.in._zod.values),on(t._zod,"optin",()=>e.in._zod.optin),on(t._zod,"optout",()=>e.out._zod.optout),on(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(o=>bI(o,e.in,r)):bI(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>bI(s,e.out,r)):bI(i,e.out,r)}});function bI(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const OL=de("$ZodCodec",(t,e)=>{Ft.init(t,e),on(t._zod,"values",()=>e.in._zod.values),on(t._zod,"optin",()=>e.in._zod.optin),on(t._zod,"optout",()=>e.out._zod.optout),on(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if((r.direction||"forward")==="forward"){const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(o=>vI(o,e,r)):vI(s,e,r)}else{const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(o=>vI(o,e,r)):vI(s,e,r)}}});function vI(t,e,n){if(t.issues.length)return t.aborted=!0,t;if((n.direction||"forward")==="forward"){const i=e.transform(t.value,t);return i instanceof Promise?i.then(s=>EI(t,s,e.out,n)):EI(t,i,e.out,n)}else{const i=e.reverseTransform(t.value,t);return i instanceof Promise?i.then(s=>EI(t,s,e.in,n)):EI(t,i,e.in,n)}}function EI(t,e,n,r){return t.issues.length?(t.aborted=!0,t):n._zod.run({value:e,issues:t.issues},r)}const bde=de("$ZodReadonly",(t,e)=>{Ft.init(t,e),on(t._zod,"propValues",()=>e.innerType._zod.propValues),on(t._zod,"values",()=>e.innerType._zod.values),on(t._zod,"optin",()=>e.innerType?._zod?.optin),on(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(lZ):lZ(i)}});function lZ(t){return t.value=Object.freeze(t.value),t}const vde=de("$ZodTemplateLiteral",(t,e)=>{Ft.init(t,e);const n=[];for(const r of e.parts)if(typeof r=="object"&&r!==null){if(!r._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...r._zod.traits].shift()}`);const i=r._zod.pattern instanceof RegExp?r._zod.pattern.source:r._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${r._zod.traits}`);const s=i.startsWith("^")?1:0,o=i.endsWith("$")?i.length-1:i.length;n.push(i.slice(s,o))}else if(r===null||Hce.has(typeof r))n.push(Pp(`${r}`));else throw new Error(`Invalid template literal part: ${r}`);t._zod.pattern=new RegExp(`^${n.join("")}$`),t._zod.parse=(r,i)=>typeof r.value!="string"?(r.issues.push({input:r.value,inst:t,expected:"template_literal",code:"invalid_type"}),r):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),r)}),Ede=de("$ZodFunction",(t,e)=>(Ft.init(t,e),t._def=e,t._zod.def=e,t.implement=n=>{if(typeof n!="function")throw new Error("implement() must be called with a function");return function(...r){const i=t._def.input?wv(t._def.input,r):r,s=Reflect.apply(n,this,i);return t._def.output?wv(t._def.output,s):s}},t.implementAsync=n=>{if(typeof n!="function")throw new Error("implementAsync() must be called with a function");return async function(...r){const i=t._def.input?await yv(t._def.input,r):r,s=await Reflect.apply(n,this,i);return t._def.output?await yv(t._def.output,s):s}},t._zod.parse=(n,r)=>typeof n.value!="function"?(n.issues.push({code:"invalid_type",expected:"function",input:n.value,inst:t}),n):(t._def.output&&t._def.output._zod.def.type==="promise"?n.value=t.implementAsync(n.value):n.value=t.implement(n.value),n),t.input=(...n)=>{const r=t.constructor;return Array.isArray(n[0])?new r({type:"function",input:new NL({type:"tuple",items:n[0],rest:n[1]}),output:t._def.output}):new r({type:"function",input:n[0],output:t._def.output})},t.output=n=>{const r=t.constructor;return new r({type:"function",input:t._def.input,output:n})},t)),Cde=de("$ZodPromise",(t,e)=>{Ft.init(t,e),t._zod.parse=(n,r)=>Promise.resolve(n.value).then(i=>e.innerType._zod.run({value:i,issues:[]},r))}),_de=de("$ZodLazy",(t,e)=>{Ft.init(t,e),on(t._zod,"innerType",()=>e.getter()),on(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),on(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),on(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),on(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(n,r)=>t._zod.innerType._zod.run(n,r)}),Ide=de("$ZodCustom",(t,e)=>{Xr.init(t,e),Ft.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>uZ(s,n,r,t));uZ(i,n,r,t)}});function uZ(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(s6(i))}}const Bat=()=>{const t={string:{unit:"Ø­Ø±Ù",verb:"Ø£Ù† ÙŠØ­ÙˆÙŠ"},file:{unit:"Ø¨Ø§ÙŠØª",verb:"Ø£Ù† ÙŠØ­ÙˆÙŠ"},array:{unit:"Ø¹Ù†ØµØ±",verb:"Ø£Ù† ÙŠØ­ÙˆÙŠ"},set:{unit:"Ø¹Ù†ØµØ±",verb:"Ø£Ù† ÙŠØ­ÙˆÙŠ"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"Ù…Ø¯Ø®Ù„",email:"Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",url:"Ø±Ø§Ø¨Ø·",emoji:"Ø¥ÙŠÙ…ÙˆØ¬ÙŠ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø¨Ù…Ø¹ÙŠØ§Ø± ISO",date:"ØªØ§Ø±ÙŠØ® Ø¨Ù…Ø¹ÙŠØ§Ø± ISO",time:"ÙˆÙ‚Øª Ø¨Ù…Ø¹ÙŠØ§Ø± ISO",duration:"Ù…Ø¯Ø© Ø¨Ù…Ø¹ÙŠØ§Ø± ISO",ipv4:"Ø¹Ù†ÙˆØ§Ù† IPv4",ipv6:"Ø¹Ù†ÙˆØ§Ù† IPv6",cidrv4:"Ù…Ø¯Ù‰ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø¨ØµÙŠØºØ© IPv4",cidrv6:"Ù…Ø¯Ù‰ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø¨ØµÙŠØºØ© IPv6",base64:"Ù†ÙŽØµ Ø¨ØªØ±Ù…ÙŠØ² base64-encoded",base64url:"Ù†ÙŽØµ Ø¨ØªØ±Ù…ÙŠØ² base64url-encoded",json_string:"Ù†ÙŽØµ Ø¹Ù„Ù‰ Ù‡ÙŠØ¦Ø© JSON",e164:"Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¨Ù…Ø¹ÙŠØ§Ø± E.164",jwt:"JWT",template_literal:"Ù…Ø¯Ø®Ù„"};return i=>{switch(i.code){case"invalid_type":return`Ù…Ø¯Ø®Ù„Ø§Øª ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„Ø©: ÙŠÙØªØ±Ø¶ Ø¥Ø¯Ø®Ø§Ù„ ${i.expected}ØŒ ÙˆÙ„ÙƒÙ† ØªÙ… Ø¥Ø¯Ø®Ø§Ù„ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ù…Ø¯Ø®Ù„Ø§Øª ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„Ø©: ÙŠÙØªØ±Ø¶ Ø¥Ø¯Ø®Ø§Ù„ ${Dt(i.values[0])}`:`Ø§Ø®ØªÙŠØ§Ø± ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØªÙˆÙ‚Ø¹ Ø§Ù†ØªÙ‚Ø§Ø¡ Ø£Ø­Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª: ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?` Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…: ÙŠÙØªØ±Ø¶ Ø£Ù† ØªÙƒÙˆÙ† ${i.origin??"Ø§Ù„Ù‚ÙŠÙ…Ø©"} ${s} ${i.maximum.toString()} ${o.unit??"Ø¹Ù†ØµØ±"}`:`Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…: ÙŠÙØªØ±Ø¶ Ø£Ù† ØªÙƒÙˆÙ† ${i.origin??"Ø§Ù„Ù‚ÙŠÙ…Ø©"} ${s} ${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Ø£ØµØºØ± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…: ÙŠÙØªØ±Ø¶ Ù„Ù€ ${i.origin} Ø£Ù† ÙŠÙƒÙˆÙ† ${s} ${i.minimum.toString()} ${o.unit}`:`Ø£ØµØºØ± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…: ÙŠÙØªØ±Ø¶ Ù„Ù€ ${i.origin} Ø£Ù† ÙŠÙƒÙˆÙ† ${s} ${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ù†ÙŽØµ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ "${i.prefix}"`:s.format==="ends_with"?`Ù†ÙŽØµ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ "${s.suffix}"`:s.format==="includes"?`Ù†ÙŽØµ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¶Ù…Ù‘ÙŽÙ† "${s.includes}"`:s.format==="regex"?`Ù†ÙŽØµ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„Ù†Ù…Ø· ${s.pattern}`:`${r[s.format]??i.format} ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„`}case"not_multiple_of":return`Ø±Ù‚Ù… ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ù† Ù…Ø¶Ø§Ø¹ÙØ§Øª ${i.divisor}`;case"unrecognized_keys":return`Ù…Ø¹Ø±Ù${i.keys.length>1?"Ø§Øª":""} ØºØ±ÙŠØ¨${i.keys.length>1?"Ø©":""}: ${ze(i.keys,"ØŒ ")}`;case"invalid_key":return`Ù…Ø¹Ø±Ù ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„ ÙÙŠ ${i.origin}`;case"invalid_union":return"Ù…Ø¯Ø®Ù„ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„";case"invalid_element":return`Ù…Ø¯Ø®Ù„ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„ ÙÙŠ ${i.origin}`;default:return"Ù…Ø¯Ø®Ù„ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„"}}};function zat(){return{localeError:Bat()}}const Wat=()=>{const t={string:{unit:"simvol",verb:"olmalÄ±dÄ±r"},file:{unit:"bayt",verb:"olmalÄ±dÄ±r"},array:{unit:"element",verb:"olmalÄ±dÄ±r"},set:{unit:"element",verb:"olmalÄ±dÄ±r"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`YanlÄ±ÅŸ dÉ™yÉ™r: gÃ¶zlÉ™nilÉ™n ${i.expected}, daxil olan ${n(i.input)}`;case"invalid_value":return i.values.length===1?`YanlÄ±ÅŸ dÉ™yÉ™r: gÃ¶zlÉ™nilÉ™n ${Dt(i.values[0])}`:`YanlÄ±ÅŸ seÃ§im: aÅŸaÄŸÄ±dakÄ±lardan biri olmalÄ±dÄ±r: ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Ã‡ox bÃ¶yÃ¼k: gÃ¶zlÉ™nilÉ™n ${i.origin??"dÉ™yÉ™r"} ${s}${i.maximum.toString()} ${o.unit??"element"}`:`Ã‡ox bÃ¶yÃ¼k: gÃ¶zlÉ™nilÉ™n ${i.origin??"dÉ™yÉ™r"} ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Ã‡ox kiÃ§ik: gÃ¶zlÉ™nilÉ™n ${i.origin} ${s}${i.minimum.toString()} ${o.unit}`:`Ã‡ox kiÃ§ik: gÃ¶zlÉ™nilÉ™n ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`YanlÄ±ÅŸ mÉ™tn: "${s.prefix}" ilÉ™ baÅŸlamalÄ±dÄ±r`:s.format==="ends_with"?`YanlÄ±ÅŸ mÉ™tn: "${s.suffix}" ilÉ™ bitmÉ™lidir`:s.format==="includes"?`YanlÄ±ÅŸ mÉ™tn: "${s.includes}" daxil olmalÄ±dÄ±r`:s.format==="regex"?`YanlÄ±ÅŸ mÉ™tn: ${s.pattern} ÅŸablonuna uyÄŸun olmalÄ±dÄ±r`:`YanlÄ±ÅŸ ${r[s.format]??i.format}`}case"not_multiple_of":return`YanlÄ±ÅŸ É™dÉ™d: ${i.divisor} ilÉ™ bÃ¶lÃ¼nÉ™ bilÉ™n olmalÄ±dÄ±r`;case"unrecognized_keys":return`TanÄ±nmayan aÃ§ar${i.keys.length>1?"lar":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilindÉ™ yanlÄ±ÅŸ aÃ§ar`;case"invalid_union":return"YanlÄ±ÅŸ dÉ™yÉ™r";case"invalid_element":return`${i.origin} daxilindÉ™ yanlÄ±ÅŸ dÉ™yÉ™r`;default:return"YanlÄ±ÅŸ dÉ™yÉ™r"}}};function qat(){return{localeError:Wat()}}function dZ(t,e,n,r){const i=Math.abs(t),s=i%10,o=i%100;return o>=11&&o<=19?r:s===1?e:s>=2&&s<=4?n:r}const Fat=()=>{const t={string:{unit:{one:"ÑÑ–Ð¼Ð²Ð°Ð»",few:"ÑÑ–Ð¼Ð²Ð°Ð»Ñ‹",many:"ÑÑ–Ð¼Ð²Ð°Ð»Ð°Ñž"},verb:"Ð¼ÐµÑ†ÑŒ"},array:{unit:{one:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",few:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹",many:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ñž"},verb:"Ð¼ÐµÑ†ÑŒ"},set:{unit:{one:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",few:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹",many:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ñž"},verb:"Ð¼ÐµÑ†ÑŒ"},file:{unit:{one:"Ð±Ð°Ð¹Ñ‚",few:"Ð±Ð°Ð¹Ñ‚Ñ‹",many:"Ð±Ð°Ð¹Ñ‚Ð°Ñž"},verb:"Ð¼ÐµÑ†ÑŒ"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Ð»Ñ–Ðº";case"object":{if(Array.isArray(i))return"Ð¼Ð°ÑÑ–Ñž";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ÑƒÐ²Ð¾Ð´",email:"email Ð°Ð´Ñ€Ð°Ñ",url:"URL",emoji:"ÑÐ¼Ð¾Ð´Ð·Ñ–",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Ð´Ð°Ñ‚Ð° Ñ– Ñ‡Ð°Ñ",date:"ISO Ð´Ð°Ñ‚Ð°",time:"ISO Ñ‡Ð°Ñ",duration:"ISO Ð¿Ñ€Ð°Ñ†ÑÐ³Ð»Ð°ÑÑ†ÑŒ",ipv4:"IPv4 Ð°Ð´Ñ€Ð°Ñ",ipv6:"IPv6 Ð°Ð´Ñ€Ð°Ñ",cidrv4:"IPv4 Ð´Ñ‹ÑÐ¿Ð°Ð·Ð¾Ð½",cidrv6:"IPv6 Ð´Ñ‹ÑÐ¿Ð°Ð·Ð¾Ð½",base64:"Ñ€Ð°Ð´Ð¾Ðº Ñƒ Ñ„Ð°Ñ€Ð¼Ð°Ñ†Ðµ base64",base64url:"Ñ€Ð°Ð´Ð¾Ðº Ñƒ Ñ„Ð°Ñ€Ð¼Ð°Ñ†Ðµ base64url",json_string:"JSON Ñ€Ð°Ð´Ð¾Ðº",e164:"Ð½ÑƒÐ¼Ð°Ñ€ E.164",jwt:"JWT",template_literal:"ÑƒÐ²Ð¾Ð´"};return i=>{switch(i.code){case"invalid_type":return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´: Ñ‡Ð°ÐºÐ°ÑžÑÑ ${i.expected}, Ð°Ñ‚Ñ€Ñ‹Ð¼Ð°Ð½Ð° ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ ${Dt(i.values[0])}`:`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ð²Ð°Ñ€Ñ‹ÑÐ½Ñ‚: Ñ‡Ð°ÐºÐ°ÑžÑÑ Ð°Ð´Ð·Ñ–Ð½ Ð· ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);if(o){const a=Number(i.maximum),c=dZ(a,o.unit.one,o.unit.few,o.unit.many);return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð° Ð²ÑÐ»Ñ–ÐºÑ–: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ, ÑˆÑ‚Ð¾ ${i.origin??"Ð·Ð½Ð°Ñ‡ÑÐ½Ð½Ðµ"} Ð¿Ð°Ð²Ñ–Ð½Ð½Ð° ${o.verb} ${s}${i.maximum.toString()} ${c}`}return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð° Ð²ÑÐ»Ñ–ÐºÑ–: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ, ÑˆÑ‚Ð¾ ${i.origin??"Ð·Ð½Ð°Ñ‡ÑÐ½Ð½Ðµ"} Ð¿Ð°Ð²Ñ–Ð½Ð½Ð° Ð±Ñ‹Ñ†ÑŒ ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);if(o){const a=Number(i.minimum),c=dZ(a,o.unit.one,o.unit.few,o.unit.many);return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð° Ð¼Ð°Ð»Ñ‹: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ, ÑˆÑ‚Ð¾ ${i.origin} Ð¿Ð°Ð²Ñ–Ð½Ð½Ð° ${o.verb} ${s}${i.minimum.toString()} ${c}`}return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð° Ð¼Ð°Ð»Ñ‹: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ, ÑˆÑ‚Ð¾ ${i.origin} Ð¿Ð°Ð²Ñ–Ð½Ð½Ð° Ð±Ñ‹Ñ†ÑŒ ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ñ€Ð°Ð´Ð¾Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð¿Ð°Ñ‡Ñ‹Ð½Ð°Ñ†Ñ†Ð° Ð· "${s.prefix}"`:s.format==="ends_with"?`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ñ€Ð°Ð´Ð¾Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð·Ð°ÐºÐ°Ð½Ñ‡Ð²Ð°Ñ†Ñ†Ð° Ð½Ð° "${s.suffix}"`:s.format==="includes"?`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ñ€Ð°Ð´Ð¾Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð·Ð¼ÑÑˆÑ‡Ð°Ñ†ÑŒ "${s.includes}"`:s.format==="regex"?`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ñ€Ð°Ð´Ð¾Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð°Ð´Ð¿Ð°Ð²ÑÐ´Ð°Ñ†ÑŒ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñƒ ${s.pattern}`:`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ${r[s.format]??i.format}`}case"not_multiple_of":return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ð»Ñ–Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð±Ñ‹Ñ†ÑŒ ÐºÑ€Ð°Ñ‚Ð½Ñ‹Ð¼ ${i.divisor}`;case"unrecognized_keys":return`ÐÐµÑ€Ð°ÑÐ¿Ð°Ð·Ð½Ð°Ð½Ñ‹ ${i.keys.length>1?"ÐºÐ»ÑŽÑ‡Ñ‹":"ÐºÐ»ÑŽÑ‡"}: ${ze(i.keys,", ")}`;case"invalid_key":return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÐºÐ»ÑŽÑ‡ Ñƒ ${i.origin}`;case"invalid_union":return"ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´";case"invalid_element":return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ð°Ðµ Ð·Ð½Ð°Ñ‡ÑÐ½Ð½Ðµ Ñž ${i.origin}`;default:return"ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´"}}};function Hat(){return{localeError:Fat()}}const Vat=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"Ñ‡Ð¸ÑÐ»Ð¾";case"object":{if(Array.isArray(t))return"Ð¼Ð°ÑÐ¸Ð²";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},Kat=()=>{const t={string:{unit:"ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°",verb:"Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°"},file:{unit:"Ð±Ð°Ð¹Ñ‚Ð°",verb:"Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°"},array:{unit:"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°",verb:"Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°"},set:{unit:"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°",verb:"Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°"}};function e(r){return t[r]??null}const n={regex:"Ð²Ñ…Ð¾Ð´",email:"Ð¸Ð¼ÐµÐ¹Ð» Ð°Ð´Ñ€ÐµÑ",url:"URL",emoji:"ÐµÐ¼Ð¾Ð´Ð¶Ð¸",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Ð²Ñ€ÐµÐ¼Ðµ",date:"ISO Ð´Ð°Ñ‚Ð°",time:"ISO Ð²Ñ€ÐµÐ¼Ðµ",duration:"ISO Ð¿Ñ€Ð¾Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¾ÑÑ‚",ipv4:"IPv4 Ð°Ð´Ñ€ÐµÑ",ipv6:"IPv6 Ð°Ð´Ñ€ÐµÑ",cidrv4:"IPv4 Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½",cidrv6:"IPv6 Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½",base64:"base64-ÐºÐ¾Ð´Ð¸Ñ€Ð°Ð½ Ð½Ð¸Ð·",base64url:"base64url-ÐºÐ¾Ð´Ð¸Ñ€Ð°Ð½ Ð½Ð¸Ð·",json_string:"JSON Ð½Ð¸Ð·",e164:"E.164 Ð½Ð¾Ð¼ÐµÑ€",jwt:"JWT",template_literal:"Ð²Ñ…Ð¾Ð´"};return r=>{switch(r.code){case"invalid_type":return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´: Ð¾Ñ‡Ð°ÐºÐ²Ð°Ð½ ${r.expected}, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½ ${Vat(r.input)}`;case"invalid_value":return r.values.length===1?`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´: Ð¾Ñ‡Ð°ÐºÐ²Ð°Ð½ ${Dt(r.values[0])}`:`ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð° Ð¾Ð¿Ñ†Ð¸Ñ: Ð¾Ñ‡Ð°ÐºÐ²Ð°Ð½Ð¾ ÐµÐ´Ð½Ð¾ Ð¾Ñ‚ ${ze(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Ð¢Ð²ÑŠÑ€Ð´Ðµ Ð³Ð¾Ð»ÑÐ¼Ð¾: Ð¾Ñ‡Ð°ÐºÐ²Ð° ÑÐµ ${r.origin??"ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚"} Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð° ${i}${r.maximum.toString()} ${s.unit??"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°"}`:`Ð¢Ð²ÑŠÑ€Ð´Ðµ Ð³Ð¾Ð»ÑÐ¼Ð¾: Ð¾Ñ‡Ð°ÐºÐ²Ð° ÑÐµ ${r.origin??"ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚"} Ð´Ð° Ð±ÑŠÐ´Ðµ ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Ð¢Ð²ÑŠÑ€Ð´Ðµ Ð¼Ð°Ð»ÐºÐ¾: Ð¾Ñ‡Ð°ÐºÐ²Ð° ÑÐµ ${r.origin} Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð° ${i}${r.minimum.toString()} ${s.unit}`:`Ð¢Ð²ÑŠÑ€Ð´Ðµ Ð¼Ð°Ð»ÐºÐ¾: Ð¾Ñ‡Ð°ÐºÐ²Ð° ÑÐµ ${r.origin} Ð´Ð° Ð±ÑŠÐ´Ðµ ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;if(i.format==="starts_with")return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð½Ð¸Ð·: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð·Ð°Ð¿Ð¾Ñ‡Ð²Ð° Ñ "${i.prefix}"`;if(i.format==="ends_with")return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð½Ð¸Ð·: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð·Ð°Ð²ÑŠÑ€ÑˆÐ²Ð° Ñ "${i.suffix}"`;if(i.format==="includes")return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð½Ð¸Ð·: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð²ÐºÐ»ÑŽÑ‡Ð²Ð° "${i.includes}"`;if(i.format==="regex")return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð½Ð¸Ð·: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° ÑÑŠÐ²Ð¿Ð°Ð´Ð° Ñ ${i.pattern}`;let s="ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½";return i.format==="emoji"&&(s="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾"),i.format==="datetime"&&(s="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾"),i.format==="date"&&(s="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð°"),i.format==="time"&&(s="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾"),i.format==="duration"&&(s="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð°"),`${s} ${n[i.format]??r.format}`}case"not_multiple_of":return`ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾ Ñ‡Ð¸ÑÐ»Ð¾: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð±ÑŠÐ´Ðµ ÐºÑ€Ð°Ñ‚Ð½Ð¾ Ð½Ð° ${r.divisor}`;case"unrecognized_keys":return`ÐÐµÑ€Ð°Ð·Ð¿Ð¾Ð·Ð½Ð°Ñ‚${r.keys.length>1?"Ð¸":""} ÐºÐ»ÑŽÑ‡${r.keys.length>1?"Ð¾Ð²Ðµ":""}: ${ze(r.keys,", ")}`;case"invalid_key":return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ ÐºÐ»ÑŽÑ‡ Ð² ${r.origin}`;case"invalid_union":return"ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´";case"invalid_element":return`ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð° ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚ Ð² ${r.origin}`;default:return"ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´"}}};function Zat(){return{localeError:Kat()}}const Gat=()=>{const t={string:{unit:"carÃ cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"entrada",email:"adreÃ§a electrÃ²nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreÃ§a IPv4",ipv6:"adreÃ§a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nÃºmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus invÃ lid: s'esperava ${i.expected}, s'ha rebut ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Valor invÃ lid: s'esperava ${Dt(i.values[0])}`:`OpciÃ³ invÃ lida: s'esperava una de ${ze(i.values," o ")}`;case"too_big":{const s=i.inclusive?"com a mÃ xim":"menys de",o=e(i.origin);return o?`Massa gran: s'esperava que ${i.origin??"el valor"} continguÃ©s ${s} ${i.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${s} ${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?"com a mÃ­nim":"mÃ©s de",o=e(i.origin);return o?`Massa petit: s'esperava que ${i.origin} continguÃ©s ${s} ${i.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${s} ${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Format invÃ lid: ha de comenÃ§ar amb "${s.prefix}"`:s.format==="ends_with"?`Format invÃ lid: ha d'acabar amb "${s.suffix}"`:s.format==="includes"?`Format invÃ lid: ha d'incloure "${s.includes}"`:s.format==="regex"?`Format invÃ lid: ha de coincidir amb el patrÃ³ ${s.pattern}`:`Format invÃ lid per a ${r[s.format]??i.format}`}case"not_multiple_of":return`NÃºmero invÃ lid: ha de ser mÃºltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`Clau invÃ lida a ${i.origin}`;case"invalid_union":return"Entrada invÃ lida";case"invalid_element":return`Element invÃ lid a ${i.origin}`;default:return"Entrada invÃ lida"}}};function Yat(){return{localeError:Gat()}}const Jat=()=>{const t={string:{unit:"znakÅ¯",verb:"mÃ­t"},file:{unit:"bajtÅ¯",verb:"mÃ­t"},array:{unit:"prvkÅ¯",verb:"mÃ­t"},set:{unit:"prvkÅ¯",verb:"mÃ­t"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"ÄÃ­slo";case"string":return"Å™etÄ›zec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"regulÃ¡rnÃ­ vÃ½raz",email:"e-mailovÃ¡ adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a Äas ve formÃ¡tu ISO",date:"datum ve formÃ¡tu ISO",time:"Äas ve formÃ¡tu ISO",duration:"doba trvÃ¡nÃ­ ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"Å™etÄ›zec zakÃ³dovanÃ½ ve formÃ¡tu base64",base64url:"Å™etÄ›zec zakÃ³dovanÃ½ ve formÃ¡tu base64url",json_string:"Å™etÄ›zec ve formÃ¡tu JSON",e164:"ÄÃ­slo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`NeplatnÃ½ vstup: oÄekÃ¡vÃ¡no ${i.expected}, obdrÅ¾eno ${n(i.input)}`;case"invalid_value":return i.values.length===1?`NeplatnÃ½ vstup: oÄekÃ¡vÃ¡no ${Dt(i.values[0])}`:`NeplatnÃ¡ moÅ¾nost: oÄekÃ¡vÃ¡na jedna z hodnot ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Hodnota je pÅ™Ã­liÅ¡ velkÃ¡: ${i.origin??"hodnota"} musÃ­ mÃ­t ${s}${i.maximum.toString()} ${o.unit??"prvkÅ¯"}`:`Hodnota je pÅ™Ã­liÅ¡ velkÃ¡: ${i.origin??"hodnota"} musÃ­ bÃ½t ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Hodnota je pÅ™Ã­liÅ¡ malÃ¡: ${i.origin??"hodnota"} musÃ­ mÃ­t ${s}${i.minimum.toString()} ${o.unit??"prvkÅ¯"}`:`Hodnota je pÅ™Ã­liÅ¡ malÃ¡: ${i.origin??"hodnota"} musÃ­ bÃ½t ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`NeplatnÃ½ Å™etÄ›zec: musÃ­ zaÄÃ­nat na "${s.prefix}"`:s.format==="ends_with"?`NeplatnÃ½ Å™etÄ›zec: musÃ­ konÄit na "${s.suffix}"`:s.format==="includes"?`NeplatnÃ½ Å™etÄ›zec: musÃ­ obsahovat "${s.includes}"`:s.format==="regex"?`NeplatnÃ½ Å™etÄ›zec: musÃ­ odpovÃ­dat vzoru ${s.pattern}`:`NeplatnÃ½ formÃ¡t ${r[s.format]??i.format}`}case"not_multiple_of":return`NeplatnÃ© ÄÃ­slo: musÃ­ bÃ½t nÃ¡sobkem ${i.divisor}`;case"unrecognized_keys":return`NeznÃ¡mÃ© klÃ­Äe: ${ze(i.keys,", ")}`;case"invalid_key":return`NeplatnÃ½ klÃ­Ä v ${i.origin}`;case"invalid_union":return"NeplatnÃ½ vstup";case"invalid_element":return`NeplatnÃ¡ hodnota v ${i.origin}`;default:return"NeplatnÃ½ vstup"}}};function Xat(){return{localeError:Jat()}}const Qat=()=>{const t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},e={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sÃ¦t",file:"fil"};function n(o){return t[o]??null}function r(o){return e[o]??o}const i=o=>{const a=typeof o;switch(a){case"number":return Number.isNaN(o)?"NaN":"tal";case"object":return Array.isArray(o)?"liste":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype&&o.constructor?o.constructor.name:"objekt"}return a},s={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslÃ¦t",date:"ISO-dato",time:"ISO-klokkeslÃ¦t",duration:"ISO-varighed",ipv4:"IPv4-omrÃ¥de",ipv6:"IPv6-omrÃ¥de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldigt input: forventede ${r(o.expected)}, fik ${r(i(o.input))}`;case"invalid_value":return o.values.length===1?`Ugyldig vÃ¦rdi: forventede ${Dt(o.values[0])}`:`Ugyldigt valg: forventede en af fÃ¸lgende ${ze(o.values,"|")}`;case"too_big":{const a=o.inclusive?"<=":"<",c=n(o.origin),l=r(o.origin);return c?`For stor: forventede ${l??"value"} ${c.verb} ${a} ${o.maximum.toString()} ${c.unit??"elementer"}`:`For stor: forventede ${l??"value"} havde ${a} ${o.maximum.toString()}`}case"too_small":{const a=o.inclusive?">=":">",c=n(o.origin),l=r(o.origin);return c?`For lille: forventede ${l} ${c.verb} ${a} ${o.minimum.toString()} ${c.unit}`:`For lille: forventede ${l} havde ${a} ${o.minimum.toString()}`}case"invalid_format":{const a=o;return a.format==="starts_with"?`Ugyldig streng: skal starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: skal ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: skal indeholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: skal matche mÃ¸nsteret ${a.pattern}`:`Ugyldig ${s[a.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vÃ¦re deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte nÃ¸gler":"Ukendt nÃ¸gle"}: ${ze(o.keys,", ")}`;case"invalid_key":return`Ugyldig nÃ¸gle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vÃ¦rdi i ${o.origin}`;default:return"Ugyldigt input"}}};function ect(){return{localeError:Qat()}}const tct=()=>{const t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`UngÃ¼ltige Eingabe: erwartet ${i.expected}, erhalten ${n(i.input)}`;case"invalid_value":return i.values.length===1?`UngÃ¼ltige Eingabe: erwartet ${Dt(i.values[0])}`:`UngÃ¼ltige Option: erwartet eine von ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Zu groÃŸ: erwartet, dass ${i.origin??"Wert"} ${s}${i.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu groÃŸ: erwartet, dass ${i.origin??"Wert"} ${s}${i.maximum.toString()} ist`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Zu klein: erwartet, dass ${i.origin} ${s}${i.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${s}${i.minimum.toString()} ist`}case"invalid_format":{const s=i;return s.format==="starts_with"?`UngÃ¼ltiger String: muss mit "${s.prefix}" beginnen`:s.format==="ends_with"?`UngÃ¼ltiger String: muss mit "${s.suffix}" enden`:s.format==="includes"?`UngÃ¼ltiger String: muss "${s.includes}" enthalten`:s.format==="regex"?`UngÃ¼ltiger String: muss dem Muster ${s.pattern} entsprechen`:`UngÃ¼ltig: ${r[s.format]??i.format}`}case"not_multiple_of":return`UngÃ¼ltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte SchlÃ¼ssel":"Unbekannter SchlÃ¼ssel"}: ${ze(i.keys,", ")}`;case"invalid_key":return`UngÃ¼ltiger SchlÃ¼ssel in ${i.origin}`;case"invalid_union":return"UngÃ¼ltige Eingabe";case"invalid_element":return`UngÃ¼ltiger Wert in ${i.origin}`;default:return"UngÃ¼ltige Eingabe"}}};function nct(){return{localeError:tct()}}const rct=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},ict=()=>{const t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(r){return t[r]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${rct(r.input)}`;case"invalid_value":return r.values.length===1?`Invalid input: expected ${Dt(r.values[0])}`:`Invalid option: expected one of ${ze(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Too big: expected ${r.origin??"value"} to have ${i}${r.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${r.origin??"value"} to be ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Too small: expected ${r.origin} to have ${i}${r.minimum.toString()} ${s.unit}`:`Too small: expected ${r.origin} to be ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${n[i.format]??r.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${ze(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`;default:return"Invalid input"}}};function sct(){return{localeError:ict()}}const oct=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nombro";case"object":{if(Array.isArray(t))return"tabelo";if(t===null)return"senvalora";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},act=()=>{const t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(r){return t[r]??null}const n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoÄio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daÅ­ro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiÄis ${r.expected}, riceviÄis ${oct(r.input)}`;case"invalid_value":return r.values.length===1?`Nevalida enigo: atendiÄis ${Dt(r.values[0])}`:`Nevalida opcio: atendiÄis unu el ${ze(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Tro granda: atendiÄis ke ${r.origin??"valoro"} havu ${i}${r.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendiÄis ke ${r.origin??"valoro"} havu ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Tro malgranda: atendiÄis ke ${r.origin} havu ${i}${r.minimum.toString()} ${s.unit}`:`Tro malgranda: atendiÄis ke ${r.origin} estu ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Nevalida karaktraro: devas komenciÄi per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finiÄi per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${n[i.format]??r.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} Ålosilo${r.keys.length>1?"j":""}: ${ze(r.keys,", ")}`;case"invalid_key":return`Nevalida Ålosilo en ${r.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`;default:return"Nevalida enigo"}}};function cct(){return{localeError:act()}}const lct=()=>{const t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},e={string:"texto",number:"nÃºmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nÃºmero grande",symbol:"sÃ­mbolo",undefined:"indefinido",null:"nulo",function:"funciÃ³n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraciÃ³n",union:"uniÃ³n",literal:"literal",promise:"promesa",void:"vacÃ­o",never:"nunca",unknown:"desconocido",any:"cualquiera"};function n(o){return t[o]??null}function r(o){return e[o]??o}const i=o=>{const a=typeof o;switch(a){case"number":return Number.isNaN(o)?"NaN":"number";case"object":return Array.isArray(o)?"array":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype?o.constructor.name:"object"}return a},s={regex:"entrada",email:"direcciÃ³n de correo electrÃ³nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraciÃ³n ISO",ipv4:"direcciÃ³n IPv4",ipv6:"direcciÃ³n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nÃºmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Entrada invÃ¡lida: se esperaba ${r(o.expected)}, recibido ${r(i(o.input))}`;case"invalid_value":return o.values.length===1?`Entrada invÃ¡lida: se esperaba ${Dt(o.values[0])}`:`OpciÃ³n invÃ¡lida: se esperaba una de ${ze(o.values,"|")}`;case"too_big":{const a=o.inclusive?"<=":"<",c=n(o.origin),l=r(o.origin);return c?`Demasiado grande: se esperaba que ${l??"valor"} tuviera ${a}${o.maximum.toString()} ${c.unit??"elementos"}`:`Demasiado grande: se esperaba que ${l??"valor"} fuera ${a}${o.maximum.toString()}`}case"too_small":{const a=o.inclusive?">=":">",c=n(o.origin),l=r(o.origin);return c?`Demasiado pequeÃ±o: se esperaba que ${l} tuviera ${a}${o.minimum.toString()} ${c.unit}`:`Demasiado pequeÃ±o: se esperaba que ${l} fuera ${a}${o.minimum.toString()}`}case"invalid_format":{const a=o;return a.format==="starts_with"?`Cadena invÃ¡lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena invÃ¡lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena invÃ¡lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena invÃ¡lida: debe coincidir con el patrÃ³n ${a.pattern}`:`InvÃ¡lido ${s[a.format]??o.format}`}case"not_multiple_of":return`NÃºmero invÃ¡lido: debe ser mÃºltiplo de ${o.divisor}`;case"unrecognized_keys":return`Llave${o.keys.length>1?"s":""} desconocida${o.keys.length>1?"s":""}: ${ze(o.keys,", ")}`;case"invalid_key":return`Llave invÃ¡lida en ${r(o.origin)}`;case"invalid_union":return"Entrada invÃ¡lida";case"invalid_element":return`Valor invÃ¡lido en ${r(o.origin)}`;default:return"Entrada invÃ¡lida"}}};function uct(){return{localeError:lct()}}const dct=()=>{const t={string:{unit:"Ú©Ø§Ø±Ø§Ú©ØªØ±",verb:"Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯"},file:{unit:"Ø¨Ø§ÛŒØª",verb:"Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯"},array:{unit:"Ø¢ÛŒØªÙ…",verb:"Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯"},set:{unit:"Ø¢ÛŒØªÙ…",verb:"Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Ø¹Ø¯Ø¯";case"object":{if(Array.isArray(i))return"Ø¢Ø±Ø§ÛŒÙ‡";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ÙˆØ±ÙˆØ¯ÛŒ",email:"Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„",url:"URL",emoji:"Ø§ÛŒÙ…ÙˆØ¬ÛŒ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù† Ø§ÛŒØ²Ùˆ",date:"ØªØ§Ø±ÛŒØ® Ø§ÛŒØ²Ùˆ",time:"Ø²Ù…Ø§Ù† Ø§ÛŒØ²Ùˆ",duration:"Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø§ÛŒØ²Ùˆ",ipv4:"IPv4 Ø¢Ø¯Ø±Ø³",ipv6:"IPv6 Ø¢Ø¯Ø±Ø³",cidrv4:"IPv4 Ø¯Ø§Ù…Ù†Ù‡",cidrv6:"IPv6 Ø¯Ø§Ù…Ù†Ù‡",base64:"base64-encoded Ø±Ø´ØªÙ‡",base64url:"base64url-encoded Ø±Ø´ØªÙ‡",json_string:"JSON Ø±Ø´ØªÙ‡",e164:"E.164 Ø¹Ø¯Ø¯",jwt:"JWT",template_literal:"ÙˆØ±ÙˆØ¯ÛŒ"};return i=>{switch(i.code){case"invalid_type":return`ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ù…ÛŒâ€ŒØ¨Ø§ÛŒØ³Øª ${i.expected} Ù…ÛŒâ€ŒØ¨ÙˆØ¯ØŒ ${n(i.input)} Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯`;case"invalid_value":return i.values.length===1?`ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ù…ÛŒâ€ŒØ¨Ø§ÛŒØ³Øª ${Dt(i.values[0])} Ù…ÛŒâ€ŒØ¨ÙˆØ¯`:`Ú¯Ø²ÛŒÙ†Ù‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ù…ÛŒâ€ŒØ¨Ø§ÛŒØ³Øª ÛŒÚ©ÛŒ Ø§Ø² ${ze(i.values,"|")} Ù…ÛŒâ€ŒØ¨ÙˆØ¯`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Ø®ÛŒÙ„ÛŒ Ø¨Ø²Ø±Ú¯: ${i.origin??"Ù…Ù‚Ø¯Ø§Ø±"} Ø¨Ø§ÛŒØ¯ ${s}${i.maximum.toString()} ${o.unit??"Ø¹Ù†ØµØ±"} Ø¨Ø§Ø´Ø¯`:`Ø®ÛŒÙ„ÛŒ Ø¨Ø²Ø±Ú¯: ${i.origin??"Ù…Ù‚Ø¯Ø§Ø±"} Ø¨Ø§ÛŒØ¯ ${s}${i.maximum.toString()} Ø¨Ø§Ø´Ø¯`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Ø®ÛŒÙ„ÛŒ Ú©ÙˆÚ†Ú©: ${i.origin} Ø¨Ø§ÛŒØ¯ ${s}${i.minimum.toString()} ${o.unit} Ø¨Ø§Ø´Ø¯`:`Ø®ÛŒÙ„ÛŒ Ú©ÙˆÚ†Ú©: ${i.origin} Ø¨Ø§ÛŒØ¯ ${s}${i.minimum.toString()} Ø¨Ø§Ø´Ø¯`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ø±Ø´ØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ø¨Ø§ "${s.prefix}" Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯`:s.format==="ends_with"?`Ø±Ø´ØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ø¨Ø§ "${s.suffix}" ØªÙ…Ø§Ù… Ø´ÙˆØ¯`:s.format==="includes"?`Ø±Ø´ØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ø´Ø§Ù…Ù„ "${s.includes}" Ø¨Ø§Ø´Ø¯`:s.format==="regex"?`Ø±Ø´ØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø§Ù„Ú¯ÙˆÛŒ ${s.pattern} Ù…Ø·Ø§Ø¨Ù‚Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯`:`${r[s.format]??i.format} Ù†Ø§Ù…Ø¹ØªØ¨Ø±`}case"not_multiple_of":return`Ø¹Ø¯Ø¯ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ù…Ø¶Ø±Ø¨ ${i.divisor} Ø¨Ø§Ø´Ø¯`;case"unrecognized_keys":return`Ú©Ù„ÛŒØ¯${i.keys.length>1?"Ù‡Ø§ÛŒ":""} Ù†Ø§Ø´Ù†Ø§Ø³: ${ze(i.keys,", ")}`;case"invalid_key":return`Ú©Ù„ÛŒØ¯ Ù†Ø§Ø´Ù†Ø§Ø³ Ø¯Ø± ${i.origin}`;case"invalid_union":return"ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±";case"invalid_element":return`Ù…Ù‚Ø¯Ø§Ø± Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø¯Ø± ${i.origin}`;default:return"ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±"}}};function hct(){return{localeError:dct()}}const pct=()=>{const t={string:{unit:"merkkiÃ¤",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pÃ¤ivÃ¤mÃ¤Ã¤rÃ¤n"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"sÃ¤Ã¤nnÃ¶llinen lauseke",email:"sÃ¤hkÃ¶postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pÃ¤ivÃ¤mÃ¤Ã¤rÃ¤",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen syÃ¶te: tÃ¤ytyy olla ${Dt(i.values[0])}`:`Virheellinen valinta: tÃ¤ytyy olla yksi seuraavista: ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Liian suuri: ${o.subject} tÃ¤ytyy olla ${s}${i.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon tÃ¤ytyy olla ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Liian pieni: ${o.subject} tÃ¤ytyy olla ${s}${i.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon tÃ¤ytyy olla ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Virheellinen syÃ¶te: tÃ¤ytyy alkaa "${s.prefix}"`:s.format==="ends_with"?`Virheellinen syÃ¶te: tÃ¤ytyy loppua "${s.suffix}"`:s.format==="includes"?`Virheellinen syÃ¶te: tÃ¤ytyy sisÃ¤ltÃ¤Ã¤ "${s.includes}"`:s.format==="regex"?`Virheellinen syÃ¶te: tÃ¤ytyy vastata sÃ¤Ã¤nnÃ¶llistÃ¤ lauseketta ${s.pattern}`:`Virheellinen ${r[s.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: tÃ¤ytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ze(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syÃ¶te"}}};function fct(){return{localeError:pct()}}const gct=()=>{const t={string:{unit:"caractÃ¨res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"Ã©lÃ©ments",verb:"avoir"},set:{unit:"Ã©lÃ©ments",verb:"avoir"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"entrÃ©e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durÃ©e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaÃ®ne encodÃ©e en base64",base64url:"chaÃ®ne encodÃ©e en base64url",json_string:"chaÃ®ne JSON",e164:"numÃ©ro E.164",jwt:"JWT",template_literal:"entrÃ©e"};return i=>{switch(i.code){case"invalid_type":return`EntrÃ©e invalide : ${i.expected} attendu, ${n(i.input)} reÃ§u`;case"invalid_value":return i.values.length===1?`EntrÃ©e invalide : ${Dt(i.values[0])} attendu`:`Option invalide : une valeur parmi ${ze(i.values,"|")} attendue`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Trop grand : ${i.origin??"valeur"} doit ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"Ã©lÃ©ment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit Ãªtre ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Trop petit : ${i.origin} doit ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Trop petit : ${i.origin} doit Ãªtre ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ChaÃ®ne invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`ChaÃ®ne invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`ChaÃ®ne invalide : doit inclure "${s.includes}"`:s.format==="regex"?`ChaÃ®ne invalide : doit correspondre au modÃ¨le ${s.pattern}`:`${r[s.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit Ãªtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`ClÃ©${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${ze(i.keys,", ")}`;case"invalid_key":return`ClÃ© invalide dans ${i.origin}`;case"invalid_union":return"EntrÃ©e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"EntrÃ©e invalide"}}};function mct(){return{localeError:gct()}}const wct=()=>{const t={string:{unit:"caractÃ¨res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"Ã©lÃ©ments",verb:"avoir"},set:{unit:"Ã©lÃ©ments",verb:"avoir"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"entrÃ©e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durÃ©e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaÃ®ne encodÃ©e en base64",base64url:"chaÃ®ne encodÃ©e en base64url",json_string:"chaÃ®ne JSON",e164:"numÃ©ro E.164",jwt:"JWT",template_literal:"entrÃ©e"};return i=>{switch(i.code){case"invalid_type":return`EntrÃ©e invalide : attendu ${i.expected}, reÃ§u ${n(i.input)}`;case"invalid_value":return i.values.length===1?`EntrÃ©e invalide : attendu ${Dt(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"â‰¤":"<",o=e(i.origin);return o?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${s}${i.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?"â‰¥":">",o=e(i.origin);return o?`Trop petit : attendu que ${i.origin} ait ${s}${i.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${i.origin} soit ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ChaÃ®ne invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`ChaÃ®ne invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`ChaÃ®ne invalide : doit inclure "${s.includes}"`:s.format==="regex"?`ChaÃ®ne invalide : doit correspondre au motif ${s.pattern}`:`${r[s.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit Ãªtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`ClÃ©${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${ze(i.keys,", ")}`;case"invalid_key":return`ClÃ© invalide dans ${i.origin}`;case"invalid_union":return"EntrÃ©e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"EntrÃ©e invalide"}}};function yct(){return{localeError:wct()}}const bct=()=>{const t={string:{label:"×ž×—×¨×•×–×ª",gender:"f"},number:{label:"×ž×¡×¤×¨",gender:"m"},boolean:{label:"×¢×¨×š ×‘×•×œ×™×× ×™",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"×ª××¨×™×š",gender:"m"},array:{label:"×ž×¢×¨×š",gender:"m"},object:{label:"××•×‘×™×™×§×˜",gender:"m"},null:{label:"×¢×¨×š ×¨×™×§ (null)",gender:"m"},undefined:{label:"×¢×¨×š ×œ× ×ž×•×’×“×¨ (undefined)",gender:"m"},symbol:{label:"×¡×™×ž×‘×•×œ (Symbol)",gender:"m"},function:{label:"×¤×•× ×§×¦×™×”",gender:"f"},map:{label:"×ž×¤×” (Map)",gender:"f"},set:{label:"×§×‘×•×¦×” (Set)",gender:"f"},file:{label:"×§×•×‘×¥",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"×¢×¨×š ×œ× ×™×“×•×¢",gender:"m"},value:{label:"×¢×¨×š",gender:"m"}},e={string:{unit:"×ª×•×•×™×",shortLabel:"×§×¦×¨",longLabel:"××¨×•×š"},file:{unit:"×‘×™×™×˜×™×",shortLabel:"×§×˜×Ÿ",longLabel:"×’×“×•×œ"},array:{unit:"×¤×¨×™×˜×™×",shortLabel:"×§×˜×Ÿ",longLabel:"×’×“×•×œ"},set:{unit:"×¤×¨×™×˜×™×",shortLabel:"×§×˜×Ÿ",longLabel:"×’×“×•×œ"},number:{unit:"",shortLabel:"×§×˜×Ÿ",longLabel:"×’×“×•×œ"}},n=l=>l?t[l]:void 0,r=l=>{const u=n(l);return u?u.label:l??t.unknown.label},i=l=>`×”${r(l)}`,s=l=>(n(l)?.gender??"m")==="f"?"×¦×¨×™×›×” ×œ×”×™×•×ª":"×¦×¨×™×š ×œ×”×™×•×ª",o=l=>l?e[l]??null:null,a=l=>{const u=typeof l;switch(u){case"number":return Number.isNaN(l)?"NaN":"number";case"object":return Array.isArray(l)?"array":l===null?"null":Object.getPrototypeOf(l)!==Object.prototype&&l.constructor?l.constructor.name:"object";default:return u}},c={regex:{label:"×§×œ×˜",gender:"m"},email:{label:"×›×ª×•×‘×ª ××™×ž×™×™×œ",gender:"f"},url:{label:"×›×ª×•×‘×ª ×¨×©×ª",gender:"f"},emoji:{label:"××™×ž×•×’'×™",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"×ª××¨×™×š ×•×–×ž×Ÿ ISO",gender:"m"},date:{label:"×ª××¨×™×š ISO",gender:"m"},time:{label:"×–×ž×Ÿ ISO",gender:"m"},duration:{label:"×ž×©×š ×–×ž×Ÿ ISO",gender:"m"},ipv4:{label:"×›×ª×•×‘×ª IPv4",gender:"f"},ipv6:{label:"×›×ª×•×‘×ª IPv6",gender:"f"},cidrv4:{label:"×˜×•×•×— IPv4",gender:"m"},cidrv6:{label:"×˜×•×•×— IPv6",gender:"m"},base64:{label:"×ž×—×¨×•×–×ª ×‘×‘×¡×™×¡ 64",gender:"f"},base64url:{label:"×ž×—×¨×•×–×ª ×‘×‘×¡×™×¡ 64 ×œ×›×ª×•×‘×•×ª ×¨×©×ª",gender:"f"},json_string:{label:"×ž×—×¨×•×–×ª JSON",gender:"f"},e164:{label:"×ž×¡×¤×¨ E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"×§×œ×˜",gender:"m"},includes:{label:"×§×œ×˜",gender:"m"},lowercase:{label:"×§×œ×˜",gender:"m"},starts_with:{label:"×§×œ×˜",gender:"m"},uppercase:{label:"×§×œ×˜",gender:"m"}};return l=>{switch(l.code){case"invalid_type":{const u=l.expected,d=r(u),h=a(l.input),p=t[h]?.label??h;return`×§×œ×˜ ×œ× ×ª×§×™×Ÿ: ×¦×¨×™×š ×œ×”×™×•×ª ${d}, ×”×ª×§×‘×œ ${p}`}case"invalid_value":{if(l.values.length===1)return`×¢×¨×š ×œ× ×ª×§×™×Ÿ: ×”×¢×¨×š ×—×™×™×‘ ×œ×”×™×•×ª ${Dt(l.values[0])}`;const u=l.values.map(p=>Dt(p));if(l.values.length===2)return`×¢×¨×š ×œ× ×ª×§×™×Ÿ: ×”××¤×©×¨×•×™×•×ª ×”×ž×ª××™×ž×•×ª ×”×Ÿ ${u[0]} ××• ${u[1]}`;const d=u[u.length-1];return`×¢×¨×š ×œ× ×ª×§×™×Ÿ: ×”××¤×©×¨×•×™×•×ª ×”×ž×ª××™×ž×•×ª ×”×Ÿ ${u.slice(0,-1).join(", ")} ××• ${d}`}case"too_big":{const u=o(l.origin),d=i(l.origin??"value");if(l.origin==="string")return`${u?.longLabel??"××¨×•×š"} ×ž×“×™: ${d} ×¦×¨×™×›×” ×œ×”×›×™×œ ${l.maximum.toString()} ${u?.unit??""} ${l.inclusive?"××• ×¤×—×•×ª":"×œ×›×œ ×”×™×•×ª×¨"}`.trim();if(l.origin==="number"){const f=l.inclusive?`×§×˜×Ÿ ××• ×©×•×•×” ×œ-${l.maximum}`:`×§×˜×Ÿ ×ž-${l.maximum}`;return`×’×“×•×œ ×ž×“×™: ${d} ×¦×¨×™×š ×œ×”×™×•×ª ${f}`}if(l.origin==="array"||l.origin==="set"){const f=l.origin==="set"?"×¦×¨×™×›×”":"×¦×¨×™×š",g=l.inclusive?`${l.maximum} ${u?.unit??""} ××• ×¤×—×•×ª`:`×¤×—×•×ª ×ž-${l.maximum} ${u?.unit??""}`;return`×’×“×•×œ ×ž×“×™: ${d} ${f} ×œ×”×›×™×œ ${g}`.trim()}const h=l.inclusive?"<=":"<",p=s(l.origin??"value");return u?.unit?`${u.longLabel} ×ž×“×™: ${d} ${p} ${h}${l.maximum.toString()} ${u.unit}`:`${u?.longLabel??"×’×“×•×œ"} ×ž×“×™: ${d} ${p} ${h}${l.maximum.toString()}`}case"too_small":{const u=o(l.origin),d=i(l.origin??"value");if(l.origin==="string")return`${u?.shortLabel??"×§×¦×¨"} ×ž×“×™: ${d} ×¦×¨×™×›×” ×œ×”×›×™×œ ${l.minimum.toString()} ${u?.unit??""} ${l.inclusive?"××• ×™×•×ª×¨":"×œ×¤×—×•×ª"}`.trim();if(l.origin==="number"){const f=l.inclusive?`×’×“×•×œ ××• ×©×•×•×” ×œ-${l.minimum}`:`×’×“×•×œ ×ž-${l.minimum}`;return`×§×˜×Ÿ ×ž×“×™: ${d} ×¦×¨×™×š ×œ×”×™×•×ª ${f}`}if(l.origin==="array"||l.origin==="set"){const f=l.origin==="set"?"×¦×¨×™×›×”":"×¦×¨×™×š";if(l.minimum===1&&l.inclusive){const m=(l.origin==="set","×œ×¤×—×•×ª ×¤×¨×™×˜ ××—×“");return`×§×˜×Ÿ ×ž×“×™: ${d} ${f} ×œ×”×›×™×œ ${m}`}const g=l.inclusive?`${l.minimum} ${u?.unit??""} ××• ×™×•×ª×¨`:`×™×•×ª×¨ ×ž-${l.minimum} ${u?.unit??""}`;return`×§×˜×Ÿ ×ž×“×™: ${d} ${f} ×œ×”×›×™×œ ${g}`.trim()}const h=l.inclusive?">=":">",p=s(l.origin??"value");return u?.unit?`${u.shortLabel} ×ž×“×™: ${d} ${p} ${h}${l.minimum.toString()} ${u.unit}`:`${u?.shortLabel??"×§×˜×Ÿ"} ×ž×“×™: ${d} ${p} ${h}${l.minimum.toString()}`}case"invalid_format":{const u=l;if(u.format==="starts_with")return`×”×ž×—×¨×•×–×ª ×—×™×™×‘×ª ×œ×”×ª×—×™×œ ×‘ "${u.prefix}"`;if(u.format==="ends_with")return`×”×ž×—×¨×•×–×ª ×—×™×™×‘×ª ×œ×”×¡×ª×™×™× ×‘ "${u.suffix}"`;if(u.format==="includes")return`×”×ž×—×¨×•×–×ª ×—×™×™×‘×ª ×œ×›×œ×•×œ "${u.includes}"`;if(u.format==="regex")return`×”×ž×—×¨×•×–×ª ×—×™×™×‘×ª ×œ×”×ª××™× ×œ×ª×‘× ×™×ª ${u.pattern}`;const d=c[u.format],h=d?.label??u.format,f=(d?.gender??"m")==="f"?"×ª×§×™× ×”":"×ª×§×™×Ÿ";return`${h} ×œ× ${f}`}case"not_multiple_of":return`×ž×¡×¤×¨ ×œ× ×ª×§×™×Ÿ: ×—×™×™×‘ ×œ×”×™×•×ª ×ž×›×¤×œ×” ×©×œ ${l.divisor}`;case"unrecognized_keys":return`×ž×¤×ª×—${l.keys.length>1?"×•×ª":""} ×œ× ×ž×–×•×”${l.keys.length>1?"×™×":"×”"}: ${ze(l.keys,", ")}`;case"invalid_key":return"×©×“×” ×œ× ×ª×§×™×Ÿ ×‘××•×‘×™×™×§×˜";case"invalid_union":return"×§×œ×˜ ×œ× ×ª×§×™×Ÿ";case"invalid_element":return`×¢×¨×š ×œ× ×ª×§×™×Ÿ ×‘${i(l.origin??"array")}`;default:return"×§×œ×˜ ×œ× ×ª×§×™×Ÿ"}}};function vct(){return{localeError:bct()}}const Ect=()=>{const t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"szÃ¡m";case"object":{if(Array.isArray(i))return"tÃ¶mb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"bemenet",email:"email cÃ­m",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idÅ‘bÃ©lyeg",date:"ISO dÃ¡tum",time:"ISO idÅ‘",duration:"ISO idÅ‘intervallum",ipv4:"IPv4 cÃ­m",ipv6:"IPv6 cÃ­m",cidrv4:"IPv4 tartomÃ¡ny",cidrv6:"IPv6 tartomÃ¡ny",base64:"base64-kÃ³dolt string",base64url:"base64url-kÃ³dolt string",json_string:"JSON string",e164:"E.164 szÃ¡m",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`Ã‰rvÃ©nytelen bemenet: a vÃ¡rt Ã©rtÃ©k ${i.expected}, a kapott Ã©rtÃ©k ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ã‰rvÃ©nytelen bemenet: a vÃ¡rt Ã©rtÃ©k ${Dt(i.values[0])}`:`Ã‰rvÃ©nytelen opciÃ³: valamelyik Ã©rtÃ©k vÃ¡rt ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`TÃºl nagy: ${i.origin??"Ã©rtÃ©k"} mÃ©rete tÃºl nagy ${s}${i.maximum.toString()} ${o.unit??"elem"}`:`TÃºl nagy: a bemeneti Ã©rtÃ©k ${i.origin??"Ã©rtÃ©k"} tÃºl nagy: ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`TÃºl kicsi: a bemeneti Ã©rtÃ©k ${i.origin} mÃ©rete tÃºl kicsi ${s}${i.minimum.toString()} ${o.unit}`:`TÃºl kicsi: a bemeneti Ã©rtÃ©k ${i.origin} tÃºl kicsi ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ã‰rvÃ©nytelen string: "${s.prefix}" Ã©rtÃ©kkel kell kezdÅ‘dnie`:s.format==="ends_with"?`Ã‰rvÃ©nytelen string: "${s.suffix}" Ã©rtÃ©kkel kell vÃ©gzÅ‘dnie`:s.format==="includes"?`Ã‰rvÃ©nytelen string: "${s.includes}" Ã©rtÃ©ket kell tartalmaznia`:s.format==="regex"?`Ã‰rvÃ©nytelen string: ${s.pattern} mintÃ¡nak kell megfelelnie`:`Ã‰rvÃ©nytelen ${r[s.format]??i.format}`}case"not_multiple_of":return`Ã‰rvÃ©nytelen szÃ¡m: ${i.divisor} tÃ¶bbszÃ¶rÃ¶sÃ©nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`Ã‰rvÃ©nytelen kulcs ${i.origin}`;case"invalid_union":return"Ã‰rvÃ©nytelen bemenet";case"invalid_element":return`Ã‰rvÃ©nytelen Ã©rtÃ©k: ${i.origin}`;default:return"Ã‰rvÃ©nytelen bemenet"}}};function Cct(){return{localeError:Ect()}}const _ct=()=>{const t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Dt(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${s}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Terlalu kecil: diharapkan ${i.origin} memiliki ${s}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`String tidak valid: harus dimulai dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak valid: harus berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak valid: harus menyertakan "${s.includes}"`:s.format==="regex"?`String tidak valid: harus sesuai pola ${s.pattern}`:`${r[s.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function Ict(){return{localeError:_ct()}}const Sct=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nÃºmer";case"object":{if(Array.isArray(t))return"fylki";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},xct=()=>{const t={string:{unit:"stafi",verb:"aÃ° hafa"},file:{unit:"bÃ¦ti",verb:"aÃ° hafa"},array:{unit:"hluti",verb:"aÃ° hafa"},set:{unit:"hluti",verb:"aÃ° hafa"}};function e(r){return t[r]??null}const n={regex:"gildi",email:"netfang",url:"vefslÃ³Ã°",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tÃ­mi",date:"ISO dagsetning",time:"ISO tÃ­mi",duration:"ISO tÃ­malengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tÃ¶lugildi",jwt:"JWT",template_literal:"gildi"};return r=>{switch(r.code){case"invalid_type":return`Rangt gildi: ÃžÃº slÃ³st inn ${Sct(r.input)} Ã¾ar sem Ã¡ aÃ° vera ${r.expected}`;case"invalid_value":return r.values.length===1?`Rangt gildi: gert rÃ¡Ã° fyrir ${Dt(r.values[0])}`:`Ã“gilt val: mÃ¡ vera eitt af eftirfarandi ${ze(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Of stÃ³rt: gert er rÃ¡Ã° fyrir aÃ° ${r.origin??"gildi"} hafi ${i}${r.maximum.toString()} ${s.unit??"hluti"}`:`Of stÃ³rt: gert er rÃ¡Ã° fyrir aÃ° ${r.origin??"gildi"} sÃ© ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Of lÃ­tiÃ°: gert er rÃ¡Ã° fyrir aÃ° ${r.origin} hafi ${i}${r.minimum.toString()} ${s.unit}`:`Of lÃ­tiÃ°: gert er rÃ¡Ã° fyrir aÃ° ${r.origin} sÃ© ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Ã“gildur strengur: verÃ°ur aÃ° byrja Ã¡ "${i.prefix}"`:i.format==="ends_with"?`Ã“gildur strengur: verÃ°ur aÃ° enda Ã¡ "${i.suffix}"`:i.format==="includes"?`Ã“gildur strengur: verÃ°ur aÃ° innihalda "${i.includes}"`:i.format==="regex"?`Ã“gildur strengur: verÃ°ur aÃ° fylgja mynstri ${i.pattern}`:`Rangt ${n[i.format]??r.format}`}case"not_multiple_of":return`RÃ¶ng tala: verÃ°ur aÃ° vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`Ã“Ã¾ekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${ze(r.keys,", ")}`;case"invalid_key":return`Rangur lykill Ã­ ${r.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi Ã­ ${r.origin}`;default:return"Rangt gildi"}}};function Act(){return{localeError:xct()}}const kct=()=>{const t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Dt(i.values[0])}`:`Opzione non valida: atteso uno tra ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Troppo grande: ${i.origin??"valore"} deve avere ${s}${i.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Troppo piccolo: ${i.origin} deve avere ${s}${i.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${i.origin} deve essere ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Stringa non valida: deve iniziare con "${s.prefix}"`:s.format==="ends_with"?`Stringa non valida: deve terminare con "${s.suffix}"`:s.format==="includes"?`Stringa non valida: deve includere "${s.includes}"`:s.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${s.pattern}`:`Invalid ${r[s.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${ze(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function $ct(){return{localeError:kct()}}const Tct=()=>{const t={string:{unit:"æ–‡å­—",verb:"ã§ã‚ã‚‹"},file:{unit:"ãƒã‚¤ãƒˆ",verb:"ã§ã‚ã‚‹"},array:{unit:"è¦ç´ ",verb:"ã§ã‚ã‚‹"},set:{unit:"è¦ç´ ",verb:"ã§ã‚ã‚‹"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"æ•°å€¤";case"object":{if(Array.isArray(i))return"é…åˆ—";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"å…¥åŠ›å€¤",email:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",url:"URL",emoji:"çµµæ–‡å­—",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISOæ—¥æ™‚",date:"ISOæ—¥ä»˜",time:"ISOæ™‚åˆ»",duration:"ISOæœŸé–“",ipv4:"IPv4ã‚¢ãƒ‰ãƒ¬ã‚¹",ipv6:"IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹",cidrv4:"IPv4ç¯„å›²",cidrv6:"IPv6ç¯„å›²",base64:"base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ–‡å­—åˆ—",base64url:"base64urlã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ–‡å­—åˆ—",json_string:"JSONæ–‡å­—åˆ—",e164:"E.164ç•ªå·",jwt:"JWT",template_literal:"å…¥åŠ›å€¤"};return i=>{switch(i.code){case"invalid_type":return`ç„¡åŠ¹ãªå…¥åŠ›: ${i.expected}ãŒæœŸå¾…ã•ã‚Œã¾ã—ãŸãŒã€${n(i.input)}ãŒå…¥åŠ›ã•ã‚Œã¾ã—ãŸ`;case"invalid_value":return i.values.length===1?`ç„¡åŠ¹ãªå…¥åŠ›: ${Dt(i.values[0])}ãŒæœŸå¾…ã•ã‚Œã¾ã—ãŸ`:`ç„¡åŠ¹ãªé¸æŠž: ${ze(i.values,"ã€")}ã®ã„ãšã‚Œã‹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`;case"too_big":{const s=i.inclusive?"ä»¥ä¸‹ã§ã‚ã‚‹":"ã‚ˆã‚Šå°ã•ã„",o=e(i.origin);return o?`å¤§ãã™ãŽã‚‹å€¤: ${i.origin??"å€¤"}ã¯${i.maximum.toString()}${o.unit??"è¦ç´ "}${s}å¿…è¦ãŒã‚ã‚Šã¾ã™`:`å¤§ãã™ãŽã‚‹å€¤: ${i.origin??"å€¤"}ã¯${i.maximum.toString()}${s}å¿…è¦ãŒã‚ã‚Šã¾ã™`}case"too_small":{const s=i.inclusive?"ä»¥ä¸Šã§ã‚ã‚‹":"ã‚ˆã‚Šå¤§ãã„",o=e(i.origin);return o?`å°ã•ã™ãŽã‚‹å€¤: ${i.origin}ã¯${i.minimum.toString()}${o.unit}${s}å¿…è¦ãŒã‚ã‚Šã¾ã™`:`å°ã•ã™ãŽã‚‹å€¤: ${i.origin}ã¯${i.minimum.toString()}${s}å¿…è¦ãŒã‚ã‚Šã¾ã™`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ç„¡åŠ¹ãªæ–‡å­—åˆ—: "${s.prefix}"ã§å§‹ã¾ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`:s.format==="ends_with"?`ç„¡åŠ¹ãªæ–‡å­—åˆ—: "${s.suffix}"ã§çµ‚ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`:s.format==="includes"?`ç„¡åŠ¹ãªæ–‡å­—åˆ—: "${s.includes}"ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™`:s.format==="regex"?`ç„¡åŠ¹ãªæ–‡å­—åˆ—: ãƒ‘ã‚¿ãƒ¼ãƒ³${s.pattern}ã«ä¸€è‡´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`:`ç„¡åŠ¹ãª${r[s.format]??i.format}`}case"not_multiple_of":return`ç„¡åŠ¹ãªæ•°å€¤: ${i.divisor}ã®å€æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`;case"unrecognized_keys":return`èªè­˜ã•ã‚Œã¦ã„ãªã„ã‚­ãƒ¼${i.keys.length>1?"ç¾¤":""}: ${ze(i.keys,"ã€")}`;case"invalid_key":return`${i.origin}å†…ã®ç„¡åŠ¹ãªã‚­ãƒ¼`;case"invalid_union":return"ç„¡åŠ¹ãªå…¥åŠ›";case"invalid_element":return`${i.origin}å†…ã®ç„¡åŠ¹ãªå€¤`;default:return"ç„¡åŠ¹ãªå…¥åŠ›"}}};function Nct(){return{localeError:Tct()}}const Oct=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜";case"object":{if(Array.isArray(t))return"áƒ›áƒáƒ¡áƒ˜áƒ•áƒ˜";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return{string:"áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜",boolean:"áƒ‘áƒ£áƒšáƒ”áƒáƒœáƒ˜",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ"}[e]??e},Pct=()=>{const t={string:{unit:"áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒ",verb:"áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡"},file:{unit:"áƒ‘áƒáƒ˜áƒ¢áƒ˜",verb:"áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡"},array:{unit:"áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ˜",verb:"áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡"},set:{unit:"áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ˜",verb:"áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡"}};function e(r){return t[r]??null}const n={regex:"áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ",email:"áƒ”áƒš-áƒ¤áƒáƒ¡áƒ¢áƒ˜áƒ¡ áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜",url:"URL",emoji:"áƒ”áƒ›áƒáƒ¯áƒ˜",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"áƒ—áƒáƒ áƒ˜áƒ¦áƒ˜-áƒ“áƒ áƒ",date:"áƒ—áƒáƒ áƒ˜áƒ¦áƒ˜",time:"áƒ“áƒ áƒ",duration:"áƒ®áƒáƒœáƒ’áƒ áƒ«áƒšáƒ˜áƒ•áƒáƒ‘áƒ",ipv4:"IPv4 áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜",ipv6:"IPv6 áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜",cidrv4:"IPv4 áƒ“áƒ˜áƒáƒžáƒáƒ–áƒáƒœáƒ˜",cidrv6:"IPv6 áƒ“áƒ˜áƒáƒžáƒáƒ–áƒáƒœáƒ˜",base64:"base64-áƒ™áƒáƒ“áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜",base64url:"base64url-áƒ™áƒáƒ“áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜",json_string:"JSON áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜",e164:"E.164 áƒœáƒáƒ›áƒ”áƒ áƒ˜",jwt:"JWT",template_literal:"áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ"};return r=>{switch(r.code){case"invalid_type":return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${r.expected}, áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ ${Oct(r.input)}`;case"invalid_value":return r.values.length===1?`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${Dt(r.values[0])}`:`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ•áƒáƒ áƒ˜áƒáƒœáƒ¢áƒ˜: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜áƒ áƒ”áƒ áƒ—-áƒ”áƒ áƒ—áƒ˜ ${ze(r.values,"|")}-áƒ“áƒáƒœ`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒ“áƒ˜áƒ“áƒ˜: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${r.origin??"áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ"} ${s.verb} ${i}${r.maximum.toString()} ${s.unit}`:`áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒ“áƒ˜áƒ“áƒ˜: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${r.origin??"áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ"} áƒ˜áƒ§áƒáƒ¡ ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒžáƒáƒ¢áƒáƒ áƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${r.origin} ${s.verb} ${i}${r.minimum.toString()} ${s.unit}`:`áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒžáƒáƒ¢áƒáƒ áƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${r.origin} áƒ˜áƒ§áƒáƒ¡ ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜: áƒ£áƒœáƒ“áƒ áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒáƒ“áƒ”áƒ¡ "${i.prefix}"-áƒ˜áƒ—`:i.format==="ends_with"?`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜: áƒ£áƒœáƒ“áƒ áƒ›áƒ—áƒáƒ•áƒ áƒ“áƒ”áƒ‘áƒáƒ“áƒ”áƒ¡ "${i.suffix}"-áƒ˜áƒ—`:i.format==="includes"?`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜: áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ "${i.includes}"-áƒ¡`:i.format==="regex"?`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜: áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ”áƒ‘áƒáƒ“áƒ”áƒ¡ áƒ¨áƒáƒ‘áƒšáƒáƒœáƒ¡ ${i.pattern}`:`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ ${n[i.format]??r.format}`}case"not_multiple_of":return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜: áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ ${r.divisor}-áƒ˜áƒ¡ áƒ¯áƒ”áƒ áƒáƒ“áƒ˜`;case"unrecognized_keys":return`áƒ£áƒªáƒœáƒáƒ‘áƒ˜ áƒ’áƒáƒ¡áƒáƒ¦áƒ”áƒ‘${r.keys.length>1?"áƒ”áƒ‘áƒ˜":"áƒ˜"}: ${ze(r.keys,", ")}`;case"invalid_key":return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ’áƒáƒ¡áƒáƒ¦áƒ”áƒ‘áƒ˜ ${r.origin}-áƒ¨áƒ˜`;case"invalid_union":return"áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ";case"invalid_element":return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ ${r.origin}-áƒ¨áƒ˜`;default:return"áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ"}}};function Rct(){return{localeError:Pct()}}const Dct=()=>{const t={string:{unit:"ážáž½áž¢áž€áŸ’ážŸážš",verb:"áž‚áž½ážšáž˜áž¶áž“"},file:{unit:"áž”áŸƒ",verb:"áž‚áž½ážšáž˜áž¶áž“"},array:{unit:"áž’áž¶ážáž»",verb:"áž‚áž½ážšáž˜áž¶áž“"},set:{unit:"áž’áž¶ážáž»",verb:"áž‚áž½ážšáž˜áž¶áž“"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"áž˜áž·áž“áž˜áŸ‚áž“áž‡áž¶áž›áŸáž (NaN)":"áž›áŸáž";case"object":{if(Array.isArray(i))return"áž¢áž¶ážšáŸ (Array)";if(i===null)return"áž‚áŸ’áž˜áž¶áž“ážáž˜áŸ’áž›áŸƒ (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›",email:"áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“áž¢áŸŠáž¸áž˜áŸ‚áž›",url:"URL",emoji:"ážŸáž‰áŸ’áž‰áž¶áž¢áž¶ážšáž˜áŸ’áž˜ážŽáŸ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"áž€áž¶áž›áž”ážšáž·áž…áŸ’áž†áŸáž‘ áž“áž·áž„áž˜áŸ‰áŸ„áž„ ISO",date:"áž€áž¶áž›áž”ážšáž·áž…áŸ’áž†áŸáž‘ ISO",time:"áž˜áŸ‰áŸ„áž„ ISO",duration:"ážšáž™áŸˆáž–áŸáž› ISO",ipv4:"áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“ IPv4",ipv6:"áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“ IPv6",cidrv4:"ážŠáŸ‚áž“áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“ IPv4",cidrv6:"ážŠáŸ‚áž“áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“ IPv6",base64:"ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž¢áŸŠáž·áž€áž¼ážŠ base64",base64url:"ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž¢áŸŠáž·áž€áž¼ážŠ base64url",json_string:"ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážš JSON",e164:"áž›áŸáž E.164",jwt:"JWT",template_literal:"áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›"};return i=>{switch(i.code){case"invalid_type":return`áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${i.expected} áž”áŸ‰áž»áž“áŸ’ážáŸ‚áž‘áž‘áž½áž›áž”áž¶áž“ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${Dt(i.values[0])}`:`áž‡áž˜áŸ’ážšáž¾ážŸáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž‡áž¶áž˜áž½áž™áž€áŸ’áž“áž»áž„áž…áŸ†ážŽáŸ„áž˜ ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`áž’áŸ†áž–áŸáž€áŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${i.origin??"ážáž˜áŸ’áž›áŸƒ"} ${s} ${i.maximum.toString()} ${o.unit??"áž’áž¶ážáž»"}`:`áž’áŸ†áž–áŸáž€áŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${i.origin??"ážáž˜áŸ’áž›áŸƒ"} ${s} ${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`ážáž¼áž…áž–áŸáž€áŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${i.origin} ${s} ${i.minimum.toString()} ${o.unit}`:`ážáž¼áž…áž–áŸáž€áŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${i.origin} ${s} ${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž…áž¶áž”áŸ‹áž•áŸ’ážáž¾áž˜ážŠáŸ„áž™ "${s.prefix}"`:s.format==="ends_with"?`ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž”áž‰áŸ’áž…áž”áŸ‹ážŠáŸ„áž™ "${s.suffix}"`:s.format==="includes"?`ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž˜áž¶áž“ "${s.includes}"`:s.format==="regex"?`ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœážáŸ‚áž•áŸ’áž‚áž¼áž•áŸ’áž‚áž„áž“áž¹áž„áž‘áž˜áŸ’ážšáž„áŸ‹ážŠáŸ‚áž›áž”áž¶áž“áž€áŸ†ážŽážáŸ‹ ${s.pattern}`:`áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ${r[s.format]??i.format}`}case"not_multiple_of":return`áž›áŸážáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœážáŸ‚áž‡áž¶áž–áž áž»áž‚áž»ážŽáž“áŸƒ ${i.divisor}`;case"unrecognized_keys":return`ážšáž€ážƒáž¾áž‰ážŸáŸ„áž˜áž·áž“ážŸáŸ’áž‚áž¶áž›áŸ‹áŸ– ${ze(i.keys,", ")}`;case"invalid_key":return`ážŸáŸ„áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáž“áŸ…áž€áŸ’áž“áž»áž„ ${i.origin}`;case"invalid_union":return"áž‘áž·áž“áŸ’áž“áž“áŸáž™áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœ";case"invalid_element":return`áž‘áž·áž“áŸ’áž“áž“áŸáž™áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáž“áŸ…áž€áŸ’áž“áž»áž„ ${i.origin}`;default:return"áž‘áž·áž“áŸ’áž“áž“áŸáž™áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœ"}}};function Sde(){return{localeError:Dct()}}function Uct(){return Sde()}const Mct=()=>{const t={string:{unit:"ë¬¸ìž",verb:"to have"},file:{unit:"ë°”ì´íŠ¸",verb:"to have"},array:{unit:"ê°œ",verb:"to have"},set:{unit:"ê°œ",verb:"to have"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ìž…ë ¥",email:"ì´ë©”ì¼ ì£¼ì†Œ",url:"URL",emoji:"ì´ëª¨ì§€",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ë‚ ì§œì‹œê°„",date:"ISO ë‚ ì§œ",time:"ISO ì‹œê°„",duration:"ISO ê¸°ê°„",ipv4:"IPv4 ì£¼ì†Œ",ipv6:"IPv6 ì£¼ì†Œ",cidrv4:"IPv4 ë²”ìœ„",cidrv6:"IPv6 ë²”ìœ„",base64:"base64 ì¸ì½”ë”© ë¬¸ìžì—´",base64url:"base64url ì¸ì½”ë”© ë¬¸ìžì—´",json_string:"JSON ë¬¸ìžì—´",e164:"E.164 ë²ˆí˜¸",jwt:"JWT",template_literal:"ìž…ë ¥"};return i=>{switch(i.code){case"invalid_type":return`ìž˜ëª»ëœ ìž…ë ¥: ì˜ˆìƒ íƒ€ìž…ì€ ${i.expected}, ë°›ì€ íƒ€ìž…ì€ ${n(i.input)}ìž…ë‹ˆë‹¤`;case"invalid_value":return i.values.length===1?`ìž˜ëª»ëœ ìž…ë ¥: ê°’ì€ ${Dt(i.values[0])} ì´ì–´ì•¼ í•©ë‹ˆë‹¤`:`ìž˜ëª»ëœ ì˜µì…˜: ${ze(i.values,"ë˜ëŠ” ")} ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•©ë‹ˆë‹¤`;case"too_big":{const s=i.inclusive?"ì´í•˜":"ë¯¸ë§Œ",o=s==="ë¯¸ë§Œ"?"ì´ì–´ì•¼ í•©ë‹ˆë‹¤":"ì—¬ì•¼ í•©ë‹ˆë‹¤",a=e(i.origin),c=a?.unit??"ìš”ì†Œ";return a?`${i.origin??"ê°’"}ì´ ë„ˆë¬´ í½ë‹ˆë‹¤: ${i.maximum.toString()}${c} ${s}${o}`:`${i.origin??"ê°’"}ì´ ë„ˆë¬´ í½ë‹ˆë‹¤: ${i.maximum.toString()} ${s}${o}`}case"too_small":{const s=i.inclusive?"ì´ìƒ":"ì´ˆê³¼",o=s==="ì´ìƒ"?"ì´ì–´ì•¼ í•©ë‹ˆë‹¤":"ì—¬ì•¼ í•©ë‹ˆë‹¤",a=e(i.origin),c=a?.unit??"ìš”ì†Œ";return a?`${i.origin??"ê°’"}ì´ ë„ˆë¬´ ìž‘ìŠµë‹ˆë‹¤: ${i.minimum.toString()}${c} ${s}${o}`:`${i.origin??"ê°’"}ì´ ë„ˆë¬´ ìž‘ìŠµë‹ˆë‹¤: ${i.minimum.toString()} ${s}${o}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ìž˜ëª»ëœ ë¬¸ìžì—´: "${s.prefix}"(ìœ¼)ë¡œ ì‹œìž‘í•´ì•¼ í•©ë‹ˆë‹¤`:s.format==="ends_with"?`ìž˜ëª»ëœ ë¬¸ìžì—´: "${s.suffix}"(ìœ¼)ë¡œ ëë‚˜ì•¼ í•©ë‹ˆë‹¤`:s.format==="includes"?`ìž˜ëª»ëœ ë¬¸ìžì—´: "${s.includes}"ì„(ë¥¼) í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤`:s.format==="regex"?`ìž˜ëª»ëœ ë¬¸ìžì—´: ì •ê·œì‹ ${s.pattern} íŒ¨í„´ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤`:`ìž˜ëª»ëœ ${r[s.format]??i.format}`}case"not_multiple_of":return`ìž˜ëª»ëœ ìˆ«ìž: ${i.divisor}ì˜ ë°°ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤`;case"unrecognized_keys":return`ì¸ì‹í•  ìˆ˜ ì—†ëŠ” í‚¤: ${ze(i.keys,", ")}`;case"invalid_key":return`ìž˜ëª»ëœ í‚¤: ${i.origin}`;case"invalid_union":return"ìž˜ëª»ëœ ìž…ë ¥";case"invalid_element":return`ìž˜ëª»ëœ ê°’: ${i.origin}`;default:return"ìž˜ëª»ëœ ìž…ë ¥"}}};function Lct(){return{localeError:Mct()}}const jct=t=>eE(typeof t,t),eE=(t,e=void 0)=>{switch(t){case"number":return Number.isNaN(e)?"NaN":"skaiÄius";case"bigint":return"sveikasis skaiÄius";case"string":return"eilutÄ—";case"boolean":return"loginÄ— reikÅ¡mÄ—";case"undefined":case"void":return"neapibrÄ—Å¾ta reikÅ¡mÄ—";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return e===void 0?"neÅ¾inomas objektas":e===null?"nulinÄ— reikÅ¡mÄ—":Array.isArray(e)?"masyvas":Object.getPrototypeOf(e)!==Object.prototype&&e.constructor?e.constructor.name:"objektas";case"null":return"nulinÄ— reikÅ¡mÄ—"}return t},c3=t=>t.charAt(0).toUpperCase()+t.slice(1);function hZ(t){const e=Math.abs(t),n=e%10,r=e%100;return r>=11&&r<=19||n===0?"many":n===1?"one":"few"}const Bct=()=>{const t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboliÅ³"},verb:{smaller:{inclusive:"turi bÅ«ti ne ilgesnÄ— kaip",notInclusive:"turi bÅ«ti trumpesnÄ— kaip"},bigger:{inclusive:"turi bÅ«ti ne trumpesnÄ— kaip",notInclusive:"turi bÅ«ti ilgesnÄ— kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitÅ³"},verb:{smaller:{inclusive:"turi bÅ«ti ne didesnis kaip",notInclusive:"turi bÅ«ti maÅ¾esnis kaip"},bigger:{inclusive:"turi bÅ«ti ne maÅ¾esnis kaip",notInclusive:"turi bÅ«ti didesnis kaip"}}},array:{unit:{one:"elementÄ…",few:"elementus",many:"elementÅ³"},verb:{smaller:{inclusive:"turi turÄ—ti ne daugiau kaip",notInclusive:"turi turÄ—ti maÅ¾iau kaip"},bigger:{inclusive:"turi turÄ—ti ne maÅ¾iau kaip",notInclusive:"turi turÄ—ti daugiau kaip"}}},set:{unit:{one:"elementÄ…",few:"elementus",many:"elementÅ³"},verb:{smaller:{inclusive:"turi turÄ—ti ne daugiau kaip",notInclusive:"turi turÄ—ti maÅ¾iau kaip"},bigger:{inclusive:"turi turÄ—ti ne maÅ¾iau kaip",notInclusive:"turi turÄ—ti daugiau kaip"}}}};function e(r,i,s,o){const a=t[r]??null;return a===null?a:{unit:a.unit[i],verb:a.verb[o][s?"inclusive":"notInclusive"]}}const n={regex:"Ä¯vestis",email:"el. paÅ¡to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmÄ—",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 uÅ¾koduota eilutÄ—",base64url:"base64url uÅ¾koduota eilutÄ—",json_string:"JSON eilutÄ—",e164:"E.164 numeris",jwt:"JWT",template_literal:"Ä¯vestis"};return r=>{switch(r.code){case"invalid_type":return`Gautas tipas ${jct(r.input)}, o tikÄ—tasi - ${eE(r.expected)}`;case"invalid_value":return r.values.length===1?`Privalo bÅ«ti ${Dt(r.values[0])}`:`Privalo bÅ«ti vienas iÅ¡ ${ze(r.values,"|")} pasirinkimÅ³`;case"too_big":{const i=eE(r.origin),s=e(r.origin,hZ(Number(r.maximum)),r.inclusive??!1,"smaller");if(s?.verb)return`${c3(i??r.origin??"reikÅ¡mÄ—")} ${s.verb} ${r.maximum.toString()} ${s.unit??"elementÅ³"}`;const o=r.inclusive?"ne didesnis kaip":"maÅ¾esnis kaip";return`${c3(i??r.origin??"reikÅ¡mÄ—")} turi bÅ«ti ${o} ${r.maximum.toString()} ${s?.unit}`}case"too_small":{const i=eE(r.origin),s=e(r.origin,hZ(Number(r.minimum)),r.inclusive??!1,"bigger");if(s?.verb)return`${c3(i??r.origin??"reikÅ¡mÄ—")} ${s.verb} ${r.minimum.toString()} ${s.unit??"elementÅ³"}`;const o=r.inclusive?"ne maÅ¾esnis kaip":"didesnis kaip";return`${c3(i??r.origin??"reikÅ¡mÄ—")} turi bÅ«ti ${o} ${r.minimum.toString()} ${s?.unit}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`EilutÄ— privalo prasidÄ—ti "${i.prefix}"`:i.format==="ends_with"?`EilutÄ— privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`EilutÄ— privalo Ä¯traukti "${i.includes}"`:i.format==="regex"?`EilutÄ— privalo atitikti ${i.pattern}`:`Neteisingas ${n[i.format]??r.format}`}case"not_multiple_of":return`SkaiÄius privalo bÅ«ti ${r.divisor} kartotinis.`;case"unrecognized_keys":return`NeatpaÅ¾int${r.keys.length>1?"i":"as"} rakt${r.keys.length>1?"ai":"as"}: ${ze(r.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga Ä¯vestis";case"invalid_element":{const i=eE(r.origin);return`${c3(i??r.origin??"reikÅ¡mÄ—")} turi klaidingÄ… Ä¯vestÄ¯`}default:return"Klaidinga Ä¯vestis"}}};function zct(){return{localeError:Bct()}}const Wct=()=>{const t={string:{unit:"Ð·Ð½Ð°Ñ†Ð¸",verb:"Ð´Ð° Ð¸Ð¼Ð°Ð°Ñ‚"},file:{unit:"Ð±Ð°Ñ˜Ñ‚Ð¸",verb:"Ð´Ð° Ð¸Ð¼Ð°Ð°Ñ‚"},array:{unit:"ÑÑ‚Ð°Ð²ÐºÐ¸",verb:"Ð´Ð° Ð¸Ð¼Ð°Ð°Ñ‚"},set:{unit:"ÑÑ‚Ð°Ð²ÐºÐ¸",verb:"Ð´Ð° Ð¸Ð¼Ð°Ð°Ñ‚"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Ð±Ñ€Ð¾Ñ˜";case"object":{if(Array.isArray(i))return"Ð½Ð¸Ð·Ð°";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"Ð²Ð½ÐµÑ",email:"Ð°Ð´Ñ€ÐµÑÐ° Ð½Ð° Ðµ-Ð¿Ð¾ÑˆÑ‚Ð°",url:"URL",emoji:"ÐµÐ¼Ð¾ÑŸÐ¸",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Ð´Ð°Ñ‚ÑƒÐ¼ Ð¸ Ð²Ñ€ÐµÐ¼Ðµ",date:"ISO Ð´Ð°Ñ‚ÑƒÐ¼",time:"ISO Ð²Ñ€ÐµÐ¼Ðµ",duration:"ISO Ð²Ñ€ÐµÐ¼ÐµÑ‚Ñ€Ð°ÐµÑšÐµ",ipv4:"IPv4 Ð°Ð´Ñ€ÐµÑÐ°",ipv6:"IPv6 Ð°Ð´Ñ€ÐµÑÐ°",cidrv4:"IPv4 Ð¾Ð¿ÑÐµÐ³",cidrv6:"IPv6 Ð¾Ð¿ÑÐµÐ³",base64:"base64-ÐµÐ½ÐºÐ¾Ð´Ð¸Ñ€Ð°Ð½Ð° Ð½Ð¸Ð·Ð°",base64url:"base64url-ÐµÐ½ÐºÐ¾Ð´Ð¸Ñ€Ð°Ð½Ð° Ð½Ð¸Ð·Ð°",json_string:"JSON Ð½Ð¸Ð·Ð°",e164:"E.164 Ð±Ñ€Ð¾Ñ˜",jwt:"JWT",template_literal:"Ð²Ð½ÐµÑ"};return i=>{switch(i.code){case"invalid_type":return`Ð“Ñ€ÐµÑˆÐµÐ½ Ð²Ð½ÐµÑ: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${i.expected}, Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¾ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${Dt(i.values[0])}`:`Ð“Ñ€ÐµÑˆÐ°Ð½Ð° Ð¾Ð¿Ñ†Ð¸Ñ˜Ð°: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ÐµÐ´Ð½Ð° ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`ÐŸÑ€ÐµÐ¼Ð½Ð¾Ð³Ñƒ Ð³Ð¾Ð»ÐµÐ¼: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${i.origin??"Ð²Ñ€ÐµÐ´Ð½Ð¾ÑÑ‚Ð°"} Ð´Ð° Ð¸Ð¼Ð° ${s}${i.maximum.toString()} ${o.unit??"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¸"}`:`ÐŸÑ€ÐµÐ¼Ð½Ð¾Ð³Ñƒ Ð³Ð¾Ð»ÐµÐ¼: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${i.origin??"Ð²Ñ€ÐµÐ´Ð½Ð¾ÑÑ‚Ð°"} Ð´Ð° Ð±Ð¸Ð´Ðµ ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`ÐŸÑ€ÐµÐ¼Ð½Ð¾Ð³Ñƒ Ð¼Ð°Ð»: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${i.origin} Ð´Ð° Ð¸Ð¼Ð° ${s}${i.minimum.toString()} ${o.unit}`:`ÐŸÑ€ÐµÐ¼Ð½Ð¾Ð³Ñƒ Ð¼Ð°Ð»: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${i.origin} Ð´Ð° Ð±Ð¸Ð´Ðµ ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ÐÐµÐ²Ð°Ð¶ÐµÑ‡ÐºÐ° Ð½Ð¸Ð·Ð°: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð·Ð°Ð¿Ð¾Ñ‡Ð½ÑƒÐ²Ð° ÑÐ¾ "${s.prefix}"`:s.format==="ends_with"?`ÐÐµÐ²Ð°Ð¶ÐµÑ‡ÐºÐ° Ð½Ð¸Ð·Ð°: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð·Ð°Ð²Ñ€ÑˆÑƒÐ²Ð° ÑÐ¾ "${s.suffix}"`:s.format==="includes"?`ÐÐµÐ²Ð°Ð¶ÐµÑ‡ÐºÐ° Ð½Ð¸Ð·Ð°: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð²ÐºÐ»ÑƒÑ‡ÑƒÐ²Ð° "${s.includes}"`:s.format==="regex"?`ÐÐµÐ²Ð°Ð¶ÐµÑ‡ÐºÐ° Ð½Ð¸Ð·Ð°: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð¾Ð´Ð³Ð¾Ð°Ñ€Ð° Ð½Ð° Ð¿Ð°Ñ‚ÐµÑ€Ð½Ð¾Ñ‚ ${s.pattern}`:`Invalid ${r[s.format]??i.format}`}case"not_multiple_of":return`Ð“Ñ€ÐµÑˆÐµÐ½ Ð±Ñ€Ð¾Ñ˜: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð±Ð¸Ð´Ðµ Ð´ÐµÐ»Ð¸Ð² ÑÐ¾ ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"ÐÐµÐ¿Ñ€ÐµÐ¿Ð¾Ð·Ð½Ð°ÐµÐ½Ð¸ ÐºÐ»ÑƒÑ‡ÐµÐ²Ð¸":"ÐÐµÐ¿Ñ€ÐµÐ¿Ð¾Ð·Ð½Ð°ÐµÐ½ ÐºÐ»ÑƒÑ‡"}: ${ze(i.keys,", ")}`;case"invalid_key":return`Ð“Ñ€ÐµÑˆÐµÐ½ ÐºÐ»ÑƒÑ‡ Ð²Ð¾ ${i.origin}`;case"invalid_union":return"Ð“Ñ€ÐµÑˆÐµÐ½ Ð²Ð½ÐµÑ";case"invalid_element":return`Ð“Ñ€ÐµÑˆÐ½Ð° Ð²Ñ€ÐµÐ´Ð½Ð¾ÑÑ‚ Ð²Ð¾ ${i.origin}`;default:return"Ð“Ñ€ÐµÑˆÐµÐ½ Ð²Ð½ÐµÑ"}}};function qct(){return{localeError:Wct()}}const Fct=()=>{const t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Dt(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Terlalu besar: dijangka ${i.origin??"nilai"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Terlalu kecil: dijangka ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`String tidak sah: mesti bermula dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak sah: mesti mengandungi "${s.includes}"`:s.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${s.pattern}`:`${r[s.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ze(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function Hct(){return{localeError:Fct()}}const Vct=()=>{const t={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Dt(i.values[0])}`:`Ongeldige optie: verwacht Ã©Ã©n van ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Te groot: verwacht dat ${i.origin??"waarde"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"elementen"}`:`Te groot: verwacht dat ${i.origin??"waarde"} ${s}${i.maximum.toString()} is`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Te klein: verwacht dat ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Te klein: verwacht dat ${i.origin} ${s}${i.minimum.toString()} is`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ongeldige tekst: moet met "${s.prefix}" beginnen`:s.format==="ends_with"?`Ongeldige tekst: moet op "${s.suffix}" eindigen`:s.format==="includes"?`Ongeldige tekst: moet "${s.includes}" bevatten`:s.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${s.pattern}`:`Ongeldig: ${r[s.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function Kct(){return{localeError:Vct()}}const Zct=()=>{const t={string:{unit:"tegn",verb:"Ã¥ ha"},file:{unit:"bytes",verb:"Ã¥ ha"},array:{unit:"elementer",verb:"Ã¥ inneholde"},set:{unit:"elementer",verb:"Ã¥ inneholde"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrÃ¥de",ipv6:"IPv6-omrÃ¥de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Dt(i.values[0])}`:`Ugyldig valg: forventet en av ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`For stor(t): forventet ${i.origin??"value"} til Ã¥ ha ${s}${i.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til Ã¥ ha ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`For lite(n): forventet ${i.origin} til Ã¥ ha ${s}${i.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${i.origin} til Ã¥ ha ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ugyldig streng: mÃ¥ starte med "${s.prefix}"`:s.format==="ends_with"?`Ugyldig streng: mÃ¥ ende med "${s.suffix}"`:s.format==="includes"?`Ugyldig streng: mÃ¥ inneholde "${s.includes}"`:s.format==="regex"?`Ugyldig streng: mÃ¥ matche mÃ¸nsteret ${s.pattern}`:`Ugyldig ${r[s.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: mÃ¥ vÃ¦re et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente nÃ¸kler":"Ukjent nÃ¸kkel"}: ${ze(i.keys,", ")}`;case"invalid_key":return`Ugyldig nÃ¸kkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function Gct(){return{localeError:Zct()}}const Yct=()=>{const t={string:{unit:"harf",verb:"olmalÄ±dÄ±r"},file:{unit:"bayt",verb:"olmalÄ±dÄ±r"},array:{unit:"unsur",verb:"olmalÄ±dÄ±r"},set:{unit:"unsur",verb:"olmalÄ±dÄ±r"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"giren",email:"epostagÃ¢h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengÃ¢mÄ±",date:"ISO tarihi",time:"ISO zamanÄ±",duration:"ISO mÃ¼ddeti",ipv4:"IPv4 niÅŸÃ¢nÄ±",ipv6:"IPv6 niÅŸÃ¢nÄ±",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ÅŸifreli metin",base64url:"base64url-ÅŸifreli metin",json_string:"JSON metin",e164:"E.164 sayÄ±sÄ±",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`FÃ¢sit giren: umulan ${i.expected}, alÄ±nan ${n(i.input)}`;case"invalid_value":return i.values.length===1?`FÃ¢sit giren: umulan ${Dt(i.values[0])}`:`FÃ¢sit tercih: mÃ»teberler ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Fazla bÃ¼yÃ¼k: ${i.origin??"value"}, ${s}${i.maximum.toString()} ${o.unit??"elements"} sahip olmalÄ±ydÄ±.`:`Fazla bÃ¼yÃ¼k: ${i.origin??"value"}, ${s}${i.maximum.toString()} olmalÄ±ydÄ±.`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Fazla kÃ¼Ã§Ã¼k: ${i.origin}, ${s}${i.minimum.toString()} ${o.unit} sahip olmalÄ±ydÄ±.`:`Fazla kÃ¼Ã§Ã¼k: ${i.origin}, ${s}${i.minimum.toString()} olmalÄ±ydÄ±.`}case"invalid_format":{const s=i;return s.format==="starts_with"?`FÃ¢sit metin: "${s.prefix}" ile baÅŸlamalÄ±.`:s.format==="ends_with"?`FÃ¢sit metin: "${s.suffix}" ile bitmeli.`:s.format==="includes"?`FÃ¢sit metin: "${s.includes}" ihtivÃ¢ etmeli.`:s.format==="regex"?`FÃ¢sit metin: ${s.pattern} nakÅŸÄ±na uymalÄ±.`:`FÃ¢sit ${r[s.format]??i.format}`}case"not_multiple_of":return`FÃ¢sit sayÄ±: ${i.divisor} katÄ± olmalÄ±ydÄ±.`;case"unrecognized_keys":return`TanÄ±nmayan anahtar ${i.keys.length>1?"s":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`${i.origin} iÃ§in tanÄ±nmayan anahtar var.`;case"invalid_union":return"Giren tanÄ±namadÄ±.";case"invalid_element":return`${i.origin} iÃ§in tanÄ±nmayan kÄ±ymet var.`;default:return"KÄ±ymet tanÄ±namadÄ±."}}};function Jct(){return{localeError:Yct()}}const Xct=()=>{const t={string:{unit:"ØªÙˆÚ©ÙŠ",verb:"ÙˆÙ„Ø±ÙŠ"},file:{unit:"Ø¨Ø§ÛŒÙ¼Ø³",verb:"ÙˆÙ„Ø±ÙŠ"},array:{unit:"ØªÙˆÚ©ÙŠ",verb:"ÙˆÙ„Ø±ÙŠ"},set:{unit:"ØªÙˆÚ©ÙŠ",verb:"ÙˆÙ„Ø±ÙŠ"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Ø¹Ø¯Ø¯";case"object":{if(Array.isArray(i))return"Ø§Ø±Û";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"ÙˆØ±ÙˆØ¯ÙŠ",email:"Ø¨Ø±ÛŒÚšÙ†Ø§Ù„ÛŒÚ©",url:"ÛŒÙˆ Ø¢Ø± Ø§Ù„",emoji:"Ø§ÛŒÙ…ÙˆØ¬ÙŠ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"Ù†ÛŒÙ¼Ù‡ Ø§Ùˆ ÙˆØ®Øª",date:"Ù†ÛÙ¼Ù‡",time:"ÙˆØ®Øª",duration:"Ù…ÙˆØ¯Ù‡",ipv4:"Ø¯ IPv4 Ù¾ØªÙ‡",ipv6:"Ø¯ IPv6 Ù¾ØªÙ‡",cidrv4:"Ø¯ IPv4 Ø³Ø§Ø­Ù‡",cidrv6:"Ø¯ IPv6 Ø³Ø§Ø­Ù‡",base64:"base64-encoded Ù…ØªÙ†",base64url:"base64url-encoded Ù…ØªÙ†",json_string:"JSON Ù…ØªÙ†",e164:"Ø¯ E.164 Ø´Ù…ÛØ±Ù‡",jwt:"JWT",template_literal:"ÙˆØ±ÙˆØ¯ÙŠ"};return i=>{switch(i.code){case"invalid_type":return`Ù†Ø§Ø³Ù… ÙˆØ±ÙˆØ¯ÙŠ: Ø¨Ø§ÛŒØ¯ ${i.expected} ÙˆØ§ÛŒ, Ù…Ú«Ø± ${n(i.input)} ØªØ±Ù„Ø§Ø³Ù‡ Ø´Ùˆ`;case"invalid_value":return i.values.length===1?`Ù†Ø§Ø³Ù… ÙˆØ±ÙˆØ¯ÙŠ: Ø¨Ø§ÛŒØ¯ ${Dt(i.values[0])} ÙˆØ§ÛŒ`:`Ù†Ø§Ø³Ù… Ø§Ù†ØªØ®Ø§Ø¨: Ø¨Ø§ÛŒØ¯ ÛŒÙˆ Ù„Ù‡ ${ze(i.values,"|")} Ú…Ø®Ù‡ ÙˆØ§ÛŒ`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Ú‰ÛŒØ± Ù„ÙˆÛŒ: ${i.origin??"Ø§Ø±Ø²ÚšØª"} Ø¨Ø§ÛŒØ¯ ${s}${i.maximum.toString()} ${o.unit??"Ø¹Ù†ØµØ±ÙˆÙ†Ù‡"} ÙˆÙ„Ø±ÙŠ`:`Ú‰ÛŒØ± Ù„ÙˆÛŒ: ${i.origin??"Ø§Ø±Ø²ÚšØª"} Ø¨Ø§ÛŒØ¯ ${s}${i.maximum.toString()} ÙˆÙŠ`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Ú‰ÛŒØ± Ú©ÙˆÚ†Ù†ÛŒ: ${i.origin} Ø¨Ø§ÛŒØ¯ ${s}${i.minimum.toString()} ${o.unit} ÙˆÙ„Ø±ÙŠ`:`Ú‰ÛŒØ± Ú©ÙˆÚ†Ù†ÛŒ: ${i.origin} Ø¨Ø§ÛŒØ¯ ${s}${i.minimum.toString()} ÙˆÙŠ`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ù†Ø§Ø³Ù… Ù…ØªÙ†: Ø¨Ø§ÛŒØ¯ Ø¯ "${s.prefix}" Ø³Ø±Ù‡ Ù¾ÛŒÙ„ Ø´ÙŠ`:s.format==="ends_with"?`Ù†Ø§Ø³Ù… Ù…ØªÙ†: Ø¨Ø§ÛŒØ¯ Ø¯ "${s.suffix}" Ø³Ø±Ù‡ Ù¾Ø§ÛŒ ØªÙ‡ ÙˆØ±Ø³ÙŠÚ–ÙŠ`:s.format==="includes"?`Ù†Ø§Ø³Ù… Ù…ØªÙ†: Ø¨Ø§ÛŒØ¯ "${s.includes}" ÙˆÙ„Ø±ÙŠ`:s.format==="regex"?`Ù†Ø§Ø³Ù… Ù…ØªÙ†: Ø¨Ø§ÛŒØ¯ Ø¯ ${s.pattern} Ø³Ø±Ù‡ Ù…Ø·Ø§Ø¨Ù‚Øª ÙˆÙ„Ø±ÙŠ`:`${r[s.format]??i.format} Ù†Ø§Ø³Ù… Ø¯ÛŒ`}case"not_multiple_of":return`Ù†Ø§Ø³Ù… Ø¹Ø¯Ø¯: Ø¨Ø§ÛŒØ¯ Ø¯ ${i.divisor} Ù…Ø¶Ø±Ø¨ ÙˆÙŠ`;case"unrecognized_keys":return`Ù†Ø§Ø³Ù… ${i.keys.length>1?"Ú©Ù„ÛŒÚ‰ÙˆÙ†Ù‡":"Ú©Ù„ÛŒÚ‰"}: ${ze(i.keys,", ")}`;case"invalid_key":return`Ù†Ø§Ø³Ù… Ú©Ù„ÛŒÚ‰ Ù¾Ù‡ ${i.origin} Ú©Û`;case"invalid_union":return"Ù†Ø§Ø³Ù…Ù‡ ÙˆØ±ÙˆØ¯ÙŠ";case"invalid_element":return`Ù†Ø§Ø³Ù… Ø¹Ù†ØµØ± Ù¾Ù‡ ${i.origin} Ú©Û`;default:return"Ù†Ø§Ø³Ù…Ù‡ ÙˆØ±ÙˆØ¯ÙŠ"}}};function Qct(){return{localeError:Xct()}}const elt=()=>{const t={string:{unit:"znakÃ³w",verb:"mieÄ‡"},file:{unit:"bajtÃ³w",verb:"mieÄ‡"},array:{unit:"elementÃ³w",verb:"mieÄ‡"},set:{unit:"elementÃ³w",verb:"mieÄ‡"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"wyraÅ¼enie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciÄ…g znakÃ³w zakodowany w formacie base64",base64url:"ciÄ…g znakÃ³w zakodowany w formacie base64url",json_string:"ciÄ…g znakÃ³w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejÅ›cie"};return i=>{switch(i.code){case"invalid_type":return`NieprawidÅ‚owe dane wejÅ›ciowe: oczekiwano ${i.expected}, otrzymano ${n(i.input)}`;case"invalid_value":return i.values.length===1?`NieprawidÅ‚owe dane wejÅ›ciowe: oczekiwano ${Dt(i.values[0])}`:`NieprawidÅ‚owa opcja: oczekiwano jednej z wartoÅ›ci ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Za duÅ¼a wartoÅ›Ä‡: oczekiwano, Å¼e ${i.origin??"wartoÅ›Ä‡"} bÄ™dzie mieÄ‡ ${s}${i.maximum.toString()} ${o.unit??"elementÃ³w"}`:`Zbyt duÅ¼(y/a/e): oczekiwano, Å¼e ${i.origin??"wartoÅ›Ä‡"} bÄ™dzie wynosiÄ‡ ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Za maÅ‚a wartoÅ›Ä‡: oczekiwano, Å¼e ${i.origin??"wartoÅ›Ä‡"} bÄ™dzie mieÄ‡ ${s}${i.minimum.toString()} ${o.unit??"elementÃ³w"}`:`Zbyt maÅ‚(y/a/e): oczekiwano, Å¼e ${i.origin??"wartoÅ›Ä‡"} bÄ™dzie wynosiÄ‡ ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`NieprawidÅ‚owy ciÄ…g znakÃ³w: musi zaczynaÄ‡ siÄ™ od "${s.prefix}"`:s.format==="ends_with"?`NieprawidÅ‚owy ciÄ…g znakÃ³w: musi koÅ„czyÄ‡ siÄ™ na "${s.suffix}"`:s.format==="includes"?`NieprawidÅ‚owy ciÄ…g znakÃ³w: musi zawieraÄ‡ "${s.includes}"`:s.format==="regex"?`NieprawidÅ‚owy ciÄ…g znakÃ³w: musi odpowiadaÄ‡ wzorcowi ${s.pattern}`:`NieprawidÅ‚ow(y/a/e) ${r[s.format]??i.format}`}case"not_multiple_of":return`NieprawidÅ‚owa liczba: musi byÄ‡ wielokrotnoÅ›ciÄ… ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`NieprawidÅ‚owy klucz w ${i.origin}`;case"invalid_union":return"NieprawidÅ‚owe dane wejÅ›ciowe";case"invalid_element":return`NieprawidÅ‚owa wartoÅ›Ä‡ w ${i.origin}`;default:return"NieprawidÅ‚owe dane wejÅ›ciowe"}}};function tlt(){return{localeError:elt()}}const nlt=()=>{const t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nÃºmero";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"padrÃ£o",email:"endereÃ§o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duraÃ§Ã£o ISO",ipv4:"endereÃ§o IPv4",ipv6:"endereÃ§o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nÃºmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo invÃ¡lido: esperado ${i.expected}, recebido ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada invÃ¡lida: esperado ${Dt(i.values[0])}`:`OpÃ§Ã£o invÃ¡lida: esperada uma das ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${s}${i.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Muito pequeno: esperado que ${i.origin} tivesse ${s}${i.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Texto invÃ¡lido: deve comeÃ§ar com "${s.prefix}"`:s.format==="ends_with"?`Texto invÃ¡lido: deve terminar com "${s.suffix}"`:s.format==="includes"?`Texto invÃ¡lido: deve incluir "${s.includes}"`:s.format==="regex"?`Texto invÃ¡lido: deve corresponder ao padrÃ£o ${s.pattern}`:`${r[s.format]??i.format} invÃ¡lido`}case"not_multiple_of":return`NÃºmero invÃ¡lido: deve ser mÃºltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`Chave invÃ¡lida em ${i.origin}`;case"invalid_union":return"Entrada invÃ¡lida";case"invalid_element":return`Valor invÃ¡lido em ${i.origin}`;default:return"Campo invÃ¡lido"}}};function rlt(){return{localeError:nlt()}}function pZ(t,e,n,r){const i=Math.abs(t),s=i%10,o=i%100;return o>=11&&o<=19?r:s===1?e:s>=2&&s<=4?n:r}const ilt=()=>{const t={string:{unit:{one:"ÑÐ¸Ð¼Ð²Ð¾Ð»",few:"ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°",many:"ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"},verb:"Ð¸Ð¼ÐµÑ‚ÑŒ"},file:{unit:{one:"Ð±Ð°Ð¹Ñ‚",few:"Ð±Ð°Ð¹Ñ‚Ð°",many:"Ð±Ð°Ð¹Ñ‚"},verb:"Ð¸Ð¼ÐµÑ‚ÑŒ"},array:{unit:{one:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",few:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°",many:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²"},verb:"Ð¸Ð¼ÐµÑ‚ÑŒ"},set:{unit:{one:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",few:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°",many:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²"},verb:"Ð¸Ð¼ÐµÑ‚ÑŒ"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Ñ‡Ð¸ÑÐ»Ð¾";case"object":{if(Array.isArray(i))return"Ð¼Ð°ÑÑÐ¸Ð²";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"Ð²Ð²Ð¾Ð´",email:"email Ð°Ð´Ñ€ÐµÑ",url:"URL",emoji:"ÑÐ¼Ð¾Ð´Ð·Ð¸",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Ð´Ð°Ñ‚Ð° Ð¸ Ð²Ñ€ÐµÐ¼Ñ",date:"ISO Ð´Ð°Ñ‚Ð°",time:"ISO Ð²Ñ€ÐµÐ¼Ñ",duration:"ISO Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ",ipv4:"IPv4 Ð°Ð´Ñ€ÐµÑ",ipv6:"IPv6 Ð°Ð´Ñ€ÐµÑ",cidrv4:"IPv4 Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½",cidrv6:"IPv6 Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½",base64:"ÑÑ‚Ñ€Ð¾ÐºÐ° Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ base64",base64url:"ÑÑ‚Ñ€Ð¾ÐºÐ° Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ base64url",json_string:"JSON ÑÑ‚Ñ€Ð¾ÐºÐ°",e164:"Ð½Ð¾Ð¼ÐµÑ€ E.164",jwt:"JWT",template_literal:"Ð²Ð²Ð¾Ð´"};return i=>{switch(i.code){case"invalid_type":return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ ${i.expected}, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ ${Dt(i.values[0])}`:`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ Ð¾Ð´Ð½Ð¾ Ð¸Ð· ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);if(o){const a=Number(i.maximum),c=pZ(a,o.unit.one,o.unit.few,o.unit.many);return`Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ${i.origin??"Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ"} Ð±ÑƒÐ´ÐµÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ ${s}${i.maximum.toString()} ${c}`}return`Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ${i.origin??"Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ"} Ð±ÑƒÐ´ÐµÑ‚ ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);if(o){const a=Number(i.minimum),c=pZ(a,o.unit.one,o.unit.few,o.unit.many);return`Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ${i.origin} Ð±ÑƒÐ´ÐµÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ ${s}${i.minimum.toString()} ${c}`}return`Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ${i.origin} Ð±ÑƒÐ´ÐµÑ‚ ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð´Ð¾Ð»Ð¶Ð½Ð° Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒÑÑ Ñ "${s.prefix}"`:s.format==="ends_with"?`ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð´Ð¾Ð»Ð¶Ð½Ð° Ð·Ð°ÐºÐ°Ð½Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° "${s.suffix}"`:s.format==="includes"?`ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð´Ð¾Ð»Ð¶Ð½Ð° ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ "${s.includes}"`:s.format==="regex"?`ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð´Ð¾Ð»Ð¶Ð½Ð° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñƒ ${s.pattern}`:`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ ${r[s.format]??i.format}`}case"not_multiple_of":return`ÐÐµÐ²ÐµÑ€Ð½Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾: Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ ÐºÑ€Ð°Ñ‚Ð½Ñ‹Ð¼ ${i.divisor}`;case"unrecognized_keys":return`ÐÐµÑ€Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ð½Ð½${i.keys.length>1?"Ñ‹Ðµ":"Ñ‹Ð¹"} ÐºÐ»ÑŽÑ‡${i.keys.length>1?"Ð¸":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð² ${i.origin}`;case"invalid_union":return"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ";case"invalid_element":return`ÐÐµÐ²ÐµÑ€Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð² ${i.origin}`;default:return"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ"}}};function slt(){return{localeError:ilt()}}const olt=()=>{const t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Å¡tevilo";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"vnos",email:"e-poÅ¡tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in Äas",date:"ISO datum",time:"ISO Äas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 Å¡tevilka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: priÄakovano ${i.expected}, prejeto ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: priÄakovano ${Dt(i.values[0])}`:`Neveljavna moÅ¾nost: priÄakovano eno izmed ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Preveliko: priÄakovano, da bo ${i.origin??"vrednost"} imelo ${s}${i.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: priÄakovano, da bo ${i.origin??"vrednost"} ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Premajhno: priÄakovano, da bo ${i.origin} imelo ${s}${i.minimum.toString()} ${o.unit}`:`Premajhno: priÄakovano, da bo ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Neveljaven niz: mora se zaÄeti z "${s.prefix}"`:s.format==="ends_with"?`Neveljaven niz: mora se konÄati z "${s.suffix}"`:s.format==="includes"?`Neveljaven niz: mora vsebovati "${s.includes}"`:s.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${s.pattern}`:`Neveljaven ${r[s.format]??i.format}`}case"not_multiple_of":return`Neveljavno Å¡tevilo: mora biti veÄkratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i kljuÄi":" kljuÄ"}: ${ze(i.keys,", ")}`;case"invalid_key":return`Neveljaven kljuÄ v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function alt(){return{localeError:olt()}}const clt=()=>{const t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehÃ¥lla"},set:{unit:"objekt",verb:"att innehÃ¥lla"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"reguljÃ¤rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strÃ¤ng",base64url:"base64url-kodad strÃ¤ng",json_string:"JSON-strÃ¤ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: fÃ¶rvÃ¤ntat ${i.expected}, fick ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: fÃ¶rvÃ¤ntat ${Dt(i.values[0])}`:`Ogiltigt val: fÃ¶rvÃ¤ntade en av ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`FÃ¶r stor(t): fÃ¶rvÃ¤ntade ${i.origin??"vÃ¤rdet"} att ha ${s}${i.maximum.toString()} ${o.unit??"element"}`:`FÃ¶r stor(t): fÃ¶rvÃ¤ntat ${i.origin??"vÃ¤rdet"} att ha ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`FÃ¶r lite(t): fÃ¶rvÃ¤ntade ${i.origin??"vÃ¤rdet"} att ha ${s}${i.minimum.toString()} ${o.unit}`:`FÃ¶r lite(t): fÃ¶rvÃ¤ntade ${i.origin??"vÃ¤rdet"} att ha ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Ogiltig strÃ¤ng: mÃ¥ste bÃ¶rja med "${s.prefix}"`:s.format==="ends_with"?`Ogiltig strÃ¤ng: mÃ¥ste sluta med "${s.suffix}"`:s.format==="includes"?`Ogiltig strÃ¤ng: mÃ¥ste innehÃ¥lla "${s.includes}"`:s.format==="regex"?`Ogiltig strÃ¤ng: mÃ¥ste matcha mÃ¶nstret "${s.pattern}"`:`Ogiltig(t) ${r[s.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: mÃ¥ste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"OkÃ¤nda nycklar":"OkÃ¤nd nyckel"}: ${ze(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"vÃ¤rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vÃ¤rde i ${i.origin??"vÃ¤rdet"}`;default:return"Ogiltig input"}}};function llt(){return{localeError:clt()}}const ult=()=>{const t={string:{unit:"à®Žà®´à¯à®¤à¯à®¤à¯à®•à¯à®•à®³à¯",verb:"à®•à¯Šà®£à¯à®Ÿà®¿à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯"},file:{unit:"à®ªà¯ˆà®Ÿà¯à®Ÿà¯à®•à®³à¯",verb:"à®•à¯Šà®£à¯à®Ÿà®¿à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯"},array:{unit:"à®‰à®±à¯à®ªà¯à®ªà¯à®•à®³à¯",verb:"à®•à¯Šà®£à¯à®Ÿà®¿à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯"},set:{unit:"à®‰à®±à¯à®ªà¯à®ªà¯à®•à®³à¯",verb:"à®•à¯Šà®£à¯à®Ÿà®¿à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"à®Žà®£à¯ à®…à®²à¯à®²à®¾à®¤à®¤à¯":"à®Žà®£à¯";case"object":{if(Array.isArray(i))return"à®…à®£à®¿";if(i===null)return"à®µà¯†à®±à¯à®®à¯ˆ";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"à®‰à®³à¯à®³à¯€à®Ÿà¯",email:"à®®à®¿à®©à¯à®©à®žà¯à®šà®²à¯ à®®à¯à®•à®µà®°à®¿",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO à®¤à¯‡à®¤à®¿ à®¨à¯‡à®°à®®à¯",date:"ISO à®¤à¯‡à®¤à®¿",time:"ISO à®¨à¯‡à®°à®®à¯",duration:"ISO à®•à®¾à®² à®…à®³à®µà¯",ipv4:"IPv4 à®®à¯à®•à®µà®°à®¿",ipv6:"IPv6 à®®à¯à®•à®µà®°à®¿",cidrv4:"IPv4 à®µà®°à®®à¯à®ªà¯",cidrv6:"IPv6 à®µà®°à®®à¯à®ªà¯",base64:"base64-encoded à®šà®°à®®à¯",base64url:"base64url-encoded à®šà®°à®®à¯",json_string:"JSON à®šà®°à®®à¯",e164:"E.164 à®Žà®£à¯",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${i.expected}, à®ªà¯†à®±à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${Dt(i.values[0])}`:`à®¤à®µà®±à®¾à®© à®µà®¿à®°à¯à®ªà¯à®ªà®®à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${ze(i.values,"|")} à®‡à®²à¯ à®’à®©à¯à®±à¯`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`à®®à®¿à®• à®ªà¯†à®°à®¿à®¯à®¤à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${i.origin??"à®®à®¤à®¿à®ªà¯à®ªà¯"} ${s}${i.maximum.toString()} ${o.unit??"à®‰à®±à¯à®ªà¯à®ªà¯à®•à®³à¯"} à®†à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`:`à®®à®¿à®• à®ªà¯†à®°à®¿à®¯à®¤à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${i.origin??"à®®à®¤à®¿à®ªà¯à®ªà¯"} ${s}${i.maximum.toString()} à®†à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`à®®à®¿à®•à®šà¯ à®šà®¿à®±à®¿à®¯à®¤à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${i.origin} ${s}${i.minimum.toString()} ${o.unit} à®†à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`:`à®®à®¿à®•à®šà¯ à®šà®¿à®±à®¿à®¯à®¤à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${i.origin} ${s}${i.minimum.toString()} à®†à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`}case"invalid_format":{const s=i;return s.format==="starts_with"?`à®¤à®µà®±à®¾à®© à®šà®°à®®à¯: "${s.prefix}" à®‡à®²à¯ à®¤à¯Šà®Ÿà®™à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`:s.format==="ends_with"?`à®¤à®µà®±à®¾à®© à®šà®°à®®à¯: "${s.suffix}" à®‡à®²à¯ à®®à¯à®Ÿà®¿à®µà®Ÿà¯ˆà®¯ à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`:s.format==="includes"?`à®¤à®µà®±à®¾à®© à®šà®°à®®à¯: "${s.includes}" à® à®‰à®³à¯à®³à®Ÿà®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`:s.format==="regex"?`à®¤à®µà®±à®¾à®© à®šà®°à®®à¯: ${s.pattern} à®®à¯à®±à¯ˆà®ªà®¾à®Ÿà¯à®Ÿà¯à®Ÿà®©à¯ à®ªà¯Šà®°à¯à®¨à¯à®¤ à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`:`à®¤à®µà®±à®¾à®© ${r[s.format]??i.format}`}case"not_multiple_of":return`à®¤à®µà®±à®¾à®© à®Žà®£à¯: ${i.divisor} à®‡à®©à¯ à®ªà®²à®®à®¾à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`;case"unrecognized_keys":return`à®…à®Ÿà¯ˆà®¯à®¾à®³à®®à¯ à®¤à¯†à®°à®¿à®¯à®¾à®¤ à®µà®¿à®šà¯ˆ${i.keys.length>1?"à®•à®³à¯":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`${i.origin} à®‡à®²à¯ à®¤à®µà®±à®¾à®© à®µà®¿à®šà¯ˆ`;case"invalid_union":return"à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯";case"invalid_element":return`${i.origin} à®‡à®²à¯ à®¤à®µà®±à®¾à®© à®®à®¤à®¿à®ªà¯à®ªà¯`;default:return"à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯"}}};function dlt(){return{localeError:ult()}}const hlt=()=>{const t={string:{unit:"à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£",verb:"à¸„à¸§à¸£à¸¡à¸µ"},file:{unit:"à¹„à¸šà¸•à¹Œ",verb:"à¸„à¸§à¸£à¸¡à¸µ"},array:{unit:"à¸£à¸²à¸¢à¸à¸²à¸£",verb:"à¸„à¸§à¸£à¸¡à¸µ"},set:{unit:"à¸£à¸²à¸¢à¸à¸²à¸£",verb:"à¸„à¸§à¸£à¸¡à¸µ"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆà¸•à¸±à¸§à¹€à¸¥à¸‚ (NaN)":"à¸•à¸±à¸§à¹€à¸¥à¸‚";case"object":{if(Array.isArray(i))return"à¸­à¸²à¸£à¹Œà¹€à¸£à¸¢à¹Œ (Array)";if(i===null)return"à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¹ˆà¸² (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸›à¹‰à¸­à¸™",email:"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¸­à¸µà¹€à¸¡à¸¥",url:"URL",emoji:"à¸­à¸´à¹‚à¸¡à¸ˆà¸´",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹€à¸§à¸¥à¸²à¹à¸šà¸š ISO",date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹à¸šà¸š ISO",time:"à¹€à¸§à¸¥à¸²à¹à¸šà¸š ISO",duration:"à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¹à¸šà¸š ISO",ipv4:"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ IPv4",ipv6:"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ IPv6",cidrv4:"à¸Šà¹ˆà¸§à¸‡ IP à¹à¸šà¸š IPv4",cidrv6:"à¸Šà¹ˆà¸§à¸‡ IP à¹à¸šà¸š IPv6",base64:"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸šà¸š Base64",base64url:"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸šà¸š Base64 à¸ªà¸³à¸«à¸£à¸±à¸š URL",json_string:"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸šà¸š JSON",e164:"à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸›à¸£à¸°à¹€à¸—à¸¨ (E.164)",jwt:"à¹‚à¸—à¹€à¸„à¸™ JWT",template_literal:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸›à¹‰à¸­à¸™"};return i=>{switch(i.code){case"invalid_type":return`à¸›à¸£à¸°à¹€à¸ à¸—à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸„à¸§à¸£à¹€à¸›à¹‡à¸™ ${i.expected} à¹à¸•à¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š ${n(i.input)}`;case"invalid_value":return i.values.length===1?`à¸„à¹ˆà¸²à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸„à¸§à¸£à¹€à¸›à¹‡à¸™ ${Dt(i.values[0])}`:`à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸„à¸§à¸£à¹€à¸›à¹‡à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¹ƒà¸™ ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™":"à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²",o=e(i.origin);return o?`à¹€à¸à¸´à¸™à¸à¸³à¸«à¸™à¸”: ${i.origin??"à¸„à¹ˆà¸²"} à¸„à¸§à¸£à¸¡à¸µ${s} ${i.maximum.toString()} ${o.unit??"à¸£à¸²à¸¢à¸à¸²à¸£"}`:`à¹€à¸à¸´à¸™à¸à¸³à¸«à¸™à¸”: ${i.origin??"à¸„à¹ˆà¸²"} à¸„à¸§à¸£à¸¡à¸µ${s} ${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?"à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢":"à¸¡à¸²à¸à¸à¸§à¹ˆà¸²",o=e(i.origin);return o?`à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²à¸à¸³à¸«à¸™à¸”: ${i.origin} à¸„à¸§à¸£à¸¡à¸µ${s} ${i.minimum.toString()} ${o.unit}`:`à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²à¸à¸³à¸«à¸™à¸”: ${i.origin} à¸„à¸§à¸£à¸¡à¸µ${s} ${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸‚à¸¶à¹‰à¸™à¸•à¹‰à¸™à¸”à¹‰à¸§à¸¢ "${s.prefix}"`:s.format==="ends_with"?`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸¥à¸‡à¸—à¹‰à¸²à¸¢à¸”à¹‰à¸§à¸¢ "${s.suffix}"`:s.format==="includes"?`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸¡à¸µ "${s.includes}" à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡`:s.format==="regex"?`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸•à¹‰à¸­à¸‡à¸•à¸£à¸‡à¸à¸±à¸šà¸£à¸¹à¸›à¹à¸šà¸šà¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸” ${s.pattern}`:`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: ${r[s.format]??i.format}`}case"not_multiple_of":return`à¸•à¸±à¸§à¹€à¸¥à¸‚à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸•à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¸—à¸µà¹ˆà¸«à¸²à¸£à¸”à¹‰à¸§à¸¢ ${i.divisor} à¹„à¸”à¹‰à¸¥à¸‡à¸•à¸±à¸§`;case"unrecognized_keys":return`à¸žà¸šà¸„à¸µà¸¢à¹Œà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸£à¸¹à¹‰à¸ˆà¸±à¸: ${ze(i.keys,", ")}`;case"invalid_key":return`à¸„à¸µà¸¢à¹Œà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹ƒà¸™ ${i.origin}`;case"invalid_union":return"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¹„à¸¡à¹ˆà¸•à¸£à¸‡à¸à¸±à¸šà¸£à¸¹à¸›à¹à¸šà¸šà¸¢à¸¹à¹€à¸™à¸µà¸¢à¸™à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸”à¹„à¸§à¹‰";case"invalid_element":return`à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹ƒà¸™ ${i.origin}`;default:return"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡"}}};function plt(){return{localeError:hlt()}}const flt=t=>{const e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},glt=()=>{const t={string:{unit:"karakter",verb:"olmalÄ±"},file:{unit:"bayt",verb:"olmalÄ±"},array:{unit:"Ã¶ÄŸe",verb:"olmalÄ±"},set:{unit:"Ã¶ÄŸe",verb:"olmalÄ±"}};function e(r){return t[r]??null}const n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sÃ¼re",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralÄ±ÄŸÄ±",cidrv6:"IPv6 aralÄ±ÄŸÄ±",base64:"base64 ile ÅŸifrelenmiÅŸ metin",base64url:"base64url ile ÅŸifrelenmiÅŸ metin",json_string:"JSON dizesi",e164:"E.164 sayÄ±sÄ±",jwt:"JWT",template_literal:"Åžablon dizesi"};return r=>{switch(r.code){case"invalid_type":return`GeÃ§ersiz deÄŸer: beklenen ${r.expected}, alÄ±nan ${flt(r.input)}`;case"invalid_value":return r.values.length===1?`GeÃ§ersiz deÄŸer: beklenen ${Dt(r.values[0])}`:`GeÃ§ersiz seÃ§enek: aÅŸaÄŸÄ±dakilerden biri olmalÄ±: ${ze(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",s=e(r.origin);return s?`Ã‡ok bÃ¼yÃ¼k: beklenen ${r.origin??"deÄŸer"} ${i}${r.maximum.toString()} ${s.unit??"Ã¶ÄŸe"}`:`Ã‡ok bÃ¼yÃ¼k: beklenen ${r.origin??"deÄŸer"} ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",s=e(r.origin);return s?`Ã‡ok kÃ¼Ã§Ã¼k: beklenen ${r.origin} ${i}${r.minimum.toString()} ${s.unit}`:`Ã‡ok kÃ¼Ã§Ã¼k: beklenen ${r.origin} ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`GeÃ§ersiz metin: "${i.prefix}" ile baÅŸlamalÄ±`:i.format==="ends_with"?`GeÃ§ersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`GeÃ§ersiz metin: "${i.includes}" iÃ§ermeli`:i.format==="regex"?`GeÃ§ersiz metin: ${i.pattern} desenine uymalÄ±`:`GeÃ§ersiz ${n[i.format]??r.format}`}case"not_multiple_of":return`GeÃ§ersiz sayÄ±: ${r.divisor} ile tam bÃ¶lÃ¼nebilmeli`;case"unrecognized_keys":return`TanÄ±nmayan anahtar${r.keys.length>1?"lar":""}: ${ze(r.keys,", ")}`;case"invalid_key":return`${r.origin} iÃ§inde geÃ§ersiz anahtar`;case"invalid_union":return"GeÃ§ersiz deÄŸer";case"invalid_element":return`${r.origin} iÃ§inde geÃ§ersiz deÄŸer`;default:return"GeÃ§ersiz deÄŸer"}}};function mlt(){return{localeError:glt()}}const wlt=()=>{const t={string:{unit:"ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ–Ð²",verb:"Ð¼Ð°Ñ‚Ð¸Ð¼Ðµ"},file:{unit:"Ð±Ð°Ð¹Ñ‚Ñ–Ð²",verb:"Ð¼Ð°Ñ‚Ð¸Ð¼Ðµ"},array:{unit:"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ–Ð²",verb:"Ð¼Ð°Ñ‚Ð¸Ð¼Ðµ"},set:{unit:"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ–Ð²",verb:"Ð¼Ð°Ñ‚Ð¸Ð¼Ðµ"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Ñ‡Ð¸ÑÐ»Ð¾";case"object":{if(Array.isArray(i))return"Ð¼Ð°ÑÐ¸Ð²";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–",email:"Ð°Ð´Ñ€ÐµÑÐ° ÐµÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ñ— Ð¿Ð¾ÑˆÑ‚Ð¸",url:"URL",emoji:"ÐµÐ¼Ð¾Ð´Ð·Ñ–",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"Ð´Ð°Ñ‚Ð° Ñ‚Ð° Ñ‡Ð°Ñ ISO",date:"Ð´Ð°Ñ‚Ð° ISO",time:"Ñ‡Ð°Ñ ISO",duration:"Ñ‚Ñ€Ð¸Ð²Ð°Ð»Ñ–ÑÑ‚ÑŒ ISO",ipv4:"Ð°Ð´Ñ€ÐµÑÐ° IPv4",ipv6:"Ð°Ð´Ñ€ÐµÑÐ° IPv6",cidrv4:"Ð´Ñ–Ð°Ð¿Ð°Ð·Ð¾Ð½ IPv4",cidrv6:"Ð´Ñ–Ð°Ð¿Ð°Ð·Ð¾Ð½ IPv6",base64:"Ñ€ÑÐ´Ð¾Ðº Ñƒ ÐºÐ¾Ð´ÑƒÐ²Ð°Ð½Ð½Ñ– base64",base64url:"Ñ€ÑÐ´Ð¾Ðº Ñƒ ÐºÐ¾Ð´ÑƒÐ²Ð°Ð½Ð½Ñ– base64url",json_string:"Ñ€ÑÐ´Ð¾Ðº JSON",e164:"Ð½Ð¾Ð¼ÐµÑ€ E.164",jwt:"JWT",template_literal:"Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–"};return i=>{switch(i.code){case"invalid_type":return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ ${i.expected}, Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ ${Dt(i.values[0])}`:`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð° Ð¾Ð¿Ñ†Ñ–Ñ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ Ð¾Ð´Ð½Ðµ Ð· ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð²ÐµÐ»Ð¸ÐºÐµ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ñ‰Ð¾ ${i.origin??"Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ–Ð²"}`:`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð²ÐµÐ»Ð¸ÐºÐµ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ñ‰Ð¾ ${i.origin??"Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ"} Ð±ÑƒÐ´Ðµ ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð¼Ð°Ð»Ðµ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ñ‰Ð¾ ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð¼Ð°Ð»Ðµ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ñ‰Ð¾ ${i.origin} Ð±ÑƒÐ´Ðµ ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº: Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð¿Ð¾Ñ‡Ð¸Ð½Ð°Ñ‚Ð¸ÑÑ Ð· "${s.prefix}"`:s.format==="ends_with"?`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº: Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð·Ð°ÐºÑ–Ð½Ñ‡ÑƒÐ²Ð°Ñ‚Ð¸ÑÑ Ð½Ð° "${s.suffix}"`:s.format==="includes"?`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº: Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð¼Ñ–ÑÑ‚Ð¸Ñ‚Ð¸ "${s.includes}"`:s.format==="regex"?`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº: Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ñ‚Ð¸ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñƒ ${s.pattern}`:`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ ${r[s.format]??i.format}`}case"not_multiple_of":return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ðµ Ñ‡Ð¸ÑÐ»Ð¾: Ð¿Ð¾Ð²Ð¸Ð½Ð½Ð¾ Ð±ÑƒÑ‚Ð¸ ÐºÑ€Ð°Ñ‚Ð½Ð¸Ð¼ ${i.divisor}`;case"unrecognized_keys":return`ÐÐµÑ€Ð¾Ð·Ð¿Ñ–Ð·Ð½Ð°Ð½Ð¸Ð¹ ÐºÐ»ÑŽÑ‡${i.keys.length>1?"Ñ–":""}: ${ze(i.keys,", ")}`;case"invalid_key":return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ ÐºÐ»ÑŽÑ‡ Ñƒ ${i.origin}`;case"invalid_union":return"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–";case"invalid_element":return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ Ñƒ ${i.origin}`;default:return"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–"}}};function xde(){return{localeError:wlt()}}function ylt(){return xde()}const blt=()=>{const t={string:{unit:"Ø­Ø±ÙˆÙ",verb:"ÛÙˆÙ†Ø§"},file:{unit:"Ø¨Ø§Ø¦Ù¹Ø³",verb:"ÛÙˆÙ†Ø§"},array:{unit:"Ø¢Ø¦Ù¹Ù…Ø²",verb:"ÛÙˆÙ†Ø§"},set:{unit:"Ø¢Ø¦Ù¹Ù…Ø²",verb:"ÛÙˆÙ†Ø§"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Ù†Ù…Ø¨Ø±";case"object":{if(Array.isArray(i))return"Ø¢Ø±Û’";if(i===null)return"Ù†Ù„";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"Ø§Ù† Ù¾Ù¹",email:"Ø§ÛŒ Ù…ÛŒÙ„ Ø§ÛŒÚˆØ±ÛŒØ³",url:"ÛŒÙˆ Ø¢Ø± Ø§ÛŒÙ„",emoji:"Ø§ÛŒÙ…ÙˆØ¬ÛŒ",uuid:"ÛŒÙˆ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",uuidv4:"ÛŒÙˆ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ ÙˆÛŒ 4",uuidv6:"ÛŒÙˆ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ ÙˆÛŒ 6",nanoid:"Ù†ÛŒÙ†Ùˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",guid:"Ø¬ÛŒ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",cuid:"Ø³ÛŒ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",cuid2:"Ø³ÛŒ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ 2",ulid:"ÛŒÙˆ Ø§ÛŒÙ„ Ø¢Ø¦ÛŒ ÚˆÛŒ",xid:"Ø§ÛŒÚ©Ø³ Ø¢Ø¦ÛŒ ÚˆÛŒ",ksuid:"Ú©Û’ Ø§ÛŒØ³ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",datetime:"Ø¢Ø¦ÛŒ Ø§ÛŒØ³ Ø§Ùˆ ÚˆÛŒÙ¹ Ù¹Ø§Ø¦Ù…",date:"Ø¢Ø¦ÛŒ Ø§ÛŒØ³ Ø§Ùˆ ØªØ§Ø±ÛŒØ®",time:"Ø¢Ø¦ÛŒ Ø§ÛŒØ³ Ø§Ùˆ ÙˆÙ‚Øª",duration:"Ø¢Ø¦ÛŒ Ø§ÛŒØ³ Ø§Ùˆ Ù…Ø¯Øª",ipv4:"Ø¢Ø¦ÛŒ Ù¾ÛŒ ÙˆÛŒ 4 Ø§ÛŒÚˆØ±ÛŒØ³",ipv6:"Ø¢Ø¦ÛŒ Ù¾ÛŒ ÙˆÛŒ 6 Ø§ÛŒÚˆØ±ÛŒØ³",cidrv4:"Ø¢Ø¦ÛŒ Ù¾ÛŒ ÙˆÛŒ 4 Ø±ÛŒÙ†Ø¬",cidrv6:"Ø¢Ø¦ÛŒ Ù¾ÛŒ ÙˆÛŒ 6 Ø±ÛŒÙ†Ø¬",base64:"Ø¨ÛŒØ³ 64 Ø§Ù† Ú©ÙˆÚˆÚˆ Ø³Ù¹Ø±Ù†Ú¯",base64url:"Ø¨ÛŒØ³ 64 ÛŒÙˆ Ø¢Ø± Ø§ÛŒÙ„ Ø§Ù† Ú©ÙˆÚˆÚˆ Ø³Ù¹Ø±Ù†Ú¯",json_string:"Ø¬Û’ Ø§ÛŒØ³ Ø§Ùˆ Ø§ÛŒÙ† Ø³Ù¹Ø±Ù†Ú¯",e164:"Ø§ÛŒ 164 Ù†Ù…Ø¨Ø±",jwt:"Ø¬Û’ ÚˆØ¨Ù„ÛŒÙˆ Ù¹ÛŒ",template_literal:"Ø§Ù† Ù¾Ù¹"};return i=>{switch(i.code){case"invalid_type":return`ØºÙ„Ø· Ø§Ù† Ù¾Ù¹: ${i.expected} Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§ØŒ ${n(i.input)} Ù…ÙˆØµÙˆÙ„ ÛÙˆØ§`;case"invalid_value":return i.values.length===1?`ØºÙ„Ø· Ø§Ù† Ù¾Ù¹: ${Dt(i.values[0])} Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§`:`ØºÙ„Ø· Ø¢Ù¾Ø´Ù†: ${ze(i.values,"|")} Ù…ÛŒÚº Ø³Û’ Ø§ÛŒÚ© Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`Ø¨ÛØª Ø¨Ú‘Ø§: ${i.origin??"ÙˆÛŒÙ„ÛŒÙˆ"} Ú©Û’ ${s}${i.maximum.toString()} ${o.unit??"Ø¹Ù†Ø§ØµØ±"} ÛÙˆÙ†Û’ Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Û’`:`Ø¨ÛØª Ø¨Ú‘Ø§: ${i.origin??"ÙˆÛŒÙ„ÛŒÙˆ"} Ú©Ø§ ${s}${i.maximum.toString()} ÛÙˆÙ†Ø§ Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`Ø¨ÛØª Ú†Ú¾ÙˆÙ¹Ø§: ${i.origin} Ú©Û’ ${s}${i.minimum.toString()} ${o.unit} ÛÙˆÙ†Û’ Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Û’`:`Ø¨ÛØª Ú†Ú¾ÙˆÙ¹Ø§: ${i.origin} Ú©Ø§ ${s}${i.minimum.toString()} ÛÙˆÙ†Ø§ Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ØºÙ„Ø· Ø³Ù¹Ø±Ù†Ú¯: "${s.prefix}" Ø³Û’ Ø´Ø±ÙˆØ¹ ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`:s.format==="ends_with"?`ØºÙ„Ø· Ø³Ù¹Ø±Ù†Ú¯: "${s.suffix}" Ù¾Ø± Ø®ØªÙ… ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`:s.format==="includes"?`ØºÙ„Ø· Ø³Ù¹Ø±Ù†Ú¯: "${s.includes}" Ø´Ø§Ù…Ù„ ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`:s.format==="regex"?`ØºÙ„Ø· Ø³Ù¹Ø±Ù†Ú¯: Ù¾ÛŒÙ¹Ø±Ù† ${s.pattern} Ø³Û’ Ù…ÛŒÚ† ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`:`ØºÙ„Ø· ${r[s.format]??i.format}`}case"not_multiple_of":return`ØºÙ„Ø· Ù†Ù…Ø¨Ø±: ${i.divisor} Ú©Ø§ Ù…Ø¶Ø§Ø¹Ù ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`;case"unrecognized_keys":return`ØºÛŒØ± ØªØ³Ù„ÛŒÙ… Ø´Ø¯Û Ú©ÛŒ${i.keys.length>1?"Ø²":""}: ${ze(i.keys,"ØŒ ")}`;case"invalid_key":return`${i.origin} Ù…ÛŒÚº ØºÙ„Ø· Ú©ÛŒ`;case"invalid_union":return"ØºÙ„Ø· Ø§Ù† Ù¾Ù¹";case"invalid_element":return`${i.origin} Ù…ÛŒÚº ØºÙ„Ø· ÙˆÛŒÙ„ÛŒÙˆ`;default:return"ØºÙ„Ø· Ø§Ù† Ù¾Ù¹"}}};function vlt(){return{localeError:blt()}}const Elt=()=>{const t={string:{unit:"kÃ½ tá»±",verb:"cÃ³"},file:{unit:"byte",verb:"cÃ³"},array:{unit:"pháº§n tá»­",verb:"cÃ³"},set:{unit:"pháº§n tá»­",verb:"cÃ³"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"sá»‘";case"object":{if(Array.isArray(i))return"máº£ng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"Ä‘áº§u vÃ o",email:"Ä‘á»‹a chá»‰ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngÃ y giá» ISO",date:"ngÃ y ISO",time:"giá» ISO",duration:"khoáº£ng thá»i gian ISO",ipv4:"Ä‘á»‹a chá»‰ IPv4",ipv6:"Ä‘á»‹a chá»‰ IPv6",cidrv4:"dáº£i IPv4",cidrv6:"dáº£i IPv6",base64:"chuá»—i mÃ£ hÃ³a base64",base64url:"chuá»—i mÃ£ hÃ³a base64url",json_string:"chuá»—i JSON",e164:"sá»‘ E.164",jwt:"JWT",template_literal:"Ä‘áº§u vÃ o"};return i=>{switch(i.code){case"invalid_type":return`Äáº§u vÃ o khÃ´ng há»£p lá»‡: mong Ä‘á»£i ${i.expected}, nháº­n Ä‘Æ°á»£c ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Äáº§u vÃ o khÃ´ng há»£p lá»‡: mong Ä‘á»£i ${Dt(i.values[0])}`:`TÃ¹y chá»n khÃ´ng há»£p lá»‡: mong Ä‘á»£i má»™t trong cÃ¡c giÃ¡ trá»‹ ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`QuÃ¡ lá»›n: mong Ä‘á»£i ${i.origin??"giÃ¡ trá»‹"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"pháº§n tá»­"}`:`QuÃ¡ lá»›n: mong Ä‘á»£i ${i.origin??"giÃ¡ trá»‹"} ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`QuÃ¡ nhá»: mong Ä‘á»£i ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`QuÃ¡ nhá»: mong Ä‘á»£i ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`Chuá»—i khÃ´ng há»£p lá»‡: pháº£i báº¯t Ä‘áº§u báº±ng "${s.prefix}"`:s.format==="ends_with"?`Chuá»—i khÃ´ng há»£p lá»‡: pháº£i káº¿t thÃºc báº±ng "${s.suffix}"`:s.format==="includes"?`Chuá»—i khÃ´ng há»£p lá»‡: pháº£i bao gá»“m "${s.includes}"`:s.format==="regex"?`Chuá»—i khÃ´ng há»£p lá»‡: pháº£i khá»›p vá»›i máº«u ${s.pattern}`:`${r[s.format]??i.format} khÃ´ng há»£p lá»‡`}case"not_multiple_of":return`Sá»‘ khÃ´ng há»£p lá»‡: pháº£i lÃ  bá»™i sá»‘ cá»§a ${i.divisor}`;case"unrecognized_keys":return`KhÃ³a khÃ´ng Ä‘Æ°á»£c nháº­n dáº¡ng: ${ze(i.keys,", ")}`;case"invalid_key":return`KhÃ³a khÃ´ng há»£p lá»‡ trong ${i.origin}`;case"invalid_union":return"Äáº§u vÃ o khÃ´ng há»£p lá»‡";case"invalid_element":return`GiÃ¡ trá»‹ khÃ´ng há»£p lá»‡ trong ${i.origin}`;default:return"Äáº§u vÃ o khÃ´ng há»£p lá»‡"}}};function Clt(){return{localeError:Elt()}}const _lt=()=>{const t={string:{unit:"å­—ç¬¦",verb:"åŒ…å«"},file:{unit:"å­—èŠ‚",verb:"åŒ…å«"},array:{unit:"é¡¹",verb:"åŒ…å«"},set:{unit:"é¡¹",verb:"åŒ…å«"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"éžæ•°å­—(NaN)":"æ•°å­—";case"object":{if(Array.isArray(i))return"æ•°ç»„";if(i===null)return"ç©ºå€¼(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"è¾“å…¥",email:"ç”µå­é‚®ä»¶",url:"URL",emoji:"è¡¨æƒ…ç¬¦å·",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISOæ—¥æœŸæ—¶é—´",date:"ISOæ—¥æœŸ",time:"ISOæ—¶é—´",duration:"ISOæ—¶é•¿",ipv4:"IPv4åœ°å€",ipv6:"IPv6åœ°å€",cidrv4:"IPv4ç½‘æ®µ",cidrv6:"IPv6ç½‘æ®µ",base64:"base64ç¼–ç å­—ç¬¦ä¸²",base64url:"base64urlç¼–ç å­—ç¬¦ä¸²",json_string:"JSONå­—ç¬¦ä¸²",e164:"E.164å·ç ",jwt:"JWT",template_literal:"è¾“å…¥"};return i=>{switch(i.code){case"invalid_type":return`æ— æ•ˆè¾“å…¥ï¼šæœŸæœ› ${i.expected}ï¼Œå®žé™…æŽ¥æ”¶ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`æ— æ•ˆè¾“å…¥ï¼šæœŸæœ› ${Dt(i.values[0])}`:`æ— æ•ˆé€‰é¡¹ï¼šæœŸæœ›ä»¥ä¸‹ä¹‹ä¸€ ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`æ•°å€¼è¿‡å¤§ï¼šæœŸæœ› ${i.origin??"å€¼"} ${s}${i.maximum.toString()} ${o.unit??"ä¸ªå…ƒç´ "}`:`æ•°å€¼è¿‡å¤§ï¼šæœŸæœ› ${i.origin??"å€¼"} ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`æ•°å€¼è¿‡å°ï¼šæœŸæœ› ${i.origin} ${s}${i.minimum.toString()} ${o.unit}`:`æ•°å€¼è¿‡å°ï¼šæœŸæœ› ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`æ— æ•ˆå­—ç¬¦ä¸²ï¼šå¿…é¡»ä»¥ "${s.prefix}" å¼€å¤´`:s.format==="ends_with"?`æ— æ•ˆå­—ç¬¦ä¸²ï¼šå¿…é¡»ä»¥ "${s.suffix}" ç»“å°¾`:s.format==="includes"?`æ— æ•ˆå­—ç¬¦ä¸²ï¼šå¿…é¡»åŒ…å« "${s.includes}"`:s.format==="regex"?`æ— æ•ˆå­—ç¬¦ä¸²ï¼šå¿…é¡»æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼ ${s.pattern}`:`æ— æ•ˆ${r[s.format]??i.format}`}case"not_multiple_of":return`æ— æ•ˆæ•°å­—ï¼šå¿…é¡»æ˜¯ ${i.divisor} çš„å€æ•°`;case"unrecognized_keys":return`å‡ºçŽ°æœªçŸ¥çš„é”®(key): ${ze(i.keys,", ")}`;case"invalid_key":return`${i.origin} ä¸­çš„é”®(key)æ— æ•ˆ`;case"invalid_union":return"æ— æ•ˆè¾“å…¥";case"invalid_element":return`${i.origin} ä¸­åŒ…å«æ— æ•ˆå€¼(value)`;default:return"æ— æ•ˆè¾“å…¥"}}};function Ilt(){return{localeError:_lt()}}const Slt=()=>{const t={string:{unit:"å­—å…ƒ",verb:"æ“æœ‰"},file:{unit:"ä½å…ƒçµ„",verb:"æ“æœ‰"},array:{unit:"é …ç›®",verb:"æ“æœ‰"},set:{unit:"é …ç›®",verb:"æ“æœ‰"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"è¼¸å…¥",email:"éƒµä»¶åœ°å€",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO æ—¥æœŸæ™‚é–“",date:"ISO æ—¥æœŸ",time:"ISO æ™‚é–“",duration:"ISO æœŸé–“",ipv4:"IPv4 ä½å€",ipv6:"IPv6 ä½å€",cidrv4:"IPv4 ç¯„åœ",cidrv6:"IPv6 ç¯„åœ",base64:"base64 ç·¨ç¢¼å­—ä¸²",base64url:"base64url ç·¨ç¢¼å­—ä¸²",json_string:"JSON å­—ä¸²",e164:"E.164 æ•¸å€¼",jwt:"JWT",template_literal:"è¼¸å…¥"};return i=>{switch(i.code){case"invalid_type":return`ç„¡æ•ˆçš„è¼¸å…¥å€¼ï¼šé æœŸç‚º ${i.expected}ï¼Œä½†æ”¶åˆ° ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ç„¡æ•ˆçš„è¼¸å…¥å€¼ï¼šé æœŸç‚º ${Dt(i.values[0])}`:`ç„¡æ•ˆçš„é¸é …ï¼šé æœŸç‚ºä»¥ä¸‹å…¶ä¸­ä¹‹ä¸€ ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`æ•¸å€¼éŽå¤§ï¼šé æœŸ ${i.origin??"å€¼"} æ‡‰ç‚º ${s}${i.maximum.toString()} ${o.unit??"å€‹å…ƒç´ "}`:`æ•¸å€¼éŽå¤§ï¼šé æœŸ ${i.origin??"å€¼"} æ‡‰ç‚º ${s}${i.maximum.toString()}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`æ•¸å€¼éŽå°ï¼šé æœŸ ${i.origin} æ‡‰ç‚º ${s}${i.minimum.toString()} ${o.unit}`:`æ•¸å€¼éŽå°ï¼šé æœŸ ${i.origin} æ‡‰ç‚º ${s}${i.minimum.toString()}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`ç„¡æ•ˆçš„å­—ä¸²ï¼šå¿…é ˆä»¥ "${s.prefix}" é–‹é ­`:s.format==="ends_with"?`ç„¡æ•ˆçš„å­—ä¸²ï¼šå¿…é ˆä»¥ "${s.suffix}" çµå°¾`:s.format==="includes"?`ç„¡æ•ˆçš„å­—ä¸²ï¼šå¿…é ˆåŒ…å« "${s.includes}"`:s.format==="regex"?`ç„¡æ•ˆçš„å­—ä¸²ï¼šå¿…é ˆç¬¦åˆæ ¼å¼ ${s.pattern}`:`ç„¡æ•ˆçš„ ${r[s.format]??i.format}`}case"not_multiple_of":return`ç„¡æ•ˆçš„æ•¸å­—ï¼šå¿…é ˆç‚º ${i.divisor} çš„å€æ•¸`;case"unrecognized_keys":return`ç„¡æ³•è­˜åˆ¥çš„éµå€¼${i.keys.length>1?"å€‘":""}ï¼š${ze(i.keys,"ã€")}`;case"invalid_key":return`${i.origin} ä¸­æœ‰ç„¡æ•ˆçš„éµå€¼`;case"invalid_union":return"ç„¡æ•ˆçš„è¼¸å…¥å€¼";case"invalid_element":return`${i.origin} ä¸­æœ‰ç„¡æ•ˆçš„å€¼`;default:return"ç„¡æ•ˆçš„è¼¸å…¥å€¼"}}};function xlt(){return{localeError:Slt()}}const Alt=()=>{const t={string:{unit:"Ã mi",verb:"nÃ­"},file:{unit:"bytes",verb:"nÃ­"},array:{unit:"nkan",verb:"nÃ­"},set:{unit:"nkan",verb:"nÃ­"}};function e(i){return t[i]??null}const n=i=>{const s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"ná»ÌmbÃ ";case"object":{if(Array.isArray(i))return"akopá»";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},r={regex:"áº¹Ì€rá» Ã¬bÃ¡wá»lÃ©",email:"Ã dÃ­ráº¹ÌsÃ¬ Ã¬máº¹ÌlÃ¬",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"Ã kÃ³kÃ² ISO",date:"á»já»Ì ISO",time:"Ã kÃ³kÃ² ISO",duration:"Ã kÃ³kÃ² tÃ³ pÃ© ISO",ipv4:"Ã dÃ­ráº¹ÌsÃ¬ IPv4",ipv6:"Ã dÃ­ráº¹ÌsÃ¬ IPv6",cidrv4:"Ã gbÃ¨gbÃ¨ IPv4",cidrv6:"Ã gbÃ¨gbÃ¨ IPv6",base64:"á»Ì€rá»Ì€ tÃ­ a ká»Ì nÃ­ base64",base64url:"á»Ì€rá»Ì€ base64url",json_string:"á»Ì€rá»Ì€ JSON",e164:"ná»ÌmbÃ  E.164",jwt:"JWT",template_literal:"áº¹Ì€rá» Ã¬bÃ¡wá»lÃ©"};return i=>{switch(i.code){case"invalid_type":return`ÃŒbÃ¡wá»lÃ© aá¹£Ã¬á¹£e: a nÃ­ lÃ¡ti fi ${i.expected}, Ã má»Ì€ a rÃ­ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ÃŒbÃ¡wá»lÃ© aá¹£Ã¬á¹£e: a nÃ­ lÃ¡ti fi ${Dt(i.values[0])}`:`Ã€á¹£Ã yÃ n aá¹£Ã¬á¹£e: yan á»Ì€kan lÃ¡ra ${ze(i.values,"|")}`;case"too_big":{const s=i.inclusive?"<=":"<",o=e(i.origin);return o?`TÃ³ pá»Ì€ jÃ¹: a nÃ­ lÃ¡ti jáº¹Ì pÃ© ${i.origin??"iye"} ${o.verb} ${s}${i.maximum} ${o.unit}`:`TÃ³ pá»Ì€ jÃ¹: a nÃ­ lÃ¡ti jáº¹Ì ${s}${i.maximum}`}case"too_small":{const s=i.inclusive?">=":">",o=e(i.origin);return o?`KÃ©rÃ© ju: a nÃ­ lÃ¡ti jáº¹Ì pÃ© ${i.origin} ${o.verb} ${s}${i.minimum} ${o.unit}`:`KÃ©rÃ© ju: a nÃ­ lÃ¡ti jáº¹Ì ${s}${i.minimum}`}case"invalid_format":{const s=i;return s.format==="starts_with"?`á»ŒÌ€rá»Ì€ aá¹£Ã¬á¹£e: gbá»Ìdá»Ì€ báº¹Ì€ráº¹Ì€ páº¹Ì€lÃº "${s.prefix}"`:s.format==="ends_with"?`á»ŒÌ€rá»Ì€ aá¹£Ã¬á¹£e: gbá»Ìdá»Ì€ parÃ­ páº¹Ì€lÃº "${s.suffix}"`:s.format==="includes"?`á»ŒÌ€rá»Ì€ aá¹£Ã¬á¹£e: gbá»Ìdá»Ì€ nÃ­ "${s.includes}"`:s.format==="regex"?`á»ŒÌ€rá»Ì€ aá¹£Ã¬á¹£e: gbá»Ìdá»Ì€ bÃ¡ Ã páº¹áº¹ráº¹ mu ${s.pattern}`:`Aá¹£Ã¬á¹£e: ${r[s.format]??i.format}`}case"not_multiple_of":return`Ná»ÌmbÃ  aá¹£Ã¬á¹£e: gbá»Ìdá»Ì€ jáº¹Ì Ã¨yÃ  pÃ­pÃ­n ti ${i.divisor}`;case"unrecognized_keys":return`Bá»tÃ¬nÃ¬ Ã Ã¬má»Ì€: ${ze(i.keys,", ")}`;case"invalid_key":return`Bá»tÃ¬nÃ¬ aá¹£Ã¬á¹£e nÃ­nÃº ${i.origin}`;case"invalid_union":return"ÃŒbÃ¡wá»lÃ© aá¹£Ã¬á¹£e";case"invalid_element":return`Iye aá¹£Ã¬á¹£e nÃ­nÃº ${i.origin}`;default:return"ÃŒbÃ¡wá»lÃ© aá¹£Ã¬á¹£e"}}};function klt(){return{localeError:Alt()}}const PL=Object.freeze(Object.defineProperty({__proto__:null,ar:zat,az:qat,be:Hat,bg:Zat,ca:Yat,cs:Xat,da:ect,de:nct,en:sct,eo:cct,es:uct,fa:hct,fi:fct,fr:mct,frCA:yct,he:vct,hu:Cct,id:Ict,is:Act,it:$ct,ja:Nct,ka:Rct,kh:Uct,km:Sde,ko:Lct,lt:zct,mk:qct,ms:Hct,nl:Kct,no:Gct,ota:Jct,pl:tlt,ps:Qct,pt:rlt,ru:slt,sl:alt,sv:llt,ta:dlt,th:plt,tr:mlt,ua:ylt,uk:xde,ur:vlt,vi:Clt,yo:klt,zhCN:Ilt,zhTW:xlt},Symbol.toStringTag,{value:"Module"}));var fZ;const RL=Symbol("ZodOutput"),DL=Symbol("ZodInput");class UL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Qk(){return new UL}(fZ=globalThis).__zod_globalRegistry??(fZ.__zod_globalRegistry=Qk());const Mg=globalThis.__zod_globalRegistry;function Ade(t,e){return new t({type:"string",...Ae(e)})}function kde(t,e){return new t({type:"string",coerce:!0,...Ae(e)})}function $de(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ae(e)})}function Tde(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ae(e)})}function Nde(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ae(e)})}function Ode(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ae(e)})}function Pde(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ae(e)})}function Rde(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ae(e)})}function ML(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ae(e)})}function Dde(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ae(e)})}function Ude(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ae(e)})}function Mde(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ae(e)})}function Lde(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ae(e)})}function jde(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ae(e)})}function Bde(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ae(e)})}function zde(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ae(e)})}function Wde(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ae(e)})}function qde(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ae(e)})}function Fde(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...Ae(e)})}function Hde(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ae(e)})}function Vde(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ae(e)})}function Kde(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ae(e)})}function Zde(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ae(e)})}function Gde(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ae(e)})}function Yde(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ae(e)})}const LL={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function Jde(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ae(e)})}function Xde(t,e){return new t({type:"string",format:"date",check:"string_format",...Ae(e)})}function Qde(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ae(e)})}function ehe(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ae(e)})}function the(t,e){return new t({type:"number",checks:[],...Ae(e)})}function nhe(t,e){return new t({type:"number",coerce:!0,checks:[],...Ae(e)})}function rhe(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ae(e)})}function ihe(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...Ae(e)})}function she(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...Ae(e)})}function ohe(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...Ae(e)})}function ahe(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...Ae(e)})}function che(t,e){return new t({type:"boolean",...Ae(e)})}function lhe(t,e){return new t({type:"boolean",coerce:!0,...Ae(e)})}function uhe(t,e){return new t({type:"bigint",...Ae(e)})}function dhe(t,e){return new t({type:"bigint",coerce:!0,...Ae(e)})}function hhe(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Ae(e)})}function phe(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Ae(e)})}function fhe(t,e){return new t({type:"symbol",...Ae(e)})}function ghe(t,e){return new t({type:"undefined",...Ae(e)})}function mhe(t,e){return new t({type:"null",...Ae(e)})}function whe(t){return new t({type:"any"})}function yhe(t){return new t({type:"unknown"})}function bhe(t,e){return new t({type:"never",...Ae(e)})}function vhe(t,e){return new t({type:"void",...Ae(e)})}function Ehe(t,e){return new t({type:"date",...Ae(e)})}function Che(t,e){return new t({type:"date",coerce:!0,...Ae(e)})}function _he(t,e){return new t({type:"nan",...Ae(e)})}function e8(t,e){return new _L({check:"less_than",...Ae(e),value:t,inclusive:!1})}function T0(t,e){return new _L({check:"less_than",...Ae(e),value:t,inclusive:!0})}function t8(t,e){return new IL({check:"greater_than",...Ae(e),value:t,inclusive:!1})}function Lg(t,e){return new IL({check:"greater_than",...Ae(e),value:t,inclusive:!0})}function jL(t){return t8(0,t)}function BL(t){return e8(0,t)}function zL(t){return T0(0,t)}function WL(t){return Lg(0,t)}function qL(t,e){return new Gle({check:"multiple_of",...Ae(e),value:t})}function FL(t,e){return new Xle({check:"max_size",...Ae(e),maximum:t})}function HL(t,e){return new Qle({check:"min_size",...Ae(e),minimum:t})}function VL(t,e){return new eue({check:"size_equals",...Ae(e),size:t})}function KL(t,e){return new tue({check:"max_length",...Ae(e),maximum:t})}function N4(t,e){return new nue({check:"min_length",...Ae(e),minimum:t})}function ZL(t,e){return new rue({check:"length_equals",...Ae(e),length:t})}function Ny(t,e){return new iue({check:"string_format",format:"regex",...Ae(e),pattern:t})}function GL(t){return new sue({check:"string_format",format:"lowercase",...Ae(t)})}function YL(t){return new oue({check:"string_format",format:"uppercase",...Ae(t)})}function JL(t,e){return new aue({check:"string_format",format:"includes",...Ae(e),includes:t})}function XL(t,e){return new cue({check:"string_format",format:"starts_with",...Ae(e),prefix:t})}function QL(t,e){return new lue({check:"string_format",format:"ends_with",...Ae(e),suffix:t})}function ej(t,e,n){return new uue({check:"property",property:t,schema:e,...Ae(n)})}function tj(t,e){return new due({check:"mime_type",mime:t,...Ae(e)})}function um(t){return new hue({check:"overwrite",tx:t})}function nj(t){return um(e=>e.normalize(t))}function rj(){return um(t=>t.trim())}function ij(){return um(t=>t.toLowerCase())}function sj(){return um(t=>t.toUpperCase())}function $lt(){return um(t=>qce(t))}function Tlt(t,e,n){return new t({type:"array",element:e,...Ae(n)})}function Nlt(t,e,n){return new t({type:"union",options:e,...Ae(n)})}function Olt(t,e,n,r){return new t({type:"union",options:n,discriminator:e,...Ae(r)})}function Plt(t,e,n){return new t({type:"intersection",left:e,right:n})}function Rlt(t,e,n,r){const i=n instanceof Ft,s=i?r:n,o=i?n:null;return new t({type:"tuple",items:e,rest:o,...Ae(s)})}function Dlt(t,e,n,r){return new t({type:"record",keyType:e,valueType:n,...Ae(r)})}function Ult(t,e,n,r){return new t({type:"map",keyType:e,valueType:n,...Ae(r)})}function Mlt(t,e,n){return new t({type:"set",valueType:e,...Ae(n)})}function Llt(t,e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new t({type:"enum",entries:r,...Ae(n)})}function jlt(t,e,n){return new t({type:"enum",entries:e,...Ae(n)})}function Blt(t,e,n){return new t({type:"literal",values:Array.isArray(e)?e:[e],...Ae(n)})}function Ihe(t,e){return new t({type:"file",...Ae(e)})}function zlt(t,e){return new t({type:"transform",transform:e})}function Wlt(t,e){return new t({type:"optional",innerType:e})}function qlt(t,e){return new t({type:"nullable",innerType:e})}function Flt(t,e,n){return new t({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Fk(n)}})}function Hlt(t,e,n){return new t({type:"nonoptional",innerType:e,...Ae(n)})}function Vlt(t,e){return new t({type:"success",innerType:e})}function Klt(t,e,n){return new t({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}function Zlt(t,e,n){return new t({type:"pipe",in:e,out:n})}function Glt(t,e){return new t({type:"readonly",innerType:e})}function Ylt(t,e,n){return new t({type:"template_literal",parts:e,...Ae(n)})}function Jlt(t,e){return new t({type:"lazy",getter:e})}function Xlt(t,e){return new t({type:"promise",innerType:e})}function She(t,e,n){const r=Ae(n);return r.abort??(r.abort=!0),new t({type:"custom",check:"custom",fn:e,...r})}function xhe(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ae(n)})}function Ahe(t){const e=khe(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(s6(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(s6(i))}},t(n.value,n)));return e}function khe(t,e){const n=new Xr({check:"custom",...Ae(e)});return n._zod.check=t,n}function $he(t){const e=new Xr({check:"describe"});return e._zod.onattach=[n=>{const r=Mg.get(n)??{};Mg.add(n,{...r,description:t})}],e._zod.check=()=>{},e}function The(t){const e=new Xr({check:"meta"});return e._zod.onattach=[n=>{const r=Mg.get(n)??{};Mg.add(n,{...r,...t})}],e._zod.check=()=>{},e}function Nhe(t,e){const n=Ae(e);let r=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(r=r.map(p=>typeof p=="string"?p.toLowerCase():p),i=i.map(p=>typeof p=="string"?p.toLowerCase():p));const s=new Set(r),o=new Set(i),a=t.Codec??OL,c=t.Boolean??AL,l=t.String??Xk,u=new l({type:"string",error:n.error}),d=new c({type:"boolean",error:n.error}),h=new a({type:"pipe",in:u,out:d,transform:((p,f)=>{let g=p;return n.case!=="sensitive"&&(g=g.toLowerCase()),s.has(g)?!0:o.has(g)?!1:(f.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...o],input:f.value,inst:h,continue:!1}),{})}),reverseTransform:((p,f)=>p===!0?r[0]||"true":i[0]||"false"),error:n.error});return h}function O4(t,e,n,r={}){const i=Ae(r),s={...Ae(r),check:"string_format",type:"string",format:e,fn:typeof n=="function"?n:a=>n.test(a),...i};return n instanceof RegExp&&(s.pattern=n),new t(s)}class H7{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??Mg,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var r;const i=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,a);const c=e._zod.toJSONSchema?.();if(c)a.schema=c;else{const d={...n,schemaPath:[...n.schemaPath,e],path:n.path},h=e._zod.parent;if(h)a.ref=h,this.process(h,d),this.seen.get(h).isParent=!0;else{const p=a.schema;switch(i.type){case"string":{const f=p;f.type="string";const{minimum:g,maximum:m,format:b,patterns:y,contentEncoding:v}=e._zod.bag;if(typeof g=="number"&&(f.minLength=g),typeof m=="number"&&(f.maxLength=m),b&&(f.format=s[b]??b,f.format===""&&delete f.format),v&&(f.contentEncoding=v),y&&y.size>0){const w=[...y];w.length===1?f.pattern=w[0].source:w.length>1&&(a.schema.allOf=[...w.map(C=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:C.source}))])}break}case"number":{const f=p,{minimum:g,maximum:m,format:b,multipleOf:y,exclusiveMaximum:v,exclusiveMinimum:w}=e._zod.bag;typeof b=="string"&&b.includes("int")?f.type="integer":f.type="number",typeof w=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(f.minimum=w,f.exclusiveMinimum=!0):f.exclusiveMinimum=w),typeof g=="number"&&(f.minimum=g,typeof w=="number"&&this.target!=="draft-4"&&(w>=g?delete f.minimum:delete f.exclusiveMinimum)),typeof v=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(f.maximum=v,f.exclusiveMaximum=!0):f.exclusiveMaximum=v),typeof m=="number"&&(f.maximum=m,typeof v=="number"&&this.target!=="draft-4"&&(v<=m?delete f.maximum:delete f.exclusiveMaximum)),typeof y=="number"&&(f.multipleOf=y);break}case"boolean":{const f=p;f.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(p.type="string",p.nullable=!0,p.enum=[null]):p.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{p.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const f=p,{minimum:g,maximum:m}=e._zod.bag;typeof g=="number"&&(f.minItems=g),typeof m=="number"&&(f.maxItems=m),f.type="array",f.items=this.process(i.element,{...d,path:[...d.path,"items"]});break}case"object":{const f=p;f.type="object",f.properties={};const g=i.shape;for(const y in g)f.properties[y]=this.process(g[y],{...d,path:[...d.path,"properties",y]});const m=new Set(Object.keys(g)),b=new Set([...m].filter(y=>{const v=i.shape[y]._zod;return this.io==="input"?v.optin===void 0:v.optout===void 0}));b.size>0&&(f.required=Array.from(b)),i.catchall?._zod.def.type==="never"?f.additionalProperties=!1:i.catchall?i.catchall&&(f.additionalProperties=this.process(i.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(f.additionalProperties=!1);break}case"union":{const f=p,g=i.discriminator!==void 0,m=i.options.map((b,y)=>this.process(b,{...d,path:[...d.path,g?"oneOf":"anyOf",y]}));g?f.oneOf=m:f.anyOf=m;break}case"intersection":{const f=p,g=this.process(i.left,{...d,path:[...d.path,"allOf",0]}),m=this.process(i.right,{...d,path:[...d.path,"allOf",1]}),b=v=>"allOf"in v&&Object.keys(v).length===1,y=[...b(g)?g.allOf:[g],...b(m)?m.allOf:[m]];f.allOf=y;break}case"tuple":{const f=p;f.type="array";const g=this.target==="draft-2020-12"?"prefixItems":"items",m=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",b=i.items.map((C,I)=>this.process(C,{...d,path:[...d.path,g,I]})),y=i.rest?this.process(i.rest,{...d,path:[...d.path,m,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(f.prefixItems=b,y&&(f.items=y)):this.target==="openapi-3.0"?(f.items={anyOf:b},y&&f.items.anyOf.push(y),f.minItems=b.length,y||(f.maxItems=b.length)):(f.items=b,y&&(f.additionalItems=y));const{minimum:v,maximum:w}=e._zod.bag;typeof v=="number"&&(f.minItems=v),typeof w=="number"&&(f.maxItems=w);break}case"record":{const f=p;f.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(f.propertyNames=this.process(i.keyType,{...d,path:[...d.path,"propertyNames"]})),f.additionalProperties=this.process(i.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const f=p,g=cL(i.entries);g.every(m=>typeof m=="number")&&(f.type="number"),g.every(m=>typeof m=="string")&&(f.type="string"),f.enum=g;break}case"literal":{const f=p,g=[];for(const m of i.values)if(m===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof m=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");g.push(Number(m))}else g.push(m);if(g.length!==0)if(g.length===1){const m=g[0];f.type=m===null?"null":typeof m,this.target==="draft-4"||this.target==="openapi-3.0"?f.enum=[m]:f.const=m}else g.every(m=>typeof m=="number")&&(f.type="number"),g.every(m=>typeof m=="string")&&(f.type="string"),g.every(m=>typeof m=="boolean")&&(f.type="string"),g.every(m=>m===null)&&(f.type="null"),f.enum=g;break}case"file":{const f=p,g={type:"string",format:"binary",contentEncoding:"binary"},{minimum:m,maximum:b,mime:y}=e._zod.bag;m!==void 0&&(g.minLength=m),b!==void 0&&(g.maxLength=b),y?y.length===1?(g.contentMediaType=y[0],Object.assign(f,g)):f.anyOf=y.map(v=>({...g,contentMediaType:v})):Object.assign(f,g);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const f=this.process(i.innerType,d);this.target==="openapi-3.0"?(a.ref=i.innerType,p.nullable=!0):p.anyOf=[f,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,d),a.ref=i.innerType;break}case"success":{const f=p;f.type="boolean";break}case"default":{this.process(i.innerType,d),a.ref=i.innerType,p.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,d),a.ref=i.innerType,this.io==="input"&&(p._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,d),a.ref=i.innerType;let f;try{f=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}p.default=f;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const f=p,g=e._zod.pattern;if(!g)throw new Error("Pattern not found in template literal");f.type="string",f.pattern=g.source;break}case"pipe":{const f=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(f,d),a.ref=f;break}case"readonly":{this.process(i.innerType,d),a.ref=i.innerType,p.readOnly=!0;break}case"promise":{this.process(i.innerType,d),a.ref=i.innerType;break}case"optional":{this.process(i.innerType,d),a.ref=i.innerType;break}case"lazy":{const f=e._zod.innerType;this.process(f,d),a.ref=f;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const l=this.metadataRegistry.get(e);return l&&Object.assign(a.schema,l),this.io==="input"&&Po(e)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,n){const r={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=u=>{const d=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const g=r.external.registry.get(u[0])?.id,m=r.external.uri??(y=>y);if(g)return{ref:m(g)};const b=u[1].defId??u[1].schema.id??`schema${this.counter++}`;return u[1].defId=b,{defId:b,ref:`${m("__shared")}#/${d}/${b}`}}if(u[1]===i)return{ref:"#"};const p=`#/${d}/`,f=u[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:p+f}},o=u=>{if(u[1].schema.$ref)return;const d=u[1],{ref:h,defId:p}=s(u);d.def={...d.schema},p&&(d.defId=p);const f=d.schema;for(const g in f)delete f[g];f.$ref=h};if(r.cycles==="throw")for(const u of this.seen.entries()){const d=u[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of this.seen.entries()){const d=u[1];if(e===u[0]){o(u);continue}if(r.external){const p=r.external.registry.get(u[0])?.id;if(e!==u[0]&&p){o(u);continue}}if(this.metadataRegistry.get(u[0])?.id){o(u);continue}if(d.cycle){o(u);continue}if(d.count>1&&r.reused==="ref"){o(u);continue}}const a=(u,d)=>{const h=this.seen.get(u),p=h.def??h.schema,f={...p};if(h.ref===null)return;const g=h.ref;if(h.ref=null,g){a(g,d);const m=this.seen.get(g).schema;m.$ref&&(d.target==="draft-7"||d.target==="draft-4"||d.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(m)):(Object.assign(p,m),Object.assign(p,f))}h.isParent||this.override({zodSchema:u,jsonSchema:p,path:h.path??[]})};for(const u of[...this.seen.entries()].reverse())a(u[0],{target:this.target});const c={};if(this.target==="draft-2020-12"?c.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?c.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?c.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),r.external?.uri){const u=r.external.registry.get(e)?.id;if(!u)throw new Error("Schema is missing an `id` property");c.$id=r.external.uri(u)}Object.assign(c,i.def);const l=r.external?.defs??{};for(const u of this.seen.entries()){const d=u[1];d.def&&d.defId&&(l[d.defId]=d.def)}r.external||Object.keys(l).length>0&&(this.target==="draft-2020-12"?c.$defs=l:c.definitions=l);try{return JSON.parse(JSON.stringify(c))}catch{throw new Error("Error converting schema to JSON.")}}}function oj(t,e){if(t instanceof UL){const r=new H7(e),i={};for(const a of t._idmap.entries()){const[c,l]=a;r.process(l)}const s={},o={registry:t,uri:e?.uri,defs:i};for(const a of t._idmap.entries()){const[c,l]=a;s[c]=r.emit(l,{...e,external:o})}if(Object.keys(i).length>0){const a=r.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[a]:i}}return{schemas:s}}const n=new H7(e);return n.process(t),n.emit(t,e)}function Po(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Po(r.element,n);if(r.type==="set")return Po(r.valueType,n);if(r.type==="lazy")return Po(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Po(r.innerType,n);if(r.type==="intersection")return Po(r.left,n)||Po(r.right,n);if(r.type==="record"||r.type==="map")return Po(r.keyType,n)||Po(r.valueType,n);if(r.type==="pipe")return Po(r.in,n)||Po(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Po(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Po(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Po(i,n))return!0;return!!(r.rest&&Po(r.rest,n))}return!1}const Qlt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Ohe=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:Kue,$ZodArray:Xue,$ZodAsyncError:Rw,$ZodBase64:Due,$ZodBase64URL:Mue,$ZodBigInt:kL,$ZodBigIntFormat:que,$ZodBoolean:AL,$ZodCIDRv4:Pue,$ZodCIDRv6:Rue,$ZodCUID:Eue,$ZodCUID2:Cue,$ZodCatch:mde,$ZodCheck:Xr,$ZodCheckBigIntFormat:Jle,$ZodCheckEndsWith:lue,$ZodCheckGreaterThan:IL,$ZodCheckIncludes:aue,$ZodCheckLengthEquals:rue,$ZodCheckLessThan:_L,$ZodCheckLowerCase:sue,$ZodCheckMaxLength:tue,$ZodCheckMaxSize:Xle,$ZodCheckMimeType:due,$ZodCheckMinLength:nue,$ZodCheckMinSize:Qle,$ZodCheckMultipleOf:Gle,$ZodCheckNumberFormat:Yle,$ZodCheckOverwrite:hue,$ZodCheckProperty:uue,$ZodCheckRegex:iue,$ZodCheckSizeEquals:eue,$ZodCheckStartsWith:cue,$ZodCheckStringFormat:T4,$ZodCheckUpperCase:oue,$ZodCodec:OL,$ZodCustom:Ide,$ZodCustomStringFormat:zue,$ZodDate:Jue,$ZodDefault:hde,$ZodDiscriminatedUnion:tde,$ZodE164:Lue,$ZodEmail:wue,$ZodEmoji:bue,$ZodEncodeError:aL,$ZodEnum:ode,$ZodError:rle,$ZodFile:cde,$ZodFunction:Ede,$ZodGUID:gue,$ZodIPv4:Tue,$ZodIPv6:Nue,$ZodISODate:Aue,$ZodISODateTime:xue,$ZodISODuration:$ue,$ZodISOTime:kue,$ZodIntersection:nde,$ZodJWT:Bue,$ZodKSUID:Sue,$ZodLazy:_de,$ZodLiteral:ade,$ZodMAC:Oue,$ZodMap:ide,$ZodNaN:wde,$ZodNanoID:vue,$ZodNever:Gue,$ZodNonOptional:fde,$ZodNull:Vue,$ZodNullable:dde,$ZodNumber:xL,$ZodNumberFormat:Wue,$ZodObject:$L,$ZodObjectJIT:jat,$ZodOptional:ude,$ZodPipe:yde,$ZodPrefault:pde,$ZodPromise:Cde,$ZodReadonly:bde,$ZodRealError:Pc,$ZodRecord:rde,$ZodRegistry:UL,$ZodSet:sde,$ZodString:Xk,$ZodStringFormat:xr,$ZodSuccess:gde,$ZodSymbol:Fue,$ZodTemplateLiteral:vde,$ZodTransform:lde,$ZodTuple:NL,$ZodType:Ft,$ZodULID:_ue,$ZodURL:yue,$ZodUUID:mue,$ZodUndefined:Hue,$ZodUnion:TL,$ZodUnknown:Zue,$ZodVoid:Yue,$ZodXID:Iue,$brand:oL,$constructor:de,$input:DL,$output:RL,Doc:pue,JSONSchema:Qlt,JSONSchemaGenerator:H7,NEVER:sL,TimePrecision:LL,_any:whe,_array:Tlt,_base64:Kde,_base64url:Zde,_bigint:uhe,_boolean:che,_catch:Klt,_check:khe,_cidrv4:Hde,_cidrv6:Vde,_coercedBigint:dhe,_coercedBoolean:lhe,_coercedDate:Che,_coercedNumber:nhe,_coercedString:kde,_cuid:Mde,_cuid2:Lde,_custom:She,_date:Ehe,_decode:ole,_decodeAsync:cle,_default:Flt,_discriminatedUnion:Olt,_e164:Gde,_email:$de,_emoji:Dde,_encode:sle,_encodeAsync:ale,_endsWith:QL,_enum:Llt,_file:Ihe,_float32:ihe,_float64:she,_gt:t8,_gte:Lg,_guid:Tde,_includes:JL,_int:rhe,_int32:ohe,_int64:hhe,_intersection:Plt,_ipv4:Wde,_ipv6:qde,_isoDate:Xde,_isoDateTime:Jde,_isoDuration:ehe,_isoTime:Qde,_jwt:Yde,_ksuid:zde,_lazy:Jlt,_length:ZL,_literal:Blt,_lowercase:GL,_lt:e8,_lte:T0,_mac:Fde,_map:Ult,_max:T0,_maxLength:KL,_maxSize:FL,_mime:tj,_min:Lg,_minLength:N4,_minSize:HL,_multipleOf:qL,_nan:_he,_nanoid:Ude,_nativeEnum:jlt,_negative:BL,_never:bhe,_nonnegative:WL,_nonoptional:Hlt,_nonpositive:zL,_normalize:nj,_null:mhe,_nullable:qlt,_number:the,_optional:Wlt,_overwrite:um,_parse:Kk,_parseAsync:Zk,_pipe:Zlt,_positive:jL,_promise:Xlt,_property:ej,_readonly:Glt,_record:Dlt,_refine:xhe,_regex:Ny,_safeDecode:ule,_safeDecodeAsync:hle,_safeEncode:lle,_safeEncodeAsync:dle,_safeParse:Gk,_safeParseAsync:Yk,_set:Mlt,_size:VL,_slugify:$lt,_startsWith:XL,_string:Ade,_stringFormat:O4,_stringbool:Nhe,_success:Vlt,_superRefine:Ahe,_symbol:fhe,_templateLiteral:Ylt,_toLowerCase:ij,_toUpperCase:sj,_transform:zlt,_trim:rj,_tuple:Rlt,_uint32:ahe,_uint64:phe,_ulid:jde,_undefined:ghe,_union:Nlt,_unknown:yhe,_uppercase:YL,_url:ML,_uuid:Nde,_uuidv4:Ode,_uuidv6:Pde,_uuidv7:Rde,_void:vhe,_xid:Bde,clone:Oc,config:Sc,decode:Ui,decodeAsync:wL,describe:$he,encode:Er,encodeAsync:mL,flattenError:hL,formatError:pL,globalConfig:r6,globalRegistry:Mg,isValidBase64:SL,isValidBase64URL:Uue,isValidJWT:jue,locales:PL,meta:The,parse:wv,parseAsync:yv,prettifyError:gL,regexes:Jk,registry:Qk,safeDecode:bL,safeDecodeAsync:EL,safeEncode:yL,safeEncodeAsync:vL,safeParse:h2,safeParseAsync:A4,toDotPath:ile,toJSONSchema:oj,treeifyError:fL,util:dL,version:fue},Symbol.toStringTag,{value:"Module"})),Yt=de("ZodMiniType",(t,e)=>{if(!t._zod)throw new Error("Uninitialized schema in ZodMiniType.");Ft.init(t,e),t.def=e,t.type=e.type,t.parse=(n,r)=>wv(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>h2(t,n,r),t.parseAsync=async(n,r)=>yv(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>A4(t,n,r),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),t.clone=(n,r)=>Oc(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t))}),p2=de("ZodMiniString",(t,e)=>{Xk.init(t,e),Yt.init(t,e)});function Se(t){return Ade(p2,t)}const Ar=de("ZodMiniStringFormat",(t,e)=>{xr.init(t,e),p2.init(t,e)}),aj=de("ZodMiniEmail",(t,e)=>{wue.init(t,e),Ar.init(t,e)});function Phe(t){return $de(aj,t)}const cj=de("ZodMiniGUID",(t,e)=>{gue.init(t,e),Ar.init(t,e)});function Rhe(t){return Tde(cj,t)}const f2=de("ZodMiniUUID",(t,e)=>{mue.init(t,e),Ar.init(t,e)});function Dhe(t){return Nde(f2,t)}function Uhe(t){return Ode(f2,t)}function Mhe(t){return Pde(f2,t)}function Lhe(t){return Rde(f2,t)}const n8=de("ZodMiniURL",(t,e)=>{yue.init(t,e),Ar.init(t,e)});function jhe(t){return ML(n8,t)}function Bhe(t){return ML(n8,{protocol:/^https?$/,hostname:Nle,...Ae(t)})}const lj=de("ZodMiniEmoji",(t,e)=>{bue.init(t,e),Ar.init(t,e)});function zhe(t){return Dde(lj,t)}const uj=de("ZodMiniNanoID",(t,e)=>{vue.init(t,e),Ar.init(t,e)});function Whe(t){return Ude(uj,t)}const dj=de("ZodMiniCUID",(t,e)=>{Eue.init(t,e),Ar.init(t,e)});function qhe(t){return Mde(dj,t)}const hj=de("ZodMiniCUID2",(t,e)=>{Cue.init(t,e),Ar.init(t,e)});function Fhe(t){return Lde(hj,t)}const pj=de("ZodMiniULID",(t,e)=>{_ue.init(t,e),Ar.init(t,e)});function Hhe(t){return jde(pj,t)}const fj=de("ZodMiniXID",(t,e)=>{Iue.init(t,e),Ar.init(t,e)});function Vhe(t){return Bde(fj,t)}const gj=de("ZodMiniKSUID",(t,e)=>{Sue.init(t,e),Ar.init(t,e)});function Khe(t){return zde(gj,t)}const mj=de("ZodMiniIPv4",(t,e)=>{Tue.init(t,e),Ar.init(t,e)});function Zhe(t){return Wde(mj,t)}const wj=de("ZodMiniIPv6",(t,e)=>{Nue.init(t,e),Ar.init(t,e)});function Ghe(t){return qde(wj,t)}const yj=de("ZodMiniCIDRv4",(t,e)=>{Pue.init(t,e),Ar.init(t,e)});function Yhe(t){return Hde(yj,t)}const bj=de("ZodMiniCIDRv6",(t,e)=>{Rue.init(t,e),Ar.init(t,e)});function Jhe(t){return Vde(bj,t)}const vj=de("ZodMiniMAC",(t,e)=>{Oue.init(t,e),Ar.init(t,e)});function Xhe(t){return Fde(vj,t)}const Ej=de("ZodMiniBase64",(t,e)=>{Due.init(t,e),Ar.init(t,e)});function Qhe(t){return Kde(Ej,t)}const Cj=de("ZodMiniBase64URL",(t,e)=>{Mue.init(t,e),Ar.init(t,e)});function epe(t){return Zde(Cj,t)}const _j=de("ZodMiniE164",(t,e)=>{Lue.init(t,e),Ar.init(t,e)});function tpe(t){return Gde(_j,t)}const Ij=de("ZodMiniJWT",(t,e)=>{Bue.init(t,e),Ar.init(t,e)});function npe(t){return Yde(Ij,t)}const g2=de("ZodMiniCustomStringFormat",(t,e)=>{zue.init(t,e),Ar.init(t,e)});function rpe(t,e,n={}){return O4(g2,t,e,n)}function ipe(t){return O4(g2,"hostname",Tle,t)}function spe(t){return O4(g2,"hex",Kle,t)}function ope(t,e){const n=e?.enc??"hex",r=`${t}_${n}`,i=Jk[r];if(!i)throw new Error(`Unrecognized hash format: ${r}`);return O4(g2,r,i,e)}const P4=de("ZodMiniNumber",(t,e)=>{xL.init(t,e),Yt.init(t,e)});function Ht(t){return the(P4,t)}const Oy=de("ZodMiniNumberFormat",(t,e)=>{Wue.init(t,e),P4.init(t,e)});function ape(t){return rhe(Oy,t)}function cpe(t){return ihe(Oy,t)}function lpe(t){return she(Oy,t)}function upe(t){return ohe(Oy,t)}function dpe(t){return ahe(Oy,t)}const R4=de("ZodMiniBoolean",(t,e)=>{AL.init(t,e),Yt.init(t,e)});function ri(t){return che(R4,t)}const D4=de("ZodMiniBigInt",(t,e)=>{kL.init(t,e),Yt.init(t,e)});function Sj(t){return uhe(D4,t)}const r8=de("ZodMiniBigIntFormat",(t,e)=>{que.init(t,e),D4.init(t,e)});function hpe(t){return hhe(r8,t)}function ppe(t){return phe(r8,t)}const xj=de("ZodMiniSymbol",(t,e)=>{Fue.init(t,e),Yt.init(t,e)});function fpe(t){return fhe(xj,t)}const Aj=de("ZodMiniUndefined",(t,e)=>{Hue.init(t,e),Yt.init(t,e)});function jg(t){return ghe(Aj,t)}const kj=de("ZodMiniNull",(t,e)=>{Vue.init(t,e),Yt.init(t,e)});function cr(t){return mhe(kj,t)}const $j=de("ZodMiniAny",(t,e)=>{Kue.init(t,e),Yt.init(t,e)});function i8(){return whe($j)}const Tj=de("ZodMiniUnknown",(t,e)=>{Zue.init(t,e),Yt.init(t,e)});function ji(){return yhe(Tj)}const Nj=de("ZodMiniNever",(t,e)=>{Gue.init(t,e),Yt.init(t,e)});function Oj(t){return bhe(Nj,t)}const Pj=de("ZodMiniVoid",(t,e)=>{Yue.init(t,e),Yt.init(t,e)});function gpe(t){return vhe(Pj,t)}const s8=de("ZodMiniDate",(t,e)=>{Jue.init(t,e),Yt.init(t,e)});function Uf(t){return Ehe(s8,t)}const Rj=de("ZodMiniArray",(t,e)=>{Xue.init(t,e),Yt.init(t,e)});function mt(t,e){return new Rj({type:"array",element:t,...Ae(e)})}function mpe(t){const e=t._zod.def.shape;return qj(Object.keys(e))}const U4=de("ZodMiniObject",(t,e)=>{$L.init(t,e),Yt.init(t,e),on(t,"shape",()=>e.shape)});function J(t,e){const n={type:"object",shape:t??{},...Ae(e)};return new U4(n)}function wpe(t,e){return new U4({type:"object",shape:t,catchall:Oj(),...Ae(e)})}function ype(t,e){return new U4({type:"object",shape:t,catchall:ji(),...Ae(e)})}function bpe(t,e){return uL(t,e)}function vpe(t,e){return Jce(t,e)}function Epe(t,e){return uL(t,e)}function Ud(t,e){return Gce(t,e)}function Dj(t,e){return Yce(t,e)}function N0(t,e){return Xce(c8,t,e)}function Cpe(t,e){return Qce(l8,t,e)}function _pe(t,e){return t.clone({...t._zod.def,catchall:e})}const Uj=de("ZodMiniUnion",(t,e)=>{TL.init(t,e),Yt.init(t,e)});function Rt(t,e){return new Uj({type:"union",options:t,...Ae(e)})}const Mj=de("ZodMiniDiscriminatedUnion",(t,e)=>{tde.init(t,e),Yt.init(t,e)});function Lj(t,e,n){return new Mj({type:"union",options:e,discriminator:t,...Ae(n)})}const jj=de("ZodMiniIntersection",(t,e)=>{nde.init(t,e),Yt.init(t,e)});function Ipe(t,e){return new jj({type:"intersection",left:t,right:e})}const Bj=de("ZodMiniTuple",(t,e)=>{NL.init(t,e),Yt.init(t,e)});function At(t,e,n){const r=e instanceof Ft,i=r?n:e,s=r?e:null;return new Bj({type:"tuple",items:t,rest:s,...Ae(i)})}const o8=de("ZodMiniRecord",(t,e)=>{rde.init(t,e),Yt.init(t,e)});function xs(t,e,n){return new o8({type:"record",keyType:t,valueType:e,...Ae(n)})}function Spe(t,e,n){const r=Oc(t);return r._zod.values=void 0,new o8({type:"record",keyType:r,valueType:e,...Ae(n)})}const zj=de("ZodMiniMap",(t,e)=>{ide.init(t,e),Yt.init(t,e)});function xpe(t,e,n){return new zj({type:"map",keyType:t,valueType:e,...Ae(n)})}const Wj=de("ZodMiniSet",(t,e)=>{sde.init(t,e),Yt.init(t,e)});function Ape(t,e){return new Wj({type:"set",valueType:t,...Ae(e)})}const a8=de("ZodMiniEnum",(t,e)=>{ode.init(t,e),Yt.init(t,e),t.options=Object.values(e.entries)});function qj(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new a8({type:"enum",entries:n,...Ae(e)})}function kpe(t,e){return new a8({type:"enum",entries:t,...Ae(e)})}const Fj=de("ZodMiniLiteral",(t,e)=>{ade.init(t,e),Yt.init(t,e)});function Oe(t,e){return new Fj({type:"literal",values:Array.isArray(t)?t:[t],...Ae(e)})}const Hj=de("ZodMiniFile",(t,e)=>{cde.init(t,e),Yt.init(t,e)});function $pe(t){return Ihe(Hj,t)}const Vj=de("ZodMiniTransform",(t,e)=>{lde.init(t,e),Yt.init(t,e)});function Tpe(t){return new Vj({type:"transform",transform:t})}const c8=de("ZodMiniOptional",(t,e)=>{ude.init(t,e),Yt.init(t,e)});function re(t){return new c8({type:"optional",innerType:t})}const Kj=de("ZodMiniNullable",(t,e)=>{dde.init(t,e),Yt.init(t,e)});function sg(t){return new Kj({type:"nullable",innerType:t})}function wd(t){return re(sg(t))}const Zj=de("ZodMiniDefault",(t,e)=>{hde.init(t,e),Yt.init(t,e)});function Npe(t,e){return new Zj({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Fk(e)}})}const Gj=de("ZodMiniPrefault",(t,e)=>{pde.init(t,e),Yt.init(t,e)});function Ope(t,e){return new Gj({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Fk(e)}})}const l8=de("ZodMiniNonOptional",(t,e)=>{fde.init(t,e),Yt.init(t,e)});function Ppe(t,e){return new l8({type:"nonoptional",innerType:t,...Ae(e)})}const Yj=de("ZodMiniSuccess",(t,e)=>{gde.init(t,e),Yt.init(t,e)});function Rpe(t){return new Yj({type:"success",innerType:t})}const Jj=de("ZodMiniCatch",(t,e)=>{mde.init(t,e),Yt.init(t,e)});function Dpe(t,e){return new Jj({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const Xj=de("ZodMiniNaN",(t,e)=>{wde.init(t,e),Yt.init(t,e)});function Upe(t){return _he(Xj,t)}const u8=de("ZodMiniPipe",(t,e)=>{yde.init(t,e),Yt.init(t,e)});function Mpe(t,e){return new u8({type:"pipe",in:t,out:e})}const d8=de("ZodMiniCodec",(t,e)=>{u8.init(t,e),OL.init(t,e)});function og(t,e,n){return new d8({type:"pipe",in:t,out:e,transform:n.decode,reverseTransform:n.encode})}const Qj=de("ZodMiniReadonly",(t,e)=>{bde.init(t,e),Yt.init(t,e)});function xe(t){return new Qj({type:"readonly",innerType:t})}const eB=de("ZodMiniTemplateLiteral",(t,e)=>{vde.init(t,e),Yt.init(t,e)});function Bg(t,e){return new eB({type:"template_literal",parts:t,...Ae(e)})}const tB=de("ZodMiniLazy",(t,e)=>{_de.init(t,e),Yt.init(t,e)});function nB(t){return new tB({type:"lazy",getter:t})}const rB=de("ZodMiniPromise",(t,e)=>{Cde.init(t,e),Yt.init(t,e)});function Lpe(t){return new rB({type:"promise",innerType:t})}const h8=de("ZodMiniCustom",(t,e)=>{Ide.init(t,e),Yt.init(t,e)});function jpe(t,e){const n=new Xr({check:"custom",...Ae(e)});return n._zod.check=t,n}function iB(t,e){return She(h8,t??(()=>!0),e)}function Bpe(t,e={}){return xhe(h8,t,e)}function zpe(t){return Ahe(t)}const Wpe=$he,qpe=The;function Fpe(t,e={error:`Input not instance of ${t.name}`}){const n=iB(r=>r instanceof t,e);return n._zod.bag.Class=t,n}const Hpe=(...t)=>Nhe({Codec:d8,Boolean:R4,String:p2},...t);function Vpe(){const t=nB(()=>Rt([Se(),Ht(),ri(),cr(),mt(t),xs(Se(),t)]));return t}const sB=de("ZodMiniFunction",(t,e)=>{Ede.init(t,e),Yt.init(t,e)});function a6(t){return new sB({type:"function",input:Array.isArray(t?.input)?At(t?.input):t?.input??mt(ji()),output:t?.output??ji()})}const p8=de("ZodMiniISODateTime",(t,e)=>{xue.init(t,e),Ar.init(t,e)});function eut(t){return Jde(p8,t)}const f8=de("ZodMiniISODate",(t,e)=>{Aue.init(t,e),Ar.init(t,e)});function tut(t){return Xde(f8,t)}const g8=de("ZodMiniISOTime",(t,e)=>{kue.init(t,e),Ar.init(t,e)});function nut(t){return Qde(g8,t)}const m8=de("ZodMiniISODuration",(t,e)=>{$ue.init(t,e),Ar.init(t,e)});function rut(t){return ehe(m8,t)}const Kpe=Object.freeze(Object.defineProperty({__proto__:null,ZodMiniISODate:f8,ZodMiniISODateTime:p8,ZodMiniISODuration:m8,ZodMiniISOTime:g8,date:tut,datetime:eut,duration:rut,time:nut},Symbol.toStringTag,{value:"Module"}));function iut(t){return kde(p2,t)}function sut(t){return nhe(P4,t)}function out(t){return lhe(R4,t)}function aut(t){return dhe(D4,t)}function cut(t){return Che(s8,t)}const Zpe=Object.freeze(Object.defineProperty({__proto__:null,bigint:aut,boolean:out,date:cut,number:sut,string:iut},Symbol.toStringTag,{value:"Module"})),lut=Object.freeze(Object.defineProperty({__proto__:null,$brand:oL,$input:DL,$output:RL,NEVER:sL,TimePrecision:LL,ZodMiniAny:$j,ZodMiniArray:Rj,ZodMiniBase64:Ej,ZodMiniBase64URL:Cj,ZodMiniBigInt:D4,ZodMiniBigIntFormat:r8,ZodMiniBoolean:R4,ZodMiniCIDRv4:yj,ZodMiniCIDRv6:bj,ZodMiniCUID:dj,ZodMiniCUID2:hj,ZodMiniCatch:Jj,ZodMiniCodec:d8,ZodMiniCustom:h8,ZodMiniCustomStringFormat:g2,ZodMiniDate:s8,ZodMiniDefault:Zj,ZodMiniDiscriminatedUnion:Mj,ZodMiniE164:_j,ZodMiniEmail:aj,ZodMiniEmoji:lj,ZodMiniEnum:a8,ZodMiniFile:Hj,ZodMiniFunction:sB,ZodMiniGUID:cj,ZodMiniIPv4:mj,ZodMiniIPv6:wj,ZodMiniISODate:f8,ZodMiniISODateTime:p8,ZodMiniISODuration:m8,ZodMiniISOTime:g8,ZodMiniIntersection:jj,ZodMiniJWT:Ij,ZodMiniKSUID:gj,ZodMiniLazy:tB,ZodMiniLiteral:Fj,ZodMiniMAC:vj,ZodMiniMap:zj,ZodMiniNaN:Xj,ZodMiniNanoID:uj,ZodMiniNever:Nj,ZodMiniNonOptional:l8,ZodMiniNull:kj,ZodMiniNullable:Kj,ZodMiniNumber:P4,ZodMiniNumberFormat:Oy,ZodMiniObject:U4,ZodMiniOptional:c8,ZodMiniPipe:u8,ZodMiniPrefault:Gj,ZodMiniPromise:rB,ZodMiniReadonly:Qj,ZodMiniRecord:o8,ZodMiniSet:Wj,ZodMiniString:p2,ZodMiniStringFormat:Ar,ZodMiniSuccess:Yj,ZodMiniSymbol:xj,ZodMiniTemplateLiteral:eB,ZodMiniTransform:Vj,ZodMiniTuple:Bj,ZodMiniType:Yt,ZodMiniULID:pj,ZodMiniURL:n8,ZodMiniUUID:f2,ZodMiniUndefined:Aj,ZodMiniUnion:Uj,ZodMiniUnknown:Tj,ZodMiniVoid:Pj,ZodMiniXID:fj,_default:Npe,_function:a6,any:i8,array:mt,base64:Qhe,base64url:epe,bigint:Sj,boolean:ri,catch:Dpe,catchall:_pe,check:jpe,cidrv4:Yhe,cidrv6:Jhe,clone:Oc,codec:og,coerce:Zpe,config:Sc,core:Ohe,cuid:qhe,cuid2:Fhe,custom:iB,date:Uf,decode:Ui,decodeAsync:wL,describe:Wpe,discriminatedUnion:Lj,e164:tpe,email:Phe,emoji:zhe,encode:Er,encodeAsync:mL,endsWith:QL,enum:qj,extend:bpe,file:$pe,flattenError:hL,float32:cpe,float64:lpe,formatError:pL,function:a6,globalRegistry:Mg,gt:t8,gte:Lg,guid:Rhe,hash:ope,hex:spe,hostname:ipe,httpUrl:Bhe,includes:JL,instanceof:Fpe,int:ape,int32:upe,int64:hpe,intersection:Ipe,ipv4:Zhe,ipv6:Ghe,iso:Kpe,json:Vpe,jwt:npe,keyof:mpe,ksuid:Khe,lazy:nB,length:ZL,literal:Oe,locales:PL,looseObject:ype,lowercase:GL,lt:e8,lte:T0,mac:Xhe,map:xpe,maxLength:KL,maxSize:FL,maximum:T0,merge:Epe,meta:qpe,mime:tj,minLength:N4,minSize:HL,minimum:Lg,multipleOf:qL,nan:Upe,nanoid:Whe,nativeEnum:kpe,negative:BL,never:Oj,nonnegative:WL,nonoptional:Ppe,nonpositive:zL,normalize:nj,null:cr,nullable:sg,nullish:wd,number:Ht,object:J,omit:Dj,optional:re,overwrite:um,parse:wv,parseAsync:yv,partial:N0,partialRecord:Spe,pick:Ud,pipe:Mpe,positive:jL,prefault:Ope,prettifyError:gL,promise:Lpe,property:ej,readonly:xe,record:xs,refine:Bpe,regex:Ny,regexes:Jk,registry:Qk,required:Cpe,safeDecode:bL,safeDecodeAsync:EL,safeEncode:yL,safeEncodeAsync:vL,safeExtend:vpe,safeParse:h2,safeParseAsync:A4,set:Ape,size:VL,startsWith:XL,strictObject:wpe,string:Se,stringFormat:rpe,stringbool:Hpe,success:Rpe,superRefine:zpe,symbol:fpe,templateLiteral:Bg,toJSONSchema:oj,toLowerCase:ij,toUpperCase:sj,transform:Tpe,treeifyError:fL,trim:rj,tuple:At,uint32:dpe,uint64:ppe,ulid:Hhe,undefined:jg,union:Rt,unknown:ji,uppercase:YL,url:jhe,util:dL,uuid:Dhe,uuidv4:Uhe,uuidv6:Mhe,uuidv7:Lhe,void:gpe,xid:Vhe},Symbol.toStringTag,{value:"Module"})),uut=Object.freeze(Object.defineProperty({__proto__:null,$brand:oL,$input:DL,$output:RL,NEVER:sL,TimePrecision:LL,ZodMiniAny:$j,ZodMiniArray:Rj,ZodMiniBase64:Ej,ZodMiniBase64URL:Cj,ZodMiniBigInt:D4,ZodMiniBigIntFormat:r8,ZodMiniBoolean:R4,ZodMiniCIDRv4:yj,ZodMiniCIDRv6:bj,ZodMiniCUID:dj,ZodMiniCUID2:hj,ZodMiniCatch:Jj,ZodMiniCodec:d8,ZodMiniCustom:h8,ZodMiniCustomStringFormat:g2,ZodMiniDate:s8,ZodMiniDefault:Zj,ZodMiniDiscriminatedUnion:Mj,ZodMiniE164:_j,ZodMiniEmail:aj,ZodMiniEmoji:lj,ZodMiniEnum:a8,ZodMiniFile:Hj,ZodMiniFunction:sB,ZodMiniGUID:cj,ZodMiniIPv4:mj,ZodMiniIPv6:wj,ZodMiniISODate:f8,ZodMiniISODateTime:p8,ZodMiniISODuration:m8,ZodMiniISOTime:g8,ZodMiniIntersection:jj,ZodMiniJWT:Ij,ZodMiniKSUID:gj,ZodMiniLazy:tB,ZodMiniLiteral:Fj,ZodMiniMAC:vj,ZodMiniMap:zj,ZodMiniNaN:Xj,ZodMiniNanoID:uj,ZodMiniNever:Nj,ZodMiniNonOptional:l8,ZodMiniNull:kj,ZodMiniNullable:Kj,ZodMiniNumber:P4,ZodMiniNumberFormat:Oy,ZodMiniObject:U4,ZodMiniOptional:c8,ZodMiniPipe:u8,ZodMiniPrefault:Gj,ZodMiniPromise:rB,ZodMiniReadonly:Qj,ZodMiniRecord:o8,ZodMiniSet:Wj,ZodMiniString:p2,ZodMiniStringFormat:Ar,ZodMiniSuccess:Yj,ZodMiniSymbol:xj,ZodMiniTemplateLiteral:eB,ZodMiniTransform:Vj,ZodMiniTuple:Bj,ZodMiniType:Yt,ZodMiniULID:pj,ZodMiniURL:n8,ZodMiniUUID:f2,ZodMiniUndefined:Aj,ZodMiniUnion:Uj,ZodMiniUnknown:Tj,ZodMiniVoid:Pj,ZodMiniXID:fj,_default:Npe,_function:a6,any:i8,array:mt,base64:Qhe,base64url:epe,bigint:Sj,boolean:ri,catch:Dpe,catchall:_pe,check:jpe,cidrv4:Yhe,cidrv6:Jhe,clone:Oc,codec:og,coerce:Zpe,config:Sc,core:Ohe,cuid:qhe,cuid2:Fhe,custom:iB,date:Uf,decode:Ui,decodeAsync:wL,describe:Wpe,discriminatedUnion:Lj,e164:tpe,email:Phe,emoji:zhe,encode:Er,encodeAsync:mL,endsWith:QL,enum:qj,extend:bpe,file:$pe,flattenError:hL,float32:cpe,float64:lpe,formatError:pL,function:a6,globalRegistry:Mg,gt:t8,gte:Lg,guid:Rhe,hash:ope,hex:spe,hostname:ipe,httpUrl:Bhe,includes:JL,instanceof:Fpe,int:ape,int32:upe,int64:hpe,intersection:Ipe,ipv4:Zhe,ipv6:Ghe,iso:Kpe,json:Vpe,jwt:npe,keyof:mpe,ksuid:Khe,lazy:nB,length:ZL,literal:Oe,locales:PL,looseObject:ype,lowercase:GL,lt:e8,lte:T0,mac:Xhe,map:xpe,maxLength:KL,maxSize:FL,maximum:T0,merge:Epe,meta:qpe,mime:tj,minLength:N4,minSize:HL,minimum:Lg,multipleOf:qL,nan:Upe,nanoid:Whe,nativeEnum:kpe,negative:BL,never:Oj,nonnegative:WL,nonoptional:Ppe,nonpositive:zL,normalize:nj,null:cr,nullable:sg,nullish:wd,number:Ht,object:J,omit:Dj,optional:re,overwrite:um,parse:wv,parseAsync:yv,partial:N0,partialRecord:Spe,pick:Ud,pipe:Mpe,positive:jL,prefault:Ope,prettifyError:gL,promise:Lpe,property:ej,readonly:xe,record:xs,refine:Bpe,regex:Ny,regexes:Jk,registry:Qk,required:Cpe,safeDecode:bL,safeDecodeAsync:EL,safeEncode:yL,safeEncodeAsync:vL,safeExtend:vpe,safeParse:h2,safeParseAsync:A4,set:Ape,size:VL,startsWith:XL,strictObject:wpe,string:Se,stringFormat:rpe,stringbool:Hpe,success:Rpe,superRefine:zpe,symbol:fpe,templateLiteral:Bg,toJSONSchema:oj,toLowerCase:ij,toUpperCase:sj,transform:Tpe,treeifyError:fL,trim:rj,tuple:At,uint32:dpe,uint64:ppe,ulid:Hhe,undefined:jg,union:Rt,unknown:ji,uppercase:YL,url:jhe,util:dL,uuid:Dhe,uuidv4:Uhe,uuidv6:Mhe,uuidv7:Lhe,void:gpe,xid:Vhe,z:lut},Symbol.toStringTag,{value:"Module"}));const Ia=BigInt(0),qo=BigInt(1),Sw=BigInt(2),dut=BigInt(3),Gpe=BigInt(4),Ype=BigInt(5),Jpe=BigInt(8);function ma(t,e){const n=t%e;return n>=Ia?n:e+n}function qc(t,e,n){let r=t;for(;e-- >Ia;)r*=r,r%=n;return r}function V7(t,e){if(t===Ia)throw new Error("invert: expected non-zero number");if(e<=Ia)throw new Error("invert: expected positive modulus, got "+e);let n=ma(t,e),r=e,i=Ia,s=qo;for(;n!==Ia;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==qo)throw new Error("invert: does not exist");return ma(i,e)}function Xpe(t,e){const n=(t.ORDER+qo)/Gpe,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function hut(t,e){const n=(t.ORDER-Ype)/Jpe,r=t.mul(e,Sw),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Sw),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function put(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-qo,n=0;for(;e%Sw===Ia;)e/=Sw,n++;let r=Sw;const i=m2(t);for(;gZ(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Xpe;let s=i.pow(r,e);const o=(e+qo)/Sw;return function(c,l){if(c.is0(l))return l;if(gZ(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let f=1,g=c.sqr(h);for(;!c.eql(g,c.ONE);)if(f++,g=c.sqr(g),f===u)throw new Error("Cannot find square root");const m=qo<<BigInt(u-f-1),b=c.pow(d,m);u=f,d=c.sqr(b),h=c.mul(h,d),p=c.mul(p,b)}return p}}function fut(t){return t%Gpe===dut?Xpe:t%Jpe===Ype?hut:put(t)}const gut=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mut(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gut.reduce((r,i)=>(r[i]="function",r),e);return jk(t,n)}function wut(t,e,n){if(n<Ia)throw new Error("invalid exponent, negatives unsupported");if(n===Ia)return t.ONE;if(n===qo)return e;let r=t.ONE,i=e;for(;n>Ia;)n&qo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=qo;return r}function Qpe(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function gZ(t,e){const n=(t.ORDER-qo)/Sw,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function efe(t,e){e!==void 0&&vg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function m2(t,e,n=!1,r={}){if(t<=Ia)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=efe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Lk(i),ZERO:Ia,ONE:qo,create:c=>ma(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ia<=c&&c<t},is0:c=>c===Ia,isOdd:c=>(c&qo)===qo,neg:c=>ma(-c,t),eql:(c,l)=>c===l,sqr:c=>ma(c*c,t),add:(c,l)=>ma(c+l,t),sub:(c,l)=>ma(c-l,t),mul:(c,l)=>ma(c*l,t),pow:(c,l)=>wut(a,c,l),div:(c,l)=>ma(c*V7(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>V7(c,t),sqrt:r.sqrt||(c=>(o||(o=fut(t)),o(a,c))),toBytes:c=>n?kce(c,s):I4(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Ace(c):Pw(c)},invertBatch:c=>Qpe(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function tfe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function nfe(t){const e=tfe(t);return e+Math.ceil(e/2)}function yut(t,e,n=!1){const r=t.length,i=tfe(e),s=nfe(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Ace(t):Pw(t),a=ma(o,e-qo)+qo;return n?kce(a,i):I4(a,i)}const mZ=BigInt(0),K7=BigInt(1);function kN(t,e){const n=e.negate();return t?n:e}function rfe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $N(t,e){rfe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Lk(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function wZ(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=K7);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:p,offsetF:l}}function but(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function vut(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const TN=new WeakMap,ife=new WeakMap;function NN(t){return ife.get(t)||1}function Eut(t,e){return{constTimeNegate:kN,hasPrecomputes(n){return NN(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>mZ;)r&K7&&(i=i.add(s)),s=s.double(),r>>=K7;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=$N(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=$N(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:p,offsetF:f}=wZ(i,c,a);i=l,d?o=o.add(kN(p,r[f])):s=s.add(kN(h,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=$N(n,e);for(let a=0;a<o.windows&&i!==mZ;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=wZ(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=TN.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&TN.set(r,i(s))),s},wNAFCached(n,r,i){const s=NN(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=NN(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){rfe(r,e),ife.set(n,r),TN.delete(n)}}}function Cut(t,e,n,r){but(n,t),vut(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=vot(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Lk(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let p=d;p>=0;p-=c){u.fill(o);for(let g=0;g<s;g++){const m=r[g],b=Number(m>>BigInt(p)&l);u[b]=u[b].add(n[g])}let f=o;for(let g=u.length-1,m=o;g>0;g--)m=m.add(u[g]),f=f.add(m);if(h=h.add(f),p!==0)for(let g=0;g<c;g++)h=h.double()}return h}function sfe(t){return mut(t.Fp),jk(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...efe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function yZ(t){t.lowS!==void 0&&XC("lowS",t.lowS),t.prehash!==void 0&&XC("prehash",t.prehash)}function _ut(t){const e=sfe(t);jk(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let Iut=class extends Error{constructor(e=""){super(e)}};const qh={Err:Iut,_tlv:{encode:(t,e)=>{const{Err:n}=qh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=mI(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?mI(i.length/2|128):"";return mI(t)+s+i+e},decode(t,e){const{Err:n}=qh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=qh;if(t<Gh)throw new e("integer: negative integers are not allowed");let n=mI(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=qh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Pw(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=qh,i=rl("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=qh,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function ON(t,e){return QC(I4(t,e))}const Gh=BigInt(0),us=BigInt(1);BigInt(2);const PN=BigInt(3),Sut=BigInt(4);function xut(t){const e=_ut(t),{Fp:n}=e,r=m2(e.n,e.nBitLength),i=e.toBytes||((v,w,C)=>{const I=w.toAffine();return n6(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(v=>{const w=v.subarray(1),C=n.fromBytes(w.subarray(0,n.BYTES)),I=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function o(v){const{a:w,b:C}=e,I=n.sqr(v),k=n.mul(I,v);return n.add(n.add(k,n.mul(v,w)),C)}function a(v,w){const C=n.sqr(w),I=o(v);return n.eql(C,I)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,PN),Sut),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return nL(v,us,e.n)}function d(v){const{allowedPrivateKeyLengths:w,nByteLength:C,wrapPrivateKey:I,n:k}=e;if(w&&typeof v!="bigint"){if(_4(v)&&(v=QC(v)),typeof v!="string"||!w.includes(v.length))throw new Error("invalid private key");v=v.padStart(C*2,"0")}let P;try{P=typeof v=="bigint"?v:Pw(rl("private key",v,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof v)}return I&&(P=ma(P,k)),S1("private key",P,us,k),P}function h(v){if(!(v instanceof g))throw new Error("ProjectivePoint expected")}const p=HK((v,w)=>{const{px:C,py:I,pz:k}=v;if(n.eql(k,n.ONE))return{x:C,y:I};const P=v.is0();w==null&&(w=P?n.ONE:n.inv(k));const S=n.mul(C,w),N=n.mul(I,w),R=n.mul(k,w);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(R,n.ONE))throw new Error("invZ was invalid");return{x:S,y:N}}),f=HK(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:w,y:C}=v.toAffine();if(!n.isValid(w)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!a(w,C))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(w,C,I){if(w==null||!n.isValid(w))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=w,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(w){const{x:C,y:I}=w||{};if(!w||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(w instanceof g)throw new Error("projective point not allowed");const k=P=>n.eql(P,n.ZERO);return k(C)&&k(I)?g.ZERO:new g(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const C=Qpe(n,w.map(I=>I.pz));return w.map((I,k)=>I.toAffine(C[k])).map(g.fromAffine)}static fromHex(w){const C=g.fromAffine(s(rl("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){return g.BASE.multiply(d(w))}static msm(w,C){return Cut(g,r,w,C)}_setWindowSize(w){y.setWindowSize(this,w)}assertValidity(){f(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){h(w);const{px:C,py:I,pz:k}=this,{px:P,py:S,pz:N}=w,R=n.eql(n.mul(C,N),n.mul(P,k)),D=n.eql(n.mul(I,N),n.mul(S,k));return R&&D}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:C}=e,I=n.mul(C,PN),{px:k,py:P,pz:S}=this;let N=n.ZERO,R=n.ZERO,D=n.ZERO,O=n.mul(k,k),T=n.mul(P,P),E=n.mul(S,S),_=n.mul(k,P);return _=n.add(_,_),D=n.mul(k,S),D=n.add(D,D),N=n.mul(w,D),R=n.mul(I,E),R=n.add(N,R),N=n.sub(T,R),R=n.add(T,R),R=n.mul(N,R),N=n.mul(_,N),D=n.mul(I,D),E=n.mul(w,E),_=n.sub(O,E),_=n.mul(w,_),_=n.add(_,D),D=n.add(O,O),O=n.add(D,O),O=n.add(O,E),O=n.mul(O,_),R=n.add(R,O),E=n.mul(P,S),E=n.add(E,E),O=n.mul(E,_),N=n.sub(N,O),D=n.mul(E,T),D=n.add(D,D),D=n.add(D,D),new g(N,R,D)}add(w){h(w);const{px:C,py:I,pz:k}=this,{px:P,py:S,pz:N}=w;let R=n.ZERO,D=n.ZERO,O=n.ZERO;const T=e.a,E=n.mul(e.b,PN);let _=n.mul(C,P),x=n.mul(I,S),M=n.mul(k,N),A=n.add(C,I),U=n.add(P,S);A=n.mul(A,U),U=n.add(_,x),A=n.sub(A,U),U=n.add(C,k);let B=n.add(P,N);return U=n.mul(U,B),B=n.add(_,M),U=n.sub(U,B),B=n.add(I,k),R=n.add(S,N),B=n.mul(B,R),R=n.add(x,M),B=n.sub(B,R),O=n.mul(T,U),R=n.mul(E,M),O=n.add(R,O),R=n.sub(x,O),O=n.add(x,O),D=n.mul(R,O),x=n.add(_,_),x=n.add(x,_),M=n.mul(T,M),U=n.mul(E,U),x=n.add(x,M),M=n.sub(_,M),M=n.mul(T,M),U=n.add(U,M),_=n.mul(x,U),D=n.add(D,_),_=n.mul(B,U),R=n.mul(A,R),R=n.sub(R,_),_=n.mul(A,x),O=n.mul(B,O),O=n.add(O,_),new g(R,D,O)}subtract(w){return this.add(w.negate())}is0(){return this.equals(g.ZERO)}wNAF(w){return y.wNAFCached(this,w,g.normalizeZ)}multiplyUnsafe(w){const{endo:C,n:I}=e;S1("scalar",w,Gh,I);const k=g.ZERO;if(w===Gh)return k;if(this.is0()||w===us)return this;if(!C||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,w,g.normalizeZ);let{k1neg:P,k1:S,k2neg:N,k2:R}=C.splitScalar(w),D=k,O=k,T=this;for(;S>Gh||R>Gh;)S&us&&(D=D.add(T)),R&us&&(O=O.add(T)),T=T.double(),S>>=us,R>>=us;return P&&(D=D.negate()),N&&(O=O.negate()),O=new g(n.mul(O.px,C.beta),O.py,O.pz),D.add(O)}multiply(w){const{endo:C,n:I}=e;S1("scalar",w,us,I);let k,P;if(C){const{k1neg:S,k1:N,k2neg:R,k2:D}=C.splitScalar(w);let{p:O,f:T}=this.wNAF(N),{p:E,f:_}=this.wNAF(D);O=y.constTimeNegate(S,O),E=y.constTimeNegate(R,E),E=new g(n.mul(E.px,C.beta),E.py,E.pz),k=O.add(E),P=T.add(_)}else{const{p:S,f:N}=this.wNAF(w);k=S,P=N}return g.normalizeZ([k,P])[0]}multiplyAndAddUnsafe(w,C,I){const k=g.BASE,P=(N,R)=>R===Gh||R===us||!N.equals(k)?N.multiplyUnsafe(R):N.multiply(R),S=P(this,C).add(P(w,I));return S.is0()?void 0:S}toAffine(w){return p(this,w)}isTorsionFree(){const{h:w,isTorsionFree:C}=e;if(w===us)return!0;if(C)return C(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:C}=e;return w===us?this:C?C(g,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return XC("isCompressed",w),this.assertValidity(),i(g,this,w)}toHex(w=!0){return XC("isCompressed",w),QC(this.toRawBytes(w))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:b}=e,y=Eut(g,m?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function Aut(t){const e=sfe(t);return jk(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function kut(t){const e=Aut(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(E){return ma(E,r)}function l(E){return V7(E,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:p}=xut({...e,toBytes(E,_,x){const M=_.toAffine(),A=n.toBytes(M.x),U=n6;return XC("isCompressed",x),x?U(Uint8Array.from([_.hasEvenY()?2:3]),A):U(Uint8Array.from([4]),A,n.toBytes(M.y))},fromBytes(E){const _=E.length,x=E[0],M=E.subarray(1);if(_===o&&(x===2||x===3)){const A=Pw(M);if(!nL(A,us,n.ORDER))throw new Error("Point is not on curve");const U=h(A);let B;try{B=n.sqrt(U)}catch(q){const F=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+F)}const z=(B&us)===us;return(x&1)===1!==z&&(B=n.neg(B)),{x:A,y:B}}else if(_===a&&x===4){const A=n.fromBytes(M.subarray(0,n.BYTES)),U=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:A,y:U}}else{const A=o,U=a;throw new Error("invalid Point, expected length of "+A+", or uncompressed "+U+", got "+_)}}});function f(E){const _=r>>us;return E>_}function g(E){return f(E)?c(-E):E}const m=(E,_,x)=>Pw(E.slice(_,x));class b{constructor(_,x,M){S1("r",_,us,r),S1("s",x,us,r),this.r=_,this.s=x,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(_){const x=i;return _=rl("compactSignature",_,x*2),new b(m(_,0,x),m(_,x,2*x))}static fromDER(_){const{r:x,s:M}=qh.toSig(rl("DER",_));return new b(x,M)}assertValidity(){}addRecoveryBit(_){return new b(this.r,this.s,_)}recoverPublicKey(_){const{r:x,s:M,recovery:A}=this,U=k(rl("msgHash",_));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const B=A===2||A===3?x+e.n:x;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=(A&1)===0?"02":"03",H=u.fromHex(z+ON(B,n.BYTES)),q=l(B),F=c(-U*q),K=c(M*q),ee=u.BASE.multiplyAndAddUnsafe(H,F,K);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return t6(this.toDERHex())}toDERHex(){return qh.hexFromSig(this)}toCompactRawBytes(){return t6(this.toCompactHex())}toCompactHex(){const _=i;return ON(this.r,_)+ON(this.s,_)}}const y={isValidPrivateKey(E){try{return d(E),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const E=nfe(e.n);return yut(e.randomBytes(E),e.n)},precompute(E=8,_=u.BASE){return _._setWindowSize(E),_.multiply(BigInt(3)),_}};function v(E,_=!0){return u.fromPrivateKey(E).toRawBytes(_)}function w(E){if(typeof E=="bigint")return!1;if(E instanceof u)return!0;const x=rl("key",E).length,M=n.BYTES,A=M+1,U=2*M+1;if(!(e.allowedPrivateKeyLengths||i===A))return x===A||x===U}function C(E,_,x=!0){if(w(E)===!0)throw new Error("first arg must be private key");if(w(_)===!1)throw new Error("second arg must be public key");return u.fromHex(_).multiply(d(E)).toRawBytes(x)}const I=e.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");const _=Pw(E),x=E.length*8-s;return x>0?_>>BigInt(x):_},k=e.bits2int_modN||function(E){return c(I(E))},P=Lk(s);function S(E){return S1("num < 2^"+s,E,Gh,P),I4(E,i)}function N(E,_,x=R){if(["recovered","canonical"].some(te=>te in x))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:A}=e;let{lowS:U,prehash:B,extraEntropy:z}=x;U==null&&(U=!0),E=rl("msgHash",E),yZ(x),B&&(E=rl("prehashed msgHash",M(E)));const H=k(E),q=d(_),F=[S(q),S(H)];if(z!=null&&z!==!1){const te=z===!0?A(n.BYTES):z;F.push(rl("extraEntropy",te))}const K=n6(...F),ee=H;function se(te){const ue=I(te);if(!p(ue))return;const ge=l(ue),$e=u.BASE.multiply(ue).toAffine(),he=c($e.x);if(he===Gh)return;const me=c(ge*c(ee+he*q));if(me===Gh)return;let Me=($e.x===he?0:2)|Number($e.y&us),Ct=me;return U&&f(me)&&(Ct=g(me),Me^=1),new b(he,Ct,Me)}return{seed:K,k2sig:se}}const R={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function O(E,_,x=R){const{seed:M,k2sig:A}=N(E,_,x),U=e;return Eot(U.hash.outputLen,U.nByteLength,U.hmac)(M,A)}u.BASE._setWindowSize(8);function T(E,_,x,M=D){const A=E;_=rl("msgHash",_),x=rl("publicKey",x);const{lowS:U,prehash:B,format:z}=M;if(yZ(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if(z!==void 0&&z!=="compact"&&z!=="der")throw new Error("format must be compact or der");const H=typeof A=="string"||_4(A),q=!H&&!z&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!H&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,K;try{if(q&&(F=new b(A.r,A.s)),H){try{z!=="compact"&&(F=b.fromDER(A))}catch(Me){if(!(Me instanceof qh.Err))throw Me}!F&&z!=="der"&&(F=b.fromCompact(A))}K=u.fromHex(x)}catch{return!1}if(!F||U&&F.hasHighS())return!1;B&&(_=e.hash(_));const{r:ee,s:se}=F,te=k(_),ue=l(se),ge=c(te*ue),$e=c(ee*ue),he=u.BASE.multiplyAndAddUnsafe(K,ge,$e)?.toAffine();return he?c(he.x)===ee:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:C,sign:O,verify:T,ProjectivePoint:u,Signature:b,utils:y}}function $ut(t){return{hash:t,hmac:(e,...n)=>U_(t,e,iu(...n)),randomBytes:P_}}function w8(t,e){const n=r=>kut({...t,...$ut(r)});return{...n(e),create:n}}const ofe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bZ=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Tut=BigInt(0),Nut=BigInt(1),Z7=BigInt(2),vZ=(t,e)=>(t+e/Z7)/e;function Out(t){const e=ofe,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=qc(u,n,e)*u%e,h=qc(d,n,e)*u%e,p=qc(h,Z7,e)*l%e,f=qc(p,i,e)*p%e,g=qc(f,s,e)*f%e,m=qc(g,a,e)*g%e,b=qc(m,c,e)*m%e,y=qc(b,a,e)*g%e,v=qc(y,n,e)*u%e,w=qc(v,o,e)*f%e,C=qc(w,r,e)*l%e,I=qc(C,Z7,e);if(!G7.eql(G7.sqr(I),t))throw new Error("Cannot find square root");return I}const G7=m2(ofe,void 0,void 0,{sqrt:Out}),y8=w8({a:Tut,b:BigInt(7),Fp:G7,n:bZ,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=bZ,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Nut*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=vZ(s*t,e),c=vZ(-r*t,e);let l=ma(t-a*n-c*i,e),u=ma(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Gv);let afe=!1;function Put(t){const{privateKey:e}=t,n=y8.ProjectivePoint.fromPrivateKey($y(e).slice(2));return gv(n)}function Rut(t={}){const{as:e="Hex"}=t,n=y8.utils.randomPrivateKey();return e==="Hex"?_o(n):n}function cfe(t){return iL(Dut(t))}function Dut(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,a=new y8.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey($y(e).substring(2));return gv(a)}function lfe(t){const{extraEntropy:e=afe,hash:n,payload:r,privateKey:i}=t,{r:s,s:o,recovery:a}=y8.sign(S0(r),S0(i),{extraEntropy:typeof e=="boolean"?e:$y(e).slice(2),lowS:!0,...n?{prehash:!0}:{}});return{r:s,s:o,yParity:a}}const Uut=/^(.*)\[([0-9]*)\]$/,ufe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,oB=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,EZ=2n**256n-1n;function aB(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new RN({signature:t});if(typeof t.s>"u")throw new RN({signature:t});if(n&&typeof t.yParity>"u")throw new RN({signature:t});if(t.r<0n||t.r>EZ)throw new Fut({value:t.r});if(t.s<0n||t.s>EZ)throw new Hut({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new b8({value:t.yParity})}function Mut(t){return cB(_o(t))}function cB(t){if(t.length!==130&&t.length!==132)throw new qut({signature:t});const e=BigInt(ys(t,0,32)),n=BigInt(ys(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return lB(i)}catch{throw new b8({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Lut(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return dfe(t)}function dfe(t){const e=typeof t=="string"?cB(t):t instanceof Uint8Array?Mut(t):typeof t.r=="string"?But(t):t.v?jut(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return aB(e),e}function jut(t){return{r:t.r,s:t.s,yParity:lB(t.v)}}function But(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=lB(n)),typeof r!="number")throw new b8({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function gS(t){aB(t);const e=t.r,n=t.s;return Hs(nn(e,{size:32}),nn(n,{size:32}),typeof t.yParity=="number"?nn(Wut(t.yParity),{size:1}):"0x")}function zut(t){const{r:e,s:n,yParity:r}=t;return[r?"0x01":"0x",e===0n?"0x":KK(nn(e)),n===0n?"0x":KK(nn(n))]}function lB(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Vut({value:t})}function Wut(t){if(t===0)return 27;if(t===1)return 28;throw new b8({value:t})}class qut extends xt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ii($y(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class RN extends xt{constructor({signature:e}){super(`Signature \`${Op(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Fut extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Hut extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class b8 extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Vut extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}const Kut="1.2.1";let ja=class Y7 extends Error{constructor(e,n={}){const r=n.cause instanceof Y7?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Y7&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Kut}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Kp(t,e){return t.exec(e)?.groups}const hfe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,pfe=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ffe=/^\(.+?\).*?$/,CZ=/^tuple(?<array>(\[(\d*)\])*)$/;function J7(t){let e=t.type;if(CZ.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=J7(s),i<n-1&&(e+=", ")}const r=Kp(CZ,t.type);return e+=`)${r?.array||""}`,J7({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function l3(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=J7(i),r!==n-1&&(e+=", ")}return e}function X7(t){return t.type==="function"?`function ${t.name}(${l3(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${l3(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${l3(t.inputs)})`:t.type==="error"?`error ${t.name}(${l3(t.inputs)})`:t.type==="constructor"?`constructor(${l3(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const gfe=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Zut(t){return gfe.test(t)}function Gut(t){return Kp(gfe,t)}const mfe=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Yut(t){return mfe.test(t)}function Jut(t){return Kp(mfe,t)}const wfe=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Xut(t){return wfe.test(t)}function Qut(t){return Kp(wfe,t)}const yfe=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function uB(t){return yfe.test(t)}function edt(t){return Kp(yfe,t)}const bfe=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function tdt(t){return bfe.test(t)}function ndt(t){return Kp(bfe,t)}const vfe=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function rdt(t){return vfe.test(t)}function idt(t){return Kp(vfe,t)}const sdt=/^receive\(\) external payable$/;function odt(t){return sdt.test(t)}const _Z=new Set(["memory","indexed","storage","calldata"]),adt=new Set(["indexed"]),Q7=new Set(["calldata","memory","storage"]);class cdt extends ja{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class ldt extends ja{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class udt extends ja{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class ddt extends ja{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class hdt extends ja{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class pdt extends ja{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class fdt extends ja{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class gdt extends ja{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class mdt extends ja{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class w2 extends ja{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class wdt extends ja{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class ydt extends ja{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class bdt extends ja{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class vdt extends ja{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Edt(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const DN=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function IZ(t,e={}){if(Xut(t))return Cdt(t,e);if(Yut(t))return _dt(t,e);if(Zut(t))return Idt(t,e);if(tdt(t))return Sdt(t,e);if(rdt(t))return xdt(t);if(odt(t))return{type:"receive",stateMutability:"payable"};throw new wdt({signature:t})}function Cdt(t,e={}){const n=Qut(t);if(!n)throw new w2({signature:t,type:"function"});const r=ac(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Rp(r[a],{modifiers:Q7,structs:e,type:"function"}));const o=[];if(n.returns){const a=ac(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Rp(a[l],{modifiers:Q7,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function _dt(t,e={}){const n=Jut(t);if(!n)throw new w2({signature:t,type:"event"});const r=ac(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Rp(r[o],{modifiers:adt,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Idt(t,e={}){const n=Gut(t);if(!n)throw new w2({signature:t,type:"error"});const r=ac(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Rp(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function Sdt(t,e={}){const n=ndt(t);if(!n)throw new w2({signature:t,type:"constructor"});const r=ac(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Rp(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function xdt(t){const e=idt(t);if(!e)throw new w2({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Adt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,kdt=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,$dt=/^u?int$/;function Rp(t,e){const n=Edt(t,e?.type,e?.structs);if(DN.has(n))return DN.get(n);const r=ffe.test(t),i=Kp(r?kdt:Adt,t);if(!i)throw new hdt({param:t});if(i.name&&Ndt(i.name))throw new pdt({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let c,l={};if(r){c="tuple";const d=ac(i.type),h=[],p=d.length;for(let f=0;f<p;f++)h.push(Rp(d[f],{structs:a}));l={components:h}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if($dt.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,e?.type!=="struct"&&!Efe(c))throw new udt({type:c});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new fdt({param:t,type:e?.type,modifier:i.modifier});if(Q7.has(i.modifier)&&!Odt(c,!!i.array))throw new gdt({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return DN.set(n,u),u}function ac(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?ac(a,[...e,n.trim()]):ac(a,e,`${n}${o}`,r);case"(":return ac(a,e,`${n}${o}`,r+1);case")":return ac(a,e,`${n}${o}`,r-1);default:return ac(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new vdt({current:n,depth:r});return e.push(n.trim()),e}function Efe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||hfe.test(t)||pfe.test(t)}const Tdt=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ndt(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||hfe.test(t)||pfe.test(t)||Tdt.test(t)}function Odt(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Cfe(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!uB(a))continue;const c=edt(a);if(!c)throw new w2({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const f=l[h].trim();if(!f)continue;const g=Rp(f,{type:"struct"});u.push(g)}if(!u.length)throw new ydt({signature:a});e[c.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=_fe(c,e)}return r}const Pdt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function _fe(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(ffe.test(o.type))r.push(o);else{const c=Kp(Pdt,o.type);if(!c?.type)throw new mdt({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new bdt({type:u});r.push({...o,type:`tuple${l??""}`,components:_fe(e[u],e,new Set([...n,u]))})}else if(Efe(u))r.push(o);else throw new ldt({type:u})}}return r}function SZ(t){let e;if(typeof t=="string")e=IZ(t);else{const n=Cfe(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!uB(s)){e=IZ(s,n);break}}}if(!e)throw new cdt({signature:t});return e}function xZ(t){const e=[];if(typeof t=="string"){const n=ac(t),r=n.length;for(let i=0;i<r;i++)e.push(Rp(n[i],{modifiers:_Z}))}else{const n=Cfe(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(uB(s))continue;const o=ac(s),a=o.length;for(let c=0;c<a;c++)e.push(Rp(o[c],{modifiers:_Z,structs:n}))}}if(e.length===0)throw new ddt({params:t});return e}function Rdt({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(dB({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function dB({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=Wdt(r.type);if(i){const[s,o]=i;return Udt(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return zdt(n,{checksumAddress:t,parameter:r});if(r.type==="address")return Ddt(n,{checksum:t});if(r.type==="bool")return Ldt(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=oB.exec(r.type)??[];return jdt(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return Mdt(n,{type:r.type});if(r.type==="string")return Bdt(n);throw new Afe(r.type)}function hB(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Ii(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(nn(e+i,{size:32})),r.push(a),i+=Ii(a)):n.push(a)}return Hs(...n,...r)}function Ddt(t,e){const{checksum:n=!1}=e;return A0(t,{strict:n}),{dynamic:!1,encoded:Ug(t.toLowerCase())}}function Udt(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new Zdt(t);if(!s&&t.length!==r)throw new Kdt({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const l=dB({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(o=!0),a.push(l)}if(s||o){const c=hB(a);if(s){const l=nn(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Hs(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Hs(...a.map(({encoded:c})=>c))}}function Mdt(t,{type:e}){const[,n]=e.split("bytes"),r=Ii(t);if(!n){let i=t;return r%32!==0&&(i=I0(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Hs(Ug(nn(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new Sfe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:I0(t)}}function Ldt(t){if(typeof t!="boolean")throw new xt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ug(Nce(t))}}function jdt(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Oce({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:nn(t,{size:32,signed:e})}}function Bdt(t){const e=dl(t),n=Math.ceil(Ii(e)/32),r=[];for(let i=0;i<n;i++)r.push(I0(ys(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:Hs(I0(nn(Ii(e),{size:32})),...r)}}function zdt(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,l=dB({checksumAddress:n,parameter:a,value:t[c]});s.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?hB(s):Hs(...s.map(({encoded:o})=>o))}}function Wdt(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const qdt={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Vdt({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Hdt({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new AZ({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new AZ({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Fdt(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(qdt);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class AZ extends xt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Hdt extends xt{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Vdt extends xt{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function y2(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new xfe({expectedLength:t.length,givenLength:e.length});const i=Rdt({checksumAddress:r,parameters:t,values:e}),s=hB(i);return s.length===0?"0x":s}function c6(t,e){if(t.length!==e.length)throw new xfe({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(c6.encode(i,s))}return Hs(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const c=r;return A0(c),Ug(c.toLowerCase(),i?32:0)}if(n==="string")return dl(r);if(n==="bytes")return r;if(n==="bool")return Ug(Nce(r),i?32:1);const s=n.match(oB);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return nn(r,{size:i?32:d,signed:l==="int"})}const o=n.match(ufe);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new Sfe({expectedSize:Number.parseInt(l,10),value:r});return I0(r,i?32:0)}const a=n.match(Uut);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(l,r[d],!0));return u.length===0?"0x":Hs(...u)}throw new Afe(n)}t.encode=e})(c6||(c6={}));function Ife(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?xZ(t):t}class Kdt extends xt{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}let Sfe=class extends xt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ii(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}};class xfe extends xt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Zdt extends xt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Afe extends xt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Gdt(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(oB);if(h&&(typeof d=="number"||typeof d=="bigint")){const[,g,m]=h;nn(d,{signed:g==="int",size:Number.parseInt(m??"",10)/8})}if(u==="address"&&typeof d=="string"&&!k0(d))throw new W7({address:d,cause:new Bce});const p=u.match(ufe);if(p){const[,g]=p;if(g&&Ii(d)!==Number.parseInt(g,10))throw new Qdt({expectedSize:Number.parseInt(g,10),givenSize:Ii(d)})}const f=i[u];f&&(iht(u),s(f,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new eht({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new tht({primaryType:r,types:i})}function Ydt(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:kfe(e),...t.types};Gdt({domain:e,message:n,primaryType:r,types:i});const s=["0x19","0x01"];return e&&s.push(Xdt({domain:e,types:i})),r!=="EIP712Domain"&&s.push($fe({data:n,primaryType:r,types:i})),Hs(...s)}function Jdt(t){const{primaryType:e,types:n}=t;let r="";const i=Ofe({primaryType:e,types:n});i.delete(e);const s=[e,...Array.from(i).sort()];for(const o of s)r+=`${o}(${(n[o]??[]).map(({name:a,type:c})=>`${c} ${a}`).join(",")})`;return r}function kfe(t){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function pB(t){return qs(Ydt(t))}function Xdt(t){const{domain:e,types:n}=t;return $fe({data:e,primaryType:"EIP712Domain",types:{...n,EIP712Domain:n?.EIP712Domain||kfe(e)}})}function $fe(t){const{data:e,primaryType:n,types:r}=t,i=Tfe({data:e,primaryType:n,types:r});return qs(i)}class Qdt extends xt{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.BytesSizeMismatchError"})}}class eht extends xt{constructor({domain:e}){super(`Invalid domain "${Op(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidDomainError"})}}class tht extends xt{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{metaMessages:["Check that the primary type is a key in `types`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidPrimaryTypeError"})}}class nht extends xt{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidStructTypeError"})}}function Tfe(t){const{data:e,primaryType:n,types:r}=t,i=[{type:"bytes32"}],s=[rht({primaryType:n,types:r})];for(const o of r[n]??[]){const[a,c]=Nfe({types:r,name:o.name,type:o.type,value:e[o.name]});i.push(a),s.push(c)}return y2(i,s)}function rht(t){const{primaryType:e,types:n}=t,r=dl(Jdt({primaryType:e,types:n}));return qs(r)}function Nfe(t){let{types:e,name:n,type:r,value:i}=t;if(e[r]!==void 0)return[{type:"bytes32"},qs(Tfe({data:i,primaryType:r,types:e}))];if(r==="bytes")return i=`0x${(i.length%2?"0":"")+i.slice(2)}`,[{type:"bytes32"},qs(i,{as:"Hex"})];if(r==="string")return[{type:"bytes32"},qs(zk(i),{as:"Hex"})];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),o=i.map(a=>Nfe({name:n,type:s,types:e,value:a}));return[{type:"bytes32"},qs(y2(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:r},i]}function Ofe(t,e=new Set){const{primaryType:n,types:r}=t,s=n.match(/^\w*/u)?.[0];if(e.has(s)||r[s]===void 0)return e;e.add(s);for(const o of r[s])Ofe({primaryType:o.type,types:r},e);return e}function iht(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new nht({type:t})}function eR(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new xt("Unable to normalize signature.");return i}function tR(t,e){const n=typeof t,r=e.type;switch(r){case"address":return k0(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>tR(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>tR(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Pfe(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Pfe(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?k0(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?k0(n[r],{strict:!1}):!1)return o}}function sht(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?SZ(t):t;return{...r,...n?{hash:i1(r)}:{}}}function M4(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=S4(e,{strict:!1}),o=t.filter(l=>s?l.type==="function"||l.type==="error"?fB(l)===ys(e,0,4):l.type==="event"?i1(l)===e:!1:"name"in l&&l.name===e);if(o.length===0)throw new l6({name:e});if(o.length===1)return{...o[0],...i?{hash:i1(o[0])}:{}};let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:i1(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,h)=>{const p="inputs"in l&&l.inputs[h];return p?tR(d,p):!1})){if(a&&"inputs"in a&&a.inputs){const d=Pfe(l.inputs,a.inputs,r);if(d)throw new aht({abiItem:l,type:d[0]},{abiItem:a,type:d[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...u]=o;return{...l,overloads:u}})();if(!c)throw new l6({name:e});return{...c,...i?{hash:i1(c)}:{}}}function fB(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return M4(n,r)}return t[0]})();return ys(i1(e),0,4)}function oht(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return M4(r,i)}return t[0]})(),n=typeof e=="string"?e:X7(e);return eR(n)}function i1(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return M4(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:qs(dl(oht(e)))}class aht extends xt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${eR(X7(e.abiItem))}\`, and`,`\`${n.type}\` in \`${eR(X7(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class l6 extends xt{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function cht(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,u,d]=t;return[nR(l,u,{args:d}),d]}const[a,c]=t;return[a,c]})(),{overloads:r}=e,i=r?nR([e,...r],e.name,{args:n}):e,s=Rfe(i),o=n.length>0?y2(i.inputs,n):void 0;return o?Hs(s,o):s}function nR(t,e,n){const r=M4(t,e,n);if(r.type!=="function")throw new l6({name:e,type:"function"});return r}function Rfe(t){return fB(t)}const Dfe=m2(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),lht=Dfe.create(BigInt("-3")),uht=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Ufe=w8({a:lht,b:uht,Fp:Dfe,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Gv),Mfe=m2(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),dht=Mfe.create(BigInt("-3")),hht=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef");w8({a:dht,b:hht,Fp:Mfe,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},Ste);const Lfe=m2(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),pht=Lfe.create(BigInt("-3")),fht=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00");w8({a:pht,b:fht,Fp:Lfe,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Ite);const u6=Ufe,gB=Ufe;function jfe(t){const{privateKey:e}=t,n=gB.ProjectivePoint.fromPrivateKey(typeof e=="string"?e.slice(2):_o(e).slice(2));return gv(n)}function Bfe(t={}){const{as:e="Hex"}=t,n=gB.utils.randomPrivateKey();return e==="Hex"?_o(n):n}function kZ(t){const{extraEntropy:e=afe,hash:n,payload:r,privateKey:i}=t,{r:s,s:o,recovery:a}=gB.sign(r instanceof Uint8Array?r:x0(r),i instanceof Uint8Array?i:x0(i),{extraEntropy:typeof e=="boolean"?e:$y(e).slice(2),lowS:!0,...n?{prehash:!0}:{}});return{r:s,s:o,yParity:a}}function zfe(t,e=0){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new ght({value:t});let[n="",r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}class ght extends xt{constructor({value:e}){super(`Value \`${e}\` is not a valid decimal number.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Value.InvalidDecimalNumberError"})}}const mht=new TextEncoder,wht=new TextDecoder,CI=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[e,t.charCodeAt(0)])),_I={...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[t.charCodeAt(0),e])),61:0,45:62,95:63};function yht(t,e={}){const{pad:n=!0,url:r=!1}=e,i=new Uint8Array(Math.ceil(t.length/3)*4);for(let c=0,l=0;l<t.length;c+=4,l+=3){const u=(t[l]<<16)+(t[l+1]<<8)+(t[l+2]|0);i[c]=CI[u>>18],i[c+1]=CI[u>>12&63],i[c+2]=CI[u>>6&63],i[c+3]=CI[u&63]}const s=t.length%3,o=Math.floor(t.length/3)*4+(s&&s+1);let a=wht.decode(new Uint8Array(i.buffer,0,o));return n&&s===1&&(a+="=="),n&&s===2&&(a+="="),r&&(a=a.replaceAll("+","-").replaceAll("/","_")),a}function bht(t,e={}){return yht(x0(t),e)}function rR(t){const e=t.replace(/=+$/,""),n=e.length,r=new Uint8Array(n+3);mht.encodeInto(e+"===",r);for(let s=0,o=0;s<e.length;s+=4,o+=3){const a=(_I[r[s]]<<18)+(_I[r[s+1]]<<12)+(_I[r[s+2]]<<6)+_I[r[s+3]];r[o]=a>>16,r[o+1]=a>>8&255,r[o+2]=a&255}const i=(n>>2)*3+(n%4&&n%4-1);return new Uint8Array(r.buffer,0,i)}function vht(t){const e=t[4]===0?5:4,n=e+32,r=t[n+2]===0?n+3:n+2,i=BigInt(_o(t.slice(e,n))),s=BigInt(_o(t.slice(r)));return{r:i,s:s>u6.CURVE.n/2n?u6.CURVE.n-s:s}}async function Eht(t){try{const e=t.getPublicKey();if(!e)throw new d6;const n=new Uint8Array(e),r=await crypto.subtle.importKey("spki",new Uint8Array(n),{name:"ECDSA",namedCurve:"P-256",hash:"SHA-256"},!0,["verify"]),i=new Uint8Array(await crypto.subtle.exportKey("raw",r));return gv(i)}catch(e){if(e.message!=="Permission denied to access object")throw e;const n=new Uint8Array(t.attestationObject),r=32,i=88,s=c=>{const l=new Uint8Array([c,i,r]);for(let u=0;u<n.length-l.length;u++)if(l.every((d,h)=>n[u+h]===d))return u+l.length;throw new d6},o=s(33),a=s(34);return gv(new Uint8Array([4,...n.slice(o,o+r),...n.slice(a,a+r)]))}}const Cht=Uint8Array.from([105,171,180,181,160,222,75,198,42,42,32,31,141,37,186,233]);async function _ht(t){const{createFn:e=window.navigator.credentials.create.bind(window.navigator.credentials),...n}=t,r=xht(n);try{const i=await e(r);if(!i)throw new d6;const s=i.response,o=await Eht(s);return{id:i.id,publicKey:o,raw:i}}catch(i){throw new d6({cause:i})}}function Iht(t={}){const{flag:e=5,rpId:n=window.location.hostname,signCount:r=0}=t,i=Uce(dl(n)),s=nn(e,{size:1}),o=nn(r,{size:4});return Hs(i,s,o)}function Sht(t){const{challenge:e,crossOrigin:n=!1,extraClientData:r,origin:i=window.location.origin}=t;return JSON.stringify({type:"webauthn.get",challenge:bht(e,{url:!0,pad:!1}),origin:i,crossOrigin:n,...r})}function xht(t){const{attestation:e="none",authenticatorSelection:n={residentKey:"preferred",requireResidentKey:!1,userVerification:"required"},challenge:r=Cht,excludeCredentialIds:i,extensions:s,name:o,rp:a={id:window.location.hostname,name:window.document.title},user:c}=t,l=c?.name??o;return{publicKey:{attestation:e,authenticatorSelection:n,challenge:typeof r=="string"?x0(r):r,...i?{excludeCredentials:i?.map(u=>({id:rR(u),type:"public-key"}))}:{},pubKeyCredParams:[{type:"public-key",alg:-7}],...s&&{extensions:s},rp:a,user:{id:c?.id??qs(zk(l),{as:"Bytes"}),name:l,displayName:c?.displayName??l}}}}function Aht(t){const{credentialId:e,challenge:n,extensions:r,rpId:i=window.location.hostname,userVerification:s="required"}=t;return{publicKey:{...e?{allowCredentials:Array.isArray(e)?e.map(o=>({id:rR(o),type:"public-key"})):[{id:rR(e),type:"public-key"}]}:{},challenge:x0(n),...r&&{extensions:r},rpId:i,userVerification:s}}}function kht(t){const{challenge:e,crossOrigin:n,extraClientData:r,flag:i,origin:s,rpId:o,signCount:a,userVerification:c="required"}=t,l=Iht({flag:i,rpId:o,signCount:a}),u=Sht({challenge:e,crossOrigin:n,extraClientData:r,origin:s}),d=Uce(dl(u)),h=u.indexOf('"challenge"'),p=u.indexOf('"type"'),f={authenticatorData:l,clientDataJSON:u,challengeIndex:h,typeIndex:p,userVerificationRequired:c==="required"},g=Hs(l,d);return{metadata:f,payload:g}}async function Wfe(t){const{getFn:e=window.navigator.credentials.get.bind(window.navigator.credentials),...n}=t,r=Aht(n);try{const i=await e(r);if(!i)throw new $Z;const s=i.response,o=String.fromCharCode(...new Uint8Array(s.clientDataJSON)),a=o.indexOf('"challenge"'),c=o.indexOf('"type"'),l=vht(new Uint8Array(s.signature));return{metadata:{authenticatorData:_o(new Uint8Array(s.authenticatorData)),clientDataJSON:o,challengeIndex:a,typeIndex:c,userVerificationRequired:r.publicKey.userVerification==="required"},signature:l,raw:i}}catch(i){throw new $Z({cause:i})}}class d6 extends xt{constructor({cause:e}={}){super("Failed to create credential.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebAuthnP256.CredentialCreationFailedError"})}}class $Z extends xt{constructor({cause:e}={}){super("Failed to request credential.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebAuthnP256.CredentialRequestFailedError"})}}async function $ht(t={}){const{extractable:e=!1}=t,n=await globalThis.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},e,["sign","verify"]),r=await globalThis.crypto.subtle.exportKey("raw",n.publicKey),i=gv(new Uint8Array(r));return{privateKey:n.privateKey,publicKey:i}}async function Tht(t){const{payload:e,privateKey:n}=t,r=await globalThis.crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},n,S0(e)),i=Rce(new Uint8Array(r)),s=JK(YK(i,0,32));let o=JK(YK(i,32,64));return o>u6.CURVE.n/2n&&(o=u6.CURVE.n-o),{r:s,s:o}}const qfe="0x3232323232323232323232323232323232323232",TZ="0x32323232",Nht={p256:"p256",secp256k1:"secp256k1",webauthnp256:"webauthn-p256"},Oht={admin:"admin",normal:"session"},Pht={0:"minute",1:"hour",2:"day",3:"week",4:"month",5:"year"},Rht={address:"secp256k1",p256:"p256",secp256k1:"secp256k1","webauthn-p256":"webauthnp256"},Dht={admin:"admin",session:"normal"},Uht={address:2,p256:0,secp256k1:2,"webauthn-p256":1},NZ={day:2,hour:1,minute:0,month:4,week:3,year:5};function Mht(t={}){const e=Bfe();return jht({...t,privateKey:e})}async function OZ(t){const{createFn:e,label:n,rpId:r,userId:i}=t,s=await _ht({authenticatorSelection:{requireResidentKey:!0,residentKey:"required",userVerification:"required"},createFn:e,extensions:{credProps:!0},rp:r?{id:r,name:r}:void 0,user:{displayName:n,id:new Uint8Array(i??zk(n)),name:n}});return Ffe({...t,credential:{id:s.id,publicKey:s.publicKey},id:i?rL(i):d2(s.publicKey,{includePrefix:!1})})}function PZ(t={}){const e=Bfe();return zht({...t,privateKey:e})}async function Lht(t={}){const e=await $ht();return Wht({...t,keyPair:e})}function hl(t,e={}){const{chainId:n=t.chainId}=e,{expiry:r=0,id:i,prehash:s=!1,role:o="admin",type:a}=t,c=(()=>{const l=t.publicKey;return l==="0x"?l:a==="secp256k1"||a==="address"?Ii(l)===20||u2(ys(l,0,12))===0n?ys(l,-20):iL(Wk(l)):l})();return{...t,chainId:n,expiry:r,hash:Hfe({publicKey:c,type:a}),id:(i??c).toLowerCase(),prehash:s,publicKey:c.toLowerCase(),role:o,type:a}}function jht(t){const{chainId:e,expiry:n,feeToken:r,permissions:i,privateKey:s,role:o}=t,a=d2(jfe({privateKey:s}),{includePrefix:!1});return hl({chainId:e,expiry:n,feeToken:r,permissions:i,privateKey(){return s},publicKey:a,role:o,type:"p256"})}function Bht(t,e){const{chainId:n}=e,{publicKey:r}=t,i=Ii(r)===20||u2(ys(r,0,12))===0n,s={};for(const o of t.permissions)o.type==="call"&&(s.calls??=[],s.calls.push({signature:o.selector,to:o.to===qfe?void 0:o.to})),o.type==="spend"&&(s.spend??=[],s.spend.push({limit:o.limit,period:o.period,token:o.token}));return hl({chainId:n,expiry:t.expiry,permissions:s,publicKey:t.publicKey,role:Oht[t.role],type:i?"address":Nht[t.type]})}function Ffe(t){const{credential:e,id:n,rpId:r}=t,i=d2(e.publicKey,{includePrefix:!1});return hl({chainId:t.chainId,expiry:t.expiry??0,feeToken:t.feeToken,id:n,permissions:t.permissions,privateKey:{credential:e,rpId:r},publicKey:i,role:t.role,type:"webauthn-p256"})}function zht(t){const{privateKey:e}=t,n=d2(jfe({privateKey:e}),{includePrefix:!1});return hl({chainId:t.chainId,expiry:t.expiry??0,feeToken:t.feeToken,permissions:t.permissions,privateKey:{privateKey(){return e}},publicKey:n,role:t.role,type:"webauthn-p256"})}function Wht(t){const{chainId:e,expiry:n,feeToken:r,keyPair:i,permissions:s,role:o}=t,{privateKey:a}=i,c=d2(i.publicKey,{includePrefix:!1});return hl({chainId:e,expiry:n,feeToken:r,permissions:s,prehash:!0,privateKey:a,publicKey:c,role:o,type:"p256"})}function Hfe(t){const{type:e}=t,n=Vfe(t.publicKey);return qs(y2([{type:"uint8"},{type:"bytes32"}],[Uht[e],qs(n)]))}function Vfe(t){return Ii(t)<32?Ug(t,32):t}async function Dw(t,e){const{address:n,storage:r,webAuthn:i,wrap:s=!0}=e,{privateKey:o,publicKey:a,type:c}=t;if(!o)throw new Error(`Key does not have a private key to sign with.

Key:
`+Op(t,null,2));const l=n?pB({domain:{verifyingContract:n},message:{digest:e.payload},primaryType:"ERC1271Sign",types:{ERC1271Sign:[{name:"digest",type:"bytes32"}]}}):e.payload,[u,d]=await(async()=>{if(c==="p256"){const{privateKey:h}=t;if(typeof h=="function")return[gS(kZ({payload:l,privateKey:h()})),!1];if(h instanceof CryptoKey)return[gS(await Tht({payload:l,privateKey:h})),!0]}if(c==="secp256k1")return[gS(lfe({payload:l,privateKey:o()})),!1];if(c==="webauthn-p256"){if(o.privateKey){const{payload:S,metadata:N}=kht({challenge:l,origin:"https://ithaca.xyz",rpId:"ithaca.xyz"}),{r:R,s:D}=kZ({hash:!0,payload:S,privateKey:o.privateKey()});return[iR({metadata:N,signature:{r:R,s:D}}),!1]}const{credential:h,rpId:p}=o,f=`porto.webauthnVerified.${t.hash}`,g=Date.now(),m=600*1e3;let b=!0;if(r){const S=await r.getItem(f);b=!S||g-S>m}const{signature:{r:y,s:v},raw:w,metadata:C}=await Wfe({challenge:l,credentialId:h.id,getFn:i?.getFn,rpId:p,userVerification:b?"required":"preferred"}),I=w.response;if(!I?.userHandle)throw new Error("No user handle in response",{cause:{response:I}});const k=rL(new Uint8Array(I.userHandle));if(t.id&&k0(t.id)&&!ei(t.id,k))throw new Error(`supplied webauthn key "${t.id}" does not match signature webauthn key "${k}"`,{cause:{id:k,key:t}});return b&&r&&await r.setItem(f,g),[iR({metadata:C,signature:{r:y,s:v}}),!1]}throw new Error(`Key type "${c}" is not supported.

Key:
`+Op(t,null,2))})();return s?Zfe(u,{keyType:c,prehash:d,publicKey:a}):u}function h6(t,e={}){const{expiry:n=0,prehash:r=!1,publicKey:i,role:s="admin",type:o}=t,{feeTokens:a,orchestrator:c}=e,l=Object.entries(Kfe(t,{feeTokens:a})).map(([u,d])=>{if(u==="calls")return d.map(({signature:p,to:f})=>({selector:p?S4(p)?p:Rfe(p):TZ,to:f??qfe,type:"call"}));if(u!=="feeToken"){if(u==="spend")return d.map(({limit:p,period:f,token:g})=>({limit:p,period:f,token:g,type:"spend"}));throw new Error(`Invalid permission type "${u}".`)}}).flat().filter(Boolean);return t.role==="session"&&c&&l.push({selector:TZ,to:c,type:"call"}),{expiry:n,permissions:l??[],prehash:r,publicKey:Vfe(i),role:Dht[s],type:Rht[o]}}function Kfe(t,e){const{permissions:n}=t,r=n?.calls?[...n.calls]:[],i=n?.spend?[...n.spend]:[],s=e.feeTokens?.filter(o=>o.feeToken);if(s&&s.length>0){const o=qht(t,{feeTokens:s});if(o){let a=-1,c=NZ.year;for(let l=0;l<i.length;l++){const u=i[l];if(u.token&&ei(o.address,u.token)){a=l;break}if(!u.token&&o.address===WE){a=l;break}const d=NZ[u.period];d<c&&(c=d)}a!==-1?(i[a]={...i[a],limit:i[a].limit+o.value},i.unshift(i.splice(a,1)[0])):typeof c=="number"&&i.unshift({limit:o.value,period:Pht[c],token:o.address})}}return{...n,calls:r,spend:i}}function qht(t,e){const{feeTokens:n}=e;if(!t.feeToken)return;const r=n.find(s=>t.feeToken.symbol===s.symbol?!0:t.feeToken.symbol?t.feeToken.symbol==="native"?s.address===WE:!1:s.address===WE);if(!r)return;const i=zfe(t.feeToken.limit,r.decimals);return{...r,value:i}}function iR(t){const{metadata:e,signature:n}=t;return y2(Ife(["struct WebAuthnAuth { bytes authenticatorData; string clientDataJSON; uint256 challengeIndex; uint256 typeIndex; bytes32 r; bytes32 s; }","WebAuthnAuth auth"]),[{authenticatorData:e.authenticatorData,challengeIndex:BigInt(e.challengeIndex),clientDataJSON:e.clientDataJSON,r:nn(n.r,{size:32}),s:nn(n.s,{size:32}),typeIndex:BigInt(e.typeIndex)}])}function Zfe(t,e){const{keyType:n,prehash:r=!1,publicKey:i}=e,s=Hfe({publicKey:i,type:n});return c6(["bytes","bytes32","bool"],[t,s,r])}function xc(t){const e=typeof t=="string"?{address:t}:t,n=e.sign?"privateKey":"porto",{address:r,sign:i,signMessage:s,signTransaction:o,signTypedData:a,type:c}=kye({address:e.address,sign({hash:l}){if(n==="porto")throw new Error("`sign` not supported on porto accounts.");if(!e.sign)throw new Error("`sign` not supported.");return e.sign({hash:l})},signMessage({message:l}){return this.sign({hash:Vv(l)})},signTransaction(){throw new Error("`signTransaction` not supported on porto accounts.")},signTypedData(l){return this.sign({hash:Fg(l)})}});return{address:r,keys:e.keys??void 0,sign:i,signMessage:s,signTransaction:o,signTypedData:a,source:n,type:c}}function Fht(t,e={}){const{keys:n}=e,r=iL(Put({privateKey:t}));return xc({address:r,keys:n,async sign({hash:i}){return gS(lfe({payload:i,privateKey:t}))},source:"privateKey"})}function v8(t,e={}){const{key:n,role:r}=e;if(n!==null){if(typeof n=="object")return n;if(t.keys&&t.keys.length>0)return typeof n=="number"?t.keys[n]:t.keys.find(i=>i.privateKey&&(!r||i.role===r))}}async function u3(t,e){const{storage:n,replaySafe:r=!0,wrap:i=!0,webAuthn:s}=e,o=v8(t,e),a=r?pB({domain:{verifyingContract:t.address},message:{digest:e.payload},primaryType:"ERC1271Sign",types:{ERC1271Sign:[{name:"digest",type:"bytes32"}]}}):e.payload,c=o?({hash:l})=>Dw(o,{address:null,payload:l,storage:n,webAuthn:s,wrap:i}):t.source==="privateKey"?t.sign:void 0;if(!c)throw new Error("cannot find key to sign with.");return await c({hash:a})}function mB(t,e={}){return sht(t,e)}function Hht(t,e,n){if(e==="Error")return RZ;if(e==="Panic")return DZ;if(S4(e,{strict:!1})){const i=ys(e,0,4);if(i===Vht)return RZ;if(i===Kht)return DZ}const r=M4(t,e,n);if(r.type!=="error")throw new l6({name:e,type:"error"});return r}const RZ=mB({inputs:[{name:"message",type:"string"}],name:"Error",type:"error"}),Vht="0x08c379a0",DZ=mB({inputs:[{name:"reason",type:"uint8"}],name:"Panic",type:"error"}),Kht="0x4e487b71",Ne=()=>Bg(["0x",Se()],{message:"Needs string in format ^0x[A-Fa-f0-9]{40}$."}),_e=()=>Bg(["0x",Se()],{message:"Needs string in format ^0x[A-Fa-f0-9]+$."}),Ot=()=>og(_e(),Ht(),{decode:t=>x1(t),encode:t=>nn(t)}),rn=()=>og(_e(),Sj({message:"Required bigint"}),{decode:t=>u2(t),encode:t=>nn(t)});function E8(t){return Rt(t)}class Zht extends xt{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Schema.ValidationError"})}}function Gfe(t){const e=t;let n=`Validation failed with ${e.issues.length} error${e.issues.length===1?"":"s"}:`;n+=`
`;for(const r of e.issues)r&&(n+=`
`,n+=mS(r));return new Zht(n)}function mS(t,e=0){const n=Ght(t.path),r=`- ${n?`${n}: `:""}`,i="  ".repeat(e+1);let s=r;switch(t.code){case"invalid_type":{const o=t.expected,a=t.input?Yht(t):"undefined";s+=`Expected ${o}. ${t.message!=="Invalid input"?t.message:""}`,a!=="undefined"&&(s+=`but received ${a}`);break}case"too_big":{const o=t.maximum,a=t.inclusive??!0;t.exact??!1?s+=`${t.origin} must be exactly ${o}`:s+=`${t.origin} must be ${a?"at most":"less than"} ${o}`;break}case"too_small":{const o=t.minimum,a=t.inclusive??!0;t.exact??!1?s+=`${t.origin} must be exactly ${o}`:s+=`${t.origin} must be ${a?"at least":"greater than"} ${o}`;break}case"invalid_format":{switch(t.format){case"regex":s+=`Must match pattern: ${t.pattern}`;break;case"starts_with":s+=`Must start with "${t.prefix}"`;break;case"ends_with":s+=`Must end with "${t.suffix}"`;break;case"includes":s+=`Must include "${t.includes}"`;break;case"template_literal":s+=`Must match pattern: ${t.pattern}`;break;default:s+=`Invalid ${t.format} format`}break}case"not_multiple_of":{s+=`Number must be a multiple of ${t.divisor}`;break}case"unrecognized_keys":{const o=t.keys.map(a=>`"${a}"`).join(", ");s+=`Unrecognized key${t.keys.length>1?"s":""}: ${o}`;break}case"invalid_union":{const o=t.errors&&t.errors.length>0;s+="Invalid union value.",o&&t.errors.forEach(a=>{a.length>0&&a.forEach(c=>{s+=`
`,s+=i,s+=mS(c,e+1)})});break}case"invalid_key":{s+=`Invalid ${t.origin} key`,t.issues&&t.issues.length>0&&t.issues.forEach(o=>{s+=`
`,s+=i,s+=mS(o,e+1)});break}case"invalid_element":{s+=`Invalid ${t.origin} element at key "${t.key}"`,t.issues&&t.issues.length>0&&t.issues.forEach(o=>{s+=`
`,s+=i,s+=mS(o,e+1)});break}case"invalid_value":{const o=t.values.map(a=>JSON.stringify(a)).join(", ");t.values.length>1?s+=`Expected one of: ${o}`:s+=`Expected ${o}`;break}case"custom":{s+=t.message||"Custom validation failed";break}default:s+=t.message||"Validation failed"}return s}function Ght(t){return t.length===0?"":"at `"+t.map((e,n)=>typeof e=="number"?`[${e}]`:typeof e=="symbol"?`[${e.toString()}]`:/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)&&n>0?`.${e}`:n===0&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)?e:`["${e}"]`).join("")+"`"}function Yht(t){const e=t.input;if(e===void 0)return"undefined";if(e===null)return"null";const n=typeof e;return n==="object"?Array.isArray(e)?"array":e instanceof Date?"date":e instanceof Map?"map":e instanceof Set?"set":"object":n}const Jht=J({selector:_e(),to:Ne(),type:Oe("call")}),Xht=J({limit:rn(),period:Rt([Oe("minute"),Oe("hour"),Oe("day"),Oe("week"),Oe("month"),Oe("year")]),token:re(Rt([Ne(),cr()])),type:Oe("spend")}),Qht=Rt([Jht,Xht]),p6=J({expiry:Ot(),prehash:re(ri()),publicKey:_e(),role:Rt([Oe("admin"),Oe("normal")]),type:Rt([Oe("p256"),Oe("secp256k1"),Oe("webauthnp256")])}),UZ=J({...p6.shape,permissions:xe(mt(Qht))});var sR;(function(t){t.AssetDiffAsset=Rt([J({address:re(Rt([Ne(),cr()])),decimals:re(Rt([Ht(),cr()])),direction:Rt([Oe("incoming"),Oe("outgoing")]),fiat:re(J({currency:Se(),value:og(Se(),Ht(),{decode:e=>Number(e),encode:e=>String(e)})})),name:re(Rt([Se(),cr()])),symbol:Se(),type:Oe("erc20"),value:rn()}),J({address:re(Rt([Ne(),cr()])),direction:Rt([Oe("incoming"),Oe("outgoing")]),fiat:re(J({currency:Se(),value:og(Se(),Ht(),{decode:e=>Number(e),encode:e=>String(e)})})),name:re(Rt([Se(),cr()])),symbol:Se(),type:Oe("erc721"),uri:Se(),value:rn()}),J({address:cr(),decimals:re(Rt([Ht(),cr()])),direction:Rt([Oe("incoming"),Oe("outgoing")]),fiat:re(J({currency:Se(),value:og(Se(),Ht(),{decode:e=>Number(e),encode:e=>String(e)})})),symbol:Se(),type:cr(),value:rn()})]),t.Response=xs(_e(),xe(mt(xe(At([Ne(),xe(mt(t.AssetDiffAsset))])))))})(sR||(sR={}));var O0;(function(t){t.Request=xe(mt(UZ)),t.Response=xe(mt(J({...UZ.shape,hash:_e()})))})(O0||(O0={}));var oR;(function(t){t.Response=xs(_e(),J({currency:Se(),value:Se()}))})(oR||(oR={}));var aR;(function(t){t.Request=J({feePayer:re(Ne()),feeToken:re(Ne()),nonce:re(rn())})})(aR||(aR={}));var cR;(function(t){t.Request=xe(mt(J({address:Ne(),value:rn()})))})(cR||(cR={}));var f6;(function(t){t.Request=xe(mt(J({hash:_e()}))),t.Response=xe(mt(J({hash:_e()})))})(f6||(f6={}));const L4=J({eoa:Ne(),executionData:_e(),nonce:_e(),signature:_e()}),Yfe=J({...L4.shape,chainId:Ot()}),ept=Rt([J({combinedGas:rn(),encodedFundTransfers:xe(mt(_e())),encodedPreCalls:xe(mt(_e())),eoa:Ne(),executionData:_e(),expiry:rn(),funder:Ne(),funderSignature:_e(),isMultichain:ri(),nonce:rn(),payer:Ne(),paymentAmount:rn(),paymentMaxAmount:rn(),paymentRecipient:Ne(),paymentSignature:_e(),paymentToken:Ne(),settler:Ne(),settlerContext:_e(),signature:_e(),supportedAccountImplementation:Ne()}),J({combinedGas:rn(),encodedFundTransfers:xe(mt(_e())),encodedPreCalls:xe(mt(_e())),eoa:Ne(),executionData:_e(),expiry:rn(),funder:Ne(),funderSignature:_e(),isMultichain:ri(),nonce:rn(),payer:Ne(),paymentRecipient:Ne(),paymentSignature:_e(),paymentToken:Ne(),prePaymentAmount:rn(),prePaymentMaxAmount:rn(),settler:Ne(),settlerContext:_e(),signature:_e(),supportedAccountImplementation:Ne(),totalPaymentAmount:rn(),totalPaymentMaxAmount:rn()})]);J({eoa:Ne(),executionData:_e(),nonce:rn()});const tpt=J({address:Rt([Ne(),cr()]),decimals:re(Ht()),deficit:rn(),fiat:re(J({currency:Se(),value:Se()})),name:re(Se()),required:rn(),symbol:re(Se())}),npt=J({additionalAuthorization:wd(J({address:Ne(),chainId:Ot(),nonce:Ot(),r:_e(),s:_e(),yParity:Ot()})),assetDeficits:re(mt(tpt)),authorizationAddress:re(Rt([Ne(),cr()])),chainId:Ot(),ethPrice:rn(),extraPayment:rn(),feeTokenDeficit:rn(),intent:ept,nativeFeeEstimate:J({maxFeePerGas:rn(),maxPriorityFeePerGas:rn()}),orchestrator:Ne(),paymentTokenDecimals:Ht(),txGas:rn()}),rpt=J({multiChainRoot:re(Rt([_e(),cr()])),quotes:xe(mt(npt)).check(N4(1)),ttl:Ht()}),g6=J({...rpt.shape,hash:_e(),r:_e(),s:_e(),v:re(_e()),yParity:re(_e())}),wB=J({address:Ne(),decimals:Ht(),feeToken:re(ri()),interop:re(ri()),nativeRate:re(rn()),symbol:Se(),uid:Se()}),yB=Se().check(Ny(/^[A-Z0-9]+$/)),bB=J({address:Ne(),chainId:Ot(),nonce:Ot()}),ipt=J({...bB.shape,r:_e(),s:_e(),yParity:Ot()}),spt=J({data:re(_e()),to:Ne(),value:re(rn())});var MZ;(function(t){t.Parameters=J({address:Ne(),secret:Se()}),t.Request=J({method:Oe("account_getOnrampContactInfo"),params:xe(At([t.Parameters]))}),t.Response=J({email:re(Se()),phone:re(Se()),phoneVerifiedAt:re(Ht())})})(MZ||(MZ={}));var LZ;(function(t){t.Parameters=J({address:Ne()}),t.Request=J({method:Oe("account_onrampStatus"),params:xe(At([t.Parameters]))}),t.Response=J({email:re(Ht()),phone:re(Ht())})})(LZ||(LZ={}));var jZ;(function(t){t.Parameters=J({phone:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_resendVerifyPhone"),params:xe(At([t.Parameters]))}),t.Response=cr()})(jZ||(jZ={}));var m6;(function(t){t.Parameters=J({email:Se().check(Ny(/^.*@.*$/)),walletAddress:Ne()}),t.Request=J({method:Oe("account_setEmail"),params:xe(At([t.Parameters]))}),t.Response=cr()})(m6||(m6={}));var BZ;(function(t){t.Parameters=J({phone:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_setPhone"),params:xe(At([t.Parameters]))}),t.Response=cr()})(BZ||(BZ={}));var w6;(function(t){t.Parameters=J({chainId:Ot(),email:Se(),signature:_e(),token:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_verifyEmail"),params:xe(At([t.Parameters]))}),t.Response=cr()})(w6||(w6={}));var zZ;(function(t){t.Parameters=J({code:Se(),phone:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_verifyPhone"),params:xe(At([t.Parameters]))}),t.Response=cr()})(zZ||(zZ={}));var lR;(function(t){t.Request=J({method:Oe("health"),params:jg()}),t.Response=J({quoteSigner:Ne(),status:Se(),version:Se()})})(lR||(lR={}));var WZ;(function(t){t.Parameters=J({address:Ne(),chainId:Ot(),tokenAddress:Ne(),value:rn()}),t.Request=J({method:Oe("wallet_addFaucetFunds"),params:xe(At([t.Parameters]))}),t.Response=J({message:re(Se()),transactionHash:_e()})})(WZ||(WZ={}));var qZ;(function(t){t.Parameters=J({chainId:Ot(),id:_e()}),t.Request=J({method:Oe("wallet_getAccounts"),params:xe(At([t.Parameters]))}),t.Response=xe(mt(J({address:Ne(),keys:O0.Response})))})(qZ||(qZ={}));var y6;(function(t){t.Parameters=J({address:Ne()}),t.Request=J({method:Oe("wallet_getAuthorization"),params:xe(At([t.Parameters]))}),t.Response=J({authorization:ipt,data:_e(),to:Ne()})})(y6||(y6={}));var uR;(function(t){t.Request=J({method:Oe("wallet_getCapabilities"),params:re(At([xe(mt(Ht()))]))});const e=J({address:Ne(),version:re(Rt([Se(),cr()]))});t.Response=xs(_e(),J({contracts:J({accountImplementation:e,accountProxy:e,legacyAccountImplementations:xe(mt(e)),legacyOrchestrators:xe(mt(Rt([J({orchestrator:e,simulator:e}),e]))),orchestrator:e,simulator:e}),fees:J({quoteConfig:J({constantRate:re(Rt([Ht(),cr()])),gas:re(J({intentBuffer:re(Ht()),txBuffer:re(Ht())})),rateTtl:Ht(),ttl:Ht()}),recipient:Ne(),tokens:xe(mt(wB))})}))})(uR||(uR={}));var Uw;(function(t){const e=Rt([Oe("native"),Oe("erc20"),Oe("erc721"),Se()]);t.Parameters=J({account:Ne(),assetFilter:re(xs(_e(),xe(mt(J({address:Rt([Ne(),Oe("native")]),type:e}))))),assetTypeFilter:re(xe(mt(e))),chainFilter:re(xe(mt(Ot())))}),t.Request=J({method:Oe("wallet_getAssets"),params:xe(At([t.Parameters]))}),t.Price=J({currency:Se(),value:og(Se(),Ht(),{decode:n=>Number(n),encode:n=>String(n)})}),t.Response=xs(Se(),xe(mt(E8([J({address:Ne(),balance:rn(),metadata:sg(J({decimals:Ht(),fiat:wd(t.Price),name:Se(),symbol:Se()})),type:Oe("erc20")}),J({address:sg(Oe("native")),balance:rn(),metadata:sg(J({decimals:Ht(),fiat:wd(t.Price),name:re(Se()),symbol:re(Se())})),type:Oe("native")})]))))})(Uw||(Uw={}));var dR;(function(t){t.Request=J({method:Oe("wallet_getCallsStatus"),params:xe(At([_e()]))}),t.Response=J({id:Se(),receipts:re(xe(mt(J({blockHash:_e(),blockNumber:Ot(),chainId:Ot(),gasUsed:Ot(),logs:xe(mt(J({address:Ne(),data:_e(),topics:xe(mt(_e()))}))),status:_e(),transactionHash:_e()})))),status:Ht()})})(dR||(dR={}));var b6;(function(t){t.Parameters=J({address:Ne(),chainIds:re(xe(mt(Ot())))}),t.Request=J({method:Oe("wallet_getKeys"),params:xe(At([t.Parameters]))}),t.Response=xs(_e(),O0.Response)})(b6||(b6={}));var e_;(function(t){t.Capabilities=J({authorizeKeys:re(O0.Request),meta:aR.Request,preCall:re(ri()),preCalls:re(xe(mt(L4))),requiredFunds:re(cR.Request),revokeKeys:re(f6.Request)}),t.ResponseCapabilities=J({assetDiffs:re(sR.Response),authorizeKeys:wd(O0.Response),feePayerDigest:re(_e()),feeSignature:re(_e()),feeTotals:re(oR.Response),revokeKeys:wd(f6.Response)}),t.Parameters=J({calls:xe(mt(spt)),capabilities:t.Capabilities,chainId:Ot(),from:re(Ne()),key:re(J({prehash:ri(),publicKey:_e(),type:p6.shape.type}))}),t.Request=J({method:Oe("wallet_prepareCalls"),params:xe(At([t.Parameters]))}),t.Response=J({capabilities:t.ResponseCapabilities,context:J({preCall:re(N0(Yfe)),quote:re(N0(g6))}),digest:_e(),key:wd(J({prehash:ri(),publicKey:_e(),type:p6.shape.type})),signature:_e(),typedData:J({domain:Rt([J({chainId:Rt([Ot(),Ht()]),name:Se(),verifyingContract:Ne(),version:Se()}),J({})]),message:xs(Se(),ji()),primaryType:Se(),types:xs(Se(),ji())})})})(e_||(e_={}));var v6;(function(t){t.Capabilities=J({authorizeKeys:O0.Request}),t.Parameters=J({address:Ne(),capabilities:t.Capabilities,chainId:re(Ht()),delegation:Ne()}),t.Request=J({method:Oe("wallet_prepareUpgradeAccount"),params:xe(At([t.Parameters]))}),t.Response=J({capabilities:t.Capabilities,chainId:Ot(),context:J({address:Ne(),authorization:bB,chainId:Ot(),preCall:L4}),digests:J({auth:_e(),exec:_e()}),typedData:J({domain:Rt([J({chainId:Rt([Ot(),Ht()]),name:Se(),verifyingContract:Ne(),version:Se()}),J({})]),message:xs(Se(),ji()),primaryType:Se(),types:xs(Se(),ji())})})})(v6||(v6={}));var FZ;(function(t){t.Request=J({method:Oe("wallet_feeTokens"),params:re(jg())}),t.Response=xs(_e(),xe(mt(J({address:Ne(),decimals:Ht(),nativeRate:re(rn()),symbol:Se()}))))})(FZ||(FZ={}));var E6;(function(t){t.Parameters=J({capabilities:re(J({feeSignature:re(_e())})),context:J({preCall:re(N0(Yfe)),quote:re(N0(g6))}),key:re(J({prehash:ri(),publicKey:_e(),type:p6.shape.type})),signature:_e()}),t.Request=J({method:Oe("wallet_sendPreparedCalls"),params:xe(At([t.Parameters]))}),t.Response=J({id:_e()})})(E6||(E6={}));var hR;(function(t){t.Parameters=J({context:J({address:Ne(),authorization:bB,chainId:Ot(),preCall:L4}),signatures:J({auth:_e(),exec:_e()})}),t.Request=J({method:Oe("wallet_upgradeAccount"),params:xe(At([t.Parameters]))}),t.Response=jg()})(hR||(hR={}));var C6;(function(t){t.Parameters=J({address:_e(),chainId:Ot(),digest:_e(),signature:_e()}),t.Request=J({method:Oe("wallet_verifySignature"),params:xe(At([t.Parameters]))}),t.Response=J({proof:wd(J({account:Ne(),initPreCall:wd(L4),keyHash:_e()})),valid:ri()})})(C6||(C6={}));async function opt(t,e){try{const n="wallet_getAuthorization",r=await UA(()=>t.request({method:n,params:[Er(y6.Parameters,e)]}),{cacheKey:`${t.uid}.${n}.${e.address}`});return Ui(y6.Response,r)}catch(n){throw Tl(n),n}}async function t_(t,e={}){const n=(()=>{if(e.chainId)return[e.chainId];if(e.chainIds!=="all")return e.chainIds?e.chainIds:[t.chain.id]})();try{const r="wallet_getCapabilities",i=await UA(()=>t.request({method:r,params:n?[n]:void 0},{retryCount:0}),{cacheKey:`${t.uid}.${r}.${n?.join(",")}`}),s=e.raw?i:Ui(uR.Response,i);return e.chainIds?s:Object.values(s)[0]}catch(r){throw Tl(r),r}}async function apt(t,e){const{account:n,assetFilter:r,assetTypeFilter:i,chainFilter:s}=e;try{const a=await t.request({method:"wallet_getAssets",params:[Er(Uw.Parameters,{account:n,assetFilter:r,assetTypeFilter:i,chainFilter:s})]}),c=Ui(Uw.Response,a),l=Object.entries(c).reduce((d,[h,p])=>(d[x1(h)]=p,d),{}),u={};for(const d of Object.values(l))for(const h of d){const p=JSON.stringify(h.metadata);u[p]={...h,balance:h.balance+(u[p]?.balance??0n)}}return{...l,0:Object.values(u)}}catch(o){throw Tl(o),o}}async function cpt(t,e){const{id:n}=e;try{const i=await t.request({method:"wallet_getCallsStatus",params:[n]});return Ui(dR.Response,i)}catch(r){throw Tl(r),r}}async function lpt(t,e){const{address:n,chainIds:r}=e;try{const s=await t.request({method:"wallet_getKeys",params:[Er(b6.Parameters,{address:n,chainIds:r})]});return Ui(b6.Response,s)}catch(i){throw Tl(i),i}}async function upt(t){const e="health",n=await UA(()=>t.request({method:e}),{cacheKey:`${t.uid}.${e}`});return Ui(lR.Response,n)}async function UN(t,e){const{address:n,capabilities:r,chain:i=t.chain,key:s}=e,o=e.calls.map(a=>({data:a.abi?cht(nR(a.abi,a.functionName),a.args):a.data??"0x",to:a.to,value:a.value??0n}));try{const c=await t.request({method:"wallet_prepareCalls",params:[Er(e_.Parameters,{calls:o,capabilities:{...r,meta:{...r?.meta}},chainId:i?.id,from:n,key:s?{prehash:s.prehash,publicKey:s.publicKey,type:s.type}:void 0})]},{retryCount:0});return Object.assign(Ui(e_.Response,c),{_raw:c})}catch(a){throw Tl(a),b2(a,{calls:e.calls}),a}}async function dpt(t,e){const{address:n,chain:r=t.chain,delegation:i,...s}=e;try{const a=await t.request({method:"wallet_prepareUpgradeAccount",params:[Er(v6.Parameters,pv({address:n,capabilities:s,chainId:r?.id,delegation:i}))]},{retryCount:0});return Ui(v6.Response,a)}catch(o){throw Tl(o),b2(o),o}}async function hpt(t,e){const{capabilities:n,context:r,key:i,signature:s}=e;try{const a=await t.request({method:"wallet_sendPreparedCalls",params:[Er(E6.Parameters,{capabilities:n,context:{preCall:r.preCall,quote:r.quote},key:i?{prehash:i.prehash,publicKey:i.publicKey,type:i.type}:void 0,signature:s})]},{retryCount:0});return Ui(E6.Response,a)}catch(o){throw Tl(o),b2(o),o}}async function ppt(t,e){const{email:n,walletAddress:r}=e;try{const s=await t.request({method:"account_setEmail",params:[Er(m6.Parameters,{email:n,walletAddress:r})]},{retryCount:0});return Ui(m6.Response,s)}catch(i){throw Tl(i),b2(i),i}}async function fpt(t,e){const{context:n,signatures:r}=e;try{await t.request({method:"wallet_upgradeAccount",params:[Er(hR.Parameters,{context:n,signatures:r})]},{retryCount:0})}catch(i){throw Tl(i),b2(i),i}}async function gpt(t,e){const{chainId:n,email:r,signature:i,token:s,walletAddress:o}=e;try{const c=await t.request({method:"account_verifyEmail",params:[Er(w6.Parameters,{chainId:n,email:r,signature:i,token:s,walletAddress:o})]},{retryCount:0});return Ui(w6.Response,c)}catch(a){throw Tl(a),b2(a),a}}async function mpt(t,e){const{signature:n}=e,{signature:r,capabilities:{feeSignature:i,...s},...o}=e.response,a=pR({capabilities:s,...o}),c=qs(dl(JSON.stringify(a))),l=cfe({payload:c,signature:cB(n)}),{quoteSigner:u}=await upt(t);return l===u}async function wpt(t,e){const{address:n,chain:r=t.chain,digest:i,signature:s}=e;try{async function o(){return{proof:null,valid:await $ye(t,{address:n,hash:i,signature:s})}}const a="wallet_verifySignature",c=await(async()=>{const l=await t.request({method:a,params:[Er(C6.Parameters,{address:n,chainId:r?.id,digest:i,signature:s})]},{retryCount:0}).catch(o);return l.valid?l:o()})();return Ui(C6.Response,c)}catch(o){throw Tl(o),o}}function b2(t,{calls:e}={}){if(!(t instanceof $_))return;const n=s=>{try{if(s.name==="ContractFunctionExecutionError"){const l=s.cause.name==="ContractFunctionRevertedError"?s.cause.data:void 0;if(l)return Hht([l.abiItem],l.errorName)}const o=s.walk(l=>!(l instanceof Error)&&l.code===3);if(!o)return;const{data:a,message:c}=o;return a==="0xd0d5039b"?mB("error Unauthorized()"):{inputs:[],name:(c??a).split("(")[0],type:"error"}}catch{return}},r=Tye(t,{calls:e??[]}),i=n(r);if(!(r===t&&!i))throw new ypt(Object.assign(r,{abiError:i}))}function pR(t){if(typeof t=="object"&&t!==null){if(Array.isArray(t))return t.map(pR);const e={};for(const n of Object.keys(t).sort())e[n]=pR(t[n]);return e}return t}function Tl(t){if(t.name==="$ZodError")throw Gfe(t)}class ypt extends xt{constructor(e){super("An error occurred while executing calls.",{cause:e,metaMessages:[e.abiError&&"Reason: "+e.abiError.name].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Rpc.ExecutionError"}),Object.defineProperty(this,"abiError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiError=e.abiError}}const bpt={prod:{http:"https://rpc.porto.sh"}};function n_(t){return e=>{const n=t.public(e),r=t.relay(e);return Nye({key:n_.type,name:"Relay Proxy",async request({method:i,params:s},o){return vpt(i)?r.request({method:i,params:s},o):n.request({method:i,params:s},o)},type:n_.type})}}(function(t){t.type="relayProxy"})(n_||(n_={}));function vpt(t){return!!(t.startsWith("wallet_")||t.startsWith("account_")||t==="health")}const MN=new Map;function Ept(t,e={}){const{config:n,id:r,store:i}=t._internal,{chains:s,relay:o}=n,a=i.getState(),c=e.chainId??a.chainIds[0],l=s.find(p=>p.id===c);if(!l)throw new Error(["Could not find a compatible Porto chain on the given chain configuration.","",`Provided chains: [${s.map(p=>`${p.name} (id: ${p.id})`).join(", ")}]`,`Needed chain (id): ${c}`,"Please add this chain (id) to your chain configuration."].join(`
`));const u=n_({public:n.transports[l.id]??RE(l.rpcUrls.default.http.map(p=>mo(p))),relay:o}),d=[r,Op(l)].filter(Boolean).join(":");if(MN.has(d))return MN.get(d);const h=Wee({...e,chain:l,pollingInterval:1e3,transport:u});return MN.set(d,h),h}const Dp=J({chainId:re(Ot()),expiry:Ot(),hash:_e(),id:_e(),prehash:re(ri()),publicKey:_e(),role:Rt([Oe("admin"),Oe("session")]),type:Rt([Oe("address"),Oe("p256"),Oe("secp256k1"),Oe("webauthn-p256")])}),vB=xe(mt(E8([J({signature:Se(),to:Ne()}),J({signature:Se()}),J({to:Ne()})])).check(N4(1))),Jfe=J({limit:Rt([Bg([Ht(),".",Ht()]),Bg([Ht()])]).check(Ny(/^\d+(\.\d+)?$/)),symbol:re(Rt([Oe("native"),yB]))}),EB=J({addresses:xe(mt(Ne()))}),CB=xe(mt(J({limit:rn(),period:Rt([Oe("minute"),Oe("hour"),Oe("day"),Oe("week"),Oe("month"),Oe("year")]),token:re(Ne())}))),Cpt=J({calls:re(vB),signatureVerification:re(EB),spend:re(CB)}),_pt=J({...Dp.shape,feeToken:re(sg(Jfe)),permissions:re(Cpt)}),_B=J({address:Ne(),chainId:re(Ot()),expiry:Ht(),id:_e(),key:Ud(Dp,{publicKey:!0,type:!0}),permissions:J({calls:vB,signatureVerification:re(EB),spend:re(CB)})}),IB=J({address:re(Ne()),chainId:re(Ot()),expiry:Ht().check(Lg(1)),feeToken:sg(Jfe),key:re(Ud(Dp,{publicKey:!0,type:!0})),permissions:J({calls:vB,signatureVerification:re(EB),spend:re(CB)})}),fR=_B;function Xfe(t,e){const{chainId:n,expiry:r,permissions:i,id:s,publicKey:o,type:a}=t,{address:c}=e;return{address:c,chainId:n,expiry:r,id:s,key:{publicKey:o,type:a},permissions:i??{}}}function HZ(t){const{chainId:e,expiry:n,key:r}=t;return hl({chainId:e,expiry:n,permissions:t.permissions??{},publicKey:r.publicKey,role:"session",type:r.type})}var gR;(function(t){t.GetCapabilitiesResponse=J({status:Rt([Oe("supported"),Oe("unsupported")])})})(gR||(gR={}));var mR;(function(t){t.Request=Rt([ri(),J({chainId:re(Ot()),label:re(Se())})])})(mR||(mR={}));var _6;(function(t){t.Request=E8([J({chainId:re(Ht()),domain:re(Se()),expirationTime:re(Uf()),issuedAt:re(Uf()),nonce:Se(),notBefore:re(Uf()),requestId:re(Se()),resources:re(xe(mt(Se()))),scheme:re(Se()),statement:re(Se()),uri:re(Se()),version:re(Oe("1"))}),J({authUrl:Rt([Se(),J({logout:Se(),nonce:Se(),verify:Se()})]),chainId:re(Ot()),domain:re(Se()),expirationTime:re(Uf()),issuedAt:re(Uf()),notBefore:re(Uf()),requestId:re(Se()),resources:re(xe(mt(Se()))),scheme:re(Se()),statement:re(Se()),uri:re(Se()),version:re(Oe("1"))})]),t.Response=J({message:Se(),signature:_e(),token:re(Se())})})(_6||(_6={}));var zg;(function(t){t.GetCapabilitiesResponse=J({supported:ri(),tokens:xe(mt(wB))}),t.Request=Rt([yB,Ne()])})(zg||(zg={}));var wR;(function(t){t.Request=IB})(wR||(wR={}));var yR;(function(t){t.GetCapabilitiesResponse=J({supported:ri()})})(yR||(yR={}));var P0;(function(t){t.GetCapabilitiesResponse=J({supported:ri()}),t.Request=J({id:re(Rt([_e(),cr()]))}),t.Response=xe(mt(_B))})(P0||(P0={}));var R0;(function(t){t.Request=xe(mt(J({context:ji(),signature:_e()}))),t.Response=t.Request})(R0||(R0={}));var I6;(function(t){t.Request=Se()})(I6||(I6={}));var S6;(function(t){t.GetCapabilitiesResponse=J({supported:ri(),tokens:xe(mt(wB))}),t.Request=xe(mt(E8([J({address:Ne(),value:rn()}),J({symbol:yB,value:Rt([Bg([Ht(),".",Ht()]),Bg([Ht()])]).check(Ny(/^\d+(\.\d+)?$/))})])))})(S6||(S6={}));const Ipt=J({...Ud(Dp,{id:!0,publicKey:!0,type:!0}).shape,credentialId:re(Se()),privateKey:re(i8())});var bR;(function(t){t.Parameters=J({address:Ne(),secret:Se()}),t.Request=J({method:Oe("account_getOnrampContactInfo"),params:xe(At([t.Parameters]))}),t.Response=J({email:re(Se()),phone:re(Se()),phoneVerifiedAt:re(Ht())})})(bR||(bR={}));var vR;(function(t){t.Parameters=J({address:Ne()}),t.Request=J({method:Oe("account_onrampStatus"),params:xe(At([t.Parameters]))}),t.Response=J({email:re(Ht()),phone:re(Ht())})})(vR||(vR={}));var ER;(function(t){t.Parameters=J({email:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_resendVerifyPhone"),params:xe(At([t.Parameters]))}),t.Response=cr()})(ER||(ER={}));var CR;(function(t){t.Parameters=J({email:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_setEmail"),params:xe(At([t.Parameters]))}),t.Response=cr()})(CR||(CR={}));var _R;(function(t){t.Parameters=J({email:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_setPhone"),params:xe(At([t.Parameters]))}),t.Response=cr()})(_R||(_R={}));var x6;(function(t){t.Parameters=J({chainId:Ot(),email:Se(),token:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_verifyEmail"),params:xe(At([t.Parameters]))}),t.Response=cr()})(x6||(x6={}));var IR;(function(t){t.Parameters=J({code:Se(),phone:Se(),walletAddress:Ne()}),t.Request=J({method:Oe("account_verifyPhone"),params:xe(At([t.Parameters]))}),t.Response=cr()})(IR||(IR={}));var A6;(function(t){t.Parameters=J({address:re(Ne()),chainId:re(Ot()),token:re(Ne()),value:re(Se())}),t.Request=J({method:Oe("wallet_addFunds"),params:xe(At([t.Parameters]))}),t.Response=J({id:_e()})})(A6||(A6={}));var k6;(function(t){t.Request=J({method:Oe("eth_accounts"),params:re(ji())}),t.Response=xe(mt(Ne()))})(k6||(k6={}));var $6;(function(t){t.Request=J({method:Oe("eth_chainId"),params:re(ji())}),t.Response=_e()})($6||($6={}));var T6;(function(t){t.Request=J({method:Oe("eth_requestAccounts"),params:re(ji())}),t.Response=xe(mt(Ne()))})(T6||(T6={}));var N6;(function(t){t.Request=J({method:Oe("eth_sendTransaction"),params:xe(At([J({capabilities:re(J({feeToken:re(zg.Request),merchantUrl:re(I6.Request),preCalls:re(R0.Request)})),chainId:re(Ot()),data:re(_e()),from:re(Ne()),to:Ne(),value:re(rn())})]))}),t.Response=_e()})(N6||(N6={}));var O6;(function(t){t.Request=J({method:Oe("eth_signTypedData_v4"),params:xe(At([Ne(),Se()]))}),t.Response=_e()})(O6||(O6={}));var Wg;(function(t){t.Parameters=J({address:re(Ne()),chainId:re(Ot())}),t.Request=J({method:Oe("wallet_getAdmins"),params:re(xe(At([t.Parameters])))}),t.Key=Ipt,t.Response=J({address:Ne(),chainId:Ot(),keys:xe(mt(t.Key))})})(Wg||(Wg={}));var r_;(function(t){t.Capabilities=J({feeToken:re(zg.Request)}),t.Parameters=J({address:re(Ne()),capabilities:re(t.Capabilities),chainId:re(Ot()),key:Ud(Dp,{publicKey:!0,type:!0})}),t.Request=J({method:Oe("wallet_grantAdmin"),params:xe(At([t.Parameters]))}),t.Response=J({address:Ne(),chainId:Ot(),key:Wg.Key})})(r_||(r_={}));var i_;(function(t){t.Parameters=IB,t.Request=J({method:Oe("wallet_grantPermissions"),params:xe(At([t.Parameters]))}),t.ResponseCapabilities=J({preCalls:re(R0.Response)}),t.Response=J({..._B.shape,capabilities:re(i8())})})(i_||(i_={}));var P6;(function(t){t.Parameters=J({address:re(Ne())}),t.Request=J({method:Oe("wallet_getAccountVersion"),params:re(xe(At([t.Parameters])))}),t.Response=J({current:Se(),latest:Se()})})(P6||(P6={}));var R6;(function(t){t.Parameters=J({address:re(Ne()),chainIds:re(xe(mt(Ot())))}),t.Request=J({method:Oe("wallet_getPermissions"),params:re(xe(At([t.Parameters])))}),t.Response=P0.Response})(R6||(R6={}));var D6;(function(t){t.Capabilities=J({feeToken:re(zg.Request)}),t.Parameters=J({address:re(Ne()),capabilities:re(t.Capabilities),chainId:re(Ot()),id:_e()}),t.Request=J({method:Oe("wallet_revokeAdmin"),params:xe(At([t.Parameters]))}),t.Response=void 0})(D6||(D6={}));var U6;(function(t){t.Capabilities=J({feeToken:re(zg.Request)}),t.Parameters=J({address:re(Ne()),capabilities:re(t.Capabilities),id:_e()}),t.Request=J({method:Oe("wallet_revokePermissions"),params:xe(At([t.Parameters]))}),t.Response=void 0})(U6||(U6={}));var M6;(function(t){t.Request=J({method:Oe("wallet_switchEthereumChain"),params:xe(At([J({chainId:_e()})]))})})(M6||(M6={}));var L6;(function(t){t.Parameters=J({context:ji(),signatures:J({auth:_e(),exec:_e()})}),t.Request=J({method:Oe("wallet_upgradeAccount"),params:xe(At([t.Parameters]))}),t.ResponseCapabilities=J({admins:re(xe(mt(Wg.Key))),permissions:re(P0.Response)}),t.Response=J({address:Ne(),capabilities:re(t.ResponseCapabilities)})})(L6||(L6={}));var j6;(function(t){t.Request=J({method:Oe("personal_sign"),params:xe(At([_e(),Ne()]))}),t.Response=_e()})(j6||(j6={}));var B6;(function(t){t.Request=J({method:Oe("porto_ping"),params:re(jg())}),t.Response=Oe("pong")})(B6||(B6={}));var s_;(function(t){t.Capabilities=J({createAccount:re(mR.Request),email:re(ri()),grantAdmins:re(xe(mt(Ud(Dp,{publicKey:!0,type:!0})))),grantPermissions:re(wR.Request),preCalls:re(R0.Request),selectAccount:re(Rt([ri(),J({address:Ne(),key:re(J({credentialId:re(Se()),publicKey:_e()}))})])),signInWithEthereum:re(_6.Request)}),t.Parameters=J({capabilities:re(t.Capabilities),chainIds:re(xe(mt(Ot())))}),t.Request=J({method:Oe("wallet_connect"),params:re(xe(At([t.Parameters])))}),t.ResponseCapabilities=J({admins:re(xe(mt(J({...Ud(Dp,{id:!0,publicKey:!0,type:!0}).shape,credentialId:re(Se())})))),permissions:re(P0.Response),preCalls:re(R0.Response),signInWithEthereum:re(_6.Response)}),t.Response=J({accounts:xe(mt(J({address:Ne(),capabilities:re(t.ResponseCapabilities)}))),chainIds:xe(mt(Ot()))})})(s_||(s_={}));var z6;(function(t){t.Request=J({method:Oe("wallet_disconnect"),params:re(ji())}),t.Response=void 0})(z6||(z6={}));var vv;(function(t){t.Parameters=Uw.Parameters,t.Request=Uw.Request,t.Response=Uw.Response})(vv||(vv={}));var W6;(function(t){t.Request=J({method:Oe("wallet_getCallsStatus"),params:At([_e()])}),t.Response=J({atomic:ri(),chainId:Ot(),id:Se(),receipts:re(xe(mt(J({blockHash:_e(),blockNumber:_e(),gasUsed:_e(),logs:xe(mt(J({address:Ne(),data:_e(),topics:xe(mt(_e()))}))),status:_e(),transactionHash:_e()})))),status:Ht(),version:Se()})})(W6||(W6={}));var q6;(function(t){t.Request=J({method:Oe("wallet_getCapabilities"),params:re(Rt([xe(At([Rt([_e(),jg()])])),xe(At([Rt([_e(),jg()]),xe(mt(Ot()))]))]))}),t.Response=xs(_e(),J({atomic:gR.GetCapabilitiesResponse,feeToken:zg.GetCapabilitiesResponse,merchant:yR.GetCapabilitiesResponse,permissions:P0.GetCapabilitiesResponse,requiredFunds:S6.GetCapabilitiesResponse}))})(q6||(q6={}));var D0;(function(t){t.Parameters=J({address:Ne(),chainIds:re(xe(mt(Ot())))}),t.Request=J({method:Oe("wallet_getKeys"),params:xe(At([t.Parameters]))}),t.Response=xe(mt(_pt))})(D0||(D0={}));var pl;(function(t){t.Capabilities=J({feeToken:re(zg.Request),merchantUrl:re(I6.Request),permissions:re(P0.Request),preCalls:re(R0.Request),requiredFunds:re(S6.Request)}),t.Parameters=J({calls:xe(mt(J({data:re(_e()),to:Ne(),value:re(rn())}))),capabilities:re(t.Capabilities),chainId:re(Ot()),from:re(Ne()),key:re(Ud(Dp,{prehash:!0,publicKey:!0,type:!0})),version:re(Se())}),t.Request=J({method:Oe("wallet_prepareCalls"),params:xe(At([t.Parameters]))}),t.Response=J({capabilities:re(J({...e_.ResponseCapabilities.shape,quote:re(g6)})),chainId:_e(),context:J({account:J({address:Ne()}),calls:t.Parameters.shape.calls,nonce:rn(),quote:re(N0(g6))}),digest:_e(),key:Ud(Dp,{prehash:!0,publicKey:!0,type:!0}),typedData:J({domain:Rt([J({chainId:Ot(),name:Se(),verifyingContract:Ne(),version:Se()}),J({})]),message:xs(Se(),ji()),primaryType:Se(),types:xs(Se(),ji())})})})(pl||(pl={}));var F6;(function(t){t.Capabilities=J({...s_.Capabilities.shape,label:re(Se())}),t.Parameters=J({address:Ne(),capabilities:re(t.Capabilities),chainId:re(Ot())}),t.Request=J({method:Oe("wallet_prepareUpgradeAccount"),params:xe(At([t.Parameters]))}),t.Response=J({context:ji(),digests:J({auth:_e(),exec:_e()})})})(F6||(F6={}));var H6;(function(t){t.Capabilities=pl.Capabilities,t.Request=J({method:Oe("wallet_sendCalls"),params:xe(At([Dj(pl.Parameters,{key:!0})]))}),t.Response=J({id:_e()})})(H6||(H6={}));var V6;(function(t){t.Parameters=J({capabilities:pl.Response.shape.capabilities,chainId:_e(),context:pl.Response.shape.context,key:pl.Response.shape.key,signature:_e()}),t.Request=J({method:Oe("wallet_sendPreparedCalls"),params:xe(At([t.Parameters]))}),t.Response=xe(mt(J({capabilities:re(xs(Se(),ji())),id:_e()})))})(V6||(V6={}));var K6;(function(t){t.Parameters=J({address:Ne(),chainId:re(Ot()),digest:_e(),signature:_e()}),t.Request=J({method:Oe("wallet_verifySignature"),params:xe(At([t.Parameters]))}),t.Response=J({address:Ne(),chainId:Ot(),proof:re(ji()),valid:ri()})})(K6||(K6={}));const VZ=Lj("method",[x6.Request,A6.Request,k6.Request,$6.Request,T6.Request,N6.Request,O6.Request,P6.Request,Wg.Request,R6.Request,r_.Request,i_.Request,F6.Request,D6.Request,U6.Request,L6.Request,j6.Request,B6.Request,s_.Request,z6.Request,vv.Request,W6.Request,q6.Request,D0.Request,pl.Request,H6.Request,V6.Request,M6.Request,K6.Request]);function KZ(t,e){const n=h2(t,e);if(n.error){const r=n.error.issues.at(0);throw r?.code==="invalid_union"&&r.note==="No matching discriminator"?new C0:new _0(Gfe(n.error))}return{...e,_decoded:n.data}}async function ZZ(t){t.persist.hasHydrated()||await new Promise(e=>{t.persist.onFinishHydration(()=>e(!0)),setTimeout(()=>e(!0),100)})}function LN(t){if(t)return t.startsWith("/")?`${window.location.origin}${t}`:t}function Qfe(t){const{config:e,getMode:n,id:r,store:i}=t,{announceProvider:s}=e;function o(f={}){const g=a(),m=f.request??KZ(VZ,{method:"wallet_getCapabilities",params:f.chainIds?[void 0,f.chainIds]:void 0});return UA(()=>n().actions.getCapabilities({chainIds:f.chainIds,internal:{client:g,config:e,request:m,store:i}}),{cacheKey:`getCapabilities.${r}.${f.chainIds?.join(",")}`})}function a(f){const g=typeof f=="string"?x1(f):f;return Ept({_internal:t},{chainId:g})}const c=new Map,l=[],u=cot(),d=wce({...u,async request(f){await ZZ(i);const g=["eth_accounts","eth_chainId","eth_requestAccounts","wallet_getAssets","wallet_getCapabilities","wallet_getKeys","wallet_getPermissions","wallet_getAccountVersion","wallet_connect"].includes(f.method);return _w(async()=>{let m;try{m=KZ(VZ,f)}catch(y){const v=y;if(!(v instanceof C0))throw v;if(f.method.startsWith("wallet_"))throw new YC;return a().request(f)}const b=i.getState();switch(m.method){case"account_verifyEmail":{if(b.accounts.length===0)throw new Hi;const[y]=m._decoded.params,{chainId:v,email:w,token:C,walletAddress:I}=y,k=a(v);if(v&&v!==k.chain.id)throw new Vf;const P=I?b.accounts.find(S=>ei(S.address,I)):b.accounts[0];if(!P)throw new Fi;return await n().actions.verifyEmail({account:P,chainId:v,email:w,internal:{client:k,config:e,request:m,store:i},token:C,walletAddress:I})}case"wallet_addFunds":{if(b.accounts.length===0)throw new Hi;const{address:y,value:v,token:w}=m.params[0]??{},C=y?b.accounts.find(P=>ei(P.address,y)):b.accounts[0];if(!C)throw new Fi;const I=a(),k=await n().actions.addFunds({address:C.address,internal:{client:I,config:e,request:m,store:i},token:w,value:v});return u.emit("message",{data:null,type:"assetsChanged"}),k}case"eth_accounts":{if(b.accounts.length===0)throw new Hi;return b.accounts.map(h3)}case"eth_chainId":return nn(b.chainIds[0]);case"eth_requestAccounts":{if(b.accounts.length>0&&c.get("eth_requestAccounts"))return b.accounts.map(h3);const y=a(),{accounts:v}=await n().actions.loadAccounts({internal:{client:y,config:e,request:m,store:i}});return i.setState(w=>({...w,accounts:v})),u.emit("connect",{chainId:nn(y.chain.id)}),c.set("eth_requestAccounts",!0),setTimeout(()=>c.delete("eth_requestAccounts"),1e3),v.map(h3)}case"eth_sendTransaction":{if(b.accounts.length===0)throw new Hi;const[{capabilities:y,chainId:v,data:w="0x",from:C,to:I,value:k}]=m._decoded.params,P=a(v);if(v&&v!==P.chain.id)throw new Vf;const S=C?b.accounts.find(R=>ei(R.address,C)):b.accounts[0];if(!S)throw new Fi;const{id:N}=await n().actions.sendCalls({account:S,asTxHash:!0,calls:[{data:w,to:I,value:k}],chainId:P.chain.id,internal:{client:P,config:e,request:m,store:i},merchantUrl:LN(e.merchantUrl??y?.merchantUrl)});return N}case"eth_signTypedData_v4":{if(b.accounts.length===0)throw new Hi;const[y,v]=m._decoded.params,w=b.accounts.find(k=>ei(k.address,y));if(!w)throw new Fi;const C=a();return await n().actions.signTypedData({account:w,data:v,internal:{client:C,config:e,request:m,store:i}})}case"wallet_grantAdmin":{if(b.accounts.length===0)throw new Hi;const[{address:y,capabilities:v,chainId:w,key:C}]=m._decoded.params??[{}],I=y?b.accounts.find(R=>ei(R.address,y)):b.accounts[0];if(!I)throw new Fi;const k=a(w);if(d3([...I.keys??[]])?.some(R=>R.publicKey?.toLowerCase()===C.publicKey.toLowerCase()))throw new _0({message:"Key already granted as admin."});const{key:S}=await n().actions.grantAdmin({account:I,feeToken:v?.feeToken,internal:{client:k,config:e,request:m,store:i},key:C});i.setState(R=>{const D=R.accounts.findIndex(O=>I?ei(O.address,I.address):!0);return D===-1?R:{...R,accounts:R.accounts.map((O,T)=>T===D?{...O,keys:[...O.keys??[],S]}:O)}});const N=d3([...I.keys??[],S]);return u.emit("message",{data:null,type:"adminsChanged"}),Er(r_.Response,{address:I.address,chainId:k.chain.id,key:N.at(-1)})}case"wallet_grantPermissions":{if(b.accounts.length===0)throw new Hi;const[{address:y,chainId:v,...w}]=m._decoded.params??[{}],C=y?b.accounts.find(P=>ei(P.address,y)):b.accounts[0];if(!C)throw new Fi;const I=a(v),{key:k}=await n().actions.grantPermissions({account:C,internal:{client:I,config:e,request:m,store:i},permissions:w});return i.setState(P=>{const S=P.accounts.findIndex(N=>C?ei(N.address,C.address):!0);return S===-1?P:{...P,accounts:P.accounts.map((N,R)=>R===S?{...N,keys:[...N.keys??[],k]}:N)}}),u.emit("message",{data:null,type:"permissionsChanged"}),Er(i_.Response,{...Xfe(k,{address:C.address})})}case"wallet_getAdmins":{if(b.accounts.length===0)throw new Hi;const[{address:y,chainId:v}]=m._decoded.params??[{}],w=y?b.accounts.find(P=>ei(P.address,y)):b.accounts[0];if(!w)throw new Fi;const C=a(v),I=await n().actions.getKeys({account:w,internal:{client:C,config:e,request:m,store:i}}),k=d3(I);return Er(Wg.Response,{address:w.address,chainId:C.chain.id,keys:k})}case"wallet_prepareUpgradeAccount":{const[{address:y,capabilities:v,chainId:w}]=m._decoded.params??[{}],{email:C,label:I,grantPermissions:k}=v??{},P=a(w),{context:S,digests:N}=await n().actions.prepareUpgradeAccount({address:y,email:C,internal:{client:P,config:e,request:m,store:i},label:I,permissions:k});return l.push(S.account),{context:S,digests:N}}case"wallet_getAccountVersion":{if(b.accounts.length===0)throw new Hi;const[{address:y}]=m._decoded.params??[{}],v=y?b.accounts.find(k=>ei(k.address,y)):b.accounts[0];if(!v)throw new Fi;const w=a(),{current:C,latest:I}=await n().actions.getAccountVersion({address:v.address,internal:{client:w,config:e,request:m,store:i}});return{current:C,latest:I}}case"wallet_getKeys":{if(b.accounts.length===0)throw new Hi;const[{address:y,chainIds:v}]=m._decoded.params??[{}],w=b.accounts.find(k=>ei(k.address,y));if(!w)throw new Fi;const C=a(),I=await n().actions.getKeys({account:w,chainIds:v,internal:{client:C,config:e,request:m,store:i}});return Er(D0.Response,I)}case"wallet_getPermissions":{if(b.accounts.length===0)throw new Hi;const[{address:y,chainIds:v}]=m._decoded.params??[{}],w=y?b.accounts.find(P=>ei(P.address,y)):b.accounts[0];if(!w)throw new Fi;const C=a(),I=await n().actions.getKeys({account:w,chainIds:v,internal:{client:C,config:e,request:m,store:i}});return jN(I,{address:w.address})}case"wallet_revokeAdmin":{if(b.accounts.length===0)throw new Hi;const[{address:y,capabilities:v,id:w}]=m._decoded.params,C=y?b.accounts.find(P=>ei(P.address,y)):b.accounts[0];if(!C)throw new Fi;const I=a();await n().actions.revokeAdmin({account:C,feeToken:v?.feeToken,id:w,internal:{client:I,config:e,request:m,store:i}});const k=C.keys?.filter(P=>P.id.toLowerCase()!==w.toLowerCase());i.setState(P=>({...P,accounts:P.accounts.map(S=>ei(S.address,C.address)?{...S,keys:k}:S)})),u.emit("message",{data:null,type:"adminsChanged"});return}case"wallet_revokePermissions":{if(b.accounts.length===0)throw new Hi;const[{address:y,capabilities:v,id:w}]=m._decoded.params,C=y?b.accounts.find(P=>ei(P.address,y)):b.accounts[0];if(!C)throw new Fi;const I=a();await n().actions.revokePermissions({account:C,feeToken:v?.feeToken,id:w,internal:{client:I,config:e,request:m,store:i}});const k=C.keys?.filter(P=>P.id.toLowerCase()!==w.toLowerCase());i.setState(P=>({...P,accounts:P.accounts.map(S=>ei(S.address,C.address)?{...S,keys:k}:S)})),u.emit("message",{data:null,type:"permissionsChanged"});return}case"wallet_upgradeAccount":{const[{context:y,signatures:v}]=m._decoded.params??[{}],w=a(),C=l.find(S=>ei(S.address,y.account.address));if(!C)throw new Fi;const{account:I}=await n().actions.upgradeAccount({account:C,context:y,internal:{client:w,config:e,request:m,store:i},signatures:v}),k=d3(I.keys??[]),P=jN(I.keys??[],{address:I.address});return i.setState(S=>({...S,accounts:[I]})),u.emit("connect",{chainId:nn(w.chain.id)}),{address:I.address,capabilities:{admins:k,...P.length>0?{permissions:P}:{}}}}case"porto_ping":return"pong";case"personal_sign":{if(b.accounts.length===0)throw new Hi;const[y,v]=m._decoded.params,w=b.accounts.find(k=>ei(k.address,v));if(!w)throw new Fi;const C=a();return await n().actions.signPersonalMessage({account:w,data:y,internal:{client:C,config:e,request:m,store:i}})}case"wallet_connect":{const[{capabilities:y,chainIds:v}]=m._decoded.params??[{}],w=a(v?.[0]),C=w.chain.id,{createAccount:I,email:k,grantAdmins:P,grantPermissions:S,selectAccount:N,signInWithEthereum:R}=y??{},D={client:w,config:e,request:m,store:i},{accounts:O}=await(async()=>{if(k||I){const{label:A=void 0}=typeof I=="object"?I:{},{account:U}=await n().actions.createAccount({admins:P,email:k,internal:D,label:A,permissions:S,signInWithEthereum:R});return{accounts:[U]}}const E=b.accounts[0],{address:_,key:x}=(()=>{if(N)return typeof N=="object"?N:{address:void 0,key:void 0};for(const A of E?.keys??[])if(A.type==="webauthn-p256"&&A.role==="admin")return{address:E?.address,key:{credentialId:A.credentialId??A.privateKey?.credential?.id,publicKey:A.publicKey}};return{address:void 0,key:void 0}})(),M={internal:D,permissions:S,signInWithEthereum:R};try{return await n().actions.loadAccounts({address:_,key:x,...M})}catch(A){if(A instanceof hv)throw A;if(_&&x)return await n().actions.loadAccounts(M);throw A}})();i.setState(E=>({...E,accounts:O}));const T=[C,...i.getState().chainIds.filter(E=>E!==C)];return u.emit("connect",{chainId:nn(T[0])}),{accounts:O.map(E=>({address:h3(E),capabilities:{admins:E.keys?d3(E.keys):[],permissions:E.keys?jN(E.keys,{address:E.address}):[],...E.signInWithEthereum&&{signInWithEthereum:E.signInWithEthereum}}})),chainIds:T.map(E=>nn(E))}}case"wallet_disconnect":{const y=a();await n().actions.disconnect?.({internal:{client:y,config:e,request:m,store:i}}),i.setState(v=>({...v,accounts:[]})),u.emit("disconnect",new Hi);return}case"wallet_getAssets":{const[y]=m._decoded.params??[],{account:v,chainFilter:w,assetFilter:C,assetTypeFilter:I}=y,k=a(),P=await n().actions.getAssets({account:v,assetFilter:C,assetTypeFilter:I,chainFilter:w,internal:{client:k,config:e,request:m,store:i}}),S=Object.entries(P).reduce((N,[R,D])=>(N[nn(Number(R))]=D,N),{});return Er(vv.Response,S)}case"wallet_getCallsStatus":{const[y]=m._decoded.params??[],v=a();return await n().actions.getCallsStatus({id:y,internal:{client:v,config:e,request:m,store:i}})}case"wallet_getCapabilities":{const[y,v]=m.params??[];return await o({chainIds:v,request:m})}case"wallet_prepareCalls":{const[y]=m._decoded.params,{calls:v,capabilities:w,chainId:C,key:I,from:k}=y,P=a(C),S=k??b.accounts[0];if(!S)throw new Fi;if(C&&C!==P.chain.id)throw new Vf;const{digest:N,...R}=await n().actions.prepareCalls({account:xc(S),calls:v,feeToken:w?.feeToken,internal:{client:P,config:e,request:m,store:i},key:I,merchantUrl:LN(e.merchantUrl??w?.merchantUrl),requiredFunds:w?.requiredFunds});return Er(pl.Response,{capabilities:R.capabilities,chainId:nn(R.chainId??P.chain.id),context:{...R.context,account:{address:R.account.address},calls:R.context.calls??[],nonce:R.context.nonce??0n},digest:N,key:R.key,typedData:R.typedData})}case"wallet_sendPreparedCalls":{const[y]=m._decoded.params,{chainId:v,context:w,key:C,signature:I}=y,{account:k}=y.context,P=a(v);if(v&&x1(v)!==P.chain.id)throw new Vf;return[{id:await n().actions.sendPreparedCalls({account:xc(k),context:w,internal:{client:P,config:e,request:m,store:i},key:C,signature:I})}]}case"wallet_sendCalls":{if(b.accounts.length===0)throw new Hi;const[y]=m._decoded.params,{calls:v,capabilities:w,chainId:C,from:I}=y,k=a(C);if(C&&C!==k.chain.id)throw new Vf;const P=I?b.accounts.find(N=>ei(N.address,I)):b.accounts[0];if(!P)throw new Fi;const{id:S}=await n().actions.sendCalls({account:P,calls:v,chainId:k.chain.id,feeToken:w?.feeToken,internal:{client:k,config:e,request:m,store:i},merchantUrl:LN(e.merchantUrl??w?.merchantUrl),permissionsId:w?.permissions?.id,requiredFunds:w?.requiredFunds});return{id:S}}case"wallet_switchEthereumChain":{const[y]=m._decoded.params,{chainId:v}=y,w=x1(v);if(!e.chains.find(k=>k.id===w))throw new Xx;const I=a(v);await n().actions.switchChain?.({chainId:I.chain.id,internal:{client:I,config:e,request:m,store:i}}),i.setState(k=>({...k,chainIds:[w,...k.chainIds.filter(P=>P!==w)]}));return}case"wallet_verifySignature":{const[y]=m._decoded.params,{address:v,chainId:w,digest:C,signature:I}=y,k=a(w);return{...await wpt(k,{address:v,digest:C,signature:I}),address:v,chainId:nn(k.chain.id)}}}},{enabled:g,id:Op(f)})}});function h(){let f=()=>{},g=()=>{};ZZ(i).then(()=>{o().catch(()=>{}),f(),f=i.subscribe(b=>b.accounts,b=>{u.emit("accountsChanged",b.map(h3))},{equalityFn:(b,y)=>b.every((v,w)=>v.address===y[w]?.address)}),g(),g=i.subscribe(b=>b.chainIds[0],(b,y)=>{b!==y&&u.emit("chainChanged",nn(b))})});const m=Spt(d,s);return()=>{f(),g(),m()}}const p=h();return Object.assign(d,{_internal:{destroy:p}})}function Spt(t,e){if(!e)return()=>{};if(typeof window>"u"||!window.dispatchEvent)return()=>{};const{icon:n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIyIiBoZWlnaHQ9IjQyMiIgdmlld0JveD0iMCAwIDQyMiA0MjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MjIiIGhlaWdodD0iNDIyIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV8xNSkiPgo8cGF0aCBkPSJNODEgMjg2LjM2NkM4MSAyODAuODkzIDg1LjQ1MDUgMjc2LjQ1NSA5MC45NDA0IDI3Ni40NTVIMzI5LjUxMUMzMzUuMDAxIDI3Ni40NTUgMzM5LjQ1MiAyODAuODkzIDMzOS40NTIgMjg2LjM2NlYzMDYuMTg4QzMzOS40NTIgMzExLjY2MiAzMzUuMDAxIDMxNi4wOTkgMzI5LjUxMSAzMTYuMDk5SDkwLjk0MDRDODUuNDUwNSAzMTYuMDk5IDgxIDMxMS42NjIgODEgMzA2LjE4OFYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAyMzQuODI4Qzg1LjQ1MDUgMjM0LjgyOCA4MSAyMzkuMjY2IDgxIDI0NC43MzlWMjcxLjUzMUM4My44NDMyIDI2OS42MzMgODcuMjYyMiAyNjguNTI2IDkwLjk0MDQgMjY4LjUyNkgzMjkuNTExQzMzMy4xODggMjY4LjUyNiAzMzYuNjA4IDI2OS42MzMgMzM5LjQ1MiAyNzEuNTMxVjI0NC43MzlDMzM5LjQ1MiAyMzkuMjY2IDMzNS4wMDEgMjM0LjgyOCAzMjkuNTExIDIzNC44MjhIOTAuOTQwNFpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgwLjg5MyAzMzUuMDAxIDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTlDODEgMzExLjY2NCA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2NCAzMzkuNDUyIDMwNi4xOVYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAxOTMuMjAxQzg1LjQ1MDUgMTkzLjIwMSA4MSAxOTcuNjM4IDgxIDIwMy4xMTJWMjI5LjkwM0M4My44NDMyIDIyOC4wMDYgODcuMjYyMiAyMjYuODk5IDkwLjk0MDQgMjI2Ljg5OUgzMjkuNTExQzMzMy4xODggMjI2Ljg5OSAzMzYuNjA4IDIyOC4wMDYgMzM5LjQ1MiAyMjkuOTAzVjIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNFpNMzM5LjQ1MiAyNDQuNzM5QzMzOS40NTIgMjM5LjI2NSAzMzUuMDAxIDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNDODEuMjE3NSAyNzEuMzg1IDgxLjQzODMgMjcxLjI0NSA4MS42NjI0IDI3MS4xMDlDODMuODMyNSAyNjkuNzk0IDg2LjMwNTQgMjY4LjkyNyA4OC45NTIzIDI2OC42MzVDODkuNjA1MSAyNjguNTYzIDkwLjI2ODQgMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMzAuMTgzIDI2OC41MjYgMzMwLjg0NiAyNjguNTYzIDMzMS40OTggMjY4LjYzNUMzMzQuNDE5IDI2OC45NTcgMzM3LjEyOCAyNjkuOTggMzM5LjQ1MiAyNzEuNTNWMjQ0LjczOVpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgxLjAyMSAzMzUuMjA2IDI3Ni42NjMgMzI5Ljg5MyAyNzYuNDYyQzMyOS43NjcgMjc2LjQ1NyAzMjkuNjQgMjc2LjQ1NSAzMjkuNTExIDI3Ni40NTVIOTAuOTQwNEM4NS40NTA1IDI3Ni40NTUgODEgMjgwLjg5MyA4MSAyODYuMzY2VjMwNi4xODhDODEgMzExLjY2MiA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2MiAzMzkuNDUyIDMwNi4xODhWMjg2LjM2NloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTguMDE0NiAxMDRDODguNjE3NyAxMDQgODEgMTExLjU5NSA4MSAxMjAuOTY1VjE4OC4yNzZDODMuODQzMiAxODYuMzc5IDg3LjI2MjIgMTg1LjI3MiA5MC45NDA0IDE4NS4yNzJIMzI5LjUxMUMzMzMuMTg4IDE4NS4yNzIgMzM2LjYwOCAxODYuMzc5IDMzOS40NTIgMTg4LjI3NlYxMjAuOTY1QzMzOS40NTIgMTExLjU5NSAzMzEuODMzIDEwNCAzMjIuNDM3IDEwNEg5OC4wMTQ2Wk0zMzkuNDUyIDIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNEM4NS40NTA1IDE5My4yMDEgODEgMTk3LjYzOCA4MSAyMDMuMTEyVjIyOS45MDNDODEuMjE3NSAyMjkuNzU4IDgxLjQzODMgMjI5LjYxOCA4MS42NjI0IDIyOS40ODJDODMuODMyNSAyMjguMTY3IDg2LjMwNTQgMjI3LjMgODguOTUyMyAyMjcuMDA4Qzg5LjYwNTEgMjI2LjkzNiA5MC4yNjg0IDIyNi44OTkgOTAuOTQwNCAyMjYuODk5SDMyOS41MTFDMzMwLjE4MyAyMjYuODk5IDMzMC44NDYgMjI2LjkzNiAzMzEuNDk4IDIyNy4wMDhDMzM0LjQxOSAyMjcuMzMgMzM3LjEyOCAyMjguMzUyIDMzOS40NTIgMjI5LjkwM1YyMDMuMTEyWk0zMzkuNDUyIDI0NC43MzlDMzM5LjQ1MiAyMzkuMzkzIDMzNS4yMDYgMjM1LjAzNiAzMjkuODkzIDIzNC44MzVDMzI5Ljc2NyAyMzQuODMgMzI5LjY0IDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNMODEuMDcwNyAyNzEuNDgzQzgxLjI2NTMgMjcxLjM1NSA4MS40NjI1IDI3MS4yMyA4MS42NjI0IDI3MS4xMDlDODEuOTA4MyAyNzAuOTYgODIuMTU4MSAyNzAuODE3IDgyLjQxMTcgMjcwLjY3OUM4NC4zOTUzIDI2OS42MDUgODYuNjA1NCAyNjguODk0IDg4Ljk1MjMgMjY4LjYzNUM4OS4wMDUyIDI2OC42MjkgODkuMDU4IDI2OC42MjQgODkuMTExIDI2OC42MThDODkuNzEyNSAyNjguNTU3IDkwLjMyMjggMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMjkuNzM4IDI2OC41MjYgMzI5Ljk2NSAyNjguNTMgMzMwLjE5MiAyNjguNTM5QzMzMC42MzEgMjY4LjU1NSAzMzEuMDY3IDI2OC41ODcgMzMxLjQ5OCAyNjguNjM1QzMzNC40MTkgMjY4Ljk1NyAzMzcuMTI4IDI2OS45OCAzMzkuNDUyIDI3MS41M1YyNDQuNzM5Wk0zMzkuNDUyIDI4Ni4zNjZDMzM5LjQ1MiAyODEuMDIxIDMzNS4yMDYgMjc2LjY2MyAzMjkuODkzIDI3Ni40NjJMMzI5Ljg2NSAyNzYuNDYxQzMyOS43NDggMjc2LjQ1NyAzMjkuNjI5IDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTg4QzgxIDMxMS42NjIgODUuNDUwNSAzMTYuMTAxIDkwLjk0MDQgMzE2LjEwMUgzMjkuNTExQzMzNS4wMDEgMzE2LjEwMSAzMzkuNDUyIDMxMS42NjIgMzM5LjQ1MiAzMDYuMTg4VjI4Ni4zNjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjY5Ljg2OCAxMzEuNzUyQzI2OS44NjggMTI2LjI3OCAyNzQuMzE4IDEyMS44NCAyNzkuODA4IDEyMS44NEgzMTEuNjE4QzMxNy4xMDggMTIxLjg0IDMyMS41NTggMTI2LjI3OCAzMjEuNTU4IDEzMS43NTJWMTYxLjQ4NUMzMjEuNTU4IDE2Ni45NTkgMzE3LjEwOCAxNzEuMzk2IDMxMS42MTggMTcxLjM5NkgyNzkuODA4QzI3NC4zMTggMTcxLjM5NiAyNjkuODY4IDE2Ni45NTkgMjY5Ljg2OCAxNjEuNDg1VjEzMS43NTJaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzFfMTUiPgo8cmVjdCB3aWR0aD0iMjU5IiBoZWlnaHQ9IjIxMyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgxIDEwNCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",name:r="Porto",rdns:i="xyz.ithaca.porto"}=typeof e=="object"?e:{};return Oye({info:{icon:n,name:r,rdns:i,uuid:QM()},provider:t})}function d3(t){return t.map(e=>{if(e.role==="admin")try{return Er(Wg.Key,{id:e.id??e.publicKey,publicKey:e.publicKey,type:e.type,...e.type==="webauthn-p256"?{credentialId:e.privateKey?.credential?.id,privateKey:{credential:{id:e.privateKey?.credential?.id},rpId:e.privateKey?.rpId}}:{}})}catch{return}}).filter(Boolean)}function jN(t,{address:e}){return t.map(n=>{if(n.chainId&&n.role==="session"&&!(n.expiry>0&&n.expiry<BigInt(Math.floor(Date.now()/1e3))))try{return Er(fR,Xfe(n,{address:e}))}catch{return}}).filter(Boolean)}function h3(t){return pd(t.address)}function ege(t){return{...t,setup:t.setup??(()=>()=>{})}}async function SR(t){const{account:e,calls:n,permissionsId:r}=t;if(typeof r<"u"){if(r===null)return;const o=e.keys?.find(a=>a.publicKey===r&&a.privateKey);if(!o)throw new Error(`permission (id: ${r}) does not exist.`);return o}const i=e.keys?.find(o=>!o.privateKey||o.role!=="session"||o.expiry<BigInt(Math.floor(Date.now()/1e3))?!1:!!n.every(c=>o.permissions?.calls?.some(l=>{if(l.to&&l.to!==c.to)return!1;if(l.signature){if(!c.data)return!1;const u=ys(c.data,0,4);if(S4(l.signature))return l.signature===u;if(fB(l.signature)!==u)return!1}return!0}))),s=e.keys?.find(o=>o.role==="admin"&&o.privateKey);return i??s}function xpt(t={}){let e=t.id??0;return{prepare(n){return Apt({id:e++,...n})},get id(){return e}}}function Apt(t){return{...t,jsonrpc:"2.0"}}const kpt=Object.freeze(Object.defineProperty({__proto__:null,get account_getOnrampContactInfo(){return bR},get account_onrampStatus(){return vR},get account_resendVerifyPhone(){return ER},get account_setEmail(){return CR},get account_setPhone(){return _R},get account_verifyEmail(){return x6},get account_verifyPhone(){return IR},get eth_accounts(){return k6},get eth_chainId(){return $6},get eth_requestAccounts(){return T6},get eth_sendTransaction(){return N6},get eth_signTypedData_v4(){return O6},get personal_sign(){return j6},get porto_ping(){return B6},get wallet_addFunds(){return A6},get wallet_connect(){return s_},get wallet_disconnect(){return z6},get wallet_getAccountVersion(){return P6},get wallet_getAdmins(){return Wg},get wallet_getAssets(){return vv},get wallet_getCallsStatus(){return W6},get wallet_getCapabilities(){return q6},get wallet_getKeys(){return D0},get wallet_getPermissions(){return R6},get wallet_grantAdmin(){return r_},get wallet_grantPermissions(){return i_},get wallet_prepareCalls(){return pl},get wallet_prepareUpgradeAccount(){return F6},get wallet_revokeAdmin(){return D6},get wallet_revokePermissions(){return U6},get wallet_sendCalls(){return H6},get wallet_sendPreparedCalls(){return V6},get wallet_switchEthereumChain(){return M6},get wallet_upgradeAccount(){return L6},get wallet_verifySignature(){return K6}},Symbol.toStringTag,{value:"Module"})),II=IB;function SI(t){const{expiry:e,feeToken:n,permissions:r,publicKey:i,type:s}=t;return{expiry:e,feeToken:n??null,key:{publicKey:i,type:s},permissions:r??{}}}async function Xf(t,e={}){if(!t)return;const n=e.chainId??t.chainId,r=t.expiry??0,i=t.feeToken,s=Kfe(t,{feeTokens:e.feeTokens}),o={chainId:n,expiry:r,feeToken:i,permissions:s,role:"session"};if(t?.key)return hl({...o,publicKey:t.key.publicKey,type:t.key.type??"secp256k1"});if(typeof globalThis.crypto?.subtle?.generateKey=="function")try{return await Lht(o)}catch(c){if(!$pt(c))throw c}return Mht(o)}function $pt(t){if(!(t instanceof Error))return!1;const e=t.message?.toLowerCase()??"";return t.name==="TypeError"||t.name==="ReferenceError"||e.includes("subtle")||e.includes("generatekey")}const Tpt=/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}(:[0-9]{1,5})?$/,Npt=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:[0-9]{1,5})?$/,Opt=/^localhost(:[0-9]{1,5})?$/,Ppt=/^[a-zA-Z0-9]{8,}$/,Rpt=/^([a-zA-Z][a-zA-Z0-9+-.]*)$/,Dpt=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Upt=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Mpt(t){const{chainId:e,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:a,resources:c,scheme:l,uri:u,version:d}=t;{if(e!==Math.floor(e))throw new wf({field:"chainId",metaMessages:["- Chain ID must be a EIP-155 chain ID.","- See https://eips.ethereum.org/EIPS/eip-155","",`Provided value: ${e}`]});if(!(Tpt.test(n)||Npt.test(n)||Opt.test(n)))throw new wf({field:"domain",metaMessages:["- Domain must be an RFC 3986 authority.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${n}`]});if(!Ppt.test(s))throw new wf({field:"nonce",metaMessages:["- Nonce must be at least 8 characters.","- Nonce must be alphanumeric.","",`Provided value: ${s}`]});if(!GZ(u))throw new wf({field:"uri",metaMessages:["- URI must be a RFC 3986 URI referring to the resource that is the subject of the signing.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${u}`]});if(d!=="1")throw new wf({field:"version",metaMessages:["- Version must be '1'.","",`Provided value: ${d}`]});if(l&&!Rpt.test(l))throw new wf({field:"scheme",metaMessages:["- Scheme must be an RFC 3986 URI scheme.","- See https://www.rfc-editor.org/rfc/rfc3986#section-3.1","",`Provided value: ${l}`]});const b=t.statement;if(b?.includes(`
`))throw new wf({field:"statement",metaMessages:["- Statement must not include '\\n'.","",`Provided value: ${b}`]})}const h=jce(t.address,{checksum:!0}),p=l?`${l}://${n}`:n,f=t.statement?`${t.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${h}

${f}`;let m=`URI: ${u}
Version: ${d}
Chain ID: ${e}
Nonce: ${s}
Issued At: ${i.toISOString()}`;if(r&&(m+=`
Expiration Time: ${r.toISOString()}`),o&&(m+=`
Not Before: ${o.toISOString()}`),a&&(m+=`
Request ID: ${a}`),c){let b=`
Resources:`;for(const y of c){if(!GZ(y))throw new wf({field:"resources",metaMessages:["- Every resource must be a RFC 3986 URI.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${y}`]});b+=`
- ${y}`}m+=b}return`${g}
${m}`}function GZ(t){if(/[^a-z0-9:/?#[\]@!$&'()*+,;=.\-_~%]/i.test(t)||/%[^0-9a-f]/i.test(t)||/%[0-9a-f](:?[^0-9a-f]|$)/i.test(t))return!1;const e=Lpt(t),n=e[1],r=e[2],i=e[3],s=e[4],o=e[5];if(!(n?.length&&i&&i.length>=0))return!1;if(r?.length){if(!(i.length===0||/^\//.test(i)))return!1}else if(/^\/\//.test(i))return!1;if(!/^[a-z][a-z0-9+\-.]*$/.test(n.toLowerCase()))return!1;let a="";return a+=`${n}:`,r?.length&&(a+=`//${r}`),a+=i,s?.length&&(a+=`?${s}`),o?.length&&(a+=`#${o}`),a}function Lpt(t){return t.match(/(?:([^:/?#]+):)?(?:\/\/([^/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)}function jpt(t){const{scheme:e,statement:n,...r}=t.match(Dpt)?.groups??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=t.match(Upt)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}class wf extends xt{constructor(e){const{field:n,metaMessages:r}=e;super(`Invalid Sign-In with Ethereum message field "${n}".`,{metaMessages:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Siwe.InvalidMessageFieldError"})}}async function YZ(t){const{address:e,authUrl:n,message:r,signature:i,publicKey:s}=t,{chainId:o}=jpt(r);return await fetch(n.verify,{body:JSON.stringify({address:e,chainId:o,message:r,signature:i,walletAddress:e,...s&&{publicKey:s}}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"}).then(a=>a.json())}async function BN(t,e,n){const{chainId:r=t.chain?.id,domain:i,uri:s,resources:o,version:a="1"}=e,{address:c}=n,l=e.authUrl?tge(e.authUrl):void 0;if(!r)throw new Error("`chainId` is required.");if(!i)throw new Error("`domain` is required.");if(!e.nonce&&!l?.nonce)throw new Error("`nonce` or `authUrl.nonce` is required.");if(!s)throw new Error("`uri` is required.");const u=await(async()=>{if(e.nonce)return e.nonce;if(!l?.nonce)throw new Error("`nonce` or `authUrl.nonce` is required.");const p=await(await fetch(l.nonce,{body:JSON.stringify({address:c,chainId:r,walletAddress:c}),headers:{"Content-Type":"application/json"},method:"POST"})).json().catch(()=>{});if(!p?.nonce)throw new Error("`nonce` or `authUrl.nonce` is required.");return p.nonce})();return Mpt({...e,address:n.address,chainId:r,domain:i,nonce:u,resources:o,uri:s,version:a})}function tge(t,e=""){if(!t)return;const n=(()=>{if(typeof t=="string"){const r=t.replace(/\/$/,"");return{logout:r+"/logout",nonce:r+"/nonce",verify:r+"/verify"}}return t})();return{logout:zN(n.logout,e),nonce:zN(n.nonce,e),verify:zN(n.verify,e)}}function zN(t,e){return!e||!t.startsWith("/")?t:e+t}function Bpt(t){const e=$y(t);return Hs("0x19",dl(`Ethereum Signed Message:
`+Ii(e)),e)}function xI(t){return qs(Bpt(t))}function zpt(t,e){const{as:n}=e,r=nge(t),i=Fdt(new Uint8Array(r.length));return r.encode(i),n==="Hex"?_o(i.bytes):i.bytes}function Wpt(t,e={}){const{as:n="Hex"}=e;return zpt(t,{as:n})}function nge(t){return Array.isArray(t)?qpt(t.map(e=>nge(e))):Fpt(t)}function qpt(t){const e=t.reduce((i,s)=>i+s.length,0),n=rge(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Fpt(t){const e=typeof t=="string"?x0(t):t,n=rge(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function rge(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=16777215)return 3;if(t<=4294967295)return 4;throw new xt("Length is too large.")}function Hpt(t){return Vpt(t,{presign:!0})}function Vpt(t,e={}){const{presign:n}=e;return qs(Hs("0x05",Wpt(Kpt(n?{address:t.address,chainId:t.chainId,nonce:t.nonce}:t))))}function Kpt(t){const{address:e,chainId:n,nonce:r}=t,i=Lut(t);return[n?nn(n):"0x",e,r?nn(r):"0x",...i?zut(i):[]]}async function JZ(t,e){const{account:n=t.account}=e,r=n?xc(n):void 0;if(!r)throw new Error("account is required.");const{domain:{name:i,version:s}}=await Pye(t,{address:r.address});if(!t.chain)throw new Error("client.chain is required");return{chainId:t.chain.id,name:i,verifyingContract:r.address,version:s}}async function XZ(t,e){const{account:n=t.account,chainIds:r}=e,i=n?xc(n):void 0;if(!i)throw new Error("account is required.");const s=await lpt(t,{address:i.address,chainIds:r});return Object.entries(s).flatMap(([o,a])=>a.map(c=>Bht(c,{chainId:Number(o)})))}async function _E(t,e){const{account:n=t.account,calls:r,chain:i=t.chain,feePayer:s,merchantUrl:o,nonce:a,preCalls:c,requiredFunds:l,revokeKeys:u}=e,d=n?xc(n):void 0,h=e.key??(d?v8(d,{role:"admin"}):void 0),p=e.authorizeKeys?.some(D=>D.role==="session"),{contracts:f,fees:{tokens:g}}=await t_(t,{chainId:i?.id}),m=p?f.orchestrator.address:void 0,b=(e.authorizeKeys??[]).map(D=>h6(D,{feeTokens:g,orchestrator:m})),y=e.feeToken?e.feeToken:h?.permissions?.spend?.[0]?.token,v=typeof c=="boolean"?c:!1,w=typeof c=="object"?c.map(({context:D,signature:O})=>({...D.preCall,signature:O})):void 0,C={address:d?.address,calls:r??[],capabilities:{authorizeKeys:b,meta:{feePayer:s,feeToken:y,nonce:a},preCall:v,preCalls:w,requiredFunds:l,revokeKeys:u?.map(D=>({hash:D.hash}))},chain:i,key:h?h6(h,{feeTokens:g}):void 0},I=await(async()=>{if(o){const D=Wee({chain:t.chain,transport:mo(o)});return await UN(D,C).catch(O=>(console.error(O),UN(t,C)))}return await UN(t,C)})(),{capabilities:k,context:P,digest:S,signature:N,typedData:R}=I;if(o&&!await mpt(t,{response:I._raw,signature:N}))throw new Error(`cannot verify integrity of \`wallet_prepareCalls\` response from ${o}`);return{capabilities:{...k,quote:P.quote},context:P,digest:S,key:h,typedData:R}}async function ige(t,e){const{address:n,authorizeKeys:r,chain:i=t.chain}=e;if(!i)throw new Error("chain is required.");const{contracts:s,fees:{tokens:o}}=await t_(t,{chainId:i.id}),a=e.delegation??s.accountProxy.address,l=r.some(b=>b.role==="session")?s.orchestrator.address:void 0,u=r.map(b=>{const y=b.role==="session"?b.permissions:{};return h6({...b,permissions:y},{feeTokens:o,orchestrator:l})}),{capabilities:d,chainId:h,context:p,digests:f,typedData:g}=await dpt(t,{address:n,authorizeKeys:u,chain:i,delegation:a}),m=xc({address:n,keys:r});return{capabilities:d,chainId:h,context:{...p,account:m},digests:f,typedData:g}}async function AI(t,e){const{account:n=t.account,chain:r=t.chain,webAuthn:i}=e;if(!r)throw new Error("`chain` is required.");const s=n?xc(n):void 0;if(!s)throw new Error("`account` is required.");const o=e.key??v8(s,e);if(!o&&!s.sign)throw new Error("`key` or `account` with `sign` is required");const a=await Promise.all((e.preCalls??[]).map(async h=>{if(h.signature)return h;const{authorizeKeys:p,key:f,calls:g,revokeKeys:m}=h,{context:b,digest:y}=await _E(t,{account:s,authorizeKeys:p,calls:g,chain:r,feeToken:e.feeToken,key:f,preCalls:!0,revokeKeys:m}),v=await Dw(f,{address:null,payload:y,webAuthn:i});return{context:b,signature:v}})),{capabilities:c,context:l,digest:u}=await _E(t,{...e,account:s,chain:r,key:o,preCalls:a}),d=await(async()=>o?await Dw(o,{address:null,payload:u,webAuthn:i,wrap:!1}):await s.sign({hash:u}))();return await wS(t,{capabilities:c.feeSignature?{feeSignature:c.feeSignature}:void 0,context:l,key:o,signature:d})}async function wS(t,e){const{capabilities:n,context:r,key:i,signature:s}=e;return await hpt(t,{capabilities:n,context:r,key:i?h6(i):void 0,signature:s})}async function QZ(t,e){const{email:n,walletAddress:r}=e;return await ppt(t,{email:n,walletAddress:r})}async function xR(t,e){if(e.account){const{account:s}=e,o=[...s.keys??[],...e.authorizeKeys??[]].filter((u,d,h)=>h.findIndex(p=>p.id===u.id)===d),{digests:a,...c}=await ige(t,{...e,address:s.address,authorizeKeys:o}),l={auth:await s.sign({hash:a.auth}),exec:await s.sign({hash:a.exec})};return await xR(t,{...c,signatures:l})}const{context:n,signatures:r}=e,i=xc(n.account);return await fpt(t,{context:n,signatures:r}),i}async function Zpt(t,e){const{chainId:n,email:r,signature:i,token:s,walletAddress:o}=e;return await gpt(t,{chainId:n,email:r,signature:i,token:s,walletAddress:o})}const sge="0x8010801080108010801080108010801080108010801080108010801080108010",Gpt=Ife("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Ypt(t){if(typeof t=="string"){if(ys(t,-32)!==sge)throw new Xpt(t)}else aB(t.authorization)}function Jpt(t){const{data:e,signature:n}=t;Ypt(t);const r=cfe({payload:Hpt(t.authorization),signature:dfe(t.authorization)}),i=y2(Gpt,[{...t.authorization,delegation:t.authorization.address,chainId:BigInt(t.authorization.chainId)},t.to??r,e??"0x"]),s=nn(Ii(i),{size:32});return Hs(n,i,s,sge)}class Xpt extends xt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}async function p3(t,e){const{address:n}=e,{authorization:r,data:i,to:s}=await opt(t,{address:n});return Jpt({authorization:{...r,nonce:BigInt(r.nonce),r:BigInt(r.r),s:BigInt(r.s)},data:i,signature:e.signature,to:s})}function eG(t,e){const{tokens:n}=e,r=n.filter(i=>i.interop);return t.map(i=>{if(i.address)return i;const s=r.find(o=>o.symbol===i.symbol);if(!s)throw new Error(`interop token not found: ${i.symbol}`);return{address:s.address,value:zfe(i.value,s.decimals)}})}async function Mf(t,e){const{chain:n=t.chain}=e??{};return await t_(t,{chainId:n?.id}).then(i=>i.fees.tokens)}async function AR(t,e){const{addressOrSymbol:n}=e;return(await Mf(t,e)).find(AR.predicate(n))}(function(t){function e(n){return r=>n?k0(n)?ei(r.address,n):n==="native"?r.address===WE:n===r.symbol:!1}t.predicate=e})(AR||(AR={}));async function ib(t,e){const{chain:n=t.chain,store:r}=e??{},i=r?.getState()??{},s=e?.addressOrSymbol??i.feeToken;return(await Mf(t,{chain:n}).then(c=>c.filter(l=>l.feeToken)))?.find(c=>s?s==="native"&&c.address===WE||k0(s)&&ei(c.address,s)?!0:s===c.symbol:!1)}function oge(t={}){const e=t,{mock:n,multichain:r=!0,webAuthn:i}=e;let s,o;const a=(()=>{if(e.keystoreHost!=="self"&&!(typeof window<"u"&&window.location?.hostname==="localhost"))return e.keystoreHost})();return ege({actions:{async addFunds(){throw new YC},async createAccount(c){const{admins:l,email:u,label:d,permissions:h,internal:p,signInWithEthereum:f}=c,{client:g}=p,m=Fht(Rut()),b=await Mf(g),y=n?PZ():await OZ({createFn:i?.createFn,label:d||`${m.address.slice(0,8)}â€¦${m.address.slice(-6)}`,rpId:a,userId:S0(m.address)}),v=await Xf(h,{chainId:g.chain.id,feeTokens:b}),w=l?.map(k=>hl(k)),C=await xR(g,{account:m,authorizeKeys:[y,...w??[],...v?[v]:[]]});s=m.address,u&&d&&await QZ(g,{email:d,walletAddress:C.address});const I=await(async()=>{if(!f)return;const k=await BN(g,f,{address:C.address}),P=await u3(m,{payload:xI(dl(k))}),S=await p3(g,{address:C.address,signature:P});return{message:k,signature:S}})();return{account:{...C,signInWithEthereum:I}}},async getAccountVersion(c){const{address:l,internal:u}=c,{client:d}=u,{contracts:h}=await t_(d),{accountImplementation:p}=h,f=await JZ(d,{account:xc(p)}).then(m=>m.version),g=await JZ(d,{account:l}).then(m=>m.version).catch(()=>f);if(!g||!f)throw new Error("version not found.");return{current:g,latest:f}},async getAssets(c){const{account:l,chainFilter:u,assetFilter:d,assetTypeFilter:h,internal:p}=c,{client:f}=p;return await apt(f,{account:l,assetFilter:d,assetTypeFilter:h,chainFilter:u})},async getCallsStatus(c){const{id:l,internal:u}=c,{client:d}=u,h=await cpt(d,{id:l});return{atomic:!0,chainId:nn(d.chain.id),id:l,receipts:h.receipts?.map(p=>({blockHash:p.blockHash,blockNumber:nn(p.blockNumber),gasUsed:nn(p.gasUsed),logs:p.logs,status:p.status,transactionHash:p.transactionHash})),status:h.status,version:"1.0"}},async getCapabilities(c){const{chainIds:l,internal:u}=c,{client:d}=u,h={atomic:{status:"supported"},atomicBatch:{supported:!0},feeToken:{supported:!0,tokens:[]},merchant:{supported:!0},permissions:{supported:!0},requiredFunds:{supported:!!r,tokens:[]}},p=await t_(d,{chainIds:l?l.map(f=>x1(f)):"all",raw:!0});return Object.entries(p).reduce((f,[g,m])=>({...f,[g]:{...h,...m,feeToken:{supported:!0,tokens:m.fees.tokens},requiredFunds:{supported:!!r,tokens:r?m.fees.tokens.filter(b=>b.interop):[]}}}),{})},async getKeys(c){const{account:l,chainIds:u,internal:d}=c,{client:h}=d,p=await XZ(h,{account:l,chainIds:u});return bce([...p,...l.keys??[]],f=>f.publicKey)},async grantAdmin(c){const{account:l,internal:u}=c,{client:d}=u,h=hl(c.key,{chainId:d.chain.id}),p=await ib(d,{addressOrSymbol:c.feeToken,store:u.store}),{id:f}=await AI(d,{account:l,authorizeKeys:[h],feeToken:p?.address,webAuthn:i});return await Qh(d,{id:f,pollingInterval:500}),{key:h}},async grantPermissions(c){const{account:l,internal:u,permissions:d}=c,{client:h}=u,p=await Mf(h),f=await Xf(d,{chainId:h.chain.id,feeTokens:p});if(!f)throw new Error("key to authorize not found.");const g=l.keys?.find(v=>v.role==="admin"&&v.privateKey);if(!g)throw new Error("admin key not found.");const{context:m,digest:b}=await _E(h,{account:l,authorizeKeys:[f],key:g,preCalls:!0}),y=await Dw(g,{address:null,payload:b});return await wS(h,{context:m,key:g,signature:y}),{key:f}},async loadAccounts(c){const{internal:l,permissions:u,signInWithEthereum:d}=c,{client:h}=l,p=await Mf(h),f=await Xf(u,{chainId:h.chain.id,feeTokens:p}),{digest:g,digestType:m,message:b}=await(async()=>{if(d&&c.address){const N=await BN(h,d,{address:c.address});return{context:void 0,digest:xI(dl(N)),digestType:"siwe",message:N}}return{context:void 0,digest:"0x",message:void 0}})(),{address:y,credentialId:v,webAuthnSignature:w}=await(async()=>{if(n){if(!s)throw new Error("address_internal not found.");return{address:s,credentialId:void 0}}if(c.address&&c.key)return{address:c.address,credentialId:c.key.credentialId};const N=await Wfe({challenge:g,getFn:i?.getFn,rpId:a}),R=N.raw.response,D=rL(new Uint8Array(R.userHandle)),O=N.raw.id;return{address:D,credentialId:O,webAuthnSignature:N}})(),C=await XZ(h,{account:y,chainIds:[h.chain.id]}),I=xc({address:y,keys:[...C,...f?[f]:[]].map((N,R)=>R===0&&N.type==="webauthn-p256"?Ffe({...N,credential:{id:v,publicKey:Wk(N.publicKey)},id:y,rpId:a}):N)}),k=v8(I,{role:"admin"}),P=await(async()=>{if(g!=="0x")return w?Zfe(iR(w),{keyType:"webauthn-p256",publicKey:k.publicKey}):await Dw(k,{address:I.address,payload:g})})();if(f){const{context:N,digest:R}=await _E(h,{account:I,authorizeKeys:[f],preCalls:!0}),D=await Dw(k,{address:null,payload:R});await wS(h,{context:N,key:k,signature:D})}const S=await(async()=>{if(d){if(m==="siwe"&&b&&P){const N=await p3(h,{address:I.address,signature:P});return{message:b,signature:N}}{const N=await BN(h,d,{address:I.address}),R=await u3(I,{payload:xI(dl(N)),role:"admin"}),D=await p3(h,{address:I.address,signature:R});return{message:N,signature:D}}}})();return{accounts:[{...I,signInWithEthereum:S}]}},async prepareCalls(c){const{account:l,calls:u,internal:d,merchantUrl:h}=c,{client:p}=d,f=c.key??await SR({account:l,calls:u});if(!f)throw new Error("cannot find authorized key to sign with.");const[g,m]=await Promise.all([Mf(p),ib(p,{addressOrSymbol:c.feeToken,store:d.store})]),b=eG(c.requiredFunds??[],{tokens:g}),{capabilities:y,context:v,digest:w,typedData:C}=await _E(p,{account:l,calls:u,feeToken:m?.address,key:f,merchantUrl:h,requiredFunds:r?b:void 0}),I=v.quote?.quotes??[],k=I[I.length-1];return{account:l,capabilities:{...y,quote:v.quote},chainId:p.chain.id,context:{...v,account:l,calls:u,nonce:k?.intent.nonce},digest:w,key:f,typedData:C}},async prepareUpgradeAccount(c){const{address:l,email:u,label:d,internal:h,permissions:p}=c,{client:f}=h,[g,m]=await Promise.all([Mf(f),ib(f,{store:h.store})]),b=n?PZ():await OZ({createFn:i?.createFn,label:d||`${l.slice(0,8)}â€¦${l.slice(-6)}`,rpId:a,userId:S0(l)}),y=await Xf(p,{chainId:f.chain.id,feeTokens:g}),{context:v,digests:w}=await ige(f,{address:l,authorizeKeys:[b,...y?[y]:[]],feeToken:m?.address});return u&&(o=d),{context:v,digests:w}},async revokeAdmin(c){const{account:l,id:u,internal:d}=c,{client:h}=d,p=l.keys?.find(f=>f.id===u);if(p){if(p.type==="webauthn-p256"&&l.keys?.filter(f=>f.type==="webauthn-p256").length===1)throw new Error("revoke the only WebAuthn key left.");try{const f=await ib(h,{addressOrSymbol:c.feeToken,store:d.store}),{id:g}=await AI(h,{account:l,feeToken:f?.address,revokeKeys:[p],webAuthn:i});await Qh(h,{id:g})}catch(f){const g=f;if(g.name==="Rpc.ExecutionError"&&g.abiError?.name==="KeyDoesNotExist")return;throw f}}},async revokePermissions(c){const{account:l,id:u,internal:d}=c,{client:h}=d,p=l.keys?.find(f=>f.id===u);if(p){if(p.role==="admin")throw new Error("cannot revoke admins.");try{const f=await ib(h,{addressOrSymbol:c.feeToken,store:d.store}),{id:g}=await AI(h,{account:l,feeToken:f?.address,revokeKeys:[p],webAuthn:i});await Qh(h,{id:g})}catch(f){const g=f;if(g.name==="Rpc.ExecutionError"&&g.abiError?.name==="KeyDoesNotExist")return;throw f}}},async sendCalls(c){const{account:l,asTxHash:u,calls:d,chainId:h,internal:p,merchantUrl:f}=c,{client:g}=p,m=await SR({account:l,calls:d,permissionsId:c.permissionsId}),[b,y]=await Promise.all([Mf(g),ib(g,{addressOrSymbol:c.feeToken,store:p.store})]),v=eG(c.requiredFunds??[],{tokens:b}),w=await AI(g,{account:l,calls:d,feeToken:y?.address,key:m,merchantUrl:f,requiredFunds:r?v:void 0,webAuthn:i,...h?{chain:{id:h}}:{}});if(u){const{id:C,receipts:I,status:k}=await Qh(g,{id:w.id,pollingInterval:500});if(!I?.[0])throw k==="success"?new JC({message:"Call bundle with id: "+C+" not found."}):new E0({message:"Transaction failed under call bundle id: "+C+"."});return{id:I[0].transactionHash}}return w},async sendPreparedCalls(c){const{context:l,key:u,internal:d,signature:h}=c,{client:p}=d,{id:f}=await wS(p,{context:l,key:u,signature:h});return f},async signPersonalMessage(c){const{account:l,data:u,internal:d}=c,{client:h}=d,p=l.keys?.find(g=>g.role==="admin"&&g.privateKey);if(!p)throw new Error("cannot find admin key to sign with.");const f=await u3(l,{key:p,payload:xI(u),webAuthn:i});return p3(h,{address:l.address,signature:f})},async signTypedData(c){const{account:l,internal:u}=c,{client:d}=u,h=l.keys?.find(m=>m.role==="admin"&&m.privateKey);if(!h)throw new Error("cannot find admin key to sign with.");const p=iot(c.data),f=p.domain?.name==="Orchestrator",g=await u3(l,{key:h,payload:pB(p),replaySafe:!f,webAuthn:i});return f?g:p3(d,{address:l.address,signature:g})},async upgradeAccount(c){const{account:l,context:u,internal:d,signatures:h}=c,{client:p}=d;return await xR(p,{context:u,signatures:h}),o&&await QZ(p,{email:o,walletAddress:l.address}),{account:l}},async verifyEmail(c){const{account:l,chainId:u,email:d,token:h,internal:p,walletAddress:f}=c,{client:g}=p,m=l.keys?.find(y=>y.role==="admin"&&y.privateKey);if(!m)throw new Error("cannot find admin key to sign with.");const b=await u3(l,{key:m,payload:qs(dl(`${d}${h}`)),webAuthn:i});return await Zpt(g,{chainId:u,email:d,signature:b,token:h,walletAddress:f})}},config:t,name:"rpc"})}function Qpt(t={}){const{fallback:e=oge(),host:n=Ece.prod,renderer:r=mot(),theme:i,themeController:s}=t,o=new Set,a=xpt();function c(l){return wce({async request(u){const d=a.prepare(u);return l.setState(h=>{const p=h.accounts[0],f=p?.keys?.find(g=>g.role==="admin"&&g.type==="webauthn-p256");return{...h,requestQueue:[...h.requestQueue,{account:p?{address:p.address,key:f?{credentialId:f?.credentialId,publicKey:f.publicKey}:void 0}:void 0,request:d,status:"pending"}]}}),new Promise((h,p)=>{const f=g=>{const m=g.find(b=>b.request.id===d.id);if(!m&&g.length===0){o.delete(f),p(new hv);return}m&&(m.status!=="success"&&m.status!=="error"||(o.delete(f),m.status==="success"?h(m.result):p(yce(m.error)),l.setState(b=>({...b,requestQueue:b.requestQueue.filter(y=>y.request.id!==d.id)}))))};o.add(f)})}},{})}return ege({actions:{async addFunds(l){const{internal:u}=l,{request:d,store:h}=u;if(d.method!=="wallet_addFunds")throw new Error("Cannot add funds for method: "+d.method);return await c(h).request(d)},async createAccount(l){const{internal:u}=l,{client:d,config:h,request:p,store:f}=u,{storage:g}=h,m=c(f);return{account:await(async()=>{if(p.method==="wallet_connect"){const[{capabilities:y,chainIds:v}]=p._decoded.params??[{}],w=WN(y?.signInWithEthereum?.authUrl??h.authUrl,{storage:g}),C=p.params?.[0]?.capabilities?.signInWithEthereum,I=await Xf(y?.grantPermissions,{chainId:d.chain.id}),k=I?Er(II,SI(I)):void 0,{accounts:P}=await m.request({...p,params:[{capabilities:{...p.params?.[0]?.capabilities,grantPermissions:k,signInWithEthereum:w||C?{...C,authUrl:w}:void 0},chainIds:v?.map(O=>nn(O))}]}),[S]=P;if(!S)throw new Error("no account found.");const N=S.capabilities?.admins?.map(O=>hl(O,{chainId:d.chain.id})).filter(Boolean),R=S.capabilities?.permissions?.map(O=>{try{const T=HZ(Ui(fR,O));return T.id===I?.id?{...T,...I,permissions:T.permissions}:T}catch{return}}).filter(Boolean),D=await(async()=>{if(!S.capabilities?.signInWithEthereum)return;const{message:O,signature:T}=S.capabilities.signInWithEthereum;if(!w)return{message:O,signature:T};const{token:E}=await YZ({address:S.address,authUrl:w,message:O,publicKey:S.capabilities?.admins?.[0]?.publicKey,signature:T});return{message:O,signature:T,token:E}})();return{...xc({address:S.address,keys:[...N??[],...R??[]]}),signInWithEthereum:D}}throw new Error(`Account creation not supported on method: ${p.method}`)})()}},async disconnect(l){const{internal:u}=l,{config:d}=u,{storage:h}=d,p=await h.getItem("porto.authUrl")||void 0,f=WN(d.authUrl??p,{storage:h});f&&await fetch(f.logout,{credentials:"include",method:"POST"}).catch(()=>{})},async getAccountVersion(l){const{internal:u}=l,{store:d,request:h}=u;if(h.method!=="wallet_getAccountVersion")throw new Error("Cannot get version for method: "+h.method);return r.supportsHeadless?await c(d).request(h):e.actions.getAccountVersion(l)},async getAssets(l){const{internal:u}=l,{store:d,request:h}=u;if(h.method!=="wallet_getAssets")throw new Error("Cannot get assets for method: "+h.method);if(!r.supportsHeadless)return e.actions.getAssets(l);const f=await c(d).request(h);return Ui(vv.Response,f)},async getCallsStatus(l){const{internal:u}=l,{store:d,request:h}=u;if(h.method!=="wallet_getCallsStatus")throw new Error("Cannot get status for method: "+h.method);return r.supportsHeadless?await c(d).request(h):e.actions.getCallsStatus(l)},async getCapabilities(l){const{internal:u}=l,{store:d,request:h}=u;if(h.method!=="wallet_getCapabilities")throw new Error("Cannot get capabilities for method: "+h.method);return r.supportsHeadless?await c(d).request(h):e.actions.getCapabilities(l)},async getKeys(l){const{account:u,chainIds:d,internal:h}=l,{store:p}=h,f=await(async()=>{if(!r.supportsHeadless)return e.actions.getKeys(l);const m=await c(p).request({method:"wallet_getKeys",params:[Er(D0.Parameters,{address:u.address,chainIds:d})]});return Ui(D0.Response,m)})();return bce([...f,...u.keys??[]],g=>g.publicKey)},async grantAdmin(l){const{internal:u}=l,{request:d,store:h}=u;if(d.method!=="wallet_grantAdmin")throw new Error("Cannot authorize admin for method: "+d.method);const[p]=d._decoded.params,f=hl(p.key);if(!f)throw new Error("no key found.");const g=await kI(u,l);return await c(h).request({method:"wallet_grantAdmin",params:[{...d.params?.[0],capabilities:{...d.params?.[0]?.capabilities,feeToken:g}}]}),{key:f}},async grantPermissions(l){const{internal:u}=l,{client:d,request:h,store:p}=u;if(h.method!=="wallet_grantPermissions")throw new Error("Cannot grant permissions for method: "+h.method);const[{address:f,...g}]=h._decoded.params,m=await Xf(g,{chainId:d.chain.id});if(!m)throw new Error("no key found.");const b=Er(II,SI(m));return await c(p).request({method:"wallet_grantPermissions",params:[b]}),{key:m}},async loadAccounts(l){const{internal:u}=l,{client:d,config:h,store:p}=u,{storage:f}=h,g=c(p),m=u.request;if(m.method!=="wallet_connect"&&m.method!=="eth_requestAccounts")throw new Error("Cannot load accounts for method: "+m.method);return{accounts:await(async()=>{const[y]=m._decoded.params??[],{capabilities:v}=y??{},w=WN(v?.signInWithEthereum?.authUrl??h.authUrl,{storage:f}),C=m.params?.[0]?.capabilities?.signInWithEthereum,I=await Xf(v?.grantPermissions,{chainId:d.chain.id}),k=I?Er(II,SI(I)):void 0,{accounts:P}=await g.request({method:"wallet_connect",params:[{...m.params?.[0],capabilities:{...m.params?.[0]?.capabilities,grantPermissions:k,signInWithEthereum:w||C?{...C,authUrl:w}:void 0}}]});return Promise.all(P.map(async S=>{const N=S.capabilities?.admins?.map(O=>hl(O)).filter(Boolean),R=S.capabilities?.permissions?.map(O=>{try{const T=HZ(Ui(fR,O));return T.id===I?.id?{...T,...I,permissions:T.permissions}:T}catch{return}}).filter(Boolean),D=await(async()=>{if(!S.capabilities?.signInWithEthereum)return;const{message:O,signature:T}=S.capabilities.signInWithEthereum;if(!w)return{message:O,signature:T};const{token:E}=await YZ({address:S.address,authUrl:w,message:O,publicKey:S.capabilities?.admins?.[0]?.publicKey,signature:T});return{message:O,signature:T,token:E}})();return{...xc({address:S.address,keys:[...N??[],...R??[]]}),signInWithEthereum:D}}))})()}},async prepareCalls(l){const{account:u,internal:d}=l,{store:h,request:p}=d;if(p.method!=="wallet_prepareCalls")throw new Error("Cannot prepare calls for method: "+p.method);if(!r.supportsHeadless)return e.actions.prepareCalls(l);const f=await kI(d,l),g=c(h),m=Ui(pl.Response,await g.request({...p,params:[{...p.params?.[0],capabilities:{...p.params?.[0]?.capabilities,feeToken:f}}]}));return{account:u,chainId:Number(m.chainId),context:m.context,digest:m.digest,key:m.key,typedData:m.typedData}},async prepareUpgradeAccount(l){const{internal:u}=l,{client:d,store:h,request:p}=u;if(p.method!=="wallet_prepareUpgradeAccount")throw new Error("Cannot prepare upgrade for method: "+p.method);if(!r.supportsHeadless)return e.actions.prepareUpgradeAccount(l);const[{capabilities:f}]=p._decoded.params??[{}],g=await Xf(f?.grantPermissions,{chainId:d.chain.id}),m=g?Er(II,SI(g)):void 0,b=c(h),{context:y,digests:v}=await b.request({...p,params:[{...p.params?.[0],capabilities:{...p.params?.[0]?.capabilities,grantPermissions:m}}]}),w=y.account.keys?.map(C=>C.id===g?.id?{...C,...g}:C);return{context:{...y,account:{...y.account,keys:w}},digests:v}},async revokeAdmin(l){const{account:u,id:d,internal:h}=l,{store:p,request:f}=h;if(f.method!=="wallet_revokeAdmin")throw new Error("Cannot revoke admin for method: "+f.method);const g=u.keys?.find(y=>y.id===d);if(!g)return;if(g.type==="webauthn-p256"&&u.keys?.filter(y=>y.type==="webauthn-p256").length===1)throw new Error("revoke the only WebAuthn key left.");const m=await kI(h,l);return await c(p).request({...f,params:[{...f.params?.[0],capabilities:{...f.params?.[0]?.capabilities,feeToken:m}}]})},async revokePermissions(l){const{account:u,id:d,internal:h}=l,{store:p,request:f}=h;if(f.method!=="wallet_revokePermissions")throw new Error("Cannot revoke permissions for method: "+f.method);const g=u.keys?.find(b=>b.id===d);if(!g)return;if(g.role==="admin")throw new Error("cannot revoke permissions.");return await c(p).request(f)},async sendCalls(l){const{account:u,asTxHash:d,calls:h,chainId:p,internal:f,merchantUrl:g,requiredFunds:m}=l,{client:b,store:y,request:v}=f,w=c(y),C=await kI(f,l),I=await SR({account:u,calls:h,permissionsId:l.permissionsId});if(I&&I.role==="session"){if(!r.supportsHeadless)return e.actions.sendCalls(l);try{const k=await w.request(Er(pl.Request,{method:"wallet_prepareCalls",params:[{calls:h,capabilities:{...v._decoded.method==="wallet_sendCalls"?v._decoded.params?.[0]?.capabilities:void 0,feeToken:C,merchantUrl:g,requiredFunds:m},chainId:p,from:u.address,key:I}]})),P=k.capabilities?.quote?.quotes??[];if(P.some((O,T)=>T===P.length-1&&P.length>1?!1:u2(O.feeTokenDeficit)>0n))throw new Error("insufficient funds");const N=await Dw(I,{address:null,payload:k.digest,wrap:!1}),D=(await w.request({method:"wallet_sendPreparedCalls",params:[{...k,signature:N}]}))[0];if(!D)throw new Error("id not found");if(d){const{id:O,receipts:T,status:E}=await Qh(b,{id:D.id,pollingInterval:500});if(!T?.[0])throw E==="success"?new JC({message:"Call bundle with id: "+O+" not found."}):new E0({message:"Transaction failed under call bundle id: "+O+"."});return{id:T[0].transactionHash}}return D}catch{}}if(v.method==="eth_sendTransaction")return{id:await w.request({...v,params:[{...v.params?.[0],capabilities:{feeToken:C,merchantUrl:g},...p?{chainId:nn(p)}:{}}]})};if(v.method==="wallet_sendCalls")return await w.request({method:"wallet_sendCalls",params:[{...v.params?.[0],capabilities:{...v.params?.[0]?.capabilities,feeToken:C,merchantUrl:g},...p?{chainId:nn(p)}:{}}]});throw new Error("Cannot execute for method: "+v.method)},async sendPreparedCalls(l){const{internal:u}=l,{store:d,request:h}=u;if(h.method!=="wallet_sendPreparedCalls")throw new Error("Cannot send prepared calls for method: "+h.method);if(!r.supportsHeadless)return e.actions.sendPreparedCalls(l);const g=(await c(d).request(h))[0]?.id;if(!g)throw new Error("id not found");return g},async signPersonalMessage(l){const{internal:u}=l,{store:d,request:h}=u;if(h.method!=="personal_sign")throw new Error("Cannot sign personal message for method: "+h.method);return await c(d).request(h)},async signTypedData(l){const{internal:u}=l,{store:d,request:h}=u;if(h.method!=="eth_signTypedData_v4")throw new Error("Cannot sign typed data for method: "+h.method);return await c(d).request(h)},async switchChain(l){const{internal:u}=l,{store:d,request:h}=u;if(h.method!=="wallet_switchEthereumChain")throw new Error("Cannot switch chain for method: "+h.method);return r.supportsHeadless?await c(d).request(h):void 0},async upgradeAccount(l){const{account:u,internal:d}=l,{store:h,request:p}=d;if(p.method!=="wallet_upgradeAccount")throw new Error("Cannot upgrade account for method: "+p.method);return await c(h).request(p),{account:u}},async verifyEmail(l){const{internal:u}=l,{request:d,store:h}=u;if(d.method!=="account_verifyEmail")throw new Error("Cannot verify email for method: "+d.method);return await c(h).request(d)}},config:t,name:"dialog",setup(l){const{internal:u}=l,{store:d}=u,h=r.setup({host:n,internal:u,theme:i,themeController:s}),p=d.subscribe(f=>f.requestQueue,f=>{for(const m of o)m(f);const g=f.map(m=>m.status==="pending"?m:void 0).filter(Boolean);h.syncRequests(g).catch(()=>{}),g.length===0&&h.close()});return()=>{p(),h.destroy()}}})}async function kI(t,e){const{config:{feeToken:n}}=t,{feeToken:r}=e??{};return r??n}function WN(t,{storage:e}){if(!t)return;const n=tge(t,typeof window<"u"?window.location.origin:void 0);return n&&e.setItem("porto.authUrl",n),n}function eft(){const t=typeof indexedDB<"u"?j_("porto","store"):void 0;return{async getItem(e){const n=await aC(e,t);return n===null?null:n},async removeItem(e){await YA(e,t)},async setItem(e,n){await GA(e,pv(n),t)},sizeLimit:1024*1024*50}}function tft(){const t=new Map;return{getItem(e){return t.get(e)??null},removeItem(e){t.delete(e)},setItem(e,n){t.set(e,n)},sizeLimit:Number.POSITIVE_INFINITY}}const tG=typeof window<"u"&&typeof document<"u",Vm={announceProvider:!0,chains:rot,mode:tG?Qpt({host:Ece.prod}):oge(),relay:mo(bpt.prod.http),storage:tG&&typeof indexedDB<"u"?eft():tft(),storageKey:"porto.store"};function nft(t={}){const e=t.chains??Vm.chains,n=Object.fromEntries(e.map(l=>[l.id,t.transports?.[l.id]??mo()])),r={announceProvider:t.announceProvider??Vm.announceProvider,authUrl:t.authUrl,chains:e,feeToken:t.feeToken,merchantUrl:t.merchantUrl,mode:t.mode??Vm.mode,relay:t.relay??Vm.relay,storage:t.storage??Vm.storage,storageKey:t.storageKey??Vm.storageKey,transports:n},i=ky(het(fet(TM(l=>({accounts:[],chainIds:r.chains.map(u=>u.id),feeToken:r.feeToken,requestQueue:[]}),{merge(l,u){const d=l,h=r.chains.find(f=>f.id===d.chainIds[0])?.id??r.chains[0].id,p=[h,...r.chains.map(f=>f.id).filter(f=>f!==h)];return{...u,...d,chainIds:p}},name:r.storageKey,partialize:l=>({accounts:l.accounts.map(u=>pv(u)),chainIds:l.chainIds}),storage:r.storage,version:5}))));let s=r.mode;const o={config:r,getMode(){return s},id:QM(),setMode(l){return c?.(),s=l,c=l.setup({internal:o}),c},store:i},a=Qfe(o);let c=s!==null?s.setup({internal:o}):()=>{};return{_internal:o,config:r,destroy(){c(),a._internal.destroy()},provider:a}}const rft=Object.freeze(Object.defineProperty({__proto__:null,create:nft,defaultConfig:Vm},Symbol.toStringTag,{value:"Module"})),nG=Object.freeze(Object.defineProperty({__proto__:null,Porto:rft,RpcSchema:kpt,from:Qfe},Symbol.toStringTag,{value:"Module"})),ift=Object.freeze(Object.defineProperty({__proto__:null,z:uut},Symbol.toStringTag,{value:"Module"})),age=()=>"9.1.0",sft=t=>t.toString(16).padStart(2,"0"),oft=t=>{const e=new Uint8Array(t/2);return window.crypto.getRandomValues(e),Array.from(e,sft).join("")},aft=()=>typeof window<"u"?oft(10):new Date().getTime().toString(36);class j4{}j4.makeRequest=(t,e)=>({id:aft(),method:t,params:e,env:{sdkVersion:age()}});j4.makeResponse=(t,e,n)=>({id:t,success:!0,version:n,data:e});j4.makeErrorResponse=(t,e,n)=>({id:t,success:!1,error:e,version:n});var fs;(function(t){t.sendTransactions="sendTransactions",t.rpcCall="rpcCall",t.getChainInfo="getChainInfo",t.getSafeInfo="getSafeInfo",t.getTxBySafeTxHash="getTxBySafeTxHash",t.getSafeBalances="getSafeBalances",t.signMessage="signMessage",t.signTypedMessage="signTypedMessage",t.getEnvironmentInfo="getEnvironmentInfo",t.getOffChainSignature="getOffChainSignature",t.requestAddressBook="requestAddressBook",t.wallet_getPermissions="wallet_getPermissions",t.wallet_requestPermissions="wallet_requestPermissions"})(fs||(fs={}));var Z6;(function(t){t.requestAddressBook="requestAddressBook"})(Z6||(Z6={}));class cft{constructor(e=null,n=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:r,data:i,source:s})=>{const o=!i,a=!this.isServer&&s===window.parent,c=typeof i.version<"u"&&parseInt(i.version.split(".")[0]),l=typeof c=="number"&&c>=1;let u=!0;return Array.isArray(this.allowedOrigins)&&(u=this.allowedOrigins.find(d=>d.test(r))!==void 0),!o&&a&&l&&u},this.logIncomingMessage=r=>{console.info(`Safe Apps SDK v1: A message was received from origin ${r.origin}. `,r.data)},this.onParentMessage=r=>{this.isValidMessage(r)&&(this.debugMode&&this.logIncomingMessage(r),this.handleIncomingMessage(r.data))},this.handleIncomingMessage=r=>{const{id:i}=r,s=this.callbacks.get(i);s&&(s(r),this.callbacks.delete(i))},this.send=(r,i)=>{const s=j4.makeRequest(r,i);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(s,"*"),new Promise((o,a)=>{this.callbacks.set(s.id,c=>{if(!c.success){a(new Error(c.error));return}o(c)})})},this.allowedOrigins=e,this.debugMode=n,this.isServer||window.addEventListener("message",this.onParentMessage)}}const SB=t=>typeof t=="object"&&t!=null&&"domain"in t&&"types"in t&&"message"in t;var xm={},Am={},fh={},rG;function lft(){if(rG)return fh;rG=1;var t=fh&&fh.__awaiter||function(c,l,u,d){function h(p){return p instanceof u?p:new u(function(f){f(p)})}return new(u||(u=Promise))(function(p,f){function g(y){try{b(d.next(y))}catch(v){f(v)}}function m(y){try{b(d.throw(y))}catch(v){f(v)}}function b(y){y.done?p(y.value):h(y.value).then(g,m)}b((d=d.apply(c,l||[])).next())})};Object.defineProperty(fh,"__esModule",{value:!0}),fh.insertParams=r,fh.stringifyQuery=i,fh.fetchData=o,fh.getData=a;const e=c=>typeof c=="object"&&c!==null&&("code"in c||"statusCode"in c)&&"message"in c;function n(c,l,u){return c.replace(new RegExp(`\\{${l}\\}`,"g"),u)}function r(c,l){return l?Object.keys(l).reduce((u,d)=>n(u,d,String(l[d])),c):c}function i(c){if(!c)return"";const l=new URLSearchParams;Object.keys(c).forEach(d=>{c[d]!=null&&l.append(d,String(c[d]))});const u=l.toString();return u?`?${u}`:""}function s(c){return t(this,void 0,void 0,function*(){var l;let u;try{u=yield c.json()}catch{u={}}if(!c.ok){const d=e(u)?`CGW error - ${(l=u.code)!==null&&l!==void 0?l:u.statusCode}: ${u.message}`:`CGW error - status ${c.statusText}`;throw new Error(d)}return u})}function o(c,l,u,d,h){return t(this,void 0,void 0,function*(){const p=Object.assign({"Content-Type":"application/json"},d),f={method:l??"POST",headers:p};h&&(f.credentials=h),u!=null&&(f.body=typeof u=="string"?u:JSON.stringify(u));const g=yield fetch(c,f);return s(g)})}function a(c,l,u){return t(this,void 0,void 0,function*(){const d={method:"GET"};l&&(d.headers=Object.assign(Object.assign({},l),{"Content-Type":"application/json"})),u&&(d.credentials=u);const h=yield fetch(c,d);return s(h)})}return fh}var iG;function uft(){if(iG)return Am;iG=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.postEndpoint=n,Am.putEndpoint=r,Am.deleteEndpoint=i,Am.getEndpoint=s;const t=lft();function e(o,a,c,l){const u=(0,t.insertParams)(a,c),d=(0,t.stringifyQuery)(l);return`${o}${u}${d}`}function n(o,a,c){const l=e(o,a,c?.path,c?.query);return(0,t.fetchData)(l,"POST",c?.body,c?.headers,c?.credentials)}function r(o,a,c){const l=e(o,a,c?.path,c?.query);return(0,t.fetchData)(l,"PUT",c?.body,c?.headers,c?.credentials)}function i(o,a,c){const l=e(o,a,c?.path,c?.query);return(0,t.fetchData)(l,"DELETE",c?.body,c?.headers,c?.credentials)}function s(o,a,c,l){if(l)return(0,t.getData)(l,void 0,c?.credentials);const u=e(o,a,c?.path,c?.query);return(0,t.getData)(u,c?.headers,c?.credentials)}return Am}var f3={},sG;function dft(){return sG||(sG=1,Object.defineProperty(f3,"__esModule",{value:!0}),f3.DEFAULT_BASE_URL=void 0,f3.DEFAULT_BASE_URL="https://safe-client.safe.global"),f3}var g3={},oG;function hft(){if(oG)return g3;oG=1,Object.defineProperty(g3,"__esModule",{value:!0}),g3.ImplementationVersionState=void 0;var t;return(function(e){e.UP_TO_DATE="UP_TO_DATE",e.OUTDATED="OUTDATED",e.UNKNOWN="UNKNOWN"})(t||(g3.ImplementationVersionState=t={})),g3}var gh={},aG;function pft(){if(aG)return gh;aG=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.SafeAppSocialPlatforms=gh.SafeAppFeatures=gh.SafeAppAccessPolicyTypes=void 0;var t;(function(r){r.NoRestrictions="NO_RESTRICTIONS",r.DomainAllowlist="DOMAIN_ALLOWLIST"})(t||(gh.SafeAppAccessPolicyTypes=t={}));var e;(function(r){r.BATCHED_TRANSACTIONS="BATCHED_TRANSACTIONS"})(e||(gh.SafeAppFeatures=e={}));var n;return(function(r){r.TWITTER="TWITTER",r.GITHUB="GITHUB",r.DISCORD="DISCORD",r.TELEGRAM="TELEGRAM"})(n||(gh.SafeAppSocialPlatforms=n={})),gh}var fr={},cG;function fft(){if(cG)return fr;cG=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.LabelValue=fr.StartTimeValue=fr.DurationType=fr.DetailedExecutionInfoType=fr.TransactionListItemType=fr.ConflictType=fr.TransactionInfoType=fr.SettingsInfoType=fr.TransactionTokenType=fr.TransferDirection=fr.TransactionStatus=fr.Operation=void 0;var t;(function(h){h[h.CALL=0]="CALL",h[h.DELEGATE=1]="DELEGATE"})(t||(fr.Operation=t={}));var e;(function(h){h.AWAITING_CONFIRMATIONS="AWAITING_CONFIRMATIONS",h.AWAITING_EXECUTION="AWAITING_EXECUTION",h.CANCELLED="CANCELLED",h.FAILED="FAILED",h.SUCCESS="SUCCESS"})(e||(fr.TransactionStatus=e={}));var n;(function(h){h.INCOMING="INCOMING",h.OUTGOING="OUTGOING",h.UNKNOWN="UNKNOWN"})(n||(fr.TransferDirection=n={}));var r;(function(h){h.ERC20="ERC20",h.ERC721="ERC721",h.NATIVE_COIN="NATIVE_COIN"})(r||(fr.TransactionTokenType=r={}));var i;(function(h){h.SET_FALLBACK_HANDLER="SET_FALLBACK_HANDLER",h.ADD_OWNER="ADD_OWNER",h.REMOVE_OWNER="REMOVE_OWNER",h.SWAP_OWNER="SWAP_OWNER",h.CHANGE_THRESHOLD="CHANGE_THRESHOLD",h.CHANGE_IMPLEMENTATION="CHANGE_IMPLEMENTATION",h.ENABLE_MODULE="ENABLE_MODULE",h.DISABLE_MODULE="DISABLE_MODULE",h.SET_GUARD="SET_GUARD",h.DELETE_GUARD="DELETE_GUARD"})(i||(fr.SettingsInfoType=i={}));var s;(function(h){h.TRANSFER="Transfer",h.SETTINGS_CHANGE="SettingsChange",h.CUSTOM="Custom",h.CREATION="Creation",h.SWAP_ORDER="SwapOrder",h.TWAP_ORDER="TwapOrder",h.SWAP_TRANSFER="SwapTransfer",h.NATIVE_STAKING_DEPOSIT="NativeStakingDeposit",h.NATIVE_STAKING_VALIDATORS_EXIT="NativeStakingValidatorsExit",h.NATIVE_STAKING_WITHDRAW="NativeStakingWithdraw"})(s||(fr.TransactionInfoType=s={}));var o;(function(h){h.NONE="None",h.HAS_NEXT="HasNext",h.END="End"})(o||(fr.ConflictType=o={}));var a;(function(h){h.TRANSACTION="TRANSACTION",h.LABEL="LABEL",h.CONFLICT_HEADER="CONFLICT_HEADER",h.DATE_LABEL="DATE_LABEL"})(a||(fr.TransactionListItemType=a={}));var c;(function(h){h.MULTISIG="MULTISIG",h.MODULE="MODULE"})(c||(fr.DetailedExecutionInfoType=c={}));var l;(function(h){h.AUTO="AUTO",h.LIMIT_DURATION="LIMIT_DURATION"})(l||(fr.DurationType=l={}));var u;(function(h){h.AT_MINING_TIME="AT_MINING_TIME",h.AT_EPOCH="AT_EPOCH"})(u||(fr.StartTimeValue=u={}));var d;return(function(h){h.Queued="Queued",h.Next="Next"})(d||(fr.LabelValue=d={})),fr}var mh={},lG;function gft(){if(lG)return mh;lG=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.FEATURES=mh.GAS_PRICE_TYPE=mh.RPC_AUTHENTICATION=void 0;var t;(function(r){r.API_KEY_PATH="API_KEY_PATH",r.NO_AUTHENTICATION="NO_AUTHENTICATION",r.UNKNOWN="UNKNOWN"})(t||(mh.RPC_AUTHENTICATION=t={}));var e;(function(r){r.ORACLE="ORACLE",r.FIXED="FIXED",r.FIXED_1559="FIXED1559",r.UNKNOWN="UNKNOWN"})(e||(mh.GAS_PRICE_TYPE=e={}));var n;return(function(r){r.ERC721="ERC721",r.SAFE_APPS="SAFE_APPS",r.CONTRACT_INTERACTION="CONTRACT_INTERACTION",r.DOMAIN_LOOKUP="DOMAIN_LOOKUP",r.SPENDING_LIMIT="SPENDING_LIMIT",r.EIP1559="EIP1559",r.SAFE_TX_GAS_OPTIONAL="SAFE_TX_GAS_OPTIONAL",r.TX_SIMULATION="TX_SIMULATION",r.EIP1271="EIP1271"})(n||(mh.FEATURES=n={})),mh}var m3={},uG;function mft(){if(uG)return m3;uG=1,Object.defineProperty(m3,"__esModule",{value:!0}),m3.TokenType=void 0;var t;return(function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_TOKEN="NATIVE_TOKEN",e.UNKNOWN="UNKNOWN"})(t||(m3.TokenType=t={})),m3}var qN={},dG;function wft(){return dG||(dG=1,Object.defineProperty(qN,"__esModule",{value:!0})),qN}var km={},hG;function yft(){if(hG)return km;hG=1,Object.defineProperty(km,"__esModule",{value:!0}),km.NativeStakingStatus=km.ConfirmationViewTypes=void 0;var t;(function(n){n.GENERIC="GENERIC",n.COW_SWAP_ORDER="COW_SWAP_ORDER",n.COW_SWAP_TWAP_ORDER="COW_SWAP_TWAP_ORDER",n.KILN_NATIVE_STAKING_DEPOSIT="KILN_NATIVE_STAKING_DEPOSIT",n.KILN_NATIVE_STAKING_VALIDATORS_EXIT="KILN_NATIVE_STAKING_VALIDATORS_EXIT",n.KILN_NATIVE_STAKING_WITHDRAW="KILN_NATIVE_STAKING_WITHDRAW"})(t||(km.ConfirmationViewTypes=t={}));var e;return(function(n){n.NOT_STAKED="NOT_STAKED",n.ACTIVATING="ACTIVATING",n.DEPOSIT_IN_PROGRESS="DEPOSIT_IN_PROGRESS",n.ACTIVE="ACTIVE",n.EXIT_REQUESTED="EXIT_REQUESTED",n.EXITING="EXITING",n.EXITED="EXITED",n.SLASHED="SLASHED"})(e||(km.NativeStakingStatus=e={})),km}var $m={},pG;function bft(){if(pG)return $m;pG=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.SafeMessageStatus=$m.SafeMessageListItemType=void 0;var t;(function(n){n.DATE_LABEL="DATE_LABEL",n.MESSAGE="MESSAGE"})(t||($m.SafeMessageListItemType=t={}));var e;return(function(n){n.NEEDS_CONFIRMATION="NEEDS_CONFIRMATION",n.CONFIRMED="CONFIRMED"})(e||($m.SafeMessageStatus=e={})),$m}var w3={},fG;function vft(){if(fG)return w3;fG=1,Object.defineProperty(w3,"__esModule",{value:!0}),w3.DeviceType=void 0;var t;return(function(e){e.ANDROID="ANDROID",e.IOS="IOS",e.WEB="WEB"})(t||(w3.DeviceType=t={})),w3}var FN={},gG;function Eft(){return gG||(gG=1,Object.defineProperty(FN,"__esModule",{value:!0})),FN}var mG;function cge(){return mG||(mG=1,(function(t){var e=xm&&xm.__createBinding||(Object.create?(function(Ee,je,ot,Ut){Ut===void 0&&(Ut=ot);var Qi=Object.getOwnPropertyDescriptor(je,ot);(!Qi||("get"in Qi?!je.__esModule:Qi.writable||Qi.configurable))&&(Qi={enumerable:!0,get:function(){return je[ot]}}),Object.defineProperty(Ee,Ut,Qi)}):(function(Ee,je,ot,Ut){Ut===void 0&&(Ut=ot),Ee[Ut]=je[ot]})),n=xm&&xm.__exportStar||function(Ee,je){for(var ot in Ee)ot!=="default"&&!Object.prototype.hasOwnProperty.call(je,ot)&&e(je,Ee,ot)};Object.defineProperty(t,"__esModule",{value:!0}),t.setBaseUrl=void 0,t.relayTransaction=a,t.getRelayCount=c,t.getSafeInfo=l,t.getIncomingTransfers=u,t.getModuleTransactions=d,t.getMultisigTransactions=h,t.getBalances=p,t.getFiatCurrencies=f,t.getOwnedSafes=g,t.getAllOwnedSafes=m,t.getCollectibles=b,t.getCollectiblesPage=y,t.getTransactionHistory=v,t.getTransactionQueue=w,t.getTransactionDetails=C,t.deleteTransaction=I,t.postSafeGasEstimation=k,t.getNonces=P,t.proposeTransaction=S,t.getConfirmationView=N,t.getTxPreview=R,t.getChainsConfig=D,t.getChainConfig=O,t.getSafeApps=T,t.getMasterCopies=E,t.getDecodedData=_,t.getSafeMessages=x,t.getSafeMessage=M,t.proposeSafeMessage=A,t.confirmSafeMessage=U,t.getDelegates=B,t.registerDevice=z,t.unregisterSafe=H,t.unregisterDevice=q,t.registerEmail=F,t.changeEmail=K,t.resendEmailVerificationCode=ee,t.verifyEmail=se,t.getRegisteredEmail=te,t.deleteRegisteredEmail=ue,t.registerRecoveryModule=ge,t.unsubscribeSingle=$e,t.unsubscribeAll=he,t.getSafeOverviews=me,t.getContract=Me,t.getAuthNonce=Ct,t.verifyAuth=_t,t.createAccount=Tt,t.getAccount=Cn,t.deleteAccount=xi,t.getAccountDataTypes=Ao,t.getAccountDataSettings=to,t.putAccountDataSettings=Bi,t.getIndexingStatus=Rl;const r=uft(),i=dft();n(hft(),t),n(pft(),t),n(fft(),t),n(gft(),t),n(mft(),t),n(wft(),t),n(yft(),t),n(bft(),t),n(vft(),t),n(Eft(),t);let s=i.DEFAULT_BASE_URL;const o=Ee=>{s=Ee};t.setBaseUrl=o;function a(Ee,je){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/relay",{path:{chainId:Ee},body:je})}function c(Ee,je){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/relay/{address}",{path:{chainId:Ee,address:je}})}function l(Ee,je){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}",{path:{chainId:Ee,address:je}})}function u(Ee,je,ot,Ut){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/incoming-transfers/",{path:{chainId:Ee,address:je},query:ot},Ut)}function d(Ee,je,ot,Ut){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/module-transactions/",{path:{chainId:Ee,address:je},query:ot},Ut)}function h(Ee,je,ot,Ut){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/multisig-transactions/",{path:{chainId:Ee,address:je},query:ot},Ut)}function p(Ee,je,ot="usd",Ut={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/balances/{currency}",{path:{chainId:Ee,address:je,currency:ot},query:Ut})}function f(){return(0,r.getEndpoint)(s,"/v1/balances/supported-fiat-codes")}function g(Ee,je){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/owners/{address}/safes",{path:{chainId:Ee,address:je}})}function m(Ee){return(0,r.getEndpoint)(s,"/v1/owners/{address}/safes",{path:{address:Ee}})}function b(Ee,je,ot={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:Ee,address:je},query:ot})}function y(Ee,je,ot={},Ut){return(0,r.getEndpoint)(s,"/v2/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:Ee,address:je},query:ot},Ut)}function v(Ee,je,ot={},Ut){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/transactions/history",{path:{chainId:Ee,safe_address:je},query:ot},Ut)}function w(Ee,je,ot={},Ut){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/transactions/queued",{path:{chainId:Ee,safe_address:je},query:ot},Ut)}function C(Ee,je){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/transactions/{transactionId}",{path:{chainId:Ee,transactionId:je}})}function I(Ee,je,ot){return(0,r.deleteEndpoint)(s,"/v1/chains/{chainId}/transactions/{safeTxHash}",{path:{chainId:Ee,safeTxHash:je},body:{signature:ot}})}function k(Ee,je,ot){return(0,r.postEndpoint)(s,"/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations",{path:{chainId:Ee,safe_address:je},body:ot})}function P(Ee,je){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/nonces",{path:{chainId:Ee,safe_address:je}})}function S(Ee,je,ot){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/transactions/{safe_address}/propose",{path:{chainId:Ee,safe_address:je},body:ot})}function N(Ee,je,ot,Ut,Qi,Dl){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/views/transaction-confirmation",{path:{chainId:Ee,safe_address:je},body:{operation:ot,data:Ut,to:Qi,value:Dl}})}function R(Ee,je,ot,Ut,Qi,Dl){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/transactions/{safe_address}/preview",{path:{chainId:Ee,safe_address:je},body:{operation:ot,data:Ut,to:Qi,value:Dl}})}function D(Ee){return(0,r.getEndpoint)(s,"/v1/chains",{query:Ee})}function O(Ee){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}",{path:{chainId:Ee}})}function T(Ee,je={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safe-apps",{path:{chainId:Ee},query:je})}function E(Ee){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/about/master-copies",{path:{chainId:Ee}})}function _(Ee,je,ot,Ut){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/data-decoder",{path:{chainId:Ee},body:{operation:je,data:ot,to:Ut}})}function x(Ee,je,ot){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:Ee,safe_address:je},query:{}},ot)}function M(Ee,je){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/messages/{message_hash}",{path:{chainId:Ee,message_hash:je}})}function A(Ee,je,ot){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:Ee,safe_address:je},body:ot})}function U(Ee,je,ot){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/messages/{message_hash}/signatures",{path:{chainId:Ee,message_hash:je},body:ot})}function B(Ee,je={}){return(0,r.getEndpoint)(s,"/v2/chains/{chainId}/delegates",{path:{chainId:Ee},query:je})}function z(Ee){return(0,r.postEndpoint)(s,"/v1/register/notifications",{body:Ee})}function H(Ee,je,ot){return(0,r.deleteEndpoint)(s,"/v1/chains/{chainId}/notifications/devices/{uuid}/safes/{safe_address}",{path:{chainId:Ee,safe_address:je,uuid:ot}})}function q(Ee,je){return(0,r.deleteEndpoint)(s,"/v1/chains/{chainId}/notifications/devices/{uuid}",{path:{chainId:Ee,uuid:je}})}function F(Ee,je,ot,Ut){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails",{path:{chainId:Ee,safe_address:je},body:ot,headers:Ut})}function K(Ee,je,ot,Ut,Qi){return(0,r.putEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:Ee,safe_address:je,signer:ot},body:Ut,headers:Qi})}function ee(Ee,je,ot){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify-resend",{path:{chainId:Ee,safe_address:je,signer:ot},body:""})}function se(Ee,je,ot,Ut){return(0,r.putEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify",{path:{chainId:Ee,safe_address:je,signer:ot},body:Ut})}function te(Ee,je,ot,Ut){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:Ee,safe_address:je,signer:ot},headers:Ut})}function ue(Ee,je,ot,Ut){return(0,r.deleteEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:Ee,safe_address:je,signer:ot},headers:Ut})}function ge(Ee,je,ot){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/recovery",{path:{chainId:Ee,safe_address:je},body:ot})}function $e(Ee){return(0,r.deleteEndpoint)(s,"/v1/subscriptions",{query:Ee})}function he(Ee){return(0,r.deleteEndpoint)(s,"/v1/subscriptions/all",{query:Ee})}function me(Ee,je){return(0,r.getEndpoint)(s,"/v1/safes",{query:Object.assign(Object.assign({},je),{safes:Ee.join(",")})})}function Me(Ee,je){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/contracts/{contractAddress}",{path:{chainId:Ee,contractAddress:je}})}function Ct(){return(0,r.getEndpoint)(s,"/v1/auth/nonce",{credentials:"include"})}function _t(Ee){return(0,r.postEndpoint)(s,"/v1/auth/verify",{body:Ee,credentials:"include"})}function Tt(Ee){return(0,r.postEndpoint)(s,"/v1/accounts",{body:Ee,credentials:"include"})}function Cn(Ee){return(0,r.getEndpoint)(s,"/v1/accounts/{address}",{path:{address:Ee},credentials:"include"})}function xi(Ee){return(0,r.deleteEndpoint)(s,"/v1/accounts/{address}",{path:{address:Ee},credentials:"include"})}function Ao(){return(0,r.getEndpoint)(s,"/v1/accounts/data-types")}function to(Ee){return(0,r.getEndpoint)(s,"/v1/accounts/{address}/data-settings",{path:{address:Ee},credentials:"include"})}function Bi(Ee,je){return(0,r.putEndpoint)(s,"/v1/accounts/{address}/data-settings",{path:{address:Ee},body:je,credentials:"include"})}function Rl(Ee){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/about/indexing",{path:{chainId:Ee}})}})(xm)),xm}cge();class Cft{constructor(e){this.communicator=e}async getBySafeTxHash(e){if(!e)throw new Error("Invalid safeTxHash");return(await this.communicator.send(fs.getTxBySafeTxHash,{safeTxHash:e})).data}async signMessage(e){const n={message:e};return(await this.communicator.send(fs.signMessage,n)).data}async signTypedMessage(e){if(!SB(e))throw new Error("Invalid typed data");return(await this.communicator.send(fs.signTypedMessage,{typedData:e})).data}async send({txs:e,params:n}){if(!e||!e.length)throw new Error("No transactions were passed");const r={txs:e,params:n};return(await this.communicator.send(fs.sendTransactions,r)).data}}const po={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"},wh={defaultBlockParam:(t="latest")=>t,returnFullTxObjectParam:(t=!1)=>t,blockNumberToHex:t=>Number.isInteger(t)?`0x${t.toString(16)}`:t};class _ft{constructor(e){this.communicator=e,this.call=this.buildRequest({call:po.eth_call,formatters:[null,wh.defaultBlockParam]}),this.getBalance=this.buildRequest({call:po.eth_getBalance,formatters:[null,wh.defaultBlockParam]}),this.getCode=this.buildRequest({call:po.eth_getCode,formatters:[null,wh.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:po.eth_getStorageAt,formatters:[null,wh.blockNumberToHex,wh.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:po.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:po.eth_getBlockByHash,formatters:[null,wh.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:po.eth_getBlockByNumber,formatters:[wh.blockNumberToHex,wh.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:po.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:po.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:po.eth_getTransactionCount,formatters:[null,wh.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:po.eth_gasPrice}),this.getEstimateGas=n=>this.buildRequest({call:po.eth_estimateGas})([n]),this.setSafeSettings=this.buildRequest({call:po.safe_setSettings})}buildRequest(e){const{call:n,formatters:r}=e;return async i=>{r&&Array.isArray(i)&&r.forEach((a,c)=>{a&&(i[c]=a(i[c]))});const s={call:n,params:i||[]};return(await this.communicator.send(fs.rpcCall,s)).data}}}const Ift="0x1626ba7e",Sft="0x20c13b0b",kR=4001;class o_ extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r,Object.setPrototypeOf(this,o_.prototype)}}class lge{constructor(e){this.communicator=e}async getPermissions(){return(await this.communicator.send(fs.wallet_getPermissions,void 0)).data}async requestPermissions(e){if(!this.isPermissionRequestValid(e))throw new o_("Permissions request is invalid",kR);try{return(await this.communicator.send(fs.wallet_requestPermissions,e)).data}catch{throw new o_("Permissions rejected",kR)}}isPermissionRequestValid(e){return e.every(n=>typeof n=="object"?Object.keys(n).every(r=>!!Object.values(Z6).includes(r)):!1)}}const wG=(t,e)=>e.some(n=>n.parentCapability===t),xft=()=>(t,e,n)=>{const r=n.value;return n.value=async function(){const i=new lge(this.communicator);let s=await i.getPermissions();if(wG(e,s)||(s=await i.requestPermissions([{[e]:{}}])),!wG(e,s))throw new o_("Permissions rejected",kR);return r.apply(this)},n};var Aft=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class uge{constructor(e){this.communicator=e}async getChainInfo(){return(await this.communicator.send(fs.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(fs.getSafeInfo,void 0)).data}async experimental_getBalances({currency:e="usd"}={}){return(await this.communicator.send(fs.getSafeBalances,{currency:e})).data}async check1271Signature(e,n="0x"){const r=await this.getInfo(),i=Fs({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[e,n]}),s={call:po.eth_call,params:[{to:r.safeAddress,data:i},"latest"]};try{return(await this.communicator.send(fs.rpcCall,s)).data.slice(0,10).toLowerCase()===Ift}catch{return!1}}async check1271SignatureBytes(e,n="0x"){const r=await this.getInfo(),i=Fs({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[e,n]}),s={call:po.eth_call,params:[{to:r.safeAddress,data:i},"latest"]};try{return(await this.communicator.send(fs.rpcCall,s)).data.slice(0,10).toLowerCase()===Sft}catch{return!1}}calculateMessageHash(e){return Vv(e)}calculateTypedMessageHash(e){const n=typeof e.domain.chainId=="object"?e.domain.chainId.toNumber():Number(e.domain.chainId);let r=e.primaryType;if(!r){const i=Object.values(e.types),s=Object.keys(e.types).filter(o=>i.every(a=>a.every(({type:c})=>c.replace("[","").replace("]","")!==o)));if(s.length===0||s.length>1)throw new Error("Please specify primaryType");r=s[0]}return Fg({message:e.message,domain:{...e.domain,chainId:n,verifyingContract:e.domain.verifyingContract,salt:e.domain.salt},types:e.types,primaryType:r})}async getOffChainSignature(e){return(await this.communicator.send(fs.getOffChainSignature,e)).data}async isMessageSigned(e,n="0x"){let r;if(typeof e=="string"&&(r=async()=>{const i=this.calculateMessageHash(e);return await this.isMessageHashSigned(i,n)}),SB(e)&&(r=async()=>{const i=this.calculateTypedMessageHash(e);return await this.isMessageHashSigned(i,n)}),r)return await r();throw new Error("Invalid message type")}async isMessageHashSigned(e,n="0x"){const r=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const i of r)if(await i(e,n))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(fs.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(fs.requestAddressBook,void 0)).data}}Aft([xft()],uge.prototype,"requestAddressBook",null);class kft{constructor(e={}){const{allowedDomains:n=null,debug:r=!1}=e;this.communicator=new cft(n,r),this.eth=new _ft(this.communicator),this.txs=new Cft(this.communicator),this.safe=new uge(this.communicator),this.wallet=new lge(this.communicator)}}const JLt=Object.freeze(Object.defineProperty({__proto__:null,MessageFormatter:j4,get Methods(){return fs},RPC_CALLS:po,get RestrictedMethods(){return Z6},default:kft,getSDKVersion:age,isObjectEIP712TypedData:SB},Symbol.toStringTag,{value:"Module"}));var HN={},y3={},yh={},sb={},Tm={},b3={},v3={},yG;function dge(){if(yG)return v3;yG=1,Object.defineProperty(v3,"__esModule",{value:!0}),v3.getSDKVersion=void 0;const t=()=>"9.1.0";return v3.getSDKVersion=t,v3}var E3={},bG;function $ft(){if(bG)return E3;bG=1,Object.defineProperty(E3,"__esModule",{value:!0}),E3.generateRequestId=void 0;const t=r=>r.toString(16).padStart(2,"0"),e=r=>{const i=new Uint8Array(r/2);return window.crypto.getRandomValues(i),Array.from(i,t).join("")},n=()=>typeof window<"u"?e(10):new Date().getTime().toString(36);return E3.generateRequestId=n,E3}var vG;function hge(){if(vG)return b3;vG=1,Object.defineProperty(b3,"__esModule",{value:!0}),b3.MessageFormatter=void 0;const t=dge(),e=$ft();class n{}return b3.MessageFormatter=n,n.makeRequest=(r,i)=>({id:(0,e.generateRequestId)(),method:r,params:i,env:{sdkVersion:(0,t.getSDKVersion)()}}),n.makeResponse=(r,i,s)=>({id:r,success:!0,version:s,data:i}),n.makeErrorResponse=(r,i,s)=>({id:r,success:!1,error:i,version:s}),b3}var Nm={},EG;function Py(){if(EG)return Nm;EG=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.RestrictedMethods=Nm.Methods=void 0;var t;(function(n){n.sendTransactions="sendTransactions",n.rpcCall="rpcCall",n.getChainInfo="getChainInfo",n.getSafeInfo="getSafeInfo",n.getTxBySafeTxHash="getTxBySafeTxHash",n.getSafeBalances="getSafeBalances",n.signMessage="signMessage",n.signTypedMessage="signTypedMessage",n.getEnvironmentInfo="getEnvironmentInfo",n.getOffChainSignature="getOffChainSignature",n.requestAddressBook="requestAddressBook",n.wallet_getPermissions="wallet_getPermissions",n.wallet_requestPermissions="wallet_requestPermissions"})(t||(Nm.Methods=t={}));var e;return(function(n){n.requestAddressBook="requestAddressBook"})(e||(Nm.RestrictedMethods=e={})),Nm}var CG;function Tft(){return CG||(CG=1,(function(t){var e=Tm&&Tm.__createBinding||(Object.create?(function(s,o,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(o,a);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(s,c,l)}):(function(s,o,a,c){c===void 0&&(c=a),s[c]=o[a]})),n=Tm&&Tm.__exportStar||function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,s,a)};Object.defineProperty(t,"__esModule",{value:!0});const r=hge();class i{constructor(o=null,a=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:c,data:l,source:u})=>{const d=!l,h=!this.isServer&&u===window.parent,p=typeof l.version<"u"&&parseInt(l.version.split(".")[0]),f=typeof p=="number"&&p>=1;let g=!0;return Array.isArray(this.allowedOrigins)&&(g=this.allowedOrigins.find(m=>m.test(c))!==void 0),!d&&h&&f&&g},this.logIncomingMessage=c=>{console.info(`Safe Apps SDK v1: A message was received from origin ${c.origin}. `,c.data)},this.onParentMessage=c=>{this.isValidMessage(c)&&(this.debugMode&&this.logIncomingMessage(c),this.handleIncomingMessage(c.data))},this.handleIncomingMessage=c=>{const{id:l}=c,u=this.callbacks.get(l);u&&(u(c),this.callbacks.delete(l))},this.send=(c,l)=>{const u=r.MessageFormatter.makeRequest(c,l);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(u,"*"),new Promise((d,h)=>{this.callbacks.set(u.id,p=>{if(!p.success){h(new Error(p.error));return}d(p)})})},this.allowedOrigins=o,this.debugMode=a,this.isServer||window.addEventListener("message",this.onParentMessage)}}t.default=i,n(Py(),t)})(Tm)),Tm}var C3={},Om={},_3={},_G;function Nft(){if(_G)return _3;_G=1,Object.defineProperty(_3,"__esModule",{value:!0}),_3.isObjectEIP712TypedData=void 0;const t=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;return _3.isObjectEIP712TypedData=t,_3}var VN={},IG;function Oft(){return IG||(IG=1,Object.defineProperty(VN,"__esModule",{value:!0})),VN}var KN={},SG;function Pft(){return SG||(SG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TransferDirection=t.TransactionStatus=t.TokenType=t.Operation=void 0;var e=cge();Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return e.Operation}}),Object.defineProperty(t,"TokenType",{enumerable:!0,get:function(){return e.TokenType}}),Object.defineProperty(t,"TransactionStatus",{enumerable:!0,get:function(){return e.TransactionStatus}}),Object.defineProperty(t,"TransferDirection",{enumerable:!0,get:function(){return e.TransferDirection}})})(KN)),KN}var ZN={},xG;function Rft(){return xG||(xG=1,Object.defineProperty(ZN,"__esModule",{value:!0}),Py()),ZN}var AG;function xB(){return AG||(AG=1,(function(t){var e=Om&&Om.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=Om&&Om.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Nft(),t),n(Oft(),t),n(Pft(),t),n(Rft(),t)})(Om)),Om}var kG;function Dft(){if(kG)return C3;kG=1,Object.defineProperty(C3,"__esModule",{value:!0}),C3.TXs=void 0;const t=Py(),e=xB();class n{constructor(i){this.communicator=i}async getBySafeTxHash(i){if(!i)throw new Error("Invalid safeTxHash");return(await this.communicator.send(t.Methods.getTxBySafeTxHash,{safeTxHash:i})).data}async signMessage(i){const s={message:i};return(await this.communicator.send(t.Methods.signMessage,s)).data}async signTypedMessage(i){if(!(0,e.isObjectEIP712TypedData)(i))throw new Error("Invalid typed data");return(await this.communicator.send(t.Methods.signTypedMessage,{typedData:i})).data}async send({txs:i,params:s}){if(!i||!i.length)throw new Error("No transactions were passed");const o={txs:i,params:s};return(await this.communicator.send(t.Methods.sendTransactions,o)).data}}return C3.TXs=n,C3}var I3={},S3={},$G;function AB(){return $G||($G=1,Object.defineProperty(S3,"__esModule",{value:!0}),S3.RPC_CALLS=void 0,S3.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"}),S3}var TG;function Uft(){if(TG)return I3;TG=1,Object.defineProperty(I3,"__esModule",{value:!0}),I3.Eth=void 0;const t=AB(),e=Py(),n={defaultBlockParam:(i="latest")=>i,returnFullTxObjectParam:(i=!1)=>i,blockNumberToHex:i=>Number.isInteger(i)?`0x${i.toString(16)}`:i};class r{constructor(s){this.communicator=s,this.call=this.buildRequest({call:t.RPC_CALLS.eth_call,formatters:[null,n.defaultBlockParam]}),this.getBalance=this.buildRequest({call:t.RPC_CALLS.eth_getBalance,formatters:[null,n.defaultBlockParam]}),this.getCode=this.buildRequest({call:t.RPC_CALLS.eth_getCode,formatters:[null,n.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:t.RPC_CALLS.eth_getStorageAt,formatters:[null,n.blockNumberToHex,n.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:t.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:t.RPC_CALLS.eth_getBlockByHash,formatters:[null,n.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:t.RPC_CALLS.eth_getBlockByNumber,formatters:[n.blockNumberToHex,n.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionCount,formatters:[null,n.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:t.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=o=>this.buildRequest({call:t.RPC_CALLS.eth_estimateGas})([o]),this.setSafeSettings=this.buildRequest({call:t.RPC_CALLS.safe_setSettings})}buildRequest(s){const{call:o,formatters:a}=s;return async c=>{a&&Array.isArray(c)&&a.forEach((d,h)=>{d&&(c[h]=d(c[h]))});const l={call:o,params:c||[]};return(await this.communicator.send(e.Methods.rpcCall,l)).data}}}return I3.Eth=r,I3}var bh={},Tr={},Lt={},NG;function pge(){if(NG)return Lt;NG=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.toBig=Lt.shrSL=Lt.shrSH=Lt.rotrSL=Lt.rotrSH=Lt.rotrBL=Lt.rotrBH=Lt.rotr32L=Lt.rotr32H=Lt.rotlSL=Lt.rotlSH=Lt.rotlBL=Lt.rotlBH=Lt.add5L=Lt.add5H=Lt.add4L=Lt.add4H=Lt.add3L=Lt.add3H=void 0,Lt.add=b,Lt.fromBig=n,Lt.split=r;const t=BigInt(2**32-1),e=BigInt(32);function n(S,N=!1){return N?{h:Number(S&t),l:Number(S>>e&t)}:{h:Number(S>>e&t)|0,l:Number(S&t)|0}}function r(S,N=!1){const R=S.length;let D=new Uint32Array(R),O=new Uint32Array(R);for(let T=0;T<R;T++){const{h:E,l:_}=n(S[T],N);[D[T],O[T]]=[E,_]}return[D,O]}const i=(S,N)=>BigInt(S>>>0)<<e|BigInt(N>>>0);Lt.toBig=i;const s=(S,N,R)=>S>>>R;Lt.shrSH=s;const o=(S,N,R)=>S<<32-R|N>>>R;Lt.shrSL=o;const a=(S,N,R)=>S>>>R|N<<32-R;Lt.rotrSH=a;const c=(S,N,R)=>S<<32-R|N>>>R;Lt.rotrSL=c;const l=(S,N,R)=>S<<64-R|N>>>R-32;Lt.rotrBH=l;const u=(S,N,R)=>S>>>R-32|N<<64-R;Lt.rotrBL=u;const d=(S,N)=>N;Lt.rotr32H=d;const h=(S,N)=>S;Lt.rotr32L=h;const p=(S,N,R)=>S<<R|N>>>32-R;Lt.rotlSH=p;const f=(S,N,R)=>N<<R|S>>>32-R;Lt.rotlSL=f;const g=(S,N,R)=>N<<R-32|S>>>64-R;Lt.rotlBH=g;const m=(S,N,R)=>S<<R-32|N>>>64-R;Lt.rotlBL=m;function b(S,N,R,D){const O=(N>>>0)+(D>>>0);return{h:S+R+(O/2**32|0)|0,l:O|0}}const y=(S,N,R)=>(S>>>0)+(N>>>0)+(R>>>0);Lt.add3L=y;const v=(S,N,R,D)=>N+R+D+(S/2**32|0)|0;Lt.add3H=v;const w=(S,N,R,D)=>(S>>>0)+(N>>>0)+(R>>>0)+(D>>>0);Lt.add4L=w;const C=(S,N,R,D,O)=>N+R+D+O+(S/2**32|0)|0;Lt.add4H=C;const I=(S,N,R,D,O)=>(S>>>0)+(N>>>0)+(R>>>0)+(D>>>0)+(O>>>0);Lt.add5L=I;const k=(S,N,R,D,O,T)=>N+R+D+O+T+(S/2**32|0)|0;Lt.add5H=k;const P={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:a,rotrSL:c,rotrBH:l,rotrBL:u,rotr32H:d,rotr32L:h,rotlSH:p,rotlSL:f,rotlBH:g,rotlBL:m,add:b,add3L:y,add3H:v,add4L:w,add4H:C,add5H:k,add5L:I};return Lt.default=P,Lt}var GN={},x3={},OG;function Mft(){return OG||(OG=1,Object.defineProperty(x3,"__esModule",{value:!0}),x3.crypto=void 0,x3.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),x3}var PG;function dm(){return PG||(PG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=n,t.anumber=r,t.abytes=i,t.ahash=s,t.aexists=o,t.aoutput=a,t.u8=c,t.u32=l,t.clean=u,t.createView=d,t.rotr=h,t.rotl=p,t.byteSwap=f,t.byteSwap32=g,t.bytesToHex=y,t.hexToBytes=C,t.asyncLoop=k,t.utf8ToBytes=P,t.bytesToUtf8=S,t.toBytes=N,t.kdfInputToBytes=R,t.concatBytes=D,t.checkOpts=O,t.createHasher=E,t.createOptHasher=_,t.createXOFer=x,t.randomBytes=M;const e=Mft();function n(A){return A instanceof Uint8Array||ArrayBuffer.isView(A)&&A.constructor.name==="Uint8Array"}function r(A){if(!Number.isSafeInteger(A)||A<0)throw new Error("positive integer expected, got "+A)}function i(A,...U){if(!n(A))throw new Error("Uint8Array expected");if(U.length>0&&!U.includes(A.length))throw new Error("Uint8Array expected of length "+U+", got length="+A.length)}function s(A){if(typeof A!="function"||typeof A.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r(A.outputLen),r(A.blockLen)}function o(A,U=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(U&&A.finished)throw new Error("Hash#digest() has already been called")}function a(A,U){i(A);const B=U.outputLen;if(A.length<B)throw new Error("digestInto() expects output buffer of length at least "+B)}function c(A){return new Uint8Array(A.buffer,A.byteOffset,A.byteLength)}function l(A){return new Uint32Array(A.buffer,A.byteOffset,Math.floor(A.byteLength/4))}function u(...A){for(let U=0;U<A.length;U++)A[U].fill(0)}function d(A){return new DataView(A.buffer,A.byteOffset,A.byteLength)}function h(A,U){return A<<32-U|A>>>U}function p(A,U){return A<<U|A>>>32-U>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function f(A){return A<<24&4278190080|A<<8&16711680|A>>>8&65280|A>>>24&255}t.swap8IfBE=t.isLE?A=>A:A=>f(A),t.byteSwapIfBE=t.swap8IfBE;function g(A){for(let U=0;U<A.length;U++)A[U]=f(A[U]);return A}t.swap32IfBE=t.isLE?A=>A:g;const m=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",b=Array.from({length:256},(A,U)=>U.toString(16).padStart(2,"0"));function y(A){if(i(A),m)return A.toHex();let U="";for(let B=0;B<A.length;B++)U+=b[A[B]];return U}const v={_0:48,_9:57,A:65,F:70,a:97,f:102};function w(A){if(A>=v._0&&A<=v._9)return A-v._0;if(A>=v.A&&A<=v.F)return A-(v.A-10);if(A>=v.a&&A<=v.f)return A-(v.a-10)}function C(A){if(typeof A!="string")throw new Error("hex string expected, got "+typeof A);if(m)return Uint8Array.fromHex(A);const U=A.length,B=U/2;if(U%2)throw new Error("hex string expected, got unpadded hex of length "+U);const z=new Uint8Array(B);for(let H=0,q=0;H<B;H++,q+=2){const F=w(A.charCodeAt(q)),K=w(A.charCodeAt(q+1));if(F===void 0||K===void 0){const ee=A[q]+A[q+1];throw new Error('hex string expected, got non-hex character "'+ee+'" at index '+q)}z[H]=F*16+K}return z}const I=async()=>{};t.nextTick=I;async function k(A,U,B){let z=Date.now();for(let H=0;H<A;H++){B(H);const q=Date.now()-z;q>=0&&q<U||(await(0,t.nextTick)(),z+=q)}}function P(A){if(typeof A!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(A))}function S(A){return new TextDecoder().decode(A)}function N(A){return typeof A=="string"&&(A=P(A)),i(A),A}function R(A){return typeof A=="string"&&(A=P(A)),i(A),A}function D(...A){let U=0;for(let z=0;z<A.length;z++){const H=A[z];i(H),U+=H.length}const B=new Uint8Array(U);for(let z=0,H=0;z<A.length;z++){const q=A[z];B.set(q,H),H+=q.length}return B}function O(A,U){if(U!==void 0&&{}.toString.call(U)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(A,U)}class T{}t.Hash=T;function E(A){const U=z=>A().update(N(z)).digest(),B=A();return U.outputLen=B.outputLen,U.blockLen=B.blockLen,U.create=()=>A(),U}function _(A){const U=(z,H)=>A(H).update(N(z)).digest(),B=A({});return U.outputLen=B.outputLen,U.blockLen=B.blockLen,U.create=z=>A(z),U}function x(A){const U=(z,H)=>A(H).update(N(z)).digest(),B=A({});return U.outputLen=B.outputLen,U.blockLen=B.blockLen,U.create=z=>A(z),U}t.wrapConstructor=E,t.wrapConstructorWithOpts=_,t.wrapXOFConstructorWithOpts=x;function M(A=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(A));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(A));throw new Error("crypto.getRandomValues must be defined")}})(GN)),GN}var RG;function XLt(){if(RG)return Tr;RG=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.shake256=Tr.shake128=Tr.keccak_512=Tr.keccak_384=Tr.keccak_256=Tr.keccak_224=Tr.sha3_512=Tr.sha3_384=Tr.sha3_256=Tr.sha3_224=Tr.Keccak=void 0,Tr.keccakP=m;const t=pge(),e=dm(),n=BigInt(0),r=BigInt(1),i=BigInt(2),s=BigInt(7),o=BigInt(256),a=BigInt(113),c=[],l=[],u=[];for(let w=0,C=r,I=1,k=0;w<24;w++){[I,k]=[k,(2*I+3*k)%5],c.push(2*(5*k+I)),l.push((w+1)*(w+2)/2%64);let P=n;for(let S=0;S<7;S++)C=(C<<r^(C>>s)*a)%o,C&i&&(P^=r<<(r<<BigInt(S))-r);u.push(P)}const d=(0,t.split)(u,!0),h=d[0],p=d[1],f=(w,C,I)=>I>32?(0,t.rotlBH)(w,C,I):(0,t.rotlSH)(w,C,I),g=(w,C,I)=>I>32?(0,t.rotlBL)(w,C,I):(0,t.rotlSL)(w,C,I);function m(w,C=24){const I=new Uint32Array(10);for(let k=24-C;k<24;k++){for(let N=0;N<10;N++)I[N]=w[N]^w[N+10]^w[N+20]^w[N+30]^w[N+40];for(let N=0;N<10;N+=2){const R=(N+8)%10,D=(N+2)%10,O=I[D],T=I[D+1],E=f(O,T,1)^I[R],_=g(O,T,1)^I[R+1];for(let x=0;x<50;x+=10)w[N+x]^=E,w[N+x+1]^=_}let P=w[2],S=w[3];for(let N=0;N<24;N++){const R=l[N],D=f(P,S,R),O=g(P,S,R),T=c[N];P=w[T],S=w[T+1],w[T]=D,w[T+1]=O}for(let N=0;N<50;N+=10){for(let R=0;R<10;R++)I[R]=w[N+R];for(let R=0;R<10;R++)w[N+R]^=~I[(R+2)%10]&I[(R+4)%10]}w[0]^=h[k],w[1]^=p[k]}(0,e.clean)(I)}class b extends e.Hash{constructor(C,I,k,P=!1,S=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=C,this.suffix=I,this.outputLen=k,this.enableXOF=P,this.rounds=S,(0,e.anumber)(k),!(0<C&&C<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),m(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(C){(0,e.aexists)(this),C=(0,e.toBytes)(C),(0,e.abytes)(C);const{blockLen:I,state:k}=this,P=C.length;for(let S=0;S<P;){const N=Math.min(I-this.pos,P-S);for(let R=0;R<N;R++)k[this.pos++]^=C[S++];this.pos===I&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:C,suffix:I,pos:k,blockLen:P}=this;C[k]^=I,(I&128)!==0&&k===P-1&&this.keccak(),C[P-1]^=128,this.keccak()}writeInto(C){(0,e.aexists)(this,!1),(0,e.abytes)(C),this.finish();const I=this.state,{blockLen:k}=this;for(let P=0,S=C.length;P<S;){this.posOut>=k&&this.keccak();const N=Math.min(k-this.posOut,S-P);C.set(I.subarray(this.posOut,this.posOut+N),P),this.posOut+=N,P+=N}return C}xofInto(C){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(C)}xof(C){return(0,e.anumber)(C),this.xofInto(new Uint8Array(C))}digestInto(C){if((0,e.aoutput)(C,this),this.finished)throw new Error("digest() was already called");return this.writeInto(C),this.destroy(),C}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(C){const{blockLen:I,suffix:k,outputLen:P,rounds:S,enableXOF:N}=this;return C||(C=new b(I,k,P,N,S)),C.state32.set(this.state32),C.pos=this.pos,C.posOut=this.posOut,C.finished=this.finished,C.rounds=S,C.suffix=k,C.outputLen=P,C.enableXOF=N,C.destroyed=this.destroyed,C}}Tr.Keccak=b;const y=(w,C,I)=>(0,e.createHasher)(()=>new b(C,w,I));Tr.sha3_224=y(6,144,224/8),Tr.sha3_256=y(6,136,256/8),Tr.sha3_384=y(6,104,384/8),Tr.sha3_512=y(6,72,512/8),Tr.keccak_224=y(1,144,224/8),Tr.keccak_256=y(1,136,256/8),Tr.keccak_384=y(1,104,384/8),Tr.keccak_512=y(1,72,512/8);const v=(w,C,I)=>(0,e.createXOFer)((k={})=>new b(C,w,k.dkLen===void 0?I:k.dkLen,!0));return Tr.shake128=v(31,168,128/8),Tr.shake256=v(31,136,256/8),Tr}var YN={},gr={},co={},DG;function fge(){if(DG)return co;DG=1,Object.defineProperty(co,"__esModule",{value:!0}),co.SHA512_IV=co.SHA384_IV=co.SHA224_IV=co.SHA256_IV=co.HashMD=void 0,co.setBigUint64=e,co.Chi=n,co.Maj=r;const t=dm();function e(s,o,a,c){if(typeof s.setBigUint64=="function")return s.setBigUint64(o,a,c);const l=BigInt(32),u=BigInt(4294967295),d=Number(a>>l&u),h=Number(a&u),p=c?4:0,f=c?0:4;s.setUint32(o+p,d,c),s.setUint32(o+f,h,c)}function n(s,o,a){return s&o^~s&a}function r(s,o,a){return s&o^s&a^o&a}class i extends t.Hash{constructor(o,a,c,l){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=o,this.outputLen=a,this.padOffset=c,this.isLE=l,this.buffer=new Uint8Array(o),this.view=(0,t.createView)(this.buffer)}update(o){(0,t.aexists)(this),o=(0,t.toBytes)(o),(0,t.abytes)(o);const{view:a,buffer:c,blockLen:l}=this,u=o.length;for(let d=0;d<u;){const h=Math.min(l-this.pos,u-d);if(h===l){const p=(0,t.createView)(o);for(;l<=u-d;d+=l)this.process(p,d);continue}c.set(o.subarray(d,d+h),this.pos),this.pos+=h,d+=h,this.pos===l&&(this.process(a,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){(0,t.aexists)(this),(0,t.aoutput)(o,this),this.finished=!0;const{buffer:a,view:c,blockLen:l,isLE:u}=this;let{pos:d}=this;a[d++]=128,(0,t.clean)(this.buffer.subarray(d)),this.padOffset>l-d&&(this.process(c,0),d=0);for(let m=d;m<l;m++)a[m]=0;e(c,l-8,BigInt(this.length*8),u),this.process(c,0);const h=(0,t.createView)(o),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=p/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<f;m++)h.setUint32(4*m,g[m],u)}digest(){const{buffer:o,outputLen:a}=this;this.digestInto(o);const c=o.slice(0,a);return this.destroy(),c}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:a,buffer:c,length:l,finished:u,destroyed:d,pos:h}=this;return o.destroyed=d,o.finished=u,o.length=l,o.pos=h,l%a&&o.buffer.set(c),o}clone(){return this._cloneInto()}}return co.HashMD=i,co.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),co.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),co.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),co.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),co}var UG;function gge(){if(UG)return gr;UG=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.sha512_224=gr.sha512_256=gr.sha384=gr.sha512=gr.sha224=gr.sha256=gr.SHA512_256=gr.SHA512_224=gr.SHA384=gr.SHA512=gr.SHA224=gr.SHA256=void 0;const t=fge(),e=pge(),n=dm(),r=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),i=new Uint32Array(64);class s extends t.HashMD{constructor(v=32){super(64,v,8,!1),this.A=t.SHA256_IV[0]|0,this.B=t.SHA256_IV[1]|0,this.C=t.SHA256_IV[2]|0,this.D=t.SHA256_IV[3]|0,this.E=t.SHA256_IV[4]|0,this.F=t.SHA256_IV[5]|0,this.G=t.SHA256_IV[6]|0,this.H=t.SHA256_IV[7]|0}get(){const{A:v,B:w,C,D:I,E:k,F:P,G:S,H:N}=this;return[v,w,C,I,k,P,S,N]}set(v,w,C,I,k,P,S,N){this.A=v|0,this.B=w|0,this.C=C|0,this.D=I|0,this.E=k|0,this.F=P|0,this.G=S|0,this.H=N|0}process(v,w){for(let O=0;O<16;O++,w+=4)i[O]=v.getUint32(w,!1);for(let O=16;O<64;O++){const T=i[O-15],E=i[O-2],_=(0,n.rotr)(T,7)^(0,n.rotr)(T,18)^T>>>3,x=(0,n.rotr)(E,17)^(0,n.rotr)(E,19)^E>>>10;i[O]=x+i[O-7]+_+i[O-16]|0}let{A:C,B:I,C:k,D:P,E:S,F:N,G:R,H:D}=this;for(let O=0;O<64;O++){const T=(0,n.rotr)(S,6)^(0,n.rotr)(S,11)^(0,n.rotr)(S,25),E=D+T+(0,t.Chi)(S,N,R)+r[O]+i[O]|0,x=((0,n.rotr)(C,2)^(0,n.rotr)(C,13)^(0,n.rotr)(C,22))+(0,t.Maj)(C,I,k)|0;D=R,R=N,N=S,S=P+E|0,P=k,k=I,I=C,C=E+x|0}C=C+this.A|0,I=I+this.B|0,k=k+this.C|0,P=P+this.D|0,S=S+this.E|0,N=N+this.F|0,R=R+this.G|0,D=D+this.H|0,this.set(C,I,k,P,S,N,R,D)}roundClean(){(0,n.clean)(i)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.clean)(this.buffer)}}gr.SHA256=s;class o extends s{constructor(){super(28),this.A=t.SHA224_IV[0]|0,this.B=t.SHA224_IV[1]|0,this.C=t.SHA224_IV[2]|0,this.D=t.SHA224_IV[3]|0,this.E=t.SHA224_IV[4]|0,this.F=t.SHA224_IV[5]|0,this.G=t.SHA224_IV[6]|0,this.H=t.SHA224_IV[7]|0}}gr.SHA224=o;const a=e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(y=>BigInt(y))),c=a[0],l=a[1],u=new Uint32Array(80),d=new Uint32Array(80);class h extends t.HashMD{constructor(v=64){super(128,v,16,!1),this.Ah=t.SHA512_IV[0]|0,this.Al=t.SHA512_IV[1]|0,this.Bh=t.SHA512_IV[2]|0,this.Bl=t.SHA512_IV[3]|0,this.Ch=t.SHA512_IV[4]|0,this.Cl=t.SHA512_IV[5]|0,this.Dh=t.SHA512_IV[6]|0,this.Dl=t.SHA512_IV[7]|0,this.Eh=t.SHA512_IV[8]|0,this.El=t.SHA512_IV[9]|0,this.Fh=t.SHA512_IV[10]|0,this.Fl=t.SHA512_IV[11]|0,this.Gh=t.SHA512_IV[12]|0,this.Gl=t.SHA512_IV[13]|0,this.Hh=t.SHA512_IV[14]|0,this.Hl=t.SHA512_IV[15]|0}get(){const{Ah:v,Al:w,Bh:C,Bl:I,Ch:k,Cl:P,Dh:S,Dl:N,Eh:R,El:D,Fh:O,Fl:T,Gh:E,Gl:_,Hh:x,Hl:M}=this;return[v,w,C,I,k,P,S,N,R,D,O,T,E,_,x,M]}set(v,w,C,I,k,P,S,N,R,D,O,T,E,_,x,M){this.Ah=v|0,this.Al=w|0,this.Bh=C|0,this.Bl=I|0,this.Ch=k|0,this.Cl=P|0,this.Dh=S|0,this.Dl=N|0,this.Eh=R|0,this.El=D|0,this.Fh=O|0,this.Fl=T|0,this.Gh=E|0,this.Gl=_|0,this.Hh=x|0,this.Hl=M|0}process(v,w){for(let B=0;B<16;B++,w+=4)u[B]=v.getUint32(w),d[B]=v.getUint32(w+=4);for(let B=16;B<80;B++){const z=u[B-15]|0,H=d[B-15]|0,q=e.rotrSH(z,H,1)^e.rotrSH(z,H,8)^e.shrSH(z,H,7),F=e.rotrSL(z,H,1)^e.rotrSL(z,H,8)^e.shrSL(z,H,7),K=u[B-2]|0,ee=d[B-2]|0,se=e.rotrSH(K,ee,19)^e.rotrBH(K,ee,61)^e.shrSH(K,ee,6),te=e.rotrSL(K,ee,19)^e.rotrBL(K,ee,61)^e.shrSL(K,ee,6),ue=e.add4L(F,te,d[B-7],d[B-16]),ge=e.add4H(ue,q,se,u[B-7],u[B-16]);u[B]=ge|0,d[B]=ue|0}let{Ah:C,Al:I,Bh:k,Bl:P,Ch:S,Cl:N,Dh:R,Dl:D,Eh:O,El:T,Fh:E,Fl:_,Gh:x,Gl:M,Hh:A,Hl:U}=this;for(let B=0;B<80;B++){const z=e.rotrSH(O,T,14)^e.rotrSH(O,T,18)^e.rotrBH(O,T,41),H=e.rotrSL(O,T,14)^e.rotrSL(O,T,18)^e.rotrBL(O,T,41),q=O&E^~O&x,F=T&_^~T&M,K=e.add5L(U,H,F,l[B],d[B]),ee=e.add5H(K,A,z,q,c[B],u[B]),se=K|0,te=e.rotrSH(C,I,28)^e.rotrBH(C,I,34)^e.rotrBH(C,I,39),ue=e.rotrSL(C,I,28)^e.rotrBL(C,I,34)^e.rotrBL(C,I,39),ge=C&k^C&S^k&S,$e=I&P^I&N^P&N;A=x|0,U=M|0,x=E|0,M=_|0,E=O|0,_=T|0,{h:O,l:T}=e.add(R|0,D|0,ee|0,se|0),R=S|0,D=N|0,S=k|0,N=P|0,k=C|0,P=I|0;const he=e.add3L(se,ue,$e);C=e.add3H(he,ee,te,ge),I=he|0}({h:C,l:I}=e.add(this.Ah|0,this.Al|0,C|0,I|0)),{h:k,l:P}=e.add(this.Bh|0,this.Bl|0,k|0,P|0),{h:S,l:N}=e.add(this.Ch|0,this.Cl|0,S|0,N|0),{h:R,l:D}=e.add(this.Dh|0,this.Dl|0,R|0,D|0),{h:O,l:T}=e.add(this.Eh|0,this.El|0,O|0,T|0),{h:E,l:_}=e.add(this.Fh|0,this.Fl|0,E|0,_|0),{h:x,l:M}=e.add(this.Gh|0,this.Gl|0,x|0,M|0),{h:A,l:U}=e.add(this.Hh|0,this.Hl|0,A|0,U|0),this.set(C,I,k,P,S,N,R,D,O,T,E,_,x,M,A,U)}roundClean(){(0,n.clean)(u,d)}destroy(){(0,n.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}gr.SHA512=h;class p extends h{constructor(){super(48),this.Ah=t.SHA384_IV[0]|0,this.Al=t.SHA384_IV[1]|0,this.Bh=t.SHA384_IV[2]|0,this.Bl=t.SHA384_IV[3]|0,this.Ch=t.SHA384_IV[4]|0,this.Cl=t.SHA384_IV[5]|0,this.Dh=t.SHA384_IV[6]|0,this.Dl=t.SHA384_IV[7]|0,this.Eh=t.SHA384_IV[8]|0,this.El=t.SHA384_IV[9]|0,this.Fh=t.SHA384_IV[10]|0,this.Fl=t.SHA384_IV[11]|0,this.Gh=t.SHA384_IV[12]|0,this.Gl=t.SHA384_IV[13]|0,this.Hh=t.SHA384_IV[14]|0,this.Hl=t.SHA384_IV[15]|0}}gr.SHA384=p;const f=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),g=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class m extends h{constructor(){super(28),this.Ah=f[0]|0,this.Al=f[1]|0,this.Bh=f[2]|0,this.Bl=f[3]|0,this.Ch=f[4]|0,this.Cl=f[5]|0,this.Dh=f[6]|0,this.Dl=f[7]|0,this.Eh=f[8]|0,this.El=f[9]|0,this.Fh=f[10]|0,this.Fl=f[11]|0,this.Gh=f[12]|0,this.Gl=f[13]|0,this.Hh=f[14]|0,this.Hl=f[15]|0}}gr.SHA512_224=m;class b extends h{constructor(){super(32),this.Ah=g[0]|0,this.Al=g[1]|0,this.Bh=g[2]|0,this.Bl=g[3]|0,this.Ch=g[4]|0,this.Cl=g[5]|0,this.Dh=g[6]|0,this.Dl=g[7]|0,this.Eh=g[8]|0,this.El=g[9]|0,this.Fh=g[10]|0,this.Fl=g[11]|0,this.Gh=g[12]|0,this.Gl=g[13]|0,this.Hh=g[14]|0,this.Hl=g[15]|0}}return gr.SHA512_256=b,gr.sha256=(0,n.createHasher)(()=>new s),gr.sha224=(0,n.createHasher)(()=>new o),gr.sha512=(0,n.createHasher)(()=>new h),gr.sha384=(0,n.createHasher)(()=>new p),gr.sha512_256=(0,n.createHasher)(()=>new b),gr.sha512_224=(0,n.createHasher)(()=>new m),gr}var A3={},JN={},MG;function Lft(){return MG||(MG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=dm();class n extends e.Hash{constructor(s,o){super(),this.finished=!1,this.destroyed=!1,(0,e.ahash)(s);const a=(0,e.toBytes)(o);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,l=new Uint8Array(c);l.set(a.length>c?s.create().update(a).digest():a);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=s.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),(0,e.clean)(l)}update(s){return(0,e.aexists)(this),this.iHash.update(s),this}digestInto(s){(0,e.aexists)(this),(0,e.abytes)(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:a,finished:c,destroyed:l,blockLen:u,outputLen:d}=this;return s=s,s.finished=c,s.destroyed=l,s.blockLen=u,s.outputLen=d,s.oHash=o._cloneInto(s.oHash),s.iHash=a._cloneInto(s.iHash),s}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=n;const r=(i,s,o)=>new n(i,s).update(o).digest();t.hmac=r,t.hmac.create=(i,s)=>new n(i,s)})(JN)),JN}var XN={},Pm={},Br={},Ln={},LG;function B4(){if(LG)return Ln;LG=1;Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.notImplemented=Ln.bitMask=void 0,Ln.isBytes=n,Ln.abytes=r,Ln.abool=i,Ln.numberToHexUnpadded=s,Ln.hexToNumber=o,Ln.bytesToHex=l,Ln.hexToBytes=h,Ln.bytesToNumberBE=p,Ln.bytesToNumberLE=f,Ln.numberToBytesBE=g,Ln.numberToBytesLE=m,Ln.numberToVarBytesBE=b,Ln.ensureBytes=y,Ln.concatBytes=v,Ln.equalBytes=w,Ln.utf8ToBytes=C,Ln.inRange=k,Ln.aInRange=P,Ln.bitLen=S,Ln.bitGet=N,Ln.bitSet=R,Ln.createHmacDrbg=E,Ln.validateObject=x,Ln.memoized=A;const t=BigInt(0),e=BigInt(1);function n(U){return U instanceof Uint8Array||ArrayBuffer.isView(U)&&U.constructor.name==="Uint8Array"}function r(U){if(!n(U))throw new Error("Uint8Array expected")}function i(U,B){if(typeof B!="boolean")throw new Error(U+" boolean expected, got "+B)}function s(U){const B=U.toString(16);return B.length&1?"0"+B:B}function o(U){if(typeof U!="string")throw new Error("hex string expected, got "+typeof U);return U===""?t:BigInt("0x"+U)}const a=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c=Array.from({length:256},(U,B)=>B.toString(16).padStart(2,"0"));function l(U){if(r(U),a)return U.toHex();let B="";for(let z=0;z<U.length;z++)B+=c[U[z]];return B}const u={_0:48,_9:57,A:65,F:70,a:97,f:102};function d(U){if(U>=u._0&&U<=u._9)return U-u._0;if(U>=u.A&&U<=u.F)return U-(u.A-10);if(U>=u.a&&U<=u.f)return U-(u.a-10)}function h(U){if(typeof U!="string")throw new Error("hex string expected, got "+typeof U);if(a)return Uint8Array.fromHex(U);const B=U.length,z=B/2;if(B%2)throw new Error("hex string expected, got unpadded hex of length "+B);const H=new Uint8Array(z);for(let q=0,F=0;q<z;q++,F+=2){const K=d(U.charCodeAt(F)),ee=d(U.charCodeAt(F+1));if(K===void 0||ee===void 0){const se=U[F]+U[F+1];throw new Error('hex string expected, got non-hex character "'+se+'" at index '+F)}H[q]=K*16+ee}return H}function p(U){return o(l(U))}function f(U){return r(U),o(l(Uint8Array.from(U).reverse()))}function g(U,B){return h(U.toString(16).padStart(B*2,"0"))}function m(U,B){return g(U,B).reverse()}function b(U){return h(s(U))}function y(U,B,z){let H;if(typeof B=="string")try{H=h(B)}catch(F){throw new Error(U+" must be hex string or Uint8Array, cause: "+F)}else if(n(B))H=Uint8Array.from(B);else throw new Error(U+" must be hex string or Uint8Array");const q=H.length;if(typeof z=="number"&&q!==z)throw new Error(U+" of length "+z+" expected, got "+q);return H}function v(...U){let B=0;for(let H=0;H<U.length;H++){const q=U[H];r(q),B+=q.length}const z=new Uint8Array(B);for(let H=0,q=0;H<U.length;H++){const F=U[H];z.set(F,q),q+=F.length}return z}function w(U,B){if(U.length!==B.length)return!1;let z=0;for(let H=0;H<U.length;H++)z|=U[H]^B[H];return z===0}function C(U){if(typeof U!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(U))}const I=U=>typeof U=="bigint"&&t<=U;function k(U,B,z){return I(U)&&I(B)&&I(z)&&B<=U&&U<z}function P(U,B,z,H){if(!k(B,z,H))throw new Error("expected valid "+U+": "+z+" <= n < "+H+", got "+B)}function S(U){let B;for(B=0;U>t;U>>=e,B+=1);return B}function N(U,B){return U>>BigInt(B)&e}function R(U,B,z){return U|(z?e:t)<<BigInt(B)}const D=U=>(e<<BigInt(U))-e;Ln.bitMask=D;const O=U=>new Uint8Array(U),T=U=>Uint8Array.from(U);function E(U,B,z){if(typeof U!="number"||U<2)throw new Error("hashLen must be a number");if(typeof B!="number"||B<2)throw new Error("qByteLen must be a number");if(typeof z!="function")throw new Error("hmacFn must be a function");let H=O(U),q=O(U),F=0;const K=()=>{H.fill(1),q.fill(0),F=0},ee=(...ge)=>z(q,H,...ge),se=(ge=O(0))=>{q=ee(T([0]),ge),H=ee(),ge.length!==0&&(q=ee(T([1]),ge),H=ee())},te=()=>{if(F++>=1e3)throw new Error("drbg: tried 1000 values");let ge=0;const $e=[];for(;ge<B;){H=ee();const he=H.slice();$e.push(he),ge+=H.length}return v(...$e)};return(ge,$e)=>{K(),se(ge);let he;for(;!(he=$e(te()));)se();return K(),he}}const _={bigint:U=>typeof U=="bigint",function:U=>typeof U=="function",boolean:U=>typeof U=="boolean",string:U=>typeof U=="string",stringOrUint8Array:U=>typeof U=="string"||n(U),isSafeInteger:U=>Number.isSafeInteger(U),array:U=>Array.isArray(U),field:(U,B)=>B.Fp.isValid(U),hash:U=>typeof U=="function"&&Number.isSafeInteger(U.outputLen)};function x(U,B,z={}){const H=(q,F,K)=>{const ee=_[F];if(typeof ee!="function")throw new Error("invalid validator function");const se=U[q];if(!(K&&se===void 0)&&!ee(se,U))throw new Error("param "+String(q)+" is invalid. Expected "+F+", got "+se)};for(const[q,F]of Object.entries(B))H(q,F,!1);for(const[q,F]of Object.entries(z))H(q,F,!0);return U}const M=()=>{throw new Error("not implemented")};Ln.notImplemented=M;function A(U){const B=new WeakMap;return(z,...H)=>{const q=B.get(z);if(q!==void 0)return q;const F=U(z,...H);return B.set(z,F),F}}return Ln}var jG;function C8(){if(jG)return Br;jG=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.isNegativeLE=void 0,Br.mod=l,Br.pow=u,Br.pow2=d,Br.invert=h,Br.tonelliShanks=g,Br.FpSqrt=m,Br.validateField=v,Br.FpPow=w,Br.FpInvertBatch=C,Br.FpDiv=I,Br.FpLegendre=k,Br.FpIsSquare=P,Br.nLength=S,Br.Field=N,Br.FpSqrtOdd=R,Br.FpSqrtEven=D,Br.hashToPrivateScalar=O,Br.getFieldBytesLength=T,Br.getMinHashLength=E,Br.mapHashToField=_;const t=dm(),e=B4(),n=BigInt(0),r=BigInt(1),i=BigInt(2),s=BigInt(3),o=BigInt(4),a=BigInt(5),c=BigInt(8);function l(x,M){const A=x%M;return A>=n?A:M+A}function u(x,M,A){return w(N(A),x,M)}function d(x,M,A){let U=x;for(;M-- >n;)U*=U,U%=A;return U}function h(x,M){if(x===n)throw new Error("invert: expected non-zero number");if(M<=n)throw new Error("invert: expected positive modulus, got "+M);let A=l(x,M),U=M,B=n,z=r;for(;A!==n;){const q=U/A,F=U%A,K=B-z*q;U=A,A=F,B=z,z=K}if(U!==r)throw new Error("invert: does not exist");return l(B,M)}function p(x,M){const A=(x.ORDER+r)/o,U=x.pow(M,A);if(!x.eql(x.sqr(U),M))throw new Error("Cannot find square root");return U}function f(x,M){const A=(x.ORDER-a)/c,U=x.mul(M,i),B=x.pow(U,A),z=x.mul(M,B),H=x.mul(x.mul(z,i),B),q=x.mul(z,x.sub(H,x.ONE));if(!x.eql(x.sqr(q),M))throw new Error("Cannot find square root");return q}function g(x){if(x<BigInt(3))throw new Error("sqrt is not defined for small field");let M=x-r,A=0;for(;M%i===n;)M/=i,A++;let U=i;const B=N(x);for(;k(B,U)===1;)if(U++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(A===1)return p;let z=B.pow(U,M);const H=(M+r)/i;return function(F,K){if(F.is0(K))return K;if(k(F,K)!==1)throw new Error("Cannot find square root");let ee=A,se=F.mul(F.ONE,z),te=F.pow(K,M),ue=F.pow(K,H);for(;!F.eql(te,F.ONE);){if(F.is0(te))return F.ZERO;let ge=1,$e=F.sqr(te);for(;!F.eql($e,F.ONE);)if(ge++,$e=F.sqr($e),ge===ee)throw new Error("Cannot find square root");const he=r<<BigInt(ee-ge-1),me=F.pow(se,he);ee=ge,se=F.sqr(me),te=F.mul(te,se),ue=F.mul(ue,me)}return ue}}function m(x){return x%o===s?p:x%c===a?f:g(x)}const b=(x,M)=>(l(x,M)&r)===r;Br.isNegativeLE=b;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v(x){const M={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},A=y.reduce((U,B)=>(U[B]="function",U),M);return(0,e.validateObject)(x,A)}function w(x,M,A){if(A<n)throw new Error("invalid exponent, negatives unsupported");if(A===n)return x.ONE;if(A===r)return M;let U=x.ONE,B=M;for(;A>n;)A&r&&(U=x.mul(U,B)),B=x.sqr(B),A>>=r;return U}function C(x,M,A=!1){const U=new Array(M.length).fill(A?x.ZERO:void 0),B=M.reduce((H,q,F)=>x.is0(q)?H:(U[F]=H,x.mul(H,q)),x.ONE),z=x.inv(B);return M.reduceRight((H,q,F)=>x.is0(q)?H:(U[F]=x.mul(H,U[F]),x.mul(H,q)),z),U}function I(x,M,A){return x.mul(M,typeof A=="bigint"?h(A,x.ORDER):x.inv(A))}function k(x,M){const A=(x.ORDER-r)/i,U=x.pow(M,A),B=x.eql(U,x.ONE),z=x.eql(U,x.ZERO),H=x.eql(U,x.neg(x.ONE));if(!B&&!z&&!H)throw new Error("invalid Legendre symbol result");return B?1:z?0:-1}function P(x,M){return k(x,M)===1}function S(x,M){M!==void 0&&(0,t.anumber)(M);const A=M!==void 0?M:x.toString(2).length,U=Math.ceil(A/8);return{nBitLength:A,nByteLength:U}}function N(x,M,A=!1,U={}){if(x<=n)throw new Error("invalid field: expected ORDER > 0, got "+x);const{nBitLength:B,nByteLength:z}=S(x,M);if(z>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let H;const q=Object.freeze({ORDER:x,isLE:A,BITS:B,BYTES:z,MASK:(0,e.bitMask)(B),ZERO:n,ONE:r,create:F=>l(F,x),isValid:F=>{if(typeof F!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof F);return n<=F&&F<x},is0:F=>F===n,isOdd:F=>(F&r)===r,neg:F=>l(-F,x),eql:(F,K)=>F===K,sqr:F=>l(F*F,x),add:(F,K)=>l(F+K,x),sub:(F,K)=>l(F-K,x),mul:(F,K)=>l(F*K,x),pow:(F,K)=>w(q,F,K),div:(F,K)=>l(F*h(K,x),x),sqrN:F=>F*F,addN:(F,K)=>F+K,subN:(F,K)=>F-K,mulN:(F,K)=>F*K,inv:F=>h(F,x),sqrt:U.sqrt||(F=>(H||(H=m(x)),H(q,F))),toBytes:F=>A?(0,e.numberToBytesLE)(F,z):(0,e.numberToBytesBE)(F,z),fromBytes:F=>{if(F.length!==z)throw new Error("Field.fromBytes: expected "+z+" bytes, got "+F.length);return A?(0,e.bytesToNumberLE)(F):(0,e.bytesToNumberBE)(F)},invertBatch:F=>C(q,F),cmov:(F,K,ee)=>ee?K:F});return Object.freeze(q)}function R(x,M){if(!x.isOdd)throw new Error("Field doesn't have isOdd");const A=x.sqrt(M);return x.isOdd(A)?A:x.neg(A)}function D(x,M){if(!x.isOdd)throw new Error("Field doesn't have isOdd");const A=x.sqrt(M);return x.isOdd(A)?x.neg(A):A}function O(x,M,A=!1){x=(0,e.ensureBytes)("privateHash",x);const U=x.length,B=S(M).nByteLength+8;if(B<24||U<B||U>1024)throw new Error("hashToPrivateScalar: expected "+B+"-1024 bytes of input, got "+U);const z=A?(0,e.bytesToNumberLE)(x):(0,e.bytesToNumberBE)(x);return l(z,M-r)+r}function T(x){if(typeof x!="bigint")throw new Error("field order must be bigint");const M=x.toString(2).length;return Math.ceil(M/8)}function E(x){const M=T(x);return M+Math.ceil(M/2)}function _(x,M,A=!1){const U=x.length,B=T(M),z=E(M);if(U<16||U<z||U>1024)throw new Error("expected "+z+"-1024 bytes of input, got "+U);const H=A?(0,e.bytesToNumberLE)(x):(0,e.bytesToNumberBE)(x),q=l(H,M-r)+r;return A?(0,e.numberToBytesLE)(q,B):(0,e.numberToBytesBE)(q,B)}return Br}var BG;function jft(){if(BG)return Pm;BG=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.wNAF=p,Pm.pippenger=f,Pm.precomputeMSMUnsafe=g,Pm.validateBasic=m;const t=C8(),e=B4(),n=BigInt(0),r=BigInt(1);function i(b,y){const v=y.negate();return b?v:y}function s(b,y){if(!Number.isSafeInteger(b)||b<=0||b>y)throw new Error("invalid window size, expected [1.."+y+"], got W="+b)}function o(b,y){s(b,y);const v=Math.ceil(y/b)+1,w=2**(b-1),C=2**b,I=(0,e.bitMask)(b),k=BigInt(b);return{windows:v,windowSize:w,mask:I,maxNumber:C,shiftBy:k}}function a(b,y,v){const{windowSize:w,mask:C,maxNumber:I,shiftBy:k}=v;let P=Number(b&C),S=b>>k;P>w&&(P-=I,S+=r);const N=y*w,R=N+Math.abs(P)-1,D=P===0,O=P<0,T=y%2!==0;return{nextN:S,offset:R,isZero:D,isNeg:O,isNegF:T,offsetF:N}}function c(b,y){if(!Array.isArray(b))throw new Error("array expected");b.forEach((v,w)=>{if(!(v instanceof y))throw new Error("invalid point at index "+w)})}function l(b,y){if(!Array.isArray(b))throw new Error("array of scalars expected");b.forEach((v,w)=>{if(!y.isValid(v))throw new Error("invalid scalar at index "+w)})}const u=new WeakMap,d=new WeakMap;function h(b){return d.get(b)||1}function p(b,y){return{constTimeNegate:i,hasPrecomputes(v){return h(v)!==1},unsafeLadder(v,w,C=b.ZERO){let I=v;for(;w>n;)w&r&&(C=C.add(I)),I=I.double(),w>>=r;return C},precomputeWindow(v,w){const{windows:C,windowSize:I}=o(w,y),k=[];let P=v,S=P;for(let N=0;N<C;N++){S=P,k.push(S);for(let R=1;R<I;R++)S=S.add(P),k.push(S);P=S.double()}return k},wNAF(v,w,C){let I=b.ZERO,k=b.BASE;const P=o(v,y);for(let S=0;S<P.windows;S++){const{nextN:N,offset:R,isZero:D,isNeg:O,isNegF:T,offsetF:E}=a(C,S,P);C=N,D?k=k.add(i(T,w[E])):I=I.add(i(O,w[R]))}return{p:I,f:k}},wNAFUnsafe(v,w,C,I=b.ZERO){const k=o(v,y);for(let P=0;P<k.windows&&C!==n;P++){const{nextN:S,offset:N,isZero:R,isNeg:D}=a(C,P,k);if(C=S,!R){const O=w[N];I=I.add(D?O.negate():O)}}return I},getPrecomputes(v,w,C){let I=u.get(w);return I||(I=this.precomputeWindow(w,v),v!==1&&u.set(w,C(I))),I},wNAFCached(v,w,C){const I=h(v);return this.wNAF(I,this.getPrecomputes(I,v,C),w)},wNAFCachedUnsafe(v,w,C,I){const k=h(v);return k===1?this.unsafeLadder(v,w,I):this.wNAFUnsafe(k,this.getPrecomputes(k,v,C),w,I)},setWindowSize(v,w){s(w,y),d.set(v,w),u.delete(v)}}}function f(b,y,v,w){c(v,b),l(w,y);const C=v.length,I=w.length;if(C!==I)throw new Error("arrays of points and scalars must have equal length");const k=b.ZERO,P=(0,e.bitLen)(BigInt(C));let S=1;P>12?S=P-3:P>4?S=P-2:P>0&&(S=2);const N=(0,e.bitMask)(S),R=new Array(Number(N)+1).fill(k),D=Math.floor((y.BITS-1)/S)*S;let O=k;for(let T=D;T>=0;T-=S){R.fill(k);for(let _=0;_<I;_++){const x=w[_],M=Number(x>>BigInt(T)&N);R[M]=R[M].add(v[_])}let E=k;for(let _=R.length-1,x=k;_>0;_--)x=x.add(R[_]),E=E.add(x);if(O=O.add(E),T!==0)for(let _=0;_<S;_++)O=O.double()}return O}function g(b,y,v,w){s(w,y.BITS),c(v,b);const C=b.ZERO,I=2**w-1,k=Math.ceil(y.BITS/w),P=(0,e.bitMask)(w),S=v.map(N=>{const R=[];for(let D=0,O=N;D<I;D++)R.push(O),O=O.add(N);return R});return N=>{if(l(N,y),N.length>v.length)throw new Error("array of scalars must be smaller than array of points");let R=C;for(let D=0;D<k;D++){if(R!==C)for(let T=0;T<w;T++)R=R.double();const O=BigInt(k*w-(D+1)*w);for(let T=0;T<N.length;T++){const E=N[T],_=Number(E>>O&P);_&&(R=R.add(S[T][_-1]))}}return R}}function m(b){return(0,t.validateField)(b.Fp),(0,e.validateObject)(b,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(b.n,b.nBitLength),...b,p:b.Fp.ORDER})}return Pm}var zG;function mge(){return zG||(zG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=t.DERErr=void 0,t.weierstrassPoints=p,t.weierstrass=g,t.SWUFpSqrtRatio=m,t.mapToCurveSimpleSWU=b;const e=jft(),n=C8(),r=B4();function i(y){y.lowS!==void 0&&(0,r.abool)("lowS",y.lowS),y.prehash!==void 0&&(0,r.abool)("prehash",y.prehash)}function s(y){const v=(0,e.validateBasic)(y);(0,r.validateObject)(v,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:w,Fp:C,a:I}=v;if(w){if(!C.eql(I,C.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof w!="object"||typeof w.beta!="bigint"||typeof w.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...v})}class o extends Error{constructor(v=""){super(v)}}t.DERErr=o,t.DER={Err:o,_tlv:{encode:(y,v)=>{const{Err:w}=t.DER;if(y<0||y>256)throw new w("tlv.encode: wrong tag");if(v.length&1)throw new w("tlv.encode: unpadded data");const C=v.length/2,I=(0,r.numberToHexUnpadded)(C);if(I.length/2&128)throw new w("tlv.encode: long form length too big");const k=C>127?(0,r.numberToHexUnpadded)(I.length/2|128):"";return(0,r.numberToHexUnpadded)(y)+k+I+v},decode(y,v){const{Err:w}=t.DER;let C=0;if(y<0||y>256)throw new w("tlv.encode: wrong tag");if(v.length<2||v[C++]!==y)throw new w("tlv.decode: wrong tlv");const I=v[C++],k=!!(I&128);let P=0;if(!k)P=I;else{const N=I&127;if(!N)throw new w("tlv.decode(long): indefinite length not supported");if(N>4)throw new w("tlv.decode(long): byte length is too big");const R=v.subarray(C,C+N);if(R.length!==N)throw new w("tlv.decode: length bytes not complete");if(R[0]===0)throw new w("tlv.decode(long): zero leftmost byte");for(const D of R)P=P<<8|D;if(C+=N,P<128)throw new w("tlv.decode(long): not minimal encoding")}const S=v.subarray(C,C+P);if(S.length!==P)throw new w("tlv.decode: wrong value length");return{v:S,l:v.subarray(C+P)}}},_int:{encode(y){const{Err:v}=t.DER;if(y<c)throw new v("integer: negative integers are not allowed");let w=(0,r.numberToHexUnpadded)(y);if(Number.parseInt(w[0],16)&8&&(w="00"+w),w.length&1)throw new v("unexpected DER parsing assertion: unpadded hex");return w},decode(y){const{Err:v}=t.DER;if(y[0]&128)throw new v("invalid signature integer: negative");if(y[0]===0&&!(y[1]&128))throw new v("invalid signature integer: unnecessary leading zero");return(0,r.bytesToNumberBE)(y)}},toSig(y){const{Err:v,_int:w,_tlv:C}=t.DER,I=(0,r.ensureBytes)("signature",y),{v:k,l:P}=C.decode(48,I);if(P.length)throw new v("invalid signature: left bytes after parsing");const{v:S,l:N}=C.decode(2,k),{v:R,l:D}=C.decode(2,N);if(D.length)throw new v("invalid signature: left bytes after parsing");return{r:w.decode(S),s:w.decode(R)}},hexFromSig(y){const{_tlv:v,_int:w}=t.DER,C=v.encode(2,w.encode(y.r)),I=v.encode(2,w.encode(y.s)),k=C+I;return v.encode(48,k)}};function a(y,v){return(0,r.bytesToHex)((0,r.numberToBytesBE)(y,v))}const c=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(3),h=BigInt(4);function p(y){const v=s(y),{Fp:w}=v,C=(0,n.Field)(v.n,v.nBitLength),I=v.toBytes||((B,z,H)=>{const q=z.toAffine();return(0,r.concatBytes)(Uint8Array.from([4]),w.toBytes(q.x),w.toBytes(q.y))}),k=v.fromBytes||(B=>{const z=B.subarray(1),H=w.fromBytes(z.subarray(0,w.BYTES)),q=w.fromBytes(z.subarray(w.BYTES,2*w.BYTES));return{x:H,y:q}});function P(B){const{a:z,b:H}=v,q=w.sqr(B),F=w.mul(q,B);return w.add(w.add(F,w.mul(B,z)),H)}function S(B,z){const H=w.sqr(z),q=P(B);return w.eql(H,q)}if(!S(v.Gx,v.Gy))throw new Error("bad curve params: generator point");const N=w.mul(w.pow(v.a,d),h),R=w.mul(w.sqr(v.b),BigInt(27));if(w.is0(w.add(N,R)))throw new Error("bad curve params: a or b");function D(B){return(0,r.inRange)(B,l,v.n)}function O(B){const{allowedPrivateKeyLengths:z,nByteLength:H,wrapPrivateKey:q,n:F}=v;if(z&&typeof B!="bigint"){if((0,r.isBytes)(B)&&(B=(0,r.bytesToHex)(B)),typeof B!="string"||!z.includes(B.length))throw new Error("invalid private key");B=B.padStart(H*2,"0")}let K;try{K=typeof B=="bigint"?B:(0,r.bytesToNumberBE)((0,r.ensureBytes)("private key",B,H))}catch{throw new Error("invalid private key, expected hex or "+H+" bytes, got "+typeof B)}return q&&(K=(0,n.mod)(K,F)),(0,r.aInRange)("private key",K,l,F),K}function T(B){if(!(B instanceof x))throw new Error("ProjectivePoint expected")}const E=(0,r.memoized)((B,z)=>{const{px:H,py:q,pz:F}=B;if(w.eql(F,w.ONE))return{x:H,y:q};const K=B.is0();z==null&&(z=K?w.ONE:w.inv(F));const ee=w.mul(H,z),se=w.mul(q,z),te=w.mul(F,z);if(K)return{x:w.ZERO,y:w.ZERO};if(!w.eql(te,w.ONE))throw new Error("invZ was invalid");return{x:ee,y:se}}),_=(0,r.memoized)(B=>{if(B.is0()){if(v.allowInfinityPoint&&!w.is0(B.py))return;throw new Error("bad point: ZERO")}const{x:z,y:H}=B.toAffine();if(!w.isValid(z)||!w.isValid(H))throw new Error("bad point: x or y not FE");if(!S(z,H))throw new Error("bad point: equation left != right");if(!B.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(z,H,q){if(z==null||!w.isValid(z))throw new Error("x required");if(H==null||!w.isValid(H)||w.is0(H))throw new Error("y required");if(q==null||!w.isValid(q))throw new Error("z required");this.px=z,this.py=H,this.pz=q,Object.freeze(this)}static fromAffine(z){const{x:H,y:q}=z||{};if(!z||!w.isValid(H)||!w.isValid(q))throw new Error("invalid affine point");if(z instanceof x)throw new Error("projective point not allowed");const F=K=>w.eql(K,w.ZERO);return F(H)&&F(q)?x.ZERO:new x(H,q,w.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(z){const H=(0,n.FpInvertBatch)(w,z.map(q=>q.pz));return z.map((q,F)=>q.toAffine(H[F])).map(x.fromAffine)}static fromHex(z){const H=x.fromAffine(k((0,r.ensureBytes)("pointHex",z)));return H.assertValidity(),H}static fromPrivateKey(z){return x.BASE.multiply(O(z))}static msm(z,H){return(0,e.pippenger)(x,C,z,H)}_setWindowSize(z){U.setWindowSize(this,z)}assertValidity(){_(this)}hasEvenY(){const{y:z}=this.toAffine();if(w.isOdd)return!w.isOdd(z);throw new Error("Field doesn't support isOdd")}equals(z){T(z);const{px:H,py:q,pz:F}=this,{px:K,py:ee,pz:se}=z,te=w.eql(w.mul(H,se),w.mul(K,F)),ue=w.eql(w.mul(q,se),w.mul(ee,F));return te&&ue}negate(){return new x(this.px,w.neg(this.py),this.pz)}double(){const{a:z,b:H}=v,q=w.mul(H,d),{px:F,py:K,pz:ee}=this;let se=w.ZERO,te=w.ZERO,ue=w.ZERO,ge=w.mul(F,F),$e=w.mul(K,K),he=w.mul(ee,ee),me=w.mul(F,K);return me=w.add(me,me),ue=w.mul(F,ee),ue=w.add(ue,ue),se=w.mul(z,ue),te=w.mul(q,he),te=w.add(se,te),se=w.sub($e,te),te=w.add($e,te),te=w.mul(se,te),se=w.mul(me,se),ue=w.mul(q,ue),he=w.mul(z,he),me=w.sub(ge,he),me=w.mul(z,me),me=w.add(me,ue),ue=w.add(ge,ge),ge=w.add(ue,ge),ge=w.add(ge,he),ge=w.mul(ge,me),te=w.add(te,ge),he=w.mul(K,ee),he=w.add(he,he),ge=w.mul(he,me),se=w.sub(se,ge),ue=w.mul(he,$e),ue=w.add(ue,ue),ue=w.add(ue,ue),new x(se,te,ue)}add(z){T(z);const{px:H,py:q,pz:F}=this,{px:K,py:ee,pz:se}=z;let te=w.ZERO,ue=w.ZERO,ge=w.ZERO;const $e=v.a,he=w.mul(v.b,d);let me=w.mul(H,K),Me=w.mul(q,ee),Ct=w.mul(F,se),_t=w.add(H,q),Tt=w.add(K,ee);_t=w.mul(_t,Tt),Tt=w.add(me,Me),_t=w.sub(_t,Tt),Tt=w.add(H,F);let Cn=w.add(K,se);return Tt=w.mul(Tt,Cn),Cn=w.add(me,Ct),Tt=w.sub(Tt,Cn),Cn=w.add(q,F),te=w.add(ee,se),Cn=w.mul(Cn,te),te=w.add(Me,Ct),Cn=w.sub(Cn,te),ge=w.mul($e,Tt),te=w.mul(he,Ct),ge=w.add(te,ge),te=w.sub(Me,ge),ge=w.add(Me,ge),ue=w.mul(te,ge),Me=w.add(me,me),Me=w.add(Me,me),Ct=w.mul($e,Ct),Tt=w.mul(he,Tt),Me=w.add(Me,Ct),Ct=w.sub(me,Ct),Ct=w.mul($e,Ct),Tt=w.add(Tt,Ct),me=w.mul(Me,Tt),ue=w.add(ue,me),me=w.mul(Cn,Tt),te=w.mul(_t,te),te=w.sub(te,me),me=w.mul(_t,Me),ge=w.mul(Cn,ge),ge=w.add(ge,me),new x(te,ue,ge)}subtract(z){return this.add(z.negate())}is0(){return this.equals(x.ZERO)}wNAF(z){return U.wNAFCached(this,z,x.normalizeZ)}multiplyUnsafe(z){const{endo:H,n:q}=v;(0,r.aInRange)("scalar",z,c,q);const F=x.ZERO;if(z===c)return F;if(this.is0()||z===l)return this;if(!H||U.hasPrecomputes(this))return U.wNAFCachedUnsafe(this,z,x.normalizeZ);let{k1neg:K,k1:ee,k2neg:se,k2:te}=H.splitScalar(z),ue=F,ge=F,$e=this;for(;ee>c||te>c;)ee&l&&(ue=ue.add($e)),te&l&&(ge=ge.add($e)),$e=$e.double(),ee>>=l,te>>=l;return K&&(ue=ue.negate()),se&&(ge=ge.negate()),ge=new x(w.mul(ge.px,H.beta),ge.py,ge.pz),ue.add(ge)}multiply(z){const{endo:H,n:q}=v;(0,r.aInRange)("scalar",z,l,q);let F,K;if(H){const{k1neg:ee,k1:se,k2neg:te,k2:ue}=H.splitScalar(z);let{p:ge,f:$e}=this.wNAF(se),{p:he,f:me}=this.wNAF(ue);ge=U.constTimeNegate(ee,ge),he=U.constTimeNegate(te,he),he=new x(w.mul(he.px,H.beta),he.py,he.pz),F=ge.add(he),K=$e.add(me)}else{const{p:ee,f:se}=this.wNAF(z);F=ee,K=se}return x.normalizeZ([F,K])[0]}multiplyAndAddUnsafe(z,H,q){const F=x.BASE,K=(se,te)=>te===c||te===l||!se.equals(F)?se.multiplyUnsafe(te):se.multiply(te),ee=K(this,H).add(K(z,q));return ee.is0()?void 0:ee}toAffine(z){return E(this,z)}isTorsionFree(){const{h:z,isTorsionFree:H}=v;if(z===l)return!0;if(H)return H(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:z,clearCofactor:H}=v;return z===l?this:H?H(x,this):this.multiplyUnsafe(v.h)}toRawBytes(z=!0){return(0,r.abool)("isCompressed",z),this.assertValidity(),I(x,this,z)}toHex(z=!0){return(0,r.abool)("isCompressed",z),(0,r.bytesToHex)(this.toRawBytes(z))}}x.BASE=new x(v.Gx,v.Gy,w.ONE),x.ZERO=new x(w.ZERO,w.ONE,w.ZERO);const{endo:M,nBitLength:A}=v,U=(0,e.wNAF)(x,M?Math.ceil(A/2):A);return{CURVE:v,ProjectivePoint:x,normPrivateKeyToScalar:O,weierstrassEquation:P,isWithinCurveOrder:D}}function f(y){const v=(0,e.validateBasic)(y);return(0,r.validateObject)(v,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...v})}function g(y){const v=f(y),{Fp:w,n:C,nByteLength:I,nBitLength:k}=v,P=w.BYTES+1,S=2*w.BYTES+1;function N(he){return(0,n.mod)(he,C)}function R(he){return(0,n.invert)(he,C)}const{ProjectivePoint:D,normPrivateKeyToScalar:O,weierstrassEquation:T,isWithinCurveOrder:E}=p({...v,toBytes(he,me,Me){const Ct=me.toAffine(),_t=w.toBytes(Ct.x),Tt=r.concatBytes;return(0,r.abool)("isCompressed",Me),Me?Tt(Uint8Array.from([me.hasEvenY()?2:3]),_t):Tt(Uint8Array.from([4]),_t,w.toBytes(Ct.y))},fromBytes(he){const me=he.length,Me=he[0],Ct=he.subarray(1);if(me===P&&(Me===2||Me===3)){const _t=(0,r.bytesToNumberBE)(Ct);if(!(0,r.inRange)(_t,l,w.ORDER))throw new Error("Point is not on curve");const Tt=T(_t);let Cn;try{Cn=w.sqrt(Tt)}catch(to){const Bi=to instanceof Error?": "+to.message:"";throw new Error("Point is not on curve"+Bi)}const xi=(Cn&l)===l;return(Me&1)===1!==xi&&(Cn=w.neg(Cn)),{x:_t,y:Cn}}else if(me===S&&Me===4){const _t=w.fromBytes(Ct.subarray(0,w.BYTES)),Tt=w.fromBytes(Ct.subarray(w.BYTES,2*w.BYTES));return{x:_t,y:Tt}}else{const _t=P,Tt=S;throw new Error("invalid Point, expected length of "+_t+", or uncompressed "+Tt+", got "+me)}}});function _(he){const me=C>>l;return he>me}function x(he){return _(he)?N(-he):he}const M=(he,me,Me)=>(0,r.bytesToNumberBE)(he.slice(me,Me));class A{constructor(me,Me,Ct){(0,r.aInRange)("r",me,l,C),(0,r.aInRange)("s",Me,l,C),this.r=me,this.s=Me,Ct!=null&&(this.recovery=Ct),Object.freeze(this)}static fromCompact(me){const Me=I;return me=(0,r.ensureBytes)("compactSignature",me,Me*2),new A(M(me,0,Me),M(me,Me,2*Me))}static fromDER(me){const{r:Me,s:Ct}=t.DER.toSig((0,r.ensureBytes)("DER",me));return new A(Me,Ct)}assertValidity(){}addRecoveryBit(me){return new A(this.r,this.s,me)}recoverPublicKey(me){const{r:Me,s:Ct,recovery:_t}=this,Tt=F((0,r.ensureBytes)("msgHash",me));if(_t==null||![0,1,2,3].includes(_t))throw new Error("recovery id invalid");const Cn=_t===2||_t===3?Me+v.n:Me;if(Cn>=w.ORDER)throw new Error("recovery id 2 or 3 invalid");const xi=(_t&1)===0?"02":"03",Ao=D.fromHex(xi+a(Cn,w.BYTES)),to=R(Cn),Bi=N(-Tt*to),Rl=N(Ct*to),Ee=D.BASE.multiplyAndAddUnsafe(Ao,Bi,Rl);if(!Ee)throw new Error("point at infinify");return Ee.assertValidity(),Ee}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,N(-this.s),this.recovery):this}toDERRawBytes(){return(0,r.hexToBytes)(this.toDERHex())}toDERHex(){return t.DER.hexFromSig(this)}toCompactRawBytes(){return(0,r.hexToBytes)(this.toCompactHex())}toCompactHex(){const me=I;return a(this.r,me)+a(this.s,me)}}const U={isValidPrivateKey(he){try{return O(he),!0}catch{return!1}},normPrivateKeyToScalar:O,randomPrivateKey:()=>{const he=(0,n.getMinHashLength)(v.n);return(0,n.mapHashToField)(v.randomBytes(he),v.n)},precompute(he=8,me=D.BASE){return me._setWindowSize(he),me.multiply(BigInt(3)),me}};function B(he,me=!0){return D.fromPrivateKey(he).toRawBytes(me)}function z(he){if(typeof he=="bigint")return!1;if(he instanceof D)return!0;const Me=(0,r.ensureBytes)("key",he).length,Ct=w.BYTES,_t=Ct+1,Tt=2*Ct+1;if(!(v.allowedPrivateKeyLengths||I===_t))return Me===_t||Me===Tt}function H(he,me,Me=!0){if(z(he)===!0)throw new Error("first arg must be private key");if(z(me)===!1)throw new Error("second arg must be public key");return D.fromHex(me).multiply(O(he)).toRawBytes(Me)}const q=v.bits2int||function(he){if(he.length>8192)throw new Error("input is too large");const me=(0,r.bytesToNumberBE)(he),Me=he.length*8-k;return Me>0?me>>BigInt(Me):me},F=v.bits2int_modN||function(he){return N(q(he))},K=(0,r.bitMask)(k);function ee(he){return(0,r.aInRange)("num < 2^"+k,he,c,K),(0,r.numberToBytesBE)(he,I)}function se(he,me,Me=te){if(["recovered","canonical"].some(ot=>ot in Me))throw new Error("sign() legacy options not supported");const{hash:Ct,randomBytes:_t}=v;let{lowS:Tt,prehash:Cn,extraEntropy:xi}=Me;Tt==null&&(Tt=!0),he=(0,r.ensureBytes)("msgHash",he),i(Me),Cn&&(he=(0,r.ensureBytes)("prehashed msgHash",Ct(he)));const Ao=F(he),to=O(me),Bi=[ee(to),ee(Ao)];if(xi!=null&&xi!==!1){const ot=xi===!0?_t(w.BYTES):xi;Bi.push((0,r.ensureBytes)("extraEntropy",ot))}const Rl=(0,r.concatBytes)(...Bi),Ee=Ao;function je(ot){const Ut=q(ot);if(!E(Ut))return;const Qi=R(Ut),Dl=D.BASE.multiply(Ut).toAffine(),wm=N(Dl.x);if(wm===c)return;const D2=N(Qi*N(Ee+wm*to));if(D2===c)return;let zy=(Dl.x===wm?0:2)|Number(Dl.y&l),mz=D2;return Tt&&_(D2)&&(mz=x(D2),zy^=1),new A(wm,mz,zy)}return{seed:Rl,k2sig:je}}const te={lowS:v.lowS,prehash:!1},ue={lowS:v.lowS,prehash:!1};function ge(he,me,Me=te){const{seed:Ct,k2sig:_t}=se(he,me,Me),Tt=v;return(0,r.createHmacDrbg)(Tt.hash.outputLen,Tt.nByteLength,Tt.hmac)(Ct,_t)}D.BASE._setWindowSize(8);function $e(he,me,Me,Ct=ue){const _t=he;me=(0,r.ensureBytes)("msgHash",me),Me=(0,r.ensureBytes)("publicKey",Me);const{lowS:Tt,prehash:Cn,format:xi}=Ct;if(i(Ct),"strict"in Ct)throw new Error("options.strict was renamed to lowS");if(xi!==void 0&&xi!=="compact"&&xi!=="der")throw new Error("format must be compact or der");const Ao=typeof _t=="string"||(0,r.isBytes)(_t),to=!Ao&&!xi&&typeof _t=="object"&&_t!==null&&typeof _t.r=="bigint"&&typeof _t.s=="bigint";if(!Ao&&!to)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Bi,Rl;try{if(to&&(Bi=new A(_t.r,_t.s)),Ao){try{xi!=="compact"&&(Bi=A.fromDER(_t))}catch(zy){if(!(zy instanceof t.DER.Err))throw zy}!Bi&&xi!=="der"&&(Bi=A.fromCompact(_t))}Rl=D.fromHex(Me)}catch{return!1}if(!Bi||Tt&&Bi.hasHighS())return!1;Cn&&(me=v.hash(me));const{r:Ee,s:je}=Bi,ot=F(me),Ut=R(je),Qi=N(ot*Ut),Dl=N(Ee*Ut),wm=D.BASE.multiplyAndAddUnsafe(Rl,Qi,Dl)?.toAffine();return wm?N(wm.x)===Ee:!1}return{CURVE:v,getPublicKey:B,getSharedSecret:H,sign:ge,verify:$e,ProjectivePoint:D,Signature:A,utils:U}}function m(y,v){const w=y.ORDER;let C=c;for(let _=w-l;_%u===c;_/=u)C+=l;const I=C,k=u<<I-l-l,P=k*u,S=(w-l)/P,N=(S-l)/u,R=P-l,D=k,O=y.pow(v,S),T=y.pow(v,(S+l)/u);let E=(_,x)=>{let M=O,A=y.pow(x,R),U=y.sqr(A);U=y.mul(U,x);let B=y.mul(_,U);B=y.pow(B,N),B=y.mul(B,A),A=y.mul(B,x),U=y.mul(B,_);let z=y.mul(U,A);B=y.pow(z,D);let H=y.eql(B,y.ONE);A=y.mul(U,T),B=y.mul(z,M),U=y.cmov(A,U,H),z=y.cmov(B,z,H);for(let q=I;q>l;q--){let F=q-u;F=u<<F-l;let K=y.pow(z,F);const ee=y.eql(K,y.ONE);A=y.mul(U,M),M=y.mul(M,M),K=y.mul(z,M),U=y.cmov(A,U,ee),z=y.cmov(K,z,ee)}return{isValid:H,value:U}};if(y.ORDER%h===d){const _=(y.ORDER-d)/h,x=y.sqrt(y.neg(v));E=(M,A)=>{let U=y.sqr(A);const B=y.mul(M,A);U=y.mul(U,B);let z=y.pow(U,_);z=y.mul(z,B);const H=y.mul(z,x),q=y.mul(y.sqr(z),A),F=y.eql(q,M);let K=y.cmov(H,z,F);return{isValid:F,value:K}}}return E}function b(y,v){if((0,n.validateField)(y),!y.isValid(v.A)||!y.isValid(v.B)||!y.isValid(v.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const w=m(y,v.Z);if(!y.isOdd)throw new Error("Fp.isOdd is not implemented!");return C=>{let I,k,P,S,N,R,D,O;I=y.sqr(C),I=y.mul(I,v.Z),k=y.sqr(I),k=y.add(k,I),P=y.add(k,y.ONE),P=y.mul(P,v.B),S=y.cmov(v.Z,y.neg(k),!y.eql(k,y.ZERO)),S=y.mul(S,v.A),k=y.sqr(P),R=y.sqr(S),N=y.mul(R,v.A),k=y.add(k,N),k=y.mul(k,P),R=y.mul(R,S),N=y.mul(R,v.B),k=y.add(k,N),D=y.mul(I,P);const{isValid:T,value:E}=w(k,R);O=y.mul(I,C),O=y.mul(O,E),D=y.cmov(D,P,T),O=y.cmov(O,E,T);const _=y.isOdd(C)===y.isOdd(O);O=y.cmov(y.neg(O),O,_);const x=(0,n.FpInvertBatch)(y,[S],!0)[0];return D=y.mul(D,x),{x:D,y:O}}}})(XN)),XN}var WG;function Bft(){if(WG)return A3;WG=1,Object.defineProperty(A3,"__esModule",{value:!0}),A3.getHash=r,A3.createCurve=i;const t=Lft(),e=dm(),n=mge();function r(s){return{hash:s,hmac:(o,...a)=>(0,t.hmac)(s,o,(0,e.concatBytes)(...a)),randomBytes:e.randomBytes}}function i(s,o){const a=c=>(0,n.weierstrass)({...s,...r(c)});return{...a(o),create:a}}return A3}var yf={},qG;function zft(){if(qG)return yf;qG=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.expand_message_xmd=o,yf.expand_message_xof=a,yf.hash_to_field=c,yf.isogenyMap=l,yf.createHasher=u;const t=C8(),e=B4(),n=e.bytesToNumberBE;function r(d,h){if(s(d),s(h),d<0||d>=1<<8*h)throw new Error("invalid I2OSP input: "+d);const p=Array.from({length:h}).fill(0);for(let f=h-1;f>=0;f--)p[f]=d&255,d>>>=8;return new Uint8Array(p)}function i(d,h){const p=new Uint8Array(d.length);for(let f=0;f<d.length;f++)p[f]=d[f]^h[f];return p}function s(d){if(!Number.isSafeInteger(d))throw new Error("number expected")}function o(d,h,p,f){(0,e.abytes)(d),(0,e.abytes)(h),s(p),h.length>255&&(h=f((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),h)));const{outputLen:g,blockLen:m}=f,b=Math.ceil(p/g);if(p>65535||b>255)throw new Error("expand_message_xmd: invalid lenInBytes");const y=(0,e.concatBytes)(h,r(h.length,1)),v=r(0,m),w=r(p,2),C=new Array(b),I=f((0,e.concatBytes)(v,d,w,r(0,1),y));C[0]=f((0,e.concatBytes)(I,r(1,1),y));for(let P=1;P<=b;P++){const S=[i(I,C[P-1]),r(P+1,1),y];C[P]=f((0,e.concatBytes)(...S))}return(0,e.concatBytes)(...C).slice(0,p)}function a(d,h,p,f,g){if((0,e.abytes)(d),(0,e.abytes)(h),s(p),h.length>255){const m=Math.ceil(2*f/8);h=g.create({dkLen:m}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(h).digest()}if(p>65535||h.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return g.create({dkLen:p}).update(d).update(r(p,2)).update(h).update(r(h.length,1)).digest()}function c(d,h,p){(0,e.validateObject)(p,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:f,k:g,m,hash:b,expand:y,DST:v}=p;(0,e.abytes)(d),s(h);const w=typeof v=="string"?(0,e.utf8ToBytes)(v):v,C=f.toString(2).length,I=Math.ceil((C+g)/8),k=h*m*I;let P;if(y==="xmd")P=o(d,w,k,b);else if(y==="xof")P=a(d,w,k,g,b);else if(y==="_internal_pass")P=d;else throw new Error('expand must be "xmd" or "xof"');const S=new Array(h);for(let N=0;N<h;N++){const R=new Array(m);for(let D=0;D<m;D++){const O=I*(D+N*m),T=P.subarray(O,O+I);R[D]=(0,t.mod)(n(T),f)}S[N]=R}return S}function l(d,h){const p=h.map(f=>Array.from(f).reverse());return(f,g)=>{const[m,b,y,v]=p.map(I=>I.reduce((k,P)=>d.add(d.mul(k,f),P))),[w,C]=(0,t.FpInvertBatch)(d,[b,v],!0);return f=d.mul(m,w),g=d.mul(g,d.mul(y,C)),{x:f,y:g}}}function u(d,h,p){if(typeof h!="function")throw new Error("mapToCurve() must be defined");function f(m){return d.fromAffine(h(m))}function g(m){const b=m.clearCofactor();return b.equals(d.ZERO)?d.ZERO:(b.assertValidity(),b)}return{defaults:p,hashToCurve(m,b){const y=c(m,2,{...p,DST:p.DST,...b}),v=f(y[0]),w=f(y[1]);return g(v.add(w))},encodeToCurve(m,b){const y=c(m,1,{...p,DST:p.encodeDST,...b});return g(f(y[0]))},mapToCurve(m){if(!Array.isArray(m))throw new Error("expected array of bigints");for(const b of m)if(typeof b!="bigint")throw new Error("expected array of bigints");return g(f(m))}}}return yf}var FG;function QLt(){return FG||(FG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.secp256k1_hasher=t.schnorr=t.secp256k1=void 0;const e=gge(),n=dm(),r=Bft(),i=zft(),s=C8(),o=B4(),a=mge(),c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(0),d=BigInt(1),h=BigInt(2),p=(x,M)=>(x+M/h)/M;function f(x){const M=c,A=BigInt(3),U=BigInt(6),B=BigInt(11),z=BigInt(22),H=BigInt(23),q=BigInt(44),F=BigInt(88),K=x*x*x%M,ee=K*K*x%M,se=(0,s.pow2)(ee,A,M)*ee%M,te=(0,s.pow2)(se,A,M)*ee%M,ue=(0,s.pow2)(te,h,M)*K%M,ge=(0,s.pow2)(ue,B,M)*ue%M,$e=(0,s.pow2)(ge,z,M)*ge%M,he=(0,s.pow2)($e,q,M)*$e%M,me=(0,s.pow2)(he,F,M)*he%M,Me=(0,s.pow2)(me,q,M)*$e%M,Ct=(0,s.pow2)(Me,A,M)*ee%M,_t=(0,s.pow2)(Ct,H,M)*ge%M,Tt=(0,s.pow2)(_t,U,M)*K%M,Cn=(0,s.pow2)(Tt,h,M);if(!g.eql(g.sqr(Cn),x))throw new Error("Cannot find square root");return Cn}const g=(0,s.Field)(c,void 0,void 0,{sqrt:f});t.secp256k1=(0,r.createCurve)({a:u,b:BigInt(7),Fp:g,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const M=l,A=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),U=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),B=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),z=A,H=BigInt("0x100000000000000000000000000000000"),q=p(z*x,M),F=p(-U*x,M);let K=(0,s.mod)(x-q*A-F*B,M),ee=(0,s.mod)(-q*U-F*z,M);const se=K>H,te=ee>H;if(se&&(K=M-K),te&&(ee=M-ee),K>H||ee>H)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:se,k1:K,k2neg:te,k2:ee}}}},e.sha256);const m={};function b(x,...M){let A=m[x];if(A===void 0){const U=(0,e.sha256)(Uint8Array.from(x,B=>B.charCodeAt(0)));A=(0,o.concatBytes)(U,U),m[x]=A}return(0,e.sha256)((0,o.concatBytes)(A,...M))}const y=x=>x.toRawBytes(!0).slice(1),v=x=>(0,o.numberToBytesBE)(x,32),w=x=>(0,s.mod)(x,c),C=x=>(0,s.mod)(x,l),I=t.secp256k1.ProjectivePoint,k=(x,M,A)=>I.BASE.multiplyAndAddUnsafe(x,M,A);function P(x){let M=t.secp256k1.utils.normPrivateKeyToScalar(x),A=I.fromPrivateKey(M);return{scalar:A.hasEvenY()?M:C(-M),bytes:y(A)}}function S(x){(0,o.aInRange)("x",x,d,c);const M=w(x*x),A=w(M*x+BigInt(7));let U=f(A);U%h!==u&&(U=w(-U));const B=new I(x,U,d);return B.assertValidity(),B}const N=o.bytesToNumberBE;function R(...x){return C(N(b("BIP0340/challenge",...x)))}function D(x){return P(x).bytes}function O(x,M,A=(0,n.randomBytes)(32)){const U=(0,o.ensureBytes)("message",x),{bytes:B,scalar:z}=P(M),H=(0,o.ensureBytes)("auxRand",A,32),q=v(z^N(b("BIP0340/aux",H))),F=b("BIP0340/nonce",q,B,U),K=C(N(F));if(K===u)throw new Error("sign failed: k is zero");const{bytes:ee,scalar:se}=P(K),te=R(ee,B,U),ue=new Uint8Array(64);if(ue.set(ee,0),ue.set(v(C(se+te*z)),32),!T(ue,U,B))throw new Error("sign: Invalid signature produced");return ue}function T(x,M,A){const U=(0,o.ensureBytes)("signature",x,64),B=(0,o.ensureBytes)("message",M),z=(0,o.ensureBytes)("publicKey",A,32);try{const H=S(N(z)),q=N(U.subarray(0,32));if(!(0,o.inRange)(q,d,c))return!1;const F=N(U.subarray(32,64));if(!(0,o.inRange)(F,d,l))return!1;const K=R(v(q),y(H),B),ee=k(H,F,C(-K));return!(!ee||!ee.hasEvenY()||ee.toAffine().x!==q)}catch{return!1}}t.schnorr={getPublicKey:D,sign:O,verify:T,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:S,pointToBytes:y,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:b,mod:s.mod}};const E=(0,i.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(x=>x.map(M=>BigInt(M)))),_=(0,a.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))});t.secp256k1_hasher=(0,i.createHasher)(t.secp256k1.ProjectivePoint,x=>{const{x:M,y:A}=_(g.create(x[0]));return E(M,A)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}),t.hashToCurve=t.secp256k1_hasher.hashToCurve,t.encodeToCurve=t.secp256k1_hasher.encodeToCurve})(YN)),YN}var Wl={},HG;function ejt(){if(HG)return Wl;HG=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.sha224=Wl.SHA224=Wl.sha256=Wl.SHA256=void 0;const t=gge();return Wl.SHA256=t.SHA256,Wl.sha256=t.sha256,Wl.SHA224=t.SHA224,Wl.sha224=t.sha224,Wl}var Rm={},To={},VG;function Wft(){if(VG)return To;VG=1,Object.defineProperty(To,"__esModule",{value:!0}),To.ripemd160=To.RIPEMD160=To.md5=To.MD5=To.sha1=To.SHA1=void 0;const t=fge(),e=dm(),n=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),r=new Uint32Array(80);class i extends t.HashMD{constructor(){super(64,20,8,!1),this.A=n[0]|0,this.B=n[1]|0,this.C=n[2]|0,this.D=n[3]|0,this.E=n[4]|0}get(){const{A:S,B:N,C:R,D,E:O}=this;return[S,N,R,D,O]}set(S,N,R,D,O){this.A=S|0,this.B=N|0,this.C=R|0,this.D=D|0,this.E=O|0}process(S,N){for(let _=0;_<16;_++,N+=4)r[_]=S.getUint32(N,!1);for(let _=16;_<80;_++)r[_]=(0,e.rotl)(r[_-3]^r[_-8]^r[_-14]^r[_-16],1);let{A:R,B:D,C:O,D:T,E}=this;for(let _=0;_<80;_++){let x,M;_<20?(x=(0,t.Chi)(D,O,T),M=1518500249):_<40?(x=D^O^T,M=1859775393):_<60?(x=(0,t.Maj)(D,O,T),M=2400959708):(x=D^O^T,M=3395469782);const A=(0,e.rotl)(R,5)+x+E+M+r[_]|0;E=T,T=O,O=(0,e.rotl)(D,30),D=R,R=A}R=R+this.A|0,D=D+this.B|0,O=O+this.C|0,T=T+this.D|0,E=E+this.E|0,this.set(R,D,O,T,E)}roundClean(){(0,e.clean)(r)}destroy(){this.set(0,0,0,0,0),(0,e.clean)(this.buffer)}}To.SHA1=i,To.sha1=(0,e.createHasher)(()=>new i);const s=Math.pow(2,32),o=Array.from({length:64},(P,S)=>Math.floor(s*Math.abs(Math.sin(S+1)))),a=n.slice(0,4),c=new Uint32Array(16);class l extends t.HashMD{constructor(){super(64,16,8,!0),this.A=a[0]|0,this.B=a[1]|0,this.C=a[2]|0,this.D=a[3]|0}get(){const{A:S,B:N,C:R,D}=this;return[S,N,R,D]}set(S,N,R,D){this.A=S|0,this.B=N|0,this.C=R|0,this.D=D|0}process(S,N){for(let E=0;E<16;E++,N+=4)c[E]=S.getUint32(N,!0);let{A:R,B:D,C:O,D:T}=this;for(let E=0;E<64;E++){let _,x,M;E<16?(_=(0,t.Chi)(D,O,T),x=E,M=[7,12,17,22]):E<32?(_=(0,t.Chi)(T,D,O),x=(5*E+1)%16,M=[5,9,14,20]):E<48?(_=D^O^T,x=(3*E+5)%16,M=[4,11,16,23]):(_=O^(D|~T),x=7*E%16,M=[6,10,15,21]),_=_+R+o[E]+c[x],R=T,T=O,O=D,D=D+(0,e.rotl)(_,M[E%4])}R=R+this.A|0,D=D+this.B|0,O=O+this.C|0,T=T+this.D|0,this.set(R,D,O,T)}roundClean(){(0,e.clean)(c)}destroy(){this.set(0,0,0,0),(0,e.clean)(this.buffer)}}To.MD5=l,To.md5=(0,e.createHasher)(()=>new l);const u=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),d=Uint8Array.from(new Array(16).fill(0).map((P,S)=>S)),h=d.map(P=>(9*P+5)%16),p=(()=>{const N=[[d],[h]];for(let R=0;R<4;R++)for(let D of N)D.push(D[R].map(O=>u[O]));return N})(),f=p[0],g=p[1],m=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(P=>Uint8Array.from(P)),b=f.map((P,S)=>P.map(N=>m[S][N])),y=g.map((P,S)=>P.map(N=>m[S][N])),v=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),w=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function C(P,S,N,R){return P===0?S^N^R:P===1?S&N|~S&R:P===2?(S|~N)^R:P===3?S&R|N&~R:S^(N|~R)}const I=new Uint32Array(16);class k extends t.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:S,h1:N,h2:R,h3:D,h4:O}=this;return[S,N,R,D,O]}set(S,N,R,D,O){this.h0=S|0,this.h1=N|0,this.h2=R|0,this.h3=D|0,this.h4=O|0}process(S,N){for(let B=0;B<16;B++,N+=4)I[B]=S.getUint32(N,!0);let R=this.h0|0,D=R,O=this.h1|0,T=O,E=this.h2|0,_=E,x=this.h3|0,M=x,A=this.h4|0,U=A;for(let B=0;B<5;B++){const z=4-B,H=v[B],q=w[B],F=f[B],K=g[B],ee=b[B],se=y[B];for(let te=0;te<16;te++){const ue=(0,e.rotl)(R+C(B,O,E,x)+I[F[te]]+H,ee[te])+A|0;R=A,A=x,x=(0,e.rotl)(E,10)|0,E=O,O=ue}for(let te=0;te<16;te++){const ue=(0,e.rotl)(D+C(z,T,_,M)+I[K[te]]+q,se[te])+U|0;D=U,U=M,M=(0,e.rotl)(_,10)|0,_=T,T=ue}}this.set(this.h1+E+M|0,this.h2+x+U|0,this.h3+A+D|0,this.h4+R+T|0,this.h0+O+_|0)}roundClean(){(0,e.clean)(I)}destroy(){this.destroyed=!0,(0,e.clean)(this.buffer),this.set(0,0,0,0,0)}}return To.RIPEMD160=k,To.ripemd160=(0,e.createHasher)(()=>new k),To}var KG;function tjt(){if(KG)return Rm;KG=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.ripemd160=Rm.RIPEMD160=void 0;const t=Wft();return Rm.RIPEMD160=t.RIPEMD160,Rm.ripemd160=t.ripemd160,Rm}var Dm={},ZG;function qft(){if(ZG)return Dm;ZG=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.MAGIC_VALUE_BYTES=Dm.MAGIC_VALUE=void 0;const t="0x1626ba7e";Dm.MAGIC_VALUE=t;const e="0x20c13b0b";return Dm.MAGIC_VALUE_BYTES=e,Dm}var $I={},k3={},Um={},GG;function wge(){if(GG)return Um;GG=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.PermissionsError=Um.PERMISSIONS_REQUEST_REJECTED=void 0,Um.PERMISSIONS_REQUEST_REJECTED=4001;class t extends Error{constructor(n,r,i){super(n),this.code=r,this.data=i,Object.setPrototypeOf(this,t.prototype)}}return Um.PermissionsError=t,Um}var YG;function yge(){if(YG)return k3;YG=1,Object.defineProperty(k3,"__esModule",{value:!0}),k3.Wallet=void 0;const t=Py(),e=wge();class n{constructor(i){this.communicator=i}async getPermissions(){return(await this.communicator.send(t.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(i){if(!this.isPermissionRequestValid(i))throw new e.PermissionsError("Permissions request is invalid",e.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(t.Methods.wallet_requestPermissions,i)).data}catch{throw new e.PermissionsError("Permissions rejected",e.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(i){return i.every(s=>typeof s=="object"?Object.keys(s).every(o=>!!Object.values(t.RestrictedMethods).includes(o)):!1)}}return k3.Wallet=n,k3}var JG;function Fft(){if(JG)return $I;JG=1,Object.defineProperty($I,"__esModule",{value:!0});const t=yge(),e=wge(),n=(i,s)=>s.some(o=>o.parentCapability===i),r=()=>(i,s,o)=>{const a=o.value;return o.value=async function(){const c=new t.Wallet(this.communicator);let l=await c.getPermissions();if(n(s,l)||(l=await c.requestPermissions([{[s]:{}}])),!n(s,l))throw new e.PermissionsError("Permissions rejected",e.PERMISSIONS_REQUEST_REJECTED);return a.apply(this)},o};return $I.default=r,$I}var XG;function Hft(){if(XG)return bh;XG=1;var t=bh&&bh.__decorate||function(l,u,d,h){var p=arguments.length,f=p<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,d):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,u,d,h);else for(var m=l.length-1;m>=0;m--)(g=l[m])&&(f=(p<3?g(f):p>3?g(u,d,f):g(u,d))||f);return p>3&&f&&Object.defineProperty(u,d,f),f},e=bh&&bh.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(bh,"__esModule",{value:!0}),bh.Safe=void 0;const n=Rye(),r=qft(),i=Py(),s=AB(),o=xB(),a=e(Fft());class c{constructor(u){this.communicator=u}async getChainInfo(){return(await this.communicator.send(i.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(i.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:u="usd"}={}){return(await this.communicator.send(i.Methods.getSafeBalances,{currency:u})).data}async check1271Signature(u,d="0x"){const h=await this.getInfo(),p=(0,n.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[u,d]}),f={call:s.RPC_CALLS.eth_call,params:[{to:h.safeAddress,data:p},"latest"]};try{return(await this.communicator.send(i.Methods.rpcCall,f)).data.slice(0,10).toLowerCase()===r.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(u,d="0x"){const h=await this.getInfo(),p=(0,n.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[u,d]}),f={call:s.RPC_CALLS.eth_call,params:[{to:h.safeAddress,data:p},"latest"]};try{return(await this.communicator.send(i.Methods.rpcCall,f)).data.slice(0,10).toLowerCase()===r.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(u){return(0,n.hashMessage)(u)}calculateTypedMessageHash(u){const d=typeof u.domain.chainId=="object"?u.domain.chainId.toNumber():Number(u.domain.chainId);let h=u.primaryType;if(!h){const p=Object.values(u.types),f=Object.keys(u.types).filter(g=>p.every(m=>m.every(({type:b})=>b.replace("[","").replace("]","")!==g)));if(f.length===0||f.length>1)throw new Error("Please specify primaryType");h=f[0]}return(0,n.hashTypedData)({message:u.message,domain:{...u.domain,chainId:d,verifyingContract:u.domain.verifyingContract,salt:u.domain.salt},types:u.types,primaryType:h})}async getOffChainSignature(u){return(await this.communicator.send(i.Methods.getOffChainSignature,u)).data}async isMessageSigned(u,d="0x"){let h;if(typeof u=="string"&&(h=async()=>{const p=this.calculateMessageHash(u);return await this.isMessageHashSigned(p,d)}),(0,o.isObjectEIP712TypedData)(u)&&(h=async()=>{const p=this.calculateTypedMessageHash(u);return await this.isMessageHashSigned(p,d)}),h)return await h();throw new Error("Invalid message type")}async isMessageHashSigned(u,d="0x"){const h=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const p of h)if(await p(u,d))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(i.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(i.Methods.requestAddressBook,void 0)).data}}return bh.Safe=c,t([(0,a.default)()],c.prototype,"requestAddressBook",null),bh}var QG;function eY(){if(QG)return sb;QG=1;var t=sb&&sb.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sb,"__esModule",{value:!0});const e=t(Tft()),n=Dft(),r=Uft(),i=Hft(),s=yge();class o{constructor(c={}){const{allowedDomains:l=null,debug:u=!1}=c;this.communicator=new e.default(l,u),this.eth=new r.Eth(this.communicator),this.txs=new n.TXs(this.communicator),this.safe=new i.Safe(this.communicator),this.wallet=new s.Wallet(this.communicator)}}return sb.default=o,sb}var tY;function Vft(){return tY||(tY=1,(function(t){var e=yh&&yh.__createBinding||(Object.create?(function(o,a,c,l){l===void 0&&(l=c);var u=Object.getOwnPropertyDescriptor(a,c);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,l,u)}):(function(o,a,c,l){l===void 0&&(l=c),o[l]=a[c]})),n=yh&&yh.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,o,c)},r=yh&&yh.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const i=r(eY());t.default=i.default,n(eY(),t),n(xB(),t),n(Py(),t),n(hge(),t);var s=dge();Object.defineProperty(t,"getSDKVersion",{enumerable:!0,get:function(){return s.getSDKVersion}}),n(AB(),t)})(yh)),yh}var Mm={},nY;function Kft(){if(nY)return Mm;nY=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.numberToHex=Mm.getLowerCase=void 0;function t(n){return n&&n.toLowerCase()}Mm.getLowerCase=t;function e(n){return`0x${n.toString(16)}`}return Mm.numberToHex=e,Mm}var rY;function Zft(){if(rY)return y3;rY=1,Object.defineProperty(y3,"__esModule",{value:!0}),y3.SafeAppProvider=void 0;const t=Vft(),e=Kte(),n=Kft();class r extends e.EventEmitter{constructor(s,o){super(),this.submittedTxs=new Map,this.safe=s,this.sdk=o}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(s){const{method:o,params:a=[]}=s;switch(o){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,n.numberToHex)(this.chainId);case"personal_sign":{const[h,p]=a;if(this.safe.safeAddress.toLowerCase()!==p.toLowerCase())throw new Error("The address or message hash is invalid");const f=await this.sdk.txs.signMessage(h);return("signature"in f?f.signature:void 0)||"0x"}case"eth_sign":{const[h,p]=a;if(this.safe.safeAddress.toLowerCase()!==h.toLowerCase()||!p.startsWith("0x"))throw new Error("The address or message hash is invalid");const f=await this.sdk.txs.signMessage(p);return("signature"in f?f.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[h,p]=a,f=typeof p=="string"?JSON.parse(p):p;if(this.safe.safeAddress.toLowerCase()!==h.toLowerCase())throw new Error("The address is invalid");const g=await this.sdk.txs.signTypedMessage(f);return("signature"in g?g.signature:void 0)||"0x"}case"eth_sendTransaction":const c={...a[0],value:a[0].value||"0",data:a[0].data||"0x"};typeof c.gas=="string"&&c.gas.startsWith("0x")&&(c.gas=parseInt(c.gas,16));const l=await this.sdk.txs.send({txs:[c],params:{safeTxGas:c.gas}});return this.submittedTxs.set(l.safeTxHash,{from:this.safe.safeAddress,hash:l.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:c.data,value:c.value,to:c.to,blockHash:null,blockNumber:null,transactionIndex:null}),l.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,n.getLowerCase)(a[0]),a[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,n.getLowerCase)(a[0]),a[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,n.getLowerCase)(a[0]),a[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,n.getLowerCase)(a[0]),a[1],a[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([a[0],a[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([a[0],a[1]]);case"eth_getTransactionByHash":let d=a[0];try{d=(await this.sdk.txs.getBySafeTxHash(d)).txHash||d}catch{}return this.submittedTxs.has(d)?this.submittedTxs.get(d):this.sdk.eth.getTransactionByHash([d]).then(h=>(h&&(h.hash=a[0]),h));case"eth_getTransactionReceipt":{let h=a[0];try{h=(await this.sdk.txs.getBySafeTxHash(h)).txHash||h}catch{}return this.sdk.eth.getTransactionReceipt([h]).then(p=>(p&&(p.transactionHash=a[0]),p))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(a[0]);case"eth_call":return this.sdk.eth.call([a[0],a[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([a[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(a[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([a[0]]);case"wallet_sendCalls":{const{from:h,calls:p,chainId:f}=a[0];if(f!==(0,n.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${f}`);if(h!==this.safe.safeAddress)throw Error("Invalid from address");const g=p.map((y,v)=>{if(!y.to)throw new Error(`Invalid call #${v}: missing "to" field`);return{to:y.to,data:y.data??"0x",value:y.value??(0,n.numberToHex)(0)}}),{safeTxHash:m}=await this.sdk.txs.send({txs:g});return{id:m}}case"wallet_getCallsStatus":{const h=a[0],p={[t.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[t.TransactionStatus.AWAITING_EXECUTION]:100,[t.TransactionStatus.SUCCESS]:200,[t.TransactionStatus.CANCELLED]:400,[t.TransactionStatus.FAILED]:500},f=await this.sdk.txs.getBySafeTxHash(h),g={version:"1.0",id:h,chainId:(0,n.numberToHex)(this.chainId),status:p[f.txStatus]};if(!f.txHash)return g;const m=await this.sdk.eth.getTransactionReceipt([f.txHash]);if(!m)return g;const b=f.txData?.dataDecoded?.method!=="multiSend"?1:f.txData.dataDecoded.parameters?.[0].valueDecoded?.length??1,y=Number(m.blockNumber),v=Number(m.gasUsed);return g.receipts=Array(b).fill({logs:m.logs,status:(0,n.numberToHex)(f.txStatus===t.TransactionStatus.SUCCESS?1:0),blockHash:m.blockHash,blockNumber:(0,n.numberToHex)(y),gasUsed:(0,n.numberToHex)(v),transactionHash:f.txHash}),g}case"wallet_showCallsStatus":throw new Error(`"${s.method}" not supported`);case"wallet_getCapabilities":return{[(0,n.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${s.method}" not implemented`)}}send(s,o){s||o("Undefined request"),this.request(s).then(a=>o(null,{jsonrpc:"2.0",id:s.id,result:a})).catch(a=>o(a,null))}}return y3.SafeAppProvider=r,y3}var iY;function Gft(){return iY||(iY=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppProvider=void 0;var e=Zft();Object.defineProperty(t,"SafeAppProvider",{enumerable:!0,get:function(){return e.SafeAppProvider}})})(HN)),HN}var bge=Gft();const Yft=ny(bge),njt=ISe({__proto__:null,default:Yft},[bge]);function a_(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function sY(t){return a_(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const vge="2.23.2";let QN={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${vge}`},_8=class $R extends Error{constructor(e,n={}){const r=n.cause instanceof $R?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof $R&&n.cause.docsPath||n.docsPath,s=QN.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...QN.version?[`Version: ${QN.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=vge}walk(e){return Ege(this,e)}};function Ege(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Ege(t.cause,e):e?null:t}let Cge=class extends _8{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function v2(t,{dir:e,size:n=32}={}){return typeof t=="string"?Jft(t,{dir:e,size:n}):Xft(t,{dir:e,size:n})}function Jft(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Cge({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Xft(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Cge({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let Qft=class extends _8{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},egt=class extends _8{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function E2(t,{size:e}){if(sY(t)>e)throw new egt({givenSize:sY(t),maxSize:e})}function TR(t,e={}){const{signed:n}=e;e.size&&E2(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function tgt(t,e={}){return Number(TR(t,e))}const ngt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function NR(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ige(t,e):typeof t=="string"?sgt(t,e):typeof t=="boolean"?rgt(t,e):_ge(t,e)}function rgt(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(E2(n,{size:e.size}),v2(n,{size:e.size})):n}function _ge(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=ngt[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(E2(r,{size:e.size}),v2(r,{dir:"right",size:e.size})):r}function Ige(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Qft({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?v2(a,{size:r}):a}const igt=new TextEncoder;function sgt(t,e={}){const n=igt.encode(t);return _ge(n,e)}const ogt=new TextEncoder;function agt(t,e={}){return typeof t=="number"||typeof t=="bigint"?lgt(t,e):typeof t=="boolean"?cgt(t,e):a_(t)?Sge(t,e):xge(t,e)}function cgt(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(E2(n,{size:e.size}),v2(n,{size:e.size})):n}const vh={zero:48,nine:57,A:65,F:70,a:97,f:102};function oY(t){if(t>=vh.zero&&t<=vh.nine)return t-vh.zero;if(t>=vh.A&&t<=vh.F)return t-(vh.A-10);if(t>=vh.a&&t<=vh.f)return t-(vh.a-10)}function Sge(t,e={}){let n=t;e.size&&(E2(n,{size:e.size}),n=v2(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=oY(r.charCodeAt(a++)),l=oY(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new _8(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function lgt(t,e){const n=Ige(t,e);return Sge(n)}function xge(t,e={}){const n=ogt.encode(t);return typeof e.size=="number"?(E2(n,{size:e.size}),v2(n,{dir:"right",size:e.size})):n}function G6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ugt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function z4(t,...e){if(!ugt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function dgt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");G6(t.outputLen),G6(t.blockLen)}function Ev(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Age(t,e){z4(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const TI=BigInt(2**32-1),aY=BigInt(32);function hgt(t,e=!1){return e?{h:Number(t&TI),l:Number(t>>aY&TI)}:{h:Number(t>>aY&TI)|0,l:Number(t&TI)|0}}function pgt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=hgt(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const fgt=(t,e,n)=>t<<n|e>>>32-n,ggt=(t,e,n)=>e<<n|t>>>32-n,mgt=(t,e,n)=>e<<n-32|t>>>64-n,wgt=(t,e,n)=>t<<n-32|e>>>64-n,ob=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ygt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function eO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Gu(t,e){return t<<32-e|t>>>e}const cY=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function bgt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function lY(t){for(let e=0;e<t.length;e++)t[e]=bgt(t[e])}function vgt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function I8(t){return typeof t=="string"&&(t=vgt(t)),z4(t),t}function Egt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];z4(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class kB{clone(){return this._cloneInto()}}function kge(t){const e=r=>t().update(I8(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Cgt(t=32){if(ob&&typeof ob.getRandomValues=="function")return ob.getRandomValues(new Uint8Array(t));if(ob&&typeof ob.randomBytes=="function")return ob.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const $ge=[],Tge=[],Nge=[],_gt=BigInt(0),$3=BigInt(1),Igt=BigInt(2),Sgt=BigInt(7),xgt=BigInt(256),Agt=BigInt(113);for(let t=0,e=$3,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],$ge.push(2*(5*r+n)),Tge.push((t+1)*(t+2)/2%64);let i=_gt;for(let s=0;s<7;s++)e=(e<<$3^(e>>Sgt)*Agt)%xgt,e&Igt&&(i^=$3<<($3<<BigInt(s))-$3);Nge.push(i)}const[kgt,$gt]=pgt(Nge,!0),uY=(t,e,n)=>n>32?mgt(t,e,n):fgt(t,e,n),dY=(t,e,n)=>n>32?wgt(t,e,n):ggt(t,e,n);function Tgt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=uY(l,u,1)^n[a],h=dY(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Tge[o],c=uY(i,s,a),l=dY(i,s,a),u=$ge[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=kgt[r],t[1]^=$gt[r]}n.fill(0)}class $B extends kB{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,G6(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ygt(this.state)}keccak(){cY||lY(this.state32),Tgt(this.state32,this.rounds),cY||lY(this.state32),this.posOut=0,this.pos=0}update(e){Ev(this);const{blockLen:n,state:r}=this;e=I8(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ev(this,!1),z4(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return G6(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Age(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new $B(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Ngt=(t,e,n)=>kge(()=>new $B(e,t,n)),Oge=Ngt(1,136,256/8);function Pge(t,e){const n=e||"hex",r=Oge(a_(t,{strict:!1})?agt(t):t);return n==="bytes"?r:NR(r)}let Ogt=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const tO=new Ogt(8192);function Pgt(t,e){if(tO.has(`${t}.${e}`))return tO.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Pge(xge(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return tO.set(`${t}.${e}`,s),s}function Rgt(t){const e=Pge(`0x${t.substring(4)}`).substring(26);return Pgt(`0x${e}`)}async function Dgt({hash:t,signature:e}){const n=a_(t)?t:NR(t),{secp256k1:r}=await fe(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Kge);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,p=Number(h??d),f=hY(p);return new r.Signature(TR(l),TR(u)).addRecoveryBit(f)}const o=a_(e)?e:NR(e),a=tgt(`0x${o.slice(130)}`),c=hY(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function hY(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ugt({hash:t,signature:e}){return Rgt(await Dgt({hash:t,signature:e}))}function Mgt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Lgt(t,e,n){return t&e^~t&n}function jgt(t,e,n){return t&e^t&n^e&n}class Bgt extends kB{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=eO(this.buffer)}update(e){Ev(this);const{view:n,buffer:r,blockLen:i}=this;e=I8(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=eO(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ev(this),Age(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;Mgt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=eO(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const zgt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vf=new Uint32Array(64);class Wgt extends Bgt{constructor(){super(64,32,8,!1),this.A=bf[0]|0,this.B=bf[1]|0,this.C=bf[2]|0,this.D=bf[3]|0,this.E=bf[4]|0,this.F=bf[5]|0,this.G=bf[6]|0,this.H=bf[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)vf[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=vf[d-15],p=vf[d-2],f=Gu(h,7)^Gu(h,18)^h>>>3,g=Gu(p,17)^Gu(p,19)^p>>>10;vf[d]=g+vf[d-7]+f+vf[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Gu(a,6)^Gu(a,11)^Gu(a,25),p=u+h+Lgt(a,c,l)+zgt[d]+vf[d]|0,g=(Gu(r,2)^Gu(r,13)^Gu(r,22))+jgt(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){vf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const qgt=kge(()=>new Wgt);const S8=BigInt(0),x8=BigInt(1),Fgt=BigInt(2);function U0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function W4(t){if(!U0(t))throw new Error("Uint8Array expected")}function Cv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Hgt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _v(t){W4(t);let e="";for(let n=0;n<t.length;n++)e+=Hgt[t[n]];return e}function s1(t){const e=t.toString(16);return e.length&1?"0"+e:e}function TB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?S8:BigInt("0x"+t)}const Eh={_0:48,_9:57,A:65,F:70,a:97,f:102};function pY(t){if(t>=Eh._0&&t<=Eh._9)return t-Eh._0;if(t>=Eh.A&&t<=Eh.F)return t-(Eh.A-10);if(t>=Eh.a&&t<=Eh.f)return t-(Eh.a-10)}function Iv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=pY(t.charCodeAt(s)),a=pY(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Mw(t){return TB(_v(t))}function NB(t){return W4(t),TB(_v(Uint8Array.from(t).reverse()))}function Sv(t,e){return Iv(t.toString(16).padStart(e*2,"0"))}function OB(t,e){return Sv(t,e).reverse()}function Vgt(t){return Iv(s1(t))}function tu(t,e,n){let r;if(typeof e=="string")try{r=Iv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(U0(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function c_(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];W4(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function Kgt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Zgt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const nO=t=>typeof t=="bigint"&&S8<=t;function A8(t,e,n){return nO(t)&&nO(e)&&nO(n)&&e<=t&&t<n}function Lw(t,e,n,r){if(!A8(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Rge(t){let e;for(e=0;t>S8;t>>=x8,e+=1);return e}function Ggt(t,e){return t>>BigInt(e)&x8}function Ygt(t,e,n){return t|(n?x8:S8)<<BigInt(e)}const PB=t=>(Fgt<<BigInt(t-1))-x8,rO=t=>new Uint8Array(t),fY=t=>Uint8Array.from(t);function Dge(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=rO(t),i=rO(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=rO())=>{i=a(fY([0]),d),r=a(),d.length!==0&&(i=a(fY([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const p=r.slice();h.push(p),d+=r.length}return c_(...h)};return(d,h)=>{o(),c(d);let p;for(;!(p=h(l()));)c();return o(),p}}const Jgt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||U0(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function q4(t,e,n={}){const r=(i,s,o)=>{const a=Jgt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const Xgt=()=>{throw new Error("not implemented")};function OR(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Qgt=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Lw,abool:Cv,abytes:W4,bitGet:Ggt,bitLen:Rge,bitMask:PB,bitSet:Ygt,bytesToHex:_v,bytesToNumberBE:Mw,bytesToNumberLE:NB,concatBytes:c_,createHmacDrbg:Dge,ensureBytes:tu,equalBytes:Kgt,hexToBytes:Iv,hexToNumber:TB,inRange:A8,isBytes:U0,memoized:OR,notImplemented:Xgt,numberToBytesBE:Sv,numberToBytesLE:OB,numberToHexUnpadded:s1,numberToVarBytesBE:Vgt,utf8ToBytes:Zgt,validateObject:q4},Symbol.toStringTag,{value:"Module"}));class Uge extends kB{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,dgt(e);const r=I8(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ev(this),this.iHash.update(e),this}digestInto(e){Ev(this),z4(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mge=(t,e,n)=>new Uge(t,e).update(n).digest();Mge.create=(t,e)=>new Uge(t,e);const Cs=BigInt(0),wi=BigInt(1),iw=BigInt(2),emt=BigInt(3),PR=BigInt(4),gY=BigInt(5),mY=BigInt(8);function wa(t,e){const n=t%e;return n>=Cs?n:e+n}function tmt(t,e,n){if(e<Cs)throw new Error("invalid exponent, negatives unsupported");if(n<=Cs)throw new Error("invalid modulus");if(n===wi)return Cs;let r=wi;for(;e>Cs;)e&wi&&(r=r*t%n),t=t*t%n,e>>=wi;return r}function Fc(t,e,n){let r=t;for(;e-- >Cs;)r*=r,r%=n;return r}function RR(t,e){if(t===Cs)throw new Error("invert: expected non-zero number");if(e<=Cs)throw new Error("invert: expected positive modulus, got "+e);let n=wa(t,e),r=e,i=Cs,s=wi;for(;n!==Cs;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==wi)throw new Error("invert: does not exist");return wa(i,e)}function nmt(t){const e=(t-wi)/iw;let n,r,i;for(n=t-wi,r=0;n%iw===Cs;n/=iw,r++);for(i=iw;i<t&&tmt(i,e,t)!==t-wi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+wi)/PR;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+wi)/iw;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(h);p<l&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const f=a.pow(u,wi<<BigInt(l-p-1));u=a.sqr(f),d=a.mul(d,f),h=a.mul(h,u),l=p}return d}}function rmt(t){if(t%PR===emt){const e=(t+wi)/PR;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%mY===gY){const e=(t-gY)/mY;return function(r,i){const s=r.mul(i,iw),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,iw),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return nmt(t)}const imt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function smt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=imt.reduce((r,i)=>(r[i]="function",r),e);return q4(t,n)}function omt(t,e,n){if(n<Cs)throw new Error("invalid exponent, negatives unsupported");if(n===Cs)return t.ONE;if(n===wi)return e;let r=t.ONE,i=e;for(;n>Cs;)n&wi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=wi;return r}function amt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Lge(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function jge(t,e,n=!1,r={}){if(t<=Cs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Lge(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:PB(i),ZERO:Cs,ONE:wi,create:c=>wa(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Cs<=c&&c<t},is0:c=>c===Cs,isOdd:c=>(c&wi)===wi,neg:c=>wa(-c,t),eql:(c,l)=>c===l,sqr:c=>wa(c*c,t),add:(c,l)=>wa(c+l,t),sub:(c,l)=>wa(c-l,t),mul:(c,l)=>wa(c*l,t),pow:(c,l)=>omt(a,c,l),div:(c,l)=>wa(c*RR(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>RR(c,t),sqrt:r.sqrt||(c=>(o||(o=rmt(t)),o(a,c))),invertBatch:c=>amt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?OB(c,s):Sv(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?NB(c):Mw(c)}});return Object.freeze(a)}function Bge(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function zge(t){const e=Bge(t);return e+Math.ceil(e/2)}function cmt(t,e,n=!1){const r=t.length,i=Bge(e),s=zge(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?NB(t):Mw(t),a=wa(o,e-wi)+wi;return n?OB(a,i):Sv(a,i)}const wY=BigInt(0),NI=BigInt(1);function iO(t,e){const n=e.negate();return t?n:e}function Wge(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function sO(t,e){Wge(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function lmt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function umt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const oO=new WeakMap,qge=new WeakMap;function aO(t){return qge.get(t)||1}function dmt(t,e){return{constTimeNegate:iO,hasPrecomputes(n){return aO(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>wY;)r&NI&&(i=i.add(s)),s=s.double(),r>>=NI;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=sO(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=sO(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const p=h*o;let f=Number(i&l);i>>=d,f>o&&(f-=u,i+=NI);const g=p,m=p+Math.abs(f)-1,b=h%2!==0,y=f<0;f===0?c=c.add(iO(b,r[g])):a=a.add(iO(y,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=sO(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===wY)break;let p=Number(i&c);if(i>>=u,p>a&&(p-=l,i+=NI),p===0)continue;let f=r[h+Math.abs(p)-1];p<0&&(f=f.negate()),s=s.add(f)}return s},getPrecomputes(n,r,i){let s=oO.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&oO.set(r,i(s))),s},wNAFCached(n,r,i){const s=aO(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=aO(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Wge(r,e),qge.set(n,r),oO.delete(n)}}}function hmt(t,e,n,r){if(lmt(n,t),umt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Rge(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let p=0;p<r.length;p++){const f=r[p],g=Number(f>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[p])}let h=i;for(let p=c.length-1,f=i;p>0;p--)f=f.add(c[p]),h=h.add(f);if(u=u.add(h),d!==0)for(let p=0;p<o;p++)u=u.double()}return u}function Fge(t){return smt(t.Fp),q4(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Lge(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function yY(t){t.lowS!==void 0&&Cv("lowS",t.lowS),t.prehash!==void 0&&Cv("prehash",t.prehash)}function pmt(t){const e=Fge(t);q4(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:fmt,hexToBytes:gmt}=Qgt;class mmt extends Error{constructor(e=""){super(e)}}const Fh={Err:mmt,_tlv:{encode:(t,e)=>{const{Err:n}=Fh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=s1(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?s1(i.length/2|128):"";return s1(t)+s+i+e},decode(t,e){const{Err:n}=Fh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Fh;if(t<Yh)throw new e("integer: negative integers are not allowed");let n=s1(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Fh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return fmt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Fh,i=typeof t=="string"?gmt(t):t;W4(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Fh,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Yh=BigInt(0),ds=BigInt(1);BigInt(2);const bY=BigInt(3);BigInt(4);function wmt(t){const e=pmt(t),{Fp:n}=e,r=jge(e.n,e.nBitLength),i=e.toBytes||((g,m,b)=>{const y=m.toAffine();return c_(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=e.fromBytes||(g=>{const m=g.subarray(1),b=n.fromBytes(m.subarray(0,n.BYTES)),y=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:b,y}});function o(g){const{a:m,b}=e,y=n.sqr(g),v=n.mul(y,g);return n.add(n.add(v,n.mul(g,m)),b)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return A8(g,ds,e.n)}function c(g){const{allowedPrivateKeyLengths:m,nByteLength:b,wrapPrivateKey:y,n:v}=e;if(m&&typeof g!="bigint"){if(U0(g)&&(g=_v(g)),typeof g!="string"||!m.includes(g.length))throw new Error("invalid private key");g=g.padStart(b*2,"0")}let w;try{w=typeof g=="bigint"?g:Mw(tu("private key",g,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof g)}return y&&(w=wa(w,v)),Lw("private key",w,ds,v),w}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const u=OR((g,m)=>{const{px:b,py:y,pz:v}=g;if(n.eql(v,n.ONE))return{x:b,y};const w=g.is0();m==null&&(m=w?n.ONE:n.inv(v));const C=n.mul(b,m),I=n.mul(y,m),k=n.mul(v,m);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:C,y:I}}),d=OR(g=>{if(g.is0()){if(e.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:m,y:b}=g.toAffine();if(!n.isValid(m)||!n.isValid(b))throw new Error("bad point: x or y not FE");const y=n.sqr(b),v=o(m);if(!n.eql(y,v))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,b,y){if(this.px=m,this.py=b,this.pz=y,m==null||!n.isValid(m))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x:b,y}=m||{};if(!m||!n.isValid(b)||!n.isValid(y))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const v=w=>n.eql(w,n.ZERO);return v(b)&&v(y)?h.ZERO:new h(b,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const b=n.invertBatch(m.map(y=>y.pz));return m.map((y,v)=>y.toAffine(b[v])).map(h.fromAffine)}static fromHex(m){const b=h.fromAffine(s(tu("pointHex",m)));return b.assertValidity(),b}static fromPrivateKey(m){return h.BASE.multiply(c(m))}static msm(m,b){return hmt(h,r,m,b)}_setWindowSize(m){f.setWindowSize(this,m)}assertValidity(){d(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:b,py:y,pz:v}=this,{px:w,py:C,pz:I}=m,k=n.eql(n.mul(b,I),n.mul(w,v)),P=n.eql(n.mul(y,I),n.mul(C,v));return k&&P}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b}=e,y=n.mul(b,bY),{px:v,py:w,pz:C}=this;let I=n.ZERO,k=n.ZERO,P=n.ZERO,S=n.mul(v,v),N=n.mul(w,w),R=n.mul(C,C),D=n.mul(v,w);return D=n.add(D,D),P=n.mul(v,C),P=n.add(P,P),I=n.mul(m,P),k=n.mul(y,R),k=n.add(I,k),I=n.sub(N,k),k=n.add(N,k),k=n.mul(I,k),I=n.mul(D,I),P=n.mul(y,P),R=n.mul(m,R),D=n.sub(S,R),D=n.mul(m,D),D=n.add(D,P),P=n.add(S,S),S=n.add(P,S),S=n.add(S,R),S=n.mul(S,D),k=n.add(k,S),R=n.mul(w,C),R=n.add(R,R),S=n.mul(R,D),I=n.sub(I,S),P=n.mul(R,N),P=n.add(P,P),P=n.add(P,P),new h(I,k,P)}add(m){l(m);const{px:b,py:y,pz:v}=this,{px:w,py:C,pz:I}=m;let k=n.ZERO,P=n.ZERO,S=n.ZERO;const N=e.a,R=n.mul(e.b,bY);let D=n.mul(b,w),O=n.mul(y,C),T=n.mul(v,I),E=n.add(b,y),_=n.add(w,C);E=n.mul(E,_),_=n.add(D,O),E=n.sub(E,_),_=n.add(b,v);let x=n.add(w,I);return _=n.mul(_,x),x=n.add(D,T),_=n.sub(_,x),x=n.add(y,v),k=n.add(C,I),x=n.mul(x,k),k=n.add(O,T),x=n.sub(x,k),S=n.mul(N,_),k=n.mul(R,T),S=n.add(k,S),k=n.sub(O,S),S=n.add(O,S),P=n.mul(k,S),O=n.add(D,D),O=n.add(O,D),T=n.mul(N,T),_=n.mul(R,_),O=n.add(O,T),T=n.sub(D,T),T=n.mul(N,T),_=n.add(_,T),D=n.mul(O,_),P=n.add(P,D),D=n.mul(x,_),k=n.mul(E,k),k=n.sub(k,D),D=n.mul(E,O),S=n.mul(x,S),S=n.add(S,D),new h(k,P,S)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return f.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:b,n:y}=e;Lw("scalar",m,Yh,y);const v=h.ZERO;if(m===Yh)return v;if(this.is0()||m===ds)return this;if(!b||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:w,k1:C,k2neg:I,k2:k}=b.splitScalar(m),P=v,S=v,N=this;for(;C>Yh||k>Yh;)C&ds&&(P=P.add(N)),k&ds&&(S=S.add(N)),N=N.double(),C>>=ds,k>>=ds;return w&&(P=P.negate()),I&&(S=S.negate()),S=new h(n.mul(S.px,b.beta),S.py,S.pz),P.add(S)}multiply(m){const{endo:b,n:y}=e;Lw("scalar",m,ds,y);let v,w;if(b){const{k1neg:C,k1:I,k2neg:k,k2:P}=b.splitScalar(m);let{p:S,f:N}=this.wNAF(I),{p:R,f:D}=this.wNAF(P);S=f.constTimeNegate(C,S),R=f.constTimeNegate(k,R),R=new h(n.mul(R.px,b.beta),R.py,R.pz),v=S.add(R),w=N.add(D)}else{const{p:C,f:I}=this.wNAF(m);v=C,w=I}return h.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(m,b,y){const v=h.BASE,w=(I,k)=>k===Yh||k===ds||!I.equals(v)?I.multiplyUnsafe(k):I.multiply(k),C=w(this,b).add(w(m,y));return C.is0()?void 0:C}toAffine(m){return u(this,m)}isTorsionFree(){const{h:m,isTorsionFree:b}=e;if(m===ds)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:b}=e;return m===ds?this:b?b(h,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return Cv("isCompressed",m),this.assertValidity(),i(h,this,m)}toHex(m=!0){return Cv("isCompressed",m),_v(this.toRawBytes(m))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,f=dmt(h,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function ymt(t){const e=Fge(t);return q4(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function bmt(t){const e=ymt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(T){return wa(T,r)}function a(T){return RR(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=wmt({...e,toBytes(T,E,_){const x=E.toAffine(),M=n.toBytes(x.x),A=c_;return Cv("isCompressed",_),_?A(Uint8Array.from([E.hasEvenY()?2:3]),M):A(Uint8Array.from([4]),M,n.toBytes(x.y))},fromBytes(T){const E=T.length,_=T[0],x=T.subarray(1);if(E===i&&(_===2||_===3)){const M=Mw(x);if(!A8(M,ds,n.ORDER))throw new Error("Point is not on curve");const A=u(M);let U;try{U=n.sqrt(A)}catch(H){const q=H instanceof Error?": "+H.message:"";throw new Error("Point is not on curve"+q)}const B=(U&ds)===ds;return(_&1)===1!==B&&(U=n.neg(U)),{x:M,y:U}}else if(E===s&&_===4){const M=n.fromBytes(x.subarray(0,n.BYTES)),A=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:M,y:A}}else{const M=i,A=s;throw new Error("invalid Point, expected length of "+M+", or uncompressed "+A+", got "+E)}}}),h=T=>_v(Sv(T,e.nByteLength));function p(T){const E=r>>ds;return T>E}function f(T){return p(T)?o(-T):T}const g=(T,E,_)=>Mw(T.slice(E,_));class m{constructor(E,_,x){this.r=E,this.s=_,this.recovery=x,this.assertValidity()}static fromCompact(E){const _=e.nByteLength;return E=tu("compactSignature",E,_*2),new m(g(E,0,_),g(E,_,2*_))}static fromDER(E){const{r:_,s:x}=Fh.toSig(tu("DER",E));return new m(_,x)}assertValidity(){Lw("r",this.r,ds,r),Lw("s",this.s,ds,r)}addRecoveryBit(E){return new m(this.r,this.s,E)}recoverPublicKey(E){const{r:_,s:x,recovery:M}=this,A=I(tu("msgHash",E));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const U=M===2||M===3?_+e.n:_;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=(M&1)===0?"02":"03",z=c.fromHex(B+h(U)),H=a(U),q=o(-A*H),F=o(x*H),K=c.BASE.multiplyAndAddUnsafe(z,q,F);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Iv(this.toDERHex())}toDERHex(){return Fh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Iv(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(T){try{return l(T),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const T=zge(e.n);return cmt(e.randomBytes(T),e.n)},precompute(T=8,E=c.BASE){return E._setWindowSize(T),E.multiply(BigInt(3)),E}};function y(T,E=!0){return c.fromPrivateKey(T).toRawBytes(E)}function v(T){const E=U0(T),_=typeof T=="string",x=(E||_)&&T.length;return E?x===i||x===s:_?x===2*i||x===2*s:T instanceof c}function w(T,E,_=!0){if(v(T))throw new Error("first arg must be private key");if(!v(E))throw new Error("second arg must be public key");return c.fromHex(E).multiply(l(T)).toRawBytes(_)}const C=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const E=Mw(T),_=T.length*8-e.nBitLength;return _>0?E>>BigInt(_):E},I=e.bits2int_modN||function(T){return o(C(T))},k=PB(e.nBitLength);function P(T){return Lw("num < 2^"+e.nBitLength,T,Yh,k),Sv(T,e.nByteLength)}function S(T,E,_=N){if(["recovered","canonical"].some(se=>se in _))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:M}=e;let{lowS:A,prehash:U,extraEntropy:B}=_;A==null&&(A=!0),T=tu("msgHash",T),yY(_),U&&(T=tu("prehashed msgHash",x(T)));const z=I(T),H=l(E),q=[P(H),P(z)];if(B!=null&&B!==!1){const se=B===!0?M(n.BYTES):B;q.push(tu("extraEntropy",se))}const F=c_(...q),K=z;function ee(se){const te=C(se);if(!d(te))return;const ue=a(te),ge=c.BASE.multiply(te).toAffine(),$e=o(ge.x);if($e===Yh)return;const he=o(ue*o(K+$e*H));if(he===Yh)return;let me=(ge.x===$e?0:2)|Number(ge.y&ds),Me=he;return A&&p(he)&&(Me=f(he),me^=1),new m($e,Me,me)}return{seed:F,k2sig:ee}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function D(T,E,_=N){const{seed:x,k2sig:M}=S(T,E,_),A=e;return Dge(A.hash.outputLen,A.nByteLength,A.hmac)(x,M)}c.BASE._setWindowSize(8);function O(T,E,_,x=R){const M=T;E=tu("msgHash",E),_=tu("publicKey",_);const{lowS:A,prehash:U,format:B}=x;if(yY(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&B!=="compact"&&B!=="der")throw new Error("format must be compact or der");const z=typeof M=="string"||U0(M),H=!z&&!B&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!z&&!H)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,F;try{if(H&&(q=new m(M.r,M.s)),z){try{B!=="compact"&&(q=m.fromDER(M))}catch(me){if(!(me instanceof Fh.Err))throw me}!q&&B!=="der"&&(q=m.fromCompact(M))}F=c.fromHex(_)}catch{return!1}if(!q||A&&q.hasHighS())return!1;U&&(E=e.hash(E));const{r:K,s:ee}=q,se=I(E),te=a(ee),ue=o(se*te),ge=o(K*te),$e=c.BASE.multiplyAndAddUnsafe(F,ue,ge)?.toAffine();return $e?o($e.x)===K:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:w,sign:D,verify:O,ProjectivePoint:c,Signature:m,utils:b}}function vmt(t){return{hash:t,hmac:(e,...n)=>Mge(t,e,Egt(...n)),randomBytes:Cgt}}function Emt(t,e){const n=r=>bmt({...t,...vmt(r)});return{...n(e),create:n}}const Hge=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vY=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Cmt=BigInt(1),DR=BigInt(2),EY=(t,e)=>(t+e/DR)/e;function _mt(t){const e=Hge,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Fc(u,n,e)*u%e,h=Fc(d,n,e)*u%e,p=Fc(h,DR,e)*l%e,f=Fc(p,i,e)*p%e,g=Fc(f,s,e)*f%e,m=Fc(g,a,e)*g%e,b=Fc(m,c,e)*m%e,y=Fc(b,a,e)*g%e,v=Fc(y,n,e)*u%e,w=Fc(v,o,e)*f%e,C=Fc(w,r,e)*l%e,I=Fc(C,DR,e);if(!UR.eql(UR.sqr(I),t))throw new Error("Cannot find square root");return I}const UR=jge(Hge,void 0,void 0,{sqrt:_mt}),Vge=Emt({a:BigInt(0),b:BigInt(7),Fp:UR,n:vY,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vY,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Cmt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=EY(s*t,e),c=EY(-r*t,e);let l=wa(t-a*n-c*i,e),u=wa(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},qgt);BigInt(0);Vge.ProjectivePoint;const Kge=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Vge},Symbol.toStringTag,{value:"Module"}));function Zge(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function yd(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Zge(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Gge(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const CY=Gge("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),cO=Gge("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Zge(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Yge={utf8:CY,"utf-8":CY,hex:ox.base16,latin1:cO,ascii:cO,binary:cO,...ox};function Gr(t,e="utf8"){const n=Yge[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function ur(t,e="utf8"){const n=Yge[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var Imt={};const Smt=":";function A1(t){const[e,n]=t.split(Smt);return{namespace:e,reference:n}}function _Y(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function Jge(t,e){return t.includes(":")?[t]:e.chains||[]}var xmt=Object.defineProperty,Amt=Object.defineProperties,kmt=Object.getOwnPropertyDescriptors,IY=Object.getOwnPropertySymbols,$mt=Object.prototype.hasOwnProperty,Tmt=Object.prototype.propertyIsEnumerable,SY=(t,e,n)=>e in t?xmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xY=(t,e)=>{for(var n in e||(e={}))$mt.call(e,n)&&SY(t,n,e[n]);if(IY)for(var n of IY(e))Tmt.call(e,n)&&SY(t,n,e[n]);return t},Nmt=(t,e)=>Amt(t,kmt(e));const Omt="ReactNative",dc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Pmt="js";function Y6(){return typeof window.process<"u"&&typeof window.process.versions<"u"&&typeof window.process.versions.node<"u"}function hm(){return!_r.getDocument()&&!!_r.getNavigator()&&navigator.product===Omt}function Rmt(){return hm()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function Dmt(){return hm()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function C2(){return!Y6()&&!!_r.getNavigator()&&!!_r.getDocument()}function F4(){return hm()?dc.reactNative:Y6()?dc.node:C2()?dc.browser:dc.unknown}function AY(){var t;try{return hm()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Umt(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function Mmt(t){var e,n;const r=Xge();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Nmt(xY(xY({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Xge(){return EU.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Lmt(){if(F4()===dc.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=vU();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function jmt(){var t;const e=F4();return e===dc.browser?[e,((t=_r.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Qge(t,e,n){const r=Lmt(),i=jmt();return[[t,e].join("-"),[Pmt,n].join("-"),r,i].join("/")}function Bmt({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=Qge(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=Umt(l[1]||"",d);return l[0]+"?"+h}function xw(t,e){return t.filter(n=>e.includes(n)).length===t.length}function MR(t){return Object.fromEntries(t.entries())}function LR(t){return new Map(Object.entries(t))}function Km(t=Y.FIVE_MINUTES,e){const n=Y.toMiliseconds(t||Y.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function Qf(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function eme(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function zmt(t){return eme("topic",t)}function Wmt(t){return eme("id",t)}function tme(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Vi(t,e){return Y.fromMiliseconds(Date.now()+Y.toMiliseconds(t))}function Lf(t){return Date.now()>=Y.toMiliseconds(t)}function Hn(t,e){return`${t}${e?`:${e}`:""}`}function bd(t=[],e=[]){return[...new Set([...t,...e])]}async function qmt({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const o=Fmt(s,t,e),a=F4();if(a===dc.browser){if(!((r=_r.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Hmt(o)}else a===dc.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function Fmt(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Gmt(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Hmt(t){let e="_self";Zmt()?e="_top":(Kmt()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Vmt(t,e){let n="";try{if(C2()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function kY(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function $Y(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function RB(){return typeof window.process<"u"&&Imt.IS_VITEST==="true"}function Kmt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Zmt(){try{return window.self!==window.top}catch{return!1}}function Gmt(t,e=!1){const n=window.Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function nme(t){return window.Buffer.from(t,"base64").toString("utf-8")}function Ymt(t){return new Promise(e=>setTimeout(e,t))}function l_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Jmt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function H4(t,...e){if(!Jmt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function DB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");l_(t.outputLen),l_(t.blockLen)}function xv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rme(t,e){H4(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const OI=BigInt(2**32-1),TY=BigInt(32);function Xmt(t,e=!1){return e?{h:Number(t&OI),l:Number(t>>TY&OI)}:{h:Number(t>>TY&OI)|0,l:Number(t&OI)|0}}function Qmt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Xmt(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const ewt=(t,e,n)=>t<<n|e>>>32-n,twt=(t,e,n)=>e<<n|t>>>32-n,nwt=(t,e,n)=>e<<n-32|t>>>64-n,rwt=(t,e,n)=>t<<n-32|e>>>64-n,ab=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function iwt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function lO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Yu(t,e){return t<<32-e|t>>>e}const NY=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function swt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function OY(t){for(let e=0;e<t.length;e++)t[e]=swt(t[e])}function owt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Av(t){return typeof t=="string"&&(t=owt(t)),H4(t),t}function awt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];H4(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let UB=class{clone(){return this._cloneInto()}};function ime(t){const e=r=>t().update(Av(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function _2(t=32){if(ab&&typeof ab.getRandomValues=="function")return ab.getRandomValues(new Uint8Array(t));if(ab&&typeof ab.randomBytes=="function")return ab.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const sme=[],ome=[],ame=[],cwt=BigInt(0),T3=BigInt(1),lwt=BigInt(2),uwt=BigInt(7),dwt=BigInt(256),hwt=BigInt(113);for(let t=0,e=T3,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],sme.push(2*(5*r+n)),ome.push((t+1)*(t+2)/2%64);let i=cwt;for(let s=0;s<7;s++)e=(e<<T3^(e>>uwt)*hwt)%dwt,e&lwt&&(i^=T3<<(T3<<BigInt(s))-T3);ame.push(i)}const[pwt,fwt]=Qmt(ame,!0),PY=(t,e,n)=>n>32?nwt(t,e,n):ewt(t,e,n),RY=(t,e,n)=>n>32?rwt(t,e,n):twt(t,e,n);function gwt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=PY(l,u,1)^n[a],h=RY(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=ome[o],c=PY(i,s,a),l=RY(i,s,a),u=sme[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=pwt[r],t[1]^=fwt[r]}n.fill(0)}let mwt=class cme extends UB{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,l_(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=iwt(this.state)}keccak(){NY||OY(this.state32),gwt(this.state32,this.rounds),NY||OY(this.state32),this.posOut=0,this.pos=0}update(e){xv(this);const{blockLen:n,state:r}=this;e=Av(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){xv(this,!1),H4(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return l_(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rme(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new cme(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const wwt=(t,e,n)=>ime(()=>new mwt(e,t,n)),ywt=wwt(1,136,256/8),bwt="https://rpc.walletconnect.org/v1";function lme(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+window.Buffer.from(ywt(n)).toString("hex")}async function vwt(t,e,n,r,i,s){switch(n.t){case"eip191":return await Ewt(t,e,n.s);case"eip1271":return await Cwt(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Ewt(t,e,n){return(await Ugt({hash:lme(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Cwt(t,e,n,r,i,s){const o=A1(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),d=lme(e).substring(2),h=a+d+c+l+u,p=await fetch(`${s||bwt}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:_wt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:f}=await p.json();return f?f.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function _wt(){return Date.now()+Math.floor(Math.random()*1e3)}function Iwt(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=window.Buffer.from(t,"base64").slice(1,65);return Bp.encode(s)}var Swt=Object.defineProperty,xwt=Object.defineProperties,Awt=Object.getOwnPropertyDescriptors,DY=Object.getOwnPropertySymbols,kwt=Object.prototype.hasOwnProperty,$wt=Object.prototype.propertyIsEnumerable,UY=(t,e,n)=>e in t?Swt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Twt=(t,e)=>{for(var n in e||(e={}))kwt.call(e,n)&&UY(t,n,e[n]);if(DY)for(var n of DY(e))$wt.call(e,n)&&UY(t,n,e[n]);return t},Nwt=(t,e)=>xwt(t,Awt(e));const Owt="did:pkh:",MB=t=>t?.split(":"),Pwt=t=>{const e=t&&MB(t);if(e)return t.includes(Owt)?e[3]:e[1]},jR=t=>{const e=t&&MB(t);if(e)return e[2]+":"+e[3]},J6=t=>{const e=t&&MB(t);if(e)return e.pop()};async function MY(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=ume(i,i.iss),o=J6(i.iss);return await vwt(o,s,r,jR(i.iss),n)}const ume=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=J6(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Pwt(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,f=yS(t.resources);if(f){const g=u_(f);i=Wwt(i,g)}return[n,r,"",i,"",s,o,a,c,l,u,d,h,p].filter(g=>g!=null).join(`
`)};function Rwt(t){return window.Buffer.from(JSON.stringify(t)).toString("base64")}function Dwt(t){return JSON.parse(window.Buffer.from(t,"base64").toString("utf-8"))}function M0(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Uwt(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Mwt(e,n,r)}}}function Mwt(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function dme(t){return M0(t),`urn:recap:${Rwt(t).replace(/=/g,"")}`}function u_(t){const e=Dwt(t.replace("urn:recap:",""));return M0(e),e}function Lwt(t,e,n){const r=Uwt(t,e,n);return dme(r)}function jwt(t){return t&&t.includes("urn:recap:")}function Bwt(t,e){const n=u_(t),r=u_(e),i=zwt(n,r);return dme(i)}function zwt(t,e){M0(t),M0(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=Nwt(Twt({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function Wwt(t="",e){M0(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function LY(t){var e;const n=u_(t);M0(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function jY(t){const e=u_(t);M0(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function yS(t){if(!t)return;const e=t?.[t.length-1];return jwt(e)?e:void 0}function uO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hme(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ic(t,...e){if(!hme(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function BY(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qwt(t,e){ic(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function zY(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const ag=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Fwt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Hwt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hwt)throw new Error("Non little-endian hardware is not supported");function Vwt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function BR(t){if(typeof t=="string")t=Vwt(t);else if(hme(t))t=zR(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Kwt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Zwt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Gwt=(t,e)=>{function n(r,...i){if(ic(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?ic(l):ic(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ic(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");ic(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ic(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(ic(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function WY(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Ywt(e))throw new Error("invalid output, must be aligned");return e}function qY(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Ywt(t){return t.byteOffset%4===0}function zR(t){return Uint8Array.from(t)}function kv(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const pme=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Jwt=pme("expand 16-byte k"),Xwt=pme("expand 32-byte k"),Qwt=ag(Jwt),e0t=ag(Xwt);function kn(t,e){return t<<e|t>>>32-e}function WR(t){return t.byteOffset%4===0}const PI=64,t0t=16,fme=2**32-1,FY=new Uint32Array;function n0t(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(PI),u=ag(l),d=WR(i)&&WR(s),h=d?ag(i):FY,p=d?ag(s):FY;for(let f=0;f<c;o++){if(t(e,n,r,u,o,a),o>=fme)throw new Error("arx: counter overflow");const g=Math.min(PI,c-f);if(d&&g===PI){const m=f/4;if(f%4!==0)throw new Error("arx: invalid block position");for(let b=0,y;b<t0t;b++)y=m+b,p[y]=h[y]^u[b];f+=PI;continue}for(let m=0,b;m<g;m++)b=f+m,s[b]=i[b]^l[m];f+=g}}function r0t(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=Kwt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return uO(i),uO(o),zY(s),zY(n),(a,c,l,u,d=0)=>{ic(a),ic(c),ic(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),ic(u),uO(d),d<0||d>=fme)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const p=[];let f=a.length,g,m;if(f===32)p.push(g=zR(a)),m=e0t;else if(f===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),m=Qwt,p.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${f}`);WR(c)||p.push(c=zR(c));const b=ag(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,b,ag(c.subarray(0,16)),b),c=c.subarray(16)}const y=16-i;if(y!==c.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(y!==12){const w=new Uint8Array(12);w.set(c,s?0:12-c.length),c=w,p.push(c)}const v=ag(c);return n0t(t,m,b,v,l,u,d,o),kv(...p),u}}const Ps=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let i0t=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=BR(e),ic(e,32);const n=Ps(e,0),r=Ps(e,2),i=Ps(e,4),s=Ps(e,6),o=Ps(e,8),a=Ps(e,10),c=Ps(e,12),l=Ps(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Ps(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],p=o[6],f=o[7],g=o[8],m=o[9],b=Ps(e,n+0),y=Ps(e,n+2),v=Ps(e,n+4),w=Ps(e,n+6),C=Ps(e,n+8),I=Ps(e,n+10),k=Ps(e,n+12),P=Ps(e,n+14);let S=s[0]+(b&8191),N=s[1]+((b>>>13|y<<3)&8191),R=s[2]+((y>>>10|v<<6)&8191),D=s[3]+((v>>>7|w<<9)&8191),O=s[4]+((w>>>4|C<<12)&8191),T=s[5]+(C>>>1&8191),E=s[6]+((C>>>14|I<<2)&8191),_=s[7]+((I>>>11|k<<5)&8191),x=s[8]+((k>>>8|P<<8)&8191),M=s[9]+(P>>>5|i),A=0,U=A+S*a+N*(5*m)+R*(5*g)+D*(5*f)+O*(5*p);A=U>>>13,U&=8191,U+=T*(5*h)+E*(5*d)+_*(5*u)+x*(5*l)+M*(5*c),A+=U>>>13,U&=8191;let B=A+S*c+N*a+R*(5*m)+D*(5*g)+O*(5*f);A=B>>>13,B&=8191,B+=T*(5*p)+E*(5*h)+_*(5*d)+x*(5*u)+M*(5*l),A+=B>>>13,B&=8191;let z=A+S*l+N*c+R*a+D*(5*m)+O*(5*g);A=z>>>13,z&=8191,z+=T*(5*f)+E*(5*p)+_*(5*h)+x*(5*d)+M*(5*u),A+=z>>>13,z&=8191;let H=A+S*u+N*l+R*c+D*a+O*(5*m);A=H>>>13,H&=8191,H+=T*(5*g)+E*(5*f)+_*(5*p)+x*(5*h)+M*(5*d),A+=H>>>13,H&=8191;let q=A+S*d+N*u+R*l+D*c+O*a;A=q>>>13,q&=8191,q+=T*(5*m)+E*(5*g)+_*(5*f)+x*(5*p)+M*(5*h),A+=q>>>13,q&=8191;let F=A+S*h+N*d+R*u+D*l+O*c;A=F>>>13,F&=8191,F+=T*a+E*(5*m)+_*(5*g)+x*(5*f)+M*(5*p),A+=F>>>13,F&=8191;let K=A+S*p+N*h+R*d+D*u+O*l;A=K>>>13,K&=8191,K+=T*c+E*a+_*(5*m)+x*(5*g)+M*(5*f),A+=K>>>13,K&=8191;let ee=A+S*f+N*p+R*h+D*d+O*u;A=ee>>>13,ee&=8191,ee+=T*l+E*c+_*a+x*(5*m)+M*(5*g),A+=ee>>>13,ee&=8191;let se=A+S*g+N*f+R*p+D*h+O*d;A=se>>>13,se&=8191,se+=T*u+E*l+_*c+x*a+M*(5*m),A+=se>>>13,se&=8191;let te=A+S*m+N*g+R*f+D*p+O*h;A=te>>>13,te&=8191,te+=T*d+E*u+_*l+x*c+M*a,A+=te>>>13,te&=8191,A=(A<<2)+A|0,A=A+U|0,U=A&8191,A=A>>>13,B+=A,s[0]=U,s[1]=B,s[2]=z,s[3]=H,s[4]=q,s[5]=F,s[6]=K,s[7]=ee,s[8]=se,s[9]=te}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;kv(r)}update(e){BY(this);const{buffer:n,blockLen:r}=this;e=BR(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){kv(this.h,this.r,this.buffer,this.pad)}digestInto(e){BY(this),qwt(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function s0t(t){const e=(r,i)=>t(i).update(BR(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const o0t=s0t(t=>new i0t(t));function a0t(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],p=e[3],f=e[4],g=e[5],m=e[6],b=e[7],y=i,v=n[0],w=n[1],C=n[2],I=o,k=a,P=c,S=l,N=u,R=d,D=h,O=p,T=f,E=g,_=m,x=b,M=y,A=v,U=w,B=C;for(let H=0;H<s;H+=2)I=I+N|0,M=kn(M^I,16),T=T+M|0,N=kn(N^T,12),I=I+N|0,M=kn(M^I,8),T=T+M|0,N=kn(N^T,7),k=k+R|0,A=kn(A^k,16),E=E+A|0,R=kn(R^E,12),k=k+R|0,A=kn(A^k,8),E=E+A|0,R=kn(R^E,7),P=P+D|0,U=kn(U^P,16),_=_+U|0,D=kn(D^_,12),P=P+D|0,U=kn(U^P,8),_=_+U|0,D=kn(D^_,7),S=S+O|0,B=kn(B^S,16),x=x+B|0,O=kn(O^x,12),S=S+O|0,B=kn(B^S,8),x=x+B|0,O=kn(O^x,7),I=I+R|0,B=kn(B^I,16),_=_+B|0,R=kn(R^_,12),I=I+R|0,B=kn(B^I,8),_=_+B|0,R=kn(R^_,7),k=k+D|0,M=kn(M^k,16),x=x+M|0,D=kn(D^x,12),k=k+D|0,M=kn(M^k,8),x=x+M|0,D=kn(D^x,7),P=P+O|0,A=kn(A^P,16),T=T+A|0,O=kn(O^T,12),P=P+O|0,A=kn(A^P,8),T=T+A|0,O=kn(O^T,7),S=S+N|0,U=kn(U^S,16),E=E+U|0,N=kn(N^E,12),S=S+N|0,U=kn(U^S,8),E=E+U|0,N=kn(N^E,7);let z=0;r[z++]=o+I|0,r[z++]=a+k|0,r[z++]=c+P|0,r[z++]=l+S|0,r[z++]=u+N|0,r[z++]=d+R|0,r[z++]=h+D|0,r[z++]=p+O|0,r[z++]=f+T|0,r[z++]=g+E|0,r[z++]=m+_|0,r[z++]=b+x|0,r[z++]=y+M|0,r[z++]=v+A|0,r[z++]=w+U|0,r[z++]=C+B|0}const c0t=r0t(a0t,{counterRight:!1,counterLength:4,allowShortKeys:!1}),l0t=new Uint8Array(16),HY=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(l0t.subarray(n))},u0t=new Uint8Array(32);function VY(t,e,n,r,i){const s=t(e,n,u0t),o=o0t.create(s);i&&HY(o,i),HY(o,r);const a=new Uint8Array(16),c=Fwt(a);qY(c,0,BigInt(i?i.length:0),!0),qY(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return kv(s,a),l}const d0t=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=WY(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=VY(t,e,n,a,r);return s.set(c,o),kv(c),s},decrypt(i,s){s=WY(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=VY(t,e,n,o,r);if(!Zwt(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),kv(c),s}}),gme=Gwt({blockSize:64,nonceLength:12,tagLength:16},d0t(c0t));let mme=class extends UB{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,DB(e);const r=Av(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return xv(this),this.iHash.update(e),this}digestInto(e){xv(this),H4(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const k8=(t,e,n)=>new mme(t,e).update(n).digest();k8.create=(t,e)=>new mme(t,e);function h0t(t,e,n){return DB(t),n===void 0&&(n=new Uint8Array(t.outputLen)),k8(t,Av(n),Av(e))}const dO=new Uint8Array([0]),KY=new Uint8Array;function p0t(t,e,n,r=32){if(DB(t),l_(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=KY);const s=new Uint8Array(i*t.outputLen),o=k8.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)dO[0]=l+1,a.update(l===0?KY:c).update(n).update(dO).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),dO.fill(0),s.slice(0,r)}const f0t=(t,e,n,r,i)=>p0t(t,h0t(t,e,n),r,i);function g0t(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function m0t(t,e,n){return t&e^~t&n}function w0t(t,e,n){return t&e^t&n^e&n}let y0t=class extends UB{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=lO(this.buffer)}update(e){xv(this);const{view:n,buffer:r,blockLen:i}=this;e=Av(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=lO(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xv(this),rme(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;g0t(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=lO(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const b0t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ef=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cf=new Uint32Array(64);let v0t=class extends y0t{constructor(){super(64,32,8,!1),this.A=Ef[0]|0,this.B=Ef[1]|0,this.C=Ef[2]|0,this.D=Ef[3]|0,this.E=Ef[4]|0,this.F=Ef[5]|0,this.G=Ef[6]|0,this.H=Ef[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Cf[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Cf[d-15],p=Cf[d-2],f=Yu(h,7)^Yu(h,18)^h>>>3,g=Yu(p,17)^Yu(p,19)^p>>>10;Cf[d]=g+Cf[d-7]+f+Cf[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Yu(a,6)^Yu(a,11)^Yu(a,25),p=u+h+m0t(a,c,l)+b0t[d]+Cf[d]|0,f=(Yu(r,2)^Yu(r,13)^Yu(r,22))+w0t(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+f|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Cf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const V4=ime(()=>new v0t);const $8=BigInt(0),T8=BigInt(1),E0t=BigInt(2);function L0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function K4(t){if(!L0(t))throw new Error("Uint8Array expected")}function $v(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const C0t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tv(t){K4(t);let e="";for(let n=0;n<t.length;n++)e+=C0t[t[n]];return e}function o1(t){const e=t.toString(16);return e.length&1?"0"+e:e}function LB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?$8:BigInt("0x"+t)}const Ch={_0:48,_9:57,A:65,F:70,a:97,f:102};function ZY(t){if(t>=Ch._0&&t<=Ch._9)return t-Ch._0;if(t>=Ch.A&&t<=Ch.F)return t-(Ch.A-10);if(t>=Ch.a&&t<=Ch.f)return t-(Ch.a-10)}function Nv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=ZY(t.charCodeAt(s)),a=ZY(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function jw(t){return LB(Tv(t))}function d_(t){return K4(t),LB(Tv(Uint8Array.from(t).reverse()))}function Ov(t,e){return Nv(t.toString(16).padStart(e*2,"0"))}function N8(t,e){return Ov(t,e).reverse()}function _0t(t){return Nv(o1(t))}function nc(t,e,n){let r;if(typeof e=="string")try{r=Nv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(L0(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function h_(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];K4(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function I0t(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function S0t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const hO=t=>typeof t=="bigint"&&$8<=t;function O8(t,e,n){return hO(t)&&hO(e)&&hO(n)&&e<=t&&t<n}function lp(t,e,n,r){if(!O8(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function wme(t){let e;for(e=0;t>$8;t>>=T8,e+=1);return e}function x0t(t,e){return t>>BigInt(e)&T8}function A0t(t,e,n){return t|(n?T8:$8)<<BigInt(e)}const jB=t=>(E0t<<BigInt(t-1))-T8,pO=t=>new Uint8Array(t),GY=t=>Uint8Array.from(t);function yme(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=pO(t),i=pO(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=pO())=>{i=a(GY([0]),u),r=a(),u.length!==0&&(i=a(GY([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return h_(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const k0t={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||L0(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function I2(t,e,n={}){const r=(i,s,o)=>{const a=k0t[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const $0t=()=>{throw new Error("not implemented")};function qR(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var T0t=Object.freeze({__proto__:null,isBytes:L0,abytes:K4,abool:$v,bytesToHex:Tv,numberToHexUnpadded:o1,hexToNumber:LB,hexToBytes:Nv,bytesToNumberBE:jw,bytesToNumberLE:d_,numberToBytesBE:Ov,numberToBytesLE:N8,numberToVarBytesBE:_0t,ensureBytes:nc,concatBytes:h_,equalBytes:I0t,utf8ToBytes:S0t,inRange:O8,aInRange:lp,bitLen:wme,bitGet:x0t,bitSet:A0t,bitMask:jB,createHmacDrbg:yme,validateObject:I2,notImplemented:$0t,memoized:qR});const _s=BigInt(0),yi=BigInt(1),sw=BigInt(2),N0t=BigInt(3),FR=BigInt(4),YY=BigInt(5),JY=BigInt(8);function ya(t,e){const n=t%e;return n>=_s?n:e+n}function bme(t,e,n){if(e<_s)throw new Error("invalid exponent, negatives unsupported");if(n<=_s)throw new Error("invalid modulus");if(n===yi)return _s;let r=yi;for(;e>_s;)e&yi&&(r=r*t%n),t=t*t%n,e>>=yi;return r}function Jl(t,e,n){let r=t;for(;e-- >_s;)r*=r,r%=n;return r}function HR(t,e){if(t===_s)throw new Error("invert: expected non-zero number");if(e<=_s)throw new Error("invert: expected positive modulus, got "+e);let n=ya(t,e),r=e,i=_s,s=yi;for(;n!==_s;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==yi)throw new Error("invert: does not exist");return ya(i,e)}function O0t(t){const e=(t-yi)/sw;let n,r,i;for(n=t-yi,r=0;n%sw===_s;n/=sw,r++);for(i=sw;i<t&&bme(i,e,t)!==t-yi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+yi)/FR;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+yi)/sw;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let f=o.sqr(d);h<c&&!o.eql(f,o.ONE);h++)f=o.sqr(f);const p=o.pow(l,yi<<BigInt(c-h-1));l=o.sqr(p),u=o.mul(u,p),d=o.mul(d,l),c=h}return u}}function P0t(t){if(t%FR===N0t){const e=(t+yi)/FR;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%JY===YY){const e=(t-YY)/JY;return function(n,r){const i=n.mul(r,sw),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,sw),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return O0t(t)}const R0t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function D0t(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=R0t.reduce((r,i)=>(r[i]="function",r),e);return I2(t,n)}function U0t(t,e,n){if(n<_s)throw new Error("invalid exponent, negatives unsupported");if(n===_s)return t.ONE;if(n===yi)return e;let r=t.ONE,i=e;for(;n>_s;)n&yi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=yi;return r}function M0t(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function vme(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Eme(t,e,n=!1,r={}){if(t<=_s)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=vme(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:jB(i),ZERO:_s,ONE:yi,create:c=>ya(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return _s<=c&&c<t},is0:c=>c===_s,isOdd:c=>(c&yi)===yi,neg:c=>ya(-c,t),eql:(c,l)=>c===l,sqr:c=>ya(c*c,t),add:(c,l)=>ya(c+l,t),sub:(c,l)=>ya(c-l,t),mul:(c,l)=>ya(c*l,t),pow:(c,l)=>U0t(a,c,l),div:(c,l)=>ya(c*HR(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>HR(c,t),sqrt:r.sqrt||(c=>(o||(o=P0t(t)),o(a,c))),invertBatch:c=>M0t(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?N8(c,s):Ov(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?d_(c):jw(c)}});return Object.freeze(a)}function Cme(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function _me(t){const e=Cme(t);return e+Math.ceil(e/2)}function L0t(t,e,n=!1){const r=t.length,i=Cme(e),s=_me(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?d_(t):jw(t),a=ya(o,e-yi)+yi;return n?N8(a,i):Ov(a,i)}const XY=BigInt(0),RI=BigInt(1);function fO(t,e){const n=e.negate();return t?n:e}function Ime(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function gO(t,e){Ime(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function j0t(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function B0t(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const mO=new WeakMap,Sme=new WeakMap;function wO(t){return Sme.get(t)||1}function z0t(t,e){return{constTimeNegate:fO,hasPrecomputes(n){return wO(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>XY;)r&RI&&(i=i.add(s)),s=s.double(),r>>=RI;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=gO(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=gO(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const p=h*o;let f=Number(i&l);i>>=d,f>o&&(f-=u,i+=RI);const g=p,m=p+Math.abs(f)-1,b=h%2!==0,y=f<0;f===0?c=c.add(fO(b,r[g])):a=a.add(fO(y,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=gO(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===XY)break;let p=Number(i&c);if(i>>=u,p>a&&(p-=l,i+=RI),p===0)continue;let f=r[h+Math.abs(p)-1];p<0&&(f=f.negate()),s=s.add(f)}return s},getPrecomputes(n,r,i){let s=mO.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&mO.set(r,i(s))),s},wNAFCached(n,r,i){const s=wO(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=wO(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Ime(r,e),Sme.set(n,r),mO.delete(n)}}}function W0t(t,e,n,r){if(j0t(n,t),B0t(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=wme(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let p=0;p<r.length;p++){const f=r[p],g=Number(f>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[p])}let h=i;for(let p=c.length-1,f=i;p>0;p--)f=f.add(c[p]),h=h.add(f);if(u=u.add(h),d!==0)for(let p=0;p<o;p++)u=u.double()}return u}function xme(t){return D0t(t.Fp),I2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vme(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const cb=BigInt(0),yO=BigInt(1);function q0t(t){return I2(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function F0t(t){const e=q0t(t),{P:n}=e,r=y=>ya(y,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(y=>y),c=e.powPminus2||(y=>bme(y,n-BigInt(2),n));function l(y,v,w){const C=r(y*(v-w));return v=r(v-C),w=r(w+C),[v,w]}const u=(e.a-BigInt(2))/BigInt(4);function d(y,v){lp("u",y,cb,n),lp("scalar",v,cb,n);const w=v,C=y;let I=yO,k=cb,P=y,S=yO,N=cb,R;for(let O=BigInt(i-1);O>=cb;O--){const T=w>>O&yO;N^=T,R=l(N,I,P),I=R[0],P=R[1],R=l(N,k,S),k=R[0],S=R[1],N=T;const E=I+k,_=r(E*E),x=I-k,M=r(x*x),A=_-M,U=P+S,B=P-S,z=r(B*E),H=r(U*x),q=z+H,F=z-H;P=r(q*q),S=r(C*r(F*F)),I=r(_*M),k=r(A*(_+r(u*A)))}R=l(N,I,P),I=R[0],P=R[1],R=l(N,k,S),k=R[0],S=R[1];const D=c(k);return r(I*D)}function h(y){return N8(r(y),s)}function p(y){const v=nc("u coordinate",y,s);return o===32&&(v[31]&=127),d_(v)}function f(y){const v=nc("scalar",y),w=v.length;if(w!==s&&w!==o){let C=""+s+" or "+o;throw new Error("invalid scalar, expected "+C+" bytes, got "+w)}return d_(a(v))}function g(y,v){const w=p(v),C=f(y),I=d(w,C);if(I===cb)throw new Error("invalid private or public key received");return h(I)}const m=h(e.Gu);function b(y){return g(y,m)}return{scalarMult:g,scalarMultBase:b,getSharedSecret:(y,v)=>g(y,v),getPublicKey:y=>b(y),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}}const VR=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const H0t=BigInt(1),QY=BigInt(2),V0t=BigInt(3),K0t=BigInt(5);BigInt(8);function Z0t(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=VR,o=t*t%s*t%s,a=Jl(o,QY,s)*o%s,c=Jl(a,H0t,s)*t%s,l=Jl(c,K0t,s)*c%s,u=Jl(l,e,s)*l%s,d=Jl(u,n,s)*u%s,h=Jl(d,r,s)*d%s,p=Jl(h,i,s)*h%s,f=Jl(p,i,s)*h%s,g=Jl(f,e,s)*l%s;return{pow_p_5_8:Jl(g,QY,s)*t%s,b2:o}}function G0t(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const KR=F0t({P:VR,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=VR,{pow_p_5_8:n,b2:r}=Z0t(t);return ya(Jl(n,V0t,e)*r,e)},adjustScalarBytes:G0t,randomBytes:_2});function eJ(t){t.lowS!==void 0&&$v("lowS",t.lowS),t.prehash!==void 0&&$v("prehash",t.prehash)}function Y0t(t){const e=xme(t);I2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:J0t,hexToBytes:X0t}=T0t;let Q0t=class extends Error{constructor(e=""){super(e)}};const Hh={Err:Q0t,_tlv:{encode:(t,e)=>{const{Err:n}=Hh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=o1(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?o1(i.length/2|128):"";return o1(t)+s+i+e},decode(t,e){const{Err:n}=Hh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Hh;if(t<Jh)throw new e("integer: negative integers are not allowed");let n=o1(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Hh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return J0t(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Hh,i=typeof t=="string"?X0t(t):t;K4(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Hh,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Jh=BigInt(0),hs=BigInt(1);BigInt(2);const tJ=BigInt(3);BigInt(4);function eyt(t){const e=Y0t(t),{Fp:n}=e,r=Eme(e.n,e.nBitLength),i=e.toBytes||((g,m,b)=>{const y=m.toAffine();return h_(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=e.fromBytes||(g=>{const m=g.subarray(1),b=n.fromBytes(m.subarray(0,n.BYTES)),y=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:b,y}});function o(g){const{a:m,b}=e,y=n.sqr(g),v=n.mul(y,g);return n.add(n.add(v,n.mul(g,m)),b)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return O8(g,hs,e.n)}function c(g){const{allowedPrivateKeyLengths:m,nByteLength:b,wrapPrivateKey:y,n:v}=e;if(m&&typeof g!="bigint"){if(L0(g)&&(g=Tv(g)),typeof g!="string"||!m.includes(g.length))throw new Error("invalid private key");g=g.padStart(b*2,"0")}let w;try{w=typeof g=="bigint"?g:jw(nc("private key",g,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof g)}return y&&(w=ya(w,v)),lp("private key",w,hs,v),w}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const u=qR((g,m)=>{const{px:b,py:y,pz:v}=g;if(n.eql(v,n.ONE))return{x:b,y};const w=g.is0();m==null&&(m=w?n.ONE:n.inv(v));const C=n.mul(b,m),I=n.mul(y,m),k=n.mul(v,m);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:C,y:I}}),d=qR(g=>{if(g.is0()){if(e.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:m,y:b}=g.toAffine();if(!n.isValid(m)||!n.isValid(b))throw new Error("bad point: x or y not FE");const y=n.sqr(b),v=o(m);if(!n.eql(y,v))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,b,y){if(this.px=m,this.py=b,this.pz=y,m==null||!n.isValid(m))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x:b,y}=m||{};if(!m||!n.isValid(b)||!n.isValid(y))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const v=w=>n.eql(w,n.ZERO);return v(b)&&v(y)?h.ZERO:new h(b,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const b=n.invertBatch(m.map(y=>y.pz));return m.map((y,v)=>y.toAffine(b[v])).map(h.fromAffine)}static fromHex(m){const b=h.fromAffine(s(nc("pointHex",m)));return b.assertValidity(),b}static fromPrivateKey(m){return h.BASE.multiply(c(m))}static msm(m,b){return W0t(h,r,m,b)}_setWindowSize(m){f.setWindowSize(this,m)}assertValidity(){d(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:b,py:y,pz:v}=this,{px:w,py:C,pz:I}=m,k=n.eql(n.mul(b,I),n.mul(w,v)),P=n.eql(n.mul(y,I),n.mul(C,v));return k&&P}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b}=e,y=n.mul(b,tJ),{px:v,py:w,pz:C}=this;let I=n.ZERO,k=n.ZERO,P=n.ZERO,S=n.mul(v,v),N=n.mul(w,w),R=n.mul(C,C),D=n.mul(v,w);return D=n.add(D,D),P=n.mul(v,C),P=n.add(P,P),I=n.mul(m,P),k=n.mul(y,R),k=n.add(I,k),I=n.sub(N,k),k=n.add(N,k),k=n.mul(I,k),I=n.mul(D,I),P=n.mul(y,P),R=n.mul(m,R),D=n.sub(S,R),D=n.mul(m,D),D=n.add(D,P),P=n.add(S,S),S=n.add(P,S),S=n.add(S,R),S=n.mul(S,D),k=n.add(k,S),R=n.mul(w,C),R=n.add(R,R),S=n.mul(R,D),I=n.sub(I,S),P=n.mul(R,N),P=n.add(P,P),P=n.add(P,P),new h(I,k,P)}add(m){l(m);const{px:b,py:y,pz:v}=this,{px:w,py:C,pz:I}=m;let k=n.ZERO,P=n.ZERO,S=n.ZERO;const N=e.a,R=n.mul(e.b,tJ);let D=n.mul(b,w),O=n.mul(y,C),T=n.mul(v,I),E=n.add(b,y),_=n.add(w,C);E=n.mul(E,_),_=n.add(D,O),E=n.sub(E,_),_=n.add(b,v);let x=n.add(w,I);return _=n.mul(_,x),x=n.add(D,T),_=n.sub(_,x),x=n.add(y,v),k=n.add(C,I),x=n.mul(x,k),k=n.add(O,T),x=n.sub(x,k),S=n.mul(N,_),k=n.mul(R,T),S=n.add(k,S),k=n.sub(O,S),S=n.add(O,S),P=n.mul(k,S),O=n.add(D,D),O=n.add(O,D),T=n.mul(N,T),_=n.mul(R,_),O=n.add(O,T),T=n.sub(D,T),T=n.mul(N,T),_=n.add(_,T),D=n.mul(O,_),P=n.add(P,D),D=n.mul(x,_),k=n.mul(E,k),k=n.sub(k,D),D=n.mul(E,O),S=n.mul(x,S),S=n.add(S,D),new h(k,P,S)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return f.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:b,n:y}=e;lp("scalar",m,Jh,y);const v=h.ZERO;if(m===Jh)return v;if(this.is0()||m===hs)return this;if(!b||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:w,k1:C,k2neg:I,k2:k}=b.splitScalar(m),P=v,S=v,N=this;for(;C>Jh||k>Jh;)C&hs&&(P=P.add(N)),k&hs&&(S=S.add(N)),N=N.double(),C>>=hs,k>>=hs;return w&&(P=P.negate()),I&&(S=S.negate()),S=new h(n.mul(S.px,b.beta),S.py,S.pz),P.add(S)}multiply(m){const{endo:b,n:y}=e;lp("scalar",m,hs,y);let v,w;if(b){const{k1neg:C,k1:I,k2neg:k,k2:P}=b.splitScalar(m);let{p:S,f:N}=this.wNAF(I),{p:R,f:D}=this.wNAF(P);S=f.constTimeNegate(C,S),R=f.constTimeNegate(k,R),R=new h(n.mul(R.px,b.beta),R.py,R.pz),v=S.add(R),w=N.add(D)}else{const{p:C,f:I}=this.wNAF(m);v=C,w=I}return h.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(m,b,y){const v=h.BASE,w=(I,k)=>k===Jh||k===hs||!I.equals(v)?I.multiplyUnsafe(k):I.multiply(k),C=w(this,b).add(w(m,y));return C.is0()?void 0:C}toAffine(m){return u(this,m)}isTorsionFree(){const{h:m,isTorsionFree:b}=e;if(m===hs)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:b}=e;return m===hs?this:b?b(h,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return $v("isCompressed",m),this.assertValidity(),i(h,this,m)}toHex(m=!0){return $v("isCompressed",m),Tv(this.toRawBytes(m))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,f=z0t(h,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function tyt(t){const e=xme(t);return I2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function nyt(t){const e=tyt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(T){return ya(T,r)}function a(T){return HR(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=eyt({...e,toBytes(T,E,_){const x=E.toAffine(),M=n.toBytes(x.x),A=h_;return $v("isCompressed",_),_?A(Uint8Array.from([E.hasEvenY()?2:3]),M):A(Uint8Array.from([4]),M,n.toBytes(x.y))},fromBytes(T){const E=T.length,_=T[0],x=T.subarray(1);if(E===i&&(_===2||_===3)){const M=jw(x);if(!O8(M,hs,n.ORDER))throw new Error("Point is not on curve");const A=u(M);let U;try{U=n.sqrt(A)}catch(z){const H=z instanceof Error?": "+z.message:"";throw new Error("Point is not on curve"+H)}const B=(U&hs)===hs;return(_&1)===1!==B&&(U=n.neg(U)),{x:M,y:U}}else if(E===s&&_===4){const M=n.fromBytes(x.subarray(0,n.BYTES)),A=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:M,y:A}}else{const M=i,A=s;throw new Error("invalid Point, expected length of "+M+", or uncompressed "+A+", got "+E)}}}),h=T=>Tv(Ov(T,e.nByteLength));function p(T){const E=r>>hs;return T>E}function f(T){return p(T)?o(-T):T}const g=(T,E,_)=>jw(T.slice(E,_));class m{constructor(E,_,x){this.r=E,this.s=_,this.recovery=x,this.assertValidity()}static fromCompact(E){const _=e.nByteLength;return E=nc("compactSignature",E,_*2),new m(g(E,0,_),g(E,_,2*_))}static fromDER(E){const{r:_,s:x}=Hh.toSig(nc("DER",E));return new m(_,x)}assertValidity(){lp("r",this.r,hs,r),lp("s",this.s,hs,r)}addRecoveryBit(E){return new m(this.r,this.s,E)}recoverPublicKey(E){const{r:_,s:x,recovery:M}=this,A=I(nc("msgHash",E));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const U=M===2||M===3?_+e.n:_;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=(M&1)===0?"02":"03",z=c.fromHex(B+h(U)),H=a(U),q=o(-A*H),F=o(x*H),K=c.BASE.multiplyAndAddUnsafe(z,q,F);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Nv(this.toDERHex())}toDERHex(){return Hh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nv(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(T){try{return l(T),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const T=_me(e.n);return L0t(e.randomBytes(T),e.n)},precompute(T=8,E=c.BASE){return E._setWindowSize(T),E.multiply(BigInt(3)),E}};function y(T,E=!0){return c.fromPrivateKey(T).toRawBytes(E)}function v(T){const E=L0(T),_=typeof T=="string",x=(E||_)&&T.length;return E?x===i||x===s:_?x===2*i||x===2*s:T instanceof c}function w(T,E,_=!0){if(v(T))throw new Error("first arg must be private key");if(!v(E))throw new Error("second arg must be public key");return c.fromHex(E).multiply(l(T)).toRawBytes(_)}const C=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const E=jw(T),_=T.length*8-e.nBitLength;return _>0?E>>BigInt(_):E},I=e.bits2int_modN||function(T){return o(C(T))},k=jB(e.nBitLength);function P(T){return lp("num < 2^"+e.nBitLength,T,Jh,k),Ov(T,e.nByteLength)}function S(T,E,_=N){if(["recovered","canonical"].some(se=>se in _))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:M}=e;let{lowS:A,prehash:U,extraEntropy:B}=_;A==null&&(A=!0),T=nc("msgHash",T),eJ(_),U&&(T=nc("prehashed msgHash",x(T)));const z=I(T),H=l(E),q=[P(H),P(z)];if(B!=null&&B!==!1){const se=B===!0?M(n.BYTES):B;q.push(nc("extraEntropy",se))}const F=h_(...q),K=z;function ee(se){const te=C(se);if(!d(te))return;const ue=a(te),ge=c.BASE.multiply(te).toAffine(),$e=o(ge.x);if($e===Jh)return;const he=o(ue*o(K+$e*H));if(he===Jh)return;let me=(ge.x===$e?0:2)|Number(ge.y&hs),Me=he;return A&&p(he)&&(Me=f(he),me^=1),new m($e,Me,me)}return{seed:F,k2sig:ee}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function D(T,E,_=N){const{seed:x,k2sig:M}=S(T,E,_),A=e;return yme(A.hash.outputLen,A.nByteLength,A.hmac)(x,M)}c.BASE._setWindowSize(8);function O(T,E,_,x=R){const M=T;E=nc("msgHash",E),_=nc("publicKey",_);const{lowS:A,prehash:U,format:B}=x;if(eJ(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&B!=="compact"&&B!=="der")throw new Error("format must be compact or der");const z=typeof M=="string"||L0(M),H=!z&&!B&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!z&&!H)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,F;try{if(H&&(q=new m(M.r,M.s)),z){try{B!=="compact"&&(q=m.fromDER(M))}catch(he){if(!(he instanceof Hh.Err))throw he}!q&&B!=="der"&&(q=m.fromCompact(M))}F=c.fromHex(_)}catch{return!1}if(!q||A&&q.hasHighS())return!1;U&&(E=e.hash(E));const{r:K,s:ee}=q,se=I(E),te=a(ee),ue=o(se*te),ge=o(K*te),$e=c.BASE.multiplyAndAddUnsafe(F,ue,ge)?.toAffine();return $e?o($e.x)===K:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:w,sign:D,verify:O,ProjectivePoint:c,Signature:m,utils:b}}function ryt(t){return{hash:t,hmac:(e,...n)=>k8(t,e,awt(...n)),randomBytes:_2}}function iyt(t,e){const n=r=>nyt({...t,...ryt(r)});return{...n(e),create:n}}const Ame=Eme(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),syt=Ame.create(BigInt("-3")),oyt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),ayt=iyt({a:syt,b:oyt,Fp:Ame,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},V4),kme="base10",Fo="base16",pu="base64pad",Kf="base64url",Z4="utf8",$me=0,up=1,G4=2,cyt=0,nJ=1,IE=12,BB=32;function lyt(){const t=KR.utils.randomPrivateKey(),e=KR.getPublicKey(t);return{privateKey:ur(t,Fo),publicKey:ur(e,Fo)}}function ZR(){const t=_2(BB);return ur(t,Fo)}function uyt(t,e){const n=KR.getSharedSecret(Gr(t,Fo),Gr(e,Fo)),r=f0t(V4,n,void 0,void 0,BB);return ur(r,Fo)}function bS(t){const e=V4(Gr(t,Fo));return ur(e,Fo)}function od(t){const e=V4(Gr(t,Z4));return ur(e,Fo)}function Tme(t){return Gr(`${t}`,kme)}function j0(t){return Number(ur(t,kme))}function Nme(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Ome(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function dyt(t){const e=Tme(typeof t.type<"u"?t.type:$me);if(j0(e)===up&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Gr(t.senderPublicKey,Fo):void 0,r=typeof t.iv<"u"?Gr(t.iv,Fo):_2(IE),i=Gr(t.symKey,Fo),s=gme(i,r).encrypt(Gr(t.message,Z4)),o=Pme({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Kf?Nme(o):o}function hyt(t){const e=Gr(t.symKey,Fo),{sealed:n,iv:r}=p_({encoded:t.encoded,encoding:t.encoding}),i=gme(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return ur(i,Z4)}function pyt(t,e){const n=Tme(G4),r=_2(IE),i=Gr(t,Z4),s=Pme({type:n,sealed:i,iv:r});return e===Kf?Nme(s):s}function fyt(t,e){const{sealed:n}=p_({encoded:t,encoding:e});return ur(n,Z4)}function Pme(t){if(j0(t.type)===G4)return ur(yd([t.type,t.sealed]),pu);if(j0(t.type)===up){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ur(yd([t.type,t.senderPublicKey,t.iv,t.sealed]),pu)}return ur(yd([t.type,t.iv,t.sealed]),pu)}function p_(t){const e=(t.encoding||pu)===Kf?Ome(t.encoded):t.encoded,n=Gr(e,pu),r=n.slice(cyt,nJ),i=nJ;if(j0(r)===up){const c=i+BB,l=c+IE,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(j0(r)===G4){const c=n.slice(i),l=_2(IE);return{type:r,sealed:c,iv:l}}const s=i+IE,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function gyt(t,e){const n=p_({encoded:t,encoding:e?.encoding});return Rme({type:j0(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ur(n.senderPublicKey,Fo):void 0,receiverPublicKey:e?.receiverPublicKey})}function Rme(t){const e=t?.type||$me;if(e===up){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function rJ(t){return t.type===up&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function iJ(t){return t.type===G4}function myt(t){const e=window.Buffer.from(t.x,"base64"),n=window.Buffer.from(t.y,"base64");return yd([new Uint8Array([4]),e,n])}function wyt(t,e){const[n,r,i]=t.split("."),s=window.Buffer.from(Ome(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=V4(c),u=myt(e);if(!ayt.verify(yd([o,a]),l,u))throw new Error("Invalid signature");return mp(t).payload}const yyt="irn";function X6(t){return t?.relay||{protocol:yyt}}function tE(t){const e=UU[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function byt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function sJ(t){if(!t.includes("wc:")){const l=nme(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:vyt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:byt(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function vyt(t){return t.startsWith("//")?t.substring(2):t}function Eyt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function oJ(t){const e=new URLSearchParams,n=Eyt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function DI(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Cyt=Object.defineProperty,_yt=Object.defineProperties,Iyt=Object.getOwnPropertyDescriptors,aJ=Object.getOwnPropertySymbols,Syt=Object.prototype.hasOwnProperty,xyt=Object.prototype.propertyIsEnumerable,cJ=(t,e,n)=>e in t?Cyt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ayt=(t,e)=>{for(var n in e||(e={}))Syt.call(e,n)&&cJ(t,n,e[n]);if(aJ)for(var n of aJ(e))xyt.call(e,n)&&cJ(t,n,e[n]);return t},kyt=(t,e)=>_yt(t,Iyt(e));function S2(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function $yt(t){const e=[];return Object.values(t).forEach(n=>{e.push(...S2(n.accounts))}),e}function Tyt(t,e){const n=[];return Object.values(t).forEach(r=>{S2(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Nyt(t,e){const n=[];return Object.values(t).forEach(r=>{S2(r.accounts).includes(e)&&n.push(...r.events)}),n}function P8(t){return t.includes(":")}function a1(t){return P8(t)?t.split(":")[0]:t}function lJ(t){var e,n,r;const i={};if(!cg(t))return i;for(const[s,o]of Object.entries(t)){const a=P8(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=a1(s);i[u]=kyt(Ayt({},i[u]),{chains:bd(a,(e=i[u])==null?void 0:e.chains),methods:bd(c,(n=i[u])==null?void 0:n.methods),events:bd(l,(r=i[u])==null?void 0:r.events)})}return i}function Oyt(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function uJ(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=Oyt(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=bd(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function Pyt(t,e){var n,r,i,s,o,a;const c=lJ(t),l=lJ(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:bd((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:bd((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:bd((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const Ryt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Dyt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ge(t,e){const{message:n,code:r}=Dyt[t];return{message:e?`${n} ${e}`:n,code:r}}function er(t,e){const{message:n,code:r}=Ryt[t];return{message:e?`${n} ${e}`:n,code:r}}function vu(t,e){return!!Array.isArray(t)}function cg(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function zs(t){return typeof t>"u"}function Ri(t,e){return e&&zs(t)?!0:typeof t=="string"&&!!t.trim().length}function zB(t,e){return e&&zs(t)?!0:typeof t=="number"&&!isNaN(t)}function Uyt(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return xw(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=S2(a),d=n[o];(!xw(Jge(o,d),u)||!xw(d.methods,c)||!xw(d.events,l))&&(s=!1)}),s):!1}function Q6(t){return Ri(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Myt(t){if(Ri(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Q6(n)}}return!1}function Lyt(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Ri(t,!1)){if(e(t))return!0;const n=nme(t);return e(n)}}catch{}return!1}function jyt(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Byt(t){return t?.topic}function zyt(t,e){let n=null;return Ri(t?.publicKey,!1)||(n=Ge("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function dJ(t){let e=!0;return vu(t)?t.length&&(e=t.every(n=>Ri(n,!1))):e=!1,e}function Wyt(t,e,n){let r=null;return vu(e)&&e.length?e.forEach(i=>{r||Q6(i)||(r=er("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Q6(t)||(r=er("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function qyt(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=Wyt(i,Jge(i,s),`${e} ${n}`);o&&(r=o)}),r}function Fyt(t,e){let n=null;return vu(t)?t.forEach(r=>{n||Myt(r)||(n=er("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=er("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Hyt(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Fyt(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function Vyt(t,e){let n=null;return dJ(t?.methods)?dJ(t?.events)||(n=er("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=er("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Dme(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Vyt(r,`${e}, namespace`);i&&(n=i)}),n}function Kyt(t,e,n){let r=null;if(t&&cg(t)){const i=Dme(t,e);i&&(r=i);const s=qyt(t,e,n);s&&(r=s)}else r=Ge("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function bO(t,e){let n=null;if(t&&cg(t)){const r=Dme(t,e);r&&(n=r);const i=Hyt(t,e);i&&(n=i)}else n=Ge("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Ume(t){return Ri(t.protocol,!0)}function Zyt(t,e){let n=!1;return t?t&&vu(t)&&t.length&&t.forEach(r=>{n=Ume(r)}):n=!0,n}function Gyt(t){return typeof t=="number"}function la(t){return typeof t<"u"&&typeof t!==null}function Yyt(t){return!(!t||typeof t!="object"||!t.code||!zB(t.code,!1)||!t.message||!Ri(t.message,!1))}function Jyt(t){return!(zs(t)||!Ri(t.method,!1))}function Xyt(t){return!(zs(t)||zs(t.result)&&zs(t.error)||!zB(t.id,!1)||!Ri(t.jsonrpc,!1))}function Qyt(t){return!(zs(t)||!Ri(t.name,!1))}function hJ(t,e){return!(!Q6(e)||!$yt(t).includes(e))}function ebt(t,e,n){return Ri(n,!1)?Tyt(t,e).includes(n):!1}function tbt(t,e,n){return Ri(n,!1)?Nyt(t,e).includes(n):!1}function pJ(t,e,n){let r=null;const i=nbt(t),s=rbt(e),o=Object.keys(i),a=Object.keys(s),c=fJ(Object.keys(t)),l=fJ(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Ge("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),xw(o,a)||(r=Ge("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=S2(e[d].accounts);h.includes(d)||(r=Ge("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(xw(i[d].methods,s[d].methods)?xw(i[d].events,s[d].events)||(r=Ge("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Ge("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function nbt(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function fJ(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function rbt(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:S2(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function ibt(t,e){return zB(t,!1)&&t<=e.max&&t>=e.min}function gJ(){const t=F4();return new Promise(e=>{switch(t){case dc.browser:e(sbt());break;case dc.reactNative:e(obt());break;case dc.node:e(abt());break;default:e(!0)}})}function sbt(){return C2()&&navigator?.onLine}async function obt(){return hm()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function abt(){return!0}function cbt(t){switch(F4()){case dc.browser:lbt(t);break;case dc.reactNative:ubt(t);break}}function lbt(t){!hm()&&C2()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function ubt(t){hm()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(e=>t(e?.isConnected))}function dbt(){var t;return C2()&&_r.getDocument()?((t=_r.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const vO={};let N3=class{static get(e){return vO[e]}static set(e,n){vO[e]=n}static delete(e){delete vO[e]}};var EO,mJ;function hbt(){if(mJ)return EO;mJ=1;const t=cte();EO=i;const e=C().console||{},n={mapHttpRequest:f,mapHttpResponse:f,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:f,res:f,err:h};function r(I,k){return Array.isArray(I)?I.filter(function(S){return S!=="!stdSerializers.err"}):I===!0?Object.keys(k):!1}function i(I){I=I||{},I.browser=I.browser||{};const k=I.browser.transmit;if(k&&typeof k.send!="function")throw Error("pino: transmit option must have a send function");const P=I.browser.write||e;I.browser.write&&(I.browser.asObject=!0);const S=I.serializers||{},N=r(I.browser.serialize,S);let R=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf("!stdSerializers.err")>-1&&(R=!1);const D=["error","fatal","warn","info","debug","trace"];typeof P=="function"&&(P.error=P.fatal=P.warn=P.info=P.debug=P.trace=P),I.enabled===!1&&(I.level="silent");const O=I.level||"info",T=Object.create(P);T.log||(T.log=m),Object.defineProperty(T,"levelVal",{get:_}),Object.defineProperty(T,"level",{get:x,set:M});const E={transmit:k,serialize:N,asObject:I.browser.asObject,levels:D,timestamp:p(I)};T.levels=i.levels,T.level=O,T.setMaxListeners=T.getMaxListeners=T.emit=T.addListener=T.on=T.prependListener=T.once=T.prependOnceListener=T.removeListener=T.removeAllListeners=T.listeners=T.listenerCount=T.eventNames=T.write=T.flush=m,T.serializers=S,T._serialize=N,T._stdErrSerialize=R,T.child=A,k&&(T._logEvent=d());function _(){return this.level==="silent"?1/0:this.levels.values[this.level]}function x(){return this._level}function M(U){if(U!=="silent"&&!this.levels.values[U])throw Error("unknown level "+U);this._level=U,s(E,T,"error","log"),s(E,T,"fatal","error"),s(E,T,"warn","error"),s(E,T,"info","log"),s(E,T,"debug","log"),s(E,T,"trace","log")}function A(U,B){if(!U)throw new Error("missing bindings for child Pino");B=B||{},N&&U.serializers&&(B.serializers=U.serializers);const z=B.serializers;if(N&&z){var H=Object.assign({},S,z),q=I.browser.serialize===!0?Object.keys(H):N;delete U.serializers,c([U],q,H,this._stdErrSerialize)}function F(K){this._childLevel=(K._childLevel|0)+1,this.error=l(K,U,"error"),this.fatal=l(K,U,"fatal"),this.warn=l(K,U,"warn"),this.info=l(K,U,"info"),this.debug=l(K,U,"debug"),this.trace=l(K,U,"trace"),H&&(this.serializers=H,this._serialize=q),k&&(this._logEvent=d([].concat(K._logEvent.bindings,U)))}return F.prototype=this,new F(this)}return T}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:y,unixTime:v,isoTime:w});function s(I,k,P,S){const N=Object.getPrototypeOf(k);k[P]=k.levelVal>k.levels.values[P]?m:N[P]?N[P]:e[P]||e[S]||m,o(I,k,P)}function o(I,k,P){!I.transmit&&k[P]===m||(k[P]=(function(S){return function(){const R=I.timestamp(),D=new Array(arguments.length),O=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var T=0;T<D.length;T++)D[T]=arguments[T];if(I.serialize&&!I.asObject&&c(D,this._serialize,this.serializers,this._stdErrSerialize),I.asObject?S.call(O,a(this,P,D,R)):S.apply(O,D),I.transmit){const E=I.transmit.level||k.level,_=i.levels.values[E],x=i.levels.values[P];if(x<_)return;u(this,{ts:R,methodLevel:P,methodValue:x,transmitValue:i.levels.values[I.transmit.level||k.level],send:I.transmit.send,val:k.levelVal},D)}}})(k[P]))}function a(I,k,P,S){I._serialize&&c(P,I._serialize,I.serializers,I._stdErrSerialize);const N=P.slice();let R=N[0];const D={};S&&(D.time=S),D.level=i.levels.values[k];let O=(I._childLevel|0)+1;if(O<1&&(O=1),R!==null&&typeof R=="object"){for(;O--&&typeof N[0]=="object";)Object.assign(D,N.shift());R=N.length?t(N.shift(),N):void 0}else typeof R=="string"&&(R=t(N.shift(),N));return R!==void 0&&(D.msg=R),D}function c(I,k,P,S){for(const N in I)if(S&&I[N]instanceof Error)I[N]=i.stdSerializers.err(I[N]);else if(typeof I[N]=="object"&&!Array.isArray(I[N]))for(const R in I[N])k&&k.indexOf(R)>-1&&R in P&&(I[N][R]=P[R](I[N][R]))}function l(I,k,P){return function(){const S=new Array(1+arguments.length);S[0]=k;for(var N=1;N<S.length;N++)S[N]=arguments[N-1];return I[P].apply(this,S)}}function u(I,k,P){const S=k.send,N=k.ts,R=k.methodLevel,D=k.methodValue,O=k.val,T=I._logEvent.bindings;c(P,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=N,I._logEvent.messages=P.filter(function(E){return T.indexOf(E)===-1}),I._logEvent.level.label=R,I._logEvent.level.value=D,S(R,I._logEvent,O),I._logEvent=d(T)}function d(I){return{ts:0,messages:[],bindings:I||[],level:{label:"",value:0}}}function h(I){const k={type:I.constructor.name,msg:I.message,stack:I.stack};for(const P in I)k[P]===void 0&&(k[P]=I[P]);return k}function p(I){return typeof I.timestamp=="function"?I.timestamp:I.timestamp===!1?b:y}function f(){return{}}function g(I){return I}function m(){}function b(){return!1}function y(){return Date.now()}function v(){return Math.round(Date.now()/1e3)}function w(){return new Date(Date.now()).toISOString()}function C(){function I(k){return typeof k<"u"&&k}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return EO}var qb=hbt();const pm=ny(qb),pbt={level:"info"},Y4="custom_context",WB=1e3*1024;let fbt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},wJ=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new fbt(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},Mme=class{constructor(e,n=WB){this.level=e??"error",this.levelValue=qb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new wJ(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===qb.levels.values.error?console.error(e):n===qb.levels.values.warn?console.warn(e):n===qb.levels.values.debug?console.debug(e):n===qb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(fc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new wJ(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(fc({extraMetadata:e})),new Blob(n,{type:"application/json"})}},gbt=class{constructor(e,n=WB){this.baseChunkLogger=new Mme(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},mbt=class{constructor(e,n=WB){this.baseChunkLogger=new Mme(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var wbt=Object.defineProperty,ybt=Object.defineProperties,bbt=Object.getOwnPropertyDescriptors,yJ=Object.getOwnPropertySymbols,vbt=Object.prototype.hasOwnProperty,Ebt=Object.prototype.propertyIsEnumerable,bJ=(t,e,n)=>e in t?wbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eA=(t,e)=>{for(var n in e||(e={}))vbt.call(e,n)&&bJ(t,n,e[n]);if(yJ)for(var n of yJ(e))Ebt.call(e,n)&&bJ(t,n,e[n]);return t},tA=(t,e)=>ybt(t,bbt(e));function Zp(t){return tA(eA({},t),{level:t?.level||pbt.level})}function Cbt(t,e=Y4){return t[e]||""}function _bt(t,e,n=Y4){return t[n]=e,t}function kr(t,e=Y4){let n="";return typeof t.bindings>"u"?n=Cbt(t,e):n=t.bindings().context||"",n}function Ibt(t,e,n=Y4){const r=kr(t,n);return r.trim()?`${r}/${e}`:e}function Yn(t,e,n=Y4){const r=Ibt(t,e,n),i=t.child({context:r});return _bt(i,r,n)}function Sbt(t){var e,n;const r=new gbt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:pm(tA(eA({},t.opts),{level:"trace",browser:tA(eA({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function xbt(t){var e;const n=new mbt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:pm(tA(eA({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function qB(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Sbt(t):xbt(t)}var Abt=Object.defineProperty,kbt=(t,e,n)=>e in t?Abt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vJ=(t,e,n)=>kbt(t,typeof e!="symbol"?e+"":e,n);let $bt=class extends Yi{constructor(e){super(),this.opts=e,vJ(this,"protocol","wc"),vJ(this,"version",2)}};var Tbt=Object.defineProperty,Nbt=(t,e,n)=>e in t?Tbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Obt=(t,e,n)=>Nbt(t,e+"",n);let Pbt=class extends Yi{constructor(e,n){super(),this.core=e,this.logger=n,Obt(this,"records",new Map)}},Rbt=class{constructor(e,n){this.logger=e,this.core=n}},Dbt=class extends Yi{constructor(e,n){super(),this.relayer=e,this.logger=n}},Ubt=class extends Yi{constructor(e){super()}},Mbt=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},Lbt=class extends Yi{constructor(e,n){super(),this.relayer=e,this.logger=n}},jbt=class extends Yi{constructor(e,n){super(),this.core=e,this.logger=n}},Bbt=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},zbt=class{constructor(e,n){this.projectId=e,this.logger=n}},Wbt=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var qbt=Object.defineProperty,Fbt=(t,e,n)=>e in t?qbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EJ=(t,e,n)=>Fbt(t,typeof e!="symbol"?e+"":e,n);let Hbt=class{constructor(e){this.opts=e,EJ(this,"protocol","wc"),EJ(this,"version",2)}},Vbt=class{constructor(e){this.client=e}};var Kbt={};const Lme="wc",jme=2,GR="core",Md=`${Lme}@2:${GR}:`,Zbt={logger:"error"},Gbt={database:":memory:"},Ybt="crypto",CJ="client_ed25519_seed",Jbt=Y.ONE_DAY,Xbt="keychain",Qbt="0.3",e1t="messages",t1t="0.3",_J=Y.SIX_HOURS,n1t="publisher",Bme="irn",r1t="error",zme="wss://relay.walletconnect.org",i1t="relayer",bs={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},s1t="_subscription",Hc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},o1t=.1,YR="2.21.1",qr={link_mode:"link_mode",relay:"relay"},vS={inbound:"inbound",outbound:"outbound"},a1t="0.3",c1t="WALLETCONNECT_CLIENT_ID",IJ="WALLETCONNECT_LINK_MODE_APPS",Ya={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},l1t="subscription",u1t="0.3",d1t="pairing",h1t="0.3",O3={wc_pairingDelete:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Y.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Y.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:0},res:{ttl:Y.ONE_DAY,prompt:!1,tag:0}}},ow={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ql={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},p1t="history",f1t="0.3",g1t="expirer",Qc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},m1t="0.3",w1t="verify-api",y1t="https://verify.walletconnect.com",Wme="https://verify.walletconnect.org",SE=Wme,b1t=`${SE}/v3`,v1t=[y1t,Wme],E1t="echo",C1t="https://echo.walletconnect.com",rd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Oh={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Fl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Lm={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},jm={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},P3={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},_1t=.1,I1t="event-client",S1t=86400,x1t="https://pulse.walletconnect.org/batch";function A1t(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var g=0,m=0,b=0,y=f.length;b!==y&&f[b]===0;)b++,g++;for(var v=(y-b)*u+1>>>0,w=new Uint8Array(v);b!==y;){for(var C=f[b],I=0,k=v-1;(C!==0||I<m)&&k!==-1;k--,I++)C+=256*w[k]>>>0,w[k]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");m=I,b++}for(var P=v-m;P!==v&&w[P]===0;)P++;for(var S=c.repeat(g);P<v;++P)S+=t.charAt(w[P]);return S}function h(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;var g=0;if(f[g]!==" "){for(var m=0,b=0;f[g]===c;)m++,g++;for(var y=(f.length-g)*l+1>>>0,v=new Uint8Array(y);f[g];){var w=n[f.charCodeAt(g)];if(w===255)return;for(var C=0,I=y-1;(w!==0||C<b)&&I!==-1;I--,C++)w+=a*v[I]>>>0,v[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");b=C,g++}if(f[g]!==" "){for(var k=y-b;k!==y&&v[k]===0;)k++;for(var P=new Uint8Array(m+(y-k)),S=m;k!==y;)P[S++]=v[k++];return P}}}function p(f){var g=h(f);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:p}}var k1t=A1t,$1t=k1t;const qme=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},T1t=t=>new TextEncoder().encode(t),N1t=t=>new TextDecoder().decode(t);let O1t=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},P1t=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Fme(this,e)}},R1t=class{constructor(e){this.decoders=e}or(e){return Fme(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Fme=(t,e)=>new R1t({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let D1t=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new O1t(e,n,r),this.decoder=new P1t(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const R8=({name:t,prefix:e,encode:n,decode:r})=>new D1t(t,e,n,r),J4=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=$1t(n,e);return R8({prefix:t,name:e,encode:r,decode:s=>qme(i(s))})},U1t=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},M1t=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Js=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>R8({prefix:e,name:t,encode(i){return M1t(i,r,n)},decode(i){return U1t(i,r,n,t)}}),L1t=R8({prefix:"\0",name:"identity",encode:t=>N1t(t),decode:t=>T1t(t)});var j1t=Object.freeze({__proto__:null,identity:L1t});const B1t=Js({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var z1t=Object.freeze({__proto__:null,base2:B1t});const W1t=Js({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var q1t=Object.freeze({__proto__:null,base8:W1t});const F1t=J4({prefix:"9",name:"base10",alphabet:"0123456789"});var H1t=Object.freeze({__proto__:null,base10:F1t});const V1t=Js({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),K1t=Js({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Z1t=Object.freeze({__proto__:null,base16:V1t,base16upper:K1t});const G1t=Js({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Y1t=Js({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),J1t=Js({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),X1t=Js({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Q1t=Js({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),evt=Js({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tvt=Js({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nvt=Js({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rvt=Js({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ivt=Object.freeze({__proto__:null,base32:G1t,base32upper:Y1t,base32pad:J1t,base32padupper:X1t,base32hex:Q1t,base32hexupper:evt,base32hexpad:tvt,base32hexpadupper:nvt,base32z:rvt});const svt=J4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ovt=J4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var avt=Object.freeze({__proto__:null,base36:svt,base36upper:ovt});const cvt=J4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lvt=J4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var uvt=Object.freeze({__proto__:null,base58btc:cvt,base58flickr:lvt});const dvt=Js({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hvt=Js({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pvt=Js({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fvt=Js({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var gvt=Object.freeze({__proto__:null,base64:dvt,base64pad:hvt,base64url:pvt,base64urlpad:fvt});const Hme=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),mvt=Hme.reduce((t,e,n)=>(t[n]=e,t),[]),wvt=Hme.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function yvt(t){return t.reduce((e,n)=>(e+=mvt[n],e),"")}function bvt(t){const e=[];for(const n of t){const r=wvt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const vvt=R8({prefix:"ðŸš€",name:"base256emoji",encode:yvt,decode:bvt});var Evt=Object.freeze({__proto__:null,base256emoji:vvt}),Cvt=Vme,SJ=128,_vt=-128,Ivt=Math.pow(2,31);function Vme(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Ivt;)e[n++]=t&255|SJ,t/=128;for(;t&_vt;)e[n++]=t&255|SJ,t>>>=7;return e[n]=t|0,Vme.bytes=n-r+1,e}var Svt=JR,xvt=128,xJ=127;function JR(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw JR.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&xJ)<<i:(o&xJ)*Math.pow(2,i),i+=7}while(o>=xvt);return JR.bytes=s-r,n}var Avt=Math.pow(2,7),kvt=Math.pow(2,14),$vt=Math.pow(2,21),Tvt=Math.pow(2,28),Nvt=Math.pow(2,35),Ovt=Math.pow(2,42),Pvt=Math.pow(2,49),Rvt=Math.pow(2,56),Dvt=Math.pow(2,63),Uvt=function(t){return t<Avt?1:t<kvt?2:t<$vt?3:t<Tvt?4:t<Nvt?5:t<Ovt?6:t<Pvt?7:t<Rvt?8:t<Dvt?9:10},Mvt={encode:Cvt,decode:Svt,encodingLength:Uvt},Kme=Mvt;const AJ=(t,e,n=0)=>(Kme.encode(t,e,n),e),kJ=t=>Kme.encodingLength(t),XR=(t,e)=>{const n=e.byteLength,r=kJ(t),i=r+kJ(n),s=new Uint8Array(i+n);return AJ(t,s,0),AJ(n,s,r),s.set(e,i),new Lvt(t,n,e,s)};let Lvt=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const Zme=({name:t,code:e,encode:n})=>new jvt(t,e,n);let jvt=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?XR(this.code,n):n.then(r=>XR(this.code,r))}else throw Error("Unknown type, must be binary type")}};const Gme=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Bvt=Zme({name:"sha2-256",code:18,encode:Gme("SHA-256")}),zvt=Zme({name:"sha2-512",code:19,encode:Gme("SHA-512")});var Wvt=Object.freeze({__proto__:null,sha256:Bvt,sha512:zvt});const Yme=0,qvt="identity",Jme=qme,Fvt=t=>XR(Yme,Jme(t)),Hvt={code:Yme,name:qvt,encode:Jme,digest:Fvt};var Vvt=Object.freeze({__proto__:null,identity:Hvt});new TextEncoder,new TextDecoder;const $J={...j1t,...z1t,...q1t,...H1t,...Z1t,...ivt,...avt,...uvt,...gvt,...Evt};({...Wvt,...Vvt});function Kvt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Xme(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const TJ=Xme("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),CO=Xme("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Kvt(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Zvt={utf8:TJ,"utf-8":TJ,hex:$J.base16,latin1:CO,ascii:CO,binary:CO,...$J};function Gvt(t,e="utf8"){const n=Zvt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var Yvt=Object.defineProperty,Jvt=(t,e,n)=>e in t?Yvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ju=(t,e,n)=>Jvt(t,typeof e!="symbol"?e+"":e,n);let Xvt=class{constructor(e,n){this.core=e,this.logger=n,Ju(this,"keychain",new Map),Ju(this,"name",Xbt),Ju(this,"version",Qbt),Ju(this,"initialized",!1),Ju(this,"storagePrefix",Md),Ju(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ju(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ju(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Ju(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Ge("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Ju(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Yn(n,this.name)}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,MR(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?LR(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Qvt=Object.defineProperty,e2t=(t,e,n)=>e in t?Qvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rs=(t,e,n)=>e2t(t,typeof e!="symbol"?e+"":e,n);let t2t=class{constructor(e,n,r){this.core=e,this.logger=n,Rs(this,"name",Ybt),Rs(this,"keychain"),Rs(this,"randomSessionIdentifier",ZR()),Rs(this,"initialized",!1),Rs(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Rs(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Rs(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=j1(i);return ek(s.publicKey)}),Rs(this,"generateKeyPair",()=>{this.isInitialized();const i=lyt();return this.setPrivateKey(i.publicKey,i.privateKey)}),Rs(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=j1(s),a=this.randomSessionIdentifier;return await bU(a,i,Jbt,o)}),Rs(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=uyt(a,s);return this.setSymKey(c,o)}),Rs(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||bS(i);return await this.keychain.set(o,i),o}),Rs(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Rs(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Rs(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Rme(o),c=fc(s);if(iJ(a))return pyt(c,o?.encoding);if(rJ(a)){const h=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(h,p)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return dyt({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),Rs(this,"decode",async(i,s,o)=>{this.isInitialized();const a=gyt(s,o);if(iJ(a)){const c=fyt(s,o?.encoding);return Cu(c)}if(rJ(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=hyt({symKey:c,encoded:s,encoding:o?.encoding});return Cu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Rs(this,"getPayloadType",(i,s=pu)=>{const o=p_({encoded:i,encoding:s});return j0(o.type)}),Rs(this,"getPayloadSenderPublicKey",(i,s=pu)=>{const o=p_({encoded:i,encoding:s});return o.senderPublicKey?ur(o.senderPublicKey,Fo):void 0}),this.core=e,this.logger=Yn(n,this.name),this.keychain=r||new Xvt(this.core,this.logger)}get context(){return kr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(CJ)}catch{e=ZR(),await this.keychain.set(CJ,e)}return Gvt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var n2t=Object.defineProperty,r2t=Object.defineProperties,i2t=Object.getOwnPropertyDescriptors,NJ=Object.getOwnPropertySymbols,s2t=Object.prototype.hasOwnProperty,o2t=Object.prototype.propertyIsEnumerable,QR=(t,e,n)=>e in t?n2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a2t=(t,e)=>{for(var n in e||(e={}))s2t.call(e,n)&&QR(t,n,e[n]);if(NJ)for(var n of NJ(e))o2t.call(e,n)&&QR(t,n,e[n]);return t},c2t=(t,e)=>r2t(t,i2t(e)),Ha=(t,e,n)=>QR(t,typeof e!="symbol"?e+"":e,n);let l2t=class extends Rbt{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ha(this,"messages",new Map),Ha(this,"messagesWithoutClientAck",new Map),Ha(this,"name",e1t),Ha(this,"version",t1t),Ha(this,"initialized",!1),Ha(this,"storagePrefix",Md),Ha(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ha(this,"set",async(r,i,s)=>{this.isInitialized();const o=od(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===vS.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,c2t(a2t({},c),{[o]:i}))}return await this.persist(),o}),Ha(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Ha(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Ha(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=od(i);return typeof s[o]<"u"}),Ha(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=od(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Ha(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Yn(e,this.name),this.core=n}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,MR(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,MR(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?LR(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?LR(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var u2t=Object.defineProperty,d2t=Object.defineProperties,h2t=Object.getOwnPropertyDescriptors,OJ=Object.getOwnPropertySymbols,p2t=Object.prototype.hasOwnProperty,f2t=Object.prototype.propertyIsEnumerable,eD=(t,e,n)=>e in t?u2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UI=(t,e)=>{for(var n in e||(e={}))p2t.call(e,n)&&eD(t,n,e[n]);if(OJ)for(var n of OJ(e))f2t.call(e,n)&&eD(t,n,e[n]);return t},_O=(t,e)=>d2t(t,h2t(e)),Hl=(t,e,n)=>eD(t,typeof e!="symbol"?e+"":e,n);let g2t=class extends Dbt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Hl(this,"events",new Ir.EventEmitter),Hl(this,"name",n1t),Hl(this,"queue",new Map),Hl(this,"publishTimeout",Y.toMiliseconds(Y.ONE_MINUTE)),Hl(this,"initialPublishTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),Hl(this,"needsTransportRestart",!1),Hl(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=s?.ttl||_J,c=X6(s),l=s?.prompt||!1,u=s?.tag||0,d=s?.id||Mi().toString(),h={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:s?.attestation,tvf:s?.tvf}},p=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const f=new Promise(async g=>{const m=({id:y})=>{h.opts.id===y&&(this.removeRequestFromQueue(y),this.relayer.events.removeListener(bs.publish,m),g(h))};this.relayer.events.on(bs.publish,m);const b=Qf(new Promise((y,v)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:u,id:d,attestation:s?.attestation,tvf:s?.tvf}).then(y).catch(w=>{this.logger.warn(w,w?.message),v(w)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await b,this.events.removeListener(bs.publish,m)}catch(y){this.queue.set(d,_O(UI({},h),{attempt:1})),this.logger.warn(y,y?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:i,opts:s}}),await Qf(f,this.publishTimeout,p)}catch(f){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(f),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw f}finally{this.queue.delete(d)}}),Hl(this,"on",(r,i)=>{this.events.on(r,i)}),Hl(this,"once",(r,i)=>{this.events.once(r,i)}),Hl(this,"off",(r,i)=>{this.events.off(r,i)}),Hl(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Yn(n,this.name),this.registerEventListeners()}get context(){return kr(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=_J,prompt:l,tag:u,id:d,attestation:h,tvf:p}=e,f={method:tE(X6().protocol).publish,params:UI({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},p),id:d};zs((n=f.params)==null?void 0:n.prompt)&&((r=f.params)==null||delete r.prompt),zs((i=f.params)==null?void 0:i.tag)&&((s=f.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f});const g=await this.relayer.request(f);return this.relayer.events.emit(bs.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,_O(UI({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(_O(UI({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ji.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(bs.connection_stalled);return}this.checkQueue()}),this.relayer.on(bs.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var m2t=Object.defineProperty,w2t=(t,e,n)=>e in t?m2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lb=(t,e,n)=>w2t(t,typeof e!="symbol"?e+"":e,n);let y2t=class{constructor(){lb(this,"map",new Map),lb(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),lb(this,"get",e=>this.map.get(e)||[]),lb(this,"exists",(e,n)=>this.get(e).includes(n)),lb(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),lb(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var b2t=Object.defineProperty,v2t=Object.defineProperties,E2t=Object.getOwnPropertyDescriptors,PJ=Object.getOwnPropertySymbols,C2t=Object.prototype.hasOwnProperty,_2t=Object.prototype.propertyIsEnumerable,tD=(t,e,n)=>e in t?b2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R3=(t,e)=>{for(var n in e||(e={}))C2t.call(e,n)&&tD(t,n,e[n]);if(PJ)for(var n of PJ(e))_2t.call(e,n)&&tD(t,n,e[n]);return t},IO=(t,e)=>v2t(t,E2t(e)),mr=(t,e,n)=>tD(t,typeof e!="symbol"?e+"":e,n);let I2t=class extends Lbt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,mr(this,"subscriptions",new Map),mr(this,"topicMap",new y2t),mr(this,"events",new Ir.EventEmitter),mr(this,"name",l1t),mr(this,"version",u1t),mr(this,"pending",new Map),mr(this,"cached",[]),mr(this,"initialized",!1),mr(this,"storagePrefix",Md),mr(this,"subscribeTimeout",Y.toMiliseconds(Y.ONE_MINUTE)),mr(this,"initialSubscribeTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),mr(this,"clientId"),mr(this,"batchSubscribeTopicsLimit",500),mr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),mr(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=X6(i),o={topic:r,relay:s,transportType:i?.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),mr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),mr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),mr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),mr(this,"on",(r,i)=>{this.events.on(r,i)}),mr(this,"once",(r,i)=>{this.events.once(r,i)}),mr(this,"off",(r,i)=>{this.events.off(r,i)}),mr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),mr(this,"start",async()=>{await this.onConnect()}),mr(this,"stop",async()=>{await this.onDisconnect()}),mr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),mr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),mr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ji.pulse,async()=>{await this.checkPending()}),this.events.on(Ya.created,async r=>{const i=Ya.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Ya.deleted,async r=>{const i=Ya.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Yn(n,this.name),this.clientId=""}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=X6(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=er("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||r?.transportType===qr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:tE(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(r?.transportType===qr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},Y.toMiliseconds(Y.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(Ya.created,d),u(h.id))};this.events.on(Ya.created,d);try{const h=await Qf(new Promise((p,f)=>{this.relayer.request(s).catch(g=>{this.logger.warn(g,g?.message),f(g)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ya.created,d),u(h)}catch{}}),l=await Qf(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(bs.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:tE(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Qf(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(bs.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:tE(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Qf(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(bs.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:tE(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,IO(R3({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,R3({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,R3({},n)),this.topicMap.set(n.topic,e),this.events.emit(Ya.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ya.deleted,IO(R3({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ya.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ya.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>IO(R3({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Ymt(Y.toMiliseconds(Y.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return od(e+await this.getClientId())}};var S2t=Object.defineProperty,RJ=Object.getOwnPropertySymbols,x2t=Object.prototype.hasOwnProperty,A2t=Object.prototype.propertyIsEnumerable,nD=(t,e,n)=>e in t?S2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DJ=(t,e)=>{for(var n in e||(e={}))x2t.call(e,n)&&nD(t,n,e[n]);if(RJ)for(var n of RJ(e))A2t.call(e,n)&&nD(t,n,e[n]);return t},$n=(t,e,n)=>nD(t,typeof e!="symbol"?e+"":e,n);let k2t=class extends Ubt{constructor(e){super(e),$n(this,"protocol","wc"),$n(this,"version",2),$n(this,"core"),$n(this,"logger"),$n(this,"events",new Ir.EventEmitter),$n(this,"provider"),$n(this,"messages"),$n(this,"subscriber"),$n(this,"publisher"),$n(this,"name",i1t),$n(this,"transportExplicitlyClosed",!1),$n(this,"initialized",!1),$n(this,"connectionAttemptInProgress",!1),$n(this,"relayUrl"),$n(this,"projectId"),$n(this,"packageName"),$n(this,"bundleId"),$n(this,"hasExperiencedNetworkDisruption",!1),$n(this,"pingTimeout"),$n(this,"heartBeatTimeout",Y.toMiliseconds(Y.THIRTY_SECONDS+Y.FIVE_SECONDS)),$n(this,"reconnectTimeout"),$n(this,"connectPromise"),$n(this,"reconnectInProgress",!1),$n(this,"requestsInFlight",[]),$n(this,"connectTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),$n(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||Mi().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),$n(this,"resetPingTimeout",()=>{Y6()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),$n(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),$n(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected ðŸ›œ"),this.startPingTimeout(),this.events.emit(bs.connect)}),$n(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected ðŸ›‘"),this.requestsInFlight=[],this.onProviderDisconnect()}),$n(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(bs.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),$n(this,"registerProviderListeners",()=>{this.provider.on(Hc.payload,this.onPayloadHandler),this.provider.on(Hc.connect,this.onConnectHandler),this.provider.on(Hc.disconnect,this.onDisconnectHandler),this.provider.on(Hc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Yn(e.logger,this.name):pm(Zp({level:e.logger||r1t})),this.messages=new l2t(this.logger,e.core),this.subscriber=new I2t(this,this.logger),this.publisher=new g2t(this,this.logger),this.relayUrl=e?.relayUrl||zme,this.projectId=e.projectId,Rmt()?this.packageName=AY():Dmt()&&(this.bundleId=AY()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return kr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:qr.relay},vS.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Ya.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ya.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,DJ({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Qf(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await gJ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Vi(Y.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(bs.message,e),await this.recordMessageEvent(e,vS.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Hc.disconnect,s),await Qf(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Hc.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Hc.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Hc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Y.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(Y6())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Sr(new YU(Bmt({sdkVersion:YR,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),zp(e)){if(!e.method.endsWith(s1t))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:qr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(DJ({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Bd(e)&&this.events.emit(bs.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,vS.inbound),this.events.emit(bs.message,e))}async acknowledgePayload(e){const n=gc(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Hc.payload,this.onPayloadHandler),this.provider.off(Hc.connect,this.onConnectHandler),this.provider.off(Hc.disconnect,this.onDisconnectHandler),this.provider.off(Hc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await gJ();cbt(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ji.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&dbt())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(bs.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Y.toMiliseconds(o1t)))))}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function $2t(){}function UJ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function MJ(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function LJ(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const T2t="[object RegExp]",N2t="[object String]",O2t="[object Number]",P2t="[object Boolean]",jJ="[object Arguments]",R2t="[object Symbol]",D2t="[object Date]",U2t="[object Map]",M2t="[object Set]",L2t="[object Array]",j2t="[object Function]",B2t="[object ArrayBuffer]",SO="[object Object]",z2t="[object Error]",W2t="[object DataView]",q2t="[object Uint8Array]",F2t="[object Uint8ClampedArray]",H2t="[object Uint16Array]",V2t="[object Uint32Array]",K2t="[object BigUint64Array]",Z2t="[object Int8Array]",G2t="[object Int16Array]",Y2t="[object Int32Array]",J2t="[object BigInt64Array]",X2t="[object Float32Array]",Q2t="[object Float64Array]";function e3t(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function t3t(t,e,n){return nE(t,e,void 0,void 0,void 0,void 0,n)}function nE(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return xE(t,e,s,o)}return xE(t,e,s,o)}function xE(t,e,n,r){if(Object.is(t,e))return!0;let i=LJ(t),s=LJ(e);if(i===jJ&&(i=SO),s===jJ&&(s=SO),i!==s)return!1;switch(i){case N2t:return t.toString()===e.toString();case O2t:{const c=t.valueOf(),l=e.valueOf();return e3t(c,l)}case P2t:case D2t:case R2t:return Object.is(t.valueOf(),e.valueOf());case T2t:return t.source===e.source&&t.flags===e.flags;case j2t:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case U2t:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!nE(l,e.get(c),c,t,e,n,r))return!1;return!0}case M2t:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(p=>nE(d,p,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case L2t:case q2t:case F2t:case H2t:case V2t:case K2t:case Z2t:case G2t:case Y2t:case J2t:case X2t:case Q2t:{if(typeof window.Buffer<"u"&&window.Buffer.isBuffer(t)!==window.Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!nE(t[c],e[c],c,t,e,n,r))return!1;return!0}case B2t:return t.byteLength!==e.byteLength?!1:xE(new Uint8Array(t),new Uint8Array(e),n,r);case W2t:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:xE(new Uint8Array(t),new Uint8Array(e),n,r);case z2t:return t.name===e.name&&t.message===e.message;case SO:{if(!(xE(t.constructor,e.constructor,n,r)||UJ(t)&&UJ(e)))return!1;const c=[...Object.keys(t),...MJ(t)],l=[...Object.keys(e),...MJ(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const p=e[d];if(!nE(h,p,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function n3t(t,e){return t3t(t,e,$2t)}var r3t=Object.defineProperty,BJ=Object.getOwnPropertySymbols,i3t=Object.prototype.hasOwnProperty,s3t=Object.prototype.propertyIsEnumerable,rD=(t,e,n)=>e in t?r3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zJ=(t,e)=>{for(var n in e||(e={}))i3t.call(e,n)&&rD(t,n,e[n]);if(BJ)for(var n of BJ(e))s3t.call(e,n)&&rD(t,n,e[n]);return t},ta=(t,e,n)=>rD(t,typeof e!="symbol"?e+"":e,n);let Ry=class extends Mbt{constructor(e,n,r,i=Md,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,ta(this,"map",new Map),ta(this,"version",a1t),ta(this,"cached",[]),ta(this,"initialized",!1),ta(this,"getKey"),ta(this,"storagePrefix",Md),ta(this,"recentlyDeleted",[]),ta(this,"recentlyDeletedLimit",200),ta(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!zs(o)?this.map.set(this.getKey(o),o):jyt(o)?this.map.set(o.id,o):Byt(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ta(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ta(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ta(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>n3t(a[c],o[c]))):this.values)),ta(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=zJ(zJ({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ta(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Yn(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Ge("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var o3t=Object.defineProperty,a3t=(t,e,n)=>e in t?o3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pn=(t,e,n)=>a3t(t,typeof e!="symbol"?e+"":e,n);let c3t=class{constructor(e,n){this.core=e,this.logger=n,pn(this,"name",d1t),pn(this,"version",h1t),pn(this,"events",new jp),pn(this,"pairings"),pn(this,"initialized",!1),pn(this,"storagePrefix",Md),pn(this,"ignoredPayloadTypes",[up]),pn(this,"registeredMethods",[]),pn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),pn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),pn(this,"create",async r=>{this.isInitialized();const i=ZR(),s=await this.core.crypto.setSymKey(i),o=Vi(Y.FIVE_MINUTES),a={protocol:Bme},c={topic:s,expiry:o,relay:a,active:!1,methods:r?.methods},l=oJ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(ow.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType}),{topic:s,uri:l}}),pn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[rd.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=sJ(r.uri);i.props.properties.topic=s,i.addTrace(rd.pairing_uri_validation_success),i.addTrace(rd.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(rd.existing_pairing),u.active)throw i.setError(Oh.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(rd.pairing_not_expired)}const d=c||Vi(Y.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(rd.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(ow.create,h),i.addTrace(rd.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(rd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Oh.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(Oh.subscribe_pairing_topic_failure),p}return i.addTrace(rd.subscribe_pairing_topic_success),h}),pn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Vi(Y.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),pn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Km();this.events.once(Hn("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),pn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),pn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),pn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),pn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",er("USER_DISCONNECTED")),await this.deletePairing(i))}),pn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return oJ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),pn(this,"sendRequest",async(r,i,s)=>{const o=Hr(i,s),a=await this.core.crypto.encode(r,o),c=O3[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),pn(this,"sendResult",async(r,i,s)=>{const o=gc(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=O3[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),pn(this,"sendError",async(r,i,s)=>{const o=Kg(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=O3[c]?O3[c].res:O3.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),pn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,er("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),pn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Lf(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),pn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),pn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),pn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(ow.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),pn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{ar(i)?this.events.emit(Hn("pairing_ping",s),{}):Pn(i)&&this.events.emit(Hn("pairing_ping",s),{error:i.error})},500)}),pn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ow.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),pn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=er("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),pn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(er("WC_METHOD_UNSUPPORTED",r))}),pn(this,"isValidPair",(r,i)=>{var s;if(!la(r)){const{message:a}=Ge("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Oh.malformed_pairing_uri),new Error(a)}if(!Lyt(r.uri)){const{message:a}=Ge("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Oh.malformed_pairing_uri),new Error(a)}const o=sJ(r?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Ge("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Oh.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ge("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Oh.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Y.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(Oh.pairing_expired);const{message:a}=Ge("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),pn(this,"isValidPing",async r=>{if(!la(r)){const{message:s}=Ge("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),pn(this,"isValidDisconnect",async r=>{if(!la(r)){const{message:s}=Ge("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),pn(this,"isValidPairingTopic",async r=>{if(!Ri(r,!1)){const{message:i}=Ge("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Lf(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Ge("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Yn(n,this.name),this.pairings=new Ry(this.core,this.logger,this.name,this.storagePrefix)}get context(){return kr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(bs.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==qr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);zp(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):Bd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Qc.expired,async e=>{const{topic:n}=tme(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ow.expire,{topic:n}))})}};var l3t=Object.defineProperty,u3t=(t,e,n)=>e in t?l3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ds=(t,e,n)=>u3t(t,typeof e!="symbol"?e+"":e,n);let d3t=class extends Pbt{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ds(this,"records",new Map),Ds(this,"events",new Ir.EventEmitter),Ds(this,"name",p1t),Ds(this,"version",f1t),Ds(this,"cached",[]),Ds(this,"initialized",!1),Ds(this,"storagePrefix",Md),Ds(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ds(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Vi(Y.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ql.created,o)}),Ds(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Pn(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(ql.updated,i))}),Ds(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ds(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ql.deleted,s)}}),this.persist()}),Ds(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ds(this,"on",(r,i)=>{this.events.on(r,i)}),Ds(this,"once",(r,i)=>{this.events.once(r,i)}),Ds(this,"off",(r,i)=>{this.events.off(r,i)}),Ds(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Yn(n,this.name)}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Hr(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ql.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ql.created,e=>{const n=ql.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ql.updated,e=>{const n=ql.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ql.deleted,e=>{const n=ql.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ji.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Y.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(ql.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var h3t=Object.defineProperty,p3t=(t,e,n)=>e in t?h3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lo=(t,e,n)=>p3t(t,typeof e!="symbol"?e+"":e,n);let f3t=class extends jbt{constructor(e,n){super(e,n),this.core=e,this.logger=n,lo(this,"expirations",new Map),lo(this,"events",new Ir.EventEmitter),lo(this,"name",g1t),lo(this,"version",m1t),lo(this,"cached",[]),lo(this,"initialized",!1),lo(this,"storagePrefix",Md),lo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),lo(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),lo(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Qc.created,{target:s,expiration:o})}),lo(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),lo(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Qc.deleted,{target:i,expiration:s})}}),lo(this,"on",(r,i)=>{this.events.on(r,i)}),lo(this,"once",(r,i)=>{this.events.once(r,i)}),lo(this,"off",(r,i)=>{this.events.off(r,i)}),lo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Yn(n,this.name)}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return zmt(e);if(typeof e=="number")return Wmt(e);const{message:n}=Ge("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Qc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Y.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Qc.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ji.pulse,()=>this.checkExpirations()),this.events.on(Qc.created,e=>{const n=Qc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Qc.expired,e=>{const n=Qc.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Qc.deleted,e=>{const n=Qc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var g3t=Object.defineProperty,m3t=(t,e,n)=>e in t?g3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ki=(t,e,n)=>m3t(t,typeof e!="symbol"?e+"":e,n);let w3t=class extends Bbt{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,ki(this,"name",w1t),ki(this,"abortController"),ki(this,"isDevEnv"),ki(this,"verifyUrlV3",b1t),ki(this,"storagePrefix",Md),ki(this,"version",jme),ki(this,"publicKey"),ki(this,"fetchPromise"),ki(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Y.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),ki(this,"register",async i=>{if(!C2()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=_r.getDocument(),u=this.startAbortTimer(Y.ONE_SECOND*5),d=await new Promise((h,p)=>{const f=()=>{window.removeEventListener("message",m),l.body.removeChild(g),p("attestation aborted")};this.abortController.signal.addEventListener("abort",f);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",f,{signal:this.abortController.signal});const m=b=>{if(b.data&&typeof b.data=="string")try{const y=JSON.parse(b.data);if(y.type==="verify_attestation"){if(mp(y.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",f),window.removeEventListener("message",m),h(y.attestation===null?"":y.attestation)}}catch(y){this.logger.warn(y)}};l.body.appendChild(g),window.addEventListener("message",m,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),ki(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(mp(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),ki(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Y.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),ki(this,"getVerifyUrl",i=>{let s=i||SE;return v1t.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${SE}`),s=SE),s}),ki(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Y.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),ki(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),ki(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),ki(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),ki(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),ki(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),ki(this,"validateAttestation",(i,s)=>{const o=wyt(i,s.publicKey),a={hasExpired:Y.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Yn(n,this.name),this.abortController=new AbortController,this.isDevEnv=RB(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return kr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Y.toMiliseconds(e))}};var y3t=Object.defineProperty,b3t=(t,e,n)=>e in t?y3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WJ=(t,e,n)=>b3t(t,typeof e!="symbol"?e+"":e,n);let v3t=class extends zbt{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,WJ(this,"context",E1t),WJ(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${C1t}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Yn(n,this.context)}};var E3t=Object.defineProperty,qJ=Object.getOwnPropertySymbols,C3t=Object.prototype.hasOwnProperty,_3t=Object.prototype.propertyIsEnumerable,iD=(t,e,n)=>e in t?E3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D3=(t,e)=>{for(var n in e||(e={}))C3t.call(e,n)&&iD(t,n,e[n]);if(qJ)for(var n of qJ(e))_3t.call(e,n)&&iD(t,n,e[n]);return t},rs=(t,e,n)=>iD(t,typeof e!="symbol"?e+"":e,n);let I3t=class extends Wbt{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,rs(this,"context",I1t),rs(this,"storagePrefix",Md),rs(this,"storageVersion",_1t),rs(this,"events",new Map),rs(this,"shouldPersist",!1),rs(this,"init",async()=>{if(!RB())try{const i={eventId:$Y(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Qge(this.core.relayer.protocol,this.core.relayer.version,YR)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),rs(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=$Y(),u=this.core.projectId||"",d=Date.now(),h=D3({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),rs(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return D3(D3({},a),this.setMethods(a.eventId))}),rs(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),rs(this,"setEventListeners",()=>{this.core.heartbeat.on(Ji.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Y.fromMiliseconds(Date.now())-Y.fromMiliseconds(i.timestamp)>S1t&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),rs(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),rs(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),rs(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),rs(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),rs(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,D3(D3({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),rs(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),rs(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${x1t}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${YR}${s}`,{method:"POST",body:JSON.stringify(i)})}),rs(this,"getAppDomain",()=>Xge().url),this.logger=Yn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var S3t=Object.defineProperty,FJ=Object.getOwnPropertySymbols,x3t=Object.prototype.hasOwnProperty,A3t=Object.prototype.propertyIsEnumerable,sD=(t,e,n)=>e in t?S3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HJ=(t,e)=>{for(var n in e||(e={}))x3t.call(e,n)&&sD(t,n,e[n]);if(FJ)for(var n of FJ(e))A3t.call(e,n)&&sD(t,n,e[n]);return t},Nr=(t,e,n)=>sD(t,typeof e!="symbol"?e+"":e,n);let k3t=class Qme extends $bt{constructor(e){var n;super(e),Nr(this,"protocol",Lme),Nr(this,"version",jme),Nr(this,"name",GR),Nr(this,"relayUrl"),Nr(this,"projectId"),Nr(this,"customStoragePrefix"),Nr(this,"events",new Ir.EventEmitter),Nr(this,"logger"),Nr(this,"heartbeat"),Nr(this,"relayer"),Nr(this,"crypto"),Nr(this,"storage"),Nr(this,"history"),Nr(this,"expirer"),Nr(this,"pairing"),Nr(this,"verify"),Nr(this,"echoClient"),Nr(this,"linkModeSupportedApps"),Nr(this,"eventClient"),Nr(this,"initialized",!1),Nr(this,"logChunkController"),Nr(this,"on",(a,c)=>this.events.on(a,c)),Nr(this,"once",(a,c)=>this.events.once(a,c)),Nr(this,"off",(a,c)=>this.events.off(a,c)),Nr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Nr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:qr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||zme,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Zp({level:typeof e?.logger=="string"&&e.logger?e.logger:Zbt.logger,name:GR}),{logger:s,chunkLoggerController:o}=qB({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Yn(s,this.name),this.heartbeat=new uU,this.crypto=new t2t(this,this.logger,e?.keychain),this.history=new d3t(this,this.logger),this.expirer=new f3t(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new dU(HJ(HJ({},Gbt),e?.storageOptions)),this.relayer=new k2t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new c3t(this,this.logger),this.verify=new w3t(this,this.logger,this.storage),this.echoClient=new v3t(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new I3t(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Qme(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(c1t,r),n}get context(){return kr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(IJ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(IJ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof window.process<"u"&&Kbt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const $3t=k3t,ewe="wc",twe=2,nwe="client",FB=`${ewe}@${twe}:${nwe}:`,xO={name:nwe,logger:"error"},VJ="WALLETCONNECT_DEEPLINK_CHOICE",T3t="proposal",KJ="Proposal expired",N3t="session",ub=Y.SEVEN_DAYS,O3t="engine",is={wc_sessionPropose:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Y.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Y.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1119}}},AO={min:Y.FIVE_MINUTES,max:Y.SEVEN_DAYS},Xu={idle:"IDLE",active:"ACTIVE"},ZJ={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},P3t="request",R3t=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],D3t="wc",U3t="auth",M3t="authKeys",L3t="pairingTopics",j3t="requests",D8=`${D3t}@${1.5}:${U3t}:`,ES=`${D8}:PUB_KEY`;var B3t=Object.defineProperty,z3t=Object.defineProperties,W3t=Object.getOwnPropertyDescriptors,GJ=Object.getOwnPropertySymbols,q3t=Object.prototype.hasOwnProperty,F3t=Object.prototype.propertyIsEnumerable,oD=(t,e,n)=>e in t?B3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wr=(t,e)=>{for(var n in e||(e={}))q3t.call(e,n)&&oD(t,n,e[n]);if(GJ)for(var n of GJ(e))F3t.call(e,n)&&oD(t,n,e[n]);return t},No=(t,e)=>z3t(t,W3t(e)),Re=(t,e,n)=>oD(t,typeof e!="symbol"?e+"":e,n);let H3t=class extends Vbt{constructor(e){super(e),Re(this,"name",O3t),Re(this,"events",new jp),Re(this,"initialized",!1),Re(this,"requestQueue",{state:Xu.idle,queue:[]}),Re(this,"sessionRequestQueue",{state:Xu.idle,queue:[]}),Re(this,"requestQueueDelay",Y.ONE_SECOND),Re(this,"expectedPairingMethodMap",new Map),Re(this,"recentlyDeletedMap",new Map),Re(this,"recentlyDeletedLimit",200),Re(this,"relayMessageCache",[]),Re(this,"pendingSessions",new Map),Re(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(is)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Y.toMiliseconds(this.requestQueueDelay)))}),Re(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=No(wr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=Pyt(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const I=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),I}if(!u||!h){const{topic:I,uri:k}=await this.client.core.pairing.create();u=I,d=k}if(!u){const{message:I}=Ge("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(I)}const p=await this.client.core.crypto.generateKeyPair(),f=is.wc_sessionPropose.req.ttl||Y.FIVE_MINUTES,g=Vi(f),m=No(wr(wr({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:Bme}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Dr()}),b=Hn("session_connect",m.id),{reject:y,resolve:v,done:w}=Km(f,KJ),C=({id:I})=>{I===m.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(m.id),this.events.emit(b,{error:{message:KJ,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(b,({error:I,session:k})=>{this.client.events.off("proposal_expire",C),I?y(I):k&&v(k)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:m,throwOnFailedPublish:!0,clientRpcId:m.id}),await this.setProposal(m.id,m),{uri:d,approval:w}}),Re(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Re(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Fl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw o.setError(Lm.no_internet_connection),S}try{await this.isValidProposalId(n?.id)}catch(S){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(Lm.proposal_not_found),S}try{await this.isValidApprove(n)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Lm.session_approve_namespace_validation_failure),S}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:f,proposer:g,requiredNamespaces:m,optionalNamespaces:b}=p;let y=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:f});y||(y=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Fl.session_approve_started,properties:{topic:f,trace:[Fl.session_approve_started,Fl.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),w=g.publicKey,C=await this.client.core.crypto.generateSharedKey(v,w),I=wr(wr(wr({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:Vi(ub)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),k=qr.relay;y.addTrace(Fl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:k})}catch(S){throw y.setError(Lm.subscribe_session_topic_failure),S}y.addTrace(Fl.subscribe_session_topic_success);const P=No(wr({},I),{topic:C,requiredNamespaces:m,optionalNamespaces:b,pairingTopic:f,acknowledged:!1,self:I.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:v,transportType:qr.relay});await this.client.session.set(C,P),y.addTrace(Fl.store_session);try{y.addTrace(Fl.publishing_session_settle),await this.sendRequest({topic:C,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0}).catch(S=>{throw y?.setError(Lm.session_settle_publish_failure),S}),y.addTrace(Fl.session_settle_publish_success),y.addTrace(Fl.publishing_session_approve),await this.sendResult({id:a,topic:f,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(S=>{throw y?.setError(Lm.session_approve_publish_failure),S}),y.addTrace(Fl.session_approve_publish_success)}catch(S){throw this.client.logger.error(S),this.client.session.delete(C,er("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),S}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:f,metadata:g.metadata}),await this.client.proposal.delete(a,er("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}),await this.setExpiry(C,Vi(ub)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),Re(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:is.wc_sessionPropose.reject}),await this.client.proposal.delete(r,er("USER_DISCONNECTED")))}),Re(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Km(),c=Dr(),l=Mi().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Hn("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),Re(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Dr(),{done:s,resolve:o,reject:a}=Km();return this.events.once(Hn("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Vi(ub)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Re(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:r,request:i,topic:s,expiry:o=is.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);a?.transportType===qr.relay&&await this.confirmOnlineStateOrThrow();const c=Dr(),l=Mi().toString(),{done:u,resolve:d,reject:h}=Km(o,"Request expired. Please try again.");this.events.once(Hn("session_request",c),({error:b,result:y})=>{b?h(b):d(y)});const p="wc_sessionRequest",f=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(f)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:{request:No(wr({},i),{expiryTimestamp:Vi(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:f}).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const g={request:No(wr({},i),{expiryTimestamp:Vi(o)}),chainId:r},m=this.shouldSetTVF(p,g);return await Promise.all([new Promise(async b=>{await this.sendRequest(wr({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:g,expiry:o,throwOnFailedPublish:!0},m&&{tvf:this.getTVFParams(c,g)})).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),b()}),new Promise(async b=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const v=await Vmt(this.client.core.storage,VJ);await qmt({id:c,topic:s,wcDeepLink:v})}b()}),u()]).then(b=>b[2])}),Re(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===qr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ar(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Pn(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),Re(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Dr(),s=Mi().toString(),{done:o,resolve:a,reject:c}=Km();this.events.once(Hn("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Re(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Mi().toString(),a=Dr();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Re(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:er("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Ge("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Re(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Uyt(r,n)))),Re(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Re(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?qr.link_mode:qr.relay;o===qr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:p,nbf:f,methods:g=[],expiry:m}=n,b=[...n.resources||[]],{topic:y,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:v}});const w=await this.client.core.crypto.generateKeyPair(),C=bS(w);if(await Promise.all([this.client.auth.authKeys.set(ES,{responseTopic:C,publicKey:w}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:y})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${y}`),g.length>0){const{namespace:A}=A1(a[0]);let U=Lwt(A,"request",g);yS(b)&&(U=Bwt(U,b.pop())),b.push(U)}const I=m&&m>is.wc_sessionAuthenticate.req.ttl?m:is.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:p,nbf:f,resources:b},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Vi(I)},P={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},S={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Vi(is.wc_sessionPropose.req.ttl),id:Dr()},{done:N,resolve:R,reject:D}=Km(I,"Request expired"),O=Dr(),T=Hn("session_connect",S.id),E=Hn("session_request",O),_=async({error:A,session:U})=>{this.events.off(E,x),A?D(A):U&&R({session:U})},x=async A=>{var U,B,z;if(await this.deletePendingAuthRequest(O,{message:"fulfilled",code:0}),A.error){const te=er("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return A.error.code===te.code?void 0:(this.events.off(T,_),D(A.error.message))}await this.deleteProposal(S.id),this.events.off(T,_);const{cacaos:H,responder:q}=A.result,F=[],K=[];for(const te of H){await MY({cacao:te,projectId:this.client.core.projectId})||(this.client.logger.error(te,"Signature verification failed"),D(er("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ue}=te,ge=yS(ue.resources),$e=[jR(ue.iss)],he=J6(ue.iss);if(ge){const me=LY(ge),Me=jY(ge);F.push(...me),$e.push(...Me)}for(const me of $e)K.push(`${me}:${he}`)}const ee=await this.client.core.crypto.generateSharedKey(w,q.publicKey);let se;F.length>0&&(se={topic:ee,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:Vi(ub),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:uJ([...new Set(F)],[...new Set(K)]),transportType:o},await this.client.core.relayer.subscribe(ee,{transportType:o}),await this.client.session.set(ee,se),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:q.metadata}),se=this.client.session.get(ee)),(U=this.client.metadata.redirect)!=null&&U.linkMode&&(B=q.metadata.redirect)!=null&&B.linkMode&&(z=q.metadata.redirect)!=null&&z.universal&&r&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(ee,{transportType:qr.link_mode})),R({auths:H,session:se})};this.events.once(T,_),this.events.once(E,x);let M;try{if(s){const A=Hr("wc_sessionAuthenticate",k,O);this.client.core.history.set(y,A);const U=await this.client.core.crypto.encode("",A,{type:G4,encoding:Kf});M=DI(r,y,U)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:k,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:O}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:S,expiry:is.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S.id})])}catch(A){throw this.events.off(T,_),this.events.off(E,x),A}return await this.setProposal(S.id,S),await this.setAuthRequest(O,{request:No(wr({},k),{verifyContext:{}}),pairingTopic:y,transportType:o}),{uri:M??v,response:N}}),Re(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[jm.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw s.setError(P3.no_internet_connection),m}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(P3.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||qr.relay;a===qr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=bS(c),d={type:up,receiverPublicKey:c,senderPublicKey:l},h=[],p=[];for(const m of i){if(!await MY({cacao:m,projectId:this.client.core.projectId})){s.setError(P3.invalid_cacao);const C=er("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:C,encodeOpts:d}),new Error(C.message)}s.addTrace(jm.cacaos_verified);const{p:b}=m,y=yS(b.resources),v=[jR(b.iss)],w=J6(b.iss);if(y){const C=LY(y),I=jY(y);h.push(...C),v.push(...I)}for(const C of v)p.push(`${C}:${w}`)}const f=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(jm.create_authenticated_session_topic);let g;if(h?.length>0){g={topic:f,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Vi(ub),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:uJ([...new Set(h)],[...new Set(p)]),transportType:a},s.addTrace(jm.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(f,{transportType:a})}catch(m){throw s.setError(P3.subscribe_authenticated_session_topic_failure),m}s.addTrace(jm.subscribe_authenticated_session_topic_success),await this.client.session.set(f,g),s.addTrace(jm.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(jm.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(m){throw s.setError(P3.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),Re(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===qr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=bS(o),l={type:up,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:is.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,er("USER_DISCONNECTED"))}),Re(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return ume(r,i)}),Re(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Re(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Re(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,er("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(VJ).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,er("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Xu.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Re(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Lm.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,er("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Re(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Xu.idle,this.client.events.emit("session_request_expire",{id:n}))}),Re(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Re(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Re(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Vi(is.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Re(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=qr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Re(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Vi(is.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),Re(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Hr(i,s,c);let p;const f=!!u;try{const b=f?Kf:pu;p=await this.client.core.crypto.encode(r,h,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let g;if(R3t.includes(i)){const b=od(JSON.stringify(h)),y=od(p);g=await this.client.core.verify.register({id:y,decryptedId:b})}const m=is[i].req;if(m.attestation=g,o&&(m.ttl=o),a&&(m.id=a),this.client.core.history.set(r,h),f){const b=DI(u,r,p);await globalThis.Linking.openURL(b,this.client.name)}else{const b=is[i].req;o&&(b.ttl=o),a&&(b.id=a),b.tvf=No(wr({},d),{correlationId:h.id}),l?(b.internal=No(wr({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,b)):this.client.core.relayer.publish(r,p,b).catch(y=>this.client.logger.error(y))}return h.id}),Re(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=gc(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const f=d?Kf:pu;u=await this.client.core.crypto.encode(i,l,No(wr({},a||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),f}let h,p;try{h=await this.client.core.history.get(i,r);const f=h.request;try{this.shouldSetTVF(f.method,f.params)&&(p=this.getTVFParams(r,f.params,s))}catch(g){this.client.logger.warn("sendResult() -> getTVFParams() failed",g)}}catch(f){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),f}if(d){const f=DI(c,i,u);await globalThis.Linking.openURL(f,this.client.name)}else{const f=h.request.method,g=is[f].res;g.tvf=No(wr({},p),{correlationId:r}),o?(g.internal=No(wr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),Re(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Kg(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const p=d?Kf:pu;u=await this.client.core.crypto.encode(i,l,No(wr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let h;try{h=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(d){const p=DI(c,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=h.request.method,f=a||is[p].res;this.client.core.relayer.publish(i,u,f)}await this.client.core.history.resolve(l)}),Re(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Lf(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Lf(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Re(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Re(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Re(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Xu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Xu.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Xu.idle}),Re(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Re(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Re(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Ge("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Re(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Re(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Oh.proposal_listener_not_found)),this.isValidConnect(wr({},i.params));const u=a.expiryTimestamp||Vi(is.wc_sessionPropose.req.ttl),d=wr({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:od(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(rd.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:is.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Re(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(ar(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Pn(r)){await this.client.proposal.delete(s,er("USER_DISCONNECTED"));const o=Hn("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),Re(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,p=[...this.pendingSessions.values()].find(m=>m.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);const f=this.client.proposal.get(p.proposalId),g=No(wr(wr(wr({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:qr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Hn("session_connect",p.proposalId),{session:g}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Re(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;ar(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Hn("session_approve",i),{})):Pn(r)&&(await this.client.session.delete(n,er("USER_DISCONNECTED")),this.events.emit(Hn("session_approve",i),{error:r.error}))}),Re(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=N3.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:er("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(wr({topic:n},i));try{N3.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw N3.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Re(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Re(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Hn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Hn("session_update",i),{}):Pn(r)&&this.events.emit(Hn("session_update",i),{error:r.error})}),Re(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Vi(ub)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Re(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Hn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Hn("session_extend",i),{}):Pn(r)&&this.events.emit(Hn("session_extend",i),{error:r.error})}),Re(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Re(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Hn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ar(r)?this.events.emit(Hn("session_ping",i),{}):Pn(r)&&this.events.emit(Hn("session_ping",i),{error:r.error})},500)}),Re(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(bs.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:er("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Re(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(wr({topic:o},h));const p=this.client.session.get(o),f=await this.getVerifyContext({attestationId:c,hash:od(JSON.stringify(Hr("wc_sessionRequest",h,d))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:f};await this.setPendingSessionRequest(g),u===qr.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(p){await this.sendError({id:d,topic:o,error:p}),this.client.logger.error(p)}}),Re(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Hn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Hn("session_request",i),{result:r.result}):Pn(r)&&this.events.emit(Hn("session_request",i),{error:r.error})}),Re(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=N3.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(wr({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),N3.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Re(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ar(r)?this.events.emit(Hn("session_request",i),{result:r.result}):Pn(r)&&this.events.emit(Hn("session_request",i),{error:r.error})}),Re(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:od(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:c}),c===qr.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),p={type:up,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:p,rpcOpts:is.wc_sessionAuthenticate.autoReject,appLink:h})}}),Re(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Re(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Xu.idle,this.processSessionRequestQueue()},Y.toMiliseconds(this.requestQueueDelay))}),Re(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Hn("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Hn("session_request",s.request.id),{error:r})})}),Re(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Xu.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Xu.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Re(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),Re(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Hr("wc_sessionPropose",No(wr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),Re(this,"isValidConnect",async n=>{if(!la(n)){const{message:l}=Ge("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(zs(r)||await this.isValidPairingTopic(r),!Zyt(c)){const{message:l}=Ge("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!zs(i)&&cg(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!zs(s)&&cg(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),zs(o)||this.validateSessionProps(o,"sessionProperties"),!zs(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Re(this,"validateNamespaces",(n,r)=>{const i=Kyt(n,"connect()",r);if(i)throw new Error(i.message)}),Re(this,"isValidApprove",async n=>{if(!la(n))throw new Error(Ge("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=bO(i,"approve()");if(l)throw new Error(l.message);const u=pJ(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Ri(s,!0)){const{message:d}=Ge("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(zs(o)||this.validateSessionProps(o,"sessionProperties"),!zs(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),Re(this,"isValidReject",async n=>{if(!la(n)){const{message:s}=Ge("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Yyt(i)){const{message:s}=Ge("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Re(this,"isValidSessionSettleRequest",n=>{if(!la(n)){const{message:l}=Ge("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!Ume(r)){const{message:l}=Ge("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=zyt(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=bO(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Lf(o)){const{message:l}=Ge("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Re(this,"isValidUpdate",async n=>{if(!la(n)){const{message:c}=Ge("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=bO(i,"update()");if(o)throw new Error(o.message);const a=pJ(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Re(this,"isValidExtend",async n=>{if(!la(n)){const{message:i}=Ge("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Re(this,"isValidRequest",async n=>{if(!la(n)){const{message:c}=Ge("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!hJ(a,s)){const{message:c}=Ge("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Jyt(i)){const{message:c}=Ge("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!ebt(a,s,i.method)){const{message:c}=Ge("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!ibt(o,AO)){const{message:c}=Ge("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${AO.min} and ${AO.max}`);throw new Error(c)}}),Re(this,"isValidRespond",async n=>{var r;if(!la(n)){const{message:o}=Ge("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Xyt(s)){const{message:o}=Ge("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Re(this,"isValidPing",async n=>{if(!la(n)){const{message:i}=Ge("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Re(this,"isValidEmit",async n=>{if(!la(n)){const{message:a}=Ge("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!hJ(o,s)){const{message:a}=Ge("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Qyt(i)){const{message:a}=Ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!tbt(o,s,i.name)){const{message:a}=Ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Re(this,"isValidDisconnect",async n=>{if(!la(n)){const{message:i}=Ge("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Re(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Ri(i,!1))throw new Error("uri is required parameter");if(!Ri(s,!1))throw new Error("domain is required parameter");if(!Ri(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>A1(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=A1(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Re(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||SE,validation:"UNKNOWN",origin:o.url||""}};try{if(a===qr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Re(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Ge("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),Re(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Re(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Re(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Ge("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Re(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,h;return!n||r!==qr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((d=n?.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof globalThis?.Linking<"u"}),Re(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),Re(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=kY(n,"topic")||"",i=decodeURIComponent(kY(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:qr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Re(this,"registerLinkModeListeners",async()=>{var n;if(RB()||hm()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis?.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Re(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(ZJ).includes(i.method)}),Re(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return No(wr({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),Re(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Re(this,"extractTxHashesFromResult",(n,r)=>{try{const i=ZJ[n];if(typeof r=="string")return[r];const s=r[i.key];if(vu(s))return n==="solana_signAllTransactions"?s.map(o=>Iwt(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(bs.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(ES)?this.client.auth.authKeys.get(ES):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===qr.link_mode?Kf:pu});zp(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:od(r)})):Bd(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Qc.expired,async e=>{const{topic:n,id:r}=tme(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ge("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ge("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ow.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ow.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Ri(e,!1)){const{message:n}=Ge("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Lf(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ge("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Ri(e,!1)){const{message:n}=Ge("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ge("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Lf(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ge("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ge("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Ri(e,!1)){const{message:n}=Ge("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ge("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Gyt(e)){const{message:n}=Ge("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ge("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Lf(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ge("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},V3t=class extends Ry{constructor(e,n){super(e,n,T3t,FB),this.core=e,this.logger=n}},K3t=class extends Ry{constructor(e,n){super(e,n,N3t,FB),this.core=e,this.logger=n}},Z3t=class extends Ry{constructor(e,n){super(e,n,P3t,FB,r=>r.id),this.core=e,this.logger=n}},G3t=class extends Ry{constructor(e,n){super(e,n,M3t,D8,()=>ES),this.core=e,this.logger=n}},Y3t=class extends Ry{constructor(e,n){super(e,n,L3t,D8),this.core=e,this.logger=n}},J3t=class extends Ry{constructor(e,n){super(e,n,j3t,D8,r=>r.id),this.core=e,this.logger=n}};var X3t=Object.defineProperty,Q3t=(t,e,n)=>e in t?X3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kO=(t,e,n)=>Q3t(t,typeof e!="symbol"?e+"":e,n);let eEt=class{constructor(e,n){this.core=e,this.logger=n,kO(this,"authKeys"),kO(this,"pairingTopics"),kO(this,"requests"),this.authKeys=new G3t(this.core,this.logger),this.pairingTopics=new Y3t(this.core,this.logger),this.requests=new J3t(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var tEt=Object.defineProperty,nEt=(t,e,n)=>e in t?tEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fn=(t,e,n)=>nEt(t,typeof e!="symbol"?e+"":e,n);let rEt=class rwe extends Hbt{constructor(e){super(e),fn(this,"protocol",ewe),fn(this,"version",twe),fn(this,"name",xO.name),fn(this,"metadata"),fn(this,"core"),fn(this,"logger"),fn(this,"events",new Ir.EventEmitter),fn(this,"engine"),fn(this,"session"),fn(this,"proposal"),fn(this,"pendingRequest"),fn(this,"auth"),fn(this,"signConfig"),fn(this,"on",(r,i)=>this.events.on(r,i)),fn(this,"once",(r,i)=>this.events.once(r,i)),fn(this,"off",(r,i)=>this.events.off(r,i)),fn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),fn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),fn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),fn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),fn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||xO.name,this.metadata=Mmt(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:pm(Zp({level:e?.logger||xO.logger}));this.core=e?.core||new $3t(e),this.logger=Yn(n,this.name),this.session=new K3t(this.core,this.logger),this.proposal=new V3t(this.core,this.logger),this.pendingRequest=new Z3t(this.core,this.logger),this.engine=new H3t(this),this.auth=new eEt(this.core,this.logger)}static async init(e){const n=new rwe(e);return await n.initialize(),n}get context(){return kr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},Y.toMiliseconds(Y.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const YJ="error",iEt="wss://relay.walletconnect.org",sEt="wc",oEt="universal_provider",MI=`${sEt}@2:${oEt}:`,iwe="https://rpc.walletconnect.org/v1/",Fb="generic",aEt=`${iwe}bundler`,Nl={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function cEt(){}function HB(t){return t==null||typeof t!="object"&&typeof t!="function"}function VB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lEt(t){if(HB(t))return t;if(Array.isArray(t)||VB(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function JJ(t){return typeof t=="object"&&t!==null}function swe(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function owe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const uEt="[object RegExp]",awe="[object String]",cwe="[object Number]",lwe="[object Boolean]",uwe="[object Arguments]",dEt="[object Symbol]",hEt="[object Date]",pEt="[object Map]",fEt="[object Set]",gEt="[object Array]",mEt="[object ArrayBuffer]",wEt="[object Object]",yEt="[object DataView]",bEt="[object Uint8Array]",vEt="[object Uint8ClampedArray]",EEt="[object Uint16Array]",CEt="[object Uint32Array]",_Et="[object Int8Array]",IEt="[object Int16Array]",SEt="[object Int32Array]",xEt="[object Float32Array]",AEt="[object Float64Array]";function kEt(t,e){return c1(t,void 0,t,new Map,e)}function c1(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(HB(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=c1(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,c1(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(c1(a,void 0,n,r,i));return o}if(typeof window.Buffer<"u"&&window.Buffer.isBuffer(t))return t.subarray();if(VB(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=c1(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),aw(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),aw(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),aw(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,aw(o,t,n,r,i),o}if(typeof t=="object"&&$Et(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),aw(o,t,n,r,i),o}return t}function aw(t,e,n=t,r,i){const s=[...Object.keys(e),...swe(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=c1(e[a],a,n,r,i))}}function $Et(t){switch(owe(t)){case uwe:case gEt:case mEt:case yEt:case lwe:case hEt:case xEt:case AEt:case _Et:case IEt:case SEt:case pEt:case cwe:case wEt:case uEt:case fEt:case awe:case dEt:case bEt:case vEt:case EEt:case CEt:return!0;default:return!1}}function TEt(t,e){return kEt(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case cwe:case awe:case lwe:{const o=new t.constructor(t?.valueOf());return aw(o,t),o}case uwe:{const o={};return aw(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function XJ(t){return TEt(t)}function QJ(t){return t!==null&&typeof t=="object"&&owe(t)==="[object Arguments]"}function NEt(t){return VB(t)}function OEt(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function PEt(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=aD(i,o,r,new Map)}return i}function aD(t,e,n,r){if(HB(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return lEt(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...swe(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(QJ(a)&&(a={...a}),QJ(c)&&(c={...c}),typeof window.Buffer<"u"&&window.Buffer.isBuffer(a)&&(a=XJ(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const p=d[h];u[p]=c[p]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||JJ(c)&&JJ(a)?t[o]=aD(c,a,n,r):c==null&&OEt(a)?t[o]=aD({},a,n,r):c==null&&NEt(a)?t[o]=XJ(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function REt(t,...e){return PEt(t,...e,cEt)}var DEt=Object.defineProperty,UEt=Object.defineProperties,MEt=Object.getOwnPropertyDescriptors,eX=Object.getOwnPropertySymbols,LEt=Object.prototype.hasOwnProperty,jEt=Object.prototype.propertyIsEnumerable,tX=(t,e,n)=>e in t?DEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LI=(t,e)=>{for(var n in e||(e={}))LEt.call(e,n)&&tX(t,n,e[n]);if(eX)for(var n of eX(e))jEt.call(e,n)&&tX(t,n,e[n]);return t},BEt=(t,e)=>UEt(t,MEt(e));function Ac(t,e,n){var r;const i=A1(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${iwe}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Dy(t){return t.includes(":")?t.split(":")[1]:t}function dwe(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function zEt(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function jI(t={},e={}){const n=nX(t),r=nX(e);return REt(n,r)}function nX(t){var e,n,r,i,s;const o={};if(!cg(t))return o;for(const[a,c]of Object.entries(t)){const l=P8(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},p=a1(a);o[p]=BEt(LI(LI({},o[p]),c),{chains:bd(l,(e=o[p])==null?void 0:e.chains),methods:bd(u,(n=o[p])==null?void 0:n.methods),events:bd(d,(r=o[p])==null?void 0:r.events)}),(cg(h)||cg(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=LI(LI({},h),(s=o[p])==null?void 0:s.rpcMap))}return o}function rX(t){return t.includes(":")?t.split(":")[2]:t}function iX(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=P8(n)?[n]:r.chains?r.chains:dwe(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function $O(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const hwe={},Dn=t=>hwe[t],TO=(t,e)=>{hwe[t]=e};var WEt=Object.defineProperty,qEt=(t,e,n)=>e in t?WEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,db=(t,e,n)=>qEt(t,typeof e!="symbol"?e+"":e,n);let FEt=class{constructor(e){db(this,"name","polkadot"),db(this,"client"),db(this,"httpProviders"),db(this,"events"),db(this,"namespace"),db(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Dy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Dn("disableProviderPing")))}};var HEt=Object.defineProperty,VEt=Object.defineProperties,KEt=Object.getOwnPropertyDescriptors,sX=Object.getOwnPropertySymbols,ZEt=Object.prototype.hasOwnProperty,GEt=Object.prototype.propertyIsEnumerable,cD=(t,e,n)=>e in t?HEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oX=(t,e)=>{for(var n in e||(e={}))ZEt.call(e,n)&&cD(t,n,e[n]);if(sX)for(var n of sX(e))GEt.call(e,n)&&cD(t,n,e[n]);return t},aX=(t,e)=>VEt(t,KEt(e)),hb=(t,e,n)=>cD(t,typeof e!="symbol"?e+"":e,n);let YEt=class{constructor(e){hb(this,"name","eip155"),hb(this,"client"),hb(this,"chainId"),hb(this,"namespace"),hb(this,"httpProviders"),hb(this,"events"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Ac(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Dn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Dy(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u?.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d?.[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:aX(oX({},u.sessionProperties||{}),{capabilities:aX(oX({},d||{}),{[l]:h})})})}catch(p){console.warn("Failed to update session with capabilities",p)}return h}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Hr("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${aEt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var JEt=Object.defineProperty,XEt=(t,e,n)=>e in t?JEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pb=(t,e,n)=>XEt(t,typeof e!="symbol"?e+"":e,n);let QEt=class{constructor(e){pb(this,"name","solana"),pb(this,"client"),pb(this,"httpProviders"),pb(this,"events"),pb(this,"namespace"),pb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Dy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Dn("disableProviderPing")))}};var eCt=Object.defineProperty,tCt=(t,e,n)=>e in t?eCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fb=(t,e,n)=>tCt(t,typeof e!="symbol"?e+"":e,n);let nCt=class{constructor(e){fb(this,"name","cosmos"),fb(this,"client"),fb(this,"httpProviders"),fb(this,"events"),fb(this,"namespace"),fb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Dy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Dn("disableProviderPing")))}};var rCt=Object.defineProperty,iCt=(t,e,n)=>e in t?rCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gb=(t,e,n)=>iCt(t,typeof e!="symbol"?e+"":e,n);let sCt=class{constructor(e){gb(this,"name","algorand"),gb(this,"client"),gb(this,"httpProviders"),gb(this,"events"),gb(this,"namespace"),gb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Ac(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Sr(new Yr(r,Dn("disableProviderPing")))}};var oCt=Object.defineProperty,aCt=(t,e,n)=>e in t?oCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mb=(t,e,n)=>aCt(t,typeof e!="symbol"?e+"":e,n);let cCt=class{constructor(e){mb(this,"name","cip34"),mb(this,"client"),mb(this,"httpProviders"),mb(this,"events"),mb(this,"namespace"),mb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Dy(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Dn("disableProviderPing")))}};var lCt=Object.defineProperty,uCt=(t,e,n)=>e in t?lCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wb=(t,e,n)=>uCt(t,typeof e!="symbol"?e+"":e,n);let dCt=class{constructor(e){wb(this,"name","elrond"),wb(this,"client"),wb(this,"httpProviders"),wb(this,"events"),wb(this,"namespace"),wb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Dy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Dn("disableProviderPing")))}};var hCt=Object.defineProperty,pCt=(t,e,n)=>e in t?hCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yb=(t,e,n)=>pCt(t,typeof e!="symbol"?e+"":e,n);let fCt=class{constructor(e){yb(this,"name","multiversx"),yb(this,"client"),yb(this,"httpProviders"),yb(this,"events"),yb(this,"namespace"),yb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Dy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Dn("disableProviderPing")))}};var gCt=Object.defineProperty,mCt=(t,e,n)=>e in t?gCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bb=(t,e,n)=>mCt(t,typeof e!="symbol"?e+"":e,n);let wCt=class{constructor(e){bb(this,"name","near"),bb(this,"client"),bb(this,"httpProviders"),bb(this,"events"),bb(this,"namespace"),bb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ac(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace);return typeof r>"u"?void 0:new Sr(new Yr(r,Dn("disableProviderPing")))}};var yCt=Object.defineProperty,bCt=(t,e,n)=>e in t?yCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vb=(t,e,n)=>bCt(t,typeof e!="symbol"?e+"":e,n);let vCt=class{constructor(e){vb(this,"name","tezos"),vb(this,"client"),vb(this,"httpProviders"),vb(this,"events"),vb(this,"namespace"),vb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ac(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace);return typeof r>"u"?void 0:new Sr(new Yr(r))}};var ECt=Object.defineProperty,CCt=(t,e,n)=>e in t?ECt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Eb=(t,e,n)=>CCt(t,typeof e!="symbol"?e+"":e,n);let _Ct=class{constructor(e){Eb(this,"name",Fb),Eb(this,"client"),Eb(this,"httpProviders"),Eb(this,"events"),Eb(this,"namespace"),Eb(this,"chainId"),this.namespace=e.namespace,this.events=Dn("events"),this.client=Dn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Nl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=A1(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ac(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Dn("disableProviderPing")))}};var ICt=Object.defineProperty,SCt=Object.defineProperties,xCt=Object.getOwnPropertyDescriptors,cX=Object.getOwnPropertySymbols,ACt=Object.prototype.hasOwnProperty,kCt=Object.prototype.propertyIsEnumerable,lD=(t,e,n)=>e in t?ICt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BI=(t,e)=>{for(var n in e||(e={}))ACt.call(e,n)&&lD(t,n,e[n]);if(cX)for(var n of cX(e))kCt.call(e,n)&&lD(t,n,e[n]);return t},NO=(t,e)=>SCt(t,xCt(e)),Vc=(t,e,n)=>lD(t,typeof e!="symbol"?e+"":e,n);let $Ct=class pwe{constructor(e){Vc(this,"client"),Vc(this,"namespaces"),Vc(this,"optionalNamespaces"),Vc(this,"sessionProperties"),Vc(this,"scopedProperties"),Vc(this,"events",new jp),Vc(this,"rpcProviders",{}),Vc(this,"session"),Vc(this,"providerOpts"),Vc(this,"logger"),Vc(this,"uri"),Vc(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:pm(Zp({level:e?.logger||YJ})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new pwe(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:BI({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,gc(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:er("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=iX(this.session.namespaces);this.namespaces=jI(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=iX(i.namespaces);return this.namespaces=jI(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===Fb?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(vu(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await rEt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||YJ,relayUrl:this.providerOpts.relayUrl||iEt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>a1(n)))];TO("client",this.client),TO("events",this.events),TO("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=zEt(n,this.session),i=dwe(r),s=jI(this.namespaces,this.optionalNamespaces),o=NO(BI({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new YEt({namespace:o});break;case"algorand":this.rpcProviders[n]=new sCt({namespace:o});break;case"solana":this.rpcProviders[n]=new QEt({namespace:o});break;case"cosmos":this.rpcProviders[n]=new nCt({namespace:o});break;case"polkadot":this.rpcProviders[n]=new FEt({namespace:o});break;case"cip34":this.rpcProviders[n]=new cCt({namespace:o});break;case"elrond":this.rpcProviders[n]=new dCt({namespace:o});break;case"multiversx":this.rpcProviders[n]=new fCt({namespace:o});break;case"near":this.rpcProviders[n]=new wCt({namespace:o});break;case"tezos":this.rpcProviders[n]=new vCt({namespace:o});break;default:this.rpcProviders[Fb]?this.rpcProviders[Fb].updateNamespace(o):this.rpcProviders[Fb]=new _Ct({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&vu(o)&&this.events.emit("accountsChanged",o.map(rX))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=a1(o),l=$O(o)!==$O(a)?`${c}:${$O(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=NO(BI({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",NO(BI({},er("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Nl.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Fb]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=jI(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>a1(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=a1(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(rX);if(!vu(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${MI}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${MI}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${MI}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(MI)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const TCt=$Ct,NCt="wc",OCt="ethereum_provider",PCt=`${NCt}@2:${OCt}:`,RCt="https://rpc.walletconnect.org/v1/",nA=["eth_sendTransaction","personal_sign"],fwe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],rA=["chainChanged","accountsChanged"],gwe=["chainChanged","accountsChanged","message","disconnect","connect"],DCt=async()=>{const{createAppKit:t}=await fe(()=>Promise.resolve().then(()=>fTt),void 0);return t};var UCt=Object.defineProperty,MCt=Object.defineProperties,LCt=Object.getOwnPropertyDescriptors,lX=Object.getOwnPropertySymbols,jCt=Object.prototype.hasOwnProperty,BCt=Object.prototype.propertyIsEnumerable,uD=(t,e,n)=>e in t?UCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zm=(t,e)=>{for(var n in e||(e={}))jCt.call(e,n)&&uD(t,n,e[n]);if(lX)for(var n of lX(e))BCt.call(e,n)&&uD(t,n,e[n]);return t},U3=(t,e)=>MCt(t,LCt(e)),Va=(t,e,n)=>uD(t,typeof e!="symbol"?e+"":e,n);function iA(t){return Number(t[0].split(":")[1])}function zI(t){return`0x${t.toString(16)}`}function zCt(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!vu(e))throw new Error("Invalid chains");const c={chains:e,methods:r||nA,events:s||rA,rpcMap:Zm({},e.length?{[iA(e)]:a[iA(e)]}:{})},l=s?.filter(p=>!rA.includes(p)),u=r?.filter(p=>!nA.includes(p));if(!n&&!o&&!i&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};const d=l?.length&&u?.length||!n,h={chains:[...new Set(d?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:fwe))],events:[...new Set(c.events.concat(o!=null&&o.length?o:gwe))],rpcMap:a};return{required:e.length?c:void 0,optional:n.length?h:void 0}}let mwe=class wwe{constructor(){Va(this,"events",new Ir.EventEmitter),Va(this,"namespace","eip155"),Va(this,"accounts",[]),Va(this,"signer"),Va(this,"chainId",1),Va(this,"modal"),Va(this,"rpc"),Va(this,"STORAGE_KEY",PCt),Va(this,"on",(e,n)=>(this.events.on(e,n),this)),Va(this,"once",(e,n)=>(this.events.once(e,n),this)),Va(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Va(this,"off",(e,n)=>(this.events.off(e,n),this)),Va(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new wwe;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=zCt(this.rpc);try{const s=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const d=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(U3(Zm({namespaces:Zm({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:d})).then(h=>{a(h)}).catch(h=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),c(new Error(h.message))})});if(!s)return;const o=_Y(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:zI(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(U3(Zm({},e),{chains:this.rpc.chains}),n).then(u=>{o(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=_Y(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:zI(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",zI(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",U3(Zm({},er("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",zI(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e?.chains)!=null?n:[],s=(r=e?.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?e?.methods||nA:[],c=i.length?e?.events||rA:[],l=e?.optionalMethods||[],u=e?.optionalEvents||[],d=e?.rpcMap||this.buildRpcMap(o,e.projectId),h=e?.qrModalOptions||void 0;return{chains:i?.map(p=>this.formatChainId(p)),optionalChains:s.map(p=>this.formatChainId(p)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?iA(this.rpc.chains):iA(this.rpc.optionalChains),this.signer=await TCt.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await DCt(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return XCt}),s=i(U3(Zm({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnectÂ·");n=r(U3(Zm({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&vu(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),r&&vu(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${RCt}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};const WCt=mwe;var qCt=Object.defineProperty,FCt=Object.defineProperties,HCt=Object.getOwnPropertyDescriptors,uX=Object.getOwnPropertySymbols,VCt=Object.prototype.hasOwnProperty,KCt=Object.prototype.propertyIsEnumerable,dX=(t,e,n)=>e in t?qCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ywe=(t,e)=>{for(var n in e||(e={}))VCt.call(e,n)&&dX(t,n,e[n]);if(uX)for(var n of uX(e))KCt.call(e,n)&&dX(t,n,e[n]);return t},ZCt=(t,e)=>FCt(t,HCt(e));function GCt(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const YCt=t=>{const[e,n]=t.split(":");return bwe({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function JCt(t){var e,n,r,i,s,o,a;const c=(e=t.chains)==null?void 0:e.map(YCt).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(d=>{var h;return d.id===((h=t.defaultChain)==null?void 0:h.id)}),u={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:GCt(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:ZCt(ywe({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const d=[...(t.mobileWallets||[]).map(f=>({id:f.id,name:f.name,links:f.links})),...(t.desktopWallets||[]).map(f=>({id:f.id,name:f.name,links:{native:f.links.native,universal:f.links.universal}}))],h=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=d.filter(f=>!h.includes(f.id));p.length&&(u.customWallets=p)}return u}function bwe(t){return ywe({formatters:void 0,fees:void 0,serializers:void 0},t)}var XCt=Object.freeze({__proto__:null,convertWCMToAppKitOptions:JCt,defineChain:bwe});const wBt=Object.freeze(Object.defineProperty({__proto__:null,EthereumProvider:WCt,OPTIONAL_EVENTS:gwe,OPTIONAL_METHODS:fwe,REQUIRED_EVENTS:rA,REQUIRED_METHODS:nA,default:mwe},Symbol.toStringTag,{value:"Module"}));var hX={};const vt={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof window.process<"u"&&typeof hX<"u"?hX.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},vwe={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return vt.CHAIN_NAME_MAP?.[r]||void 0}},QCt={bigNumber(t){return t?new Xa(t):new Xa(0)},multiply(t,e){if(t===void 0||e===void 0)return new Xa(0);const n=new Xa(t),r=new Xa(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},e_t=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],t_t=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],n_t=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],r_t={getERC20Abi:t=>vt.USDT_CONTRACT_ADDRESSES.includes(t)?n_t:e_t,getSwapAbi:()=>t_t},_f={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Kt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function OO(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const jt={setItem(t,e){rE()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(rE())return localStorage.getItem(t)||void 0},removeItem(t){rE()&&localStorage.removeItem(t)},clear(){rE()&&localStorage.clear()}};function rE(){return typeof window<"u"&&typeof localStorage<"u"}function eg(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const i_t=Symbol(),pX=Object.getPrototypeOf,dD=new WeakMap,s_t=t=>t&&(dD.has(t)?dD.get(t):pX(t)===Object.prototype||pX(t)===Array.prototype),o_t=t=>s_t(t)&&t[i_t]||null,fX=(t,e=!0)=>{dD.set(t,e)},sA={},PO=t=>typeof t=="object"&&t!==null,jf=new WeakMap,iE=new WeakSet,a_t=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>PO(l)&&!iE.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,d=r)=>{const h=i.get(l);if(h?.[0]===u)return h[1];const p=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return fX(p,!0),i.set(l,[u,p]),Reflect.ownKeys(l).forEach(f=>{if(Object.getOwnPropertyDescriptor(p,f))return;const g=Reflect.get(l,f),{enumerable:m}=Reflect.getOwnPropertyDescriptor(l,f),b={value:g,enumerable:m,configurable:!0};if(iE.has(g))fX(g,!1);else if(g instanceof Promise)delete b.value,b.get=()=>d(g);else if(jf.has(g)){const[y,v]=jf.get(g);b.value=s(y,v(),d)}Object.defineProperty(p,f,b)}),Object.preventExtensions(p)},o=new WeakMap,a=[1,1],c=l=>{if(!PO(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,p=(S,N=++a[0])=>{d!==N&&(d=N,h.forEach(R=>R(S,N)))};let f=a[1];const g=(S=++a[1])=>(f!==S&&!h.size&&(f=S,b.forEach(([N])=>{const R=N[1](S);R>d&&(d=R)})),d),m=S=>(N,R)=>{const D=[...N];D[1]=[S,...D[1]],p(D,R)},b=new Map,y=(S,N)=>{if((sA?"production":void 0)!=="production"&&b.has(S))throw new Error("prop listener already exists");if(h.size){const R=N[3](m(S));b.set(S,[N,R])}else b.set(S,[N])},v=S=>{var N;const R=b.get(S);R&&(b.delete(S),(N=R[1])==null||N.call(R))},w=S=>(h.add(S),h.size===1&&b.forEach(([R,D],O)=>{if((sA?"production":void 0)!=="production"&&D)throw new Error("remove already exists");const T=R[3](m(O));b.set(O,[R,T])}),()=>{h.delete(S),h.size===0&&b.forEach(([R,D],O)=>{D&&(D(),b.set(O,[R]))})}),C=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),k=e(C,{deleteProperty(S,N){const R=Reflect.get(S,N);v(N);const D=Reflect.deleteProperty(S,N);return D&&p(["delete",[N],R]),D},set(S,N,R,D){const O=Reflect.has(S,N),T=Reflect.get(S,N,D);if(O&&(t(T,R)||o.has(R)&&t(T,o.get(R))))return!0;v(N),PO(R)&&(R=o_t(R)||R);let E=R;if(R instanceof Promise)R.then(_=>{R.status="fulfilled",R.value=_,p(["resolve",[N],_])}).catch(_=>{R.status="rejected",R.reason=_,p(["reject",[N],_])});else{!jf.has(R)&&n(R)&&(E=c(R));const _=!iE.has(E)&&jf.get(E);_&&y(N,_)}return Reflect.set(S,N,E,D),p(["set",[N],R,T]),!0}});o.set(l,k);const P=[C,g,s,w];return jf.set(k,P),Reflect.ownKeys(l).forEach(S=>{const N=Object.getOwnPropertyDescriptor(l,S);"value"in N&&(k[S]=l[S],delete N.value,delete N.writable),Object.defineProperty(C,S,N)}),k})=>[c,jf,iE,t,e,n,r,i,s,o,a],[c_t]=a_t();function jr(t={}){return c_t(t)}function Vs(t,e,n){const r=jf.get(t);(sA?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function f_(t,e){const n=jf.get(t);(sA?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function B0(t){return iE.add(t),t}function Xs(t,e,n,r){let i=t[e];return Vs(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function l_t(t){const e=jr({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const Ewe=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],u_t="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",nr={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:["eip155","solana"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["coinbase","meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},gt={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=gt.getActiveNamespace(),e=gt.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{jt.setItem(Kt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=jt.getItem(Kt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{jt.removeItem(Kt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{jt.setItem(Kt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{jt.setItem(Kt.ACTIVE_CAIP_NETWORK_ID,t),gt.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return jt.getItem(Kt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{jt.removeItem(Kt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=OO(t);jt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=gt.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),jt.setItem(Kt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=jt.getItem(Kt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=OO(t);jt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return jt.getItem(Kt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=OO(t);return jt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{jt.setItem(Kt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return jt.getItem(Kt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{jt.removeItem(Kt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return jt.getItem(Kt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return jt.getItem(Kt.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{jt.setItem(Kt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return jt.getItem(Kt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=jt.getItem(Kt.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));jt.setItem(Kt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=gt.getConnectedNamespaces();e.includes(t)||(e.push(t),gt.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=gt.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),gt.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return jt.getItem(Kt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{jt.setItem(Kt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{jt.removeItem(Kt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=jt.getItem(Kt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=gt.getBalanceCache();jt.setItem(Kt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=gt.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;gt.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=gt.getBalanceCache();e[t.caipAddress]=t,jt.setItem(Kt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=jt.getItem(Kt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=gt.getBalanceCache();jt.setItem(Kt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=gt.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),gt.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=gt.getNativeBalanceCache();e[t.caipAddress]=t,jt.setItem(Kt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=jt.getItem(Kt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=gt.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;gt.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=gt.getEnsCache();e[t.address]=t,jt.setItem(Kt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=gt.getEnsCache();jt.setItem(Kt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=jt.getItem(Kt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=gt.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;gt.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=gt.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},jt.setItem(Kt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=gt.getIdentityCache();jt.setItem(Kt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{jt.removeItem(Kt.PORTFOLIO_CACHE),jt.removeItem(Kt.NATIVE_BALANCE_CACHE),jt.removeItem(Kt.ENS_CACHE),jt.removeItem(Kt.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{jt.setItem(Kt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=jt.getItem(Kt.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n={...gt.getConnections(),[e]:t};jt.setItem(Kt.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=jt.getItem(Kt.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}}},We={isMobile(){return this.isClient()?!!(typeof window?.matchMedia=="function"&&window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return We.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=nr.TEN_SEC_MS:!0},isAllowedRetry(t,e=nr.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(We.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const n=new URL(t),r=new URL(e);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+nr.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(We.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!We.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?gt.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window.matchMedia?.("(display-mode: standalone)")?.matches,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,We.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){let n;if(t==="0")n="0";else if(typeof t=="string"){const r=Number(t);r&&(n=r.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return vt.W3M_API_URL},getBlockchainApiUrl(){return vt.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return vt.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?nr.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in vt.CHAIN_NAME_MAP},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),u=c+n;return a+u+l}};async function M3(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class X4{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await M3(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await M3(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await M3(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await M3(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await M3(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const d_t={getFeatureValue(t,e){const n=e?.[t];return n===void 0?nr.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(We.isTelegram()){if(We.isIos())return t.filter(e=>e!=="google");if(We.isMac())return t.filter(e=>e!=="x");if(We.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},kt=jr({features:nr.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:nr.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),Ie={state:kt,subscribeKey(t,e){return Xs(kt,t,e)},setOptions(t){Object.assign(kt,t)},setRemoteFeatures(t){if(!t)return;const e={...kt.remoteFeatures,...t};kt.remoteFeatures=e,kt.remoteFeatures?.socials&&(kt.remoteFeatures.socials=d_t.filterSocialsByPlatform(kt.remoteFeatures.socials))},setFeatures(t){if(!t)return;kt.features||(kt.features=nr.DEFAULT_FEATURES);const e={...kt.features,...t};kt.features=e},setProjectId(t){kt.projectId=t},setCustomRpcUrls(t){kt.customRpcUrls=t},setAllWallets(t){kt.allWallets=t},setIncludeWalletIds(t){kt.includeWalletIds=t},setExcludeWalletIds(t){kt.excludeWalletIds=t},setFeaturedWalletIds(t){kt.featuredWalletIds=t},setTokens(t){kt.tokens=t},setTermsConditionsUrl(t){kt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){kt.privacyPolicyUrl=t},setCustomWallets(t){kt.customWallets=t},setIsSiweEnabled(t){kt.isSiweEnabled=t},setIsUniversalProvider(t){kt.isUniversalProvider=t},setSdkVersion(t){kt.sdkVersion=t},setMetadata(t){kt.metadata=t},setDisableAppend(t){kt.disableAppend=t},setEIP6963Enabled(t){kt.enableEIP6963=t},setDebug(t){kt.debug=t},setEnableWalletConnect(t){kt.enableWalletConnect=t},setEnableWalletGuide(t){kt.enableWalletGuide=t},setEnableAuthLogger(t){kt.enableAuthLogger=t},setEnableWallets(t){kt.enableWallets=t},setPreferUniversalLinks(t){kt.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){kt.hasMultipleAddresses=t},setSIWX(t){kt.siwx=t},setConnectMethodsOrder(t){kt.features={...kt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){kt.features={...kt.features,walletFeaturesOrder:t}},setSocialsOrder(t){kt.remoteFeatures={...kt.remoteFeatures,socials:t}},setCollapseWallets(t){kt.features={...kt.features,collapseWallets:t}},setEnableEmbedded(t){kt.enableEmbedded=t},setAllowUnsupportedChain(t){kt.allowUnsupportedChain=t},setManualWCControl(t){kt.manualWCControl=t},setEnableNetworkSwitch(t){kt.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(kt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){kt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return kt.universalProviderConfigOverride},getSnapshot(){return f_(kt)}},h_t=Object.freeze({enabled:!0,events:[]}),p_t=new X4({baseUrl:We.getAnalyticsUrl(),clientId:null}),f_t=5,g_t=60*1e3,If=jr({...h_t}),m_t={state:If,subscribeKey(t,e){return Xs(If,t,e)},async sendError(t,e){if(!If.enabled)return;const n=Date.now();if(If.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<g_t}).length>=f_t)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};If.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=Ie.state;await p_t.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:We.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){If.enabled=!0},disable(){If.enabled=!1},clearEvents(){If.events=[]}};class Pv extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Pv.prototype);let i=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const s=r.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,Pv):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function gX(t,e){const n=t instanceof Pv?t:new Pv(t instanceof Error?t.message:String(t),e,t);throw m_t.sendError(n,n.category),n}function Ba(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return gX(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return gX(a,e)}},n[r]=s}else n[r]=i}),n}const ad={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},w_t={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===ad.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",s=n.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${ad.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===ad.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ad.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===vt.CHAIN.SOLANA&&t===ad.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ad.COINBASE.url}/dapp?cb_url=${r}`)}},Ka=jr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),y_t={state:Ka,subscribeNetworkImages(t){return Vs(Ka.networkImages,()=>t(Ka.networkImages))},subscribeKey(t,e){return Xs(Ka,t,e)},subscribe(t){return Vs(Ka,()=>t(Ka))},setWalletImage(t,e){Ka.walletImages[t]=e},setNetworkImage(t,e){Ka.networkImages[t]=e},setChainImage(t,e){Ka.chainImages[t]=e},setConnectorImage(t,e){Ka.connectorImages={...Ka.connectorImages,[t]:e}},setTokenImage(t,e){Ka.tokenImages[t]=e},setCurrencyImage(t,e){Ka.currencyImages[t]=e}},va=Ba(y_t),b_t={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},RO=jr({networkImagePromises:{}}),Gi={async fetchWalletImage(t){if(t)return await Ve._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(RO.networkImagePromises[t]||(RO.networkImagePromises[t]=Ve._fetchNetworkImage(t)),await RO.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return va.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return va.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return va.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return va.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.imageId)return va.state.connectorImages[t.imageId]},getChainImage(t){return va.state.networkImages[b_t[t]]}},Sf=jr({message:"",variant:"info",open:!1}),v_t={state:Sf,subscribeKey(t,e){return Xs(Sf,t,e)},open(t,e){const{debug:n}=Ie.state,{shortMessage:r,longMessage:i}=t;n&&(Sf.message=r,Sf.variant=e,Sf.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Sf.open=!1,Sf.message="",Sf.variant="info"}},au=Ba(v_t),E_t=We.getAnalyticsUrl(),C_t=new X4({baseUrl:E_t,clientId:null}),__t=["MODAL_CREATED"],_h=jr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),un={state:_h,subscribe(t){return Vs(_h,()=>t(_h))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Ie.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=wt.state.address;if(__t.includes(t.data.event)||typeof window>"u")return;await C_t.post({path:"/e",params:un.getSdkProperties(),body:{eventId:We.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),_h.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===vt.HTTP_STATUS_CODES.FORBIDDEN&&!_h.reportedErrors.FORBIDDEN&&(au.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${rE()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),_h.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){_h.timestamp=Date.now(),_h.data=t,Ie.state.features?.analytics&&un._sendAnalyticsEvent(_h)}},I_t=We.getApiUrl(),na=new X4({baseUrl:I_t,clientId:null}),S_t=40,mX=4,x_t=20,Zt=jr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ve={state:Zt,subscribeKey(t,e){return Xs(Zt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Ie.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Ie.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${na.baseUrl}/getWalletImage/${t}`,n=await na.getBlob({path:e,params:Ve._getSdkProperties()});va.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${na.baseUrl}/public/getAssetImage/${t}`,n=await na.getBlob({path:e,params:Ve._getSdkProperties()});va.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${na.baseUrl}/public/getAssetImage/${t}`,n=await na.getBlob({path:e,params:Ve._getSdkProperties()});va.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${na.baseUrl}/public/getCurrencyImage/${t}`,n=await na.getBlob({path:e,params:Ve._getSdkProperties()});va.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${na.baseUrl}/public/getTokenImage/${t}`,n=await na.getBlob({path:e,params:Ve._getSdkProperties()});va.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return We.isMobile()?t?.filter(n=>n.mobile_link||n.id===ad.COINBASE.id?!0:G.state.activeChain==="solana"&&(n.id===ad.SOLFLARE.id||n.id===ad.PHANTOM.id)):t},async fetchProjectConfig(){return(await na.get({path:"/appkit/v1/config",params:Ve._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await na.get({path:"/projects/v1/origins",params:Ve._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const e=G.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!Gi.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ve._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Le.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ve._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ve._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ve._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];Ve._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(ad).map(s=>s.id));const r=await na.get({path:"/getWallets",params:{...Ve._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:Ve._filterWalletsByPlatform(r?.data)||[],count:r?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Ie.state;if(t?.length){const e={...Ve._getSdkProperties(),page:1,entries:t?.length??mX,include:t},{data:n}=await Ve.fetchWallets(e),r=[...n].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>Ve._fetchWalletImage(s))),Zt.featured=r,Zt.allFeatured=r}},async fetchRecommendedWallets(){try{Zt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=Ie.state,r=[...e??[],...n??[]].filter(Boolean),i=G.getRequestedCaipNetworkIds().join(","),s={page:1,entries:mX,include:t,exclude:r,chains:i},{data:o,count:a}=await Ve.fetchWallets(s),c=gt.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Ve._fetchWalletImage(d))),Zt.recommended=o,Zt.allRecommended=o,Zt.count=a??0}catch{}finally{Zt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=Ie.state,i=G.getRequestedCaipNetworkIds().join(","),s=[...Zt.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:S_t,include:e,exclude:s,chains:i},{data:a,count:c}=await Ve.fetchWallets(o),l=a.slice(0,x_t).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Ve._fetchWalletImage(u))),Zt.wallets=We.uniqueBy([...Zt.wallets,...Ve._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(d=>i.includes(d))),Zt.count=c>Zt.count?c:Zt.count,Zt.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Ve.fetchWallets(e);n&&n.forEach(r=>{Zt.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=Ie.state,i=G.getRequestedCaipNetworkIds().join(",");Zt.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await Ve.fetchWallets(s);un.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ve._fetchWalletImage(c)),We.wait(300)]),Zt.search=Ve._filterOutExtensions(o)},initPromise(t,e){const n=Zt.promises[t];return n||(Zt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&Ve.initPromise("connectorImages",Ve.fetchConnectorImages),e&&Ve.initPromise("featuredWallets",Ve.fetchFeaturedWallets),n&&Ve.initPromise("recommendedWallets",Ve.fetchRecommendedWallets),r&&Ve.initPromise("networkImages",Ve.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){Ie.state.features?.analytics&&Ve.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await na.get({path:"/getAnalyticsConfig",params:Ve._getSdkProperties()});Ie.setFeatures({analytics:t})}catch{Ie.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){Zt.featured=Zt.allFeatured,Zt.recommended=Zt.allRecommended;return}const e=G.getRequestedCaipNetworkIds().join(",");Zt.featured=Zt.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Zt.recommended=Zt.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Zt.filteredWallets=Zt.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))},clearFilterByNamespaces(){Zt.filteredWallets=[]},setFilterByNamespace(t){if(!t){Zt.featured=Zt.allFeatured,Zt.recommended=Zt.allRecommended;return}const e=G.getRequestedCaipNetworkIds().join(",");Zt.featured=Zt.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Zt.recommended=Zt.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Zt.filteredWallets=Zt.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))}},sr=jr({view:"Connect",history:["Connect"],transactionStack:[]}),A_t={state:sr,subscribeKey(t,e){return Xs(sr,t,e)},pushTransactionStack(t){sr.transactionStack.push(t)},popTransactionStack(t){const e=sr.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:i}=e;switch(t){case"success":n?.();break;case"error":r?.(),He.goBack();break;case"cancel":i?.(),He.goBack();break}},push(t,e){t!==sr.view&&(sr.view=t,sr.history.push(t),sr.data=e)},reset(t,e){sr.view=t,sr.history=[t],sr.data=e},replace(t,e){sr.history.at(-1)===t||(sr.view=t,sr.history[sr.history.length-1]=t,sr.data=e)},goBack(){const t=G.state.activeCaipAddress,e=He.state.view==="ConnectingFarcaster",n=!t&&e;if(sr.history.length>1){sr.history.pop();const[r]=sr.history.slice(-1);r&&(t&&r==="Connect"?sr.view="Account":sr.view=r)}else Gn.close();sr.data?.wallet&&(sr.data.wallet=void 0),setTimeout(()=>{if(n){wt.setFarcasterUrl(void 0,G.state.activeChain);const r=Le.getAuthConnector();r?.provider?.reload();const i=f_(Ie.state);r?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(sr.history.length>1){sr.history=sr.history.slice(0,t+1);const[e]=sr.history.slice(-1);e&&(sr.view=e)}},goBackOrCloseModal(){He.state.history.length>1?He.goBack():Gn.close()}},He=Ba(A_t),Ih=jr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),hD={state:Ih,subscribe(t){return Vs(Ih,()=>t(Ih))},setThemeMode(t){Ih.themeMode=t;try{const e=Le.getAuthConnector();if(e){const n=hD.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:eg(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Ih.themeVariables={...Ih.themeVariables,...t};try{const e=Le.getAuthConnector();if(e){const n=hD.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:eg(Ih.themeVariables,Ih.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return f_(Ih)}},Bs=Ba(hD),Cwe={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Tn=jr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...Cwe},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),k_t={state:Tn,subscribe(t){return Vs(Tn,()=>{t(Tn)})},subscribeKey(t,e){return Xs(Tn,t,e)},initialize(t){t.forEach(e=>{const n=gt.getConnectedConnectorId(e);n&&Le.setConnectorId(n,e)})},setActiveConnector(t){t&&(Tn.activeConnector=B0(t))},setConnectors(t){t.filter(i=>!Tn.allConnectors.some(s=>s.id===i.id&&Le.getConnectorName(s.name)===Le.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Tn.allConnectors.push(B0(i))});const n=Le.getEnabledNamespaces(),r=Le.getEnabledConnectors(n);Tn.connectors=Le.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(Tn.filterByNamespaceMap).forEach(e=>{Tn.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Tn.filterByNamespaceMap[e]=!0}),Le.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Tn.filterByNamespaceMap[t]=e,Le.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Le.getEnabledNamespaces(),e=Le.getEnabledConnectors(t),n=Le.areAllNamespacesEnabled();Tn.connectors=Le.mergeMultiChainConnectors(e),n?Ve.clearFilterByNamespaces():Ve.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Tn.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Tn.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Tn.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Le.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=i?.id===vt.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=Le.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===vt.CONNECTOR_ID.AUTH){const e=t,n=f_(Ie.state),r=Bs.getSnapshot().themeMode,i=Bs.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:eg(i,r)}),Le.setConnectors([t])}else Le.setConnectors([t])},getAuthConnector(t){const e=t||G.state.activeChain,n=Tn.connectors.find(r=>r.id===vt.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return Tn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return Tn.allConnectors.find(e=>e.id===t)},getConnector(t,e){return Tn.allConnectors.filter(r=>r.chain===G.state.activeChain).find(r=>r.explorerId===t||r.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,n=f_(Ie.state),r=Bs.getSnapshot().themeMode,i=Bs.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:eg(i,r)})},getConnectorsByNamespace(t){const e=Tn.allConnectors.filter(n=>n.chain===t);return Le.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Le.getConnector(t.id,t.rdns),n=G.state.activeChain;w_t.handleMobileDeeplinkRedirect(e?.explorerId||t.id,n),e?He.push("ConnectingExternal",{connector:e}):He.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Le.getConnectorsByNamespace(t):Le.mergeMultiChainConnectors(Tn.allConnectors)},setFilterByNamespace(t){Tn.filterByNamespace=t,Tn.connectors=Le.getConnectors(t),Ve.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Tn.activeConnectorIds={...Tn.activeConnectorIds,[e]:t},gt.setConnectedConnectorId(e,t))},removeConnectorId(t){Tn.activeConnectorIds={...Tn.activeConnectorIds,[t]:void 0},gt.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Tn.activeConnectorIds[t]},isConnected(t){return t?!!Tn.activeConnectorIds[t]:Object.values(Tn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Tn.activeConnectorIds={...Cwe}}},Le=Ba(k_t),AE={ACCOUNT_TYPES:{SMART_ACCOUNT:"smartAccount"}},Gm=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),qi=jr({...Gm}),$_t={state:qi,subscribeKey(t,e){return Xs(qi,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=We.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){qi.message=Gm.message,qi.variant=Gm.variant,qi.svg=Gm.svg,qi.open=Gm.open,qi.autoClose=Gm.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Gm.autoClose}){qi.open?(qi.open=!1,setTimeout(()=>{qi.message=t,qi.variant=n,qi.svg=e,qi.open=!0,qi.autoClose=r},150)):(qi.message=t,qi.variant=n,qi.svg=e,qi.open=!0,qi.autoClose=r)}},vi=$_t,Or=jr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),T_t={state:Or,subscribe(t){return Vs(Or,()=>t(Or))},setLastNetworkInView(t){Or.lastNetworkInView=t},async fetchTransactions(t,e){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Or.loading=!0;try{const n=await $t.fetchTransactions({account:t,cursor:Or.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:G.state.activeCaipNetwork?.caipNetworkId}),r=sE.filterSpamTransactions(n.data),i=sE.filterByConnectedChain(r),s=[...Or.transactions,...i];Or.loading=!1,e==="coinbase"?Or.coinbaseTransactions=sE.groupTransactionsByYearAndMonth(Or.coinbaseTransactions,n.data):(Or.transactions=s,Or.transactionsByYear=sE.groupTransactionsByYearAndMonth(Or.transactionsByYear,i)),Or.empty=s.length===0,Or.next=n.next?n.next:void 0}catch{const r=G.state.activeChain;un.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Ie.state.projectId,cursor:Or.next,isSmartAccount:wt.state.preferredAccountTypes?.[r]===AE.ACCOUNT_TYPES.SMART_ACCOUNT}}),vi.showError("Failed to fetch transactions"),Or.loading=!1,Or.empty=!0,Or.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=G.state.activeCaipNetwork?.caipNetworkId;return t.filter(r=>r.metadata.chain===e)},clearCursor(){Or.next=void 0},resetTransactions(){Or.transactions=[],Or.transactionsByYear={},Or.lastNetworkInView=void 0,Or.loading=!1,Or.empty=!1,Or.next=void 0}},sE=Ba(T_t,"API_ERROR"),zr=jr({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let Bm;const N_t={state:zr,subscribeKey(t,e){return Xs(zr,t,e)},_getClient(){return zr._client},setClient(t){zr._client=B0(t)},async connectWalletConnect(){if(We.isTelegram()||We.isSafari()&&We.isIos()){if(Bm){await Bm,Bm=void 0;return}if(!We.isPairingExpired(zr?.wcPairingExpiry)){const t=zr.wcUri;zr.wcUri=t;return}Bm=Je._getClient()?.connectWalletConnect?.().catch(()=>{}),Je.state.status="connecting",await Bm,Bm=void 0,zr.wcPairingExpiry=void 0,Je.state.status="connected"}else await Je._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){await Je._getClient()?.connectExternal?.(t),n&&G.setActiveNamespace(e)},async reconnectExternal(t){await Je._getClient()?.reconnectExternal?.(t);const e=t.chain||G.state.activeChain;e&&Le.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){Gn.setLoading(!0,G.state.activeChain);const n=Le.getAuthConnector();n&&(wt.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),gt.setPreferredAccountTypes(wt.state.preferredAccountTypes??{[e]:t}),await Je.reconnectExternal(n),Gn.setLoading(!1,G.state.activeChain),un.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:G.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return Je._getClient()?.signMessage(t)},parseUnits(t,e){return Je._getClient()?.parseUnits(t,e)},formatUnits(t,e){return Je._getClient()?.formatUnits(t,e)},async sendTransaction(t){return Je._getClient()?.sendTransaction(t)},async getCapabilities(t){return Je._getClient()?.getCapabilities(t)},async grantPermissions(t){return Je._getClient()?.grantPermissions(t)},async walletGetAssets(t){return Je._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return Je._getClient()?.estimateGas(t)},async writeContract(t){return Je._getClient()?.writeContract(t)},async getEnsAddress(t){return Je._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return Je._getClient()?.getEnsAvatar(t)},checkInstalled(t){return Je._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){zr.wcUri=void 0,zr.wcPairingExpiry=void 0,zr.wcLinking=void 0,zr.recentWallet=void 0,zr.status="disconnected",sE.resetTransactions(),gt.deleteWalletConnectDeepLink()},resetUri(){zr.wcUri=void 0,zr.wcPairingExpiry=void 0,Bm=void 0},finalizeWcConnection(){const{wcLinking:t,recentWallet:e}=Je.state;t&&gt.setWalletConnectDeepLink(t),e&&gt.setAppKitRecent(e),un.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:He.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){zr.wcBasic=t},setUri(t){zr.wcUri=t,zr.wcPairingExpiry=We.getPairingExpiry()},setWcLinking(t){zr.wcLinking=t},setWcError(t){zr.wcError=t,zr.buffering=!1},setRecentWallet(t){zr.recentWallet=t},setBuffering(t){zr.buffering=t},setStatus(t){zr.status=t},async disconnect(t){try{await Je._getClient()?.disconnect(t)}catch(e){throw new Pv("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(t,e){zr.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:n}){if(Le.state.activeConnectorIds[n]===t.connectorId){const s=G.state.activeCaipNetwork;if(s){const o=`${n}:${s.id}:${e}`;wt.setCaipAddress(o,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const s=Le.getConnector(t.connectorId);s?Je.connectExternal(s,n):console.warn(`No connector found for namespace "${n}"`)}}},Je=Ba(N_t),Cb=jr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),lg={state:Cb,subscribe(t){return Vs(Cb,()=>t(Cb))},subscribeOpen(t){return Xs(Cb,"open",t)},set(t){Object.assign(Cb,{...Cb,...t})}},DO={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return TA(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},wX={async getMyTokensWithBalance(t){const e=wt.state.address,n=G.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await $t.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){try{const n=DO.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await Je.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const i=await Je.walletGetAssets({account:t,chainFilter:[n]});return DO.isWalletGetAssetsResponse(i)?(i[n]||[]).map(o=>DO.createBalance(o,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:G.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Jn=jr({tokenBalances:[],loading:!1}),O_t={state:Jn,subscribe(t){return Vs(Jn,()=>t(Jn))},subscribeKey(t,e){return Xs(Jn,t,e)},setToken(t){t&&(Jn.token=B0(t))},setTokenAmount(t){Jn.sendTokenAmount=t},setReceiverAddress(t){Jn.receiverAddress=t},setReceiverProfileImageUrl(t){Jn.receiverProfileImageUrl=t},setReceiverProfileName(t){Jn.receiverProfileName=t},setNetworkBalanceInUsd(t){Jn.networkBalanceInUSD=t},setLoading(t){Jn.loading=t},async sendToken(){try{switch(jn.setLoading(!0),G.state.activeCaipNetwork?.chainNamespace){case"eip155":await jn.sendEvmToken();return;case"solana":await jn.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{jn.setLoading(!1)}},async sendEvmToken(){const t=G.state.activeChain,e=wt.state.preferredAccountTypes?.[t];if(!jn.state.sendTokenAmount||!jn.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!jn.state.token)throw new Error("A token is required");jn.state.token?.address?(un.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===AE.ACCOUNT_TYPES.SMART_ACCOUNT,token:jn.state.token.address,amount:jn.state.sendTokenAmount,network:G.state.activeCaipNetwork?.caipNetworkId||""}}),await jn.sendERC20Token({receiverAddress:jn.state.receiverAddress,tokenAddress:jn.state.token.address,sendTokenAmount:jn.state.sendTokenAmount,decimals:jn.state.token.quantity.decimals})):(un.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===AE.ACCOUNT_TYPES.SMART_ACCOUNT,token:jn.state.token.symbol||"",amount:jn.state.sendTokenAmount,network:G.state.activeCaipNetwork?.caipNetworkId||""}}),await jn.sendNativeToken({receiverAddress:jn.state.receiverAddress,sendTokenAmount:jn.state.sendTokenAmount,decimals:jn.state.token.quantity.decimals}))},async fetchTokenBalance(t){Jn.loading=!0;const e=G.state.activeCaipNetwork?.caipNetworkId,n=G.state.activeCaipNetwork?.chainNamespace,r=G.state.activeCaipAddress,i=r?We.getPlainAddress(r):void 0;if(Jn.lastRetry&&!We.isAllowedRetry(Jn.lastRetry,30*nr.ONE_SEC_MS))return Jn.loading=!1,[];try{if(i&&e&&n){const s=await wX.getMyTokensWithBalance();return Jn.tokenBalances=s,Jn.lastRetry=void 0,s}}catch(s){Jn.lastRetry=Date.now(),t?.(s),vi.showError("Token Balance Unavailable")}finally{Jn.loading=!1}return[]},fetchNetworkBalance(){if(Jn.tokenBalances.length===0)return;const t=wX.mapBalancesToSwapTokens(Jn.tokenBalances);if(!t)return;const e=t.find(n=>n.address===G.getActiveNetworkTokenAddress());e&&(Jn.networkBalanceInUSD=e?QCt.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){He.pushTransactionStack({});const e=t.receiverAddress,n=wt.state.address,r=Je.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Je.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),un.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:wt.state.preferredAccountTypes?.eip155===AE.ACCOUNT_TYPES.SMART_ACCOUNT,token:jn.state.token?.symbol||"",amount:t.sendTokenAmount,network:G.state.activeCaipNetwork?.caipNetworkId||""}}),Je._getClient()?.updateBalance("eip155"),jn.resetSend()},async sendERC20Token(t){He.pushTransactionStack({onSuccess(){He.replace("Account")}});const e=Je.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(wt.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=We.getPlainAddress(t.tokenAddress);await Je.writeContract({fromAddress:wt.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:r_t.getERC20Abi(n),chainNamespace:"eip155"}),jn.resetSend()}},async sendSolanaToken(){if(!jn.state.sendTokenAmount||!jn.state.receiverAddress)throw new Error("An amount and receiver address are required");He.pushTransactionStack({onSuccess(){He.replace("Account")}}),await Je.sendTransaction({chainNamespace:"solana",to:jn.state.receiverAddress,value:jn.state.sendTokenAmount}),Je._getClient()?.updateBalance("solana"),jn.resetSend()},resetSend(){Jn.token=void 0,Jn.sendTokenAmount=void 0,Jn.receiverAddress=void 0,Jn.receiverProfileImageUrl=void 0,Jn.receiverProfileName=void 0,Jn.loading=!1,Jn.tokenBalances=[]}},jn=Ba(O_t),UO={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},WI={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},nt=jr({chains:l_t(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),P_t={state:nt,subscribe(t){return Vs(nt,()=>{t(nt)})},subscribeKey(t,e){return Xs(nt,t,e)},subscribeChainProp(t,e,n){let r;return Vs(nt.chains,()=>{const i=n||nt.activeChain;if(i){const s=nt.chains.get(i)?.[t];r!==s&&(r=s,e(s))}})},initialize(t,e,n){const{chainId:r,namespace:i}=gt.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===r?.toString()),a=t.find(u=>u?.namespace===i)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=Ie.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(nt.noAdapters=!0),nt.noAdapters||(nt.activeChain=a?.namespace,nt.activeCaipNetwork=s,G.setChainNetworkData(a?.namespace,{caipNetwork:s}),nt.activeChain&&lg.set({activeChain:a?.namespace})),l.forEach(u=>{const d=e?.filter(h=>h.chainNamespace===u);G.state.chains.set(u,{namespace:u,networkState:jr({...WI,caipNetwork:d?.[0]}),accountState:jr(UO),caipNetworks:d??[],...n}),G.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){if(nt.activeChain===t){const e=Array.from(nt.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&G.setActiveCaipNetwork(n)}}nt.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){nt.chains.set(t.namespace,{namespace:t.namespace,networkState:{...WI,caipNetwork:r[0]},accountState:UO,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),G.setRequestedCaipNetworks(r?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=nt.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(r=>r.id===t.id)||n.push(t),nt.chains.set(t.chainNamespace,{...e,caipNetworks:n}),G.setRequestedCaipNetworks(n,t.chainNamespace),Le.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=nt.chains.get(t);if(n){const r=nt.activeCaipNetwork?.id===e,i=[...n.caipNetworks?.filter(s=>s.id!==e)||[]];r&&n?.caipNetworks?.[0]&&G.setActiveCaipNetwork(n.caipNetworks[0]),nt.chains.set(t,{...n,caipNetworks:i}),G.setRequestedCaipNetworks(i||[],t),i.length===0&&Le.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=nt.chains.get(t);n&&(n.networkState={...n.networkState||WI,...e},nt.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=nt.chains.get(t);if(r){const i={...r.accountState||UO,...e};nt.chains.set(t,{...r,accountState:i}),(nt.chains.size===1||nt.activeChain===t)&&(e.caipAddress&&(nt.activeCaipAddress=e.caipAddress),wt.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=nt.chains.get(t);if(n){const r={...n.networkState||WI,...e};nt.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){G.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Le.removeConnectorId(n)},setActiveNamespace(t){nt.activeChain=t;const e=t?nt.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(nt.activeCaipAddress=e?.accountState?.caipAddress,nt.activeCaipNetwork=n,G.setChainNetworkData(t,{caipNetwork:n}),gt.setActiveCaipNetworkId(n?.caipNetworkId),lg.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;nt.activeChain!==t.chainNamespace&&G.setIsSwitchingNamespace(!0);const e=nt.chains.get(t.chainNamespace);nt.activeChain=t.chainNamespace,nt.activeCaipNetwork=t,G.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?nt.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:nt.activeCaipAddress=void 0,G.setAccountProp("caipAddress",nt.activeCaipAddress,t.chainNamespace),e&&wt.replaceState(e.accountState),jn.resetSend(),lg.set({activeChain:nt.activeChain,selectedNetworkId:nt.activeCaipNetwork?.caipNetworkId}),gt.setActiveCaipNetworkId(t.caipNetworkId),!G.checkIfSupportedNetwork(t.chainNamespace)&&Ie.state.enableNetworkSwitch&&!Ie.state.allowUnsupportedChain&&!Je.state.wcBasic&&G.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=nt.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==G.state.activeChain,n=G.getNetworkData(t)?.caipNetwork,r=G.getCaipNetworkByNamespace(t,n?.id);e&&r&&await G.switchActiveNetwork(r)},async switchActiveNetwork(t){const n=!G.state.chains.get(G.state.activeChain)?.caipNetworks?.some(i=>i.id===nt.activeCaipNetwork?.id),r=G.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&Gn.close()}catch{He.goBack()}un.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||nt.activeChain,n=nt.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||nt.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=nt.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){let n=nt.activeChain;if(e&&(n=e),!n)return;const r=nt.chains.get(n)?.accountState;if(r)return r[t]},getNetworkProp(t,e){const n=nt.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=nt.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=e?.networkState||{};return We.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return nt.chains.forEach(e=>{const n=G.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){G.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=G.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));Le.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return nt.chains.forEach(e=>{const n=G.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return nt.activeCaipNetwork},getActiveCaipAddress(){return nt.activeCaipAddress},getApprovedCaipNetworkIds(t){return nt.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const n=await G.getNetworkControllerClient()?.getApprovedCaipNetworksData();G.setAdapterNetworkState(t,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||nt.activeCaipNetwork,r=G.getRequestedCaipNetworks(t);return r.length?r?.some(i=>i.id===n?.id):!0},checkIfSupportedChainId(t){return nt.activeChain?G.getRequestedCaipNetworks(nt.activeChain)?.some(n=>n.id===t):!0},setSmartAccountEnabledNetworks(t,e){G.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=vwe.caipNetworkIdToNumber(nt.activeCaipNetwork?.caipNetworkId),e=nt.activeChain;return!e||!t?!1:!!G.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},getActiveNetworkTokenAddress(){const t=nt.activeCaipNetwork?.chainNamespace||"eip155",e=nt.activeCaipNetwork?.id||1,n=nr.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){Gn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=nt.activeCaipNetwork;return!!(t?.chainNamespace&&nr.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){G.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");nt.activeCaipAddress=void 0,G.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Le.removeConnectorId(e)},setIsSwitchingNamespace(t){nt.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(nt.chains.forEach(n=>{vt.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?nt.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){return t?G.state.chains.get(t)?.accountState:wt.state},getNetworkData(t){const e=t||nt.activeChain;if(e)return G.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=G.state.chains.get(t),r=n?.caipNetworks?.find(i=>i.id===e);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=Le.state.filterByNamespace;return(t?[nt.chains.get(t)]:Array.from(nt.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?G.getRequestedCaipNetworks(t):G.getAllRequestedCaipNetworks()}},G=Ba(P_t),R_t={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},_we=We.getBlockchainApiUrl(),ra=jr({clientId:null,api:new X4({baseUrl:_we,clientId:null}),supportedChains:{http:[],ws:[]}}),$t={state:ra,async get(t){const{st:e,sv:n}=$t.getSdkProperties(),r=Ie.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return ra.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Ie.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ra.supportedChains.http.length||await $t.getSupportedNetworks()}catch{return!1}return ra.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await $t.get({path:"v1/supported-chains"});return ra.supportedChains=t,t}catch{return ra.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await $t.isNetworkSupported(e))return{avatar:"",name:""};const r=gt.getIdentityFromCacheForAddress(t);if(r)return r;const i=await $t.get({path:`/v1/identity/${t}`,params:{sender:G.state.activeCaipAddress?We.getPlainAddress(G.state.activeCaipAddress):void 0}});return gt.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?$t.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?$t.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?$t.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?ra.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Ie.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?$t.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=$t.getSdkProperties();if(!await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return $t.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){if(!await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ra.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:nr.CONVERT_SLIPPAGE_TOLERANCE},projectId:Ie.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:r,sv:i}=$t.getSdkProperties();if(!await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return $t.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){const{st:r,sv:i}=$t.getSdkProperties();if(!await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))return vi.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=gt.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await $t.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return gt.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?$t.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?$t.get({path:`/v1/profile/reverse/${t}`,params:{sender:wt.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?$t.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?ra.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?(await ra.api.post({path:"/v1/generators/onrampurl",params:{projectId:Ie.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await $t.get({path:"/v1/onramp/options"})}catch{return R_t}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){try{return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?await ra.api.post({path:"/v1/onramp/quote",params:{projectId:Ie.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?$t.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await $t.isNetworkSupported(G.state.activeCaipNetwork?.caipNetworkId)?ra.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Ie.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){ra.clientId=t,ra.api=new X4({baseUrl:_we,clientId:t})}},Kc=jr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),D_t={state:Kc,replaceState(t){t&&Object.assign(Kc,B0(t))},subscribe(t){return G.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return G.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){G.setAccountProp("status",t,e)},getCaipAddress(t){return G.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?We.getPlainAddress(t):void 0;e===G.state.activeChain&&(G.state.activeCaipAddress=t),G.setAccountProp("caipAddress",t,e),G.setAccountProp("address",n,e)},setBalance(t,e,n){G.setAccountProp("balance",t,n),G.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){G.setAccountProp("profileName",t,e)},setProfileImage(t,e){G.setAccountProp("profileImage",t,e)},setUser(t,e){G.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){G.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){G.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){G.setAccountProp("currentTab",t,G.state.activeChain)},setTokenBalance(t,e){t&&G.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){G.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){G.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=G.getAccountProp("addressLabels",n)||new Map;r.set(t,e),G.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=G.getAccountProp("addressLabels",e)||new Map;n.delete(t),G.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){G.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){G.setAccountProp("preferredAccountTypes",{...Kc.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Kc.preferredAccountTypes=t},setSocialProvider(t,e){t&&G.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){G.setAccountProp("socialWindow",t?B0(t):void 0,e)},setFarcasterUrl(t,e){G.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){Kc.balanceLoading=!0;const e=G.state.activeCaipNetwork?.caipNetworkId,n=G.state.activeCaipNetwork?.chainNamespace,r=G.state.activeCaipAddress,i=r?We.getPlainAddress(r):void 0;if(Kc.lastRetry&&!We.isAllowedRetry(Kc.lastRetry,30*nr.ONE_SEC_MS))return Kc.balanceLoading=!1,[];try{if(i&&e&&n){const o=(await $t.getBalance(i,e)).balances.filter(a=>a.quantity.decimals!=="0");return wt.setTokenBalance(o,n),Kc.lastRetry=void 0,Kc.balanceLoading=!1,o}}catch(s){Kc.lastRetry=Date.now(),t?.(s),vi.showError("Token Balance Unavailable")}finally{Kc.balanceLoading=!1}return[]},resetAccount(t){G.resetAccount(t)}},wt=Ba(D_t),U_t={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=G.state.activeCaipNetwork,r=He.state.data;if(t.id===n?.id)return;const s=wt.getCaipAddress(G.state.activeChain),o=t.chainNamespace!==G.state.activeChain,a=wt.getCaipAddress(t.chainNamespace),l=Le.getConnectorId(G.state.activeChain)===vt.CONNECTOR_ID.AUTH,u=vt.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?He.push("SwitchNetwork",{...r,network:t}):s&&o&&!a?He.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):He.push("SwitchNetwork",{...r,network:t})}},ia=jr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),M_t={state:ia,subscribe(t){return Vs(ia,()=>t(ia))},subscribeKey(t,e){return Xs(ia,t,e)},async open(t){const e=wt.state.status==="connected",n=t?.namespace,r=G.state.activeChain,i=n&&n!==r,s=G.getAccountData(t?.namespace)?.caipAddress;if(Je.state.wcBasic?Ve.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ve.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),Le.setFilterByNamespace(t?.namespace),Gn.setLoading(!0,n),n&&i){const o=G.getNetworkData(n)?.caipNetwork||G.getRequestedCaipNetworks(n)[0];o&&U_t.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0})}else{const o=G.state.noAdapters;Ie.state.manualWCControl||o&&!s?We.isMobile()?He.reset("AllWallets"):He.reset("ConnectingWalletConnectBasic"):t?.view?He.reset(t.view,t.data):s?He.reset("Account"):He.reset("Connect")}ia.open=!0,lg.set({open:!0}),un.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=Ie.state.enableEmbedded,e=!!G.state.activeCaipAddress;ia.open&&un.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ia.open=!1,He.reset("Connect"),Gn.clearLoading(),t?e?He.replace("Account"):He.push("Connect"):lg.set({open:!1}),Je.resetUri()},setLoading(t,e){e&&ia.loadingNamespaceMap.set(e,t),ia.loading=t,lg.set({loading:t})},clearLoading(){ia.loadingNamespaceMap.clear(),ia.loading=!1},shake(){ia.shake||(ia.shake=!0,setTimeout(()=>{ia.shake=!1},500))}},Gn=Ba(M_t),kE={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},pD={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},L_t={providers:Ewe,selectedProvider:null,error:null,purchaseCurrency:kE,paymentCurrency:pD,purchaseCurrencies:[kE],paymentCurrencies:[],quotesLoading:!1},In=jr(L_t),j_t={state:In,subscribe(t){return Vs(In,()=>t(In))},subscribeKey(t,e){return Xs(In,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=G.state.activeChain===vt.CHAIN.SOLANA?"SOL":"USDC",n=wt.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",u_t),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",Ie.state.projectId),In.selectedProvider={...t,url:r.toString()}}else In.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=Ewe.filter(r=>e.includes(r.name));In.providers=n}else In.providers=[]},setPurchaseCurrency(t){In.purchaseCurrency=t},setPaymentCurrency(t){In.paymentCurrency=t},setPurchaseAmount(t){fD.state.purchaseAmount=t},setPaymentAmount(t){fD.state.paymentAmount=t},async getAvailableCurrencies(){const t=await $t.getOnrampOptions();In.purchaseCurrencies=t.purchaseCurrencies,In.paymentCurrencies=t.paymentCurrencies,In.paymentCurrency=t.paymentCurrencies[0]||pD,In.purchaseCurrency=t.purchaseCurrencies[0]||kE,await Ve.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ve.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){In.quotesLoading=!0;try{const t=await $t.getOnrampQuote({purchaseCurrency:In.purchaseCurrency,paymentCurrency:In.paymentCurrency,amount:In.paymentAmount?.toString()||"0",network:In.purchaseCurrency?.symbol});return In.quotesLoading=!1,In.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return In.error=t.message,In.quotesLoading=!1,null}finally{In.quotesLoading=!1}},resetState(){In.selectedProvider=null,In.error=null,In.purchaseCurrency=kE,In.paymentCurrency=pD,In.purchaseCurrencies=[kE],In.paymentCurrencies=[],In.paymentAmount=void 0,In.purchaseAmount=void 0,In.quotesLoading=!1}},fD=Ba(j_t),Vl=jr({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),B_t={state:Vl,subscribe(t){return Vs(Vl,()=>t(Vl))},subscribeKey(t,e){return Xs(Vl,t,e)},showTooltip({message:t,triggerRect:e,variant:n}){Vl.open=!0,Vl.message=t,Vl.triggerRect=e,Vl.variant=n},hide(){Vl.open=!1,Vl.message="",Vl.triggerRect={width:0,height:0,top:0,left:0}}},Hb=Ba(B_t),yX=2147483648,z_t={convertEVMChainIdToCoinType(t){if(t>=yX)throw new Error("Invalid chainId");return(yX|t)>>>0}},Zc=jr({suggestions:[],loading:!1}),W_t={state:Zc,subscribe(t){return Vs(Zc,()=>t(Zc))},subscribeKey(t,e){return Xs(Zc,t,e)},async resolveName(t){try{return await $t.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await $t.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Zc.loading=!0,Zc.suggestions=[];const e=await $t.getEnsNameSuggestions(t);return Zc.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Zc.suggestions}catch(e){const n=$E.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Zc.loading=!1}},async getNamesForAddress(t){try{if(!G.state.activeCaipNetwork)return[];const n=gt.getEnsFromCacheForAddress(t);if(n)return n;const r=await $t.reverseLookupEnsName({address:t});return gt.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=$E.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=G.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=wt.state.address,r=Le.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Zc.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});He.pushTransactionStack({onCancel(){He.replace("RegisterAccountName")}});const s=await Je.signMessage(i);Zc.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=z_t.convertEVMChainIdToCoinType(Number(o));await $t.registerEnsName({coinType:a,address:n,signature:s,message:i}),wt.setProfileName(t,e.chainNamespace),He.replace("RegisterAccountNameSuccess")}catch(i){const s=$E.parseEnsApiError(i,`Error registering name ${t}`);throw He.replace("RegisterAccountName"),new Error(s)}finally{Zc.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},$E=Ba(W_t),Bw={getSIWX(){return Ie.state.siwx},async initializeIfEnabled(){const t=Ie.state.siwx,e=G.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(G.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await Gn.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),un.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await Je._getClient()?.disconnect().catch(console.error),He.reset("Connect"),vi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Ie.state.siwx,e=We.getPlainAddress(G.getActiveCaipAddress()),n=G.getActiveCaipNetwork(),r=Je._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();Le.getConnectorId(n.chainNamespace)===vt.CONNECTOR_ID.AUTH&&He.pushTransactionStack({});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),Gn.close(),un.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!Gn.state.open||He.state.view==="ApproveTransaction")&&await Gn.open({view:"SIWXSignMessage"}),s.isSmartAccount?vi.showError("This application might not support Smart Accounts"):vi.showError("Signature declined"),un.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{this.getSIWX()?.getRequired?.()?await Je.disconnect():Gn.close(),He.reset("Connect"),un.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getSessions(){const t=Ie.state.siwx,e=We.getPlainAddress(G.getActiveCaipAddress()),n=G.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=He.state.view==="ApproveTransaction",n=He.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const r=Bw.getSIWX(),i=new Set(e.map(a=>a.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:G.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(a=>a!==s.chainId)]});if(vi.showLoading("Authenticating...",{autoClose:!1}),wt.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),o?.auths?.length){const a=o.auths.map(c=>{const l=t.client.formatAuthMessage({request:c.p,iss:c.p.iss});return{data:{...c.p,accountAddress:c.p.iss.split(":").slice(-1).join(""),chainId:c.p.iss.split(":").slice(2,4).join(":"),uri:c.p.aud,version:c.p.version||s.version,expirationTime:c.p.exp,issuedAt:c.p.iat,notBefore:c.p.nbf},message:l,signature:c.s.s,cacao:c}});try{await r.setSessions(a),un.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Bw.getSIWXEventProperties()})}catch(c){throw console.error("SIWX:universalProviderAuth - failed to set sessions",c),un.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Bw.getSIWXEventProperties()}),await t.disconnect().catch(console.error),c}finally{vi.hide()}}return!0},getSIWXEventProperties(){const t=G.state.activeChain;return{network:G.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:wt.state.preferredAccountTypes?.[t]===AE.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Iwe={isUnsupportedChainView(){return He.state.view==="UnsupportedChain"||He.state.view==="SwitchNetwork"&&He.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){Gn.shake();return}if(await Bw.isSIWXCloseDisabled()){Gn.shake();return}Gn.close()}};var q_t=Object.defineProperty,F_t=(t,e,n)=>e in t?q_t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bX=(t,e,n)=>F_t(t,typeof e!="symbol"?e+"":e,n);let H_t=class extends Yi{constructor(e){super(),this.opts=e,bX(this,"protocol","wc"),bX(this,"version",2)}};var V_t=Object.defineProperty,K_t=(t,e,n)=>e in t?V_t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z_t=(t,e,n)=>K_t(t,e+"",n);let G_t=class extends Yi{constructor(e,n){super(),this.core=e,this.logger=n,Z_t(this,"records",new Map)}},Y_t=class{constructor(e,n){this.logger=e,this.core=n}},J_t=class extends Yi{constructor(e,n){super(),this.relayer=e,this.logger=n}},X_t=class extends Yi{constructor(e){super()}},Q_t=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},e4t=class extends Yi{constructor(e,n){super(),this.relayer=e,this.logger=n}},t4t=class extends Yi{constructor(e,n){super(),this.core=e,this.logger=n}},n4t=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},r4t=class{constructor(e,n){this.projectId=e,this.logger=n}},i4t=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var s4t=Object.defineProperty,o4t=(t,e,n)=>e in t?s4t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vX=(t,e,n)=>o4t(t,typeof e!="symbol"?e+"":e,n);let a4t=class{constructor(e){this.opts=e,vX(this,"protocol","wc"),vX(this,"version",2)}},c4t=class{constructor(e){this.client=e}};function g_(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function EX(t){return g_(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Swe="2.23.2";let MO={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Swe}`};class z0 extends Error{constructor(e,n={}){const r=n.cause instanceof z0?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof z0&&n.cause.docsPath||n.docsPath,s=MO.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...MO.version?[`Version: ${MO.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Swe}walk(e){return xwe(this,e)}}function xwe(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?xwe(t.cause,e):e?null:t}class Awe extends z0{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function x2(t,{dir:e,size:n=32}={}){return typeof t=="string"?l4t(t,{dir:e,size:n}):u4t(t,{dir:e,size:n})}function l4t(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Awe({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function u4t(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Awe({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class d4t extends z0{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class h4t extends z0{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function A2(t,{size:e}){if(EX(t)>e)throw new h4t({givenSize:EX(t),maxSize:e})}function gD(t,e={}){const{signed:n}=e;e.size&&A2(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function p4t(t,e={}){return Number(gD(t,e))}const f4t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mD(t,e={}){return typeof t=="number"||typeof t=="bigint"?$we(t,e):typeof t=="string"?w4t(t,e):typeof t=="boolean"?g4t(t,e):kwe(t,e)}function g4t(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(A2(n,{size:e.size}),x2(n,{size:e.size})):n}function kwe(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=f4t[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(A2(r,{size:e.size}),x2(r,{dir:"right",size:e.size})):r}function $we(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new d4t({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?x2(a,{size:r}):a}const m4t=new TextEncoder;function w4t(t,e={}){const n=m4t.encode(t);return kwe(n,e)}const y4t=new TextEncoder;function b4t(t,e={}){return typeof t=="number"||typeof t=="bigint"?E4t(t,e):typeof t=="boolean"?v4t(t,e):g_(t)?Twe(t,e):Nwe(t,e)}function v4t(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(A2(n,{size:e.size}),x2(n,{size:e.size})):n}const Sh={zero:48,nine:57,A:65,F:70,a:97,f:102};function CX(t){if(t>=Sh.zero&&t<=Sh.nine)return t-Sh.zero;if(t>=Sh.A&&t<=Sh.F)return t-(Sh.A-10);if(t>=Sh.a&&t<=Sh.f)return t-(Sh.a-10)}function Twe(t,e={}){let n=t;e.size&&(A2(n,{size:e.size}),n=x2(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=CX(r.charCodeAt(a++)),l=CX(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new z0(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function E4t(t,e){const n=$we(t,e);return Twe(n)}function Nwe(t,e={}){const n=y4t.encode(t);return typeof e.size=="number"?(A2(n,{size:e.size}),x2(n,{dir:"right",size:e.size})):n}function Owe(t,e){const n=e||"hex",r=Oge(g_(t,{strict:!1})?b4t(t):t);return n==="bytes"?r:mD(r)}class C4t extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const LO=new C4t(8192);function _4t(t,e){if(LO.has(`${t}.${e}`))return LO.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Owe(Nwe(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return LO.set(`${t}.${e}`,s),s}function I4t(t){const e=Owe(`0x${t.substring(4)}`).substring(26);return _4t(`0x${e}`)}async function S4t({hash:t,signature:e}){const n=g_(t)?t:mD(t),{secp256k1:r}=await fe(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Kge);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,p=Number(h??d),f=_X(p);return new r.Signature(gD(l),gD(u)).addRecoveryBit(f)}const o=g_(e)?e:mD(e),a=p4t(`0x${o.slice(130)}`),c=_X(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function _X(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function x4t({hash:t,signature:e}){return I4t(await S4t({hash:t,signature:e}))}var A4t={};const k4t=":";function k1(t){const[e,n]=t.split(k4t);return{namespace:e,reference:n}}function Pwe(t,e){return t.includes(":")?[t]:e.chains||[]}var $4t=Object.defineProperty,T4t=Object.defineProperties,N4t=Object.getOwnPropertyDescriptors,IX=Object.getOwnPropertySymbols,O4t=Object.prototype.hasOwnProperty,P4t=Object.prototype.propertyIsEnumerable,SX=(t,e,n)=>e in t?$4t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xX=(t,e)=>{for(var n in e||(e={}))O4t.call(e,n)&&SX(t,n,e[n]);if(IX)for(var n of IX(e))P4t.call(e,n)&&SX(t,n,e[n]);return t},R4t=(t,e)=>T4t(t,N4t(e));const D4t="ReactNative",hc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},U4t="js";function oA(){return typeof window.process<"u"&&typeof window.process.versions<"u"&&typeof window.process.versions.node<"u"}function fm(){return!_r.getDocument()&&!!_r.getNavigator()&&navigator.product===D4t}function M4t(){return fm()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function L4t(){return fm()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function k2(){return!oA()&&!!_r.getNavigator()&&!!_r.getDocument()}function Q4(){return fm()?hc.reactNative:oA()?hc.node:k2()?hc.browser:hc.unknown}function AX(){var t;try{return fm()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function j4t(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function B4t(t){var e,n;const r=Rwe();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),R4t(xX(xX({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Rwe(){return EU.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function z4t(){if(Q4()===hc.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=vU();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function W4t(){var t;const e=Q4();return e===hc.browser?[e,((t=_r.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Dwe(t,e,n){const r=z4t(),i=W4t();return[[t,e].join("-"),[U4t,n].join("-"),r,i].join("/")}function q4t({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=Dwe(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=j4t(l[1]||"",d);return l[0]+"?"+h}function Aw(t,e){return t.filter(n=>e.includes(n)).length===t.length}function wD(t){return Object.fromEntries(t.entries())}function yD(t){return new Map(Object.entries(t))}function Ym(t=Y.FIVE_MINUTES,e){const n=Y.toMiliseconds(t||Y.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function tg(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Uwe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function F4t(t){return Uwe("topic",t)}function H4t(t){return Uwe("id",t)}function Mwe(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ki(t,e){return Y.fromMiliseconds(Date.now()+Y.toMiliseconds(t))}function Bf(t){return Date.now()>=Y.toMiliseconds(t)}function Vn(t,e){return`${t}${e?`:${e}`:""}`}function vd(t=[],e=[]){return[...new Set([...t,...e])]}async function V4t({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const o=K4t(s,t,e),a=Q4();if(a===hc.browser){if(!((r=_r.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Z4t(o)}else a===hc.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function K4t(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${X4t(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Z4t(t){let e="_self";J4t()?e="_top":(Y4t()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function G4t(t,e){let n="";try{if(k2()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function kX(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function $X(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function KB(){return typeof window.process<"u"&&A4t.IS_VITEST==="true"}function Y4t(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function J4t(){try{return window.self!==window.top}catch{return!1}}function X4t(t,e=!1){const n=window.Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Lwe(t){return window.Buffer.from(t,"base64").toString("utf-8")}function Q4t(t){return new Promise(e=>setTimeout(e,t))}function m_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function e5t(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function e5(t,...e){if(!e5t(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ZB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");m_(t.outputLen),m_(t.blockLen)}function Rv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function jwe(t,e){e5(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const qI=BigInt(2**32-1),TX=BigInt(32);function t5t(t,e=!1){return e?{h:Number(t&qI),l:Number(t>>TX&qI)}:{h:Number(t>>TX&qI)|0,l:Number(t&qI)|0}}function n5t(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=t5t(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const r5t=(t,e,n)=>t<<n|e>>>32-n,i5t=(t,e,n)=>e<<n|t>>>32-n,s5t=(t,e,n)=>e<<n-32|t>>>64-n,o5t=(t,e,n)=>t<<n-32|e>>>64-n,_b=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function a5t(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function jO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Qu(t,e){return t<<32-e|t>>>e}const NX=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function c5t(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function OX(t){for(let e=0;e<t.length;e++)t[e]=c5t(t[e])}function l5t(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Dv(t){return typeof t=="string"&&(t=l5t(t)),e5(t),t}function u5t(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];e5(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let GB=class{clone(){return this._cloneInto()}};function Bwe(t){const e=r=>t().update(Dv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $2(t=32){if(_b&&typeof _b.getRandomValues=="function")return _b.getRandomValues(new Uint8Array(t));if(_b&&typeof _b.randomBytes=="function")return _b.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const zwe=[],Wwe=[],qwe=[],d5t=BigInt(0),L3=BigInt(1),h5t=BigInt(2),p5t=BigInt(7),f5t=BigInt(256),g5t=BigInt(113);for(let t=0,e=L3,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],zwe.push(2*(5*r+n)),Wwe.push((t+1)*(t+2)/2%64);let i=d5t;for(let s=0;s<7;s++)e=(e<<L3^(e>>p5t)*g5t)%f5t,e&h5t&&(i^=L3<<(L3<<BigInt(s))-L3);qwe.push(i)}const[m5t,w5t]=n5t(qwe,!0),PX=(t,e,n)=>n>32?s5t(t,e,n):r5t(t,e,n),RX=(t,e,n)=>n>32?o5t(t,e,n):i5t(t,e,n);function y5t(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=PX(l,u,1)^n[a],h=RX(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Wwe[o],c=PX(i,s,a),l=RX(i,s,a),u=zwe[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=m5t[r],t[1]^=w5t[r]}n.fill(0)}let b5t=class Fwe extends GB{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,m_(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=a5t(this.state)}keccak(){NX||OX(this.state32),y5t(this.state32,this.rounds),NX||OX(this.state32),this.posOut=0,this.pos=0}update(e){Rv(this);const{blockLen:n,state:r}=this;e=Dv(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Rv(this,!1),e5(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return m_(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(jwe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Fwe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const v5t=(t,e,n)=>Bwe(()=>new b5t(e,t,n)),E5t=v5t(1,136,256/8),C5t="https://rpc.walletconnect.org/v1";function Hwe(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+window.Buffer.from(E5t(n)).toString("hex")}async function _5t(t,e,n,r,i,s){switch(n.t){case"eip191":return await I5t(t,e,n.s);case"eip1271":return await S5t(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function I5t(t,e,n){return(await x4t({hash:Hwe(e),signature:n})).toLowerCase()===t.toLowerCase()}async function S5t(t,e,n,r,i,s){const o=k1(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),d=Hwe(e).substring(2),h=a+d+c+l+u,p=await fetch(`${s||C5t}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:x5t(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:f}=await p.json();return f?f.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function x5t(){return Date.now()+Math.floor(Math.random()*1e3)}function A5t(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=window.Buffer.from(t,"base64").slice(1,65);return Bp.encode(s)}var k5t=Object.defineProperty,$5t=Object.defineProperties,T5t=Object.getOwnPropertyDescriptors,DX=Object.getOwnPropertySymbols,N5t=Object.prototype.hasOwnProperty,O5t=Object.prototype.propertyIsEnumerable,UX=(t,e,n)=>e in t?k5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P5t=(t,e)=>{for(var n in e||(e={}))N5t.call(e,n)&&UX(t,n,e[n]);if(DX)for(var n of DX(e))O5t.call(e,n)&&UX(t,n,e[n]);return t},R5t=(t,e)=>$5t(t,T5t(e));const D5t="did:pkh:",YB=t=>t?.split(":"),U5t=t=>{const e=t&&YB(t);if(e)return t.includes(D5t)?e[3]:e[1]},bD=t=>{const e=t&&YB(t);if(e)return e[2]+":"+e[3]},aA=t=>{const e=t&&YB(t);if(e)return e.pop()};async function MX(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=Vwe(i,i.iss),o=aA(i.iss);return await _5t(o,s,r,bD(i.iss),n)}const Vwe=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=aA(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${U5t(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,f=CS(t.resources);if(f){const g=w_(f);i=H5t(i,g)}return[n,r,"",i,"",s,o,a,c,l,u,d,h,p].filter(g=>g!=null).join(`
`)};function M5t(t){return window.Buffer.from(JSON.stringify(t)).toString("base64")}function L5t(t){return JSON.parse(window.Buffer.from(t,"base64").toString("utf-8"))}function W0(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function j5t(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:B5t(e,n,r)}}}function B5t(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function Kwe(t){return W0(t),`urn:recap:${M5t(t).replace(/=/g,"")}`}function w_(t){const e=L5t(t.replace("urn:recap:",""));return W0(e),e}function z5t(t,e,n){const r=j5t(t,e,n);return Kwe(r)}function W5t(t){return t&&t.includes("urn:recap:")}function q5t(t,e){const n=w_(t),r=w_(e),i=F5t(n,r);return Kwe(i)}function F5t(t,e){W0(t),W0(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=R5t(P5t({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function H5t(t="",e){W0(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function LX(t){var e;const n=w_(t);W0(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function jX(t){const e=w_(t);W0(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function CS(t){if(!t)return;const e=t?.[t.length-1];return W5t(e)?e:void 0}function BO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Zwe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sc(t,...e){if(!Zwe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function BX(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function V5t(t,e){sc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function zX(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const ug=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),K5t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Z5t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Z5t)throw new Error("Non little-endian hardware is not supported");function G5t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function vD(t){if(typeof t=="string")t=G5t(t);else if(Zwe(t))t=ED(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Y5t(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function J5t(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const X5t=(t,e)=>{function n(r,...i){if(sc(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?sc(l):sc(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&sc(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");sc(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,sc(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(sc(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function WX(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Q5t(e))throw new Error("invalid output, must be aligned");return e}function qX(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Q5t(t){return t.byteOffset%4===0}function ED(t){return Uint8Array.from(t)}function Uv(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const Gwe=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),eIt=Gwe("expand 16-byte k"),tIt=Gwe("expand 32-byte k"),nIt=ug(eIt),rIt=ug(tIt);function Nn(t,e){return t<<e|t>>>32-e}function CD(t){return t.byteOffset%4===0}const FI=64,iIt=16,Ywe=2**32-1,FX=new Uint32Array;function sIt(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(FI),u=ug(l),d=CD(i)&&CD(s),h=d?ug(i):FX,p=d?ug(s):FX;for(let f=0;f<c;o++){if(t(e,n,r,u,o,a),o>=Ywe)throw new Error("arx: counter overflow");const g=Math.min(FI,c-f);if(d&&g===FI){const m=f/4;if(f%4!==0)throw new Error("arx: invalid block position");for(let b=0,y;b<iIt;b++)y=m+b,p[y]=h[y]^u[b];f+=FI;continue}for(let m=0,b;m<g;m++)b=f+m,s[b]=i[b]^l[m];f+=g}}function oIt(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=Y5t({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return BO(i),BO(o),zX(s),zX(n),(a,c,l,u,d=0)=>{sc(a),sc(c),sc(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),sc(u),BO(d),d<0||d>=Ywe)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const p=[];let f=a.length,g,m;if(f===32)p.push(g=ED(a)),m=rIt;else if(f===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),m=nIt,p.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${f}`);CD(c)||p.push(c=ED(c));const b=ug(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,b,ug(c.subarray(0,16)),b),c=c.subarray(16)}const y=16-i;if(y!==c.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(y!==12){const w=new Uint8Array(12);w.set(c,s?0:12-c.length),c=w,p.push(c)}const v=ug(c);return sIt(t,m,b,v,l,u,d,o),Uv(...p),u}}const Us=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class aIt{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=vD(e),sc(e,32);const n=Us(e,0),r=Us(e,2),i=Us(e,4),s=Us(e,6),o=Us(e,8),a=Us(e,10),c=Us(e,12),l=Us(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Us(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],p=o[6],f=o[7],g=o[8],m=o[9],b=Us(e,n+0),y=Us(e,n+2),v=Us(e,n+4),w=Us(e,n+6),C=Us(e,n+8),I=Us(e,n+10),k=Us(e,n+12),P=Us(e,n+14);let S=s[0]+(b&8191),N=s[1]+((b>>>13|y<<3)&8191),R=s[2]+((y>>>10|v<<6)&8191),D=s[3]+((v>>>7|w<<9)&8191),O=s[4]+((w>>>4|C<<12)&8191),T=s[5]+(C>>>1&8191),E=s[6]+((C>>>14|I<<2)&8191),_=s[7]+((I>>>11|k<<5)&8191),x=s[8]+((k>>>8|P<<8)&8191),M=s[9]+(P>>>5|i),A=0,U=A+S*a+N*(5*m)+R*(5*g)+D*(5*f)+O*(5*p);A=U>>>13,U&=8191,U+=T*(5*h)+E*(5*d)+_*(5*u)+x*(5*l)+M*(5*c),A+=U>>>13,U&=8191;let B=A+S*c+N*a+R*(5*m)+D*(5*g)+O*(5*f);A=B>>>13,B&=8191,B+=T*(5*p)+E*(5*h)+_*(5*d)+x*(5*u)+M*(5*l),A+=B>>>13,B&=8191;let z=A+S*l+N*c+R*a+D*(5*m)+O*(5*g);A=z>>>13,z&=8191,z+=T*(5*f)+E*(5*p)+_*(5*h)+x*(5*d)+M*(5*u),A+=z>>>13,z&=8191;let H=A+S*u+N*l+R*c+D*a+O*(5*m);A=H>>>13,H&=8191,H+=T*(5*g)+E*(5*f)+_*(5*p)+x*(5*h)+M*(5*d),A+=H>>>13,H&=8191;let q=A+S*d+N*u+R*l+D*c+O*a;A=q>>>13,q&=8191,q+=T*(5*m)+E*(5*g)+_*(5*f)+x*(5*p)+M*(5*h),A+=q>>>13,q&=8191;let F=A+S*h+N*d+R*u+D*l+O*c;A=F>>>13,F&=8191,F+=T*a+E*(5*m)+_*(5*g)+x*(5*f)+M*(5*p),A+=F>>>13,F&=8191;let K=A+S*p+N*h+R*d+D*u+O*l;A=K>>>13,K&=8191,K+=T*c+E*a+_*(5*m)+x*(5*g)+M*(5*f),A+=K>>>13,K&=8191;let ee=A+S*f+N*p+R*h+D*d+O*u;A=ee>>>13,ee&=8191,ee+=T*l+E*c+_*a+x*(5*m)+M*(5*g),A+=ee>>>13,ee&=8191;let se=A+S*g+N*f+R*p+D*h+O*d;A=se>>>13,se&=8191,se+=T*u+E*l+_*c+x*a+M*(5*m),A+=se>>>13,se&=8191;let te=A+S*m+N*g+R*f+D*p+O*h;A=te>>>13,te&=8191,te+=T*d+E*u+_*l+x*c+M*a,A+=te>>>13,te&=8191,A=(A<<2)+A|0,A=A+U|0,U=A&8191,A=A>>>13,B+=A,s[0]=U,s[1]=B,s[2]=z,s[3]=H,s[4]=q,s[5]=F,s[6]=K,s[7]=ee,s[8]=se,s[9]=te}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Uv(r)}update(e){BX(this);const{buffer:n,blockLen:r}=this;e=vD(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Uv(this.h,this.r,this.buffer,this.pad)}digestInto(e){BX(this),V5t(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function cIt(t){const e=(r,i)=>t(i).update(vD(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const lIt=cIt(t=>new aIt(t));function uIt(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],p=e[3],f=e[4],g=e[5],m=e[6],b=e[7],y=i,v=n[0],w=n[1],C=n[2],I=o,k=a,P=c,S=l,N=u,R=d,D=h,O=p,T=f,E=g,_=m,x=b,M=y,A=v,U=w,B=C;for(let H=0;H<s;H+=2)I=I+N|0,M=Nn(M^I,16),T=T+M|0,N=Nn(N^T,12),I=I+N|0,M=Nn(M^I,8),T=T+M|0,N=Nn(N^T,7),k=k+R|0,A=Nn(A^k,16),E=E+A|0,R=Nn(R^E,12),k=k+R|0,A=Nn(A^k,8),E=E+A|0,R=Nn(R^E,7),P=P+D|0,U=Nn(U^P,16),_=_+U|0,D=Nn(D^_,12),P=P+D|0,U=Nn(U^P,8),_=_+U|0,D=Nn(D^_,7),S=S+O|0,B=Nn(B^S,16),x=x+B|0,O=Nn(O^x,12),S=S+O|0,B=Nn(B^S,8),x=x+B|0,O=Nn(O^x,7),I=I+R|0,B=Nn(B^I,16),_=_+B|0,R=Nn(R^_,12),I=I+R|0,B=Nn(B^I,8),_=_+B|0,R=Nn(R^_,7),k=k+D|0,M=Nn(M^k,16),x=x+M|0,D=Nn(D^x,12),k=k+D|0,M=Nn(M^k,8),x=x+M|0,D=Nn(D^x,7),P=P+O|0,A=Nn(A^P,16),T=T+A|0,O=Nn(O^T,12),P=P+O|0,A=Nn(A^P,8),T=T+A|0,O=Nn(O^T,7),S=S+N|0,U=Nn(U^S,16),E=E+U|0,N=Nn(N^E,12),S=S+N|0,U=Nn(U^S,8),E=E+U|0,N=Nn(N^E,7);let z=0;r[z++]=o+I|0,r[z++]=a+k|0,r[z++]=c+P|0,r[z++]=l+S|0,r[z++]=u+N|0,r[z++]=d+R|0,r[z++]=h+D|0,r[z++]=p+O|0,r[z++]=f+T|0,r[z++]=g+E|0,r[z++]=m+_|0,r[z++]=b+x|0,r[z++]=y+M|0,r[z++]=v+A|0,r[z++]=w+U|0,r[z++]=C+B|0}const dIt=oIt(uIt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),hIt=new Uint8Array(16),HX=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(hIt.subarray(n))},pIt=new Uint8Array(32);function VX(t,e,n,r,i){const s=t(e,n,pIt),o=lIt.create(s);i&&HX(o,i),HX(o,r);const a=new Uint8Array(16),c=K5t(a);qX(c,0,BigInt(i?i.length:0),!0),qX(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return Uv(s,a),l}const fIt=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=WX(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=VX(t,e,n,a,r);return s.set(c,o),Uv(c),s},decrypt(i,s){s=WX(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=VX(t,e,n,o,r);if(!J5t(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Uv(c),s}}),Jwe=X5t({blockSize:64,nonceLength:12,tagLength:16},fIt(dIt));let Xwe=class extends GB{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ZB(e);const r=Dv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Rv(this),this.iHash.update(e),this}digestInto(e){Rv(this),e5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const U8=(t,e,n)=>new Xwe(t,e).update(n).digest();U8.create=(t,e)=>new Xwe(t,e);function gIt(t,e,n){return ZB(t),n===void 0&&(n=new Uint8Array(t.outputLen)),U8(t,Dv(n),Dv(e))}const zO=new Uint8Array([0]),KX=new Uint8Array;function mIt(t,e,n,r=32){if(ZB(t),m_(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=KX);const s=new Uint8Array(i*t.outputLen),o=U8.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)zO[0]=l+1,a.update(l===0?KX:c).update(n).update(zO).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),zO.fill(0),s.slice(0,r)}const wIt=(t,e,n,r,i)=>mIt(t,gIt(t,e,n),r,i);function yIt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function bIt(t,e,n){return t&e^~t&n}function vIt(t,e,n){return t&e^t&n^e&n}let EIt=class extends GB{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jO(this.buffer)}update(e){Rv(this);const{view:n,buffer:r,blockLen:i}=this;e=Dv(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=jO(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rv(this),jwe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;yIt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=jO(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const CIt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Af=new Uint32Array(64);class _It extends EIt{constructor(){super(64,32,8,!1),this.A=xf[0]|0,this.B=xf[1]|0,this.C=xf[2]|0,this.D=xf[3]|0,this.E=xf[4]|0,this.F=xf[5]|0,this.G=xf[6]|0,this.H=xf[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Af[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Af[d-15],p=Af[d-2],f=Qu(h,7)^Qu(h,18)^h>>>3,g=Qu(p,17)^Qu(p,19)^p>>>10;Af[d]=g+Af[d-7]+f+Af[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Qu(a,6)^Qu(a,11)^Qu(a,25),p=u+h+bIt(a,c,l)+CIt[d]+Af[d]|0,f=(Qu(r,2)^Qu(r,13)^Qu(r,22))+vIt(r,i,s)|0;u=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+f|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Af.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const t5=Bwe(()=>new _It);const M8=BigInt(0),L8=BigInt(1),IIt=BigInt(2);function q0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function n5(t){if(!q0(t))throw new Error("Uint8Array expected")}function Mv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const SIt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Lv(t){n5(t);let e="";for(let n=0;n<t.length;n++)e+=SIt[t[n]];return e}function l1(t){const e=t.toString(16);return e.length&1?"0"+e:e}function JB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?M8:BigInt("0x"+t)}const xh={_0:48,_9:57,A:65,F:70,a:97,f:102};function ZX(t){if(t>=xh._0&&t<=xh._9)return t-xh._0;if(t>=xh.A&&t<=xh.F)return t-(xh.A-10);if(t>=xh.a&&t<=xh.f)return t-(xh.a-10)}function jv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=ZX(t.charCodeAt(s)),a=ZX(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function zw(t){return JB(Lv(t))}function y_(t){return n5(t),JB(Lv(Uint8Array.from(t).reverse()))}function Bv(t,e){return jv(t.toString(16).padStart(e*2,"0"))}function j8(t,e){return Bv(t,e).reverse()}function xIt(t){return jv(l1(t))}function rc(t,e,n){let r;if(typeof e=="string")try{r=jv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(q0(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function b_(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];n5(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function AIt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function kIt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const WO=t=>typeof t=="bigint"&&M8<=t;function B8(t,e,n){return WO(t)&&WO(e)&&WO(n)&&e<=t&&t<n}function dp(t,e,n,r){if(!B8(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Qwe(t){let e;for(e=0;t>M8;t>>=L8,e+=1);return e}function $It(t,e){return t>>BigInt(e)&L8}function TIt(t,e,n){return t|(n?L8:M8)<<BigInt(e)}const XB=t=>(IIt<<BigInt(t-1))-L8,qO=t=>new Uint8Array(t),GX=t=>Uint8Array.from(t);function e0e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=qO(t),i=qO(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=qO())=>{i=a(GX([0]),u),r=a(),u.length!==0&&(i=a(GX([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return b_(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const NIt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||q0(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function T2(t,e,n={}){const r=(i,s,o)=>{const a=NIt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const OIt=()=>{throw new Error("not implemented")};function _D(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var PIt=Object.freeze({__proto__:null,isBytes:q0,abytes:n5,abool:Mv,bytesToHex:Lv,numberToHexUnpadded:l1,hexToNumber:JB,hexToBytes:jv,bytesToNumberBE:zw,bytesToNumberLE:y_,numberToBytesBE:Bv,numberToBytesLE:j8,numberToVarBytesBE:xIt,ensureBytes:rc,concatBytes:b_,equalBytes:AIt,utf8ToBytes:kIt,inRange:B8,aInRange:dp,bitLen:Qwe,bitGet:$It,bitSet:TIt,bitMask:XB,createHmacDrbg:e0e,validateObject:T2,notImplemented:OIt,memoized:_D});const Is=BigInt(0),bi=BigInt(1),cw=BigInt(2),RIt=BigInt(3),ID=BigInt(4),YX=BigInt(5),JX=BigInt(8);function ba(t,e){const n=t%e;return n>=Is?n:e+n}function t0e(t,e,n){if(e<Is)throw new Error("invalid exponent, negatives unsupported");if(n<=Is)throw new Error("invalid modulus");if(n===bi)return Is;let r=bi;for(;e>Is;)e&bi&&(r=r*t%n),t=t*t%n,e>>=bi;return r}function Xl(t,e,n){let r=t;for(;e-- >Is;)r*=r,r%=n;return r}function SD(t,e){if(t===Is)throw new Error("invert: expected non-zero number");if(e<=Is)throw new Error("invert: expected positive modulus, got "+e);let n=ba(t,e),r=e,i=Is,s=bi;for(;n!==Is;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==bi)throw new Error("invert: does not exist");return ba(i,e)}function DIt(t){const e=(t-bi)/cw;let n,r,i;for(n=t-bi,r=0;n%cw===Is;n/=cw,r++);for(i=cw;i<t&&t0e(i,e,t)!==t-bi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+bi)/ID;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+bi)/cw;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let f=o.sqr(d);h<c&&!o.eql(f,o.ONE);h++)f=o.sqr(f);const p=o.pow(l,bi<<BigInt(c-h-1));l=o.sqr(p),u=o.mul(u,p),d=o.mul(d,l),c=h}return u}}function UIt(t){if(t%ID===RIt){const e=(t+bi)/ID;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%JX===YX){const e=(t-YX)/JX;return function(n,r){const i=n.mul(r,cw),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,cw),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return DIt(t)}const MIt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LIt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=MIt.reduce((r,i)=>(r[i]="function",r),e);return T2(t,n)}function jIt(t,e,n){if(n<Is)throw new Error("invalid exponent, negatives unsupported");if(n===Is)return t.ONE;if(n===bi)return e;let r=t.ONE,i=e;for(;n>Is;)n&bi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=bi;return r}function BIt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function n0e(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function r0e(t,e,n=!1,r={}){if(t<=Is)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=n0e(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:XB(i),ZERO:Is,ONE:bi,create:c=>ba(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Is<=c&&c<t},is0:c=>c===Is,isOdd:c=>(c&bi)===bi,neg:c=>ba(-c,t),eql:(c,l)=>c===l,sqr:c=>ba(c*c,t),add:(c,l)=>ba(c+l,t),sub:(c,l)=>ba(c-l,t),mul:(c,l)=>ba(c*l,t),pow:(c,l)=>jIt(a,c,l),div:(c,l)=>ba(c*SD(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>SD(c,t),sqrt:r.sqrt||(c=>(o||(o=UIt(t)),o(a,c))),invertBatch:c=>BIt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?j8(c,s):Bv(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?y_(c):zw(c)}});return Object.freeze(a)}function i0e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function s0e(t){const e=i0e(t);return e+Math.ceil(e/2)}function zIt(t,e,n=!1){const r=t.length,i=i0e(e),s=s0e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?y_(t):zw(t),a=ba(o,e-bi)+bi;return n?j8(a,i):Bv(a,i)}const XX=BigInt(0),HI=BigInt(1);function FO(t,e){const n=e.negate();return t?n:e}function o0e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function HO(t,e){o0e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function WIt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function qIt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const VO=new WeakMap,a0e=new WeakMap;function KO(t){return a0e.get(t)||1}function FIt(t,e){return{constTimeNegate:FO,hasPrecomputes(n){return KO(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>XX;)r&HI&&(i=i.add(s)),s=s.double(),r>>=HI;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=HO(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=HO(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const p=h*o;let f=Number(i&l);i>>=d,f>o&&(f-=u,i+=HI);const g=p,m=p+Math.abs(f)-1,b=h%2!==0,y=f<0;f===0?c=c.add(FO(b,r[g])):a=a.add(FO(y,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=HO(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===XX)break;let p=Number(i&c);if(i>>=u,p>a&&(p-=l,i+=HI),p===0)continue;let f=r[h+Math.abs(p)-1];p<0&&(f=f.negate()),s=s.add(f)}return s},getPrecomputes(n,r,i){let s=VO.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&VO.set(r,i(s))),s},wNAFCached(n,r,i){const s=KO(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=KO(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){o0e(r,e),a0e.set(n,r),VO.delete(n)}}}function HIt(t,e,n,r){if(WIt(n,t),qIt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Qwe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let p=0;p<r.length;p++){const f=r[p],g=Number(f>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[p])}let h=i;for(let p=c.length-1,f=i;p>0;p--)f=f.add(c[p]),h=h.add(f);if(u=u.add(h),d!==0)for(let p=0;p<o;p++)u=u.double()}return u}function c0e(t){return LIt(t.Fp),T2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...n0e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ib=BigInt(0),ZO=BigInt(1);function VIt(t){return T2(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function KIt(t){const e=VIt(t),{P:n}=e,r=y=>ba(y,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(y=>y),c=e.powPminus2||(y=>t0e(y,n-BigInt(2),n));function l(y,v,w){const C=r(y*(v-w));return v=r(v-C),w=r(w+C),[v,w]}const u=(e.a-BigInt(2))/BigInt(4);function d(y,v){dp("u",y,Ib,n),dp("scalar",v,Ib,n);const w=v,C=y;let I=ZO,k=Ib,P=y,S=ZO,N=Ib,R;for(let O=BigInt(i-1);O>=Ib;O--){const T=w>>O&ZO;N^=T,R=l(N,I,P),I=R[0],P=R[1],R=l(N,k,S),k=R[0],S=R[1],N=T;const E=I+k,_=r(E*E),x=I-k,M=r(x*x),A=_-M,U=P+S,B=P-S,z=r(B*E),H=r(U*x),q=z+H,F=z-H;P=r(q*q),S=r(C*r(F*F)),I=r(_*M),k=r(A*(_+r(u*A)))}R=l(N,I,P),I=R[0],P=R[1],R=l(N,k,S),k=R[0],S=R[1];const D=c(k);return r(I*D)}function h(y){return j8(r(y),s)}function p(y){const v=rc("u coordinate",y,s);return o===32&&(v[31]&=127),y_(v)}function f(y){const v=rc("scalar",y),w=v.length;if(w!==s&&w!==o){let C=""+s+" or "+o;throw new Error("invalid scalar, expected "+C+" bytes, got "+w)}return y_(a(v))}function g(y,v){const w=p(v),C=f(y),I=d(w,C);if(I===Ib)throw new Error("invalid private or public key received");return h(I)}const m=h(e.Gu);function b(y){return g(y,m)}return{scalarMult:g,scalarMultBase:b,getSharedSecret:(y,v)=>g(y,v),getPublicKey:y=>b(y),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}}const xD=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const ZIt=BigInt(1),QX=BigInt(2),GIt=BigInt(3),YIt=BigInt(5);BigInt(8);function JIt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=xD,o=t*t%s*t%s,a=Xl(o,QX,s)*o%s,c=Xl(a,ZIt,s)*t%s,l=Xl(c,YIt,s)*c%s,u=Xl(l,e,s)*l%s,d=Xl(u,n,s)*u%s,h=Xl(d,r,s)*d%s,p=Xl(h,i,s)*h%s,f=Xl(p,i,s)*h%s,g=Xl(f,e,s)*l%s;return{pow_p_5_8:Xl(g,QX,s)*t%s,b2:o}}function XIt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const AD=KIt({P:xD,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=xD,{pow_p_5_8:n,b2:r}=JIt(t);return ba(Xl(n,GIt,e)*r,e)},adjustScalarBytes:XIt,randomBytes:$2});function eQ(t){t.lowS!==void 0&&Mv("lowS",t.lowS),t.prehash!==void 0&&Mv("prehash",t.prehash)}function QIt(t){const e=c0e(t);T2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:eSt,hexToBytes:tSt}=PIt;class nSt extends Error{constructor(e=""){super(e)}}const Vh={Err:nSt,_tlv:{encode:(t,e)=>{const{Err:n}=Vh;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=l1(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?l1(i.length/2|128):"";return l1(t)+s+i+e},decode(t,e){const{Err:n}=Vh;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Vh;if(t<Xh)throw new e("integer: negative integers are not allowed");let n=l1(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Vh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return eSt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Vh,i=typeof t=="string"?tSt(t):t;n5(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Vh,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Xh=BigInt(0),ps=BigInt(1);BigInt(2);const tQ=BigInt(3);BigInt(4);function rSt(t){const e=QIt(t),{Fp:n}=e,r=r0e(e.n,e.nBitLength),i=e.toBytes||((g,m,b)=>{const y=m.toAffine();return b_(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=e.fromBytes||(g=>{const m=g.subarray(1),b=n.fromBytes(m.subarray(0,n.BYTES)),y=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:b,y}});function o(g){const{a:m,b}=e,y=n.sqr(g),v=n.mul(y,g);return n.add(n.add(v,n.mul(g,m)),b)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return B8(g,ps,e.n)}function c(g){const{allowedPrivateKeyLengths:m,nByteLength:b,wrapPrivateKey:y,n:v}=e;if(m&&typeof g!="bigint"){if(q0(g)&&(g=Lv(g)),typeof g!="string"||!m.includes(g.length))throw new Error("invalid private key");g=g.padStart(b*2,"0")}let w;try{w=typeof g=="bigint"?g:zw(rc("private key",g,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof g)}return y&&(w=ba(w,v)),dp("private key",w,ps,v),w}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const u=_D((g,m)=>{const{px:b,py:y,pz:v}=g;if(n.eql(v,n.ONE))return{x:b,y};const w=g.is0();m==null&&(m=w?n.ONE:n.inv(v));const C=n.mul(b,m),I=n.mul(y,m),k=n.mul(v,m);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:C,y:I}}),d=_D(g=>{if(g.is0()){if(e.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:m,y:b}=g.toAffine();if(!n.isValid(m)||!n.isValid(b))throw new Error("bad point: x or y not FE");const y=n.sqr(b),v=o(m);if(!n.eql(y,v))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,b,y){if(this.px=m,this.py=b,this.pz=y,m==null||!n.isValid(m))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x:b,y}=m||{};if(!m||!n.isValid(b)||!n.isValid(y))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const v=w=>n.eql(w,n.ZERO);return v(b)&&v(y)?h.ZERO:new h(b,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const b=n.invertBatch(m.map(y=>y.pz));return m.map((y,v)=>y.toAffine(b[v])).map(h.fromAffine)}static fromHex(m){const b=h.fromAffine(s(rc("pointHex",m)));return b.assertValidity(),b}static fromPrivateKey(m){return h.BASE.multiply(c(m))}static msm(m,b){return HIt(h,r,m,b)}_setWindowSize(m){f.setWindowSize(this,m)}assertValidity(){d(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:b,py:y,pz:v}=this,{px:w,py:C,pz:I}=m,k=n.eql(n.mul(b,I),n.mul(w,v)),P=n.eql(n.mul(y,I),n.mul(C,v));return k&&P}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b}=e,y=n.mul(b,tQ),{px:v,py:w,pz:C}=this;let I=n.ZERO,k=n.ZERO,P=n.ZERO,S=n.mul(v,v),N=n.mul(w,w),R=n.mul(C,C),D=n.mul(v,w);return D=n.add(D,D),P=n.mul(v,C),P=n.add(P,P),I=n.mul(m,P),k=n.mul(y,R),k=n.add(I,k),I=n.sub(N,k),k=n.add(N,k),k=n.mul(I,k),I=n.mul(D,I),P=n.mul(y,P),R=n.mul(m,R),D=n.sub(S,R),D=n.mul(m,D),D=n.add(D,P),P=n.add(S,S),S=n.add(P,S),S=n.add(S,R),S=n.mul(S,D),k=n.add(k,S),R=n.mul(w,C),R=n.add(R,R),S=n.mul(R,D),I=n.sub(I,S),P=n.mul(R,N),P=n.add(P,P),P=n.add(P,P),new h(I,k,P)}add(m){l(m);const{px:b,py:y,pz:v}=this,{px:w,py:C,pz:I}=m;let k=n.ZERO,P=n.ZERO,S=n.ZERO;const N=e.a,R=n.mul(e.b,tQ);let D=n.mul(b,w),O=n.mul(y,C),T=n.mul(v,I),E=n.add(b,y),_=n.add(w,C);E=n.mul(E,_),_=n.add(D,O),E=n.sub(E,_),_=n.add(b,v);let x=n.add(w,I);return _=n.mul(_,x),x=n.add(D,T),_=n.sub(_,x),x=n.add(y,v),k=n.add(C,I),x=n.mul(x,k),k=n.add(O,T),x=n.sub(x,k),S=n.mul(N,_),k=n.mul(R,T),S=n.add(k,S),k=n.sub(O,S),S=n.add(O,S),P=n.mul(k,S),O=n.add(D,D),O=n.add(O,D),T=n.mul(N,T),_=n.mul(R,_),O=n.add(O,T),T=n.sub(D,T),T=n.mul(N,T),_=n.add(_,T),D=n.mul(O,_),P=n.add(P,D),D=n.mul(x,_),k=n.mul(E,k),k=n.sub(k,D),D=n.mul(E,O),S=n.mul(x,S),S=n.add(S,D),new h(k,P,S)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return f.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:b,n:y}=e;dp("scalar",m,Xh,y);const v=h.ZERO;if(m===Xh)return v;if(this.is0()||m===ps)return this;if(!b||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:w,k1:C,k2neg:I,k2:k}=b.splitScalar(m),P=v,S=v,N=this;for(;C>Xh||k>Xh;)C&ps&&(P=P.add(N)),k&ps&&(S=S.add(N)),N=N.double(),C>>=ps,k>>=ps;return w&&(P=P.negate()),I&&(S=S.negate()),S=new h(n.mul(S.px,b.beta),S.py,S.pz),P.add(S)}multiply(m){const{endo:b,n:y}=e;dp("scalar",m,ps,y);let v,w;if(b){const{k1neg:C,k1:I,k2neg:k,k2:P}=b.splitScalar(m);let{p:S,f:N}=this.wNAF(I),{p:R,f:D}=this.wNAF(P);S=f.constTimeNegate(C,S),R=f.constTimeNegate(k,R),R=new h(n.mul(R.px,b.beta),R.py,R.pz),v=S.add(R),w=N.add(D)}else{const{p:C,f:I}=this.wNAF(m);v=C,w=I}return h.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(m,b,y){const v=h.BASE,w=(I,k)=>k===Xh||k===ps||!I.equals(v)?I.multiplyUnsafe(k):I.multiply(k),C=w(this,b).add(w(m,y));return C.is0()?void 0:C}toAffine(m){return u(this,m)}isTorsionFree(){const{h:m,isTorsionFree:b}=e;if(m===ps)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:b}=e;return m===ps?this:b?b(h,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return Mv("isCompressed",m),this.assertValidity(),i(h,this,m)}toHex(m=!0){return Mv("isCompressed",m),Lv(this.toRawBytes(m))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,f=FIt(h,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function iSt(t){const e=c0e(t);return T2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function sSt(t){const e=iSt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(T){return ba(T,r)}function a(T){return SD(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=rSt({...e,toBytes(T,E,_){const x=E.toAffine(),M=n.toBytes(x.x),A=b_;return Mv("isCompressed",_),_?A(Uint8Array.from([E.hasEvenY()?2:3]),M):A(Uint8Array.from([4]),M,n.toBytes(x.y))},fromBytes(T){const E=T.length,_=T[0],x=T.subarray(1);if(E===i&&(_===2||_===3)){const M=zw(x);if(!B8(M,ps,n.ORDER))throw new Error("Point is not on curve");const A=u(M);let U;try{U=n.sqrt(A)}catch(z){const H=z instanceof Error?": "+z.message:"";throw new Error("Point is not on curve"+H)}const B=(U&ps)===ps;return(_&1)===1!==B&&(U=n.neg(U)),{x:M,y:U}}else if(E===s&&_===4){const M=n.fromBytes(x.subarray(0,n.BYTES)),A=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:M,y:A}}else{const M=i,A=s;throw new Error("invalid Point, expected length of "+M+", or uncompressed "+A+", got "+E)}}}),h=T=>Lv(Bv(T,e.nByteLength));function p(T){const E=r>>ps;return T>E}function f(T){return p(T)?o(-T):T}const g=(T,E,_)=>zw(T.slice(E,_));class m{constructor(E,_,x){this.r=E,this.s=_,this.recovery=x,this.assertValidity()}static fromCompact(E){const _=e.nByteLength;return E=rc("compactSignature",E,_*2),new m(g(E,0,_),g(E,_,2*_))}static fromDER(E){const{r:_,s:x}=Vh.toSig(rc("DER",E));return new m(_,x)}assertValidity(){dp("r",this.r,ps,r),dp("s",this.s,ps,r)}addRecoveryBit(E){return new m(this.r,this.s,E)}recoverPublicKey(E){const{r:_,s:x,recovery:M}=this,A=I(rc("msgHash",E));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const U=M===2||M===3?_+e.n:_;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=(M&1)===0?"02":"03",z=c.fromHex(B+h(U)),H=a(U),q=o(-A*H),F=o(x*H),K=c.BASE.multiplyAndAddUnsafe(z,q,F);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return jv(this.toDERHex())}toDERHex(){return Vh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jv(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(T){try{return l(T),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const T=s0e(e.n);return zIt(e.randomBytes(T),e.n)},precompute(T=8,E=c.BASE){return E._setWindowSize(T),E.multiply(BigInt(3)),E}};function y(T,E=!0){return c.fromPrivateKey(T).toRawBytes(E)}function v(T){const E=q0(T),_=typeof T=="string",x=(E||_)&&T.length;return E?x===i||x===s:_?x===2*i||x===2*s:T instanceof c}function w(T,E,_=!0){if(v(T))throw new Error("first arg must be private key");if(!v(E))throw new Error("second arg must be public key");return c.fromHex(E).multiply(l(T)).toRawBytes(_)}const C=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const E=zw(T),_=T.length*8-e.nBitLength;return _>0?E>>BigInt(_):E},I=e.bits2int_modN||function(T){return o(C(T))},k=XB(e.nBitLength);function P(T){return dp("num < 2^"+e.nBitLength,T,Xh,k),Bv(T,e.nByteLength)}function S(T,E,_=N){if(["recovered","canonical"].some(se=>se in _))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:M}=e;let{lowS:A,prehash:U,extraEntropy:B}=_;A==null&&(A=!0),T=rc("msgHash",T),eQ(_),U&&(T=rc("prehashed msgHash",x(T)));const z=I(T),H=l(E),q=[P(H),P(z)];if(B!=null&&B!==!1){const se=B===!0?M(n.BYTES):B;q.push(rc("extraEntropy",se))}const F=b_(...q),K=z;function ee(se){const te=C(se);if(!d(te))return;const ue=a(te),ge=c.BASE.multiply(te).toAffine(),$e=o(ge.x);if($e===Xh)return;const he=o(ue*o(K+$e*H));if(he===Xh)return;let me=(ge.x===$e?0:2)|Number(ge.y&ps),Me=he;return A&&p(he)&&(Me=f(he),me^=1),new m($e,Me,me)}return{seed:F,k2sig:ee}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function D(T,E,_=N){const{seed:x,k2sig:M}=S(T,E,_),A=e;return e0e(A.hash.outputLen,A.nByteLength,A.hmac)(x,M)}c.BASE._setWindowSize(8);function O(T,E,_,x=R){const M=T;E=rc("msgHash",E),_=rc("publicKey",_);const{lowS:A,prehash:U,format:B}=x;if(eQ(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&B!=="compact"&&B!=="der")throw new Error("format must be compact or der");const z=typeof M=="string"||q0(M),H=!z&&!B&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!z&&!H)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,F;try{if(H&&(q=new m(M.r,M.s)),z){try{B!=="compact"&&(q=m.fromDER(M))}catch(he){if(!(he instanceof Vh.Err))throw he}!q&&B!=="der"&&(q=m.fromCompact(M))}F=c.fromHex(_)}catch{return!1}if(!q||A&&q.hasHighS())return!1;U&&(E=e.hash(E));const{r:K,s:ee}=q,se=I(E),te=a(ee),ue=o(se*te),ge=o(K*te),$e=c.BASE.multiplyAndAddUnsafe(F,ue,ge)?.toAffine();return $e?o($e.x)===K:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:w,sign:D,verify:O,ProjectivePoint:c,Signature:m,utils:b}}function oSt(t){return{hash:t,hmac:(e,...n)=>U8(t,e,u5t(...n)),randomBytes:$2}}function aSt(t,e){const n=r=>sSt({...t,...oSt(r)});return{...n(e),create:n}}const l0e=r0e(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),cSt=l0e.create(BigInt("-3")),lSt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),uSt=aSt({a:cSt,b:lSt,Fp:l0e,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},t5),u0e="base10",Ho="base16",fu="base64pad",Zf="base64url",r5="utf8",d0e=0,hp=1,i5=2,dSt=0,nQ=1,TE=12,QB=32;function hSt(){const t=AD.utils.randomPrivateKey(),e=AD.getPublicKey(t);return{privateKey:ur(t,Ho),publicKey:ur(e,Ho)}}function kD(){const t=$2(QB);return ur(t,Ho)}function pSt(t,e){const n=AD.getSharedSecret(Gr(t,Ho),Gr(e,Ho)),r=wIt(t5,n,void 0,void 0,QB);return ur(r,Ho)}function _S(t){const e=t5(Gr(t,Ho));return ur(e,Ho)}function cd(t){const e=t5(Gr(t,r5));return ur(e,Ho)}function h0e(t){return Gr(`${t}`,u0e)}function F0(t){return Number(ur(t,u0e))}function p0e(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function f0e(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function fSt(t){const e=h0e(typeof t.type<"u"?t.type:d0e);if(F0(e)===hp&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Gr(t.senderPublicKey,Ho):void 0,r=typeof t.iv<"u"?Gr(t.iv,Ho):$2(TE),i=Gr(t.symKey,Ho),s=Jwe(i,r).encrypt(Gr(t.message,r5)),o=g0e({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Zf?p0e(o):o}function gSt(t){const e=Gr(t.symKey,Ho),{sealed:n,iv:r}=v_({encoded:t.encoded,encoding:t.encoding}),i=Jwe(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return ur(i,r5)}function mSt(t,e){const n=h0e(i5),r=$2(TE),i=Gr(t,r5),s=g0e({type:n,sealed:i,iv:r});return e===Zf?p0e(s):s}function wSt(t,e){const{sealed:n}=v_({encoded:t,encoding:e});return ur(n,r5)}function g0e(t){if(F0(t.type)===i5)return ur(yd([t.type,t.sealed]),fu);if(F0(t.type)===hp){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ur(yd([t.type,t.senderPublicKey,t.iv,t.sealed]),fu)}return ur(yd([t.type,t.iv,t.sealed]),fu)}function v_(t){const e=(t.encoding||fu)===Zf?f0e(t.encoded):t.encoded,n=Gr(e,fu),r=n.slice(dSt,nQ),i=nQ;if(F0(r)===hp){const c=i+QB,l=c+TE,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(F0(r)===i5){const c=n.slice(i),l=$2(TE);return{type:r,sealed:c,iv:l}}const s=i+TE,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function ySt(t,e){const n=v_({encoded:t,encoding:e?.encoding});return m0e({type:F0(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ur(n.senderPublicKey,Ho):void 0,receiverPublicKey:e?.receiverPublicKey})}function m0e(t){const e=t?.type||d0e;if(e===hp){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function rQ(t){return t.type===hp&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function iQ(t){return t.type===i5}function bSt(t){const e=window.Buffer.from(t.x,"base64"),n=window.Buffer.from(t.y,"base64");return yd([new Uint8Array([4]),e,n])}function vSt(t,e){const[n,r,i]=t.split("."),s=window.Buffer.from(f0e(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=t5(c),u=bSt(e);if(!uSt.verify(yd([o,a]),l,u))throw new Error("Invalid signature");return mp(t).payload}const ESt="irn";function cA(t){return t?.relay||{protocol:ESt}}function oE(t){const e=UU[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function CSt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function sQ(t){if(!t.includes("wc:")){const l=Lwe(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:_St(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:CSt(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function _St(t){return t.startsWith("//")?t.substring(2):t}function ISt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function oQ(t){const e=new URLSearchParams,n=ISt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function VI(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var SSt=Object.defineProperty,xSt=Object.defineProperties,ASt=Object.getOwnPropertyDescriptors,aQ=Object.getOwnPropertySymbols,kSt=Object.prototype.hasOwnProperty,$St=Object.prototype.propertyIsEnumerable,cQ=(t,e,n)=>e in t?SSt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TSt=(t,e)=>{for(var n in e||(e={}))kSt.call(e,n)&&cQ(t,n,e[n]);if(aQ)for(var n of aQ(e))$St.call(e,n)&&cQ(t,n,e[n]);return t},NSt=(t,e)=>xSt(t,ASt(e));function N2(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function OSt(t){const e=[];return Object.values(t).forEach(n=>{e.push(...N2(n.accounts))}),e}function PSt(t,e){const n=[];return Object.values(t).forEach(r=>{N2(r.accounts).includes(e)&&n.push(...r.methods)}),n}function RSt(t,e){const n=[];return Object.values(t).forEach(r=>{N2(r.accounts).includes(e)&&n.push(...r.events)}),n}function z8(t){return t.includes(":")}function u1(t){return z8(t)?t.split(":")[0]:t}function lQ(t){var e,n,r;const i={};if(!hg(t))return i;for(const[s,o]of Object.entries(t)){const a=z8(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=u1(s);i[u]=NSt(TSt({},i[u]),{chains:vd(a,(e=i[u])==null?void 0:e.chains),methods:vd(c,(n=i[u])==null?void 0:n.methods),events:vd(l,(r=i[u])==null?void 0:r.events)})}return i}function DSt(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function uQ(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=DSt(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=vd(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function USt(t,e){var n,r,i,s,o,a;const c=lQ(t),l=lQ(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:vd((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:vd((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:vd((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const MSt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},LSt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ye(t,e){const{message:n,code:r}=LSt[t];return{message:e?`${n} ${e}`:n,code:r}}function or(t,e){const{message:n,code:r}=MSt[t];return{message:e?`${n} ${e}`:n,code:r}}function dg(t,e){return!!Array.isArray(t)}function hg(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Ws(t){return typeof t>"u"}function Di(t,e){return e&&Ws(t)?!0:typeof t=="string"&&!!t.trim().length}function ez(t,e){return e&&Ws(t)?!0:typeof t=="number"&&!isNaN(t)}function jSt(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Aw(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=N2(a),d=n[o];(!Aw(Pwe(o,d),u)||!Aw(d.methods,c)||!Aw(d.events,l))&&(s=!1)}),s):!1}function lA(t){return Di(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function BSt(t){if(Di(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&lA(n)}}return!1}function zSt(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Di(t,!1)){if(e(t))return!0;const n=Lwe(t);return e(n)}}catch{}return!1}function WSt(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function qSt(t){return t?.topic}function FSt(t,e){let n=null;return Di(t?.publicKey,!1)||(n=Ye("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function dQ(t){let e=!0;return dg(t)?t.length&&(e=t.every(n=>Di(n,!1))):e=!1,e}function HSt(t,e,n){let r=null;return dg(e)&&e.length?e.forEach(i=>{r||lA(i)||(r=or("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):lA(t)||(r=or("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function VSt(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=HSt(i,Pwe(i,s),`${e} ${n}`);o&&(r=o)}),r}function KSt(t,e){let n=null;return dg(t)?t.forEach(r=>{n||BSt(r)||(n=or("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=or("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function ZSt(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=KSt(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function GSt(t,e){let n=null;return dQ(t?.methods)?dQ(t?.events)||(n=or("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=or("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function w0e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=GSt(r,`${e}, namespace`);i&&(n=i)}),n}function YSt(t,e,n){let r=null;if(t&&hg(t)){const i=w0e(t,e);i&&(r=i);const s=VSt(t,e,n);s&&(r=s)}else r=Ye("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function GO(t,e){let n=null;if(t&&hg(t)){const r=w0e(t,e);r&&(n=r);const i=ZSt(t,e);i&&(n=i)}else n=Ye("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function y0e(t){return Di(t.protocol,!0)}function JSt(t,e){let n=!1;return t?t&&dg(t)&&t.length&&t.forEach(r=>{n=y0e(r)}):n=!0,n}function XSt(t){return typeof t=="number"}function ua(t){return typeof t<"u"&&typeof t!==null}function QSt(t){return!(!t||typeof t!="object"||!t.code||!ez(t.code,!1)||!t.message||!Di(t.message,!1))}function ext(t){return!(Ws(t)||!Di(t.method,!1))}function txt(t){return!(Ws(t)||Ws(t.result)&&Ws(t.error)||!ez(t.id,!1)||!Di(t.jsonrpc,!1))}function nxt(t){return!(Ws(t)||!Di(t.name,!1))}function hQ(t,e){return!(!lA(e)||!OSt(t).includes(e))}function rxt(t,e,n){return Di(n,!1)?PSt(t,e).includes(n):!1}function ixt(t,e,n){return Di(n,!1)?RSt(t,e).includes(n):!1}function pQ(t,e,n){let r=null;const i=sxt(t),s=oxt(e),o=Object.keys(i),a=Object.keys(s),c=fQ(Object.keys(t)),l=fQ(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Ye("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Aw(o,a)||(r=Ye("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=N2(e[d].accounts);h.includes(d)||(r=Ye("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(Aw(i[d].methods,s[d].methods)?Aw(i[d].events,s[d].events)||(r=Ye("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Ye("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function sxt(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function fQ(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function oxt(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:N2(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function axt(t,e){return ez(t,!1)&&t<=e.max&&t>=e.min}function gQ(){const t=Q4();return new Promise(e=>{switch(t){case hc.browser:e(cxt());break;case hc.reactNative:e(lxt());break;case hc.node:e(uxt());break;default:e(!0)}})}function cxt(){return k2()&&navigator?.onLine}async function lxt(){return fm()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function uxt(){return!0}function dxt(t){switch(Q4()){case hc.browser:hxt(t);break;case hc.reactNative:pxt(t);break}}function hxt(t){!fm()&&k2()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function pxt(t){fm()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(e=>t(e?.isConnected))}function fxt(){var t;return k2()&&_r.getDocument()?((t=_r.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const YO={};class j3{static get(e){return YO[e]}static set(e,n){YO[e]=n}static delete(e){delete YO[e]}}var gxt={};const b0e="wc",v0e=2,$D="core",Ld=`${b0e}@2:${$D}:`,mxt={logger:"error"},wxt={database:":memory:"},yxt="crypto",mQ="client_ed25519_seed",bxt=Y.ONE_DAY,vxt="keychain",Ext="0.3",Cxt="messages",_xt="0.3",wQ=Y.SIX_HOURS,Ixt="publisher",E0e="irn",Sxt="error",C0e="wss://relay.walletconnect.org",xxt="relayer",vs={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Axt="_subscription",Gc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},kxt=.1,TD="2.21.0",Fr={link_mode:"link_mode",relay:"relay"},IS={inbound:"inbound",outbound:"outbound"},$xt="0.3",Txt="WALLETCONNECT_CLIENT_ID",yQ="WALLETCONNECT_LINK_MODE_APPS",Ja={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Nxt="subscription",Oxt="0.3",Pxt="pairing",Rxt="0.3",B3={wc_pairingDelete:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Y.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Y.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:0},res:{ttl:Y.ONE_DAY,prompt:!1,tag:0}}},lw={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Kl={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Dxt="history",Uxt="0.3",Mxt="expirer",el={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Lxt="0.3",jxt="verify-api",Bxt="https://verify.walletconnect.com",_0e="https://verify.walletconnect.org",NE=_0e,zxt=`${NE}/v3`,Wxt=[Bxt,_0e],qxt="echo",Fxt="https://echo.walletconnect.com",id={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ph={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Zl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},zm={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Wm={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},z3={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Hxt=.1,Vxt="event-client",Kxt=86400,Zxt="https://pulse.walletconnect.org/batch";function Gxt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var g=0,m=0,b=0,y=f.length;b!==y&&f[b]===0;)b++,g++;for(var v=(y-b)*u+1>>>0,w=new Uint8Array(v);b!==y;){for(var C=f[b],I=0,k=v-1;(C!==0||I<m)&&k!==-1;k--,I++)C+=256*w[k]>>>0,w[k]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");m=I,b++}for(var P=v-m;P!==v&&w[P]===0;)P++;for(var S=c.repeat(g);P<v;++P)S+=t.charAt(w[P]);return S}function h(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;var g=0;if(f[g]!==" "){for(var m=0,b=0;f[g]===c;)m++,g++;for(var y=(f.length-g)*l+1>>>0,v=new Uint8Array(y);f[g];){var w=n[f.charCodeAt(g)];if(w===255)return;for(var C=0,I=y-1;(w!==0||C<b)&&I!==-1;I--,C++)w+=a*v[I]>>>0,v[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");b=C,g++}if(f[g]!==" "){for(var k=y-b;k!==y&&v[k]===0;)k++;for(var P=new Uint8Array(m+(y-k)),S=m;k!==y;)P[S++]=v[k++];return P}}}function p(f){var g=h(f);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:p}}var Yxt=Gxt,Jxt=Yxt;const I0e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Xxt=t=>new TextEncoder().encode(t),Qxt=t=>new TextDecoder().decode(t);class e6t{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class t6t{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return S0e(this,e)}}class n6t{constructor(e){this.decoders=e}or(e){return S0e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const S0e=(t,e)=>new n6t({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class r6t{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new e6t(e,n,r),this.decoder=new t6t(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const W8=({name:t,prefix:e,encode:n,decode:r})=>new r6t(t,e,n,r),s5=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Jxt(n,e);return W8({prefix:t,name:e,encode:r,decode:s=>I0e(i(s))})},i6t=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},s6t=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Qs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>W8({prefix:e,name:t,encode(i){return s6t(i,r,n)},decode(i){return i6t(i,r,n,t)}}),o6t=W8({prefix:"\0",name:"identity",encode:t=>Qxt(t),decode:t=>Xxt(t)});var a6t=Object.freeze({__proto__:null,identity:o6t});const c6t=Qs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var l6t=Object.freeze({__proto__:null,base2:c6t});const u6t=Qs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var d6t=Object.freeze({__proto__:null,base8:u6t});const h6t=s5({prefix:"9",name:"base10",alphabet:"0123456789"});var p6t=Object.freeze({__proto__:null,base10:h6t});const f6t=Qs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),g6t=Qs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var m6t=Object.freeze({__proto__:null,base16:f6t,base16upper:g6t});const w6t=Qs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),y6t=Qs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),b6t=Qs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),v6t=Qs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),E6t=Qs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),C6t=Qs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_6t=Qs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),I6t=Qs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),S6t=Qs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var x6t=Object.freeze({__proto__:null,base32:w6t,base32upper:y6t,base32pad:b6t,base32padupper:v6t,base32hex:E6t,base32hexupper:C6t,base32hexpad:_6t,base32hexpadupper:I6t,base32z:S6t});const A6t=s5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),k6t=s5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var $6t=Object.freeze({__proto__:null,base36:A6t,base36upper:k6t});const T6t=s5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),N6t=s5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var O6t=Object.freeze({__proto__:null,base58btc:T6t,base58flickr:N6t});const P6t=Qs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),R6t=Qs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),D6t=Qs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),U6t=Qs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var M6t=Object.freeze({__proto__:null,base64:P6t,base64pad:R6t,base64url:D6t,base64urlpad:U6t});const x0e=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),L6t=x0e.reduce((t,e,n)=>(t[n]=e,t),[]),j6t=x0e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function B6t(t){return t.reduce((e,n)=>(e+=L6t[n],e),"")}function z6t(t){const e=[];for(const n of t){const r=j6t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const W6t=W8({prefix:"ðŸš€",name:"base256emoji",encode:B6t,decode:z6t});var q6t=Object.freeze({__proto__:null,base256emoji:W6t}),F6t=A0e,bQ=128,H6t=-128,V6t=Math.pow(2,31);function A0e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=V6t;)e[n++]=t&255|bQ,t/=128;for(;t&H6t;)e[n++]=t&255|bQ,t>>>=7;return e[n]=t|0,A0e.bytes=n-r+1,e}var K6t=ND,Z6t=128,vQ=127;function ND(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw ND.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&vQ)<<i:(o&vQ)*Math.pow(2,i),i+=7}while(o>=Z6t);return ND.bytes=s-r,n}var G6t=Math.pow(2,7),Y6t=Math.pow(2,14),J6t=Math.pow(2,21),X6t=Math.pow(2,28),Q6t=Math.pow(2,35),eAt=Math.pow(2,42),tAt=Math.pow(2,49),nAt=Math.pow(2,56),rAt=Math.pow(2,63),iAt=function(t){return t<G6t?1:t<Y6t?2:t<J6t?3:t<X6t?4:t<Q6t?5:t<eAt?6:t<tAt?7:t<nAt?8:t<rAt?9:10},sAt={encode:F6t,decode:K6t,encodingLength:iAt},k0e=sAt;const EQ=(t,e,n=0)=>(k0e.encode(t,e,n),e),CQ=t=>k0e.encodingLength(t),OD=(t,e)=>{const n=e.byteLength,r=CQ(t),i=r+CQ(n),s=new Uint8Array(i+n);return EQ(t,s,0),EQ(n,s,r),s.set(e,i),new oAt(t,n,e,s)};class oAt{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const $0e=({name:t,code:e,encode:n})=>new aAt(t,e,n);class aAt{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?OD(this.code,n):n.then(r=>OD(this.code,r))}else throw Error("Unknown type, must be binary type")}}const T0e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),cAt=$0e({name:"sha2-256",code:18,encode:T0e("SHA-256")}),lAt=$0e({name:"sha2-512",code:19,encode:T0e("SHA-512")});var uAt=Object.freeze({__proto__:null,sha256:cAt,sha512:lAt});const N0e=0,dAt="identity",O0e=I0e,hAt=t=>OD(N0e,O0e(t)),pAt={code:N0e,name:dAt,encode:O0e,digest:hAt};var fAt=Object.freeze({__proto__:null,identity:pAt});new TextEncoder,new TextDecoder;const _Q={...a6t,...l6t,...d6t,...p6t,...m6t,...x6t,...$6t,...O6t,...M6t,...q6t};({...uAt,...fAt});function gAt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function P0e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const IQ=P0e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),JO=P0e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=gAt(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),mAt={utf8:IQ,"utf-8":IQ,hex:_Q.base16,latin1:JO,ascii:JO,binary:JO,..._Q};function wAt(t,e="utf8"){const n=mAt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var yAt=Object.defineProperty,bAt=(t,e,n)=>e in t?yAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ed=(t,e,n)=>bAt(t,typeof e!="symbol"?e+"":e,n);class vAt{constructor(e,n){this.core=e,this.logger=n,ed(this,"keychain",new Map),ed(this,"name",vxt),ed(this,"version",Ext),ed(this,"initialized",!1),ed(this,"storagePrefix",Ld),ed(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ed(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ed(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),ed(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Ye("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),ed(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Yn(n,this.name)}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,wD(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?yD(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var EAt=Object.defineProperty,CAt=(t,e,n)=>e in t?EAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ms=(t,e,n)=>CAt(t,typeof e!="symbol"?e+"":e,n);class _At{constructor(e,n,r){this.core=e,this.logger=n,Ms(this,"name",yxt),Ms(this,"keychain"),Ms(this,"randomSessionIdentifier",kD()),Ms(this,"initialized",!1),Ms(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Ms(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Ms(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=j1(i);return ek(s.publicKey)}),Ms(this,"generateKeyPair",()=>{this.isInitialized();const i=hSt();return this.setPrivateKey(i.publicKey,i.privateKey)}),Ms(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=j1(s),a=this.randomSessionIdentifier;return await bU(a,i,bxt,o)}),Ms(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=pSt(a,s);return this.setSymKey(c,o)}),Ms(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||_S(i);return await this.keychain.set(o,i),o}),Ms(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ms(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ms(this,"encode",async(i,s,o)=>{this.isInitialized();const a=m0e(o),c=fc(s);if(iQ(a))return mSt(c,o?.encoding);if(rQ(a)){const h=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(h,p)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return fSt({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),Ms(this,"decode",async(i,s,o)=>{this.isInitialized();const a=ySt(s,o);if(iQ(a)){const c=wSt(s,o?.encoding);return Cu(c)}if(rQ(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=gSt({symKey:c,encoded:s,encoding:o?.encoding});return Cu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Ms(this,"getPayloadType",(i,s=fu)=>{const o=v_({encoded:i,encoding:s});return F0(o.type)}),Ms(this,"getPayloadSenderPublicKey",(i,s=fu)=>{const o=v_({encoded:i,encoding:s});return o.senderPublicKey?ur(o.senderPublicKey,Ho):void 0}),this.core=e,this.logger=Yn(n,this.name),this.keychain=r||new vAt(this.core,this.logger)}get context(){return kr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(mQ)}catch{e=kD(),await this.keychain.set(mQ,e)}return wAt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var IAt=Object.defineProperty,SAt=Object.defineProperties,xAt=Object.getOwnPropertyDescriptors,SQ=Object.getOwnPropertySymbols,AAt=Object.prototype.hasOwnProperty,kAt=Object.prototype.propertyIsEnumerable,PD=(t,e,n)=>e in t?IAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$At=(t,e)=>{for(var n in e||(e={}))AAt.call(e,n)&&PD(t,n,e[n]);if(SQ)for(var n of SQ(e))kAt.call(e,n)&&PD(t,n,e[n]);return t},TAt=(t,e)=>SAt(t,xAt(e)),Za=(t,e,n)=>PD(t,typeof e!="symbol"?e+"":e,n);class NAt extends Y_t{constructor(e,n){super(e,n),this.logger=e,this.core=n,Za(this,"messages",new Map),Za(this,"messagesWithoutClientAck",new Map),Za(this,"name",Cxt),Za(this,"version",_xt),Za(this,"initialized",!1),Za(this,"storagePrefix",Ld),Za(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Za(this,"set",async(r,i,s)=>{this.isInitialized();const o=cd(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===IS.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,TAt($At({},c),{[o]:i}))}return await this.persist(),o}),Za(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Za(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Za(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=cd(i);return typeof s[o]<"u"}),Za(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=cd(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Za(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Yn(e,this.name),this.core=n}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,wD(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,wD(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?yD(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?yD(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var OAt=Object.defineProperty,PAt=Object.defineProperties,RAt=Object.getOwnPropertyDescriptors,xQ=Object.getOwnPropertySymbols,DAt=Object.prototype.hasOwnProperty,UAt=Object.prototype.propertyIsEnumerable,RD=(t,e,n)=>e in t?OAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KI=(t,e)=>{for(var n in e||(e={}))DAt.call(e,n)&&RD(t,n,e[n]);if(xQ)for(var n of xQ(e))UAt.call(e,n)&&RD(t,n,e[n]);return t},XO=(t,e)=>PAt(t,RAt(e)),Gl=(t,e,n)=>RD(t,typeof e!="symbol"?e+"":e,n);class MAt extends J_t{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Gl(this,"events",new Ir.EventEmitter),Gl(this,"name",Ixt),Gl(this,"queue",new Map),Gl(this,"publishTimeout",Y.toMiliseconds(Y.ONE_MINUTE)),Gl(this,"initialPublishTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),Gl(this,"needsTransportRestart",!1),Gl(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=s?.ttl||wQ,c=cA(s),l=s?.prompt||!1,u=s?.tag||0,d=s?.id||Mi().toString(),h={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:s?.attestation,tvf:s?.tvf}},p=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const f=new Promise(async g=>{const m=({id:y})=>{h.opts.id===y&&(this.removeRequestFromQueue(y),this.relayer.events.removeListener(vs.publish,m),g(h))};this.relayer.events.on(vs.publish,m);const b=tg(new Promise((y,v)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:u,id:d,attestation:s?.attestation,tvf:s?.tvf}).then(y).catch(w=>{this.logger.warn(w,w?.message),v(w)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await b,this.events.removeListener(vs.publish,m)}catch(y){this.queue.set(d,XO(KI({},h),{attempt:1})),this.logger.warn(y,y?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:i,opts:s}}),await tg(f,this.publishTimeout,p)}catch(f){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(f),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw f}finally{this.queue.delete(d)}}),Gl(this,"on",(r,i)=>{this.events.on(r,i)}),Gl(this,"once",(r,i)=>{this.events.once(r,i)}),Gl(this,"off",(r,i)=>{this.events.off(r,i)}),Gl(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Yn(n,this.name),this.registerEventListeners()}get context(){return kr(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=wQ,prompt:l,tag:u,id:d,attestation:h,tvf:p}=e,f={method:oE(cA().protocol).publish,params:KI({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},p),id:d};Ws((n=f.params)==null?void 0:n.prompt)&&((r=f.params)==null||delete r.prompt),Ws((i=f.params)==null?void 0:i.tag)&&((s=f.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f});const g=await this.relayer.request(f);return this.relayer.events.emit(vs.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,XO(KI({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(XO(KI({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ji.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vs.connection_stalled);return}this.checkQueue()}),this.relayer.on(vs.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var LAt=Object.defineProperty,jAt=(t,e,n)=>e in t?LAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sb=(t,e,n)=>jAt(t,typeof e!="symbol"?e+"":e,n);class BAt{constructor(){Sb(this,"map",new Map),Sb(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Sb(this,"get",e=>this.map.get(e)||[]),Sb(this,"exists",(e,n)=>this.get(e).includes(n)),Sb(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Sb(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var zAt=Object.defineProperty,WAt=Object.defineProperties,qAt=Object.getOwnPropertyDescriptors,AQ=Object.getOwnPropertySymbols,FAt=Object.prototype.hasOwnProperty,HAt=Object.prototype.propertyIsEnumerable,DD=(t,e,n)=>e in t?zAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W3=(t,e)=>{for(var n in e||(e={}))FAt.call(e,n)&&DD(t,n,e[n]);if(AQ)for(var n of AQ(e))HAt.call(e,n)&&DD(t,n,e[n]);return t},QO=(t,e)=>WAt(t,qAt(e)),yr=(t,e,n)=>DD(t,typeof e!="symbol"?e+"":e,n);class VAt extends e4t{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,yr(this,"subscriptions",new Map),yr(this,"topicMap",new BAt),yr(this,"events",new Ir.EventEmitter),yr(this,"name",Nxt),yr(this,"version",Oxt),yr(this,"pending",new Map),yr(this,"cached",[]),yr(this,"initialized",!1),yr(this,"storagePrefix",Ld),yr(this,"subscribeTimeout",Y.toMiliseconds(Y.ONE_MINUTE)),yr(this,"initialSubscribeTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),yr(this,"clientId"),yr(this,"batchSubscribeTopicsLimit",500),yr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),yr(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=cA(i),o={topic:r,relay:s,transportType:i?.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),yr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),yr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),yr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),yr(this,"on",(r,i)=>{this.events.on(r,i)}),yr(this,"once",(r,i)=>{this.events.once(r,i)}),yr(this,"off",(r,i)=>{this.events.off(r,i)}),yr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),yr(this,"start",async()=>{await this.onConnect()}),yr(this,"stop",async()=>{await this.onDisconnect()}),yr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),yr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),yr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ji.pulse,async()=>{await this.checkPending()}),this.events.on(Ja.created,async r=>{const i=Ja.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Ja.deleted,async r=>{const i=Ja.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Yn(n,this.name),this.clientId=""}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=cA(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=or("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||r?.transportType===Fr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:oE(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(r?.transportType===Fr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},Y.toMiliseconds(Y.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(Ja.created,d),u(h.id))};this.events.on(Ja.created,d);try{const h=await tg(new Promise((p,f)=>{this.relayer.request(s).catch(g=>{this.logger.warn(g,g?.message),f(g)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ja.created,d),u(h)}catch{}}),l=await tg(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vs.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:oE(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await tg(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(vs.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:oE(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await tg(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(vs.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:oE(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,QO(W3({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,W3({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,W3({},n)),this.topicMap.set(n.topic,e),this.events.emit(Ja.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ja.deleted,QO(W3({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ja.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ja.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>QO(W3({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Q4t(Y.toMiliseconds(Y.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return cd(e+await this.getClientId())}}var KAt=Object.defineProperty,kQ=Object.getOwnPropertySymbols,ZAt=Object.prototype.hasOwnProperty,GAt=Object.prototype.propertyIsEnumerable,UD=(t,e,n)=>e in t?KAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$Q=(t,e)=>{for(var n in e||(e={}))ZAt.call(e,n)&&UD(t,n,e[n]);if(kQ)for(var n of kQ(e))GAt.call(e,n)&&UD(t,n,e[n]);return t},On=(t,e,n)=>UD(t,typeof e!="symbol"?e+"":e,n);class YAt extends X_t{constructor(e){super(e),On(this,"protocol","wc"),On(this,"version",2),On(this,"core"),On(this,"logger"),On(this,"events",new Ir.EventEmitter),On(this,"provider"),On(this,"messages"),On(this,"subscriber"),On(this,"publisher"),On(this,"name",xxt),On(this,"transportExplicitlyClosed",!1),On(this,"initialized",!1),On(this,"connectionAttemptInProgress",!1),On(this,"relayUrl"),On(this,"projectId"),On(this,"packageName"),On(this,"bundleId"),On(this,"hasExperiencedNetworkDisruption",!1),On(this,"pingTimeout"),On(this,"heartBeatTimeout",Y.toMiliseconds(Y.THIRTY_SECONDS+Y.FIVE_SECONDS)),On(this,"reconnectTimeout"),On(this,"connectPromise"),On(this,"reconnectInProgress",!1),On(this,"requestsInFlight",[]),On(this,"connectTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),On(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||Mi().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),On(this,"resetPingTimeout",()=>{oA()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),On(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),On(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected ðŸ›œ"),this.startPingTimeout(),this.events.emit(vs.connect)}),On(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected ðŸ›‘"),this.requestsInFlight=[],this.onProviderDisconnect()}),On(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(vs.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),On(this,"registerProviderListeners",()=>{this.provider.on(Gc.payload,this.onPayloadHandler),this.provider.on(Gc.connect,this.onConnectHandler),this.provider.on(Gc.disconnect,this.onDisconnectHandler),this.provider.on(Gc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Yn(e.logger,this.name):pm(Zp({level:e.logger||Sxt})),this.messages=new NAt(this.logger,e.core),this.subscriber=new VAt(this,this.logger),this.publisher=new MAt(this,this.logger),this.relayUrl=e?.relayUrl||C0e,this.projectId=e.projectId,M4t()?this.packageName=AX():L4t()&&(this.bundleId=AX()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return kr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Fr.relay},IS.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Ja.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ja.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,$Q({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await tg(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await gQ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Ki(Y.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(vs.message,e),await this.recordMessageEvent(e,IS.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Gc.disconnect,s),await tg(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Gc.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Gc.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Gc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Y.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(oA())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Sr(new YU(q4t({sdkVersion:TD,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),zp(e)){if(!e.method.endsWith(Axt))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Fr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace($Q({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Bd(e)&&this.events.emit(vs.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,IS.inbound),this.events.emit(vs.message,e))}async acknowledgePayload(e){const n=gc(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Gc.payload,this.onPayloadHandler),this.provider.off(Gc.connect,this.onConnectHandler),this.provider.off(Gc.disconnect,this.onDisconnectHandler),this.provider.off(Gc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await gQ();dxt(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ji.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&fxt())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(vs.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Y.toMiliseconds(kxt)))))}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function JAt(){}function TQ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function NQ(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function OQ(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const XAt="[object RegExp]",QAt="[object String]",ekt="[object Number]",tkt="[object Boolean]",PQ="[object Arguments]",nkt="[object Symbol]",rkt="[object Date]",ikt="[object Map]",skt="[object Set]",okt="[object Array]",akt="[object Function]",ckt="[object ArrayBuffer]",eP="[object Object]",lkt="[object Error]",ukt="[object DataView]",dkt="[object Uint8Array]",hkt="[object Uint8ClampedArray]",pkt="[object Uint16Array]",fkt="[object Uint32Array]",gkt="[object BigUint64Array]",mkt="[object Int8Array]",wkt="[object Int16Array]",ykt="[object Int32Array]",bkt="[object BigInt64Array]",vkt="[object Float32Array]",Ekt="[object Float64Array]";function Ckt(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function _kt(t,e,n){return aE(t,e,void 0,void 0,void 0,void 0,n)}function aE(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return OE(t,e,s,o)}return OE(t,e,s,o)}function OE(t,e,n,r){if(Object.is(t,e))return!0;let i=OQ(t),s=OQ(e);if(i===PQ&&(i=eP),s===PQ&&(s=eP),i!==s)return!1;switch(i){case QAt:return t.toString()===e.toString();case ekt:{const c=t.valueOf(),l=e.valueOf();return Ckt(c,l)}case tkt:case rkt:case nkt:return Object.is(t.valueOf(),e.valueOf());case XAt:return t.source===e.source&&t.flags===e.flags;case akt:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case ikt:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!aE(l,e.get(c),c,t,e,n,r))return!1;return!0}case skt:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(p=>aE(d,p,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case okt:case dkt:case hkt:case pkt:case fkt:case gkt:case mkt:case wkt:case ykt:case bkt:case vkt:case Ekt:{if(typeof window.Buffer<"u"&&window.Buffer.isBuffer(t)!==window.Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!aE(t[c],e[c],c,t,e,n,r))return!1;return!0}case ckt:return t.byteLength!==e.byteLength?!1:OE(new Uint8Array(t),new Uint8Array(e),n,r);case ukt:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:OE(new Uint8Array(t),new Uint8Array(e),n,r);case lkt:return t.name===e.name&&t.message===e.message;case eP:{if(!(OE(t.constructor,e.constructor,n,r)||TQ(t)&&TQ(e)))return!1;const c=[...Object.keys(t),...NQ(t)],l=[...Object.keys(e),...NQ(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const p=e[d];if(!aE(h,p,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Ikt(t,e){return _kt(t,e,JAt)}var Skt=Object.defineProperty,RQ=Object.getOwnPropertySymbols,xkt=Object.prototype.hasOwnProperty,Akt=Object.prototype.propertyIsEnumerable,MD=(t,e,n)=>e in t?Skt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DQ=(t,e)=>{for(var n in e||(e={}))xkt.call(e,n)&&MD(t,n,e[n]);if(RQ)for(var n of RQ(e))Akt.call(e,n)&&MD(t,n,e[n]);return t},sa=(t,e,n)=>MD(t,typeof e!="symbol"?e+"":e,n);class Uy extends Q_t{constructor(e,n,r,i=Ld,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,sa(this,"map",new Map),sa(this,"version",$xt),sa(this,"cached",[]),sa(this,"initialized",!1),sa(this,"getKey"),sa(this,"storagePrefix",Ld),sa(this,"recentlyDeleted",[]),sa(this,"recentlyDeletedLimit",200),sa(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Ws(o)?this.map.set(this.getKey(o),o):WSt(o)?this.map.set(o.id,o):qSt(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),sa(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),sa(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),sa(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Ikt(a[c],o[c]))):this.values)),sa(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=DQ(DQ({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),sa(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Yn(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Ye("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var kkt=Object.defineProperty,$kt=(t,e,n)=>e in t?kkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e,n)=>$kt(t,typeof e!="symbol"?e+"":e,n);class Tkt{constructor(e,n){this.core=e,this.logger=n,gn(this,"name",Pxt),gn(this,"version",Rxt),gn(this,"events",new jp),gn(this,"pairings"),gn(this,"initialized",!1),gn(this,"storagePrefix",Ld),gn(this,"ignoredPayloadTypes",[hp]),gn(this,"registeredMethods",[]),gn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),gn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),gn(this,"create",async r=>{this.isInitialized();const i=kD(),s=await this.core.crypto.setSymKey(i),o=Ki(Y.FIVE_MINUTES),a={protocol:E0e},c={topic:s,expiry:o,relay:a,active:!1,methods:r?.methods},l=oQ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(lw.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType}),{topic:s,uri:l}}),gn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[id.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=sQ(r.uri);i.props.properties.topic=s,i.addTrace(id.pairing_uri_validation_success),i.addTrace(id.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(id.existing_pairing),u.active)throw i.setError(Ph.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(id.pairing_not_expired)}const d=c||Ki(Y.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(id.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(lw.create,h),i.addTrace(id.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(id.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Ph.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(Ph.subscribe_pairing_topic_failure),p}return i.addTrace(id.subscribe_pairing_topic_success),h}),gn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Ki(Y.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),gn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Ym();this.events.once(Vn("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),gn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),gn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),gn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),gn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",or("USER_DISCONNECTED")),await this.deletePairing(i))}),gn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return oQ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),gn(this,"sendRequest",async(r,i,s)=>{const o=Hr(i,s),a=await this.core.crypto.encode(r,o),c=B3[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),gn(this,"sendResult",async(r,i,s)=>{const o=gc(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=B3[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),gn(this,"sendError",async(r,i,s)=>{const o=Kg(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=B3[c]?B3[c].res:B3.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),gn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,or("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),gn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Bf(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),gn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),gn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),gn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(lw.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),gn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{ar(i)?this.events.emit(Vn("pairing_ping",s),{}):Pn(i)&&this.events.emit(Vn("pairing_ping",s),{error:i.error})},500)}),gn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(lw.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),gn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=or("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),gn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(or("WC_METHOD_UNSUPPORTED",r))}),gn(this,"isValidPair",(r,i)=>{var s;if(!ua(r)){const{message:a}=Ye("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Ph.malformed_pairing_uri),new Error(a)}if(!zSt(r.uri)){const{message:a}=Ye("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Ph.malformed_pairing_uri),new Error(a)}const o=sQ(r?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Ye("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Ph.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ye("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Ph.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Y.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(Ph.pairing_expired);const{message:a}=Ye("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),gn(this,"isValidPing",async r=>{if(!ua(r)){const{message:s}=Ye("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),gn(this,"isValidDisconnect",async r=>{if(!ua(r)){const{message:s}=Ye("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),gn(this,"isValidPairingTopic",async r=>{if(!Di(r,!1)){const{message:i}=Ye("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Bf(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Ye("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Yn(n,this.name),this.pairings=new Uy(this.core,this.logger,this.name,this.storagePrefix)}get context(){return kr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vs.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Fr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);zp(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):Bd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(el.expired,async e=>{const{topic:n}=Mwe(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(lw.expire,{topic:n}))})}}var Nkt=Object.defineProperty,Okt=(t,e,n)=>e in t?Nkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ls=(t,e,n)=>Okt(t,typeof e!="symbol"?e+"":e,n);class Pkt extends G_t{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ls(this,"records",new Map),Ls(this,"events",new Ir.EventEmitter),Ls(this,"name",Dxt),Ls(this,"version",Uxt),Ls(this,"cached",[]),Ls(this,"initialized",!1),Ls(this,"storagePrefix",Ld),Ls(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ls(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Ki(Y.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Kl.created,o)}),Ls(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Pn(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Kl.updated,i))}),Ls(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ls(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Kl.deleted,s)}}),this.persist()}),Ls(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ls(this,"on",(r,i)=>{this.events.on(r,i)}),Ls(this,"once",(r,i)=>{this.events.once(r,i)}),Ls(this,"off",(r,i)=>{this.events.off(r,i)}),Ls(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Yn(n,this.name)}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Hr(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Kl.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Kl.created,e=>{const n=Kl.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Kl.updated,e=>{const n=Kl.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Kl.deleted,e=>{const n=Kl.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ji.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Y.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Kl.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Rkt=Object.defineProperty,Dkt=(t,e,n)=>e in t?Rkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uo=(t,e,n)=>Dkt(t,typeof e!="symbol"?e+"":e,n);class Ukt extends t4t{constructor(e,n){super(e,n),this.core=e,this.logger=n,uo(this,"expirations",new Map),uo(this,"events",new Ir.EventEmitter),uo(this,"name",Mxt),uo(this,"version",Lxt),uo(this,"cached",[]),uo(this,"initialized",!1),uo(this,"storagePrefix",Ld),uo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),uo(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),uo(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(el.created,{target:s,expiration:o})}),uo(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),uo(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(el.deleted,{target:i,expiration:s})}}),uo(this,"on",(r,i)=>{this.events.on(r,i)}),uo(this,"once",(r,i)=>{this.events.once(r,i)}),uo(this,"off",(r,i)=>{this.events.off(r,i)}),uo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Yn(n,this.name)}get context(){return kr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return F4t(e);if(typeof e=="number")return H4t(e);const{message:n}=Ye("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(el.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Y.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(el.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ji.pulse,()=>this.checkExpirations()),this.events.on(el.created,e=>{const n=el.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(el.expired,e=>{const n=el.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(el.deleted,e=>{const n=el.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Mkt=Object.defineProperty,Lkt=(t,e,n)=>e in t?Mkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$i=(t,e,n)=>Lkt(t,typeof e!="symbol"?e+"":e,n);class jkt extends n4t{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,$i(this,"name",jxt),$i(this,"abortController"),$i(this,"isDevEnv"),$i(this,"verifyUrlV3",zxt),$i(this,"storagePrefix",Ld),$i(this,"version",v0e),$i(this,"publicKey"),$i(this,"fetchPromise"),$i(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Y.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),$i(this,"register",async i=>{if(!k2()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=_r.getDocument(),u=this.startAbortTimer(Y.ONE_SECOND*5),d=await new Promise((h,p)=>{const f=()=>{window.removeEventListener("message",m),l.body.removeChild(g),p("attestation aborted")};this.abortController.signal.addEventListener("abort",f);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",f,{signal:this.abortController.signal});const m=b=>{if(b.data&&typeof b.data=="string")try{const y=JSON.parse(b.data);if(y.type==="verify_attestation"){if(mp(y.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",f),window.removeEventListener("message",m),h(y.attestation===null?"":y.attestation)}}catch(y){this.logger.warn(y)}};l.body.appendChild(g),window.addEventListener("message",m,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),$i(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(mp(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),$i(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Y.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),$i(this,"getVerifyUrl",i=>{let s=i||NE;return Wxt.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${NE}`),s=NE),s}),$i(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Y.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),$i(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),$i(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),$i(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),$i(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),$i(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),$i(this,"validateAttestation",(i,s)=>{const o=vSt(i,s.publicKey),a={hasExpired:Y.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Yn(n,this.name),this.abortController=new AbortController,this.isDevEnv=KB(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return kr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Y.toMiliseconds(e))}}var Bkt=Object.defineProperty,zkt=(t,e,n)=>e in t?Bkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UQ=(t,e,n)=>zkt(t,typeof e!="symbol"?e+"":e,n);class Wkt extends r4t{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,UQ(this,"context",qxt),UQ(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${Fxt}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Yn(n,this.context)}}var qkt=Object.defineProperty,MQ=Object.getOwnPropertySymbols,Fkt=Object.prototype.hasOwnProperty,Hkt=Object.prototype.propertyIsEnumerable,LD=(t,e,n)=>e in t?qkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q3=(t,e)=>{for(var n in e||(e={}))Fkt.call(e,n)&&LD(t,n,e[n]);if(MQ)for(var n of MQ(e))Hkt.call(e,n)&&LD(t,n,e[n]);return t},ss=(t,e,n)=>LD(t,typeof e!="symbol"?e+"":e,n);class Vkt extends i4t{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,ss(this,"context",Vxt),ss(this,"storagePrefix",Ld),ss(this,"storageVersion",Hxt),ss(this,"events",new Map),ss(this,"shouldPersist",!1),ss(this,"init",async()=>{if(!KB())try{const i={eventId:$X(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Dwe(this.core.relayer.protocol,this.core.relayer.version,TD)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),ss(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=$X(),u=this.core.projectId||"",d=Date.now(),h=q3({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),ss(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return q3(q3({},a),this.setMethods(a.eventId))}),ss(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),ss(this,"setEventListeners",()=>{this.core.heartbeat.on(Ji.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Y.fromMiliseconds(Date.now())-Y.fromMiliseconds(i.timestamp)>Kxt&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),ss(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),ss(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),ss(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),ss(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ss(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,q3(q3({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),ss(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),ss(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Zxt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${TD}${s}`,{method:"POST",body:JSON.stringify(i)})}),ss(this,"getAppDomain",()=>Rwe().url),this.logger=Yn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Kkt=Object.defineProperty,LQ=Object.getOwnPropertySymbols,Zkt=Object.prototype.hasOwnProperty,Gkt=Object.prototype.propertyIsEnumerable,jD=(t,e,n)=>e in t?Kkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jQ=(t,e)=>{for(var n in e||(e={}))Zkt.call(e,n)&&jD(t,n,e[n]);if(LQ)for(var n of LQ(e))Gkt.call(e,n)&&jD(t,n,e[n]);return t},Pr=(t,e,n)=>jD(t,typeof e!="symbol"?e+"":e,n);let Ykt=class R0e extends H_t{constructor(e){var n;super(e),Pr(this,"protocol",b0e),Pr(this,"version",v0e),Pr(this,"name",$D),Pr(this,"relayUrl"),Pr(this,"projectId"),Pr(this,"customStoragePrefix"),Pr(this,"events",new Ir.EventEmitter),Pr(this,"logger"),Pr(this,"heartbeat"),Pr(this,"relayer"),Pr(this,"crypto"),Pr(this,"storage"),Pr(this,"history"),Pr(this,"expirer"),Pr(this,"pairing"),Pr(this,"verify"),Pr(this,"echoClient"),Pr(this,"linkModeSupportedApps"),Pr(this,"eventClient"),Pr(this,"initialized",!1),Pr(this,"logChunkController"),Pr(this,"on",(a,c)=>this.events.on(a,c)),Pr(this,"once",(a,c)=>this.events.once(a,c)),Pr(this,"off",(a,c)=>this.events.off(a,c)),Pr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Pr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Fr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||C0e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Zp({level:typeof e?.logger=="string"&&e.logger?e.logger:mxt.logger,name:$D}),{logger:s,chunkLoggerController:o}=qB({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Yn(s,this.name),this.heartbeat=new uU,this.crypto=new _At(this,this.logger,e?.keychain),this.history=new Pkt(this,this.logger),this.expirer=new Ukt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new dU(jQ(jQ({},wxt),e?.storageOptions)),this.relayer=new YAt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Tkt(this,this.logger),this.verify=new jkt(this,this.logger,this.storage),this.echoClient=new Wkt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Vkt(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new R0e(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Txt,r),n}get context(){return kr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(yQ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(yQ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof window.process<"u"&&gxt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Jkt=Ykt,D0e="wc",U0e=2,M0e="client",tz=`${D0e}@${U0e}:${M0e}:`,tP={name:M0e,logger:"error"},BQ="WALLETCONNECT_DEEPLINK_CHOICE",Xkt="proposal",zQ="Proposal expired",Qkt="session",xb=Y.SEVEN_DAYS,e8t="engine",os={wc_sessionPropose:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Y.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Y.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1119}}},nP={min:Y.FIVE_MINUTES,max:Y.SEVEN_DAYS},td={idle:"IDLE",active:"ACTIVE"},WQ={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},t8t="request",n8t=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],r8t="wc",i8t="auth",s8t="authKeys",o8t="pairingTopics",a8t="requests",q8=`${r8t}@${1.5}:${i8t}:`,SS=`${q8}:PUB_KEY`;var c8t=Object.defineProperty,l8t=Object.defineProperties,u8t=Object.getOwnPropertyDescriptors,qQ=Object.getOwnPropertySymbols,d8t=Object.prototype.hasOwnProperty,h8t=Object.prototype.propertyIsEnumerable,BD=(t,e,n)=>e in t?c8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,br=(t,e)=>{for(var n in e||(e={}))d8t.call(e,n)&&BD(t,n,e[n]);if(qQ)for(var n of qQ(e))h8t.call(e,n)&&BD(t,n,e[n]);return t},Oo=(t,e)=>l8t(t,u8t(e)),De=(t,e,n)=>BD(t,typeof e!="symbol"?e+"":e,n);class p8t extends c4t{constructor(e){super(e),De(this,"name",e8t),De(this,"events",new jp),De(this,"initialized",!1),De(this,"requestQueue",{state:td.idle,queue:[]}),De(this,"sessionRequestQueue",{state:td.idle,queue:[]}),De(this,"requestQueueDelay",Y.ONE_SECOND),De(this,"expectedPairingMethodMap",new Map),De(this,"recentlyDeletedMap",new Map),De(this,"recentlyDeletedLimit",200),De(this,"relayMessageCache",[]),De(this,"pendingSessions",new Map),De(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(os)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Y.toMiliseconds(this.requestQueueDelay)))}),De(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Oo(br({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=USt(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const I=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),I}if(!u||!h){const{topic:I,uri:k}=await this.client.core.pairing.create();u=I,d=k}if(!u){const{message:I}=Ye("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(I)}const p=await this.client.core.crypto.generateKeyPair(),f=os.wc_sessionPropose.req.ttl||Y.FIVE_MINUTES,g=Ki(f),m=Oo(br(br({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:E0e}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Dr()}),b=Vn("session_connect",m.id),{reject:y,resolve:v,done:w}=Ym(f,zQ),C=({id:I})=>{I===m.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(m.id),this.events.emit(b,{error:{message:zQ,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(b,({error:I,session:k})=>{this.client.events.off("proposal_expire",C),I?y(I):k&&v(k)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:m,throwOnFailedPublish:!0,clientRpcId:m.id}),await this.setProposal(m.id,m),{uri:d,approval:w}}),De(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),De(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Zl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw o.setError(zm.no_internet_connection),S}try{await this.isValidProposalId(n?.id)}catch(S){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(zm.proposal_not_found),S}try{await this.isValidApprove(n)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(zm.session_approve_namespace_validation_failure),S}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:f,proposer:g,requiredNamespaces:m,optionalNamespaces:b}=p;let y=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:f});y||(y=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Zl.session_approve_started,properties:{topic:f,trace:[Zl.session_approve_started,Zl.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),w=g.publicKey,C=await this.client.core.crypto.generateSharedKey(v,w),I=br(br(br({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:Ki(xb)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),k=Fr.relay;y.addTrace(Zl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:k})}catch(S){throw y.setError(zm.subscribe_session_topic_failure),S}y.addTrace(Zl.subscribe_session_topic_success);const P=Oo(br({},I),{topic:C,requiredNamespaces:m,optionalNamespaces:b,pairingTopic:f,acknowledged:!1,self:I.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:v,transportType:Fr.relay});await this.client.session.set(C,P),y.addTrace(Zl.store_session);try{y.addTrace(Zl.publishing_session_settle),await this.sendRequest({topic:C,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0}).catch(S=>{throw y?.setError(zm.session_settle_publish_failure),S}),y.addTrace(Zl.session_settle_publish_success),y.addTrace(Zl.publishing_session_approve),await this.sendResult({id:a,topic:f,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(S=>{throw y?.setError(zm.session_approve_publish_failure),S}),y.addTrace(Zl.session_approve_publish_success)}catch(S){throw this.client.logger.error(S),this.client.session.delete(C,or("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),S}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:f,metadata:g.metadata}),await this.client.proposal.delete(a,or("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}),await this.setExpiry(C,Ki(xb)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),De(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:os.wc_sessionPropose.reject}),await this.client.proposal.delete(r,or("USER_DISCONNECTED")))}),De(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Ym(),c=Dr(),l=Mi().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Vn("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),De(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Dr(),{done:s,resolve:o,reject:a}=Ym();return this.events.once(Vn("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Ki(xb)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),De(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:r,request:i,topic:s,expiry:o=os.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);a?.transportType===Fr.relay&&await this.confirmOnlineStateOrThrow();const c=Dr(),l=Mi().toString(),{done:u,resolve:d,reject:h}=Ym(o,"Request expired. Please try again.");this.events.once(Vn("session_request",c),({error:b,result:y})=>{b?h(b):d(y)});const p="wc_sessionRequest",f=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(f)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:{request:Oo(br({},i),{expiryTimestamp:Ki(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:f}).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const g={request:Oo(br({},i),{expiryTimestamp:Ki(o)}),chainId:r},m=this.shouldSetTVF(p,g);return await Promise.all([new Promise(async b=>{await this.sendRequest(br({clientRpcId:c,relayRpcId:l,topic:s,method:p,params:g,expiry:o,throwOnFailedPublish:!0},m&&{tvf:this.getTVFParams(c,g)})).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),b()}),new Promise(async b=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const v=await G4t(this.client.core.storage,BQ);await V4t({id:c,topic:s,wcDeepLink:v})}b()}),u()]).then(b=>b[2])}),De(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Fr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ar(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Pn(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),De(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Dr(),s=Mi().toString(),{done:o,resolve:a,reject:c}=Ym();this.events.once(Vn("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),De(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Mi().toString(),a=Dr();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),De(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:or("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Ye("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),De(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>jSt(r,n)))),De(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),De(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Fr.link_mode:Fr.relay;o===Fr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:p,nbf:f,methods:g=[],expiry:m}=n,b=[...n.resources||[]],{topic:y,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:v}});const w=await this.client.core.crypto.generateKeyPair(),C=_S(w);if(await Promise.all([this.client.auth.authKeys.set(SS,{responseTopic:C,publicKey:w}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:y})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${y}`),g.length>0){const{namespace:A}=k1(a[0]);let U=z5t(A,"request",g);CS(b)&&(U=q5t(U,b.pop())),b.push(U)}const I=m&&m>os.wc_sessionAuthenticate.req.ttl?m:os.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:p,nbf:f,resources:b},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Ki(I)},P={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},S={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Ki(os.wc_sessionPropose.req.ttl),id:Dr()},{done:N,resolve:R,reject:D}=Ym(I,"Request expired"),O=Dr(),T=Vn("session_connect",S.id),E=Vn("session_request",O),_=async({error:A,session:U})=>{this.events.off(E,x),A?D(A):U&&R({session:U})},x=async A=>{var U,B,z;if(await this.deletePendingAuthRequest(O,{message:"fulfilled",code:0}),A.error){const te=or("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return A.error.code===te.code?void 0:(this.events.off(T,_),D(A.error.message))}await this.deleteProposal(S.id),this.events.off(T,_);const{cacaos:H,responder:q}=A.result,F=[],K=[];for(const te of H){await MX({cacao:te,projectId:this.client.core.projectId})||(this.client.logger.error(te,"Signature verification failed"),D(or("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ue}=te,ge=CS(ue.resources),$e=[bD(ue.iss)],he=aA(ue.iss);if(ge){const me=LX(ge),Me=jX(ge);F.push(...me),$e.push(...Me)}for(const me of $e)K.push(`${me}:${he}`)}const ee=await this.client.core.crypto.generateSharedKey(w,q.publicKey);let se;F.length>0&&(se={topic:ee,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:Ki(xb),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:uQ([...new Set(F)],[...new Set(K)]),transportType:o},await this.client.core.relayer.subscribe(ee,{transportType:o}),await this.client.session.set(ee,se),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:q.metadata}),se=this.client.session.get(ee)),(U=this.client.metadata.redirect)!=null&&U.linkMode&&(B=q.metadata.redirect)!=null&&B.linkMode&&(z=q.metadata.redirect)!=null&&z.universal&&r&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(ee,{transportType:Fr.link_mode})),R({auths:H,session:se})};this.events.once(T,_),this.events.once(E,x);let M;try{if(s){const A=Hr("wc_sessionAuthenticate",k,O);this.client.core.history.set(y,A);const U=await this.client.core.crypto.encode("",A,{type:i5,encoding:Zf});M=VI(r,y,U)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:k,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:O}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:S,expiry:os.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S.id})])}catch(A){throw this.events.off(T,_),this.events.off(E,x),A}return await this.setProposal(S.id,S),await this.setAuthRequest(O,{request:Oo(br({},k),{verifyContext:{}}),pairingTopic:y,transportType:o}),{uri:M??v,response:N}}),De(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Wm.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw s.setError(z3.no_internet_connection),m}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(z3.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Fr.relay;a===Fr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=_S(c),d={type:hp,receiverPublicKey:c,senderPublicKey:l},h=[],p=[];for(const m of i){if(!await MX({cacao:m,projectId:this.client.core.projectId})){s.setError(z3.invalid_cacao);const C=or("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:C,encodeOpts:d}),new Error(C.message)}s.addTrace(Wm.cacaos_verified);const{p:b}=m,y=CS(b.resources),v=[bD(b.iss)],w=aA(b.iss);if(y){const C=LX(y),I=jX(y);h.push(...C),v.push(...I)}for(const C of v)p.push(`${C}:${w}`)}const f=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Wm.create_authenticated_session_topic);let g;if(h?.length>0){g={topic:f,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Ki(xb),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:uQ([...new Set(h)],[...new Set(p)]),transportType:a},s.addTrace(Wm.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(f,{transportType:a})}catch(m){throw s.setError(z3.subscribe_authenticated_session_topic_failure),m}s.addTrace(Wm.subscribe_authenticated_session_topic_success),await this.client.session.set(f,g),s.addTrace(Wm.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Wm.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(m){throw s.setError(z3.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),De(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Fr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=_S(o),l={type:hp,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:os.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,or("USER_DISCONNECTED"))}),De(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return Vwe(r,i)}),De(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),De(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),De(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,or("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(BQ).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,or("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=td.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),De(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(zm.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,or("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),De(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=td.idle,this.client.events.emit("session_request_expire",{id:n}))}),De(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),De(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),De(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Ki(os.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),De(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Fr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),De(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Ki(os.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),De(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Hr(i,s,c);let p;const f=!!u;try{const b=f?Zf:fu;p=await this.client.core.crypto.encode(r,h,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let g;if(n8t.includes(i)){const b=cd(JSON.stringify(h)),y=cd(p);g=await this.client.core.verify.register({id:y,decryptedId:b})}const m=os[i].req;if(m.attestation=g,o&&(m.ttl=o),a&&(m.id=a),this.client.core.history.set(r,h),f){const b=VI(u,r,p);await globalThis.Linking.openURL(b,this.client.name)}else{const b=os[i].req;o&&(b.ttl=o),a&&(b.id=a),b.tvf=Oo(br({},d),{correlationId:h.id}),l?(b.internal=Oo(br({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,b)):this.client.core.relayer.publish(r,p,b).catch(y=>this.client.logger.error(y))}return h.id}),De(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=gc(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const f=d?Zf:fu;u=await this.client.core.crypto.encode(i,l,Oo(br({},a||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),f}let h,p;try{h=await this.client.core.history.get(i,r);const f=h.request;try{this.shouldSetTVF(f.method,f.params)&&(p=this.getTVFParams(r,f.params,s))}catch(g){this.client.logger.warn("sendResult() -> getTVFParams() failed",g)}}catch(f){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),f}if(d){const f=VI(c,i,u);await globalThis.Linking.openURL(f,this.client.name)}else{const f=h.request.method,g=os[f].res;g.tvf=Oo(br({},p),{correlationId:r}),o?(g.internal=Oo(br({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),De(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Kg(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const p=d?Zf:fu;u=await this.client.core.crypto.encode(i,l,Oo(br({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let h;try{h=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(d){const p=VI(c,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=h.request.method,f=a||os[p].res;this.client.core.relayer.publish(i,u,f)}await this.client.core.history.resolve(l)}),De(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Bf(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Bf(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),De(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),De(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),De(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===td.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=td.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=td.idle}),De(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),De(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),De(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Ye("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),De(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),De(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Ph.proposal_listener_not_found)),this.isValidConnect(br({},i.params));const u=a.expiryTimestamp||Ki(os.wc_sessionPropose.req.ttl),d=br({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:cd(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(id.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:os.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),De(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(ar(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Pn(r)){await this.client.proposal.delete(s,or("USER_DISCONNECTED"));const o=Vn("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),De(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,p=[...this.pendingSessions.values()].find(m=>m.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);const f=this.client.proposal.get(p.proposalId),g=Oo(br(br(br({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:Fr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Vn("session_connect",p.proposalId),{session:g}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),De(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;ar(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Vn("session_approve",i),{})):Pn(r)&&(await this.client.session.delete(n,or("USER_DISCONNECTED")),this.events.emit(Vn("session_approve",i),{error:r.error}))}),De(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=j3.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:or("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(br({topic:n},i));try{j3.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw j3.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),De(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),De(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Vn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Vn("session_update",i),{}):Pn(r)&&this.events.emit(Vn("session_update",i),{error:r.error})}),De(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Ki(xb)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),De(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Vn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Vn("session_extend",i),{}):Pn(r)&&this.events.emit(Vn("session_extend",i),{error:r.error})}),De(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),De(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Vn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ar(r)?this.events.emit(Vn("session_ping",i),{}):Pn(r)&&this.events.emit(Vn("session_ping",i),{error:r.error})},500)}),De(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(vs.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:or("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),De(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(br({topic:o},h));const p=this.client.session.get(o),f=await this.getVerifyContext({attestationId:c,hash:cd(JSON.stringify(Hr("wc_sessionRequest",h,d))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:f};await this.setPendingSessionRequest(g),u===Fr.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(p){await this.sendError({id:d,topic:o,error:p}),this.client.logger.error(p)}}),De(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Vn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ar(r)?this.events.emit(Vn("session_request",i),{result:r.result}):Pn(r)&&this.events.emit(Vn("session_request",i),{error:r.error})}),De(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=j3.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(br({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),j3.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),De(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ar(r)?this.events.emit(Vn("session_request",i),{result:r.result}):Pn(r)&&this.events.emit(Vn("session_request",i),{error:r.error})}),De(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:cd(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:c}),c===Fr.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),p={type:hp,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:p,rpcOpts:os.wc_sessionAuthenticate.autoReject,appLink:h})}}),De(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),De(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=td.idle,this.processSessionRequestQueue()},Y.toMiliseconds(this.requestQueueDelay))}),De(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Vn("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Vn("session_request",s.request.id),{error:r})})}),De(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===td.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=td.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),De(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),De(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Hr("wc_sessionPropose",Oo(br({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),De(this,"isValidConnect",async n=>{if(!ua(n)){const{message:l}=Ye("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Ws(r)||await this.isValidPairingTopic(r),!JSt(c)){const{message:l}=Ye("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Ws(i)&&hg(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!Ws(s)&&hg(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Ws(o)||this.validateSessionProps(o,"sessionProperties"),!Ws(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),De(this,"validateNamespaces",(n,r)=>{const i=YSt(n,"connect()",r);if(i)throw new Error(i.message)}),De(this,"isValidApprove",async n=>{if(!ua(n))throw new Error(Ye("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=GO(i,"approve()");if(l)throw new Error(l.message);const u=pQ(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Di(s,!0)){const{message:d}=Ye("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(Ws(o)||this.validateSessionProps(o,"sessionProperties"),!Ws(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),De(this,"isValidReject",async n=>{if(!ua(n)){const{message:s}=Ye("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!QSt(i)){const{message:s}=Ye("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),De(this,"isValidSessionSettleRequest",n=>{if(!ua(n)){const{message:l}=Ye("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!y0e(r)){const{message:l}=Ye("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=FSt(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=GO(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Bf(o)){const{message:l}=Ye("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),De(this,"isValidUpdate",async n=>{if(!ua(n)){const{message:c}=Ye("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=GO(i,"update()");if(o)throw new Error(o.message);const a=pQ(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),De(this,"isValidExtend",async n=>{if(!ua(n)){const{message:i}=Ye("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),De(this,"isValidRequest",async n=>{if(!ua(n)){const{message:c}=Ye("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!hQ(a,s)){const{message:c}=Ye("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!ext(i)){const{message:c}=Ye("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!rxt(a,s,i.method)){const{message:c}=Ye("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!axt(o,nP)){const{message:c}=Ye("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${nP.min} and ${nP.max}`);throw new Error(c)}}),De(this,"isValidRespond",async n=>{var r;if(!ua(n)){const{message:o}=Ye("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!txt(s)){const{message:o}=Ye("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),De(this,"isValidPing",async n=>{if(!ua(n)){const{message:i}=Ye("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),De(this,"isValidEmit",async n=>{if(!ua(n)){const{message:a}=Ye("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!hQ(o,s)){const{message:a}=Ye("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!nxt(i)){const{message:a}=Ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!ixt(o,s,i.name)){const{message:a}=Ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),De(this,"isValidDisconnect",async n=>{if(!ua(n)){const{message:i}=Ye("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),De(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Di(i,!1))throw new Error("uri is required parameter");if(!Di(s,!1))throw new Error("domain is required parameter");if(!Di(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>k1(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=k1(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),De(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||NE,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Fr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),De(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Ye("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),De(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),De(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),De(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Ye("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),De(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,h;return!n||r!==Fr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((d=n?.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof globalThis?.Linking<"u"}),De(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),De(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=kX(n,"topic")||"",i=decodeURIComponent(kX(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Fr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),De(this,"registerLinkModeListeners",async()=>{var n;if(KB()||fm()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis?.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),De(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(WQ).includes(i.method)}),De(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return Oo(br({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),De(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),De(this,"extractTxHashesFromResult",(n,r)=>{try{const i=WQ[n];if(typeof r=="string")return[r];const s=r[i.key];if(dg(s))return n==="solana_signAllTransactions"?s.map(o=>A5t(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vs.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(SS)?this.client.auth.authKeys.get(SS):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Fr.link_mode?Zf:fu});zp(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:cd(r)})):Bd(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(el.expired,async e=>{const{topic:n,id:r}=Mwe(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ye("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ye("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(lw.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(lw.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Di(e,!1)){const{message:n}=Ye("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Bf(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ye("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Di(e,!1)){const{message:n}=Ye("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ye("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Bf(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ye("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ye("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Di(e,!1)){const{message:n}=Ye("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ye("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!XSt(e)){const{message:n}=Ye("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ye("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Bf(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ye("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class f8t extends Uy{constructor(e,n){super(e,n,Xkt,tz),this.core=e,this.logger=n}}let g8t=class extends Uy{constructor(e,n){super(e,n,Qkt,tz),this.core=e,this.logger=n}};class m8t extends Uy{constructor(e,n){super(e,n,t8t,tz,r=>r.id),this.core=e,this.logger=n}}class w8t extends Uy{constructor(e,n){super(e,n,s8t,q8,()=>SS),this.core=e,this.logger=n}}class y8t extends Uy{constructor(e,n){super(e,n,o8t,q8),this.core=e,this.logger=n}}class b8t extends Uy{constructor(e,n){super(e,n,a8t,q8,r=>r.id),this.core=e,this.logger=n}}var v8t=Object.defineProperty,E8t=(t,e,n)=>e in t?v8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rP=(t,e,n)=>E8t(t,typeof e!="symbol"?e+"":e,n);class C8t{constructor(e,n){this.core=e,this.logger=n,rP(this,"authKeys"),rP(this,"pairingTopics"),rP(this,"requests"),this.authKeys=new w8t(this.core,this.logger),this.pairingTopics=new y8t(this.core,this.logger),this.requests=new b8t(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var _8t=Object.defineProperty,I8t=(t,e,n)=>e in t?_8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mn=(t,e,n)=>I8t(t,typeof e!="symbol"?e+"":e,n);let S8t=class L0e extends a4t{constructor(e){super(e),mn(this,"protocol",D0e),mn(this,"version",U0e),mn(this,"name",tP.name),mn(this,"metadata"),mn(this,"core"),mn(this,"logger"),mn(this,"events",new Ir.EventEmitter),mn(this,"engine"),mn(this,"session"),mn(this,"proposal"),mn(this,"pendingRequest"),mn(this,"auth"),mn(this,"signConfig"),mn(this,"on",(r,i)=>this.events.on(r,i)),mn(this,"once",(r,i)=>this.events.once(r,i)),mn(this,"off",(r,i)=>this.events.off(r,i)),mn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),mn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),mn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),mn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),mn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),mn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||tP.name,this.metadata=B4t(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:pm(Zp({level:e?.logger||tP.logger}));this.core=e?.core||new Jkt(e),this.logger=Yn(n,this.name),this.session=new g8t(this.core,this.logger),this.proposal=new f8t(this.core,this.logger),this.pendingRequest=new m8t(this.core,this.logger),this.engine=new p8t(this),this.auth=new C8t(this.core,this.logger)}static async init(e){const n=new L0e(e);return await n.initialize(),n}get context(){return kr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},Y.toMiliseconds(Y.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const FQ="error",x8t="wss://relay.walletconnect.org",A8t="wc",k8t="universal_provider",ZI=`${A8t}@2:${k8t}:`,j0e="https://rpc.walletconnect.org/v1/",Vb="generic",$8t=`${j0e}bundler`,Ol={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function T8t(){}function nz(t){return t==null||typeof t!="object"&&typeof t!="function"}function rz(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function N8t(t){if(nz(t))return t;if(Array.isArray(t)||rz(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function HQ(t){return typeof t=="object"&&t!==null}function B0e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function z0e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const O8t="[object RegExp]",W0e="[object String]",q0e="[object Number]",F0e="[object Boolean]",H0e="[object Arguments]",P8t="[object Symbol]",R8t="[object Date]",D8t="[object Map]",U8t="[object Set]",M8t="[object Array]",L8t="[object ArrayBuffer]",j8t="[object Object]",B8t="[object DataView]",z8t="[object Uint8Array]",W8t="[object Uint8ClampedArray]",q8t="[object Uint16Array]",F8t="[object Uint32Array]",H8t="[object Int8Array]",V8t="[object Int16Array]",K8t="[object Int32Array]",Z8t="[object Float32Array]",G8t="[object Float64Array]";function Y8t(t,e){return d1(t,void 0,t,new Map,e)}function d1(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(nz(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=d1(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,d1(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(d1(a,void 0,n,r,i));return o}if(typeof window.Buffer<"u"&&window.Buffer.isBuffer(t))return t.subarray();if(rz(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=d1(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),uw(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),uw(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),uw(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,uw(o,t,n,r,i),o}if(typeof t=="object"&&J8t(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),uw(o,t,n,r,i),o}return t}function uw(t,e,n=t,r,i){const s=[...Object.keys(e),...B0e(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=d1(e[a],a,n,r,i))}}function J8t(t){switch(z0e(t)){case H0e:case M8t:case L8t:case B8t:case F0e:case R8t:case Z8t:case G8t:case H8t:case V8t:case K8t:case D8t:case q0e:case j8t:case O8t:case U8t:case W0e:case P8t:case z8t:case W8t:case q8t:case F8t:return!0;default:return!1}}function X8t(t,e){return Y8t(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case q0e:case W0e:case F0e:{const o=new t.constructor(t?.valueOf());return uw(o,t),o}case H0e:{const o={};return uw(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function VQ(t){return X8t(t)}function KQ(t){return t!==null&&typeof t=="object"&&z0e(t)==="[object Arguments]"}function Q8t(t){return rz(t)}function e$t(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function t$t(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=zD(i,o,r,new Map)}return i}function zD(t,e,n,r){if(nz(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return N8t(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...B0e(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(KQ(a)&&(a={...a}),KQ(c)&&(c={...c}),typeof window.Buffer<"u"&&window.Buffer.isBuffer(a)&&(a=VQ(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const p=d[h];u[p]=c[p]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||HQ(c)&&HQ(a)?t[o]=zD(c,a,n,r):c==null&&e$t(a)?t[o]=zD({},a,n,r):c==null&&Q8t(a)?t[o]=VQ(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function n$t(t,...e){return t$t(t,...e,T8t)}var r$t=Object.defineProperty,i$t=Object.defineProperties,s$t=Object.getOwnPropertyDescriptors,ZQ=Object.getOwnPropertySymbols,o$t=Object.prototype.hasOwnProperty,a$t=Object.prototype.propertyIsEnumerable,GQ=(t,e,n)=>e in t?r$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GI=(t,e)=>{for(var n in e||(e={}))o$t.call(e,n)&&GQ(t,n,e[n]);if(ZQ)for(var n of ZQ(e))a$t.call(e,n)&&GQ(t,n,e[n]);return t},c$t=(t,e)=>i$t(t,s$t(e));function kc(t,e,n){var r;const i=k1(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${j0e}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function My(t){return t.includes(":")?t.split(":")[1]:t}function V0e(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function l$t(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function YI(t={},e={}){const n=YQ(t),r=YQ(e);return n$t(n,r)}function YQ(t){var e,n,r,i,s;const o={};if(!hg(t))return o;for(const[a,c]of Object.entries(t)){const l=z8(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},p=u1(a);o[p]=c$t(GI(GI({},o[p]),c),{chains:vd(l,(e=o[p])==null?void 0:e.chains),methods:vd(u,(n=o[p])==null?void 0:n.methods),events:vd(d,(r=o[p])==null?void 0:r.events)}),(hg(h)||hg(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=GI(GI({},h),(s=o[p])==null?void 0:s.rpcMap))}return o}function JQ(t){return t.includes(":")?t.split(":")[2]:t}function XQ(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=z8(n)?[n]:r.chains?r.chains:V0e(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function iP(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const K0e={},Un=t=>K0e[t],sP=(t,e)=>{K0e[t]=e};var u$t=Object.defineProperty,d$t=(t,e,n)=>e in t?u$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ab=(t,e,n)=>d$t(t,typeof e!="symbol"?e+"":e,n);class h$t{constructor(e){Ab(this,"name","polkadot"),Ab(this,"client"),Ab(this,"httpProviders"),Ab(this,"events"),Ab(this,"namespace"),Ab(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=My(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Un("disableProviderPing")))}}var p$t=Object.defineProperty,f$t=Object.defineProperties,g$t=Object.getOwnPropertyDescriptors,QQ=Object.getOwnPropertySymbols,m$t=Object.prototype.hasOwnProperty,w$t=Object.prototype.propertyIsEnumerable,WD=(t,e,n)=>e in t?p$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eee=(t,e)=>{for(var n in e||(e={}))m$t.call(e,n)&&WD(t,n,e[n]);if(QQ)for(var n of QQ(e))w$t.call(e,n)&&WD(t,n,e[n]);return t},tee=(t,e)=>f$t(t,g$t(e)),kb=(t,e,n)=>WD(t,typeof e!="symbol"?e+"":e,n);class y$t{constructor(e){kb(this,"name","eip155"),kb(this,"client"),kb(this,"chainId"),kb(this,"namespace"),kb(this,"httpProviders"),kb(this,"events"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||kc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Un("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(My(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u?.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d?.[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:tee(eee({},u.sessionProperties||{}),{capabilities:tee(eee({},d||{}),{[l]:h})})})}catch(p){console.warn("Failed to update session with capabilities",p)}return h}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Hr("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${$8t}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var b$t=Object.defineProperty,v$t=(t,e,n)=>e in t?b$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$b=(t,e,n)=>v$t(t,typeof e!="symbol"?e+"":e,n);class E$t{constructor(e){$b(this,"name","solana"),$b(this,"client"),$b(this,"httpProviders"),$b(this,"events"),$b(this,"namespace"),$b(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=My(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Un("disableProviderPing")))}}var C$t=Object.defineProperty,_$t=(t,e,n)=>e in t?C$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tb=(t,e,n)=>_$t(t,typeof e!="symbol"?e+"":e,n);class I$t{constructor(e){Tb(this,"name","cosmos"),Tb(this,"client"),Tb(this,"httpProviders"),Tb(this,"events"),Tb(this,"namespace"),Tb(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=My(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Un("disableProviderPing")))}}var S$t=Object.defineProperty,x$t=(t,e,n)=>e in t?S$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nb=(t,e,n)=>x$t(t,typeof e!="symbol"?e+"":e,n);class A$t{constructor(e){Nb(this,"name","algorand"),Nb(this,"client"),Nb(this,"httpProviders"),Nb(this,"events"),Nb(this,"namespace"),Nb(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||kc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Sr(new Yr(r,Un("disableProviderPing")))}}var k$t=Object.defineProperty,$$t=(t,e,n)=>e in t?k$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ob=(t,e,n)=>$$t(t,typeof e!="symbol"?e+"":e,n);class T$t{constructor(e){Ob(this,"name","cip34"),Ob(this,"client"),Ob(this,"httpProviders"),Ob(this,"events"),Ob(this,"namespace"),Ob(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=My(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Un("disableProviderPing")))}}var N$t=Object.defineProperty,O$t=(t,e,n)=>e in t?N$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pb=(t,e,n)=>O$t(t,typeof e!="symbol"?e+"":e,n);class P$t{constructor(e){Pb(this,"name","elrond"),Pb(this,"client"),Pb(this,"httpProviders"),Pb(this,"events"),Pb(this,"namespace"),Pb(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=My(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Un("disableProviderPing")))}}var R$t=Object.defineProperty,D$t=(t,e,n)=>e in t?R$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rb=(t,e,n)=>D$t(t,typeof e!="symbol"?e+"":e,n);class U$t{constructor(e){Rb(this,"name","multiversx"),Rb(this,"client"),Rb(this,"httpProviders"),Rb(this,"events"),Rb(this,"namespace"),Rb(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=My(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Un("disableProviderPing")))}}var M$t=Object.defineProperty,L$t=(t,e,n)=>e in t?M$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Db=(t,e,n)=>L$t(t,typeof e!="symbol"?e+"":e,n);class j$t{constructor(e){Db(this,"name","near"),Db(this,"client"),Db(this,"httpProviders"),Db(this,"events"),Db(this,"namespace"),Db(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||kc(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace);return typeof r>"u"?void 0:new Sr(new Yr(r,Un("disableProviderPing")))}}var B$t=Object.defineProperty,z$t=(t,e,n)=>e in t?B$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ub=(t,e,n)=>z$t(t,typeof e!="symbol"?e+"":e,n);class W$t{constructor(e){Ub(this,"name","tezos"),Ub(this,"client"),Ub(this,"httpProviders"),Ub(this,"events"),Ub(this,"namespace"),Ub(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||kc(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace);return typeof r>"u"?void 0:new Sr(new Yr(r))}}var q$t=Object.defineProperty,F$t=(t,e,n)=>e in t?q$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mb=(t,e,n)=>F$t(t,typeof e!="symbol"?e+"":e,n);class H$t{constructor(e){Mb(this,"name",Vb),Mb(this,"client"),Mb(this,"httpProviders"),Mb(this,"events"),Mb(this,"namespace"),Mb(this,"chainId"),this.namespace=e.namespace,this.events=Un("events"),this.client=Un("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ol.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=k1(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||kc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Sr(new Yr(r,Un("disableProviderPing")))}}var V$t=Object.defineProperty,K$t=Object.defineProperties,Z$t=Object.getOwnPropertyDescriptors,nee=Object.getOwnPropertySymbols,G$t=Object.prototype.hasOwnProperty,Y$t=Object.prototype.propertyIsEnumerable,qD=(t,e,n)=>e in t?V$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JI=(t,e)=>{for(var n in e||(e={}))G$t.call(e,n)&&qD(t,n,e[n]);if(nee)for(var n of nee(e))Y$t.call(e,n)&&qD(t,n,e[n]);return t},oP=(t,e)=>K$t(t,Z$t(e)),Yc=(t,e,n)=>qD(t,typeof e!="symbol"?e+"":e,n);class iz{constructor(e){Yc(this,"client"),Yc(this,"namespaces"),Yc(this,"optionalNamespaces"),Yc(this,"sessionProperties"),Yc(this,"scopedProperties"),Yc(this,"events",new jp),Yc(this,"rpcProviders",{}),Yc(this,"session"),Yc(this,"providerOpts"),Yc(this,"logger"),Yc(this,"uri"),Yc(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:pm(Zp({level:e?.logger||FQ})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new iz(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:JI({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,gc(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:or("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=XQ(this.session.namespaces);this.namespaces=YI(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=XQ(i.namespaces);return this.namespaces=YI(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===Vb?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(dg(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await S8t.init({core:this.providerOpts.core,logger:this.providerOpts.logger||FQ,relayUrl:this.providerOpts.relayUrl||x8t,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>u1(n)))];sP("client",this.client),sP("events",this.events),sP("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=l$t(n,this.session),i=V0e(r),s=YI(this.namespaces,this.optionalNamespaces),o=oP(JI({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new y$t({namespace:o});break;case"algorand":this.rpcProviders[n]=new A$t({namespace:o});break;case"solana":this.rpcProviders[n]=new E$t({namespace:o});break;case"cosmos":this.rpcProviders[n]=new I$t({namespace:o});break;case"polkadot":this.rpcProviders[n]=new h$t({namespace:o});break;case"cip34":this.rpcProviders[n]=new T$t({namespace:o});break;case"elrond":this.rpcProviders[n]=new P$t({namespace:o});break;case"multiversx":this.rpcProviders[n]=new U$t({namespace:o});break;case"near":this.rpcProviders[n]=new j$t({namespace:o});break;case"tezos":this.rpcProviders[n]=new W$t({namespace:o});break;default:this.rpcProviders[Vb]?this.rpcProviders[Vb].updateNamespace(o):this.rpcProviders[Vb]=new H$t({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&dg(o)&&this.events.emit("accountsChanged",o.map(JQ))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=u1(o),l=iP(o)!==iP(a)?`${c}:${iP(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=oP(JI({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",oP(JI({},or("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ol.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Vb]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=YI(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>u1(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=u1(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(JQ);if(!dg(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${ZI}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${ZI}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${ZI}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(ZI)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}function XI(t,e){return Le.getConnectorId(t)===e}function J$t(t){const e=Array.from(G.state.chains.keys());let n=[];return t?(n.push([t,G.state.chains.get(t)]),XI(t,vt.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&XI(r,vt.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,G.state.chains.get(r)])}):XI(t,vt.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&XI(r,vt.CONNECTOR_ID.AUTH)&&n.push([r,G.state.chains.get(r)])})):n=Array.from(G.state.chains.entries()),n}const Tf={EIP155:"eip155",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},uA={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[vt.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[vt.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[vt.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[vt.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[vt.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[vt.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[vt.CONNECTOR_ID.INJECTED]:"Browser Wallet",[vt.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[vt.CONNECTOR_ID.COINBASE]:"Coinbase",[vt.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[vt.CONNECTOR_ID.LEDGER]:"Ledger",[vt.CONNECTOR_ID.SAFE]:"Safe"}},sz={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Tf.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()}};new AbortController;const Lb={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${X$t()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function X$t(){return typeof window<"u"}const Q$t={createLogger(t,e="error"){const n=Zp({level:e}),{logger:r}=qB({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},eTt="rpc.walletconnect.org";function ree(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const aP=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Kb={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===eTt}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:vt.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${vt.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const r=t.rpcUrls?.default?.http?.[0];return aP.includes(e)?ree(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls.default.http?.[0],a=this.getDefaultRpcUrl(t,s,n),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=r?.[s]?.map(h=>h.url)||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:uA.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>Kb.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){const r=[];return n?.forEach(i=>{r.push(mo(i.url,i.config))}),aP.includes(t.caipNetworkId)&&r.push(mo(ree(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{r.push(mo(i))}),RE(r)},extendWagmiTransports(t,e,n){if(aP.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return RE([n,mo(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:vt.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=gt.getActiveCaipNetworkId(),n=G.getAllRequestedCaipNetworks(),r=Array.from(G.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?r.includes(i):!1,o=n?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||n?.[0]}},dA={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},oa=jr({providers:{...dA},providerIds:{...dA}}),Qr={state:oa,subscribeKey(t,e){return Xs(oa,t,e)},subscribe(t){return Vs(oa,()=>{t(oa)})},subscribeProviders(t){return Vs(oa.providers,()=>t(oa.providers))},setProvider(t,e){e&&(oa.providers[t]=B0(e))},getProvider(t){return oa.providers[t]},setProviderId(t,e){e&&(oa.providerIds[t]=e)},getProviderId(t){if(t)return oa.providerIds[t]},reset(){oa.providers={...dA},oa.providerIds={...dA}},resetChain(t){oa.providers[t]=void 0,oa.providerIds[t]=void 0}},ng={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},H0={filterOutDuplicatesByRDNS(t){const e=Ie.state.enableEIP6963?Le.state.connectors:[],n=gt.getRecentWallets(),r=e.map(a=>a.info?.rdns).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&We.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a?.rdns)))},filterOutDuplicatesByIds(t){const e=Le.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=gt.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Le.state,{featuredWalletIds:n}=Ie.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n?.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||Ie.state.features?.connectMethodsOrder,r=e||Le.state.connectors;if(n)return n;const{injected:i,announced:s}=pp.getConnectorsByType(r,Ve.state.recommended,Ve.state.featured),o=i.filter(pp.showConnector),a=s.filter(pp.showConnector);return o.length||a.length?["wallet","email","social"]:ng.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ve.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Ve.state.excludedWallets.some(r=>sz.isLowerCaseMatch(r.name,t.name));return e||n}},pp={getConnectorsByType(t,e,n){const{customWallets:r}=Ie.state,i=gt.getRecentWallets(),s=H0.filterOutDuplicateWallets(e),o=H0.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,n=!!e&&Ve.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&Ve.state.excludedWallets.some(i=>sz.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!We.isMobile()||We.isMobile()&&!e&&!Je.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(G.state.chains.values()).some(n=>Le.getConnectorId(n.namespace)===vt.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=Ie.state.features?.connectorTypeOrder??[]}){const l=pp.getIsConnectedWithWC(),h=[{type:"walletConnect",isEnabled:Ie.state.enableWalletConnect&&!l},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(m=>m.isEnabled),p=new Set(h.map(m=>m.type)),f=c.filter(m=>p.has(m)).map(m=>({type:m,isEnabled:!0})),g=h.filter(({type:m})=>!f.some(({type:y})=>y===m));return Array.from(new Set([...f,...g].map(({type:m})=>m)))}};let PE,pg,fg;function tTt(t,e){PE=document.createElement("style"),pg=document.createElement("style"),fg=document.createElement("style"),PE.textContent=$1(t).core.cssText,pg.textContent=$1(t).dark.cssText,fg.textContent=$1(t).light.cssText,document.head.appendChild(PE),document.head.appendChild(pg),document.head.appendChild(fg),Z0e(e)}function Z0e(t){pg&&fg&&(t==="light"?(pg.removeAttribute("media"),fg.media="enabled"):(fg.removeAttribute("media"),pg.media="enabled"))}function nTt(t){PE&&pg&&fg&&(PE.textContent=$1(t).core.cssText,pg.textContent=$1(t).dark.cssText,fg.textContent=$1(t).light.cssText)}function $1(t){return{core:Be`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${pi(t?.["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${pi(t?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${pi(t?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${pi(t?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${pi(t?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Be`
      :root {
        --w3m-color-mix: ${pi(t?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${pi(eg(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${pi(eg(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Be`
      :root {
        --w3m-color-mix: ${pi(t?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${pi(eg(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${pi(eg(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const qn=Be`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,eo=Be`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,o5=Be`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,gs={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--wui-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--wui-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:n,truncate:r}){return t.length<=e+n?t:r==="end"?`${t.substring(0,e)}...`:r==="start"?`...${t.substring(t.length-n)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(n))}`},generateAvatarColors(t){const n=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(n),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(r,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]},tintColor(t,e){const[n,r,i]=t,s=Math.round(n+(255-n)*e),o=Math.round(r+(255-r)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){return t||(typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,n){return t.toString().length>=e?Number(t).toFixed(n):t},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})}};function rTt(t,e){const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function iTt(t,e){return customElements.get(t)||customElements.define(t,e),e}function pt(t){return function(n){return typeof n=="function"?iTt(t,n):rTt(t,n)}}const cE={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function a5(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const iee=a5({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),see=a5({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});a5({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});a5({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});a5({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const sTt={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},xS={getMethodsByChainNamespace(t){return sTt[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=r[o];switch(u.chains.push(l),l){case iee.caipNetworkId:u.chains.push(iee.deprecatedCaipNetworkId);break;case see.caipNetworkId:u.chains.push(see.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await $E.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class G0e{constructor({provider:e,namespace:n}){this.id=vt.CONNECTOR_ID.WALLET_CONNECT,this.name=uA.ConnectorNamesMap[vt.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=uA.ConnectorImageIds[vt.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=G.getCaipNetworks.bind(G),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=Ie.state.universalProviderConfigOverride,i=xS.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Bw.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:oTt})}}const oTt=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class aTt{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>G.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:vt.CONNECTOR_ID.AUTH,type:"AUTH",name:vt.CONNECTOR_NAMES.AUTH,provider:e,imageId:uA.ConnectorImageIds[vt.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){wt.setStatus(e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const s=i,o=wt.state.preferredAccountTypes?.[n.chainNamespace];await s.switchNetwork(n.caipNetworkId);const a=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof G0e);if(!e)throw new Error("WalletConnectConnector not found");return e}}class cTt extends aTt{setUniversalProvider(e){this.addConnector(new G0e({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){const r=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:r.map(i=>We.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&nr.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(wt.state.balanceLoading&&e.chainId===G.state.activeCaipNetwork?.id)return{balance:wt.state.balance||"0.00",symbol:wt.state.balanceSymbol||""};const i=(await wt.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return G.state.activeCaipNetwork?.chainNamespace===vt.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:Bp.encode(new TextEncoder().encode(r)),pubkey:i}},G.state.activeCaipNetwork?.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},G.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===vt.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:wo(n.id)}]})}catch(i){if(i.code===cE.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===cE.ERROR_INVALID_CHAIN_ID||i.code===cE.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===cE.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:wo(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const lTt=["email","socials","swaps","onramp","activity","reownBranding"],QI={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?nr.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?nr.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?nr.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?nr.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?nr.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?nr.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?nr.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?nr.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?nr.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},uTt={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=QI[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,i){const s=QI[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(s.apiFeatureName,n);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return QI[t].processApi(e)},processFallbackFeature(t,e){return QI[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,i=!1;try{r=await Ve.fetchProjectConfig(),i=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?nr.DEFAULT_REMOTE_FEATURES:nr.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of lTt){const a=this.processFeature(o,n,r,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),nr.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;au.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return s}};class dTt{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const i=G.getNetworkData(n)?.requestedCaipNetworks?.find(a=>a.id===r);if(i)return i;const s=G.getNetworkData(n)?.caipNetwork;return s||G.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return G.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>G.getCaipNetworks(n),this.getActiveChainNamespace=()=>G.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{G.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>G.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>G.state.activeChain===n||!n?G.state.activeCaipAddress:G.getAccountProp("caipAddress",n),this.setClientId=n=>{$t.setClientId(n)},this.getProvider=n=>Qr.getProvider(n),this.getProviderType=n=>Qr.getProviderId(n),this.getPreferredAccountType=n=>wt.state.preferredAccountTypes?.[n],this.setCaipAddress=(n,r)=>{wt.setCaipAddress(n,r),n&&Ie.state.enableEmbedded&&this.close()},this.setBalance=(n,r,i)=>{wt.setBalance(n,r,i)},this.setProfileName=(n,r)=>{wt.setProfileName(n,r)},this.setProfileImage=(n,r)=>{wt.setProfileImage(n,r)},this.setUser=(n,r)=>{wt.setUser(n,r)},this.resetAccount=n=>{wt.resetAccount(n)},this.setCaipNetwork=n=>{G.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{G.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{wt.setAllAccounts(n,r),Ie.setHasMultipleAddresses(n?.length>1)},this.setStatus=(n,r)=>{wt.setStatus(n,r),Le.isConnected()?gt.setConnectionStatus("connected"):gt.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>G.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Le.state.allConnectors,...n];Le.setConnectors(r)},this.setConnections=(n,r)=>{Je.setConnections(n,r)},this.fetchIdentity=n=>$t.fetchIdentity(n),this.getReownName=n=>$E.getNamesForAddress(n),this.getConnectors=()=>Le.getConnectors(),this.getConnectorImage=n=>Gi.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=Qr.getProviderId(r),s=n?{...n,type:i}:void 0;wt.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!G.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{wt.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{wt.removeAddressLabel(n,r)},this.getAddress=n=>G.state.activeChain===n||!n?wt.state.address:G.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>G.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{G.resetNetwork(n)},this.addConnector=n=>{Le.addConnector(n)},this.resetWcConnection=()=>{Je.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{wt.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{wt.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{G.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{wt.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{Ie.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e?.map(s=>s.namespace).filter(s=>!!s);if(r?.length)return[...new Set(r)];const i=n?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await uTt.fetchRemoteFeatures(e),Ie.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&fD.setOnrampProviders(this.remoteFeatures.onramp),(Ie.state.remoteFeatures?.email||Array.isArray(Ie.state.remoteFeatures?.socials)&&Ie.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await Ve.fetchAllowedOrigins();if(e&&We.isClient()){const n=window.location.origin;xS.isOriginAllowed(n,e,cE.DEFAULT_ALLOWED_ANCESTORS)||au.open(Lb.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else au.open(Lb.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,un.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(r=>r.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Bs.setThemeMode(e.themeMode),e.themeVariables&&Bs.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");G.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&G.setActiveCaipNetwork(n)}initializeConnectionController(e){Je.setWcBasic(e.basic??!1)}initializeConnectorController(){Le.initialize(this.chainNamespaces)}initializeProjectSettings(e){Ie.setProjectId(e.projectId),Ie.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){Ie.setDebug(e.debug!==!1),Ie.setEnableWalletConnect(e.enableWalletConnect!==!1),Ie.setEnableWalletGuide(e.enableWalletGuide!==!1),Ie.setEnableWallets(e.enableWallets!==!1),Ie.setEIP6963Enabled(e.enableEIP6963!==!1),Ie.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Ie.setEnableAuthLogger(e.enableAuthLogger!==!1),Ie.setCustomRpcUrls(e.customRpcUrls),Ie.setEnableEmbedded(e.enableEmbedded),Ie.setAllWallets(e.allWallets),Ie.setIncludeWalletIds(e.includeWalletIds),Ie.setExcludeWalletIds(e.excludeWalletIds),Ie.setFeaturedWalletIds(e.featuredWalletIds),Ie.setTokens(e.tokens),Ie.setTermsConditionsUrl(e.termsConditionsUrl),Ie.setPrivacyPolicyUrl(e.privacyPolicyUrl),Ie.setCustomWallets(e.customWallets),Ie.setFeatures(e.features),Ie.setAllowUnsupportedChain(e.allowUnsupportedChain),Ie.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Ie.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Ie.setDefaultAccountTypes(e.defaultAccountTypes);const n=gt.getPreferredAccountTypes()||{},r={...Ie.state.defaultAccountTypes,...n};wt.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),Ie.setMetadata(e.metadata),Ie.setDisableAppend(e.disableAppend),Ie.setEnableEmbedded(e.enableEmbedded),Ie.setSIWX(e.siwx),!e.projectId){au.open(Lb.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(o=>o.namespace===vt.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Ie.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return We.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Kb.getUnsupportedNetwork(`${n}:${e}`);G.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Kb.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Kb.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Kb.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>i.id===e.defaultNetwork?.id);return n?Kb.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=Qr.getProvider(e),i=Qr.getProviderId(e),{caipAddress:s}=G.getAccountData(e)||{};this.setLoading(!0,e),s&&n?.disconnect&&await n.disconnect({provider:r,providerType:i}),gt.removeConnectedNamespace(e),Qr.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),Le.removeConnectorId(e),G.resetAccount(e),G.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=G.state.activeChain,n=this.getAdapter(e),r=this.getCaipNetwork(e)?.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId(i?.clientId||null),gt.setConnectedNamespaces([...G.state.chains.keys()]),this.chainNamespaces.forEach(s=>{Le.setConnectorId(Tf.CONNECTOR_TYPE_WALLET_CONNECT,s)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o,socialUri:a})=>{const c=G.state.activeChain,l=s||c,u=this.getAdapter(l);if(s&&s!==c&&!o){const g=this.getCaipNetworks().find(m=>m.chainNamespace===s);g&&this.setCaipNetwork(g)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:i,socialUri:a,chainId:o?.id||d?.id,rpcUrl:o?.rpcUrls?.default?.http?.[0]||d?.rpcUrls?.default?.http?.[0]});if(!h)return;gt.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const p=wt.state.allAccounts,{accounts:f}=p?.length>0?{accounts:[...p]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(f,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{const s=G.state.activeChain,o=this.getAdapter(s);o?.reconnect&&(await o?.reconnect({id:e,info:n,type:r,provider:i,chainId:this.getCaipNetwork()?.id}),gt.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const n=J$t(e);try{const r=await Promise.allSettled(n.map(async([s])=>this.disconnectNamespace(s)));jn.resetSend(),Je.resetWcConnection(),await Bw.clearSessions(),Le.setFilterByNamespace(void 0);const i=r.filter(s=>s.status==="rejected");if(i.length>0)throw new Error(i.map(s=>s.reason.message).join(", "));gt.deleteConnectedSocialProvider(),un.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>(await this.getAdapter(G.state.activeChain)?.signMessage({message:e,address:wt.state.address,provider:Qr.getProvider(G.state.activeChain)}))?.signature||"",sendTransaction:async e=>{const n=e.chainNamespace;if(nr.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(G.state.activeChain),i=Qr.getProvider(n);return(await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{if(e.chainNamespace===vt.CHAIN.EVM){const n=this.getAdapter(G.state.activeChain),r=Qr.getProvider(G.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");return(await n?.estimateGas({...e,provider:r,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>(await this.syncIdentity({address:wt.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:G.state.activeChain}),wt.state.profileImage||!1),getEnsAddress:async e=>await xS.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(G.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=Qr.getProvider(G.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");return(await n?.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}))?.hash},parseUnits:(e,n)=>this.getAdapter(G.state.activeChain)?.parseUnits({value:e,decimals:n})??0n,formatUnits:(e,n)=>this.getAdapter(G.state.activeChain)?.formatUnits({value:e,decimals:n})??"0",getCapabilities:async e=>await this.getAdapter(G.state.activeChain)?.getCapabilities(e),grantPermissions:async e=>await this.getAdapter(G.state.activeChain)?.grantPermissions(e),revokePermissions:async e=>{const n=this.getAdapter(G.state.activeChain);return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>await this.getAdapter(G.state.activeChain)?.walletGetAssets(e)??{},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!wt.state.address||this.updateNativeBalance(wt.state.address,n?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Je.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(Qr.getProviderId(G.state.activeChain)===Tf.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Qr.getProvider(n),s=Qr.getProviderId(n);if(e.chainNamespace===G.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===Tf.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=_f.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const i=e?.find(s=>s.namespace===r);return i?(i.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new cTt({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=gt.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(gt.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=G.state.activeChain===e,c=G.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=wt.state.address,s=G.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{const o=G.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&G.state.activeCaipNetwork?.id?this.syncAccount({address:i,chainId:G.state.activeCaipNetwork?.id,chainNamespace:e}):this.syncAccountInfo(i,s,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===vt.CHAIN.EVM&&We.isSafeApp()&&Le.setConnectorId(vt.CONNECTOR_ID.SAFE,e);const n=Le.getConnectorId(e);switch(this.setStatus("connecting",e),n){case vt.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case vt.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){const n=this.getAdapter(e),r=Le.getConnectorId(e),i=this.getCaipNetwork(e),o=Le.getConnectors(e).find(a=>a.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const a=await n?.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});if(a){const c=await n?.getAccounts({namespace:e,id:o.id});c&&c.accounts.length>0?this.setAllAccounts(c.accounts,e):this.setAllAccounts([We.createAccount(e,a.address,"eoa")],e),this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{const r=this.getAdapter(n),i=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],s=G.state.activeCaipNetwork?.id,o=i.find(a=>{const{chainId:c}=_f.parseCaipAddress(a);return c===s?.toString()})||i[0];if(o){const a=_f.validateCaipAddress(o),{chainId:c,address:l}=_f.parseCaipAddress(a);if(Qr.setProviderId(n,Tf.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&G.state.activeCaipNetwork&&r?.namespace!==vt.CHAIN.EVM){const u=r?.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:G.state.activeCaipNetwork});Qr.setProvider(n,u)}else Qr.setProvider(n,this.universalProvider);Le.setConnectorId(vt.CONNECTOR_ID.WALLET_CONNECT,n),gt.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:l,chainId:c,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await G.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){const n=this.universalProvider?.session?.namespaces?.[e]?.accounts?.map(r=>{const{address:i}=_f.parseCaipAddress(r);return i}).filter((r,i,s)=>s.indexOf(r)===i);n&&this.setAllAccounts(n.map(r=>We.createAccount(e,r,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){Qr.setProviderId(i,e),Qr.setProvider(i,n),Le.setConnectorId(r,i)}async syncAllAccounts(e){const n=Le.getConnectorId(e);if(!n)return;const i=await this.getAdapter(e)?.getAccounts({namespace:e,id:n});i&&i.accounts.length>0&&this.setAllAccounts(i.accounts,e)}async syncAccount(e){const n=e.chainNamespace===G.state.activeChain,r=G.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=gt.getActiveNetworkProps(),c=s||a,l=G.state.activeCaipNetwork?.name===vt.UNSUPPORTED_NETWORK_NAME,u=G.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let d=this.getCaipNetworks().find(f=>f.id.toString()===c.toString()),h=this.getCaipNetworks().find(f=>f.chainNamespace===o);if(!u&&!d&&!h){const f=this.getApprovedCaipNetworkIds()||[],g=f.find(b=>_f.parseCaipNetworkId(b)?.chainId===c.toString()),m=f.find(b=>_f.parseCaipNetworkId(b)?.chainNamespace===o);d=this.getCaipNetworks().find(b=>b.caipNetworkId===g),h=this.getCaipNetworks().find(b=>b.caipNetworkId===m||"deprecatedCaipNetworkId"in b&&b.deprecatedCaipNetworkId===m)}const p=d||h;p?.chainNamespace===G.state.activeChain?Ie.state.enableNetworkSwitch&&!Ie.state.allowUnsupportedChain&&G.state.activeCaipNetwork?.name===vt.UNSUPPORTED_NETWORK_NAME?G.showUnsupportedChainUI():this.setCaipNetwork(p):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),sz.isLowerCaseMatch(i,wt.state.address)||this.syncAccountInfo(i,p?.id,o),n?await this.syncBalance({address:i,chainId:p?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r?.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||i?.split(":")[1];if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=Le.getConnectorId(e),r=Qr.getProviderId(e);if(r===Tf.CONNECTOR_TYPE_ANNOUNCED||r===Tf.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(s=>s.id===n);if(i){const{info:s,name:o,imageUrl:a}=i,c=a||this.getConnectorImage(i);this.setConnectedWalletInfo({name:o,icon:c,...s},e)}}}else if(r===Tf.CONNECTOR_TYPE_WALLET_CONNECT){const i=Qr.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(n&&n===vt.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(s=>s.id===vt.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!vwe.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>r.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=G.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const e=Q$t.createLogger((r,...i)=>{r&&this.handleAlertError(r),console.error(...i)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};Ie.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await iz.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Je.setUri(e)}),this.universalProvider.on("connect",Je.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Je.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}r?.id!==n?.id&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(xS.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&We.isCaipAddress(r[0])&&this.syncAccount(_f.parseCaipAddress(r[0]))}}))}createUniversalProvider(){return!this.universalProviderInitPromise&&We.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){un.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Lb.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=Lb.ALERT_ERRORS[o];a&&(au.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e?.uri&&Je.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return Gn.open({...e,data:{swap:e.arguments}})}return Gn.open(e)}async close(){await this.injectModalUi(),Gn.close()}setLoading(e,n){Gn.setLoading(e,n)}async disconnect(e){await Je.disconnect(e)}getSIWX(){return Ie.state.siwx}getError(){return""}getChainId(){return G.state.activeCaipNetwork?.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){au.open(Lb.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await G.switchActiveNetwork(n)}getWalletProvider(){return G.state.activeChain?Qr.state.providers[G.state.activeChain]:null}getWalletProviderType(){return Qr.getProviderId(G.state.activeChain)}subscribeProviders(e){return Qr.subscribeProviders(e)}getThemeMode(){return Bs.state.themeMode}getThemeVariables(){return Bs.state.themeVariables}setThemeMode(e){Bs.setThemeMode(e),Z0e(Bs.state.themeMode)}setTermsConditionsUrl(e){Ie.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Ie.setPrivacyPolicyUrl(e)}setThemeVariables(e){Bs.setThemeVariables(e),nTt(Bs.state.themeVariables)}subscribeTheme(e){return Bs.subscribe(e)}getWalletInfo(){return wt.state.connectedWalletInfo}getAccount(e){const n=Le.getAuthConnector(e),r=G.getAccountData(e),i=G.state.activeChain,s=gt.getConnectedConnectorId(e||i);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:We.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&s===vt.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:gt.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:r.preferredAccountTypes?.[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?G.subscribeChainProp("accountState",r,n):G.subscribe(r),Le.subscribe(r)}subscribeNetwork(e){return G.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e){return wt.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){wt.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){G.subscribeKey("activeCaipNetwork",e)}getState(){return lg.state}subscribeState(e){return lg.subscribe(e)}showErrorMessage(e){vi.showError(e)}showSuccessMessage(e){vi.showSuccess(e)}getEvent(){return{...un.state}}subscribeEvents(e){return un.subscribe(e)}replace(e){He.replace(e)}redirect(e){He.push(e)}popTransactionStack(e){He.popTransactionStack(e)}isOpen(){return Gn.state.open}isTransactionStackEmpty(){return He.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Ie.setFeatures(e)}updateRemoteFeatures(e){Ie.setRemoteFeatures(e)}updateOptions(e){const r={...Ie.state||{},...e};Ie.setOptions(r)}setConnectMethodsOrder(e){Ie.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Ie.setWalletFeaturesOrder(e)}setCollapseWallets(e){Ie.setCollapseWallets(e)}setSocialsOrder(e){Ie.setSocialsOrder(e)}getConnectMethodsOrder(){return H0.getConnectOrderMethod(Ie.state.features,Le.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||G.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&G.removeNetwork(e,n)}}let oee=!1;class Y0e extends dTt{async open(e){Le.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&Je.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!oee&&We.isClient()){if(await fe(()=>Promise.resolve().then(()=>mNt),void 0),await fe(()=>Promise.resolve().then(()=>ONt),void 0),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!Ie.state.disableAppend&&!Ie.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}oee=!0}}}const hTt="1.7.8";function pTt(t){return new Y0e({...t,basic:!0,sdkVersion:`html-core-${hTt}`})}const fTt=Object.freeze(Object.defineProperty({__proto__:null,AppKit:Y0e,createAppKit:pTt},Symbol.toStringTag,{value:"Module"})),gTt=Be`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var Rc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Zo=class extends Q{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&gs.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&gs.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&gs.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&gs.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&gs.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&gs.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&gs.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&gs.getSpacingStyles(this.margin,3)};
    `,$`<slot></slot>`}};Zo.styles=[qn,gTt];Rc([L()],Zo.prototype,"flexDirection",void 0);Rc([L()],Zo.prototype,"flexWrap",void 0);Rc([L()],Zo.prototype,"flexBasis",void 0);Rc([L()],Zo.prototype,"flexGrow",void 0);Rc([L()],Zo.prototype,"flexShrink",void 0);Rc([L()],Zo.prototype,"alignItems",void 0);Rc([L()],Zo.prototype,"justifyContent",void 0);Rc([L()],Zo.prototype,"columnGap",void 0);Rc([L()],Zo.prototype,"rowGap",void 0);Rc([L()],Zo.prototype,"gap",void 0);Rc([L()],Zo.prototype,"padding",void 0);Rc([L()],Zo.prototype,"margin",void 0);Zo=Rc([pt("wui-flex")],Zo);class mTt{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class wTt{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise((e=>this.Z=e))}resume(){this.Z?.(),this.Y=this.Z=void 0}}const aee=t=>!mZe(t)&&typeof t.then=="function",cee=1073741823;class yTt extends Zse{constructor(){super(...arguments),this._$Cwt=cee,this._$Cbt=[],this._$CK=new mTt(this),this._$CX=new wTt}render(...e){return e.find((n=>!aee(n)))??yp}update(e,n){const r=this._$Cbt;let i=r.length;this._$Cbt=n;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<n.length&&!(a>this._$Cwt);a++){const c=n[a];if(!aee(c))return this._$Cwt=a,c;a<i&&c===r[a]||(this._$Cwt=cee,i=0,Promise.resolve(c).then((async l=>{for(;o.get();)await o.get();const u=s.deref();if(u!==void 0){const d=u._$Cbt.indexOf(c);d>-1&&d<u._$Cwt&&(u._$Cwt=d,u.setValue(l))}})))}return yp}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const bTt=aM(yTt);class vTt{constructor(){this.cache=new Map}set(e,n){this.cache.set(e,n)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const cP=new vTt,ETt=Be`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`;var c5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const lee={add:async()=>(await fe(async()=>{const{addSvg:t}=await Promise.resolve().then(()=>RNt);return{addSvg:t}},void 0)).addSvg,allWallets:async()=>(await fe(async()=>{const{allWalletsSvg:t}=await Promise.resolve().then(()=>UNt);return{allWalletsSvg:t}},void 0)).allWalletsSvg,arrowBottomCircle:async()=>(await fe(async()=>{const{arrowBottomCircleSvg:t}=await Promise.resolve().then(()=>LNt);return{arrowBottomCircleSvg:t}},void 0)).arrowBottomCircleSvg,appStore:async()=>(await fe(async()=>{const{appStoreSvg:t}=await Promise.resolve().then(()=>BNt);return{appStoreSvg:t}},void 0)).appStoreSvg,apple:async()=>(await fe(async()=>{const{appleSvg:t}=await Promise.resolve().then(()=>WNt);return{appleSvg:t}},void 0)).appleSvg,arrowBottom:async()=>(await fe(async()=>{const{arrowBottomSvg:t}=await Promise.resolve().then(()=>FNt);return{arrowBottomSvg:t}},void 0)).arrowBottomSvg,arrowLeft:async()=>(await fe(async()=>{const{arrowLeftSvg:t}=await Promise.resolve().then(()=>VNt);return{arrowLeftSvg:t}},void 0)).arrowLeftSvg,arrowRight:async()=>(await fe(async()=>{const{arrowRightSvg:t}=await Promise.resolve().then(()=>ZNt);return{arrowRightSvg:t}},void 0)).arrowRightSvg,arrowTop:async()=>(await fe(async()=>{const{arrowTopSvg:t}=await Promise.resolve().then(()=>YNt);return{arrowTopSvg:t}},void 0)).arrowTopSvg,bank:async()=>(await fe(async()=>{const{bankSvg:t}=await Promise.resolve().then(()=>XNt);return{bankSvg:t}},void 0)).bankSvg,browser:async()=>(await fe(async()=>{const{browserSvg:t}=await Promise.resolve().then(()=>eOt);return{browserSvg:t}},void 0)).browserSvg,card:async()=>(await fe(async()=>{const{cardSvg:t}=await Promise.resolve().then(()=>nOt);return{cardSvg:t}},void 0)).cardSvg,checkmark:async()=>(await fe(async()=>{const{checkmarkSvg:t}=await Promise.resolve().then(()=>iOt);return{checkmarkSvg:t}},void 0)).checkmarkSvg,checkmarkBold:async()=>(await fe(async()=>{const{checkmarkBoldSvg:t}=await Promise.resolve().then(()=>oOt);return{checkmarkBoldSvg:t}},void 0)).checkmarkBoldSvg,chevronBottom:async()=>(await fe(async()=>{const{chevronBottomSvg:t}=await Promise.resolve().then(()=>cOt);return{chevronBottomSvg:t}},void 0)).chevronBottomSvg,chevronLeft:async()=>(await fe(async()=>{const{chevronLeftSvg:t}=await Promise.resolve().then(()=>uOt);return{chevronLeftSvg:t}},void 0)).chevronLeftSvg,chevronRight:async()=>(await fe(async()=>{const{chevronRightSvg:t}=await Promise.resolve().then(()=>hOt);return{chevronRightSvg:t}},void 0)).chevronRightSvg,chevronTop:async()=>(await fe(async()=>{const{chevronTopSvg:t}=await Promise.resolve().then(()=>fOt);return{chevronTopSvg:t}},void 0)).chevronTopSvg,chromeStore:async()=>(await fe(async()=>{const{chromeStoreSvg:t}=await Promise.resolve().then(()=>mOt);return{chromeStoreSvg:t}},void 0)).chromeStoreSvg,clock:async()=>(await fe(async()=>{const{clockSvg:t}=await Promise.resolve().then(()=>yOt);return{clockSvg:t}},void 0)).clockSvg,close:async()=>(await fe(async()=>{const{closeSvg:t}=await Promise.resolve().then(()=>vOt);return{closeSvg:t}},void 0)).closeSvg,compass:async()=>(await fe(async()=>{const{compassSvg:t}=await Promise.resolve().then(()=>COt);return{compassSvg:t}},void 0)).compassSvg,coinPlaceholder:async()=>(await fe(async()=>{const{coinPlaceholderSvg:t}=await Promise.resolve().then(()=>IOt);return{coinPlaceholderSvg:t}},void 0)).coinPlaceholderSvg,copy:async()=>(await fe(async()=>{const{copySvg:t}=await Promise.resolve().then(()=>xOt);return{copySvg:t}},void 0)).copySvg,cursor:async()=>(await fe(async()=>{const{cursorSvg:t}=await Promise.resolve().then(()=>kOt);return{cursorSvg:t}},void 0)).cursorSvg,cursorTransparent:async()=>(await fe(async()=>{const{cursorTransparentSvg:t}=await Promise.resolve().then(()=>TOt);return{cursorTransparentSvg:t}},void 0)).cursorTransparentSvg,desktop:async()=>(await fe(async()=>{const{desktopSvg:t}=await Promise.resolve().then(()=>OOt);return{desktopSvg:t}},void 0)).desktopSvg,disconnect:async()=>(await fe(async()=>{const{disconnectSvg:t}=await Promise.resolve().then(()=>ROt);return{disconnectSvg:t}},void 0)).disconnectSvg,discord:async()=>(await fe(async()=>{const{discordSvg:t}=await Promise.resolve().then(()=>UOt);return{discordSvg:t}},void 0)).discordSvg,etherscan:async()=>(await fe(async()=>{const{etherscanSvg:t}=await Promise.resolve().then(()=>LOt);return{etherscanSvg:t}},void 0)).etherscanSvg,extension:async()=>(await fe(async()=>{const{extensionSvg:t}=await Promise.resolve().then(()=>BOt);return{extensionSvg:t}},void 0)).extensionSvg,externalLink:async()=>(await fe(async()=>{const{externalLinkSvg:t}=await Promise.resolve().then(()=>WOt);return{externalLinkSvg:t}},void 0)).externalLinkSvg,facebook:async()=>(await fe(async()=>{const{facebookSvg:t}=await Promise.resolve().then(()=>FOt);return{facebookSvg:t}},void 0)).facebookSvg,farcaster:async()=>(await fe(async()=>{const{farcasterSvg:t}=await Promise.resolve().then(()=>VOt);return{farcasterSvg:t}},void 0)).farcasterSvg,filters:async()=>(await fe(async()=>{const{filtersSvg:t}=await Promise.resolve().then(()=>ZOt);return{filtersSvg:t}},void 0)).filtersSvg,github:async()=>(await fe(async()=>{const{githubSvg:t}=await Promise.resolve().then(()=>YOt);return{githubSvg:t}},void 0)).githubSvg,google:async()=>(await fe(async()=>{const{googleSvg:t}=await Promise.resolve().then(()=>XOt);return{googleSvg:t}},void 0)).googleSvg,helpCircle:async()=>(await fe(async()=>{const{helpCircleSvg:t}=await Promise.resolve().then(()=>ePt);return{helpCircleSvg:t}},void 0)).helpCircleSvg,image:async()=>(await fe(async()=>{const{imageSvg:t}=await Promise.resolve().then(()=>nPt);return{imageSvg:t}},void 0)).imageSvg,id:async()=>(await fe(async()=>{const{idSvg:t}=await Promise.resolve().then(()=>iPt);return{idSvg:t}},void 0)).idSvg,infoCircle:async()=>(await fe(async()=>{const{infoCircleSvg:t}=await Promise.resolve().then(()=>oPt);return{infoCircleSvg:t}},void 0)).infoCircleSvg,lightbulb:async()=>(await fe(async()=>{const{lightbulbSvg:t}=await Promise.resolve().then(()=>cPt);return{lightbulbSvg:t}},void 0)).lightbulbSvg,mail:async()=>(await fe(async()=>{const{mailSvg:t}=await Promise.resolve().then(()=>uPt);return{mailSvg:t}},void 0)).mailSvg,mobile:async()=>(await fe(async()=>{const{mobileSvg:t}=await Promise.resolve().then(()=>hPt);return{mobileSvg:t}},void 0)).mobileSvg,more:async()=>(await fe(async()=>{const{moreSvg:t}=await Promise.resolve().then(()=>fPt);return{moreSvg:t}},void 0)).moreSvg,networkPlaceholder:async()=>(await fe(async()=>{const{networkPlaceholderSvg:t}=await Promise.resolve().then(()=>mPt);return{networkPlaceholderSvg:t}},void 0)).networkPlaceholderSvg,nftPlaceholder:async()=>(await fe(async()=>{const{nftPlaceholderSvg:t}=await Promise.resolve().then(()=>yPt);return{nftPlaceholderSvg:t}},void 0)).nftPlaceholderSvg,off:async()=>(await fe(async()=>{const{offSvg:t}=await Promise.resolve().then(()=>vPt);return{offSvg:t}},void 0)).offSvg,playStore:async()=>(await fe(async()=>{const{playStoreSvg:t}=await Promise.resolve().then(()=>CPt);return{playStoreSvg:t}},void 0)).playStoreSvg,plus:async()=>(await fe(async()=>{const{plusSvg:t}=await Promise.resolve().then(()=>IPt);return{plusSvg:t}},void 0)).plusSvg,qrCode:async()=>(await fe(async()=>{const{qrCodeIcon:t}=await Promise.resolve().then(()=>xPt);return{qrCodeIcon:t}},void 0)).qrCodeIcon,recycleHorizontal:async()=>(await fe(async()=>{const{recycleHorizontalSvg:t}=await Promise.resolve().then(()=>kPt);return{recycleHorizontalSvg:t}},void 0)).recycleHorizontalSvg,refresh:async()=>(await fe(async()=>{const{refreshSvg:t}=await Promise.resolve().then(()=>TPt);return{refreshSvg:t}},void 0)).refreshSvg,search:async()=>(await fe(async()=>{const{searchSvg:t}=await Promise.resolve().then(()=>OPt);return{searchSvg:t}},void 0)).searchSvg,send:async()=>(await fe(async()=>{const{sendSvg:t}=await Promise.resolve().then(()=>RPt);return{sendSvg:t}},void 0)).sendSvg,swapHorizontal:async()=>(await fe(async()=>{const{swapHorizontalSvg:t}=await Promise.resolve().then(()=>UPt);return{swapHorizontalSvg:t}},void 0)).swapHorizontalSvg,swapHorizontalMedium:async()=>(await fe(async()=>{const{swapHorizontalMediumSvg:t}=await Promise.resolve().then(()=>LPt);return{swapHorizontalMediumSvg:t}},void 0)).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await fe(async()=>{const{swapHorizontalBoldSvg:t}=await Promise.resolve().then(()=>BPt);return{swapHorizontalBoldSvg:t}},void 0)).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await fe(async()=>{const{swapHorizontalRoundedBoldSvg:t}=await Promise.resolve().then(()=>WPt);return{swapHorizontalRoundedBoldSvg:t}},void 0)).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await fe(async()=>{const{swapVerticalSvg:t}=await Promise.resolve().then(()=>FPt);return{swapVerticalSvg:t}},void 0)).swapVerticalSvg,telegram:async()=>(await fe(async()=>{const{telegramSvg:t}=await Promise.resolve().then(()=>VPt);return{telegramSvg:t}},void 0)).telegramSvg,threeDots:async()=>(await fe(async()=>{const{threeDotsSvg:t}=await Promise.resolve().then(()=>ZPt);return{threeDotsSvg:t}},void 0)).threeDotsSvg,twitch:async()=>(await fe(async()=>{const{twitchSvg:t}=await Promise.resolve().then(()=>YPt);return{twitchSvg:t}},void 0)).twitchSvg,twitter:async()=>(await fe(async()=>{const{xSvg:t}=await Promise.resolve().then(()=>wee);return{xSvg:t}},void 0)).xSvg,twitterIcon:async()=>(await fe(async()=>{const{twitterIconSvg:t}=await Promise.resolve().then(()=>QPt);return{twitterIconSvg:t}},void 0)).twitterIconSvg,verify:async()=>(await fe(async()=>{const{verifySvg:t}=await Promise.resolve().then(()=>t9t);return{verifySvg:t}},void 0)).verifySvg,verifyFilled:async()=>(await fe(async()=>{const{verifyFilledSvg:t}=await Promise.resolve().then(()=>r9t);return{verifyFilledSvg:t}},void 0)).verifyFilledSvg,wallet:async()=>(await fe(async()=>{const{walletSvg:t}=await Promise.resolve().then(()=>s9t);return{walletSvg:t}},void 0)).walletSvg,walletConnect:async()=>(await fe(async()=>{const{walletConnectSvg:t}=await Promise.resolve().then(()=>hP);return{walletConnectSvg:t}},void 0)).walletConnectSvg,walletConnectLightBrown:async()=>(await fe(async()=>{const{walletConnectLightBrownSvg:t}=await Promise.resolve().then(()=>hP);return{walletConnectLightBrownSvg:t}},void 0)).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await fe(async()=>{const{walletConnectBrownSvg:t}=await Promise.resolve().then(()=>hP);return{walletConnectBrownSvg:t}},void 0)).walletConnectBrownSvg,walletPlaceholder:async()=>(await fe(async()=>{const{walletPlaceholderSvg:t}=await Promise.resolve().then(()=>u9t);return{walletPlaceholderSvg:t}},void 0)).walletPlaceholderSvg,warningCircle:async()=>(await fe(async()=>{const{warningCircleSvg:t}=await Promise.resolve().then(()=>h9t);return{warningCircleSvg:t}},void 0)).warningCircleSvg,x:async()=>(await fe(async()=>{const{xSvg:t}=await Promise.resolve().then(()=>wee);return{xSvg:t}},void 0)).xSvg,info:async()=>(await fe(async()=>{const{infoSvg:t}=await Promise.resolve().then(()=>f9t);return{infoSvg:t}},void 0)).infoSvg,exclamationTriangle:async()=>(await fe(async()=>{const{exclamationTriangleSvg:t}=await Promise.resolve().then(()=>m9t);return{exclamationTriangleSvg:t}},void 0)).exclamationTriangleSvg,reown:async()=>(await fe(async()=>{const{reownSvg:t}=await Promise.resolve().then(()=>y9t);return{reownSvg:t}},void 0)).reownSvg};async function CTt(t){if(cP.has(t))return cP.get(t);const n=(lee[t]??lee.copy)();return cP.set(t,n),n}let V0=class extends Q{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,$`${bTt(CTt(this.name),$`<div class="fallback"></div>`)}`}};V0.styles=[qn,o5,ETt];c5([L()],V0.prototype,"size",void 0);c5([L()],V0.prototype,"name",void 0);c5([L()],V0.prototype,"color",void 0);c5([L()],V0.prototype,"aspectRatio",void 0);V0=c5([pt("wui-icon")],V0);const _Tt=Be`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var l5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let K0=class extends Q{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,$`<slot class=${Q_(e)}></slot>`}};K0.styles=[qn,_Tt];l5([L()],K0.prototype,"variant",void 0);l5([L()],K0.prototype,"color",void 0);l5([L()],K0.prototype,"align",void 0);l5([L()],K0.prototype,"lineClamp",void 0);K0=l5([pt("wui-text")],K0);const ITt=Be`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var Gp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Tu=class extends Q{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const e=this.iconSize||this.size,n=this.size==="lg",r=this.size==="xl",i=n?"12%":"16%",s=n?"xxs":r?"s":"3xl",o=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let l=`var(--wui-color-${this.backgroundColor})`;return c?l=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(l=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${l};
       --local-bg-mix: ${c||o?"100%":i};
       --local-border-radius: var(--wui-border-radius-${s});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,$` <wui-icon color=${this.iconColor} size=${e} name=${this.icon}></wui-icon> `}};Tu.styles=[qn,eo,ITt];Gp([L()],Tu.prototype,"size",void 0);Gp([L()],Tu.prototype,"backgroundColor",void 0);Gp([L()],Tu.prototype,"iconColor",void 0);Gp([L()],Tu.prototype,"iconSize",void 0);Gp([L()],Tu.prototype,"background",void 0);Gp([L({type:Boolean})],Tu.prototype,"border",void 0);Gp([L()],Tu.prototype,"borderColor",void 0);Gp([L()],Tu.prototype,"icon",void 0);Tu=Gp([pt("wui-icon-box")],Tu);const STt=Be`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var F8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let zv=class extends Q{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,$`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};zv.styles=[qn,o5,STt];F8([L()],zv.prototype,"src",void 0);F8([L()],zv.prototype,"alt",void 0);F8([L()],zv.prototype,"size",void 0);zv=F8([pt("wui-image")],zv);const xTt=Be`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;var Ly=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Up=class extends Q{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="xxs";return this.size==="lg"?e="m":this.size==="md"?e="xs":e="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${e});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),$`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?$`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:$`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};Up.styles=[eo,qn,xTt];Ly([L()],Up.prototype,"size",void 0);Ly([L()],Up.prototype,"name",void 0);Ly([L()],Up.prototype,"imageSrc",void 0);Ly([L()],Up.prototype,"walletIcon",void 0);Ly([L({type:Boolean})],Up.prototype,"installed",void 0);Ly([L()],Up.prototype,"badgeSize",void 0);Up=Ly([pt("wui-wallet-image")],Up);const ATt=Be`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var J0e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const lP=4;let hA=class extends Q{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<lP;return $`${this.walletImages.slice(0,lP).map(({src:n,walletName:r})=>$`
            <wui-wallet-image
              size="inherit"
              imageSrc=${n}
              name=${le(r)}
            ></wui-wallet-image>
          `)}
      ${e?[...Array(lP-this.walletImages.length)].map(()=>$` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};hA.styles=[qn,ATt];J0e([L({type:Array})],hA.prototype,"walletImages",void 0);hA=J0e([pt("wui-all-wallets-image")],hA);const kTt=Be`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`;var oz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let E_=class extends Q{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"mini-700":"micro-700";return $`
      <wui-text data-variant=${this.variant} variant=${e} color="inherit">
        <slot></slot>
      </wui-text>
    `}};E_.styles=[qn,kTt];oz([L()],E_.prototype,"variant",void 0);oz([L()],E_.prototype,"size",void 0);E_=oz([pt("wui-tag")],E_);const $Tt=Be`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;var za=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Io=class extends Q{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return $`
      <button ?disabled=${this.disabled} tabindex=${le(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?$` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?$` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?$`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?$`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?$`<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?$`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?$`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};Io.styles=[qn,eo,$Tt];za([L({type:Array})],Io.prototype,"walletImages",void 0);za([L()],Io.prototype,"imageSrc",void 0);za([L()],Io.prototype,"name",void 0);za([L()],Io.prototype,"tagLabel",void 0);za([L()],Io.prototype,"tagVariant",void 0);za([L()],Io.prototype,"icon",void 0);za([L()],Io.prototype,"walletIcon",void 0);za([L()],Io.prototype,"tabIdx",void 0);za([L({type:Boolean})],Io.prototype,"installed",void 0);za([L({type:Boolean})],Io.prototype,"disabled",void 0);za([L({type:Boolean})],Io.prototype,"showAllWallets",void 0);za([L({type:Boolean})],Io.prototype,"loading",void 0);za([L({type:String})],Io.prototype,"loadingSpinnerColor",void 0);Io=za([pt("wui-list-wallet")],Io);var O2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Z0=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Le.state.connectors,this.count=Ve.state.count,this.filteredCount=Ve.state.filteredWallets.length,this.isFetchingRecommendedWallets=Ve.state.isFetchingRecommendedWallets,this.unsubscribe.push(Le.subscribeKey("connectors",e=>this.connectors=e),Ve.subscribeKey("count",e=>this.count=e),Ve.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),Ve.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(c=>c.id==="walletConnect"),{allWallets:n}=Ie.state;if(!e||n==="HIDE"||n==="ONLY_MOBILE"&&!We.isMobile())return null;const r=Ve.state.featured.length,i=this.count+r,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;return this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`),$`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${le(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets?"fg-300":"accent-100"}
      ></wui-list-wallet>
    `}onAllWallets(){un.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),He.push("AllWallets")}};O2([L()],Z0.prototype,"tabIdx",void 0);O2([W()],Z0.prototype,"connectors",void 0);O2([W()],Z0.prototype,"count",void 0);O2([W()],Z0.prototype,"filteredCount",void 0);O2([W()],Z0.prototype,"isFetchingRecommendedWallets",void 0);Z0=O2([pt("w3m-all-wallets-widget")],Z0);var az=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let pA=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Le.state.connectors,this.unsubscribe.push(Le.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type==="ANNOUNCED");return e?.length?$`
      <wui-flex flexDirection="column" gap="xs">
        ${e.filter(pp.showConnector).map(n=>$`
              <wui-list-wallet
                imageSrc=${le(Gi.getConnectorImage(n))}
                name=${n.name??"Unknown"}
                @click=${()=>this.onConnector(n)}
                tagVariant="success"
                tagLabel="installed"
                data-testid=${`wallet-selector-${n.id}`}
                .installed=${!0}
                tabIdx=${le(this.tabIdx)}
              >
              </wui-list-wallet>
            `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){e.id==="walletConnect"?We.isMobile()?He.push("AllWallets"):He.push("ConnectingWalletConnect"):He.push("ConnectingExternal",{connector:e})}};az([L()],pA.prototype,"tabIdx",void 0);az([W()],pA.prototype,"connectors",void 0);pA=az([pt("w3m-connect-announced-widget")],pA);var H8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let C_=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Le.state.connectors,this.loading=!1,this.unsubscribe.push(Le.subscribeKey("connectors",e=>this.connectors=e)),We.isTelegram()&&We.isIos()&&(this.loading=!Je.state.wcUri,this.unsubscribe.push(Je.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=Ie.state;if(!e?.length)return this.style.cssText="display: none",null;const n=this.filterOutDuplicateWallets(e);return $`<wui-flex flexDirection="column" gap="xs">
      ${n.map(r=>$`
          <wui-list-wallet
            imageSrc=${le(Gi.getWalletImage(r))}
            name=${r.name??"Unknown"}
            @click=${()=>this.onConnectWallet(r)}
            data-testid=${`wallet-selector-${r.id}`}
            tabIdx=${le(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(e){const n=gt.getRecentWallets(),r=this.connectors.map(a=>a.info?.rdns).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&We.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a?.rdns)))}onConnectWallet(e){this.loading||He.push("ConnectingWalletConnect",{wallet:e})}};H8([L()],C_.prototype,"tabIdx",void 0);H8([W()],C_.prototype,"connectors",void 0);H8([W()],C_.prototype,"loading",void 0);C_=H8([pt("w3m-connect-custom-widget")],C_);var cz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let fA=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Le.state.connectors,this.unsubscribe.push(Le.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const r=this.connectors.filter(i=>i.type==="EXTERNAL").filter(pp.showConnector).filter(i=>i.id!==vt.CONNECTOR_ID.COINBASE_SDK);return r?.length?$`
      <wui-flex flexDirection="column" gap="xs">
        ${r.map(i=>$`
            <wui-list-wallet
              imageSrc=${le(Gi.getConnectorImage(i))}
              .installed=${!0}
              name=${i.name??"Unknown"}
              data-testid=${`wallet-selector-external-${i.id}`}
              @click=${()=>this.onConnector(i)}
              tabIdx=${le(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){He.push("ConnectingExternal",{connector:e})}};cz([L()],fA.prototype,"tabIdx",void 0);cz([W()],fA.prototype,"connectors",void 0);fA=cz([pt("w3m-connect-external-widget")],fA);var lz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let gA=class extends Q{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){return this.wallets.length?$`
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(e=>$`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${e.id}`}
              imageSrc=${le(Gi.getWalletImage(e))}
              name=${e.name??"Unknown"}
              @click=${()=>this.onConnectWallet(e)}
              tabIdx=${le(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){Le.selectWalletConnector(e)}};lz([L()],gA.prototype,"tabIdx",void 0);lz([L()],gA.prototype,"wallets",void 0);gA=lz([pt("w3m-connect-featured-widget")],gA);var uz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let mA=class extends Q{constructor(){super(...arguments),this.tabIdx=void 0,this.connectors=[]}render(){const e=this.connectors.filter(pp.showConnector);return e.length===0?(this.style.cssText="display: none",null):$`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(n=>$`
            <wui-list-wallet
              imageSrc=${le(Gi.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${le(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnector(e){Le.setActiveConnector(e),He.push("ConnectingExternal",{connector:e})}};uz([L()],mA.prototype,"tabIdx",void 0);uz([L()],mA.prototype,"connectors",void 0);mA=uz([pt("w3m-connect-injected-widget")],mA);var dz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let wA=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Le.state.connectors,this.unsubscribe.push(Le.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type==="MULTI_CHAIN"&&n.name!=="WalletConnect");return e?.length?$`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(n=>$`
            <wui-list-wallet
              imageSrc=${le(Gi.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${le(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){Le.setActiveConnector(e),He.push("ConnectingMultiChain")}};dz([L()],wA.prototype,"tabIdx",void 0);dz([W()],wA.prototype,"connectors",void 0);wA=dz([pt("w3m-connect-multi-chain-widget")],wA);var V8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let __=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Le.state.connectors,this.loading=!1,this.unsubscribe.push(Le.subscribeKey("connectors",e=>this.connectors=e)),We.isTelegram()&&We.isIos()&&(this.loading=!Je.state.wcUri,this.unsubscribe.push(Je.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const n=gt.getRecentWallets().filter(r=>!H0.isExcluded(r)).filter(r=>!this.hasWalletConnector(r)).filter(r=>this.isWalletCompatibleWithCurrentChain(r));return n.length?$`
      <wui-flex flexDirection="column" gap="xs">
        ${n.map(r=>$`
            <wui-list-wallet
              imageSrc=${le(Gi.getWalletImage(r))}
              name=${r.name??"Unknown"}
              @click=${()=>this.onConnectWallet(r)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${le(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){this.loading||Le.selectWalletConnector(e)}hasWalletConnector(e){return this.connectors.some(n=>n.id===e.id||n.name===e.name)}isWalletCompatibleWithCurrentChain(e){const n=G.state.activeChain;return n&&e.chains?e.chains.some(r=>{const i=r.split(":")[0];return n===i}):!0}};V8([L()],__.prototype,"tabIdx",void 0);V8([W()],__.prototype,"connectors",void 0);V8([W()],__.prototype,"loading",void 0);__=V8([pt("w3m-connect-recent-widget")],__);var K8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let I_=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,We.isTelegram()&&We.isIos()&&(this.loading=!Je.state.wcUri,this.unsubscribe.push(Je.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const{connectors:e}=Le.state,{customWallets:n,featuredWalletIds:r}=Ie.state,i=gt.getRecentWallets(),s=e.find(d=>d.id==="walletConnect"),a=e.filter(d=>d.type==="INJECTED"||d.type==="ANNOUNCED"||d.type==="MULTI_CHAIN").filter(d=>d.name!=="Browser Wallet");if(!s)return null;if(r||n||!this.wallets.length)return this.style.cssText="display: none",null;const c=a.length+i.length,l=Math.max(0,2-c),u=H0.filterOutDuplicateWallets(this.wallets).slice(0,l);return u.length?$`
      <wui-flex flexDirection="column" gap="xs">
        ${u.map(d=>$`
            <wui-list-wallet
              imageSrc=${le(Gi.getWalletImage(d))}
              name=${d?.name??"Unknown"}
              @click=${()=>this.onConnectWallet(d)}
              tabIdx=${le(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){if(this.loading)return;const n=Le.getConnector(e.id,e.rdns);n?He.push("ConnectingExternal",{connector:n}):He.push("ConnectingWalletConnect",{wallet:e})}};K8([L()],I_.prototype,"tabIdx",void 0);K8([L()],I_.prototype,"wallets",void 0);K8([W()],I_.prototype,"loading",void 0);I_=K8([pt("w3m-connect-recommended-widget")],I_);var Z8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let S_=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Le.state.connectors,this.connectorImages=va.state.connectorImages,this.unsubscribe.push(Le.subscribeKey("connectors",e=>this.connectors=e),va.subscribeKey("connectorImages",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(We.isMobile())return this.style.cssText="display: none",null;const e=this.connectors.find(r=>r.id==="walletConnect");if(!e)return this.style.cssText="display: none",null;const n=e.imageUrl||this.connectorImages[e?.imageId??""];return $`
      <wui-list-wallet
        imageSrc=${le(n)}
        name=${e.name??"Unknown"}
        @click=${()=>this.onConnector(e)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${le(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `}onConnector(e){Le.setActiveConnector(e),He.push("ConnectingWalletConnect")}};Z8([L()],S_.prototype,"tabIdx",void 0);Z8([W()],S_.prototype,"connectors",void 0);Z8([W()],S_.prototype,"connectorImages",void 0);S_=Z8([pt("w3m-connect-walletconnect-widget")],S_);const TTt=Be`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var u5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let G0=class extends Q{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Le.state.connectors,this.recommended=Ve.state.recommended,this.featured=Ve.state.featured,this.unsubscribe.push(Le.subscribeKey("connectors",e=>this.connectors=e),Ve.subscribeKey("recommended",e=>this.recommended=e),Ve.subscribeKey("featured",e=>this.featured=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}=pp.getConnectorsByType(this.connectors,this.recommended,this.featured);return pp.getConnectorTypeOrder({custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}).map(u=>{switch(u){case"injected":return $`
            ${s.length?$`<w3m-connect-multi-chain-widget
                  tabIdx=${le(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${r.length?$`<w3m-connect-announced-widget
                  tabIdx=${le(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${i.length?$`<w3m-connect-injected-widget
                  .connectors=${i}
                  tabIdx=${le(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return $`<w3m-connect-walletconnect-widget
            tabIdx=${le(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return $`<w3m-connect-recent-widget
            tabIdx=${le(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return $`<w3m-connect-featured-widget
            .wallets=${a}
            tabIdx=${le(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return $`<w3m-connect-custom-widget
            tabIdx=${le(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return $`<w3m-connect-external-widget
            tabIdx=${le(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return $`<w3m-connect-recommended-widget
            .wallets=${o}
            tabIdx=${le(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${u}`),null}})}};G0.styles=TTt;u5([L()],G0.prototype,"tabIdx",void 0);u5([W()],G0.prototype,"connectors",void 0);u5([W()],G0.prototype,"recommended",void 0);u5([W()],G0.prototype,"featured",void 0);G0=u5([pt("w3m-connector-list")],G0);const NTt=Be`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var gm=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let jd=class extends Q{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((e,n)=>{const r=n===this.activeTab;return $`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(n)}
          data-active=${r}
          data-testid="tab-${e.label?.toLowerCase()}"
        >
          ${this.iconTemplate(e)}
          <wui-text variant="small-600" color="inherit"> ${e.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(e){return e.icon?$`<wui-icon size="xs" color="inherit" name=${e.icon}></wui-icon>`:null}onTabClick(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}animateTabs(e,n){const r=this.buttons[this.activeTab],i=this.buttons[e],s=r?.querySelector("wui-text"),o=i?.querySelector("wui-text"),a=i?.getBoundingClientRect(),c=o?.getBoundingClientRect();r&&s&&!n&&e!==this.activeTab&&(s.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),r.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),i&&a&&c&&o&&(e!==this.activeTab||n)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,i.animate([{width:`${a.width+c.width}px`}],{duration:n?0:500,fill:"forwards",easing:"ease"}),o.animate([{opacity:1}],{duration:n?0:125,delay:n?0:200,fill:"forwards",easing:"ease"}))}};jd.styles=[qn,eo,NTt];gm([L({type:Array})],jd.prototype,"tabs",void 0);gm([L()],jd.prototype,"onTabChange",void 0);gm([L({type:Array})],jd.prototype,"buttons",void 0);gm([L({type:Boolean})],jd.prototype,"disabled",void 0);gm([L()],jd.prototype,"localTabWidth",void 0);gm([W()],jd.prototype,"activeTab",void 0);gm([W()],jd.prototype,"isDense",void 0);jd=gm([pt("wui-tabs")],jd);var hz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yA=class extends Q{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return $`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(n=>n==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:n==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:n==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:n==="web"?{label:"Webapp",icon:"browser",platform:"web"}:n==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:n})=>n),e}onTabChange(e){const n=this.platformTabs[e];n&&this.onSelectPlatfrom?.(n)}};hz([L({type:Array})],yA.prototype,"platforms",void 0);hz([L()],yA.prototype,"onSelectPlatfrom",void 0);yA=hz([pt("w3m-connecting-header")],yA);const OTt=Be`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var pz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let x_=class extends Q{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,$`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};x_.styles=[qn,OTt];pz([L()],x_.prototype,"color",void 0);pz([L()],x_.prototype,"size",void 0);x_=pz([pt("wui-loading-spinner")],x_);const PTt=Be`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var Yd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const uee={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},RTt={lg:"paragraph-600",md:"small-600"},DTt={lg:"md",md:"md"};let vl=class extends Q{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const e=this.textVariant??RTt[this.size];return $`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const e=DTt[this.size],n=this.disabled?uee.disabled:uee[this.variant];return $`<wui-loading-spinner color=${n} size=${e}></wui-loading-spinner>`}return $``}};vl.styles=[qn,eo,PTt];Yd([L()],vl.prototype,"size",void 0);Yd([L({type:Boolean})],vl.prototype,"disabled",void 0);Yd([L({type:Boolean})],vl.prototype,"fullWidth",void 0);Yd([L({type:Boolean})],vl.prototype,"loading",void 0);Yd([L()],vl.prototype,"variant",void 0);Yd([L({type:Boolean})],vl.prototype,"hasIconLeft",void 0);Yd([L({type:Boolean})],vl.prototype,"hasIconRight",void 0);Yd([L()],vl.prototype,"borderRadius",void 0);Yd([L()],vl.prototype,"textVariant",void 0);vl=Yd([pt("wui-button")],vl);const UTt=Be`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var G8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Wv=class extends Q{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return $`
      <button ?disabled=${this.disabled} tabindex=${le(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};Wv.styles=[qn,eo,UTt];G8([L()],Wv.prototype,"tabIdx",void 0);G8([L({type:Boolean})],Wv.prototype,"disabled",void 0);G8([L()],Wv.prototype,"color",void 0);Wv=G8([pt("wui-link")],Wv);const MTt=Be`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var X0e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let bA=class extends Q{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,r=36-e,i=116+r,s=245+r,o=360+r*1.75;return $`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};bA.styles=[qn,MTt];X0e([L({type:Number})],bA.prototype,"radius",void 0);bA=X0e([pt("wui-loading-thumbnail")],bA);const LTt=Be`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;var jy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Mp=class extends Q{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const e=this.size==="sm"?"small-600":"paragraph-600";return $`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?$`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${e} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};Mp.styles=[qn,eo,LTt];jy([L()],Mp.prototype,"variant",void 0);jy([L()],Mp.prototype,"imageSrc",void 0);jy([L({type:Boolean})],Mp.prototype,"disabled",void 0);jy([L()],Mp.prototype,"icon",void 0);jy([L()],Mp.prototype,"size",void 0);jy([L()],Mp.prototype,"text",void 0);Mp=jy([pt("wui-chip-button")],Mp);const jTt=Be`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var Y8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let qv=class extends Q{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return $`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};qv.styles=[qn,eo,jTt];Y8([L({type:Boolean})],qv.prototype,"disabled",void 0);Y8([L()],qv.prototype,"label",void 0);Y8([L()],qv.prototype,"buttonLabel",void 0);qv=Y8([pt("wui-cta-button")],qv);const BTt=Be`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var Q0e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let vA=class extends Q{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:n,play_store:r,chrome_store:i,homepage:s}=this.wallet,o=We.isMobile(),a=We.isIos(),c=We.isAndroid(),l=[n,r,s,i].filter(Boolean).length>1,u=gs.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?$`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>He.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?$`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:n&&a?$`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&c?$`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&We.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&We.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&We.openHref(this.wallet.homepage,"_blank")}};vA.styles=[BTt];Q0e([L({type:Object})],vA.prototype,"wallet",void 0);vA=Q0e([pt("w3m-mobile-download-links")],vA);const zTt=Be`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var Jd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class xo extends Q{constructor(){super(),this.wallet=He.state.data?.wallet,this.connector=He.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=Gi.getWalletImage(this.wallet)??Gi.getConnectorImage(this.connector),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=Je.state.wcUri,this.error=Je.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(Je.subscribeKey("wcUri",e=>{this.uri=e,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),Je.subscribeKey("wcError",e=>this.error=e)),(We.isTelegram()||We.isSafari())&&We.isIos()&&Je.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),Je.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let n=`Continue in ${this.name}`;return this.error&&(n="Connection declined"),$`
      <wui-flex
        data-error=${le(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${le(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${n}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?$`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?$`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){Je.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const e=Bs.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return $`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(We.copyToClopboard(this.uri),vi.showSuccess("Link copied"))}catch{vi.showError("Failed to copy")}}}xo.styles=zTt;Jd([W()],xo.prototype,"isRetrying",void 0);Jd([W()],xo.prototype,"uri",void 0);Jd([W()],xo.prototype,"error",void 0);Jd([W()],xo.prototype,"ready",void 0);Jd([W()],xo.prototype,"showRetry",void 0);Jd([W()],xo.prototype,"secondaryBtnLabel",void 0);Jd([W()],xo.prototype,"secondaryLabel",void 0);Jd([W()],xo.prototype,"isLoading",void 0);Jd([L({type:Boolean})],xo.prototype,"isMobile",void 0);Jd([L()],xo.prototype,"onRetry",void 0);var WTt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let dee=class extends xo{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),un.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){try{this.error=!1;const{connectors:e}=Le.state,n=e.find(r=>r.type==="ANNOUNCED"&&r.info?.rdns===this.wallet?.rdns||r.type==="INJECTED"||r.name===this.wallet?.name);if(n)await Je.connectExternal(n,n.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Gn.close(),un.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown"}})}catch(e){un.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};dee=WTt([pt("w3m-connecting-wc-browser")],dee);var qTt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let hee=class extends xo{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),un.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:n}=this.wallet,{redirect:r,href:i}=We.formatNativeUrl(e,this.uri);Je.setWcLinking({name:n,href:i}),Je.setRecentWallet(this.wallet),We.openHref(r,"_blank")}catch{this.error=!0}}};hee=qTt([pt("w3m-connecting-wc-desktop")],hee);var P2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Y0=class extends xo{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=Ie.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,link_mode:n,name:r}=this.wallet,{redirect:i,redirectUniversalLink:s,href:o}=We.formatNativeUrl(e,this.uri,n);this.redirectDeeplink=i,this.redirectUniversalLink=s,this.target=We.isIframe()?"_top":"_self",Je.setWcLinking({name:r,href:o}),Je.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?We.openHref(this.redirectUniversalLink,this.target):We.openHref(this.redirectDeeplink,this.target)}catch(e){un.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=nr.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(Je.subscribeKey("wcUri",()=>{this.onHandleURI()})),un.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){Je.setWcError(!1),this.onConnect?.()}};P2([W()],Y0.prototype,"redirectDeeplink",void 0);P2([W()],Y0.prototype,"redirectUniversalLink",void 0);P2([W()],Y0.prototype,"target",void 0);P2([W()],Y0.prototype,"preferUniversalLinks",void 0);P2([W()],Y0.prototype,"isLoading",void 0);Y0=P2([pt("w3m-connecting-wc-mobile")],Y0);const FTt=.1,pee=2.5,Ah=7;function uP(t,e,n){return t===e?!1:(t-e<0?e-t:t-e)<=n+FTt}function HTt(t,e){const n=Array.prototype.slice.call(ooe.create(t,{errorCorrectionLevel:e}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,s,o)=>(o%r===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const VTt={generate({uri:t,size:e,logoSize:n,dotColor:r="#141414"}){const i="transparent",o=[],a=HTt(t,"Q"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:g,y:m})=>{const b=(a.length-Ah)*c*g,y=(a.length-Ah)*c*m,v=.45;for(let w=0;w<l.length;w+=1){const C=c*(Ah-w*2);o.push(ye`
            <rect
              fill=${w===2?r:i}
              width=${w===0?C-5:C}
              rx= ${w===0?(C-5)*v:C*v}
              ry= ${w===0?(C-5)*v:C*v}
              stroke=${r}
              stroke-width=${w===0?5:0}
              height=${w===0?C-5:C}
              x= ${w===0?y+c*w+5/2:y+c*w}
              y= ${w===0?b+c*w+5/2:b+c*w}
            />
          `)}});const u=Math.floor((n+25)/c),d=a.length/2-u/2,h=a.length/2+u/2-1,p=[];a.forEach((g,m)=>{g.forEach((b,y)=>{if(a[m][y]&&!(m<Ah&&y<Ah||m>a.length-(Ah+1)&&y<Ah||m<Ah&&y>a.length-(Ah+1))&&!(m>d&&m<h&&y>d&&y<h)){const v=m*c+c/2,w=y*c+c/2;p.push([v,w])}})});const f={};return p.forEach(([g,m])=>{f[g]?f[g]?.push(m):f[g]=[m]}),Object.entries(f).map(([g,m])=>{const b=m.filter(y=>m.every(v=>!uP(y,v,c)));return[Number(g),b]}).forEach(([g,m])=>{m.forEach(b=>{o.push(ye`<circle cx=${g} cy=${b} fill=${r} r=${c/pee} />`)})}),Object.entries(f).filter(([g,m])=>m.length>1).map(([g,m])=>{const b=m.filter(y=>m.some(v=>uP(y,v,c)));return[Number(g),b]}).map(([g,m])=>{m.sort((y,v)=>y<v?-1:1);const b=[];for(const y of m){const v=b.find(w=>w.some(C=>uP(y,C,c)));v?v.push(y):b.push([y])}return[g,b.map(y=>[y[0],y[y.length-1]])]}).forEach(([g,m])=>{m.forEach(([b,y])=>{o.push(ye`
              <line
                x1=${g}
                x2=${g}
                y1=${b}
                y2=${y}
                stroke=${r}
                stroke-width=${c/(pee/2)}
                stroke-linecap="round"
              />
            `)})}),o}},KTt=Be`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var Yp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const ZTt="#3396ff";let Nu=class extends Q{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??ZTt}
    `,$`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const e=this.theme==="light"?this.size:this.size-32;return ye`
      <svg height=${e} width=${e}>
        ${VTt.generate({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?$`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:$`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};Nu.styles=[qn,KTt];Yp([L()],Nu.prototype,"uri",void 0);Yp([L({type:Number})],Nu.prototype,"size",void 0);Yp([L()],Nu.prototype,"theme",void 0);Yp([L()],Nu.prototype,"imageSrc",void 0);Yp([L()],Nu.prototype,"alt",void 0);Yp([L()],Nu.prototype,"color",void 0);Yp([L({type:Boolean})],Nu.prototype,"arenaClear",void 0);Yp([L({type:Boolean})],Nu.prototype,"farcaster",void 0);Nu=Yp([pt("wui-qr-code")],Nu);const GTt=Be`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var d5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let J0=class extends Q{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,$`<slot></slot>`}};J0.styles=[GTt];d5([L()],J0.prototype,"width",void 0);d5([L()],J0.prototype,"height",void 0);d5([L()],J0.prototype,"borderRadius",void 0);d5([L()],J0.prototype,"variant",void 0);J0=d5([pt("wui-shimmer")],J0);const YTt="https://reown.com",JTt=Be`
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }

  a {
    text-decoration: none;
    cursor: pointer;
  }

  a:hover {
    opacity: 0.9;
  }
`;var XTt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let FD=class extends Q{render(){return $`
      <a
        data-testid="ux-branding-reown"
        href=${YTt}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="xs"
          .padding=${["0","0","l","0"]}
        >
          <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
          <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};FD.styles=[qn,eo,JTt];FD=XTt([pt("wui-ux-by-reown")],FD);const QTt=Be`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var eNt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let HD=class extends xo{constructor(){super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),un.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(e=>e()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),$`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,n=this.wallet?this.wallet.name:void 0;return Je.setWcLinking(void 0),Je.setRecentWallet(this.wallet),$` <wui-qr-code
      size=${e}
      theme=${Bs.state.themeMode}
      uri=${this.uri}
      imageSrc=${le(Gi.getWalletImage(this.wallet))}
      color=${le(Bs.state.themeVariables["--w3m-qr-color"])}
      alt=${le(n)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return $`<wui-link
      .disabled=${e}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};HD.styles=QTt;HD=eNt([pt("w3m-connecting-wc-qrcode")],HD);var tNt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let fee=class extends Q{constructor(){if(super(),this.wallet=He.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");un.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return $`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${le(Gi.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};fee=tNt([pt("w3m-connecting-wc-unsupported")],fee);var eye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let VD=class extends xo{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=nr.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(Je.subscribeKey("wcUri",()=>{this.updateLoadingState()})),un.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:n}=this.wallet,{redirect:r,href:i}=We.formatUniversalUrl(e,this.uri);Je.setWcLinking({name:n,href:i}),Je.setRecentWallet(this.wallet),We.openHref(r,"_blank")}catch{this.error=!0}}};eye([W()],VD.prototype,"isLoading",void 0);VD=eye([pt("w3m-connecting-wc-web")],VD);var h5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Fv=class extends Q{constructor(){super(),this.wallet=He.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!Ie.state.siwx,this.remoteFeatures=Ie.state.remoteFeatures,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(Ie.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?$`<wui-ux-by-reown></wui-ux-by-reown>`:null}async initializeConnection(e=!1){if(!(this.platform==="browser"||Ie.state.manualWCControl&&!e))try{const{wcPairingExpiry:n,status:r}=Je.state;(e||Ie.state.enableEmbedded||We.isPairingExpired(n)||r==="connecting")&&(await Je.connectWalletConnect(),this.isSiwxEnabled||Gn.close())}catch(n){un.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:n?.message??"Unknown"}}),Je.setWcError(!0),vi.showError(n.message??"Connection error"),Je.resetWcConnection(),He.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:n,webapp_link:r,injected:i,rdns:s}=this.wallet,o=i?.map(({injected_id:f})=>f).filter(Boolean),a=[...s?[s]:o??[]],c=Ie.state.isUniversalProvider?!1:a.length,l=e,u=r,d=Je.checkInstalled(a),h=c&&d,p=n&&!We.isMobile();h&&!G.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(We.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),p&&this.platforms.push("desktop"),!h&&c&&!G.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return $`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return $`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return $`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return $`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return $`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return $`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?$`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){const n=this.shadowRoot?.querySelector("div");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};h5([W()],Fv.prototype,"platform",void 0);h5([W()],Fv.prototype,"platforms",void 0);h5([W()],Fv.prototype,"isSiwxEnabled",void 0);h5([W()],Fv.prototype,"remoteFeatures",void 0);Fv=h5([pt("w3m-connecting-wc-view")],Fv);var tye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let EA=class extends Q{constructor(){super(...arguments),this.isMobile=We.isMobile()}render(){if(this.isMobile){const{featured:e,recommended:n}=Ve.state,{customWallets:r}=Ie.state,i=gt.getRecentWallets(),s=e.length||n.length||r?.length||i.length;return $`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${s?$`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return $`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`}};tye([W()],EA.prototype,"isMobile",void 0);EA=tye([pt("w3m-connecting-wc-basic-view")],EA);const nNt=Be`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;var nye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let CA=class extends Q{constructor(){super(...arguments),this.inputElementRef=mc(),this.checked=void 0}render(){return $`
      <label>
        <input
          ${wc(this.inputElementRef)}
          type="checkbox"
          ?checked=${le(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};CA.styles=[qn,eo,o5,nNt];nye([L({type:Boolean})],CA.prototype,"checked",void 0);CA=nye([pt("wui-switch")],CA);const rNt=Be`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var rye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _A=class extends Q{constructor(){super(...arguments),this.checked=void 0}render(){return $`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${le(this.checked)}></wui-switch>
      </button>
    `}};_A.styles=[qn,eo,rNt];rye([L({type:Boolean})],_A.prototype,"checked",void 0);_A=rye([pt("wui-certified-switch")],_A);const iNt=Be`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;var iye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let IA=class extends Q{constructor(){super(...arguments),this.icon="copy"}render(){return $`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};IA.styles=[qn,eo,iNt];iye([L()],IA.prototype,"icon",void 0);IA=iye([pt("wui-input-element")],IA);const sNt=Be`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var Xd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let El=class extends Q{constructor(){super(...arguments),this.inputElementRef=mc(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const e=`wui-padding-right-${this.inputRightPadding}`,r={[`wui-size-${this.size}`]:!0,[e]:!!this.inputRightPadding};return $`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${wc(this.inputElementRef)}
        class=${Q_(r)}
        type=${this.type}
        enterkeyhint=${le(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${le(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?$`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};El.styles=[qn,eo,sNt];Xd([L()],El.prototype,"size",void 0);Xd([L()],El.prototype,"icon",void 0);Xd([L({type:Boolean})],El.prototype,"disabled",void 0);Xd([L()],El.prototype,"placeholder",void 0);Xd([L()],El.prototype,"type",void 0);Xd([L()],El.prototype,"keyHint",void 0);Xd([L()],El.prototype,"value",void 0);Xd([L()],El.prototype,"inputRightPadding",void 0);Xd([L()],El.prototype,"tabIdx",void 0);El=Xd([pt("wui-input-text")],El);const oNt=Be`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var aNt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let KD=class extends Q{constructor(){super(...arguments),this.inputComponentRef=mc()}render(){return $`
      <wui-input-text
        ${wc(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const n=this.inputComponentRef.value?.inputElementRef.value;n&&(n.value="",n.focus(),n.dispatchEvent(new Event("input")))}};KD.styles=[qn,oNt];KD=aNt([pt("wui-search-bar")],KD);const cNt=ye`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,lNt=Be`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var sye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let SA=class extends Q{constructor(){super(...arguments),this.type="wallet"}render(){return $`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?$` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${cNt}`:$`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};SA.styles=[qn,eo,lNt];sye([L()],SA.prototype,"type",void 0);SA=sye([pt("wui-card-select-loader")],SA);const uNt=Be`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var Pl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Oa=class extends Q{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&gs.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&gs.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&gs.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&gs.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&gs.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&gs.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&gs.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&gs.getSpacingStyles(this.margin,3)};
    `,$`<slot></slot>`}};Oa.styles=[qn,uNt];Pl([L()],Oa.prototype,"gridTemplateRows",void 0);Pl([L()],Oa.prototype,"gridTemplateColumns",void 0);Pl([L()],Oa.prototype,"justifyItems",void 0);Pl([L()],Oa.prototype,"alignItems",void 0);Pl([L()],Oa.prototype,"justifyContent",void 0);Pl([L()],Oa.prototype,"alignContent",void 0);Pl([L()],Oa.prototype,"columnGap",void 0);Pl([L()],Oa.prototype,"rowGap",void 0);Pl([L()],Oa.prototype,"gap",void 0);Pl([L()],Oa.prototype,"padding",void 0);Pl([L()],Oa.prototype,"margin",void 0);Oa=Pl([pt("wui-grid")],Oa);const dNt=Be`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var p5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let X0=class extends Q{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const e=this.wallet?.badge_type==="certified";return $`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${le(e?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${e?$`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():$`
      <wui-wallet-image
        size="md"
        imageSrc=${le(this.imageSrc)}
        name=${this.wallet?.name}
        .installed=${this.wallet?.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return $`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Gi.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Gi.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};X0.styles=dNt;p5([W()],X0.prototype,"visible",void 0);p5([W()],X0.prototype,"imageSrc",void 0);p5([W()],X0.prototype,"imageLoading",void 0);p5([L()],X0.prototype,"wallet",void 0);X0=p5([pt("w3m-all-wallets-list-item")],X0);const hNt=Be`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var R2=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const gee="local-paginator";let qg=class extends Q{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!Ve.state.wallets.length,this.wallets=Ve.state.wallets,this.recommended=Ve.state.recommended,this.featured=Ve.state.featured,this.filteredWallets=Ve.state.filteredWallets,this.unsubscribe.push(Ve.subscribeKey("wallets",e=>this.wallets=e),Ve.subscribeKey("recommended",e=>this.recommended=e),Ve.subscribeKey("featured",e=>this.featured=e),Ve.subscribeKey("filteredWallets",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.paginationObserver?.disconnect()}render(){return $`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const e=this.shadowRoot?.querySelector("wui-grid");e&&(await Ve.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,n){return[...Array(e)].map(()=>$`
        <wui-card-select-loader type="wallet" id=${le(n)}></wui-card-select-loader>
      `)}walletsTemplate(){const e=this.filteredWallets?.length>0?We.uniqueBy([...this.featured,...this.recommended,...this.filteredWallets],"id"):We.uniqueBy([...this.featured,...this.recommended,...this.wallets],"id");return H0.markWalletsAsInstalled(e).map(r=>$`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(r)}
          .wallet=${r}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:n,featured:r,count:i}=Ve.state,s=window.innerWidth<352?3:4,o=e.length+n.length;let c=Math.ceil(o/s)*s-o+s;return c-=e.length?r.length%s:0,i===0&&r.length>0?null:i===0||[...r,...e,...n].length<i?this.shimmerTemplate(c,gee):null}createPaginationObserver(){const e=this.shadowRoot?.querySelector(`#${gee}`);e&&(this.paginationObserver=new IntersectionObserver(([n])=>{if(n?.isIntersecting&&!this.loading){const{page:r,count:i,wallets:s}=Ve.state;s.length<i&&Ve.fetchWalletsByPage({page:r+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){Le.selectWalletConnector(e)}};qg.styles=hNt;R2([W()],qg.prototype,"loading",void 0);R2([W()],qg.prototype,"wallets",void 0);R2([W()],qg.prototype,"recommended",void 0);R2([W()],qg.prototype,"featured",void 0);R2([W()],qg.prototype,"filteredWallets",void 0);qg=R2([pt("w3m-all-wallets-list")],qg);const pNt=Be`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var J8=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Hv=class extends Q{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?$`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await Ve.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=Ve.state,n=H0.markWalletsAsInstalled(e);return e.length?$`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${n.map(r=>$`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(r)}
              .wallet=${r}
              data-testid="wallet-search-item-${r.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:$`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){Le.selectWalletConnector(e)}};Hv.styles=pNt;J8([W()],Hv.prototype,"loading",void 0);J8([L()],Hv.prototype,"query",void 0);J8([L()],Hv.prototype,"badge",void 0);Hv=J8([pt("w3m-all-wallets-search")],Hv);var fz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let A_=class extends Q{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=We.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return $`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?$`<w3m-all-wallets-search
            query=${this.search}
            badge=${le(this.badge)}
          ></w3m-all-wallets-search>`:$`<w3m-all-wallets-list badge=${le(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",vi.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return We.isMobile()?$`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){He.push("ConnectingWalletConnect")}};fz([W()],A_.prototype,"search",void 0);fz([W()],A_.prototype,"badge",void 0);A_=fz([pt("w3m-all-wallets-view")],A_);const fNt=Be`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var Bu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $c=class extends Q{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return $`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${le(this.iconVariant)}
        tabindex=${le(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return $`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return $`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const e=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",n=this.iconVariant==="square-blue"?"mdl":"md",r=this.iconSize?this.iconSize:n;return $`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${r}
          background="transparent"
          iconColor=${e}
          backgroundColor=${e}
          size=${n}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?$`<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`:$``}chevronTemplate(){return this.chevron?$`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};$c.styles=[qn,eo,fNt];Bu([L()],$c.prototype,"icon",void 0);Bu([L()],$c.prototype,"iconSize",void 0);Bu([L()],$c.prototype,"tabIdx",void 0);Bu([L()],$c.prototype,"variant",void 0);Bu([L()],$c.prototype,"iconVariant",void 0);Bu([L({type:Boolean})],$c.prototype,"disabled",void 0);Bu([L()],$c.prototype,"imageSrc",void 0);Bu([L()],$c.prototype,"alt",void 0);Bu([L({type:Boolean})],$c.prototype,"chevron",void 0);Bu([L({type:Boolean})],$c.prototype,"loading",void 0);$c=Bu([pt("wui-list-item")],$c);var gNt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ZD=class extends Q{constructor(){super(...arguments),this.wallet=He.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return $`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?$`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?$`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?$`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?$`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){this.wallet?.chrome_store&&We.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){this.wallet?.app_store&&We.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&We.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&We.openHref(this.wallet.homepage,"_blank")}};ZD=gNt([pt("w3m-downloads-view")],ZD);const mNt=Object.freeze(Object.defineProperty({__proto__:null,get W3mAllWalletsView(){return A_},get W3mConnectingWcBasicView(){return EA},get W3mDownloadsView(){return ZD}},Symbol.toStringTag,{value:"Module"})),wNt=Be`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`;var yNt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let GD=class extends Q{render(){return $`<slot></slot>`}};GD.styles=[qn,wNt];GD=yNt([pt("wui-card")],GD);const bNt=Be`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;var f5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Q0=class extends Q{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,$`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){au.close()}};Q0.styles=[qn,bNt];f5([L()],Q0.prototype,"message",void 0);f5([L()],Q0.prototype,"backgroundColor",void 0);f5([L()],Q0.prototype,"iconColor",void 0);f5([L()],Q0.prototype,"icon",void 0);Q0=f5([pt("wui-alertbar")],Q0);const vNt=Be`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;var oye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const ENt={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let xA=class extends Q{constructor(){super(),this.unsubscribe=[],this.open=au.state.open,this.onOpen(!0),this.unsubscribe.push(au.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n}=au.state,r=ENt[n];return $`
      <wui-alertbar
        message=${e}
        backgroundColor=${r?.backgroundColor}
        iconColor=${r?.iconColor}
        icon=${r?.icon}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};xA.styles=vNt;oye([W()],xA.prototype,"open",void 0);xA=oye([pt("w3m-alertbar")],xA);const CNt=Be`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;var g5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ey=class extends Q{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const e=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",n=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${e});
    --local-padding: var(${n});
`,$`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};ey.styles=[qn,eo,o5,CNt];g5([L()],ey.prototype,"size",void 0);g5([L({type:Boolean})],ey.prototype,"disabled",void 0);g5([L()],ey.prototype,"icon",void 0);g5([L()],ey.prototype,"iconColor",void 0);ey=g5([pt("wui-icon-link")],ey);const _Nt=Be`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var aye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let AA=class extends Q{constructor(){super(...arguments),this.imageSrc=""}render(){return $`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?$`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:$`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};AA.styles=[qn,eo,o5,_Nt];aye([L()],AA.prototype,"imageSrc",void 0);AA=aye([pt("wui-select")],AA);const INt=Be`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var Jp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const SNt=["SmartSessionList"];function dP(){const t=He.state.data?.connector?.name,e=He.state.data?.wallet?.name,n=He.state.data?.network?.name,r=e??t,i=Le.getConnectors();return{Connect:`Connect ${i.length===1&&i[0]?.id==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:r??"Connect Wallet",ConnectingWalletConnect:r??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:r?`Get ${r}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",Profile:void 0,SwitchNetwork:n??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:wt.state.socialProvider?wt.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in progress"}}let Ou=class extends Q{constructor(){super(),this.unsubscribe=[],this.heading=dP()[He.state.view],this.network=G.state.activeCaipNetwork,this.networkImage=Gi.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=He.state.view,this.viewDirection="",this.headerText=dP()[He.state.view],this.unsubscribe.push(va.subscribeNetworkImages(()=>{this.networkImage=Gi.getNetworkImage(this.network)}),He.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.headerText=dP()[e]},ng.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),G.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=Gi.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return $`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){un.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),He.push("WhatIsAWallet")}async onClose(){await Iwe.safeClose()}rightHeaderTemplate(){const e=Ie?.state?.features?.smartSessions;return He.state.view!=="Account"||!e?this.closeButtonTemplate():$`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>He.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return $`
      <wui-icon-link
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const e=SNt.includes(this.view);return $`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${e?$`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:e}=He.state,n=e==="Connect",r=Ie.state.enableEmbedded,i=e==="ApproveTransaction",s=e==="ConnectingSiwe",o=e==="Account",a=Ie.state.enableNetworkSwitch,c=i||s||n&&r;return o&&a?$`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${le(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${le(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?$`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:$`<wui-icon-link
      data-hidden=${!n}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(un.sendEvent({type:"track",event:"CLICK_NETWORKS"}),He.push("Networks"))}isAllowedNetworkSwitch(){const e=G.getAllRequestedCaipNetworks(),n=e?e.length>1:!1,r=e?.find(({id:i})=>i===this.network?.id);return n||!r}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:e}=He.state;let n=ng.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(n=ng.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=n}async onHistoryChange(){const{history:e}=He.state,n=this.shadowRoot?.querySelector("#dynamic");e.length>1&&!this.showBack&&n?(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){He.goBack()}};Ou.styles=INt;Jp([W()],Ou.prototype,"heading",void 0);Jp([W()],Ou.prototype,"network",void 0);Jp([W()],Ou.prototype,"networkImage",void 0);Jp([W()],Ou.prototype,"showBack",void 0);Jp([W()],Ou.prototype,"prevHistoryLength",void 0);Jp([W()],Ou.prototype,"view",void 0);Jp([W()],Ou.prototype,"viewDirection",void 0);Jp([W()],Ou.prototype,"headerText",void 0);Ou=Jp([pt("w3m-header")],Ou);const xNt=Be`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;var By=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Lp=class extends Q{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return $`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?$`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?$`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:$`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};Lp.styles=[qn,xNt];By([L()],Lp.prototype,"backgroundColor",void 0);By([L()],Lp.prototype,"iconColor",void 0);By([L()],Lp.prototype,"icon",void 0);By([L()],Lp.prototype,"message",void 0);By([L()],Lp.prototype,"loading",void 0);By([L()],Lp.prototype,"iconType",void 0);Lp=By([pt("wui-snackbar")],Lp);const ANt=Be`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var cye=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const kNt={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let kA=class extends Q{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=vi.state.open,this.unsubscribe.push(vi.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n,svg:r}=vi.state,i=kNt[n],{icon:s,iconColor:o}=r??i??{};return $`
      <wui-snackbar
        message=${e}
        backgroundColor=${i?.backgroundColor}
        iconColor=${o}
        icon=${s}
        .loading=${n==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),vi.state.autoClose&&(this.timeout=setTimeout(()=>vi.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};kA.styles=ANt;cye([W()],kA.prototype,"open",void 0);kA=cye([pt("w3m-snackbar")],kA);const $Nt=Be`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var m5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ty=class extends Q{constructor(){super(),this.unsubscribe=[],this.open=Hb.state.open,this.message=Hb.state.message,this.triggerRect=Hb.state.triggerRect,this.variant=Hb.state.variant,this.unsubscribe.push(Hb.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${n}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,$`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};ty.styles=[$Nt];m5([W()],ty.prototype,"open",void 0);m5([W()],ty.prototype,"message",void 0);m5([W()],ty.prototype,"triggerRect",void 0);m5([W()],ty.prototype,"variant",void 0);ty=m5([pt("w3m-tooltip"),pt("w3m-tooltip")],ty);const TNt=Be`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;var gz=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let k_=class extends Q{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=He.state.view,this.viewDirection="",this.unsubscribe.push(He.subscribeKey("view",e=>this.onViewChange(e)))}firstUpdated(){this.resizeObserver=new ResizeObserver(([e])=>{const n=`${e?.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",n),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=n,this.style.animation="unset"},ng.ANIMATION_DURATIONS.ModalHeight)}),this.resizeObserver?.observe(this.getWrapper())}disconnectedCallback(){this.resizeObserver?.unobserve(this.getWrapper()),this.unsubscribe.forEach(e=>e())}render(){return $`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return $`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return $`<w3m-account-view></w3m-account-view>`;case"AllWallets":return $`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return $`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return $`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return $`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return $`<w3m-connect-view></w3m-connect-view>`;case"Create":return $`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return $`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return $`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return $`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return $`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return $`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return $`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return $`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return $`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return $`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return $`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return $`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return $`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return $`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return $`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return $`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return $`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return $`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return $`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return $`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return $`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return $`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return $`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return $`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return $`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return $`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return $`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return $`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return $`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return $`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return $`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return $`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return $`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return $`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return $`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return $`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return $`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return $`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return $`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return $`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return $`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return $`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return $`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return $`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return $`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return $`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return $`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return $`<w3m-pay-loading-view></w3m-pay-loading-view>`;default:return $`<w3m-connect-view></w3m-connect-view>`}}onViewChange(e){Hb.hide();let n=ng.VIEW_DIRECTION.Next;const{history:r}=He.state;r.length<this.prevHistoryLength&&(n=ng.VIEW_DIRECTION.Prev),this.prevHistoryLength=r.length,this.viewDirection=n,setTimeout(()=>{this.view=e},ng.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){return this.shadowRoot?.querySelector("div")}};k_.styles=TNt;gz([W()],k_.prototype,"view",void 0);gz([W()],k_.prototype,"viewDirection",void 0);k_=gz([pt("w3m-router")],k_);const NNt=Be`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.appkit-modal) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`;var mm=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const mee="scroll-lock";class Qd extends Q{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=Ie.state.enableEmbedded,this.open=Gn.state.open,this.caipAddress=G.state.activeCaipAddress,this.caipNetwork=G.state.activeCaipNetwork,this.shake=Gn.state.shake,this.filterByNamespace=Le.state.filterByNamespace,this.initializeTheming(),Ve.prefetchAnalyticsConfig(),this.unsubscribe.push(Gn.subscribeKey("open",e=>e?this.onOpen():this.onClose()),Gn.subscribeKey("shake",e=>this.shake=e),G.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),G.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),Ie.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),Le.subscribeKey("filterByNamespace",e=>{this.filterByNamespace!==e&&!G.getAccountData(e)?.caipAddress&&(Ve.fetchRecommendedWallets(),this.filterByNamespace=e)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){Gn.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?$`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?$`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return $` <wui-card
      shake="${this.shake}"
      data-embedded="${le(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await Iwe.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:n}=Bs.state,r=gs.getColorTheme(n);tTt(e,r)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),vi.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=mee,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${mee}"]`);e&&e.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const e=this.shadowRoot?.querySelector("wui-card");e?.focus(),window.addEventListener("keydown",n=>{if(n.key==="Escape")this.handleClose();else if(n.key==="Tab"){const{tagName:r}=n.target;r&&!r.includes("W3M-")&&!r.includes("WUI-")&&e?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(e){const n=G.state.isSwitchingNamespace,r=We.getPlainAddress(e);!r&&!n?Gn.close():n&&r&&He.goBack(),await Bw.initializeIfEnabled(),this.caipAddress=e,G.setIsSwitchingNamespace(!1)}onNewNetwork(e){const n=this.caipNetwork,r=n?.caipNetworkId?.toString(),i=n?.chainNamespace,s=e?.caipNetworkId?.toString(),o=e?.chainNamespace,a=r!==s,l=a&&!(i!==o),u=n?.name===vt.UNSUPPORTED_NETWORK_NAME,d=He.state.view==="ConnectingExternal",h=!G.getAccountData(e?.chainNamespace)?.caipAddress,p=He.state.view==="UnsupportedChain",f=Gn.state.open;let g=!1;f&&!d&&(h?a&&(g=!0):(p||l&&!u)&&(g=!0)),g&&He.state.view!=="SIWXSignMessage"&&He.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(Ve.prefetch(),Ve.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}Qd.styles=NNt;mm([L({type:Boolean})],Qd.prototype,"enableEmbedded",void 0);mm([W()],Qd.prototype,"open",void 0);mm([W()],Qd.prototype,"caipAddress",void 0);mm([W()],Qd.prototype,"caipNetwork",void 0);mm([W()],Qd.prototype,"shake",void 0);mm([W()],Qd.prototype,"filterByNamespace",void 0);let YD=class extends Qd{};YD=mm([pt("w3m-modal")],YD);let JD=class extends Qd{};JD=mm([pt("appkit-modal")],JD);const ONt=Object.freeze(Object.defineProperty({__proto__:null,get AppKitModal(){return JD},get W3mModal(){return YD},W3mModalBase:Qd},Symbol.toStringTag,{value:"Module"})),PNt=ye`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`,RNt=Object.freeze(Object.defineProperty({__proto__:null,addSvg:PNt},Symbol.toStringTag,{value:"Module"})),DNt=ye`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`,UNt=Object.freeze(Object.defineProperty({__proto__:null,allWalletsSvg:DNt},Symbol.toStringTag,{value:"Module"})),MNt=ye`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`,LNt=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomCircleSvg:MNt},Symbol.toStringTag,{value:"Module"})),jNt=ye`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`,BNt=Object.freeze(Object.defineProperty({__proto__:null,appStoreSvg:jNt},Symbol.toStringTag,{value:"Module"})),zNt=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,WNt=Object.freeze(Object.defineProperty({__proto__:null,appleSvg:zNt},Symbol.toStringTag,{value:"Module"})),qNt=ye`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,FNt=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomSvg:qNt},Symbol.toStringTag,{value:"Module"})),HNt=ye`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`,VNt=Object.freeze(Object.defineProperty({__proto__:null,arrowLeftSvg:HNt},Symbol.toStringTag,{value:"Module"})),KNt=ye`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,ZNt=Object.freeze(Object.defineProperty({__proto__:null,arrowRightSvg:KNt},Symbol.toStringTag,{value:"Module"})),GNt=ye`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`,YNt=Object.freeze(Object.defineProperty({__proto__:null,arrowTopSvg:GNt},Symbol.toStringTag,{value:"Module"})),JNt=ye`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`,XNt=Object.freeze(Object.defineProperty({__proto__:null,bankSvg:JNt},Symbol.toStringTag,{value:"Module"})),QNt=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`,eOt=Object.freeze(Object.defineProperty({__proto__:null,browserSvg:QNt},Symbol.toStringTag,{value:"Module"})),tOt=ye`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`,nOt=Object.freeze(Object.defineProperty({__proto__:null,cardSvg:tOt},Symbol.toStringTag,{value:"Module"})),rOt=ye`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`,iOt=Object.freeze(Object.defineProperty({__proto__:null,checkmarkSvg:rOt},Symbol.toStringTag,{value:"Module"})),sOt=ye`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`,oOt=Object.freeze(Object.defineProperty({__proto__:null,checkmarkBoldSvg:sOt},Symbol.toStringTag,{value:"Module"})),aOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,cOt=Object.freeze(Object.defineProperty({__proto__:null,chevronBottomSvg:aOt},Symbol.toStringTag,{value:"Module"})),lOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,uOt=Object.freeze(Object.defineProperty({__proto__:null,chevronLeftSvg:lOt},Symbol.toStringTag,{value:"Module"})),dOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,hOt=Object.freeze(Object.defineProperty({__proto__:null,chevronRightSvg:dOt},Symbol.toStringTag,{value:"Module"})),pOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`,fOt=Object.freeze(Object.defineProperty({__proto__:null,chevronTopSvg:pOt},Symbol.toStringTag,{value:"Module"})),gOt=ye`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`,mOt=Object.freeze(Object.defineProperty({__proto__:null,chromeStoreSvg:gOt},Symbol.toStringTag,{value:"Module"})),wOt=ye`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`,yOt=Object.freeze(Object.defineProperty({__proto__:null,clockSvg:wOt},Symbol.toStringTag,{value:"Module"})),bOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,vOt=Object.freeze(Object.defineProperty({__proto__:null,closeSvg:bOt},Symbol.toStringTag,{value:"Module"})),EOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`,COt=Object.freeze(Object.defineProperty({__proto__:null,compassSvg:EOt},Symbol.toStringTag,{value:"Module"})),_Ot=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`,IOt=Object.freeze(Object.defineProperty({__proto__:null,coinPlaceholderSvg:_Ot},Symbol.toStringTag,{value:"Module"})),SOt=ye`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`,xOt=Object.freeze(Object.defineProperty({__proto__:null,copySvg:SOt},Symbol.toStringTag,{value:"Module"})),AOt=ye` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,kOt=Object.freeze(Object.defineProperty({__proto__:null,cursorSvg:AOt},Symbol.toStringTag,{value:"Module"})),$Ot=ye`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `,TOt=Object.freeze(Object.defineProperty({__proto__:null,cursorTransparentSvg:$Ot},Symbol.toStringTag,{value:"Module"})),NOt=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`,OOt=Object.freeze(Object.defineProperty({__proto__:null,desktopSvg:NOt},Symbol.toStringTag,{value:"Module"})),POt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,ROt=Object.freeze(Object.defineProperty({__proto__:null,disconnectSvg:POt},Symbol.toStringTag,{value:"Module"})),DOt=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,UOt=Object.freeze(Object.defineProperty({__proto__:null,discordSvg:DOt},Symbol.toStringTag,{value:"Module"})),MOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,LOt=Object.freeze(Object.defineProperty({__proto__:null,etherscanSvg:MOt},Symbol.toStringTag,{value:"Module"})),jOt=ye`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`,BOt=Object.freeze(Object.defineProperty({__proto__:null,extensionSvg:jOt},Symbol.toStringTag,{value:"Module"})),zOt=ye`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,WOt=Object.freeze(Object.defineProperty({__proto__:null,externalLinkSvg:zOt},Symbol.toStringTag,{value:"Module"})),qOt=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,FOt=Object.freeze(Object.defineProperty({__proto__:null,facebookSvg:qOt},Symbol.toStringTag,{value:"Module"})),HOt=ye`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,VOt=Object.freeze(Object.defineProperty({__proto__:null,farcasterSvg:HOt},Symbol.toStringTag,{value:"Module"})),KOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,ZOt=Object.freeze(Object.defineProperty({__proto__:null,filtersSvg:KOt},Symbol.toStringTag,{value:"Module"})),GOt=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,YOt=Object.freeze(Object.defineProperty({__proto__:null,githubSvg:GOt},Symbol.toStringTag,{value:"Module"})),JOt=ye`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,XOt=Object.freeze(Object.defineProperty({__proto__:null,googleSvg:JOt},Symbol.toStringTag,{value:"Module"})),QOt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`,ePt=Object.freeze(Object.defineProperty({__proto__:null,helpCircleSvg:QOt},Symbol.toStringTag,{value:"Module"})),tPt=ye`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`,nPt=Object.freeze(Object.defineProperty({__proto__:null,imageSvg:tPt},Symbol.toStringTag,{value:"Module"})),rPt=ye`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`,iPt=Object.freeze(Object.defineProperty({__proto__:null,idSvg:rPt},Symbol.toStringTag,{value:"Module"})),sPt=ye`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`,oPt=Object.freeze(Object.defineProperty({__proto__:null,infoCircleSvg:sPt},Symbol.toStringTag,{value:"Module"})),aPt=ye`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`,cPt=Object.freeze(Object.defineProperty({__proto__:null,lightbulbSvg:aPt},Symbol.toStringTag,{value:"Module"})),lPt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`,uPt=Object.freeze(Object.defineProperty({__proto__:null,mailSvg:lPt},Symbol.toStringTag,{value:"Module"})),dPt=ye`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`,hPt=Object.freeze(Object.defineProperty({__proto__:null,mobileSvg:dPt},Symbol.toStringTag,{value:"Module"})),pPt=ye`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`,fPt=Object.freeze(Object.defineProperty({__proto__:null,moreSvg:pPt},Symbol.toStringTag,{value:"Module"})),gPt=ye`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`,mPt=Object.freeze(Object.defineProperty({__proto__:null,networkPlaceholderSvg:gPt},Symbol.toStringTag,{value:"Module"})),wPt=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`,yPt=Object.freeze(Object.defineProperty({__proto__:null,nftPlaceholderSvg:wPt},Symbol.toStringTag,{value:"Module"})),bPt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`,vPt=Object.freeze(Object.defineProperty({__proto__:null,offSvg:bPt},Symbol.toStringTag,{value:"Module"})),EPt=ye` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`,CPt=Object.freeze(Object.defineProperty({__proto__:null,playStoreSvg:EPt},Symbol.toStringTag,{value:"Module"})),_Pt=ye`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`,IPt=Object.freeze(Object.defineProperty({__proto__:null,plusSvg:_Pt},Symbol.toStringTag,{value:"Module"})),SPt=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`,xPt=Object.freeze(Object.defineProperty({__proto__:null,qrCodeIcon:SPt},Symbol.toStringTag,{value:"Module"})),APt=ye`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`,kPt=Object.freeze(Object.defineProperty({__proto__:null,recycleHorizontalSvg:APt},Symbol.toStringTag,{value:"Module"})),$Pt=ye`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`,TPt=Object.freeze(Object.defineProperty({__proto__:null,refreshSvg:$Pt},Symbol.toStringTag,{value:"Module"})),NPt=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`,OPt=Object.freeze(Object.defineProperty({__proto__:null,searchSvg:NPt},Symbol.toStringTag,{value:"Module"})),PPt=ye`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`,RPt=Object.freeze(Object.defineProperty({__proto__:null,sendSvg:PPt},Symbol.toStringTag,{value:"Module"})),DPt=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,UPt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalSvg:DPt},Symbol.toStringTag,{value:"Module"})),MPt=ye`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`,LPt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalMediumSvg:MPt},Symbol.toStringTag,{value:"Module"})),jPt=ye`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`,BPt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalBoldSvg:jPt},Symbol.toStringTag,{value:"Module"})),zPt=ye`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`,WPt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalRoundedBoldSvg:zPt},Symbol.toStringTag,{value:"Module"})),qPt=ye`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,FPt=Object.freeze(Object.defineProperty({__proto__:null,swapVerticalSvg:qPt},Symbol.toStringTag,{value:"Module"})),HPt=ye`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,VPt=Object.freeze(Object.defineProperty({__proto__:null,telegramSvg:HPt},Symbol.toStringTag,{value:"Module"})),KPt=ye`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`,ZPt=Object.freeze(Object.defineProperty({__proto__:null,threeDotsSvg:KPt},Symbol.toStringTag,{value:"Module"})),GPt=ye`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,YPt=Object.freeze(Object.defineProperty({__proto__:null,twitchSvg:GPt},Symbol.toStringTag,{value:"Module"})),JPt=ye`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,wee=Object.freeze(Object.defineProperty({__proto__:null,xSvg:JPt},Symbol.toStringTag,{value:"Module"})),XPt=ye`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,QPt=Object.freeze(Object.defineProperty({__proto__:null,twitterIconSvg:XPt},Symbol.toStringTag,{value:"Module"})),e9t=ye`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`,t9t=Object.freeze(Object.defineProperty({__proto__:null,verifySvg:e9t},Symbol.toStringTag,{value:"Module"})),n9t=ye`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`,r9t=Object.freeze(Object.defineProperty({__proto__:null,verifyFilledSvg:n9t},Symbol.toStringTag,{value:"Module"})),i9t=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,s9t=Object.freeze(Object.defineProperty({__proto__:null,walletSvg:i9t},Symbol.toStringTag,{value:"Module"})),o9t=ye`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,a9t=ye`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,c9t=ye`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,hP=Object.freeze(Object.defineProperty({__proto__:null,walletConnectBrownSvg:c9t,walletConnectLightBrownSvg:a9t,walletConnectSvg:o9t},Symbol.toStringTag,{value:"Module"})),l9t=ye`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`,u9t=Object.freeze(Object.defineProperty({__proto__:null,walletPlaceholderSvg:l9t},Symbol.toStringTag,{value:"Module"})),d9t=ye`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`,h9t=Object.freeze(Object.defineProperty({__proto__:null,warningCircleSvg:d9t},Symbol.toStringTag,{value:"Module"})),p9t=ye`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`,f9t=Object.freeze(Object.defineProperty({__proto__:null,infoSvg:p9t},Symbol.toStringTag,{value:"Module"})),g9t=ye`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`,m9t=Object.freeze(Object.defineProperty({__proto__:null,exclamationTriangleSvg:g9t},Symbol.toStringTag,{value:"Module"})),w9t=ye`<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">
  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>
  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>
  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>
  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>
  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>
  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>
  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>
  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>
  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>
  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>
</svg>`,y9t=Object.freeze(Object.defineProperty({__proto__:null,reownSvg:w9t},Symbol.toStringTag,{value:"Module"}));export{A9t as B,s8e as a,VRt as b,Bse as c,QLt as d,ejt as e,B4 as f,tjt as g,B9t as h,njt as i,qRt as j,vte as k,FRt as l,PLt as m,HRt as n,jLt as o,NLt as p,JLt as q,XLt as r,Nke as s,wBt as t};
