import{e as oe}from"./vue-core-CU9AIURn.js";import{u as ve}from"./useMarketplace-C8EoGcBv.js";import{_ as Y,c as he}from"./index-QPPWK7xw.js";import{L as ye}from"./LoadingSpinner-BLJvP0iy.js";import{M as ke}from"./MaintenanceCard-DHuXhaWk.js";import{c as C,r as G,w as q,o as re,a as pe,P as L,g as y,Q as g,a3 as n,f as F,j as a,T as I,U as w,F as O,l as X,p as K,x as _e,m as de,y as R,q as ue}from"./apexcharts-nIAyciCq.js";import{A as me}from"./AppIcon-C7IHDcXp.js";import{aa as fe,b as U,X as Ce,d as be,V as Z,_ as Ae,s as j,c as J,r as we,I as Ie,a0 as le}from"./vuetify-_4u1He_j.js";import{u as ee}from"./i18n-Bm8bpAAW.js";import{H as Ne}from"./HeroSection-C2d3qMIS.js";import{b as Se,d as xe,g as $e,e as De,a as Fe}from"./useSEO-5BaNf11O.js";import{u as Ge}from"./useAnalytics-CteLaQrD.js";import"./http-BZQDkn3h.js";import"./ansi-utils-ChIB8aIv.js";import"./crypto-metamask-D6vz180a.js";import"./socketio-BDGyx5_k.js";import"./uuid-B49X2dQj.js";import"./vueuse-Bid7ZbHY.js";import"./unhead-DEOrWl0D.js";import"./cookie-BfmCf_44.js";import"./unjs-utils-GcjLqAqW.js";import"./query-parser-C3-dT-Rr.js";import"./casl-DNC8KRD8.js";import"./scrollbar-CXs_Utq1.js";import"./icons-mdi-_QP0sdRJ.js";import"./sanitizer-DAUAC_Zc.js";import"./element-plus-Cr1Qs4Q_.js";import"./lodash-C_Sw0jJq.js";import"./useGameUtils-lp2yFmRD.js";function Me(){return{formatNumber:e=>!e&&e!==0?"0":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),formatPrice:e=>!e||e===0?"0.00":e.toFixed(2),truncateText:(e,d=100)=>e?e.length>d?e.substring(0,d)+"...":e:"No description available",getCategoryColor:(e,d=null)=>{let s=e;d&&d.get&&(s=d.get(e)||e);const b=(s||"").toLowerCase();return{blockchain:"primary","front-end":"info",masternode:"success","rpc node":"warning",hosting:"secondary",games:"error",newgames:"pink",blockbook:"purple",productivity:"orange",defi:"success",gaming:"error",social:"info",development:"purple",media:"pink",utilities:"teal",ai:"indigo",infrastructure:"orange",other:"grey"}[b]||"primary"},getAppColor:e=>{const d=e.displayName||e.name||"Unknown",s=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#FF9800","#FF5722","#795548","#607D8B"];let b=0;for(let l=0;l<d.length;l++)b=d.charCodeAt(l)+((b<<5)-b);return s[Math.abs(b)%s.length]},getAppInitials:e=>{const d=e.displayName||e.name||"Unknown",s=d.split(/\s+/);return s.length>=2?(s[0][0]+s[1][0]).toUpperCase():d.substring(0,2).toUpperCase()},formatRelativeTime:e=>{if(!e)return"New";const s=Date.now()-e,b=Math.abs(s),l=Math.floor(b/(1e3*60*60)),i=Math.floor(l/24);return s<0?l<1?"Soon":l<24?`In ${l}h`:`In ${i}d`:l<1?"Just now":l<24?`${l}h ago`:i===1?"1d ago":i<30?`${i}d ago`:i<365?`${Math.floor(i/30)}mo ago`:`${Math.floor(i/365)}y ago`},debounce:(e,d=300)=>{let s;return(...b)=>{clearTimeout(s),s=setTimeout(()=>e(...b),d)}},isValidImageUrl:e=>e?e.startsWith("data:image/")||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//"):!1,proxyImageUrl:e=>e?e.startsWith("//")?"https:"+e:e.startsWith("http://")?e.replace("http://","https://"):e:""}}const Te={key:0,class:"loading-container"},Pe={key:1,class:"empty-container"},ze={class:"text-h6 mt-3 font-weight-medium"},Re={key:2,class:"carousel-wrapper"},Ee={class:"sponsored-badge"},Ve={class:"app-body"},We={class:"app-content"},Be={class:"icon-section"},Ue={class:"app-info"},He={class:"app-name"},Le={class:"app-stats"},Oe={key:0,class:"stat-item"},je={class:"stat-value"},qe={class:"sponsored-action"},Qe={__name:"SponsoredCard",props:{apps:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},mobile:{type:Boolean,default:!1}},setup(E){const N=E,{t:k}=ee(),M=oe(),{width:x}=fe(),u=C(()=>({sponsored:k("components.marketplace.sponsoredCard.sponsored"),noSponsoredApps:k("components.marketplace.sponsoredCard.noSponsoredApps"),viewDetails:k("components.marketplace.sponsoredCard.viewDetails"),free:k("components.marketplace.sponsoredCard.free")})),V=C(()=>({background:"rgb(var(--v-theme-primary))",color:"#ffffff",fontWeight:"600"})),$=C(()=>({color:"#FFD700 !important"})),D=G(0),P=G(null),e=G(!0);q([()=>N.apps,()=>N.loading],([r,v])=>{v?e.value=!0:v||(e.value=!1)},{immediate:!0});const d=C(()=>[...N.apps].filter(r=>r.visible!==!1&&r.enabled!==!1)),s=C(()=>{const f=x.value-32;return(f-24)/3>=280?3:(f-12)/2>=200?2:1}),b=C(()=>{if(d.value.length===0)return[];const r=d.value.length,v=s.value;if(r<=v)return[d.value];const h=[];for(let z=0;z<r;z++){const f=[];for(let t=0;t<v;t++){const o=(z+t)%r;f.push(d.value[o])}h.push(f)}return h}),l=r=>{M.push(`/marketplace/${r.uuid||r.name}`)},i=r=>{let h=r.displayName||r.name||"";return h=h.replace(/[\[(]([^)\]]*(?:cpu|ram|gb|mb|vcpu|core)[^)\]]*)[\])]/gi,"").trim(),h=h.replace(/\b(\d+(?:\.\d+)?\s*(?:GB|MB|CPU|vCPU|Cores?|GHz)(?:\s+RAM)?)\b/gi,"").trim(),h=h.replace(/\b(Testnet|Mainnet|Test)\b/gi,"").trim(),h=h.replace(/\s+/g," ").trim(),h},T=r=>r?r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(1)+"K":r.toString():"0",A=()=>{W(),!(b.value.length<=1)&&(P.value=setInterval(()=>{const r=b.value.length;r>1&&(D.value=(D.value+1)%r)},5e3))},W=()=>{P.value&&(clearInterval(P.value),P.value=null)};return q([d,s],()=>{D.value=0,setTimeout(A,500)},{immediate:!1}),re(()=>{setTimeout(A,2e3)}),pe(()=>{W()}),(r,v)=>(y(),L(Z,{class:"sponsored-card",elevation:"3"},{default:g(()=>[n(be,{class:"card-content"},{default:g(()=>[e.value?(y(),F("div",Te,[...v[1]||(v[1]=[a("div",{class:"modern-loader"},[a("div",{class:"loader-ring"}),a("div",{class:"loader-ring"}),a("div",{class:"loader-ring"})],-1)])])):d.value.length?(y(),F("div",Re,[n(Ce,{modelValue:D.value,"onUpdate:modelValue":v[0]||(v[0]=h=>D.value=h),class:"sponsored-window",eager:"",touch:!1},{default:g(()=>[(y(!0),F(O,null,X(b.value,(h,z)=>(y(),L(Ae,{key:z},{default:g(()=>[a("div",{class:"sponsored-grid",style:K({gridTemplateColumns:`repeat(${s.value}, 1fr)`})},[(y(!0),F(O,null,X(h,(f,t)=>(y(),L(Z,{key:f.uuid||f.name,class:"sponsored-app",variant:"outlined"},{default:g(()=>[a("div",Ee,[a("div",{style:K(V.value)},[n(U,{size:"12",class:"star-icon",style:K($.value)},{default:g(()=>[...v[3]||(v[3]=[I("mdi-star",-1)])]),_:1},8,["style"]),I(" "+w(u.value.sponsored),1)],4)]),a("div",Ve,[a("div",We,[a("div",Be,[n(me,{app:f,size:48,sponsored:"","star-index":t},null,8,["app","star-index"])]),a("div",Ue,[a("h3",He,w(i(f)),1),a("div",Le,[f.installCount?(y(),F("div",Oe,[n(U,{icon:"mdi-download",size:"13",color:"grey-darken-1"}),a("span",je,w(T(f.installCount)),1)])):_e("",!0),n(j,{color:f.price>0?"success":"primary",size:"x-small",variant:"tonal",class:"price-chip"},{default:g(()=>[I(w(f.price>0?`$${f.price}`:u.value.free),1)]),_:2},1032,["color"])])])]),a("div",qe,[n(J,{color:"primary",variant:"flat",size:"x-small",rounded:"pill",class:"sponsored-view-btn",onClick:de(o=>l(f),["stop"])},{default:g(()=>[n(U,{start:"",size:"13"},{default:g(()=>[...v[4]||(v[4]=[I("mdi-eye",-1)])]),_:1}),I(" "+w(u.value.viewDetails),1)]),_:1},8,["onClick"])])])]),_:2},1024))),128))],4)]),_:2},1024))),128))]),_:1},8,["modelValue"])])):(y(),F("div",Pe,[n(U,{size:"80",color:"grey-lighten-1"},{default:g(()=>[...v[2]||(v[2]=[I("mdi-star-outline",-1)])]),_:1}),a("p",ze,w(u.value.noSponsoredApps),1)]))]),_:1})]),_:1}))}},Xe=Y(Qe,[["__scopeId","data-v-421570b5"]]),Ke={class:"card-content"},Ze={class:"app-top-section"},Je={class:"app-icon-container"},Ye={class:"app-name-section"},et={class:"app-name-row"},tt={class:"app-name"},at={class:"app-tags"},st={class:"app-stats-section"},ot={class:"stats-row"},rt={class:"app-description-section"},lt={class:"app-description"},nt={class:"app-action-section"},it={__name:"AppCard",props:{app:{type:Object,required:!0},marketplaceCategories:{type:Array,default:()=>[]},animationOrder:{type:Number,default:0}},setup(E){const N=E,{t:k}=ee(),M=oe(),{formatNumber:x,formatPrice:u}=Me(),V=G(!1),$=G(null),D=G(!1),P=C(()=>{if(!N.app.category)return k("components.marketplace.appCard.defaultCategory");const l=N.marketplaceCategories.find(i=>i.uuid===N.app.category);return l?l.name:k("components.marketplace.appCard.defaultCategory")}),e=C(()=>{const l=N.app.displayName||N.app.name||"";console.log("ðŸ” Parsing app name:",l);const i=[],T=[];let A=l;const W=/[\[(]([^)\]]*(?:cpu|ram|gb|mb|vcpu|core)[^)\]]*)[\])]/gi,r=l.match(W);r&&(console.log("ðŸ“Š Found hardware in brackets:",r),A=A.replace(W,"").trim(),r.forEach(t=>{const S=t.replace(/[\[\]()]/g,"").trim().split(/[,;]/).map(_=>_.trim()).filter(_=>_);i.push(...S)}));const v=/\b(\d+(?:\.\d+)?\s*(?:GB|MB|CPU|vCPU|Cores?|GHz)(?:\s+RAM)?)\b/gi,h=A.match(v);h&&(console.log("ðŸ“Š Found hardware directly in name:",h),h.forEach(t=>{A=A.replace(t,"").trim(),i.push(t.trim())}));const z=/\b(Testnet|Mainnet|Test)\b/gi,f=A.match(z);return f&&(console.log("ðŸŒ Found network type in name:",f),f.forEach(t=>{A=A.replace(t,"").trim(),T.push(t.trim())})),A=A.replace(/\s+/g," ").trim(),console.log("âœ… Parsed result:",{cleanName:A,hardwareTags:i,networkTags:T}),{cleanName:A,hardwareTags:i,networkTags:T}}),d=()=>{const l=N.app.name?.toLowerCase()||N.app.uuid;M.push(`/marketplace/${l}`)},s=()=>{d()};let b=null;return re(()=>{$.value&&(b=new IntersectionObserver(l=>{l.forEach(i=>{i.isIntersecting&&!D.value&&(D.value=!0)})},{threshold:.1,rootMargin:"200px"}),b.observe($.value))}),pe(()=>{b&&$.value&&b.unobserve($.value)}),(l,i)=>(y(),F("div",{ref_key:"cardRef",ref:$,class:ue(["app-card-wrapper",{hovered:V.value,"is-visible":D.value}]),style:K({"--animation-order":E.animationOrder}),onMouseenter:i[0]||(i[0]=T=>V.value=!0),onMouseleave:i[1]||(i[1]=T=>V.value=!1),onClick:s},[n(Z,{class:"app-card",elevation:"0"},{default:g(()=>[a("div",Ke,[a("div",Ze,[a("div",Je,[n(me,{app:E.app,size:60},null,8,["app"])]),a("div",Ye,[a("div",et,[a("h3",tt,w(e.value.cleanName),1),(y(!0),F(O,null,X(e.value.networkTags,(T,A)=>(y(),L(j,{key:A,size:"x-small",color:"warning",variant:"tonal",class:"network-chip"},{default:g(()=>[I(w(T),1)]),_:2},1024))),128))]),a("div",at,[n(j,{size:"x-small",color:"grey",variant:"outlined",class:"category-chip"},{default:g(()=>[I(w(P.value),1)]),_:1}),(y(!0),F(O,null,X(e.value.hardwareTags,(T,A)=>(y(),L(j,{key:A,size:"x-small",color:"info",variant:"tonal",class:"hardware-chip"},{default:g(()=>[I(w(T),1)]),_:2},1024))),128))])])]),n(we,{class:"card-divider"}),a("div",st,[a("div",ot,[n(j,{size:"small",color:"info",variant:"tonal",class:"stat-chip"},{default:g(()=>[n(U,{icon:"mdi-download",size:"14"}),I(" "+w(R(x)(E.app.installCount||0)),1)]),_:1}),n(j,{size:"small",color:"success",variant:"tonal",class:"price-chip"},{default:g(()=>[I(" $"+w(R(u)(E.app.price)),1)]),_:1})])]),a("div",rt,[a("p",lt,w(E.app.description||R(k)("components.marketplace.appCard.noDescription")),1)]),a("div",nt,[n(J,{color:"primary",variant:"flat",size:"x-small",rounded:"pill",class:"view-details-btn",onClick:de(s,["stop"])},{default:g(()=>[n(U,{start:"",size:"14"},{default:g(()=>[...i[2]||(i[2]=[I("mdi-eye",-1)])]),_:1}),I(" "+w(R(k)("components.marketplace.appCard.viewDetails")),1)]),_:1})])])]),_:1})],38))}},ct=Y(it,[["__scopeId","data-v-3f232d97"]]),pt={class:"apps-grid-wrapper"},dt={class:"grid-header"},ut={class:"header-top"},mt={class:"section-title"},ft={class:"controls-row"},gt={key:0,class:"loading-state"},vt={key:1,class:"empty-state"},ht={class:"mt-1 mb-0"},yt={class:"text-body-1 mb-0"},kt={key:2,class:"apps-container"},_t={class:"apps-content"},Ct={__name:"AppsGrid",props:{apps:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},searchQuery:{type:String,default:""},selectedCategory:{type:[String,null],default:null},sortBy:{type:String,default:"recent"},categories:{type:Array,default:()=>[]},marketplaceCategories:{type:Array,default:()=>[]},compact:{type:Boolean,default:!1},mobile:{type:Boolean,default:!1}},emits:["update:search","update:category","update:sort","deploy","refresh"],setup(E,{emit:N}){const k=E,M=N,x={MIN_CARD_WIDTH:300,MIN_CARD_HEIGHT:280,GRID_GAP:16,CONTAINER_PADDING:40,HEADER_HEIGHT:200,PAGINATION_HEIGHT:60,RESERVED_SPACE:150,MAX_ROWS:4,MIN_ROWS:1},{t:u}=ee(),{width:V}=fe(),$=G(k.searchQuery),D=G(k.selectedCategory),P=G(k.sortBy),e=G(1);G("next");const d=C(()=>[{title:u("components.marketplace.appsGrid.sortDefault"),value:null},{title:u("components.marketplace.appsGrid.sortDate"),value:"date"},{title:u("components.marketplace.appsGrid.sortName"),value:"name"}]),s=C(()=>({title:u("components.marketplace.appsGrid.title"),searchPlaceholder:u("components.marketplace.appsGrid.searchPlaceholder"),category:u("components.marketplace.appsGrid.category"),sortBy:u("components.marketplace.appsGrid.sortBy"),allCategories:u("components.marketplace.appsGrid.allCategories"),loadingApps:u("components.marketplace.appsGrid.loadingApps"),noAppsFound:u("components.marketplace.appsGrid.noAppsFound"),adjustFilters:u("components.marketplace.appsGrid.adjustFilters"),resetFilters:u("components.marketplace.appsGrid.resetFilters"),noAppsAvailable:u("components.marketplace.appsGrid.noAppsAvailable"),marketplaceEmpty:u("components.marketplace.appsGrid.marketplaceEmpty"),refresh:u("components.marketplace.appsGrid.refresh"),previous:u("components.marketplace.appsGrid.previous"),next:u("components.marketplace.appsGrid.next")})),b=C(()=>[{title:s.value.allCategories,value:null},...k.categories]),l=C(()=>{const t=V.value-x.CONTAINER_PADDING;return t>=x.MIN_CARD_WIDTH*3+x.GRID_GAP*2?3:t>=x.MIN_CARD_WIDTH*2+x.GRID_GAP?2:1});C(()=>{const t=window.innerHeight-x.HEADER_HEIGHT-x.PAGINATION_HEIGHT-x.RESERVED_SPACE,o=Math.max(x.MIN_ROWS,Math.floor(t/x.MIN_CARD_HEIGHT));return Math.min(o,x.MAX_ROWS)});const i=C(()=>l.value*20),T=C(()=>l.value===1?"grid-mobile":l.value===2?"grid-sm":"grid-md");C(()=>k.apps.length);const A=C(()=>Math.ceil(k.apps.length/i.value)),W=C(()=>{const t=(e.value-1)*i.value,o=t+i.value;return k.apps.slice(t,o)});C(()=>{const t=[],o=A.value,S=e.value;if(o<=7)for(let _=1;_<=o;_++)t.push(_);else if(S<=3){for(let _=1;_<=5;_++)t.push(_);t.push("..."),t.push(o)}else if(S>=o-2){t.push(1),t.push("...");for(let _=o-4;_<=o;_++)t.push(_)}else{t.push(1),t.push("...");for(let _=S-1;_<=S+1;_++)t.push(_);t.push("..."),t.push(o)}return t});const r=t=>{M("update:search",t),e.value=1},v=t=>{M("update:category",t),e.value=1},h=t=>{M("update:sort",t),e.value=1},z=()=>{$.value="",D.value=null,P.value="recent",r(""),v(null),h("recent")},f=()=>{M("refresh")};return q(()=>k.searchQuery,t=>{$.value=t}),q(()=>k.selectedCategory,t=>{D.value=t}),q(()=>k.sortBy,t=>{P.value=t}),(t,o)=>(y(),F("div",pt,[n(Z,{class:"apps-grid-card",elevation:"3"},{default:g(()=>[a("div",dt,[a("div",ut,[a("h2",mt,[n(U,{start:"",size:"20",color:"secondary"},{default:g(()=>[...o[3]||(o[3]=[I("mdi-apps",-1)])]),_:1}),I(" "+w(s.value.title),1)])]),a("div",ft,[n(Ie,{modelValue:$.value,"onUpdate:modelValue":[o[0]||(o[0]=S=>$.value=S),r],placeholder:s.value.searchPlaceholder,variant:"outlined",density:"compact",clearable:"","hide-details":"",class:"search-field"},{"prepend-inner":g(()=>[n(U,{size:"20",color:"grey"},{default:g(()=>[...o[4]||(o[4]=[I("mdi-magnify",-1)])]),_:1})]),_:1},8,["modelValue","placeholder"]),n(le,{modelValue:D.value,"onUpdate:modelValue":[o[1]||(o[1]=S=>D.value=S),v],items:b.value,label:s.value.category,variant:"outlined",density:"compact","hide-details":"",class:"category-select","prepend-inner-icon":"mdi-tag"},null,8,["modelValue","items","label"]),n(le,{modelValue:P.value,"onUpdate:modelValue":[o[2]||(o[2]=S=>P.value=S),h],items:d.value,label:s.value.sortBy,variant:"outlined",density:"compact","hide-details":"",class:"sort-select","prepend-inner-icon":"mdi-sort"},null,8,["modelValue","items","label"])])]),E.loading?(y(),F("div",gt,[o[5]||(o[5]=a("div",{class:"modern-loader"},[a("div",{class:"loader-ring"}),a("div",{class:"loader-ring"}),a("div",{class:"loader-ring"})],-1)),a("p",null,w(s.value.loadingApps),1)])):W.value.length?(y(),F("div",kt,[a("div",_t,[a("div",{class:ue(["apps-grid",T.value])},[(y(!0),F(O,null,X(k.apps,(S,_)=>(y(),L(ct,{key:S.uuid||S.name,app:S,"marketplace-categories":E.marketplaceCategories,"animation-order":_,onDeploy:te=>t.$emit("deploy",S)},null,8,["app","marketplace-categories","animation-order","onDeploy"]))),128))],2)])])):(y(),F("div",vt,[$.value||D.value?(y(),F(O,{key:0},[n(U,{size:"64",color:"grey"},{default:g(()=>[...o[6]||(o[6]=[I("mdi-magnify-close",-1)])]),_:1}),a("h3",null,w(s.value.noAppsFound),1),a("p",null,w(s.value.adjustFilters),1),n(J,{variant:"flat",color:"primary",onClick:z},{default:g(()=>[I(w(s.value.resetFilters),1)]),_:1})],64)):(y(),F(O,{key:1},[n(U,{size:"64",color:"grey"},{default:g(()=>[...o[7]||(o[7]=[I("mdi-store-off-outline",-1)])]),_:1}),a("h3",ht,w(s.value.noAppsAvailable),1),a("p",yt,w(s.value.marketplaceEmpty),1),n(J,{variant:"flat",color:"primary",class:"mt-3",onClick:f},{default:g(()=>[n(U,{start:""},{default:g(()=>[...o[8]||(o[8]=[I("mdi-refresh",-1)])]),_:1}),I(" "+w(s.value.refresh),1)]),_:1})],64))]))]),_:1})]))}},bt=Y(Ct,[["__scopeId","data-v-b74b41ba"]]),At={class:"marketplace-container"},wt={key:2,class:"marketplace-layout"},It={class:"sponsored-section"},Nt={class:"apps-grid-section"},se="https://cloud.runonflux.com/marketplace",ne="Marketplace - Deploy Decentralized Apps on Flux | FluxCloud",ie="Deploy decentralized apps on Flux's Web3 cloud. Docker containers, web apps, APIs on 8,000+ FluxNodes worldwide. One-click deployment, transparent pricing.",ce="https://cloud.runonflux.com/images/logo.png",St="2023-06-01T00:00:00Z",xt="2025-01-20T00:00:00Z",$t={__name:"index",setup(E){const{t:N}=ee(),k=oe(),{apps:M,newApps:x,sponsoredApps:u,categories:V,loading:$,error:D,fetchApps:P,fetchNewApps:e,fetchSponsoredApps:d,fetchCategories:s}=ve(),b=$e(),l=Se([{name:"Home",url:"https://cloud.runonflux.com"},{name:"Marketplace",url:se}]),i=De({headline:ne,description:ie,url:se,image:ce,datePublished:St,dateModified:xt}),T=C(()=>{if(M.value.length===0)return null;const p=M.value.slice(0,20).map(c=>({name:c.displayName||c.name||"Unknown App",url:`https://cloud.runonflux.com/marketplace/${c.uuid||c.name}`,description:c.description||`Deploy ${c.displayName||c.name} on Flux decentralized cloud`,price:c.price||0}));return xe(p,"FluxCloud Marketplace Applications")}),A=C(()=>{const p=[b,l,i];return T.value?[...p,T.value]:p});Fe({title:ne,description:ie,url:se,image:ce,keywords:"decentralized marketplace, Web3 apps, docker hosting, decentralized cloud, blockchain apps, flux marketplace, deploy applications, container hosting, API hosting, microservices, flux apps, one-click deployment",structuredData:A});const W=G(!0),r=G(8e3),v=G(!0),h=C(()=>N("pages.marketplace.hero.subtitle",{nodeCount:r.value.toLocaleString()})),z=G(""),f=G(null),t=G(null),o=C(()=>{const p=["games","newgames","gaming","game"];return V.value.filter(c=>p.some(m=>c.name.toLowerCase().includes(m.toLowerCase()))?!1:M.value.some(m=>m.category===c.uuid&&m.visible!==!1&&m.enabled!==!1)).map(c=>({title:c.name,value:c.uuid}))}),S=C(()=>{let p=[...M.value];p=p.filter(m=>m.visible!==!1&&m.enabled!==!1);const c=["games","newgames","gaming","game"],Q=V.value.filter(m=>c.some(B=>m.name.toLowerCase().includes(B.toLowerCase()))).map(m=>m.uuid);if(p=p.filter(m=>!Q.includes(m.category)),z.value){const m=z.value.toLowerCase();p=p.filter(B=>B.name?.toLowerCase().includes(m)||B.displayName?.toLowerCase().includes(m)||B.description?.toLowerCase().includes(m)||B.developer?.toLowerCase().includes(m)||B.tags?.some(ge=>ge.toLowerCase().includes(m)))}return f.value&&(p=p.filter(m=>m.category===f.value)),p.sort((m,B)=>{switch(t.value){case"date":return(B.timestamp||0)-(m.timestamp||0);case"name":return(m.displayName||m.name||"").localeCompare(B.displayName||B.name||"");default:return 0}}),p}),_=async p=>{try{k.push(`/marketplace/${p.uuid||p.name}`)}catch(c){console.error("Failed to navigate to app:",c)}},te=async()=>{try{v.value=!0;const p=he(),{serverLocations:c}=p;c.fluxList.length===0&&!c.lastFetched&&await new Promise(H=>{const Q=q(()=>c.fluxList.length,m=>{m>0&&(Q(),H())},{immediate:!0});setTimeout(()=>{Q(),H()},5e3)}),c.fluxNodeCount>0&&(r.value=c.fluxNodeCount),console.log("âœ… Network data loaded from store:",{nodeCount:r.value})}catch(p){console.error("Error loading network data from store:",p)}finally{v.value=!1}},ae=async()=>{W.value=!0;try{console.log("ðŸ”„ Refreshing marketplace data..."),await Promise.all([P(),e(),d(),s()]),console.log("âœ… Marketplace data refreshed successfully")}catch(p){console.error("âŒ Failed to refresh marketplace:",p)}finally{W.value=!1}};return re(async()=>{try{console.log("ðŸš€ Starting marketplace data load..."),Ge().trackMarketplace("page_view",{page:"marketplace"}),await Promise.all([P(),e(),d(),s(),te()]),console.log("âœ… Marketplace data loaded successfully"),console.log("ðŸ“Š Data summary:",{apps:M.value.length,newApps:x.value.length,sponsoredApps:u.value.length,categories:V.value.length})}catch(p){console.error("âŒ Failed to load marketplace:",p)}finally{W.value=!1}}),(p,c)=>(y(),F("div",At,[W.value?(y(),L(ye,{key:0,icon:"mdi-store","icon-size":56,title:R(N)("pages.marketplace.loading")},null,8,["title"])):R(D)||!W.value&&R(M).length===0?(y(),L(ke,{key:1,title:R(N)("pages.marketplace.maintenanceTitle"),subtitle:R(N)("pages.marketplace.maintenanceSubtitle"),loading:R($),onRetry:ae},null,8,["title","subtitle","loading"])):(y(),F("div",wt,[n(Ne,{title:R(N)("pages.marketplace.hero.title"),subtitle:h.value,"background-image":"/banner/FluxAppsMarketplace.webp",icon:"mdi-store","icon-aria-label":"Marketplace Logo"},null,8,["title","subtitle"]),a("div",It,[n(Xe,{apps:R(u),loading:R($)},null,8,["apps","loading"])]),a("div",Nt,[n(bt,{apps:S.value,loading:R($),"search-query":z.value,"selected-category":f.value,"sort-by":t.value,categories:o.value,"marketplace-categories":R(V),"onUpdate:search":c[0]||(c[0]=H=>z.value=H),"onUpdate:category":c[1]||(c[1]=H=>f.value=H),"onUpdate:sort":c[2]||(c[2]=H=>t.value=H),onDeploy:_,onRefresh:ae},null,8,["apps","loading","search-query","selected-category","sort-by","categories","marketplace-categories"])])]))]))}},ra=Y($t,[["__scopeId","data-v-fffc455a"]]);export{ra as default};
