import{u as W}from"./useGameUtils-lp2yFmRD.js";import{_ as S}from"./index-QPPWK7xw.js";import{b as n,R as I,G as V}from"./vuetify-_4u1He_j.js";import{c as s,f as b,g as l,P as p,Q as o,j as g,p as h,a3 as m,T as c,U as d}from"./apexcharts-nIAyciCq.js";const $={class:"icon-loading"},D={__name:"AppIcon",props:{app:{type:Object,required:!0},size:{type:Number,default:48},sponsored:{type:Boolean,default:!1},starIndex:{type:Number,default:0}},setup(e){const a=e,{parseLandingImage:x}=W(),i=s(()=>x(a.app.icon)),k=s(()=>i.value?.startsWith("data:image/")),y=s(()=>i.value?.startsWith("http://")||i.value?.startsWith("https://")||i.value?.startsWith("//")),F=s(()=>i.value?.endsWith(".svg")),B=s(()=>i.value?.startsWith("mdi-")),A=s(()=>{if(!y.value)return i.value||"";let t=i.value;return t.startsWith("//")&&(t="https:"+t),t.startsWith("http://")&&(t=t.replace("http://","https://")),t});s(()=>{const t=a.app.displayName||a.app.name||"App",r=t.split(/\s+/);return r.length>=2?(r[0][0]+r[1][0]).toUpperCase():t.substring(0,2).toUpperCase()}),s(()=>{const t=a.app.displayName||a.app.name||"",r=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#FF9800","#FF5722","#795548","#607D8B"];let u=0;for(let z=0;z<t.length;z++)u=t.charCodeAt(z)+((u<<5)-u);return r[Math.abs(u)%r.length]});const w=s(()=>a.app.iconColor||"primary"),C=["#FFD700","#FFA500","#FF6347","#9370DB","#20B2AA"],v=s(()=>a.sponsored?C[a.starIndex%C.length]:"white"),N=s(()=>({width:`${a.size}px`,height:`${a.size}px`,borderRadius:"12px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent"})),f=s(()=>({width:`${a.size}px`,height:`${a.size}px`,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#9e9e9e",borderRadius:"12px",userSelect:"none"}));return(t,r)=>(l(),b("div",{class:"app-icon-wrapper",style:h(N.value)},[k.value?(l(),p(I,{key:0,src:i.value,alt:`${e.app.displayName||e.app.name} icon`,width:e.size,height:e.size,"aspect-ratio":1,contain:"",class:"app-icon-image"},{error:o(()=>[g("div",{class:"fallback-icon",style:h(f.value)},[m(n,{size:e.sponsored?e.size*.85:e.size*.6,color:e.sponsored?v.value:"white"},{default:o(()=>[c(d(e.sponsored?"mdi-star-outline":"mdi-apps"),1)]),_:1},8,["size","color"])],4)]),_:1},8,["src","alt","width","height"])):y.value?(l(),p(I,{key:1,src:A.value,alt:`${e.app.displayName||e.app.name} icon`,width:e.size,height:e.size,"aspect-ratio":1,contain:"",class:"app-icon-image"},{placeholder:o(()=>[g("div",$,[m(V,{indeterminate:"",size:e.size/3,width:2,color:"primary"},null,8,["size"])])]),error:o(()=>[g("div",{class:"fallback-icon",style:h(f.value)},[m(n,{size:e.sponsored?e.size*.85:e.size*.6,color:e.sponsored?v.value:"white"},{default:o(()=>[c(d(e.sponsored?"mdi-star-outline":"mdi-apps"),1)]),_:1},8,["size","color"])],4)]),_:1},8,["src","alt","width","height"])):F.value?(l(),p(n,{key:2,size:e.size,color:w.value},{default:o(()=>[c(d(i.value),1)]),_:1},8,["size","color"])):B.value?(l(),p(n,{key:3,size:e.size,color:w.value},{default:o(()=>[c(d(i.value||"mdi-application"),1)]),_:1},8,["size","color"])):(l(),b("div",{key:4,class:"fallback-icon",style:h(f.value)},[m(n,{size:e.sponsored?e.size*.85:e.size*.6,color:e.sponsored?v.value:"white"},{default:o(()=>[c(d(e.sponsored?"mdi-star-outline":"mdi-apps"),1)]),_:1},8,["size","color"])],4))],4))}},G=S(D,[["__scopeId","data-v-b62d96bf"]]);export{G as A};
