import{c as $,_ as N}from"./index-QPPWK7xw.js";import{s as M}from"./vue-core-CU9AIURn.js";import{u as V}from"./i18n-Bm8bpAAW.js";import{c as o,P as S,g as i,Q as d,a3 as v,j as n,f as p,x as y,U as c,y as b,l as z,F as I,T as L,q as A,p as F}from"./apexcharts-nIAyciCq.js";import{b as h,o as O,c as J,d as D,V as B,p as E,Q as P}from"./vuetify-_4u1He_j.js";function W(){const{t:e}=V(),r=$(),{trustpilot:s}=M(r),g=()=>({rating:parseFloat(e("common.trustpilot.score"))||4.5,reviewCount:parseInt(e("common.trustpilot.reviewsCount"))||16,ratingText:e("common.trustpilot.rating"),reviewsText:e("common.trustpilot.reviews"),profileUrl:e("common.trustpilot.profileUrl"),ratingLabel:e("common.trustpilot.ratingLabel"),title:e("common.trustpilot.title"),sampleReviews:[{text:e("common.trustpilot.sampleReviews.review1.text"),author:e("common.trustpilot.sampleReviews.review1.author"),rating:parseInt(e("common.trustpilot.sampleReviews.review1.rating"))},{text:e("common.trustpilot.sampleReviews.review2.text"),author:e("common.trustpilot.sampleReviews.review2.author"),rating:parseInt(e("common.trustpilot.sampleReviews.review2.rating"))},{text:e("common.trustpilot.sampleReviews.review3.text"),author:e("common.trustpilot.sampleReviews.review3.author"),rating:parseInt(e("common.trustpilot.sampleReviews.review3.rating"))}],source:"fallback",fetchedAt:null}),u=o(()=>s.value.data||g()),x=o(()=>u.value?.rating||parseFloat(e("common.trustpilot.score"))||4.5),f=o(()=>u.value?.reviewCount||parseInt(e("common.trustpilot.reviewsCount"))||16),m=o(()=>u.value?.ratingText||e("common.trustpilot.rating")),_=o(()=>u.value?.reviewsText||e("common.trustpilot.reviews")),R=o(()=>u.value?.sampleReviews||g().sampleReviews),k=o(()=>u.value?.source==="live"),T=async()=>{r.clearTrustpilotCache(),await r.fetchTrustpilot()},C=()=>{r.clearTrustpilotCache()};return{trustpilotData:u,rating:x,reviewCount:f,ratingText:m,reviewsText:_,sampleReviews:R,isLoading:o(()=>s.value.isLoading),isFetched:o(()=>s.value.isFetched),isUsingLiveData:k,fetchError:o(()=>s.value.fetchError),refresh:T,clearCache:C}}const q={class:"trustpilot-header text-center mb-6"},Q={class:"text-h4 mb-3 font-weight-bold"},H=["href"],K={class:"trustpilot-rating-container"},G={class:"trustpilot-logo mb-3"},X={class:"trustpilot-stars mb-2"},Y={class:"trustpilot-rating-text"},Z={key:0,class:"rating-label"},j={class:"rating-score"},tt={key:1,class:"rating-reviews"},et={key:0,class:"trustpilot-reviews"},st={class:"review-stars mb-2"},rt={class:"review-text text-body-2 mb-3"},ot={class:"review-author text-caption text-medium-emphasis"},at={class:"text-caption text-medium-emphasis"},it={key:1,class:"text-center mt-6"},nt={__name:"TrustpilotPanel",props:{showReviews:{type:Boolean,default:!0},showButton:{type:Boolean,default:!0},stars:{type:Number,default:null},starSize:{type:[String,Number],default:28},addMargin:{type:Boolean,default:!1},showRatingLabel:{type:Boolean,default:!1},showReviewsText:{type:Boolean,default:!0},useLiveData:{type:Boolean,default:!0}},setup(e){const r=e,{t:s}=V(),{rating:g,ratingText:u,reviewsText:x,sampleReviews:f}=W(),m=o(()=>r.useLiveData&&r.stars===null?g.value:r.stars!==null?r.stars:parseFloat(s("common.trustpilot.score"))),_=o(()=>r.useLiveData?u.value:s("common.trustpilot.rating")),R=o(()=>r.useLiveData?x.value:s("common.trustpilot.reviews")),k=o(()=>r.useLiveData?f.value:[{text:s("common.trustpilot.sampleReviews.review1.text"),author:s("common.trustpilot.sampleReviews.review1.author"),rating:parseInt(s("common.trustpilot.sampleReviews.review1.rating"))},{text:s("common.trustpilot.sampleReviews.review2.text"),author:s("common.trustpilot.sampleReviews.review2.author"),rating:parseInt(s("common.trustpilot.sampleReviews.review2.rating"))},{text:s("common.trustpilot.sampleReviews.review3.text"),author:s("common.trustpilot.sampleReviews.review3.author"),rating:parseInt(s("common.trustpilot.sampleReviews.review3.rating"))}]),T=o(()=>Math.floor(m.value)),C=o(()=>m.value%1!==0);return(t,a)=>(i(),S(B,{class:A(["section-card trustpilot-section",{"ma-4":e.addMargin}])},{default:d(()=>[v(D,{class:"pa-6"},{default:d(()=>[n("div",q,[n("h2",Q,c(b(s)("common.trustpilot.title")),1),n("a",{href:b(s)("common.trustpilot.profileUrl"),target:"_blank",rel:"noopener noreferrer",class:"trustpilot-link"},[n("div",K,[n("div",G,[v(h,{icon:"mdi-star",size:"32",color:"#00b67a"}),a[0]||(a[0]=n("span",{class:"trustpilot-text"},"Trustpilot",-1))]),n("div",X,[(i(!0),p(I,null,z(T.value,l=>(i(),S(h,{key:l,icon:"mdi-star",size:"starSize",color:"#00b67a"}))),128)),C.value?(i(),S(h,{key:0,icon:"mdi-star-half-full",size:"starSize",color:"#00b67a"})):y("",!0)]),n("div",Y,[e.showRatingLabel?(i(),p("span",Z,c(b(s)("common.trustpilot.ratingLabel")),1)):y("",!0),n("span",j,c(_.value),1),e.showReviewsText?(i(),p("span",tt,c(R.value),1)):y("",!0)])])],8,H)]),e.showReviews?(i(),p("div",et,[v(O,null,{default:d(()=>[(i(!0),p(I,null,z(k.value,(l,w)=>(i(),S(E,{key:w,cols:"12",md:"4"},{default:d(()=>[v(B,{variant:"outlined",class:"review-card pa-4"},{default:d(()=>[n("div",st,[(i(!0),p(I,null,z(l.rating,U=>(i(),S(h,{key:U,icon:"mdi-star",size:"20",color:"#00b67a"}))),128))]),n("p",rt,' "'+c(l.text)+'" ',1),n("div",ot,[v(h,{icon:"mdi-check-circle",size:"14",color:"success",class:"mr-1"}),L(" "+c(l.author),1)]),n("div",at,c(b(s)("common.trustpilot.verifiedCustomer")),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):y("",!0),e.showButton?(i(),p("div",it,[v(J,{href:b(s)("common.trustpilot.profileUrl"),target:"_blank",rel:"noopener noreferrer",color:"success",variant:"outlined",size:"large"},{default:d(()=>[v(h,{start:""},{default:d(()=>[...a[1]||(a[1]=[L("mdi-open-in-new",-1)])]),_:1}),L(" "+c(b(s)("common.trustpilot.viewAllReviews")),1)]),_:1},8,["href"])])):y("",!0)]),_:1})]),_:1},8,["class"]))}},ht=N(nt,[["__scopeId","data-v-8ba3f8d9"]]),lt={key:0,class:"showcase-title"},ct={key:1,class:"showcase-subtitle"},ut={class:"feature-title"},pt={class:"feature-description"},mt={__name:"FeatureShowcase",props:{title:{type:String,default:""},subtitle:{type:String,default:""},items:{type:[Array,String],required:!0},gridMinWidth:{type:String,default:"280px"},iconSize:{type:Number,default:40},iconColor:{type:String,default:"primary"},backgroundColor:{type:String,default:""},padding:{type:String,default:"32px"},elevation:{type:Number,default:0}},setup(e){const r=e,{t:s,te:g,tm:u}=V(),x=t=>t&&typeof t=="string"&&t.startsWith("i18n:"),f=t=>{if(typeof t=="string")try{const a=JSON.parse(t);return a&&typeof a=="object"&&a.b&&a.b.s?a.b.s:t}catch{return t}return t&&typeof t=="object"?t.b&&t.b.s?t.b.s:t.body?.static||t.loc?.source||t.static||JSON.stringify(t):String(t)},m=t=>{if(!t)return"";if(x(t)){const a=t.replace("i18n:","");return g(a)?f(s(a)):t}return t},_=o(()=>m(r.title)),R=o(()=>m(r.subtitle)),k=o(()=>{if(typeof r.items=="string"&&x(r.items)){const t=r.items.replace("i18n:","");if(!g(t))return[];const a=u(t);let l=Array.isArray(a)?a:Object.values(a);return l=JSON.parse(JSON.stringify(l)),l.map(w=>({icon:f(w.icon),title:f(w.title),description:f(w.description),color:f(w.color)}))}return Array.isArray(r.items)?r.items.map(t=>({icon:m(t.icon)||t.icon,title:m(t.title)||t.title,description:m(t.description)||t.description,color:t.color})):[]}),T=o(()=>({padding:r.padding,background:r.backgroundColor||"transparent"})),C=o(()=>({gridTemplateColumns:`repeat(auto-fit, minmax(${r.gridMinWidth}, 1fr))`}));return(t,a)=>(i(),S(B,{class:A(["feature-showcase",[{"has-background":e.backgroundColor}]]),elevation:e.elevation},{default:d(()=>[v(D,{style:F(T.value)},{default:d(()=>[_.value?(i(),p("h2",lt,c(_.value),1)):y("",!0),R.value?(i(),p("p",ct,c(R.value),1)):y("",!0),n("div",{class:"features-grid",style:F(C.value)},[(i(!0),p(I,null,z(k.value,(l,w)=>(i(),p("div",{key:w,class:"feature-item"},[v(P,{color:l.color||e.iconColor,size:"80",class:"feature-avatar"},{default:d(()=>[v(h,{icon:l.icon||"mdi-check-circle",size:e.iconSize},null,8,["icon","size"])]),_:2},1032,["color"]),n("h3",ut,c(l.title),1),n("p",pt,c(l.description),1)]))),128))],4)]),_:1},8,["style"])]),_:1},8,["class","elevation"]))}},yt=N(mt,[["__scopeId","data-v-d31861ad"]]);export{yt as F,ht as T};
