import{d as ne,h as w,s as M,c as T,e as ae,w as y,r as oe,a as z,n as H}from"./vuetify-COByHKRY.js";const ve="modulepreload",ge=function(e){return"/"+e},B={},Mt=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let d=function(s){return Promise.all(s.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");a=d(r.map(s=>{if(s=ge(s),s in B)return;B[s]=!0;const u=s.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${f}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":ve,u||(c.as="script"),c.crossOrigin="",c.href=s,o&&c.setAttribute("nonce",o),document.head.appendChild(c),u)return new Promise((v,m)=>{c.addEventListener("load",v),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function R(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function me(e){if(Array.isArray(e))return e}function pe(e,t,r){return(t=Pe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,o=[],d=!0,s=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);d=!0);}catch(u){s=!0,a=u}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}function ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(n){pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function be(e,t){if(e==null)return{};var r,n,a=Oe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Se(e,t){return me(e)||he(e,t)||je(e,t)||ye()}function we(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pe(e){var t=we(e,"string");return typeof t=="symbol"?t:t+""}function je(e,t){if(e){if(typeof e=="string")return R(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(n){_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(a,i){return i(a)},n)}}function j(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var l=arguments.length,o=new Array(l),d=0;d<l;d++)o[d]=arguments[d];return t.apply(r,[].concat(a,o))}}}function C(e){return{}.toString.call(e).includes("Object")}function Me(e){return!Object.keys(e).length}function E(e){return typeof e=="function"}function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ie(e,t){return C(t)||b("changeType"),Object.keys(t).some(function(r){return!$e(e,r)})&&b("changeField"),t}function Te(e){E(e)||b("selectorType")}function Ce(e){E(e)||C(e)||b("handlerType"),C(e)&&Object.values(e).some(function(t){return!E(t)})&&b("handlersType")}function Ve(e){e||b("initialIsRequired"),C(e)||b("initialType"),Me(e)&&b("initialContent")}function De(e,t){throw new Error(e[t]||e.default)}var Ae={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},b=j(De)(Ae),I={changes:Ie,selector:Te,handler:Ce,initial:Ve};function xe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};I.initial(e),I.handler(t);var r={current:e},n=j(Ue)(r,t),a=j(Ne)(r),i=j(I.changes)(e),l=j(Le)(r);function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return I.selector(s),s(r.current)}function d(s){Ee(n,a,i,l)(s)}return[o,d]}function Le(e,t){return E(t)?t(e.current):t}function Ne(e,t){return e.current=J(J({},e.current),t),t}function Ue(e,t,r){return E(t)?t(e.current):Object.keys(r).forEach(function(n){var a;return(a=t[n])===null||a===void 0?void 0:a.call(t,e.current[n])}),r}var qe={create:xe},Fe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}};function ze(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var l=arguments.length,o=new Array(l),d=0;d<l;d++)o[d]=arguments[d];return t.apply(r,[].concat(a,o))}}}function He(e){return{}.toString.call(e).includes("Object")}function We(e){return e||Q("configIsRequired"),He(e)||Q("configType"),e.urls?(Be(),{paths:{vs:e.urls.monacoBase}}):e}function Be(){console.warn(ie.deprecation)}function Re(e,t){throw new Error(e[t]||e.default)}var ie={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Q=ze(Re)(ie),Ke={config:We},Ge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduceRight(function(i,l){return l(i)},a)}};function le(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],le(e[r],t[r]))}),G(G({},e),t)}var Ye={type:"cancelation",msg:"operation is manually canceled"};function L(e){var t=!1,r=new Promise(function(n,a){e.then(function(i){return t?a(Ye):n(i)}),e.catch(a)});return r.cancel=function(){return t=!0},r}var Je=["monaco"],Qe=qe.create({config:Fe,isInitialized:!1,resolve:null,reject:null,monaco:null}),ue=Se(Qe,2),$=ue[0],x=ue[1];function Xe(e){var t=Ke.config(e),r=t.monaco,n=be(t,Je);x(function(a){return{config:le(a.config,n),monaco:r}})}function Ze(){var e=$(function(t){var r=t.monaco,n=t.isInitialized,a=t.resolve;return{monaco:r,isInitialized:n,resolve:a}});if(!e.isInitialized){if(x({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),L(N);if(window.monaco&&window.monaco.editor)return ce(window.monaco),e.resolve(window.monaco),L(N);Ge(ke,tt)(rt)}return L(N)}function ke(e){return document.body.appendChild(e)}function et(e){var t=document.createElement("script");return e&&(t.src=e),t}function tt(e){var t=$(function(n){var a=n.config,i=n.reject;return{config:a,reject:i}}),r=et("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function rt(){var e=$(function(r){var n=r.config,a=r.resolve,i=r.reject;return{config:n,resolve:a,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var n=r.m;ce(n),e.resolve(n)},function(r){e.reject(r)})}function ce(e){$().monaco||x({monaco:e})}function nt(){return $(function(e){var t=e.monaco;return t})}var N=new Promise(function(e,t){return x({resolve:e,reject:t})}),V={config:Xe,init:Ze,__getMonacoInstance:nt},at=Object.defineProperty,ot=Object.defineProperties,it=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,Z=(e,t,r)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,U=(e,t)=>{for(var r in t||(t={}))lt.call(t,r)&&Z(e,r,t[r]);if(X)for(var r of X(t))ut.call(t,r)&&Z(e,r,t[r]);return e},ct=(e,t)=>ot(e,it(t));const q={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function de(e,t){const r=T(()=>{const{width:a,height:i}=e;return ct(U({},q.wrapper),{width:a,height:i})}),n=T(()=>U(U({},q.fullWidth),!t.value&&q.hide));return{wrapperStyle:r,containerStyle:n}}function W(){const e=M(V.__getMonacoInstance()),t=oe(!1);let r;return z(()=>{e.value||(r=V.init(),r.then(a=>e.value=a).catch(a=>{a?.type!=="cancelation"&&(t.value=!0,console.error("Monaco initialization error:",a))}))}),{monacoRef:e,unload:()=>r?.cancel(),isLoadFailed:t}}function D(e){return typeof e=="function"?e():e}function F(e){return e===void 0}function P(e,t,r,n){return dt(e,n)||st(e,t,r,n)}function dt(e,t){return e.editor.getModel(se(e,t))}function st(e,t,r,n){return e.editor.createModel(t,r,n?se(e,n):void 0)}function se(e,t){return e.Uri.parse(t)}var ft=Object.defineProperty,k=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,ee=(e,t,r)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mt=(e,t)=>{for(var r in t||(t={}))vt.call(t,r)&&ee(e,r,t[r]);if(k)for(var r of k(t))gt.call(t,r)&&ee(e,r,t[r]);return e};const pt={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var _=ne({name:"VueMonacoEditor",model:{prop:"value",event:"update:value"},props:{defaultValue:String,defaultPath:String,defaultLanguage:String,value:String,language:String,path:String,theme:{type:String,default:"vs"},line:Number,options:{type:Object,default:()=>({})},overrideServices:{type:Object,default:()=>({})},saveViewState:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},emits:["update:value","beforeMount","mount","change","validate"],setup(e,t){const r=new Map,n=M(null),{monacoRef:a,unload:i,isLoadFailed:l}=W(),{editorRef:o}=ht(t,e,a,n),{disposeValidator:d}=yt(t,e,a,o),s=T(()=>!!a.value&&!!o.value),{wrapperStyle:u,containerStyle:f}=de(e,s);return ae(()=>{var c,v;(c=d.value)==null||c.call(d),o.value?((v=o.value.getModel())==null||v.dispose(),o.value.dispose()):i()}),y([()=>e.path,()=>e.value,()=>e.language,()=>e.line],([c,v,m,p],[h,O,g,S])=>{if(s.value){if(c!==h){const fe=P(a.value,v||e.defaultValue||"",m||e.defaultLanguage||"",c||e.defaultPath||"");e.saveViewState&&r.set(h,o.value.saveViewState()),o.value.setModel(fe),e.saveViewState&&o.value.restoreViewState(r.get(c)),F(p)||o.value.revealLine(p);return}o.value.getValue()!==v&&o.value.setValue(v),m!==g&&a.value.editor.setModelLanguage(o.value.getModel(),m),!F(p)&&p!==S&&o.value.revealLine(p)}}),y(()=>e.options,c=>o.value&&o.value.updateOptions(c),{deep:!0}),y(()=>e.theme,c=>a.value&&a.value.editor.setTheme(c)),{containerRef:n,isEditorReady:s,isLoadFailed:l,wrapperStyle:u,containerStyle:f}},render(){const{$slots:e,isEditorReady:t,isLoadFailed:r,wrapperStyle:n,containerStyle:a,className:i}=this;return w("div",{style:n},[!t&&w("div",{style:pt},r?e.failure?D(e.failure):"load failed":e.default?D(e.default):"loading..."),w("div",{ref:"containerRef",key:"monaco_editor_container",style:a,class:i})])}});function ht({emit:e},t,r,n){const a=M(null);z(()=>{const l=y(r,()=>{n.value&&r.value&&(H(()=>l()),i())},{immediate:!0})});function i(){var l;if(!n.value||!r.value||a.value)return;e("beforeMount",r.value);const o=t.path||t.defaultPath,d=P(r.value,t.value||t.defaultValue||"",t.language||t.defaultLanguage||"",o||"");a.value=r.value.editor.create(n.value,mt({model:d,theme:t.theme,automaticLayout:!0,autoIndent:"brackets",formatOnPaste:!0,formatOnType:!0},t.options),t.overrideServices),(l=a.value)==null||l.onDidChangeModelContent(s=>{const u=a.value.getValue();u!==t.value&&(e("update:value",u),e("change",u,s))}),a.value&&!F(t.line)&&a.value.revealLine(t.line),e("mount",a.value,r.value)}return{editorRef:a}}function yt({emit:e},t,r,n){const a=oe(null),i=y([r,n],()=>{if(r.value&&n.value){H(()=>i());const l=r.value.editor.onDidChangeMarkers(o=>{var d,s;const u=(s=(d=n.value)==null?void 0:d.getModel())==null?void 0:s.uri;if(u&&o.find(c=>c.path===u.path)){const c=r.value.editor.getModelMarkers({resource:u});e("validate",c)}});a.value=()=>l?.dispose()}});return{disposeValidator:a}}var bt=Object.defineProperty,te=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,re=(e,t,r)=>t in e?bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wt=(e,t)=>{for(var r in t||(t={}))Ot.call(t,r)&&re(e,r,t[r]);if(te)for(var r of te(t))St.call(t,r)&&re(e,r,t[r]);return e};const Pt={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var A=ne({name:"VueMonacoDiffEditor",props:{original:String,modified:String,language:String,originalLanguage:String,modifiedLanguage:String,originalModelPath:String,modifiedModelPath:String,theme:{type:String,default:"vs"},options:{type:Object,default:()=>({})},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},setup(e,t){const r=M(null),{monacoRef:n,unload:a,isLoadFailed:i}=W(),{diffEditorRef:l}=jt(t,e,n,r),o=T(()=>!!n.value&&!!l.value),{wrapperStyle:d,containerStyle:s}=de(e,o);return ae(()=>{var u,f,c,v,m,p,h,O;!n.value&&a();const g=(f=(u=l.value)==null?void 0:u.getModel)==null?void 0:f.call(u);(v=(c=g?.original)==null?void 0:c.dispose)==null||v.call(c),(p=(m=g?.modified)==null?void 0:m.dispose)==null||p.call(m),(O=(h=l.value)==null?void 0:h.dispose)==null||O.call(h)}),y([()=>e.originalModelPath,()=>e.original,()=>e.originalLanguage,()=>e.language],([u,f,c,v],[m,p,h,O])=>{if(!o.value)return;const g=l.value.getOriginalEditor();if(u!==m){const S=P(n.value,f||"",c||v||"text",u||"");g.setModel(S);return}f!==g.getValue()&&g.setValue(f||""),(c!==h||v!==O)&&n.value.editor.setModelLanguage(l.value.getModel().original,c||v||"text")}),y([()=>e.modifiedModelPath,()=>e.modified,()=>e.modifiedLanguage,()=>e.language],([u,f,c,v],[m,p,h,O])=>{if(!o.value)return;const g=l.value.getModifiedEditor();if(m!==u){const S=P(n.value,f||"",c||v||"text",u||"");g.setModel(S);return}if(f!==g.getValue()){const S=n.value.editor.EditorOption.readOnly;g.getOption(S)?g.setValue(f||""):(g.executeEdits("",[{range:g.getModel().getFullModelRange(),text:f||"",forceMoveMarkers:!0}]),g.pushUndoStop())}(c!==h||v!==O)&&n.value.editor.setModelLanguage(l.value.getModel().modified,c||v||"text")}),y(()=>e.theme,()=>{var u;return(u=n.value)==null?void 0:u.editor.setTheme(e.theme)}),y(()=>e.options,()=>{var u;return(u=l.value)==null?void 0:u.updateOptions(e.options)},{deep:!0}),{containerRef:r,isDiffEditorReady:o,isLoadFailed:i,wrapperStyle:d,containerStyle:s}},render(){const{$slots:e,isDiffEditorReady:t,isLoadFailed:r,wrapperStyle:n,containerStyle:a,className:i}=this;return w("div",{style:n},[!t&&w("div",{style:Pt},r?e.failure?D(e.failure):"load failed":e.default?D(e.default):"loading..."),w("div",{ref:"containerRef",key:"monaco_diff_editor_container",style:a,class:i})])}});function jt({emit:e},t,r,n){const a=M(null);z(()=>{const l=y(r,()=>{n.value&&r.value&&(H(()=>l()),i())},{immediate:!0})});function i(){var l;if(!n.value||!r.value||a.value)return;e("beforeMount",r.value),a.value=r.value.editor.createDiffEditor(n.value,wt({automaticLayout:!0,autoIndent:"brackets",theme:t.theme,formatOnPaste:!0,formatOnType:!0},t.options));const o=P(r.value,t.original||"",t.originalLanguage||t.language||"text",t.originalModelPath||""),d=P(r.value,t.modified||"",t.modifiedLanguage||t.language||"text",t.modifiedModelPath||"");(l=a.value)==null||l.setModel({original:o,modified:d}),e("mount",a.value,r.value)}return{diffEditorRef:a}}function _t(e,t){t&&V.config(t),e.component(_.name,_),e.component(A.name,A)}const $t=Object.freeze(Object.defineProperty({__proto__:null,DiffEditor:A,Editor:_,VueMonacoDiffEditor:A,VueMonacoEditor:_,default:_,install:_t,loader:V,useMonaco:W},Symbol.toStringTag,{value:"Module"}));export{Mt as _,$t as i};
