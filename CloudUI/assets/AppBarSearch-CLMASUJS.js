import{r as h,w as b,P as F,g as u,Q as a,a3 as s,aw as w,H as I,y as i,j as r,R as g,f as y,x as D,k as d,a2 as v,F as V,l as _,T as K,U as x}from"./apexcharts-nIAyciCq.js";import{C as U}from"./scrollbar-CXs_Utq1.js";import{o as N}from"./vueuse-Bid7ZbHY.js";import{_ as z}from"./index-QPPWK7xw.js";import{V as T,d as S,I as j,b as k,r as q,z as E,A as M,ag as P,h as Q}from"./vuetify-_4u1He_j.js";import"./unhead-DEOrWl0D.js";import"./crypto-metamask-D6vz180a.js";import"./ansi-utils-ChIB8aIv.js";import"./socketio-BDGyx5_k.js";import"./uuid-B49X2dQj.js";import"./i18n-Bm8bpAAW.js";import"./vue-core-CU9AIURn.js";import"./cookie-BfmCf_44.js";import"./unjs-utils-GcjLqAqW.js";import"./http-BZQDkn3h.js";import"./query-parser-C3-dT-Rr.js";import"./casl-DNC8KRD8.js";import"./icons-mdi-_QP0sdRJ.js";import"./sanitizer-DAUAC_Zc.js";import"./element-plus-Cr1Qs4Q_.js";import"./lodash-C_Sw0jJq.js";const H={class:"d-flex align-center text-high-emphasis me-1"},O={class:"d-flex align-start"},X={class:"h-100"},G={class:"h-100"},J={class:"app-bar-search-suggestions d-flex flex-column align-center justify-center text-high-emphasis pa-12"},W={class:"d-flex align-center flex-wrap justify-center gap-2 text-h5 mt-3"},Y={__name:"AppBarSearch",props:{isDialogVisible:{type:Boolean,required:!0},searchResults:{type:Array,required:!0},isLoading:{type:Boolean,required:!1}},emits:["update:isDialogVisible","search"],setup(c,{emit:L}){const o=c,f=L,{ctrl_k:R,meta_k:$}=N({passive:!1,onEventFired(e){e.ctrlKey&&e.key==="k"&&e.type==="keydown"&&e.preventDefault()}}),m=h(),A=h(),t=h("");b([R,$],()=>{f("update:isDialogVisible",!0)});const p=()=>{t.value="",f("update:isDialogVisible",!1)},B=e=>{e.key==="ArrowDown"?(e.preventDefault(),m.value?.focus("next")):e.key==="ArrowUp"&&(e.preventDefault(),m.value?.focus("prev"))},C=e=>{t.value="",f("update:isDialogVisible",e)};return b(()=>o.isDialogVisible,()=>{t.value=""}),(e,n)=>(u(),F(Q,{"max-width":"600","model-value":o.isDialogVisible,height:e.$vuetify.display.smAndUp?"531":"100%",fullscreen:e.$vuetify.display.width<600,class:"app-bar-search-dialog","onUpdate:modelValue":C,onKeyup:w(p,["esc"])},{default:a(()=>[s(T,{height:"100%",width:"100%",class:"position-relative"},{default:a(()=>[s(S,{class:"px-4",style:{"padding-block":"1rem 1.2rem"}},{default:a(()=>[s(j,{ref_key:"refSearchInput",ref:A,modelValue:i(t),"onUpdate:modelValue":[n[0]||(n[0]=l=>I(t)?t.value=l:null),n[1]||(n[1]=l=>e.$emit("search",i(t)))],autofocus:"",density:"compact",variant:"plain",class:"app-bar-search-input",onKeyup:w(p,["esc"]),onKeydown:B},{"prepend-inner":a(()=>[r("div",H,[s(k,{size:"24",icon:"tabler-search"})])]),"append-inner":a(()=>[r("div",O,[r("div",{class:"text-base text-disabled cursor-pointer me-3",onClick:p}," [esc] "),s(k,{icon:"tabler-x",size:"24",onClick:p})])]),_:1},8,["modelValue"])]),_:1}),s(q),s(i(U),{options:{wheelPropagation:!1,suppressScrollX:!0},class:"h-100"},{default:a(()=>[g(r("div",X,[d(e.$slots,"suggestions",{},void 0,!0)],512),[[v,!!o.searchResults&&!i(t)&&e.$slots.suggestions]]),c.isLoading?D("",!0):(u(),y(V,{key:0},[g(s(i(E),{ref_key:"refSearchList",ref:m,density:"compact",class:"app-bar-search-list py-0"},{default:a(()=>[(u(!0),y(V,null,_(o.searchResults,l=>d(e.$slots,"searchResult",{key:l,item:l},()=>[s(i(M),null,{default:a(()=>[K(x(l),1)]),_:2},1024)],!0)),128))]),_:3},512),[[v,i(t).length&&!!o.searchResults.length]]),g(r("div",G,[d(e.$slots,"noData",{},()=>[s(S,{class:"h-100"},{default:a(()=>[r("div",J,[s(k,{size:"64",icon:"tabler-file-alert"}),r("div",W,[n[2]||(n[2]=r("span",null,"No Result For ",-1)),r("span",null,'"'+x(i(t))+'"',1)]),d(e.$slots,"noDataSuggestion",{},void 0,!0)])]),_:3})],!0)],512),[[v,!o.searchResults.length&&i(t).length]])],64)),c.isLoading?(u(),y(V,{key:1},_(3,l=>s(P,{key:l,type:"list-item-two-line"})),64)):D("",!0)]),_:3})]),_:3})]),_:3},8,["model-value","height","fullscreen"]))}},ke=z(Y,[["__scopeId","data-v-e6170ffd"]]);export{ke as default};
