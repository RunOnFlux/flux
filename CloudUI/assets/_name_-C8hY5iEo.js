import{u as Ie,e as Pe}from"./vue-core-CU9AIURn.js";import{f as Ne,b as Le,a as Ae}from"./useSEO-5BaNf11O.js";import{u as fe}from"./useMarketplace-C8EoGcBv.js";import{u as j}from"./useGameUtils-lp2yFmRD.js";import{_ as E,c as Oe}from"./index-QPPWK7xw.js";import{u as Ge}from"./useAnalytics-CteLaQrD.js";import{L as Fe}from"./LoadingSpinner-BLJvP0iy.js";import{an as De,R as X,ao as Te,b as Y,c as Q,V as te,h as qe,d as se,J as Re,a as Me}from"./vuetify-_4u1He_j.js";import{u as W}from"./i18n-Bm8bpAAW.js";import{c as d,s as ze,E as He,f as p,g as n,P as O,Q as P,F as M,l as z,x as L,j as g,U as y,y as D,p as H,a3 as S,T as V,q as re,r as R,o as he,a as Ve,a1 as Ee,V as We,w as de}from"./apexcharts-nIAyciCq.js";import{p as ge}from"./sanitizer-DAUAC_Zc.js";import{F as ve,T as Ue}from"./FeatureShowcase-6HuVXhQu.js";import{S as Be}from"./ServerLocationsPanel-BGDkxPOa.js";import{F as me}from"./FAQPanel-DUfAxF0W.js";import{I as Je}from"./InstallDialog-e7kUBuIF.js";import"./unhead-DEOrWl0D.js";import"./http-BZQDkn3h.js";import"./ansi-utils-ChIB8aIv.js";import"./crypto-metamask-D6vz180a.js";import"./socketio-BDGyx5_k.js";import"./uuid-B49X2dQj.js";import"./vueuse-Bid7ZbHY.js";import"./cookie-BfmCf_44.js";import"./unjs-utils-GcjLqAqW.js";import"./query-parser-C3-dT-Rr.js";import"./casl-DNC8KRD8.js";import"./scrollbar-CXs_Utq1.js";import"./icons-mdi-_QP0sdRJ.js";import"./element-plus-Cr1Qs4Q_.js";import"./lodash-C_Sw0jJq.js";import"./MapComponent-D1NdOhsg.js";import"./leaflet-core-jNE0Bq0j.js";import"./leaflet-cluster-0ODEUdTP.js";import"./useLoginSheet-e2RZXtPE.js";import"./useSnackbar-CwwIX0V_.js";import"./geolocation-BklMEt0S.js";import"./PayPal-ugRCKXrL.js";import"./firebase-BnYKcu-W.js";import"./firebase-Cn841U3c.js";import"./enterpriseCrypto-BkXqwt7M.js";import"./crypto-walletconnect-Nsddz84n.js";import"./event-utils-DGlX1gEp.js";import"./lit-Ba94Z-Zv.js";import"./crypto-viem-CJP2v0S5.js";import"./date-utils-Cx_iWJ70.js";import"./crypto-ox-C1hHNqF1.js";import"./walletService-ARo4SzYC.js";import"./walletconnect-Db7MYUHa.js";import"./ssp-logo-white-BYX0TNEU.js";const Ke={key:0,class:"game-icon-overlay"},Qe={key:1,class:"header-content-fallback"},Xe={class:"game-title"},je={key:0,class:"header-description"},Ye={__name:"HeaderPanel",props:{panel:{type:Object,required:!0},app:{type:Object,required:!0}},setup(r){const e=r,{t:c}=W(),{parseLandingImage:b}=j(),h=d(()=>b(e.app.icon||e.app.logo)),f=ze([]);He(()=>{const m=[];if(e.app.screenshots&&e.app.screenshots.length&&e.app.screenshots.forEach(u=>{const t=b(u);t&&m.push(t)}),m.length===0&&e.app.detailHeaderImage){const u=b(e.app.detailHeaderImage);u&&m.push(u)}if(m.length===0&&e.app.landingImage){const u=b(e.app.landingImage);u&&m.push(u)}const I=m.join(","),$=f.value.join(",");I!==$&&(f.value=m)});const C=d(()=>({padding:e.panel.padding?`${e.panel.padding.top}px ${e.panel.padding.right}px ${e.panel.padding.bottom}px ${e.panel.padding.left}px`:"0",background:e.panel.background||"transparent",borderRadius:e.panel.cornerRadius?`${e.panel.cornerRadius}px`:"0"}));return(m,I)=>(n(),p("div",{class:"header-panel",style:H(C.value)},[f.value.length?(n(),O(Te,{key:0,cycle:"","hide-delimiters":"","show-arrows":"hover",height:"400",class:"game-carousel"},{default:P(()=>[(n(!0),p(M,null,z(f.value,($,u)=>(n(),O(De,{key:`carousel-${r.app.name}-${u}-${$}`},{default:P(()=>[(n(),O(X,{key:`img-${r.app.name}-${u}-${$}`,src:$,alt:`${r.app.displayName||r.app.name} server gameplay screenshot ${u+1}`,height:"400",cover:"",eager:"",transition:!1},null,8,["src","alt"])),h.value?(n(),p("div",Ke,[(n(),O(X,{key:`icon-${r.app.name}`,src:h.value,alt:`${r.app.displayName||r.app.name} game icon`,width:"120",height:"120",eager:"",contain:"",transition:!1,class:"icon-image"},null,8,["src","alt"]))])):L("",!0)]),_:2},1024))),128))]),_:1})):(n(),p("div",Qe,[g("h1",Xe,y(D(c)("components.marketplace.panels.headerPanel.serverHosting",{name:r.app.uiName||r.app.displayName||r.app.name})),1),r.app.detailHeaderText?(n(),p("p",je,y(r.app.detailHeaderText),1)):L("",!0)]))],4))}},Ze=E(Ye,[["__scopeId","data-v-e2e33e2f"]]),et={class:"config-card-wrapper"},tt={key:0,class:"most-popular-badge"},at={class:"config-price-badge"},nt={class:"price-amount"},st={class:"price-period"},rt={class:"card-header"},lt={class:"config-name"},ot={class:"config-resources"},it={key:0,class:"resource-row"},ct={class:"resource-label"},pt={class:"resource-value"},ut={key:1,class:"resource-row"},dt={class:"resource-label"},gt={class:"resource-value"},mt={key:2,class:"resource-row"},ft={class:"resource-label"},ht={class:"resource-value"},vt={__name:"AppConfigCard",props:{config:{type:Object,required:!0},app:{type:Object,required:!0}},emits:["install"],setup(r,{emit:e}){const c=r,b=e,{t:h}=W(),{getConfigResources:f,getPlayerBasedConfigName:C}=j(),m=d(()=>f(c.config)),I=d(()=>{const a=c.app.name||c.app.displayName||"";return C(a,c.config)}),$=d(()=>({borderColor:c.config.highlight||"rgba(255, 255, 255, 0.1)",borderWidth:"2px",borderStyle:"solid"})),u=()=>{b("install",{app:c.app,config:c.config})},t=d(()=>({cpu:h("components.marketplace.appConfigCard.cpu"),ram:h("components.marketplace.appConfigCard.ram"),storage:h("components.marketplace.appConfigCard.storage"),installNow:h("components.marketplace.appConfigCard.installNow"),perMonth:h("components.marketplace.appConfigCard.perMonth"),core:h("components.marketplace.appConfigCard.core"),cores:h("components.marketplace.appConfigCard.cores"),mostPopular:h("components.marketplace.appConfigCard.mostPopular")}));return(a,i)=>(n(),p("div",et,[g("div",{class:re(["config-card",{popular:r.config.isPopular}]),style:H($.value)},[r.config.isPopular?(n(),p("div",tt,y(t.value.mostPopular),1)):L("",!0),g("div",at,[g("span",nt,"$"+y(r.config.price.toFixed(2)),1),g("span",st,y(t.value.perMonth),1)]),g("div",rt,[g("h3",lt,y(I.value),1)]),g("div",ot,[m.value.cpu?(n(),p("div",it,[S(Y,{class:"resource-icon cpu-icon"},{default:P(()=>[...i[0]||(i[0]=[V("mdi-speedometer",-1)])]),_:1}),g("span",ct,y(t.value.cpu),1),g("span",pt,y(Number(m.value.cpu.toFixed(2)))+" "+y(m.value.cpu>1?t.value.cores:t.value.core),1)])):L("",!0),m.value.ram?(n(),p("div",ut,[S(Y,{class:"resource-icon ram-icon"},{default:P(()=>[...i[1]||(i[1]=[V("mdi-memory",-1)])]),_:1}),g("span",dt,y(t.value.ram),1),g("span",gt,y(Number(m.value.ram.toFixed(0)))+" MB",1)])):L("",!0),m.value.hdd?(n(),p("div",mt,[S(Y,{class:"resource-icon hdd-icon"},{default:P(()=>[...i[2]||(i[2]=[V("mdi-harddisk",-1)])]),_:1}),g("span",ft,y(t.value.storage),1),g("span",ht,y(Number(m.value.hdd.toFixed(0)))+" GB",1)])):L("",!0)]),S(Q,{block:"",color:"primary",size:"default",variant:"elevated",class:"install-btn",onClick:u},{default:P(()=>[S(Y,{start:""},{default:P(()=>[...i[3]||(i[3]=[V("mdi-download",-1)])]),_:1}),V(" "+y(t.value.installNow),1)]),_:1})],6)]))}},le=E(vt,[["__scopeId","data-v-cef5133c"]]),yt={key:0,class:"group-background"},_t={class:"group-content"},bt={key:1,class:"group-description"},kt={class:"configs-grid"},$t={__name:"AppGroupCard",props:{group:{type:Object,required:!0},configs:{type:Array,required:!0},app:{type:Object,required:!0}},emits:["install"],setup(r,{emit:e}){const c=r,b=e,{t:h,te:f}=W(),{parseLandingImage:C}=j(),m=s=>s&&typeof s=="string"&&s.startsWith("i18n:"),I=s=>{if(typeof s=="string")try{const l=JSON.parse(s);return l&&typeof l=="object"&&l.b&&l.b.s?l.b.s:s}catch{return s}return s&&typeof s=="object"?s.b&&s.b.s?s.b.s:s.body?.static||s.loc?.source||s.static||JSON.stringify(s):String(s)},$=d(()=>{if(!c.group.title)return"";if(m(c.group.title)){const v=c.group.title.replace("i18n:","");return f(v)?I(h(v)):c.group.title}const l={"Select Server Configuration":"common.selectServerConfiguration","Small Servers":"common.groups.smallServers","Medium Servers":"common.groups.mediumServers","Large Servers":"common.groups.largeServers"}[c.group.title];return l&&f(l)?I(h(l)):c.group.title}),u=d(()=>{if(!c.group.description)return"";if(m(c.group.description)){const s=c.group.description.replace("i18n:","");return f(s)?I(h(s)):c.group.description}return c.group.description}),t=d(()=>C(c.group.backgroundImage)),a=d(()=>{const s=!!t.value;return{backgroundColor:c.group.backgroundColor||"transparent",borderRadius:"16px",padding:"12px 32px 32px 32px",position:"relative",overflow:"hidden",border:s?"none":"1px solid rgba(var(--v-theme-on-surface), 0.12)"}}),i=s=>Math.floor(s/2),k=(s,l,v)=>({...s,isPopular:l===i(v)}),_=s=>{b("install",s)};return(s,l)=>(n(),p("div",{class:"group-card",style:H(a.value)},[t.value?(n(),p("div",yt,[S(X,{src:t.value,cover:""},null,8,["src"])])):L("",!0),g("div",_t,[$.value?(n(),p("h2",{key:0,class:re(["group-title",{"no-description":!u.value}]),style:H({color:r.group.color})},y($.value),7)):L("",!0),u.value?(n(),p("p",bt,y(u.value),1)):L("",!0),g("div",kt,[(n(!0),p(M,null,z(r.configs,(v,w)=>(n(),O(le,{key:v.id,config:k(v,w,r.configs.length),app:r.app,onInstall:_},null,8,["config","app"]))),128))])])],4))}},xt=E($t,[["__scopeId","data-v-95c0a97b"]]),St={key:0,class:"panel-title"},Ct={key:1,class:"single-group"},wt={class:"configs-grid"},It={key:2,class:"groups-container"},Pt={__name:"GroupsPanel",props:{panel:{type:Object,required:!0},app:{type:Object,required:!0}},emits:["install"],setup(r,{emit:e}){const c=r,b=e,{t:h}=W(),f=d(()=>{if(!c.app.groups)return[];const t=new Map;return c.app.groups.forEach(a=>{const i=a.title?.replace(/-+$/,"")||"";t.has(i)||t.set(i,{...a,title:i,originalTitle:a.title})}),Array.from(t.values())}),C=t=>c.app.configs?c.app.configs.filter(a=>(a.group?.replace(/-+$/,"")||"")===t):[],m=d(()=>{const t={top:48,right:0,bottom:0,left:0},a=c.panel.padding||t;return{padding:`${a.top||t.top}px ${a.right||t.right}px ${a.bottom||t.bottom}px ${a.left||t.left}px`}}),I=t=>Math.floor(t/2),$=(t,a,i)=>({...t,isPopular:a===I(i)}),u=t=>{b("install",t)};return(t,a)=>(n(),p("div",{class:"groups-panel",style:H(m.value)},[r.panel.title&&(!r.app.groups||!r.app.groups.length)?(n(),p("h2",St,y(r.panel.title),1)):L("",!0),!r.app.groups||!r.app.groups.length?(n(),p("div",Ct,[g("div",wt,[(n(!0),p(M,null,z(r.app.configs,(i,k)=>(n(),O(le,{key:i.id,config:$(i,k,r.app.configs.length),app:r.app,onInstall:u},null,8,["config","app"]))),128))])])):(n(),p("div",It,[(n(!0),p(M,null,z(f.value,i=>(n(),O(xt,{key:i.title,group:i,configs:C(i.title),app:r.app,onInstall:u},null,8,["group","configs","app"]))),128))]))],4))}},Nt=E(Pt,[["__scopeId","data-v-2f39736e"]]),Lt={key:0,class:"screenshots-container"},At={class:"screenshots-slider"},Ot={class:"slider-controls",style:{display:"none"}},Gt={class:"slider-dots"},Ft=["onClick"],Dt={key:1,class:"no-screenshots"},Tt={__name:"ScreenshotsPanel",props:{panel:{type:Object,required:!0},app:{type:Object,required:!0}},setup(r){const e=r,{t:c}=W(),{shuffleArray:b,parseLandingImage:h}=j(),f=R(0),C=R(!1),m=R(""),I=R(!1);let $=null;const u=()=>{I.value=window.innerWidth<=600},t=d(()=>I.value?100:50),a=d(()=>{if(!e.app.screenshots||!e.app.screenshots.length)return[];const G=b(e.app.screenshots).map(U=>h(U));return console.log("ðŸ“¸ Screenshots loaded:",G.length,G),G}),i=d(()=>a.value.length===0?[]:[...a.value,...a.value]),k=d(()=>({padding:e.panel.padding?`${e.panel.padding.top}px ${e.panel.padding.right}px ${e.panel.padding.bottom}px ${e.panel.padding.left}px`:"0"})),_=()=>{f.value--,f.value<0&&setTimeout(()=>{const w=document.querySelector(".screenshots-track");w&&(w.style.transition="none",f.value=a.value.length-1,w.offsetHeight,setTimeout(()=>{w.style.transition="transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)"},50))},500)},s=()=>{f.value++,f.value>=a.value.length&&setTimeout(()=>{const w=document.querySelector(".screenshots-track");w&&(w.style.transition="none",f.value=0,w.offsetHeight,setTimeout(()=>{w.style.transition="transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)"},50))},500)},l=()=>{$=setInterval(()=>{f.value++,f.value>=a.value.length&&setTimeout(()=>{const w=document.querySelector(".screenshots-track");w&&(w.style.transition="none",f.value=0,w.offsetHeight,setTimeout(()=>{w.style.transition="transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)"},50))},500)},4e3)},v=()=>{$&&(clearInterval($),$=null)};return he(()=>{u(),window.addEventListener("resize",u),a.value.length>1&&l()}),Ve(()=>{window.removeEventListener("resize",u),v()}),(w,G)=>(n(),p("div",{class:"screenshots-panel",style:H(k.value)},[a.value.length?(n(),p("div",Lt,[g("div",At,[g("div",{class:"screenshots-track",style:H({transform:`translateX(-${f.value*t.value}%)`})},[(n(!0),p(M,null,z(i.value,(U,B)=>(n(),p("div",{key:B,class:"screenshot-item"},[S(X,{src:U,alt:`${r.app.displayName||r.app.name} server screenshot ${B%a.value.length+1}`,height:"200",cover:"",class:"screenshot-image",eager:""},null,8,["src","alt"])]))),128))],4)]),g("div",Ot,[S(Q,{icon:"mdi-chevron-left",variant:"text",size:"small",onClick:_}),g("div",Gt,[(n(!0),p(M,null,z(a.value.length,(U,B)=>(n(),p("span",{key:B,class:re(["dot",{active:f.value%a.value.length===B}]),onClick:ae=>f.value=B},null,10,Ft))),128))]),S(Q,{icon:"mdi-chevron-right",variant:"text",size:"small",onClick:s})])])):(n(),p("div",Dt,[S(Y,{size:"64",color:"grey"},{default:P(()=>[...G[2]||(G[2]=[V("mdi-image-off-outline",-1)])]),_:1}),g("p",null,y(D(c)("components.marketplace.panels.screenshotsPanel.noScreenshots")),1)])),S(qe,{modelValue:C.value,"onUpdate:modelValue":G[1]||(G[1]=U=>C.value=U),"max-width":"90vw"},{default:P(()=>[S(te,null,{default:P(()=>[S(X,{src:m.value,alt:`${r.app.displayName||r.app.name} server screenshot fullscreen`,contain:"","max-height":"90vh",eager:""},null,8,["src","alt"]),S(Q,{icon:"mdi-close",position:"absolute",style:{top:"16px",right:"16px","z-index":"10"},onClick:G[0]||(G[0]=U=>C.value=!1)})]),_:1})]),_:1},8,["modelValue"])],4))}},qt=E(Tt,[["__scopeId","data-v-735c8f7a"]]),Rt={key:0,class:"main-description"},Mt={key:0,class:"section-title"},zt=["innerHTML"],Ht={key:1,class:"highlights-section"},Vt={class:"highlights-title"},Et={class:"highlights-grid"},Wt={class:"highlight-text"},Ut={key:2,class:"additional-sections"},Bt={class:"section-subtitle"},Jt=["innerHTML"],Kt={__name:"DescriptionPanel",props:{panel:{type:Object,required:!0},app:{type:Object,required:!0}},setup(r){const e=r,c=W(),{t:b,te:h,tm:f}=c,{getMinimumPrice:C}=j(),m=d(()=>C(e.app)),I=_=>_&&typeof _=="string"&&_.startsWith("i18n:"),$=d(()=>{if(!e.panel.title)return"";if(I(e.panel.title)){const _=e.panel.title.replace("i18n:","");return h(_)?b(_):e.panel.title}return e.panel.title}),u=d(()=>{if(!e.panel.content)return"";let _="";if(I(e.panel.content)){const l=e.panel.content.replace("i18n:","");_=h(l)?b(l):e.panel.content}else _=e.panel.content;const s=m.value||"0.00";return _.replace(/\[\[minPrice\]\]/g,`$$${s}`)}),t=d(()=>{if(!e.panel.highlights)return[];if(I(e.panel.highlights)){const _=e.panel.highlights.replace("i18n:","");if(h(_)){let s=null;try{s=f(_)}catch{}if(!s||typeof s=="object"&&Object.keys(s).length===0)try{const l=c.locale.value,v=_.split(".");let w=c.messages.value[l];for(const G of v)w&&typeof w=="object"&&(w=w[G]);s=w}catch{}if(s&&typeof s=="object"){let l=Array.isArray(s)?s:Object.values(s);return l=JSON.parse(JSON.stringify(l)),l=l.map(v=>typeof v=="string"?v:v&&typeof v=="object"&&(v.body?.static||v.loc?.source||v.static)||String(v)),l}return[]}return[]}return e.panel.highlights}),a=d(()=>u.value?ge.sanitize(u.value,{ALLOWED_TAGS:["p","br","strong","em","ul","ol","li","h3","h4","a"],ALLOWED_ATTR:["href","target","rel"]}):""),i=_=>ge.sanitize(_,{ALLOWED_TAGS:["p","br","strong","em","ul","ol","li","a"],ALLOWED_ATTR:["href","target","rel"]}),k=d(()=>({padding:e.panel.padding?`${e.panel.padding.top}px ${e.panel.padding.right}px ${e.panel.padding.bottom}px ${e.panel.padding.left}px`:"0",background:e.panel.background||"transparent",borderRadius:e.panel.cornerRadius?`${e.panel.cornerRadius}px`:"0"}));return(_,s)=>(n(),p("div",{class:"description-panel",style:H(k.value)},[S(te,{class:"description-card",elevation:"0"},{default:P(()=>[S(se,null,{default:P(()=>[u.value?(n(),p("div",Rt,[$.value?(n(),p("h2",Mt,y($.value),1)):L("",!0),g("div",{class:"description-content",innerHTML:a.value},null,8,zt)])):L("",!0),t.value&&t.value.length?(n(),p("div",Ht,[g("h3",Vt,y(D(b)("components.marketplace.panels.descriptionPanel.keyFeatures")),1),g("div",Et,[(n(!0),p(M,null,z(t.value,(l,v)=>(n(),p("div",{key:v,class:"highlight-item"},[S(Y,{color:"primary",size:"24",class:"highlight-icon"},{default:P(()=>[...s[0]||(s[0]=[V(" mdi-check-circle ",-1)])]),_:1}),g("span",Wt,y(l),1)]))),128))])])):L("",!0),r.panel.sections&&r.panel.sections.length?(n(),p("div",Ut,[(n(!0),p(M,null,z(r.panel.sections,(l,v)=>(n(),p("div",{key:v,class:"content-section"},[g("h3",Bt,y(l.title),1),g("div",{class:"section-text",innerHTML:i(l.content)},null,8,Jt)]))),128))])):L("",!0)]),_:1})]),_:1})],4))}},Qt=E(Kt,[["__scopeId","data-v-f9a8e9f9"]]),Xt={__name:"FeaturesPanel",props:{panel:{type:Object,required:!0},app:{type:Object,required:!0}},setup(r){const e=r,c=W(),{t:b,te:h,tm:f}=c,C=a=>a&&typeof a=="string"&&a.startsWith("i18n:"),m=a=>{if(typeof a=="string")try{const i=JSON.parse(a);return i&&typeof i=="object"&&i.b&&i.b.s?i.b.s:a}catch{return a}return a&&typeof a=="object"?a.b&&a.b.s?a.b.s:a.body?.static||a.loc?.source||a.static||JSON.stringify(a):String(a)},I=d(()=>{if(!e.panel.title)return"";if(C(e.panel.title)){const a=e.panel.title.replace("i18n:","");return h(a)?m(b(a)):e.panel.title}return e.panel.title}),$=d(()=>{if(!e.panel.subtitle)return"";if(C(e.panel.subtitle)){const a=e.panel.subtitle.replace("i18n:","");return h(a)?m(b(a)):e.panel.subtitle}return e.panel.subtitle}),u=d(()=>{if(!e.panel.features)return[];if(C(e.panel.features)){const a=e.panel.features.replace("i18n:","");let i=null;try{const k=c.locale.value,_=a.split(".");let s=c.messages.value[k];for(const l of _)if(s&&typeof s=="object")s=s[l];else break;i=s}catch{}if(i&&typeof i=="object"){let k=Array.isArray(i)?i:Object.values(i);return k=JSON.parse(JSON.stringify(k)),k=k.map(_=>{const s=l=>{if(typeof l=="string")try{const v=JSON.parse(l);return v&&typeof v=="object"&&v.b&&v.b.s?v.b.s:l}catch{return l}return l&&typeof l=="object"?l.b&&l.b.s?l.b.s:l.body?.static||l.loc?.source||l.static||JSON.stringify(l):String(l)};return{icon:s(_.icon),title:s(_.title),description:s(_.description),color:s(_.color)}}),k}return[]}return e.panel.features}),t=d(()=>({padding:e.panel.padding?`${e.panel.padding.top}px ${e.panel.padding.right}px ${e.panel.padding.bottom}px ${e.panel.padding.left}px`:"0",background:e.panel.background||"transparent",borderRadius:e.panel.cornerRadius?`${e.panel.cornerRadius}px`:"0"}));return(a,i)=>(n(),p("div",{class:"features-panel",style:H(t.value)},[S(ve,{title:I.value,subtitle:$.value,items:u.value,"grid-min-width":"280px"},null,8,["title","subtitle","items"])],4))}},jt=E(Xt,[["__scopeId","data-v-3827665d"]]),Yt={class:"section-title"},Zt={class:"section-subtitle"},ea={class:"games-grid"},ta={class:"game-card-inner"},aa={class:"game-icon"},na={class:"game-name"},sa={class:"game-description"},ra={class:"game-price"},la={class:"price-label"},oa={class:"price-value"},ia={__name:"RelatedGamesPanel",props:{panel:{type:Object,required:!0},app:{type:Object,required:!0}},setup(r){const e=r,{t:c}=W(),{games:b}=fe(),{parseLandingImage:h,getMinimumPrice:f}=j(),C=d(()=>b.value.filter(t=>t.visible&&t.enabled&&t.name.toLowerCase()!==e.app.name.toLowerCase()).slice(0,4)),m=t=>h(t.icon),I=t=>({palworld:"Monster-catching survival adventure",minecraftserver:"Creative building & survival",minecraft:"Creative building & survival",factorio:"Factory automation & logistics",satisfactory:"3D factory building",enshrouded:"Survival action RPG"})[t.name.toLowerCase()]||t.description||"Host your game server",$=t=>f(t),u=d(()=>({padding:e.panel.padding?`${e.panel.padding.top}px ${e.panel.padding.right}px ${e.panel.padding.bottom}px ${e.panel.padding.left}px`:"0",background:e.panel.background||"transparent",borderRadius:e.panel.cornerRadius?`${e.panel.cornerRadius}px`:"0"}));return(t,a)=>{const i=Ee("RouterLink");return n(),p("div",{class:"related-games-panel",style:H(u.value)},[S(te,{class:"related-games-card",elevation:"0"},{default:P(()=>[S(se,null,{default:P(()=>[g("h2",Yt,y(D(c)("components.marketplace.panels.relatedGamesPanel.title")),1),g("p",Zt,y(D(c)("components.marketplace.panels.relatedGamesPanel.subtitle")),1),g("div",ea,[(n(!0),p(M,null,z(C.value,k=>(n(),O(i,{key:k.name,to:`/marketplace/games/${k.name.toLowerCase()}`,class:"game-card"},{default:P(()=>[g("div",ta,[g("div",aa,[S(X,{src:m(k),alt:`${k.displayName||k.name} server hosting`,height:"100",width:"100",contain:"",eager:""},null,8,["src","alt"])]),g("h3",na,y(k.displayName||k.name),1),g("p",sa,y(I(k)),1),g("div",ra,[g("span",la,y(D(c)("components.marketplace.panels.relatedGamesPanel.startingAt")),1),g("span",oa,"$"+y($(k)),1)])])]),_:2},1032,["to"]))),128))])]),_:1})]),_:1})],4)}}},ca=E(ia,[["__scopeId","data-v-511371c4"]]),pa={__name:"WhyFluxPanel",props:{panel:{type:Object,required:!0},app:{type:Object,required:!0}},setup(r){const e=r,{t:c,te:b}=W(),h=u=>u&&typeof u=="string"&&u.startsWith("i18n:"),f=d(()=>{if(!e.panel.title)return"";if(h(e.panel.title)){const u=e.panel.title.replace("i18n:","");return b(u)?c(u):e.panel.title}return e.panel.title}),C=d(()=>{if(!e.panel.subtitle)return"";if(h(e.panel.subtitle)){const u=e.panel.subtitle.replace("i18n:","");return b(u)?c(u):e.panel.subtitle}return e.panel.subtitle}),m=d(()=>e.panel.benefits||[]),I=d(()=>e.panel.padding?`${e.panel.padding.top}px ${e.panel.padding.right}px ${e.panel.padding.bottom}px ${e.panel.padding.left}px`:"32px"),$=d(()=>({borderRadius:e.panel.cornerRadius?`${e.panel.cornerRadius}px`:"0"}));return(u,t)=>(n(),p("div",{class:"why-flux-panel",style:H($.value)},[S(ve,{title:f.value,subtitle:C.value,items:m.value,padding:I.value,"background-color":r.panel.background,elevation:"0"},null,8,["title","subtitle","items","padding","background-color"])],4))}},ua=E(pa,[["__scopeId","data-v-6faca28d"]]),da={__name:"PanelRenderer",props:{panel:{type:Object,required:!0},app:{type:Object,required:!0}},emits:["install"],setup(r,{emit:e}){const c=r,b=e,h=d(()=>{switch(c.panel.type){case"Header":return Ze;case"Groups":return Nt;case"Screenshots":return qt;case"Description":return Qt;case"Features":return jt;case"ServerLocations":return Be;case"FAQ":return me;case"RelatedGames":return ca;case"WhyFlux":return ua;case"GenericFAQ":return me;case"NodeMap":return null;case"Subscription":return null;default:return null}}),f=C=>{b("install",C)};return(C,m)=>r.panel.enabled&&h.value?(n(),O(We(h.value),{key:0,panel:r.panel,app:r.app,onInstall:f},null,40,["panel","app"])):L("",!0)}},ga={class:"game-details-container"},ma={key:2,class:"game-details"},fa={key:0,class:"panels-container"},ha={key:1,class:"basic-game-info"},va={class:"game-header"},ya={key:0,class:"game-description"},_a={key:1,class:"configs-section"},ba={class:"configs-grid"},ka={key:2,class:"single-install"},$a={__name:"[name]",setup(r){const{t:e,tm:c,te:b}=W(),h=Ge(),f=Ie(),C=Pe(),{games:m,fetchGames:I}=fe(),{parseLandingImage:$,getMinimumPrice:u}=j(),t=R(null),a=R(!0),i=R(null),k=R(!1),_=R(null),s=R(null),l=R(8e3),v=d(()=>$(t.value?.icon)),w=d(()=>t.value?u(t.value):"0"),G=d(()=>{if(!t.value?.panels)return[];const x=[...t.value.panels],o=["Header","Groups","Description","Features","ServerLocations","Screenshots","FAQ","RelatedGames","NodeMap","Subscription"];return x.sort((N,T)=>{const A=o.indexOf(N.type),F=o.indexOf(T.type);return(A===-1?999:A)-(F===-1?999:F)})}),U=d(()=>t.value?`${t.value.displayName||t.value.name} Server Hosting - FluxPlay on Flux Network`:"FluxPlay - Game Server Hosting"),B=d(()=>{if(!t.value)return"Deploy game servers on the decentralized Flux network. Affordable, reliable game hosting with instant deployment and DDoS protection.";const x=t.value.displayName||t.value.name;let o=t.value.detailHeaderText||t.value.description||`Deploy ${x} servers on FluxCloud. Affordable, reliable hosting with instant deployment & DDoS protection.`;return o.length>155&&(o=o.substring(0,152).trim()+"..."),o}),ae=d(()=>t.value&&v.value||"https://cloud.runonflux.com/images/games/FluxPlay_white.svg"),oe=d(()=>`https://cloud.runonflux.com/marketplace/games/${f.params.name}`),ye=d(()=>{if(!t.value)return"game server hosting, decentralized hosting, flux network, affordable game hosting";const x=t.value.displayName||t.value.name;return`${x} hosting, ${x} server, game server hosting, decentralized hosting, flux network, affordable game hosting`}),_e=d(()=>{if(!t.value)return[];const x=t.value.displayName||t.value.name,o=B.value,N=oe.value,T=ae.value,A=w.value,F=t.value.panels?.find(q=>q.type==="FAQ"&&q.enabled);let J=null;if(F?.questions){let q=F.questions;if(typeof q=="string"&&q.startsWith("i18n:")){const K=q.replace("i18n:","");if(b(K)){const Z=c(K),we=Array.isArray(Z)?Z.length:typeof Z=="object"?Object.keys(Z).length:0;q=[];for(let ee=0;ee<we;ee++){const pe=`${K}.${ee}.q`,ue=`${K}.${ee}.a`;b(pe)&&b(ue)&&q.push({q:e(pe),a:e(ue)})}}}Array.isArray(q)&&q.length>0&&(J={"@type":"FAQPage",mainEntity:q.map(K=>({"@type":"Question",name:K.q||K.question,acceptedAnswer:{"@type":"Answer",text:K.a||K.answer}}))})}const Se=Ne({name:`${x} Server Hosting`,description:o,url:N,image:T,applicationCategory:"GameServer",operatingSystem:"Linux",offers:{price:A.replace(/[^\d.]/g,""),currency:"USD",availability:"https://schema.org/InStock"},features:["One-click deployment","Auto-scaling",`Global distribution across ${l.value.toLocaleString()}+ nodes`,"Built-in DDoS protection","24/7 automated monitoring","Automatic backups","99.9% uptime guarantee","Pay-as-you-go pricing"],aggregateRating:{ratingValue:"4.8",reviewCount:"127",bestRating:"5"}}),Ce=Le([{name:"Home",url:"https://cloud.runonflux.com"},{name:"Games",url:"https://cloud.runonflux.com/marketplace/games"},{name:x,url:N}]),ce=[Se,Ce];return J&&ce.push({"@context":"https://schema.org",...J}),ce});Ae({title:U,description:B,url:oe,image:ae,keywords:ye,structuredData:_e});const ie=async()=>{a.value=!0,i.value=null;try{const x=f.params.name;console.log("ðŸ” Loading game details for:",x),console.log("ðŸ“¦ Current games.value.length:",m.value.length),m.value.length||(console.log("â³ Fetching games..."),await I(),console.log("âœ… Games fetched, count:",m.value.length)),console.log("ðŸ“‹ All game names:",m.value.map(F=>F.name));const o=m.value.find(F=>F.name?.toLowerCase()===x.toLowerCase());if(console.log("ðŸŽ® Found game:",o?o.name:"NOT FOUND"),!o){i.value=e("pages.marketplace.games.detail.gameNotFound"),console.error("âŒ Game not found:",x);return}if(!o.visible||!o.enabled){i.value=e("pages.marketplace.games.detail.gameNotAvailable"),console.error("âŒ Game not available. visible:",o.visible,"enabled:",o.enabled);return}console.log("âœ… Game loaded successfully:",o.name),console.log("ðŸŽ® Game data:",{name:o.name,hasConfigs:!!o.configs,configsLength:o.configs?.length||0,hasGroups:!!o.groups,groupsLength:o.groups?.length||0,hasPanels:!!o.panels,panelsLength:o.panels?.length||0,useConfig:o.useConfig});const N=o.name.toLowerCase(),A={palworld:"palworld",minecraftserver:"minecraft",minecraft:"minecraft",factorio:"factorio",satisfactory:"satisfactory",enshrouded:"enshrouded"}[N];if(A){const F=o.panels||[];o.panels=[F.find(J=>J.type==="Header")||{type:"Header",enabled:!0},{type:"Description",enabled:!0,title:`i18n:pages.marketplace.games.${A}.description.title`,content:`i18n:pages.marketplace.games.${A}.description.content`,highlights:`i18n:pages.marketplace.games.${A}.description.highlights`},{type:"Features",enabled:!0,title:`i18n:pages.marketplace.games.${A}.features.title`,subtitle:`i18n:pages.marketplace.games.${A}.features.subtitle`,features:`i18n:pages.marketplace.games.${A}.features.items`},{type:"ServerLocations",enabled:!0,title:`i18n:pages.marketplace.games.${A}.serverLocations.title`,subtitle:`i18n:pages.marketplace.games.${A}.serverLocations.subtitle`},...F.filter(J=>J.type==="Screenshots"),...F.filter(J=>J.type==="Groups"),{type:"FAQ",enabled:!0,title:`i18n:pages.marketplace.games.${A}.faq.title`,subtitle:`i18n:pages.marketplace.games.${A}.faq.subtitle`,questions:`i18n:pages.marketplace.games.${A}.faq.questions`},{type:"RelatedGames",enabled:!0}]}t.value=o,h.trackMarketplace("game_view",{page:"game_detail",game_name:o.displayName||o.name,game_id:o.name})}catch(x){console.error("Failed to load game details:",x),i.value=x.message||e("pages.marketplace.games.detail.failedToLoad")}finally{a.value=!1}},ne=({app:x,config:o})=>{_.value=x,s.value=o,k.value=!0},be=()=>{console.log("Game deployed successfully")},ke=x=>Math.floor(x/2),$e=(x,o,N)=>({...x,isPopular:o===ke(N)}),xe=async()=>{try{const x=Oe(),{serverLocations:o}=x;o.fluxList.length===0&&!o.lastFetched&&await new Promise(N=>{const T=de(()=>o.fluxList.length,A=>{A>0&&(T(),N())},{immediate:!0});setTimeout(()=>{T(),N()},5e3)}),o.fluxNodeCount>0&&(l.value=o.fluxNodeCount,console.log("âœ… Network data loaded from store:",{nodeCount:l.value}))}catch(x){console.error("Error loading network data from store:",x)}};return de(()=>f.params.name,()=>{window.scrollTo({top:0,behavior:"smooth"}),ie()},{immediate:!1}),he(async()=>{await Promise.all([ie(),xe()])}),(x,o)=>(n(),p("div",ga,[a.value?(n(),O(Fe,{key:0,icon:"mdi-gamepad-variant","icon-size":56,title:D(e)("pages.marketplace.games.detail.loadingTitle")},null,8,["title"])):i.value?(n(),O(Re,{key:1,type:"error",class:"error-alert"},{append:P(()=>[S(Q,{variant:"text",onClick:o[0]||(o[0]=N=>D(C).push("/marketplace/games"))},{default:P(()=>[V(y(D(e)("pages.marketplace.games.detail.backToGames")),1)]),_:1})]),default:P(()=>[V(y(i.value)+" ",1)]),_:1})):t.value?(n(),p("div",ma,[S(Q,{icon:"mdi-arrow-left",variant:"tonal",color:"grey-darken-2",class:"back-btn",onClick:o[1]||(o[1]=N=>D(C).push("/marketplace/games"))}),t.value.panels&&t.value.panels.length?(n(),p("div",fa,[(n(!0),p(M,null,z(G.value,(N,T)=>(n(),O(da,{key:`${t.value.name}-${N.type}-${T}`,panel:N,app:t.value,onInstall:ne},null,8,["panel","app"]))),128))])):(n(),p("div",ha,[S(te,{class:"info-card",elevation:"3"},{default:P(()=>[S(Me,null,{default:P(()=>[g("div",va,[v.value?(n(),O(X,{key:0,src:v.value,"max-width":"80","max-height":"80",class:"game-icon"},null,8,["src"])):L("",!0),g("h1",null,y(t.value.displayName||t.value.name),1)])]),_:1}),S(se,null,{default:P(()=>[t.value.description?(n(),p("p",ya,y(t.value.description),1)):L("",!0),t.value.useConfig&&t.value.configs&&t.value.configs.length?(n(),p("div",_a,[g("h2",null,y(D(e)("pages.marketplace.games.detail.availableConfigurations")),1),g("div",ba,[(n(!0),p(M,null,z(t.value.configs,(N,T)=>(n(),O(le,{key:N.id,config:$e(N,T,t.value.configs.length),app:t.value,onInstall:ne},null,8,["config","app"]))),128))])])):(n(),p("div",ka,[S(Q,{color:"primary",size:"large",onClick:o[2]||(o[2]=N=>ne({app:t.value,config:null}))},{default:P(()=>[V(y(D(e)("pages.marketplace.games.detail.installGame",{name:t.value.displayName||t.value.name})),1)]),_:1})]))]),_:1})]),_:1})])),t.value?(n(),O(Ue,{key:2,"use-live-data":"","star-size":32,"show-rating-label":""})):L("",!0)])):L("",!0),_.value?(n(),O(Je,{key:3,modelValue:k.value,"onUpdate:modelValue":o[3]||(o[3]=N=>k.value=N),app:_.value,"selected-config":s.value,"is-game":"",onDeployed:be},null,8,["modelValue","app","selected-config"])):L("",!0)]))}},_n=E($a,[["__scopeId","data-v-25ee1dde"]]);export{_n as default};
