import{u as N}from"./useSEO-5BaNf11O.js";import{M as v}from"./tabView-yiP-Zt8D.js";import{_ as T,r as I}from"./index-QPPWK7xw.js";import{D as S}from"./DaemonService-D09C4O6H.js";import{Y as C,X as E,Z as b,x as h,_ as k}from"./vuetify-_4u1He_j.js";import{u as M}from"./i18n-Bm8bpAAW.js";import{r as l,o as U,f as z,g as m,a3 as o,Q as s,T as _,P as V,x as y,U as x,y as A,j as w}from"./apexcharts-nIAyciCq.js";import"./unhead-DEOrWl0D.js";import"./ConfirmCustomDialog-D5jNuL5-.js";import"./MapComponent-D1NdOhsg.js";import"./leaflet-core-jNE0Bq0j.js";import"./leaflet-cluster-0ODEUdTP.js";import"./http-BZQDkn3h.js";import"./ansi-utils-ChIB8aIv.js";import"./vue-core-CU9AIURn.js";import"./LoadingSpinner-BLJvP0iy.js";import"./geolocation-BklMEt0S.js";import"./ExplorerService-oc3qiwdf.js";import"./useLoginSheet-e2RZXtPE.js";import"./eventBus-BZyChua5.js";import"./event-utils-DGlX1gEp.js";import"./query-parser-C3-dT-Rr.js";import"./crypto-metamask-D6vz180a.js";import"./socketio-BDGyx5_k.js";import"./uuid-B49X2dQj.js";import"./vueuse-Bid7ZbHY.js";import"./cookie-BfmCf_44.js";import"./unjs-utils-GcjLqAqW.js";import"./casl-DNC8KRD8.js";import"./scrollbar-CXs_Utq1.js";import"./icons-mdi-_QP0sdRJ.js";import"./sanitizer-DAUAC_Zc.js";import"./element-plus-Cr1Qs4Q_.js";import"./lodash-C_Sw0jJq.js";const W={__name:"global",setup(j){N();const{t:d}=M(),n=l(0),i=l(!1),p=l(!0),f=l(!0),r=l(-1),c=l([]),u=l([]);async function B(){p.value=!0,i.value=!1;try{const e=await I.globalAppSpecifications();if(e?.data?.data){const a=e.data.data;c.value=a.filter(t=>!g(t.name)),u.value=a.filter(t=>g(t.name))}}catch(e){console.error("Error loading apps:",e),i.value=!0}p.value=!1}function g(e){if(e.length>=14){const a=e.substring(e.length-13),t=Number(a);return!isNaN(t)}return!1}async function D(){try{const e=await S.getBlockCount();e.data.status==="success"?(r.value=e.data.data,console.log("Daemon block count set:",r.value)):(console.warn("Daemon block count fetch failed:",e.data),r.value=-1)}catch(e){console.error("Error fetching daemon block count:",e.message),r.value=-1}}return U(async()=>{await D(),await B(),console.log("Initial data fetching complete")}),(e,a)=>(m(),z("div",null,[o(C,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=t=>n.value=t),"background-color":"transparent",class:"tabs-no-slider",grow:"","hide-slider":""},{default:s(()=>[o(b,{class:"tab-chip"},{default:s(()=>[_(x(A(d)("menu.application.activeApps"))+" ",1),c.value.length?(m(),V(h,{key:0,content:c.value.length,color:"success","offset-x":"-5","offset-y":"8",class:"ml-2",floating:"",rounded:"",size:"small",density:"default"},null,8,["content"])):y("",!0)]),_:1}),o(b,{class:"tab-chip"},{default:s(()=>[_(x(A(d)("menu.application.marketplaceAppsTab"))+" ",1),u.value.length?(m(),V(h,{key:0,content:u.value.length,color:"success","offset-x":"-5","offset-y":"8",class:"ml-2",floating:"",rounded:"",size:"small",density:"default"},null,8,["content"])):y("",!0)]),_:1})]),_:1},8,["modelValue"]),o(E,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=t=>n.value=t),class:"mt-4",touch:!1},{default:s(()=>[o(k,null,{default:s(()=>[w("div",null,[o(v,{apps:c.value,loading:p.value,"logged-in":f.value,"current-block-height":r.value,"active-apps-tab":"","api-error":i.value,privilege:"none"},null,8,["apps","loading","logged-in","current-block-height","api-error"])])]),_:1}),o(k,null,{default:s(()=>[w("div",null,[o(v,{apps:u.value,loading:p.value,"logged-in":f.value,"current-block-height":r.value,"active-apps-tab":"","is-marketplace":"","api-error":i.value,privilege:"none"},null,8,["apps","loading","logged-in","current-block-height","api-error"])])]),_:1})]),_:1},8,["modelValue"])]))}},ke=T(W,[["__scopeId","data-v-d7c47c45"]]);export{ke as default};
