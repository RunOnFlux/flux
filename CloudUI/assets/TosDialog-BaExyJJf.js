import{_ as y}from"./crypto-metamask-D6vz180a.js";import{L as S}from"./LoadingSpinner-BLJvP0iy.js";import{_ as C}from"./index-QPPWK7xw.js";import{a as I,b as z,c as p,r as O,d as P,f as B,V as E,h as M}from"./vuetify-_4u1He_j.js";import{u as x}from"./i18n-Bm8bpAAW.js";import{r as V,c as A,w as L,P as T,g as _,Q as l,a3 as t,j as w,U as v,R as j,y as F,az as N,f as R,T as b}from"./apexcharts-nIAyciCq.js";const q=(i,s,r)=>{const a=i[s];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((g,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})},U={class:"d-flex align-center gap-2"},H={class:"text-h5",style:{color:"white"}},Q={key:1,class:"tos-content"},G={__name:"TosDialog",props:{modelValue:{type:Boolean,required:!0},title:{type:String,default:"Terms of Service"},agreeText:{type:String,default:"I Agree"},disagreeText:{type:String,default:"I Disagree"}},emits:["update:modelValue","agree"],setup(i,{emit:s}){const r=i,a=s,{t:g}=x(),n=x(),c=V(""),d=V(!1),u=A({get:()=>r.modelValue,set:o=>a("update:modelValue",o)}),k=async()=>{if(!c.value){d.value=!0;try{const o=n.locale?.value||n.global?.locale?.value||"en";let e="";try{e=(await q(Object.assign({"../../html/tos/tos.en.html":()=>y(()=>import("./tos.en-vCFvxVvr.js"),[])}),`../../html/tos/tos.${o}.html`,5)).default}catch{e=(await y(()=>import("./tos.en-vCFvxVvr.js"),[])).default}e=e.replace(/color:\s*black/gi,"color: inherit"),e=e.replace(/color:\s*#000000/gi,"color: inherit"),e=e.replace(/color:\s*rgb\(0,\s*0,\s*0\)/gi,"color: inherit"),c.value=e}catch(o){console.error("[TOS] Failed to load TOS:",o),c.value='<p>Failed to load Terms of Service. Please visit <a href="https://cdn.runonflux.io/Flux_Terms_of_Service.pdf" target="_blank">https://cdn.runonflux.io/Flux_Terms_of_Service.pdf</a></p>'}finally{d.value=!1}}};L(()=>r.modelValue,o=>{o&&k()});const m=()=>{u.value=!1},D=()=>{a("agree"),m()};return(o,e)=>{const f=N("sanitize-html");return _(),T(M,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=h=>u.value=h),"max-width":"800",scrollable:""},{default:l(()=>[t(E,{id:"tos-dialog",style:{"border-radius":"32px"}},{default:l(()=>[t(I,{class:"d-flex align-center justify-space-between px-4 py-2 bg-primary"},{default:l(()=>[w("div",U,[t(z,{icon:"mdi-file-document-outline",size:"28",color:"white"}),w("span",H,v(i.title),1)]),t(p,{icon:"mdi-close",variant:"text",size:"small",color:"white",onClick:m})]),_:1}),t(O),t(P,{class:"px-8 py-4 tos-scroll-area",style:{"max-height":"calc(80vh - 200px)","overflow-y":"auto"}},{default:l(()=>[d.value?(_(),T(S,{key:0,icon:"mdi-file-document-outline",title:F(g)("core.tosDialog.loading"),"rotate-icon":""},null,8,["title"])):j((_(),R("div",Q,null,512)),[[f,c.value]])]),_:1}),t(B,{class:"pa-6 pt-4 justify-center"},{default:l(()=>[t(p,{color:"success",variant:"flat",size:"default","min-width":"120","prepend-icon":"mdi-check-circle",onClick:D},{default:l(()=>[b(v(i.agreeText),1)]),_:1}),t(p,{color:"error",variant:"outlined",size:"default","min-width":"120","prepend-icon":"mdi-close-circle",class:"ml-4",onClick:m},{default:l(()=>[b(v(i.disagreeText),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},$=C(G,[["__scopeId","data-v-02a4b4b0"]]);export{$ as _};
