import{d as te,h as w,s as M,c as $,a as re,w as y,r as ne,o as U,n as q}from"./apexcharts-nIAyciCq.js";function H(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fe(e){if(Array.isArray(e))return e}function ve(e,t,r){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,u,o=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(l){s=!0,a=l}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(s)throw a}}return o}}function me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pe(e,t){if(e==null)return{};var r,n,a=he(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function he(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ye(e,t){return fe(e)||ge(e,t)||Se(e,t)||me()}function be(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oe(e){var t=be(e,"string");return typeof t=="symbol"?t:t+""}function Se(e,t){if(e){if(typeof e=="string")return H(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(n){we(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function je(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(a,i){return i(a)},n)}}function P(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];return t.apply(r,[].concat(a,o))}}}function T(e){return{}.toString.call(e).includes("Object")}function Pe(e){return!Object.keys(e).length}function _(e){return typeof e=="function"}function _e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Me(e,t){return T(t)||b("changeType"),Object.keys(t).some(function(r){return!_e(e,r)})&&b("changeField"),t}function Ee(e){_(e)||b("selectorType")}function Ie(e){_(e)||T(e)||b("handlerType"),T(e)&&Object.values(e).some(function(t){return!_(t)})&&b("handlersType")}function $e(e){e||b("initialIsRequired"),T(e)||b("initialType"),Pe(e)&&b("initialContent")}function Te(e,t){throw new Error(e[t]||e.default)}var Ve={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},b=P(Te)(Ve),I={changes:Me,selector:Ee,handler:Ie,initial:$e};function Ce(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};I.initial(e),I.handler(t);var r={current:e},n=P(xe)(r,t),a=P(Ae)(r),i=P(I.changes)(e),u=P(De)(r);function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(l){return l};return I.selector(s),s(r.current)}function c(s){je(n,a,i,u)(s)}return[o,c]}function De(e,t){return _(t)?t(e.current):t}function Ae(e,t){return e.current=K(K({},e.current),t),t}function xe(e,t,r){return _(t)?t(e.current):Object.keys(r).forEach(function(n){var a;return(a=t[n])===null||a===void 0?void 0:a.call(t,e.current[n])}),r}var Le={create:Ce},Ne={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Fe(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];return t.apply(r,[].concat(a,o))}}}function Ue(e){return{}.toString.call(e).includes("Object")}function qe(e){return e||R("configIsRequired"),Ue(e)||R("configType"),e.urls?(He(),{paths:{vs:e.urls.monacoBase}}):e}function He(){console.warn(ae.deprecation)}function ze(e,t){throw new Error(e[t]||e.default)}var ae={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},R=Fe(ze)(ae),We={config:qe},Be=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduceRight(function(i,u){return u(i)},a)}};function ie(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],ie(e[r],t[r]))}),W(W({},e),t)}var Ke={type:"cancelation",msg:"operation is manually canceled"};function D(e){var t=!1,r=new Promise(function(n,a){e.then(function(i){return t?a(Ke):n(i)}),e.catch(a)});return r.cancel=function(){return t=!0},r}var Re=["monaco"],Ge=Le.create({config:Ne,isInitialized:!1,resolve:null,reject:null,monaco:null}),oe=ye(Ge,2),E=oe[0],C=oe[1];function Ye(e){var t=We.config(e),r=t.monaco,n=pe(t,Re);C(function(a){return{config:ie(a.config,n),monaco:r}})}function Je(){var e=E(function(t){var r=t.monaco,n=t.isInitialized,a=t.resolve;return{monaco:r,isInitialized:n,resolve:a}});if(!e.isInitialized){if(C({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),D(A);if(window.monaco&&window.monaco.editor)return ue(window.monaco),e.resolve(window.monaco),D(A);Be(Qe,Ze)(ke)}return D(A)}function Qe(e){return document.body.appendChild(e)}function Xe(e){var t=document.createElement("script");return e&&(t.src=e),t}function Ze(e){var t=E(function(n){var a=n.config,i=n.reject;return{config:a,reject:i}}),r=Xe("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function ke(){var e=E(function(r){var n=r.config,a=r.resolve,i=r.reject;return{config:n,resolve:a,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var n=r.m||r;ue(n),e.resolve(n)},function(r){e.reject(r)})}function ue(e){E().monaco||C({monaco:e})}function et(){return E(function(e){var t=e.monaco;return t})}var A=new Promise(function(e,t){return C({resolve:e,reject:t})}),N={config:Ye,init:Je,__getMonacoInstance:et},tt=Object.defineProperty,rt=Object.defineProperties,nt=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,Y=(e,t,r)=>t in e?tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))at.call(t,r)&&Y(e,r,t[r]);if(G)for(var r of G(t))it.call(t,r)&&Y(e,r,t[r]);return e},ot=(e,t)=>rt(e,nt(t));const L={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function le(e,t){const r=$(()=>{const{width:a,height:i}=e;return ot(x({},L.wrapper),{width:a,height:i})}),n=$(()=>x(x({},L.fullWidth),!t.value&&L.hide));return{wrapperStyle:r,containerStyle:n}}function ce(){const e=M(N.__getMonacoInstance()),t=ne(!1);let r;return U(()=>{e.value||(r=N.init(),r.then(a=>e.value=a).catch(a=>{a?.type!=="cancelation"&&(t.value=!0,console.error("Monaco initialization error:",a))}))}),{monacoRef:e,unload:()=>r?.cancel(),isLoadFailed:t}}function V(e){return typeof e=="function"?e():e}function F(e){return e===void 0}function j(e,t,r,n){return ut(e,n)||lt(e,t,r,n)}function ut(e,t){return e.editor.getModel(de(e,t))}function lt(e,t,r,n){return e.editor.createModel(t,r,n?de(e,n):void 0)}function de(e,t){return e.Uri.parse(t)}var ct=Object.defineProperty,J=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,Q=(e,t,r)=>t in e?ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ft=(e,t)=>{for(var r in t||(t={}))dt.call(t,r)&&Q(e,r,t[r]);if(J)for(var r of J(t))st.call(t,r)&&Q(e,r,t[r]);return e};const vt={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var X=te({name:"VueMonacoEditor",model:{prop:"value",event:"update:value"},props:{defaultValue:String,defaultPath:String,defaultLanguage:String,value:String,language:String,path:String,theme:{type:String,default:"vs"},line:Number,options:{type:Object,default:()=>({})},overrideServices:{type:Object,default:()=>({})},saveViewState:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},emits:["update:value","beforeMount","mount","change","validate"],setup(e,t){const r=new Map,n=M(null),{monacoRef:a,unload:i,isLoadFailed:u}=ce(),{editorRef:o}=gt(t,e,a,n),{disposeValidator:c}=mt(t,e,a,o),s=$(()=>!!a.value&&!!o.value),{wrapperStyle:l,containerStyle:g}=le(e,s);return re(()=>{var d,v;(d=c.value)==null||d.call(c),o.value?((v=o.value.getModel())==null||v.dispose(),o.value.dispose()):i()}),y([()=>e.path,()=>e.value,()=>e.language,()=>e.line],([d,v,m,p],[h,O,f,S])=>{if(s.value){if(d!==h){const se=j(a.value,v||e.defaultValue||"",m||e.defaultLanguage||"",d||e.defaultPath||"");e.saveViewState&&r.set(h,o.value.saveViewState()),o.value.setModel(se),e.saveViewState&&o.value.restoreViewState(r.get(d)),F(p)||o.value.revealLine(p);return}o.value.getValue()!==v&&o.value.setValue(v),m!==f&&a.value.editor.setModelLanguage(o.value.getModel(),m),!F(p)&&p!==S&&o.value.revealLine(p)}}),y(()=>e.options,d=>o.value&&o.value.updateOptions(d),{deep:!0}),y(()=>e.theme,d=>a.value&&a.value.editor.setTheme(d)),{containerRef:n,isEditorReady:s,isLoadFailed:u,wrapperStyle:l,containerStyle:g}},render(){const{$slots:e,isEditorReady:t,isLoadFailed:r,wrapperStyle:n,containerStyle:a,className:i}=this;return w("div",{style:n},[!t&&w("div",{style:vt},r?e.failure?V(e.failure):"load failed":e.default?V(e.default):"loading..."),w("div",{ref:"containerRef",key:"monaco_editor_container",style:a,class:i})])}});function gt({emit:e},t,r,n){const a=M(null);U(()=>{const u=y(r,()=>{n.value&&r.value&&(q(()=>u()),i())},{immediate:!0})});function i(){var u;if(!n.value||!r.value||a.value)return;e("beforeMount",r.value);const o=t.path||t.defaultPath,c=j(r.value,t.value||t.defaultValue||"",t.language||t.defaultLanguage||"",o||"");a.value=r.value.editor.create(n.value,ft({model:c,theme:t.theme,automaticLayout:!0,autoIndent:"brackets",formatOnPaste:!0,formatOnType:!0},t.options),t.overrideServices),(u=a.value)==null||u.onDidChangeModelContent(s=>{const l=a.value.getValue();l!==t.value&&(e("update:value",l),e("change",l,s))}),a.value&&!F(t.line)&&a.value.revealLine(t.line),e("mount",a.value,r.value)}return{editorRef:a}}function mt({emit:e},t,r,n){const a=ne(null),i=y([r,n],()=>{if(r.value&&n.value){q(()=>i());const u=r.value.editor.onDidChangeMarkers(o=>{var c,s;const l=(s=(c=n.value)==null?void 0:c.getModel())==null?void 0:s.uri;if(l&&o.find(d=>d.path===l.path)){const d=r.value.editor.getModelMarkers({resource:l});e("validate",d)}});a.value=()=>u?.dispose()}});return{disposeValidator:a}}var pt=Object.defineProperty,Z=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,k=(e,t,r)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bt=(e,t)=>{for(var r in t||(t={}))ht.call(t,r)&&k(e,r,t[r]);if(Z)for(var r of Z(t))yt.call(t,r)&&k(e,r,t[r]);return e};const Ot={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var ee=te({name:"VueMonacoDiffEditor",props:{original:String,modified:String,language:String,originalLanguage:String,modifiedLanguage:String,originalModelPath:String,modifiedModelPath:String,theme:{type:String,default:"vs"},options:{type:Object,default:()=>({})},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},setup(e,t){const r=M(null),{monacoRef:n,unload:a,isLoadFailed:i}=ce(),{diffEditorRef:u}=St(t,e,n,r),o=$(()=>!!n.value&&!!u.value),{wrapperStyle:c,containerStyle:s}=le(e,o);return re(()=>{var l,g,d,v,m,p,h,O;!n.value&&a();const f=(g=(l=u.value)==null?void 0:l.getModel)==null?void 0:g.call(l);(v=(d=f?.original)==null?void 0:d.dispose)==null||v.call(d),(p=(m=f?.modified)==null?void 0:m.dispose)==null||p.call(m),(O=(h=u.value)==null?void 0:h.dispose)==null||O.call(h)}),y([()=>e.originalModelPath,()=>e.original,()=>e.originalLanguage,()=>e.language],([l,g,d,v],[m,p,h,O])=>{if(!o.value)return;const f=u.value.getOriginalEditor();if(l!==m){const S=j(n.value,g||"",d||v||"text",l||"");f.setModel(S);return}g!==f.getValue()&&f.setValue(g||""),(d!==h||v!==O)&&n.value.editor.setModelLanguage(u.value.getModel().original,d||v||"text")}),y([()=>e.modifiedModelPath,()=>e.modified,()=>e.modifiedLanguage,()=>e.language],([l,g,d,v],[m,p,h,O])=>{if(!o.value)return;const f=u.value.getModifiedEditor();if(m!==l){const S=j(n.value,g||"",d||v||"text",l||"");f.setModel(S);return}if(g!==f.getValue()){const S=n.value.editor.EditorOption.readOnly;f.getOption(S)?f.setValue(g||""):(f.executeEdits("",[{range:f.getModel().getFullModelRange(),text:g||"",forceMoveMarkers:!0}]),f.pushUndoStop())}(d!==h||v!==O)&&n.value.editor.setModelLanguage(u.value.getModel().modified,d||v||"text")}),y(()=>e.theme,()=>{var l;return(l=n.value)==null?void 0:l.editor.setTheme(e.theme)}),y(()=>e.options,()=>{var l;return(l=u.value)==null?void 0:l.updateOptions(e.options)},{deep:!0}),{containerRef:r,isDiffEditorReady:o,isLoadFailed:i,wrapperStyle:c,containerStyle:s}},render(){const{$slots:e,isDiffEditorReady:t,isLoadFailed:r,wrapperStyle:n,containerStyle:a,className:i}=this;return w("div",{style:n},[!t&&w("div",{style:Ot},r?e.failure?V(e.failure):"load failed":e.default?V(e.default):"loading..."),w("div",{ref:"containerRef",key:"monaco_diff_editor_container",style:a,class:i})])}});function St({emit:e},t,r,n){const a=M(null);U(()=>{const u=y(r,()=>{n.value&&r.value&&(q(()=>u()),i())},{immediate:!0})});function i(){var u;if(!n.value||!r.value||a.value)return;e("beforeMount",r.value),a.value=r.value.editor.createDiffEditor(n.value,bt({automaticLayout:!0,autoIndent:"brackets",theme:t.theme,formatOnPaste:!0,formatOnType:!0},t.options));const o=j(r.value,t.original||"",t.originalLanguage||t.language||"text",t.originalModelPath||""),c=j(r.value,t.modified||"",t.modifiedLanguage||t.language||"text",t.modifiedModelPath||"");(u=a.value)==null||u.setModel({original:o,modified:c}),e("mount",a.value,r.value)}return{diffEditorRef:a}}function jt(e,t){t&&N.config(t),e.component(X.name,X),e.component(ee.name,ee)}export{ee as DiffEditor,X as Editor,ee as VueMonacoDiffEditor,X as VueMonacoEditor,X as default,jt as install,N as loader,ce as useMonaco};
