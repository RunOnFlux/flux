import{c as gt,_ as Ce,e as mt,T as Qe,S as Ke,L as Le,N as Ze,C as Je,D as Xe,t as E,s as Se,f as ne,A as et,n as tt,h as oe,j as Vt,k as lt,m as zt,I as ae}from"./index-QPPWK7xw.js";import{d as Pt,f as V,g as m,P as N,x as Y,j as r,k as Ne,a3 as a,Q as i,U as v,F as ke,l as Ee,L as ue,q as ve,V as It,T as S,av as ee,r as b,w as O,o as ye,c as F,a6 as Nt,y as e,R as Tt,a2 as Bt,p as Ve,H as ce,n as K,a1 as ht,aw as Rt,m as ie,a as $t}from"./apexcharts-nIAyciCq.js";import{r as we,s as Et,o as Dt,p as Ut,t as Te,v as Ft,w as Wt,u as Mt,b as $,c as B,x as ft,y as De,z as Ue,A as xe,B as qt,e as Ot,C as Yt,D as Be,E as Gt,F as jt,n as Ht,G as de,H as ze,I as X,V as ot,a as Qt,d as Kt,f as Zt,g as Jt,h as Xt}from"./vuetify-_4u1He_j.js";import{e as Pe,m as el}from"./vueuse-Bid7ZbHY.js";import{C as tl}from"./scrollbar-CXs_Utq1.js";import{s as Re}from"./vue-core-CU9AIURn.js";import{u as ge}from"./i18n-Bm8bpAAW.js";import{e as $e}from"./eventBus-BZyChua5.js";import{l as ll,a as ol,b as al,c as rl,g as at}from"./firebase-BnYKcu-W.js";import{f as il,s as sl,a as nl}from"./ssp-logo-white-BYX0TNEU.js";import{w as cl,m as dl}from"./walletconnect-Db7MYUHa.js";import{o as rt,s as it,d as ul,a as gl,b as ml}from"./walletService-ARo4SzYC.js";import{a as hl}from"./http-BZQDkn3h.js";import{q as re}from"./query-parser-C3-dT-Rr.js";import{C as fl}from"./clipboard-DDQOmope.js";const Ie=(u=[])=>{const d=gt().privilege||"none";return u.length===0?!0:u.includes(d)},Aa=u=>{if(!u.privilege&&(!u.children||u.children.length===0))return!0;if(!u.privilege&&u.children)return u.children.some(l=>Ie(l.privilege));const g=Ie(u.privilege),d=u.children?.some(l=>Ie(l.privilege));return g&&d},La=Pt({name:"VNodeRenderer",props:{nodes:{type:[Array,Object],required:!0}},setup(u){return()=>u.nodes}}),pl={class:"customizer-section"},vl={class:"font-weight-medium"},yl={__name:"CustomizerSection",props:{title:{type:String,required:!0},divider:{type:Boolean,required:!1,default:!0}},setup(u){const g=u;return(d,l)=>(m(),V(ke,null,[g.divider?(m(),N(we,{key:0})):Y("",!0),r("div",pl,[r("div",null,[a(Et,{size:"small",color:"primary"},{default:i(()=>[r("span",vl,v(g.title),1)]),_:1})]),Ne(d.$slots,"default")])],64))}},wl=["src"],xl={__name:"CustomRadiosWithImage",props:{selectedRadio:{type:String,required:!0},radioContent:{type:Array,required:!0},gridColumn:{type:null,required:!1}},emits:["update:selectedRadio"],setup(u,{emit:g}){const d=u,l=g,p=z=>{z!==null&&l("update:selectedRadio",z)};return(z,s)=>d.radioContent?(m(),N(Wt,{key:0,"model-value":d.selectedRadio,class:"custom-input-wrapper","onUpdate:modelValue":p},{default:i(()=>[a(Dt,null,{default:i(()=>[(m(!0),V(ke,null,Ee(d.radioContent,f=>(m(),N(Ut,ue({key:f.bgImage},{ref_for:!0},u.gridColumn),{default:i(()=>[a(Te,{class:ve(["custom-input custom-radio rounded cursor-pointer w-100",d.selectedRadio===f.value?"active":""])},{default:i(()=>[Ne(z.$slots,"content",{item:f},()=>[typeof f.bgImage=="object"?(m(),N(It(f.bgImage),{key:0,class:"custom-radio-image"})):(m(),V("img",{key:1,src:f.bgImage,alt:"bg-img",class:"custom-radio-image"},null,8,wl))],!0),a(Ft,{id:`custom-radio-with-img-${f.value}`,name:`custom-radio-with-img-${f.value}`,value:f.value},null,8,["id","name","value"])]),_:2},1032,["class"]),f.label||z.$slots.label?(m(),N(Te,{key:0,for:`custom-radio-with-img-${f.value}`,class:"cursor-pointer"},{default:i(()=>[Ne(z.$slots,"label",{label:f.label},()=>[S(v(f.label),1)],!0)]),_:2},1032,["for"])):Y("",!0)]),_:2},1040))),128))]),_:3})]),_:3},8,["model-value"])):Y("",!0)}},Cl=Ce(xl,[["__scopeId","data-v-a9da2830"]]),kl={xmlns:"http://www.w3.org/2000/svg",width:"104",height:"66",fill:"none"};function bl(u,g){return m(),V("svg",kl,[...g[0]||(g[0]=[ee('<rect width="104" height="66" fill="currentColor" fill-opacity=".02" rx="4"></rect><rect width="17.66" height="2.789" x="4.906" y="23.884" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="9.811" height="9.706" x="8.83" y="5.881" fill="currentColor" fill-opacity=".3" rx="2"></rect><rect width="17.66" height="2.789" x="4.906" y="34.438" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="17.66" height="2.789" x="4.906" y="44.992" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="17.66" height="2.789" x="4.906" y="55.546" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="63.755" height="7.8" x="34.615" y="5.172" stroke="currentColor" stroke-opacity=".12" rx="1.5"></rect><rect width="3.925" height="4.4" x="37.039" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="80.21" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="86.096" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="91.002" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="39.226" height="16.6" x="58.984" y="20.113" stroke="currentColor" stroke-opacity=".12" rx="1.5"></rect><rect width="18.046" height="16.6" x="34.615" y="20.113" stroke="currentColor" stroke-opacity=".12" rx="1.5"></rect><rect width="63.755" height="16.6" x="34.615" y="42.955" stroke="currentColor" stroke-opacity=".12" rx="1.5"></rect>',14)])])}const _l={render:bl},Al={xmlns:"http://www.w3.org/2000/svg",width:"104",height:"66",fill:"none"};function Ll(u,g){return m(),V("svg",Al,[...g[0]||(g[0]=[ee('<rect width="104" height="66" fill="currentColor" fill-opacity=".02" rx="4"></rect><path fill="currentColor" fill-opacity=".04" d="M0 4a4 4 0 0 1 4-4h9.736v66H4a4 4 0 0 1-4-4z"></path><rect width="7.849" height="2.789" x="2.943" y="23.884" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="6.868" height="6.794" x="3.434" y="5.881" fill="currentColor" fill-opacity=".3" rx="2"></rect><rect width="7.849" height="2.789" x="2.943" y="34.438" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="7.849" height="2.789" x="2.943" y="44.992" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="7.849" height="2.789" x="2.943" y="55.546" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="75.437" height="8.8" x="21.472" y="4.672" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="3.925" height="4.4" x="25.617" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="78.248" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="84.135" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="90.022" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="46.821" height="17.6" x="50.491" y="19.613" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="22.168" height="17.6" x="21.472" y="19.613" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="75.841" height="17.6" x="21.472" y="42.455" fill="currentColor" fill-opacity=".08" rx="2"></rect>',15)])])}const st={render:Ll},Sl={xmlns:"http://www.w3.org/2000/svg",width:"104",height:"66",fill:"none"};function Vl(u,g){return m(),V("svg",Sl,[...g[0]||(g[0]=[ee('<rect width="104" height="66" fill="currentColor" fill-opacity=".02" rx="4"></rect><rect width="64.755" height="8.8" x="19.421" y="4.672" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="3.925" height="4.4" x="22.345" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="65.515" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="71.401" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="77.288" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="40.226" height="17.6" x="44.352" y="19.613" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="19.046" height="17.6" x="19.421" y="19.613" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="65.159" height="17.6" x="19.421" y="42.455" fill="currentColor" fill-opacity=".08" rx="2"></rect>',9)])])}const zl={render:Vl},Pl={xmlns:"http://www.w3.org/2000/svg",width:"104",height:"66",fill:"none"};function Il(u,g){return m(),V("svg",Pl,[...g[0]||(g[0]=[ee('<rect width="104" height="66" fill="currentColor" fill-opacity=".02" rx="4"></rect><path fill="currentColor" fill-opacity=".08" d="M0 4a4 4 0 0 1 4-4h23.472v66H4a4 4 0 0 1-4-4z"></path><rect width="17.66" height="2.789" x="4.906" y="23.884" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="9.811" height="9.706" x="8.83" y="5.881" fill="currentColor" fill-opacity=".3" rx="2"></rect><rect width="17.66" height="2.789" x="4.906" y="34.438" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="17.66" height="2.789" x="4.906" y="44.992" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="17.66" height="2.789" x="4.906" y="55.546" fill="currentColor" fill-opacity=".3" rx="1.395"></rect><rect width="64.755" height="8.8" x="34.115" y="4.672" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="3.925" height="4.4" x="37.039" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="80.21" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="86.096" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="3.925" height="4.4" x="91.982" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="40.226" height="17.6" x="58.484" y="19.613" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="19.046" height="17.6" x="34.115" y="19.613" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="64.755" height="17.6" x="34.115" y="42.455" fill="currentColor" fill-opacity=".08" rx="2"></rect>',15)])])}const nt={render:Il},Nl={xmlns:"http://www.w3.org/2000/svg",width:"104",height:"66",fill:"none"};function Tl(u,g){return m(),V("svg",Nl,[...g[0]||(g[0]=[ee('<rect width="104" height="66" fill="currentColor" fill-opacity=".02" rx="4"></rect><rect width="46.821" height="17.6" x="44.007" y="19.614" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="22.168" height="17.6" x="14.985" y="19.614" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="75.841" height="17.6" x="14.985" y="42.455" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="74.151" height="9.01" x="14.925" y="4.689" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="6.003" height="5.38" x="20.026" y="6.504" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="6.637" height="2.461" x="33.877" y="7.964" fill="currentColor" fill-opacity=".3" rx="1.231"></rect><rect width="6.637" height="2.461" x="48.365" y="7.964" fill="currentColor" fill-opacity=".3" rx="1.231"></rect><rect width="6.637" height="2.461" x="62.851" y="7.964" fill="currentColor" fill-opacity=".3" rx="1.231"></rect><rect width="6.637" height="2.461" x="77.338" y="7.964" fill="currentColor" fill-opacity=".3" rx="1.231"></rect>',10)])])}const ct={render:Tl},Bl={xmlns:"http://www.w3.org/2000/svg",width:"104",height:"66",fill:"none"};function Rl(u,g){return m(),V("svg",Bl,[...g[0]||(g[0]=[ee('<rect width="104" height="66" fill="currentColor" fill-opacity=".02" rx="4"></rect><rect width="24.098" height="57.589" x="5.202" y="4.121" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="13.854" height="2.092" x="10.323" y="16.87" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="9.879" height="2.092" x="10.323" y="25.562" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="12.383" height="2.092" x="10.323" y="34.254" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="6.088" height="2.092" x="10.323" y="42.946" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="8.091" height="2.092" x="10.323" y="51.638" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="62.389" height="57.589" x="35.514" y="4.121" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="13.854" height="2.092" x="43.758" y="14.183" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="32.801" height="2.092" x="43.758" y="22.875" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="41.208" height="2.092" x="43.758" y="31.567" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="32.801" height="2.092" x="43.758" y="40.259" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="5.775" height="2.092" x="43.758" y="48.952" fill="currentColor" fill-opacity=".3" rx="1.046"></rect>',13)])])}const $l={render:Rl},El={xmlns:"http://www.w3.org/2000/svg",width:"104",height:"66",fill:"none"};function Dl(u,g){return m(),V("svg",El,[...g[0]||(g[0]=[ee('<rect width="104" height="66" fill="currentColor" fill-opacity=".02" rx="4"></rect><rect width="24.098" height="57.589" x="73.476" y="4.121" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="13.854" height="2.092" x="78.599" y="16.87" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="9.879" height="2.092" x="82.571" y="25.562" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="12.383" height="2.092" x="80.069" y="34.254" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="6.088" height="2.092" x="86.363" y="42.946" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="8.091" height="2.092" x="84.361" y="51.638" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="62.389" height="57.589" x="5.202" y="4.121" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="13.854" height="2.092" x="45.709" y="14.183" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="32.801" height="2.092" x="26.762" y="22.875" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="41.208" height="2.092" x="18.355" y="31.567" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="32.801" height="2.092" x="26.762" y="40.259" fill="currentColor" fill-opacity=".3" rx="1.046"></rect><rect width="5.775" height="2.092" x="53.788" y="48.952" fill="currentColor" fill-opacity=".3" rx="1.046"></rect>',13)])])}const Ul={render:Dl},Fl={xmlns:"http://www.w3.org/2000/svg",width:"104",height:"66",fill:"none"};function Wl(u,g){return m(),V("svg",Fl,[...g[0]||(g[0]=[ee('<rect width="104" height="66" fill="currentColor" fill-opacity=".02" rx="4"></rect><rect width="90.624" height="8.8" x="6.688" y="4.672" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="4.906" height="4.4" x="10.165" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="4.906" height="4.4" x="75.2" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="4.906" height="4.4" x="82.067" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="4.906" height="4.4" x="88.935" y="6.872" fill="currentColor" fill-opacity=".3" rx="1"></rect><rect width="55.948" height="17.6" x="41.365" y="19.613" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="26.489" height="17.6" x="6.688" y="19.613" fill="currentColor" fill-opacity=".08" rx="2"></rect><rect width="90.624" height="17.6" x="6.688" y="42.455" fill="currentColor" fill-opacity=".08" rx="2"></rect>',9)])])}const Ml={render:Wl},ql={class:"d-lg-block d-none"},Ol={class:"customizer-heading d-flex align-center justify-space-between"},Yl={class:"text-h6"},Gl={class:"text-body-2 mb-0"},jl={class:"d-flex align-center gap-1"},Hl={class:"d-flex flex-column gap-2"},Ql={class:"text-h6"},Kl={class:"d-flex app-customizer-primary-colors",style:{"column-gap":"0.75rem","margin-block-start":"2px"}},Zl=["onClick"],Jl={class:"d-flex flex-column gap-2"},Xl={class:"text-h6"},eo={class:"text-sm text-medium-emphasis mt-1"},to={class:"customizer-skins-icon-wrapper d-flex align-center justify-center py-3 w-100",style:{"min-inline-size":"100%"}},lo={class:"d-flex flex-column gap-2"},oo={class:"text-h6"},ao={class:"text-sm text-medium-emphasis"},ro={class:"d-flex flex-column gap-2"},io={class:"text-base font-weight-medium"},so={class:"text-sm text-medium-emphasis"},no={class:"d-flex flex-column gap-2"},co={class:"text-base font-weight-medium"},uo={class:"text-sm text-medium-emphasis"},go={class:"d-flex flex-column gap-2"},mo={class:"text-base font-weight-medium"},ho={class:"text-sm text-medium-emphasis"},Sa={__name:"TheCustomizer",props:{hideToggleButton:{type:Boolean,default:!1}},setup(u,{expose:g}){const{t:d}=ge(),l=b(!1),p=b(!1),z=Pe("customizer-drawer-open",!1),s=mt(),f=Mt();let U=0;O(p,C=>{z.value=C}),ye(()=>{z.value&&(p.value=!0)}),O(p,(C,k)=>{console.log("ðŸšª Drawer state changed:",k,"->",C),console.trace("Stack trace")});const P=[{main:ne,darken:Se},{main:"#0D9394",darken:"#0C8485"},{main:"#FFB400",darken:"#E6A200"},{main:"#FF4C51",darken:"#E64449"},{main:"#16B1FF",darken:"#149FE6"}],_=b("#663131");O(()=>s.theme,()=>{const C=oe(`${f.name.value}ThemePrimaryColor`,null).value;C&&!P.some(k=>k.main===C)&&(_.value=C)},{immediate:!0});const G=el(C=>{f.themes.value[f.name.value].colors.primary=C.main,f.themes.value[f.name.value].colors["primary-darken-1"]=C.darken,oe(`${f.name.value}ThemePrimaryColor`,null).value=C.main,oe(`${f.name.value}ThemePrimaryDarkenColor`,null).value=C.darken,Pe(tt("initial-loader-color"),null).value=C.main},100),Z=F(()=>[{bgImage:"tabler-sun",value:Qe.Light,label:d("core.theCustomizer.light")},{bgImage:"tabler-moon-stars",value:Qe.Dark,label:d("core.theCustomizer.dark")}]),H=F(()=>[{bgImage:nt,value:Ke.Default,label:d("core.theCustomizer.default")},{bgImage:_l,value:Ke.Bordered,label:d("core.theCustomizer.bordered")}]),R=b(s.isVerticalNavCollapsed?"collapsed":s.appContentLayoutNav),L=F(()=>[{bgImage:nt,value:Le.Vertical,label:d("core.theCustomizer.vertical")},{bgImage:st,value:Le.Collapsed,label:d("core.theCustomizer.collapsed")},{bgImage:ct,value:Le.Horizontal,label:d("core.theCustomizer.horizontal")}]),{navbarType:W}=Re(s),se=F(()=>[{title:d("core.theCustomizer.sticky"),value:Ze.Sticky,bgImage:st,label:d("core.theCustomizer.sticky")},{title:d("core.theCustomizer.static"),value:Ze.Static,bgImage:ct,label:d("core.theCustomizer.static")}]),y=F({get:()=>W.value,set:C=>W.value=C});O(R,()=>{console.log("ðŸ”„ Layout changing to:",R.value),console.log("ðŸšª Drawer was open:",p.value),U=Date.now();const C=p.value;R.value==="collapsed"?(s.isVerticalNavCollapsed=!0,s.appContentLayoutNav=et.Vertical):(s.isVerticalNavCollapsed=!1,s.appContentLayoutNav=R.value),console.log("âš™ï¸ Config applied"),C&&K(()=>{console.log("âœ… Restoring drawer state"),p.value=!0})}),O(()=>s.isVerticalNavCollapsed,()=>{R.value=s.isVerticalNavCollapsed?"collapsed":s.appContentLayoutNav});const h=F(()=>[{bgImage:zl,value:Je.Boxed,label:d("core.theCustomizer.compact")},{bgImage:Ml,value:Je.Fluid,label:d("core.theCustomizer.wide")}]),c=b(s.isAppRTL?"rtl":"ltr");F(()=>[{bgImage:$l,value:Xe.Ltr,label:d("core.theCustomizer.leftToRight")},{bgImage:Ul,value:Xe.Rtl,label:d("core.theCustomizer.rightToLeft")}]),O(c,()=>{c.value==="rtl"?s.isAppRTL=!0:s.isAppRTL=!1});const A=b(!1),{locale:D}=ge({useScope:"global"}),M=F(()=>E.app.i18n.langConfig.find(k=>k.i18nLang===D.value)?.isRTL??!1);O([()=>f.current.value.colors.primary,s.$state,D],()=>{const C=[ne,ne,E.app.theme,E.app.skin,E.verticalNav.isVerticalNavSemiDark,E.verticalNav.isVerticalNavCollapsed,E.app.contentWidth,M.value,E.app.contentLayoutNav,E.navbar.type],k=[f.themes.value.light.colors.primary,f.themes.value.dark.colors.primary,s.theme,s.skin,s.isVerticalNavSemiDark,s.isVerticalNavCollapsed,s.appContentWidth,s.isAppRTL,s.appContentLayoutNav,s.navbarType];c.value=s.isAppRTL?"rtl":"ltr",A.value=JSON.stringify(k)!==JSON.stringify(C)},{deep:!0,immediate:!0});const q=async()=>{A.value&&(f.themes.value.light.colors.primary=ne,f.themes.value.dark.colors.primary=ne,f.themes.value.light.colors["primary-darken-1"]=Se,f.themes.value.dark.colors["primary-darken-1"]=Se,s.theme=E.app.theme,s.skin=E.app.skin,s.isVerticalNavSemiDark=E.verticalNav.isVerticalNavSemiDark,s.appContentLayoutNav=E.app.contentLayoutNav,s.appContentWidth=E.app.contentWidth,s.isAppRTL=M.value,s.isVerticalNavCollapsed=E.verticalNav.isVerticalNavCollapsed,s.navbarType=E.navbar.type,y.value=E.navbar.type,Pe(tt("initial-loader-color"),null).value=ne,R.value=E.app.contentLayoutNav,oe("lightThemePrimaryColor",null).value=null,oe("darkThemePrimaryColor",null).value=null,oe("lightThemePrimaryDarkenColor",null).value=null,oe("darkThemePrimaryDarkenColor",null).value=null,await K(),A.value=!1,_.value="#ffffff")},T=C=>{if(!C.isTrusted||Date.now()-U<500)return;const j=document.querySelector(".app-customizer"),te=document.querySelector(".app-customizer-toggler");j&&p.value&&!l.value&&!j.contains(C.target)&&(!te||!te.contains(C.target))&&(p.value=!1)},Q=C=>{C&&C.stopPropagation&&C.stopPropagation(),p.value=!0};return ye(()=>{document.addEventListener("click",T)}),Nt(()=>{document.removeEventListener("click",T)}),g({openNavDrawer:Q,isNavDrawerOpen:p}),(C,k)=>{const j=Cl,te=yl;return m(),V("div",ql,[u.hideToggleButton?Y("",!0):(m(),N(B,{key:0,icon:"",class:"app-customizer-toggler rounded-s-lg rounded-0",style:{"z-index":"1001"},onClick:Q},{default:i(()=>[a($,{size:"22",icon:"tabler-settings"})]),_:1})),a(Yt,{modelValue:e(p),"onUpdate:modelValue":k[10]||(k[10]=x=>ce(p)?p.value=x:null),"data-allow-mismatch":"",temporary:"",touchless:"",border:"none",location:"end",width:"400",elevation:"10",scrim:!1,class:"app-customizer"},{default:i(()=>[r("div",Ol,[r("div",null,[r("h6",Yl,v(e(d)("core.theCustomizer.title")),1),r("p",Gl,v(e(d)("core.theCustomizer.subtitle")),1)]),r("div",jl,[a(B,{icon:"",variant:"text",size:"small",color:"medium-emphasis",onClick:q},{default:i(()=>[Tt(a(ft,{dot:"",color:"error","offset-x":"-29","offset-y":"-14"},null,512),[[Bt,e(A)]]),a($,{size:"24",color:"high-emphasis",icon:"tabler-refresh"})]),_:1}),a(B,{icon:"",variant:"text",color:"medium-emphasis",size:"small",onClick:k[0]||(k[0]=x=>p.value=!1)},{default:i(()=>[a($,{icon:"tabler-x",color:"high-emphasis",size:"24"})]),_:1})])]),a(we),a(e(tl),{tag:"ul",options:{wheelPropagation:!1}},{default:i(()=>[a(te,{title:e(d)("core.theCustomizer.theming"),divider:!1},{default:i(()=>[r("div",Hl,[r("h6",Ql,v(e(d)("core.theCustomizer.primaryColor")),1),r("div",Kl,[(m(),V(ke,null,Ee(P,x=>r("div",{key:x.main,style:Ve([{"border-radius":"0.375rem",outline:"1px solid rgba(var(--v-border-color), var(--v-border-opacity))","padding-block":"0.5rem","padding-inline":"0.625rem"},e(f).current.value.colors.primary===x.main?`outline-color: ${x.main}; outline-width:2px;`:`--v-color:${x.main}`]),class:ve(["primary-color-wrapper cursor-pointer",e(f).current.value.colors.primary===x.main?"active":""]),onClick:me=>e(G)(x)},[r("div",{style:Ve([{"border-radius":"0.375rem","block-size":"2.125rem","inline-size":"1.8938rem"},{backgroundColor:x.main}])},null,4)],14,Zl)),64)),r("div",{class:ve(["primary-color-wrapper cursor-pointer d-flex align-center",e(f).current.value.colors.primary===e(_)?"active":""]),style:Ve([{"border-radius":"0.375rem",outline:"1px solid rgba(var(--v-border-color), var(--v-border-opacity))","padding-block":"0.5rem","padding-inline":"0.625rem"},e(f).current.value.colors.primary===e(_)?`outline-color: ${e(_)}; outline-width:2px;`:""])},[a(B,{icon:"",size:"30",color:e(f).current.value.colors.primary===e(_)?e(_):C.$vuetify.theme.current.dark?"#8692d029":"#4b465c29",variant:"flat",style:{"border-radius":"0.375rem"}},{default:i(()=>[a($,{size:"20",icon:"tabler-color-picker",color:e(f).current.value.colors.primary===e(_)?"rgb(var(--v-theme-on-primary))":""},null,8,["color"])]),_:1},8,["color"]),a(De,{modelValue:e(l),"onUpdate:modelValue":k[3]||(k[3]=x=>ce(l)?l.value=x:null),activator:"parent","close-on-content-click":!1},{default:i(()=>[a(Ue,null,{default:i(()=>[a(xe,null,{default:i(()=>[a(qt,{modelValue:e(_),"onUpdate:modelValue":[k[1]||(k[1]=x=>ce(_)?_.value=x:null),k[2]||(k[2]=x=>e(G)({main:e(_),darken:e(_)}))],mode:"hex",modes:["hex"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],6)])]),r("div",Jl,[r("h6",Xl,v(e(d)("core.theCustomizer.theme")),1),(m(),N(j,{key:e(s).theme,"selected-radio":e(s).theme,"onUpdate:selectedRadio":k[4]||(k[4]=x=>e(s).theme=x),"radio-content":e(Z),"grid-column":{cols:"4"},class:"customizer-skins"},{label:i(x=>[r("span",eo,v(x?.label),1)]),content:i(({item:x})=>[r("div",to,[a($,{size:"30",icon:x.bgImage,color:"high-emphasis"},null,8,["icon"])])]),_:1},8,["selected-radio","radio-content"]))]),r("div",lo,[r("h6",oo,v(e(d)("core.theCustomizer.skins")),1),(m(),N(j,{key:e(s).skin,"selected-radio":e(s).skin,"onUpdate:selectedRadio":k[5]||(k[5]=x=>e(s).skin=x),"radio-content":e(H),"grid-column":{cols:"4"}},{label:i(x=>[r("span",ao,v(x?.label),1)]),_:1},8,["selected-radio","radio-content"]))]),r("div",{class:ve(["align-center justify-space-between",e(f).global.name.value==="light"&&e(s).appContentLayoutNav===e(et).Vertical?"d-flex":"d-none"])},[a(Te,{for:"customizer-semi-dark",class:"text-h6 text-high-emphasis"},{default:i(()=>[S(v(e(d)("core.theCustomizer.semiDarkMenu")),1)]),_:1}),r("div",null,[a(Ot,{id:"customizer-semi-dark",modelValue:e(s).isVerticalNavSemiDark,"onUpdate:modelValue":k[6]||(k[6]=x=>e(s).isVerticalNavSemiDark=x),class:"ms-2"},null,8,["modelValue"])])],2)]),_:1},8,["title"]),a(te,{title:e(d)("core.theCustomizer.layout")},{default:i(()=>[r("div",ro,[r("h6",io,v(e(d)("core.theCustomizer.menuNavigation")),1),(m(),N(j,{key:e(R),"selected-radio":e(R),"onUpdate:selectedRadio":k[7]||(k[7]=x=>ce(R)?R.value=x:null),"radio-content":e(L),"grid-column":{cols:"4"}},{label:i(x=>[r("span",so,v(x.label),1)]),_:1},8,["selected-radio","radio-content"]))]),r("div",no,[r("h6",co,v(e(d)("core.theCustomizer.navbarType")),1),(m(),N(j,{key:e(s).navbarType,"selected-radio":e(y),"onUpdate:selectedRadio":k[8]||(k[8]=x=>ce(y)?y.value=x:null),"radio-content":e(se),"grid-column":{cols:"4"}},{label:i(x=>[r("span",uo,v(x.label),1)]),_:1},8,["selected-radio","radio-content"]))]),r("div",go,[r("h6",mo,v(e(d)("core.theCustomizer.content")),1),(m(),N(j,{key:e(s).appContentWidth,"selected-radio":e(s).appContentWidth,"onUpdate:selectedRadio":k[9]||(k[9]=x=>e(s).appContentWidth=x),"radio-content":e(h),"grid-column":{cols:"4"}},{label:i(x=>[r("span",ho,v(x.label),1)]),_:1},8,["selected-radio","radio-content"]))])]),_:1},8,["title"])]),_:1})]),_:1},8,["modelValue"])])}}},fo={class:"bookmark-wrapper d-flex align-center"},po={class:"px-4 py-2"},dt="backendURL",ut="customBackendHistory",vo={__name:"BackendSelector",setup(u){const{t:g}=ge(),d=b(!1),l=b(!1),p=b(""),z=b(""),s=b([]),f=b(""),U=/^http:\/\/(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}):(\d+)$/,P=b(!1),_=y=>{const h=/^(https?:\/\/(\d{1,3}\.){3}\d{1,3}:\d+)(\/.*)?$/,c=/^(https?:\/\/(localhost|([\w-]+\.)+[a-zA-Z]{2,})(:\d+)?)(\/.*)?$/;return h.test(y)||c.test(y)},G=y=>{try{const h=new URL(y.trim());h.hostname=h.hostname.toLowerCase();let c=h.toString();return c=c.replace(/\/+$/,""),c}catch{return y.trim()}},Z=y=>{const h=y.match(U);if(h){const c=h[1],A=h[2],D=c.replace(/\./g,"-");return L(`https://${D}-${A}.node.api.runonflux.io`),`https://${D}-${A}.node.api.runonflux.io`}return y},H=y=>{y.stopPropagation(),p.value=Z(p.value),P.value=!1},R=F(()=>s.value.filter(y=>!z.value||G(y).toLowerCase().includes(z.value.toLowerCase()))),L=y=>{const h=typeof y=="string"?y.trim():"";if(!h||!_(h))return;const c=G(h),A=G(p.value);if(c===A)return;if(p.value=c,localStorage.setItem(dt,c),Vt(),$e.emit("backendURLChanged",c),!["https://api.runonflux.io",G(f.value)].includes(c)){const M=s.value.findIndex(T=>G(T)===c);M!==-1&&s.value.splice(M,1),s.value.unshift(c);const q=[...new Set(s.value)].slice(0,10);s.value=q,localStorage.setItem(ut,JSON.stringify(q))}},W=()=>{L(z.value),d.value=!1},se=()=>{l.value=!1,L(z.value)};return ye(()=>{try{let y="";const{protocol:h,hostname:c,port:A}=window.location;y+=h+"//";const D=/[A-Z]/i;if(c.split("-")[4]){const T=c.split("-"),Q=T[4].split("."),C=+Q[0]+1;Q[0]=C.toString(),Q[2]="api",T[4]="",y+=T.join("-")+Q.join(".")}else if(D.test(c)){const T=c.split(".");T[0]="api",y+=T.join(".")}else{y+=c;const T=parseInt(A,10);T>16100?(y+=`:${T+1}`,f.value=y):y="https://api.runonflux.io"}y.endsWith("//api")&&(y="https://api.runonflux.io");const M=localStorage.getItem(dt);p.value=M||y;const q=localStorage.getItem(ut);if(q)try{s.value=JSON.parse(q)}catch{s.value=[]}z.value=p.value}catch(y){console.error("âŒ Error detecting default backend:",y)}}),(y,h)=>{const c=ht("IconBtn");return m(),V("div",fo,[a(De,{open:d.value,"onUpdate:open":h[6]||(h[6]=A=>d.value=A),"offset-y":"","close-on-content-click":"","open-on-click":"","open-on-focus":""},{activator:i(({props:A})=>[a(c,ue(A,{class:"d-md-none"}),{default:i(()=>[U.test(p.value)?(m(),N(ft,{key:0,dot:"",color:"warning",location:"top end"},{default:i(()=>[a($,{icon:"mdi-server-network",size:"22"})]),_:1})):(m(),N($,{key:1,icon:"mdi-server-network",size:"22"}))]),_:1},16),a(B,ue(A,{variant:"outlined",color:"grey",size:"small",class:"d-none d-md-flex"}),{default:i(()=>[a($,{icon:"mdi-server-network",size:"20",class:"me-1"}),S(" "+v(p.value)+" ",1),a(jt,{modelValue:P.value,"onUpdate:modelValue":h[0]||(h[0]=D=>P.value=D),bottom:"",location:"bottom"},{activator:i(({props:D})=>[U.test(p.value)?(m(),N($,ue({key:0,class:"ml-1",size:"20",color:"warning"},D,{onClick:ie(H,["stop"])}),{default:i(()=>[...h[7]||(h[7]=[S(" mdi-wifi-lock ",-1)])]),_:1},16)):Y("",!0)]),default:i(()=>[...h[8]||(h[8]=[r("span",null,"Consider switching to a secure HTTPS connection for better security.",-1)])]),_:1},8,["modelValue"])]),_:1},16)]),default:i(()=>[a(Ue,{color:"grey"},{default:i(()=>[a(xe,{color:"grey",onClick:h[1]||(h[1]=A=>L("https://api.runonflux.io"))},{default:i(()=>[a(Be,null,{default:i(()=>[...h[9]||(h[9]=[S("https://api.runonflux.io",-1)])]),_:1})]),_:1}),f.value?(m(),N(xe,{key:0,color:"grey",onClick:h[2]||(h[2]=A=>L(f.value))},{default:i(()=>[a(Be,null,{default:i(()=>[S(v(f.value),1)]),_:1})]),_:1})):Y("",!0),r("div",po,[a(Gt,{search:z.value,"onUpdate:search":h[3]||(h[3]=A=>z.value=A),items:l.value&&R.value.length>0?R.value.map(A=>({title:A,value:A})):[],"item-title":"title","item-value":"value",label:e(g)("core.backendSelector.customBackend"),color:"grey","hide-details":"","persistent-placeholder":"",density:"compact",clearable:"",menu:l.value&&R.value.length>0,"menu-props":{maxHeight:"200px"},"allow-new":"","hide-no-data":"",onFocus:h[4]||(h[4]=()=>l.value=!0),onBlur:se,onClick:h[5]||(h[5]=ie(()=>{},["stop"])),onKeydown:Rt(ie(W,["prevent"]),["enter"])},null,8,["search","items","label","menu","onKeydown"])])]),_:1})]),_:1},8,["open"])])}}},Va=Ce(vo,[["__scopeId","data-v-3cddc139"]]),za={__name:"I18n",props:{languages:{type:Array,required:!0},location:{type:null,required:!1,default:"bottom end"}},setup(u){const g=u,{locale:d}=ge({useScope:"global"});return(l,p)=>{const z=ht("IconBtn");return m(),N(z,null,{default:i(()=>[a($,{icon:"tabler-language"}),a(De,{activator:"parent",location:g.location,offset:"12px",width:"175"},{default:i(()=>[a(Ue,{selected:[e(d)],color:"primary"},{default:i(()=>[(m(!0),V(ke,null,Ee(g.languages,s=>(m(),N(xe,{key:s.i18nLang,value:s.i18nLang,onClick:f=>d.value=s.i18nLang},{default:i(()=>[a(Be,null,{default:i(()=>[S(v(s.label),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["selected"])]),_:1},8,["location"])]),_:1})}}},yo="data:image/png;base64,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",wo={name:"CustomSnackbar",props:{variant:{type:String,default:"success"},text:{type:String,default:""},modelValue:{type:Boolean,default:!1},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:g}){const d=b({show:u.modelValue,text:u.text});O(()=>u.modelValue,s=>d.value.show=s),O(()=>u.text,s=>d.value.text=s),O(()=>d.value.show,s=>g("update:modelValue",s));const l=F(()=>{switch(u.variant){case"success":return"mdi-check-circle";case"error":return"mdi-alert-circle";case"info":return"mdi-information";case"warning":return"mdi-alert";default:return"mdi-check-circle"}}),p=F(()=>{switch(u.variant){case"success":return"success";case"error":return"error";case"info":return"info";case"warning":return"warning";default:return"primary"}}),z=F(()=>u.top&&u.right?"top right":u.top&&u.left?"top left":u.bottom&&u.right?"bottom right":u.bottom&&u.left?"bottom left":u.top?"top":(u.bottom,"bottom"));return{snackbar:d,icon:l,snackbarColor:p,snackbarLocation:z}}},xo={class:"d-flex align-center"};function Co(u,g,d,l,p,z){return m(),N(Ht,{modelValue:l.snackbar.show,"onUpdate:modelValue":g[1]||(g[1]=s=>l.snackbar.show=s),color:l.snackbarColor,location:l.snackbarLocation,variant:"flat",timeout:"4000"},{action:i(({attrs:s})=>[a(B,ue({text:""},s,{onClick:g[0]||(g[0]=f=>l.snackbar.show=!1)}),{default:i(()=>[...g[2]||(g[2]=[S(" Close ",-1)])]),_:1},16)]),default:i(()=>[r("div",xo,[a($,{class:"mr-1"},{default:i(()=>[S(v(l.icon),1)]),_:1}),r("span",null,v(l.snackbar.text),1)])]),_:1},8,["modelValue","color","location"])}const ko=Ce(wo,[["render",Co],["__scopeId","data-v-eeb10c45"]]),bo={class:"login-modal-container"},_o={class:"login-content"},Ao={class:"logo-container"},Lo={key:0,class:"processing-state"},So={class:"modern-spinner-container"},Vo={class:"text-center mt-4"},zo={class:"text-h6 font-weight-medium mb-2"},Po={class:"text-body-2 text-medium-emphasis"},Io={key:1,class:"processing-state"},No={class:"text-body-2"},To={class:"text-body-2 text-medium-emphasis mb-4"},Bo={key:2},Ro={key:0},$o={class:"login-methods-container"},Eo=["src"],Do={class:"button-text"},Uo={class:"button-text"},Fo={class:"button-text"},Wo={class:"button-text"},Mo={class:"or-divider"},qo={key:0,class:"text-center mb-4"},Oo={class:"text-body-2"},Yo={class:"text-medium-emphasis"},Go={key:1},jo={key:1},Ho={class:"text-center signup-text"},Qo={class:"text-body-2"},Ko={key:1},Zo={class:"wallet-header"},Jo={class:"wallet-login-info"},Xo={class:"wallet-icons-grid"},ea=["src","title"],ta=["src","title"],la=["src","title"],oa=["src","title"],aa={key:2},ra={class:"wallet-header"},ia={class:"manual-login-info"},sa={class:"tos-text mb-0"},na="https://cdn.runonflux.io/Flux_Terms_of_Service.pdf",ca={__name:"LoginModal",props:{hideManualLogin:{type:Boolean,default:!1},xdaoOpen:{type:Number,default:0}},emits:["loginSuccess"],setup(u,{emit:g}){const d=g,{t:l}=ge(),p=gt(),{privilege:z}=Re(p),s=mt(),{theme:f}=Re(s),U=b({email:"",password:""}),P=b({zelid:"",signature:"",loginPhrase:""}),_=b({email:"",pw1:"",pw2:""}),G=b(null),Z=b(null),H=b(!1),R=b(!1),L=b(""),W=b(null),se=b(null);let y=null;const h=b({show:!1,text:"",variant:"success"}),c=(o,t)=>{h.value.variant=o,h.value.text=t,h.value.show=!0},A=b(!1),D=b(!1),M=b(!1),q=b(!1),T=b("methods"),Q=o=>{T.value=o,o==="manual"&&J()},C=()=>{T.value="methods"},k=[o=>!!o||l("core.login.emailRequired"),o=>/^[\w.-]+@[\w.-]+\.\w{2,}$/.test(o)||l("core.login.emailInvalid")],j=[o=>!!o||l("core.login.passwordRequired"),o=>o.length>=8||l("core.login.passwordTooShort")],te=F(()=>[o=>!!o||l("core.login.passwordConfirmRequired"),o=>o===_.value.pw1||l("core.login.passwordMismatch")]),x=b(null),me=b(localStorage.getItem("backendURL")||lt()),pt=F(()=>encodeURI(`${me.value}/id/verifylogin`)),he=o=>(o.user&&We(o.user),!1),vt=async()=>{try{const o=await ll();he(o)}catch(o){c("error",l("core.login.googleError")||o.message)}},yt=async()=>{try{const o=await ol();he(o)}catch(o){c("error",l("core.login.appleError")||o.message)}};b(!1);const Fe=()=>{ae.verifyLogin(P.value).then(o=>{if(o.data.status==="success"){const t={zelid:P.value.zelid,signature:P.value.signature,loginPhrase:P.value.loginPhrase};p.setPrivilege(o.data.data.privilage),p.setZelid(t.zelid),localStorage.setItem("zelidauth",re.stringify(t)),localStorage.setItem("loginType","manual"),d("loginSuccess"),c("success",o.data.data.message)}else c(o.data.status,o.data.data.message||o.data.data)}).catch(o=>{c("error",o.toString())})},We=async o=>{try{if(o.emailVerified){M.value=!0,await J(),await K();const n={"Content-Type":"application/json",Authorization:`Bearer ${await o.getIdToken()}`},w=await hl.post("https://service.fluxcore.ai/api/signInOrUp",{message:L.value},{headers:n});if(w.data?.status!=="success")throw new Error(l("core.login.loginFailed"));const I={zelid:w.data.public_address,signature:w.data.signature,loginPhrase:L.value},le=await ae.verifyLogin(I);le.data.status==="success"?(p.setPrivilege(le.data.data.privilage),p.setZelid(I.zelid),localStorage.setItem("loginType","sso"),localStorage.setItem("zelidauth",re.stringify(I)),M.value=!1,d("loginSuccess"),c("success",le.data.data.message)):(c("error",le.data.data.message||le.data.data),fe())}else await o.sendEmailVerification(),H.value=!1,A.value=!0,R.value=!0,await K(),await Me()}catch{c("error",l("core.login.loginFailed")),fe()}},Me=async()=>{try{let o=at();o&&R.value&&(await o.reload(),o=at(),o.emailVerified?(c("info",l("core.login.emailVerified")),A.value=!1,D.value=!1,R.value=!1,await K(),We(o)):setTimeout(Me,5e3))}catch{c("warning",l("core.login.emailVerificationFailed")),fe()}},fe=async()=>{A.value=!1,D.value=!1,M.value=!1,q.value=!1,U.value.email="",U.value.password="",R.value=!1,H.value=!1,Ye(),await K()},qe=()=>fe(),Oe=async()=>{if((await Z.value?.validate()).valid)try{q.value=!0,await K();const t=await al({email:U.value.email.trim(),password:U.value.password});if(!t)throw new Error(l("core.login.loginFailed"));he(t)}catch(t){q.value=!1,await K();let n="core.login.loginFailed";const w=t.code,I=t.message;w==="auth/invalid-credential"||I==="INVALID_LOGIN_CREDENTIALS"?n="core.login.invalidCredential":w==="auth/user-not-found"||I==="EMAIL_NOT_FOUND"?n="core.login.userNotFound":w==="auth/wrong-password"||I==="INVALID_PASSWORD"?n="core.login.wrongPassword":w==="auth/invalid-email"||I==="INVALID_EMAIL"?n="core.login.emailInvalid":w==="auth/user-disabled"?n="core.login.userDisabled":w==="auth/too-many-requests"||I==="TOO_MANY_ATTEMPTS_TRY_LATER"?n="core.login.tooManyRequests":w==="auth/network-request-failed"&&(n="core.login.networkError"),c("error",l(n))}},wt=()=>{H.value=!0},Ye=()=>{_.value.email="",_.value.pw1="",_.value.pw2=""},xt=()=>{Ye(),H.value=!1},Ge=async()=>{if((await G.value?.validate()).valid)try{const t=await rl({email:_.value.email.trim(),password:_.value.pw1});if(!t)throw new Error(l("core.login.accountCreationFailed"));he(t)}catch(t){_.value.pw1="",_.value.pw2="";let n="core.login.accountCreationFailed";const w=t.code,I=t.message;w==="auth/email-already-in-use"||I==="EMAIL_EXISTS"?n="core.login.emailAlreadyInUse":w==="auth/weak-password"||I==="WEAK_PASSWORD"?n="core.login.weakPassword":w==="auth/invalid-email"||I==="INVALID_EMAIL"?n="core.login.emailInvalid":w==="auth/operation-not-allowed"||I==="OPERATION_NOT_ALLOWED"?n="core.login.operationNotAllowed":w==="auth/network-request-failed"?n="core.login.networkError":(w==="auth/too-many-requests"||I==="TOO_MANY_ATTEMPTS_TRY_LATER")&&(n="core.login.tooManyRequests"),c("error",l(n))}},J=async()=>{try{const o=await ae.loginPhrase();o.data.status==="error"?Ct():(L.value=o.data.data,P.value.loginPhrase=o.data.data)}catch(o){c("error",o)}},Ct=()=>{ae.emergencyLoginPhrase().then(o=>{o.data.status==="error"?c("error",o.data.data.message):(L.value=o.data.data,P.value.loginPhrase=o.data.data)}).catch(o=>c("error",o))},kt=()=>{if(!P.value.loginPhrase){c("error",l("core.login.noLoginPhraseToDownload"));return}},je=()=>{K(()=>{y&&(y.destroy(),y=null);const o=se.value?.$el;o&&(y=new fl(o,{text:()=>P.value.loginPhrase}),y.on("success",()=>{c("success",l("core.login.copiedToClipboard"))}),y.on("error",t=>{console.error("ClipboardJS failed:",t),c("error",l("common.messages.failedToCopy"))}))})},bt=async()=>{await J(),St();let o=me.value;o=o.replace("https://","wss://").replace("http://","ws://");const t=`${o}/ws/id/${L.value}`;W.value=new WebSocket(t),W.value.onopen=n=>console.log("WebSocket open",n),W.value.onclose=n=>console.log("WebSocket closed",n),W.value.onmessage=n=>{const w=re.parse(n.data);if(w.status==="success"&&w.data){const I={zelid:w.data.zelid,signature:w.data.signature,loginPhrase:w.data.loginPhrase};p.setPrivilege(w.data.privilage),p.setZelid(I.zelid),localStorage.setItem("loginType","zelcore"),localStorage.setItem("zelidauth",re.stringify(I)),d("loginSuccess"),c("success",w.data.message)}},W.value.onerror=n=>console.log("WebSocket error",n)},_t=async()=>{try{console.log("[Login] Starting WalletConnect login flow..."),await J(),console.log("[Login] Login phrase obtained:",L.value?L.value.substring(0,20)+"...":"none"),console.log("[Login] Opening WalletConnect...");const t=await rt();console.log("[Login] Connected with address:",t),x.value={address:t},console.log("[Login] Requesting signature for message:",L.value?L.value.substring(0,20)+"...":"none");try{var o=await it(L.value);console.log("[Login] Signature received:",o?.substring(0,20)+"...")}catch(I){if(console.log("[Login] Signature error:",I.message),I.message&&I.message.includes("Session expired")){try{await ul()}catch{}const le=await rt();x.value={address:le};let _e=0,Ae=!1;for(;_e<10&&!Ae;){await new Promise(pe=>setTimeout(pe,500));try{(await gl?.getWalletProvider?.())?.namespaces?Ae=!0:_e++}catch{_e++}}if(!Ae)throw new Error("Provider failed to initialize after reconnection");o=await it(L.value)}else throw I}console.log("[Login] Preparing login verification...");const n={zelid:t.toLowerCase(),signature:o,loginPhrase:L.value};console.log("[Login] Login info:",{zelid:n.zelid,signatureLength:n.signature?.length,loginPhraseLength:n.loginPhrase?.length}),console.log("[Login] Calling verifyLogin API...");const w=await ae.verifyLogin(n);console.log("[Login] verifyLogin response:",w.data),w.data.status==="success"?(console.log("[Login] Login successful!"),p.setPrivilege(w.data.data.privilage),p.setZelid(n.zelid),localStorage.setItem("loginType","walletconnect"),localStorage.setItem("zelidauth",re.stringify(n)),d("loginSuccess"),c("success",w.data.data.message)):(console.log("[Login] Login failed:",w.data.data.message||w.data.data),c(w.data.status,w.data.data.message||w.data.data))}catch(t){console.log("[Login] Login error:",t),c("error",t.message||l("core.login.walletConnectError"))}},be=b(!1),At=async()=>{try{if(be.value){c("warning",l("core.login.metamaskPendingRequest"));return}be.value=!0,await J();const{address:o,signature:t}=await ml(L.value),n={zelid:o,signature:t,loginPhrase:L.value},w=await ae.verifyLogin(n);w.data.status==="success"?(p.setPrivilege(w.data.data.privilage),p.setZelid(n.zelid),localStorage.setItem("loginType","metamask"),localStorage.setItem("zelidauth",re.stringify(n)),d("loginSuccess"),c("success",w.data.data.message)):c(w.data.status,w.data.data.message||w.data.data)}catch(o){console.error("MetaMask login failed:",o),c("error",o.message||l("core.login.metamaskError"))}finally{be.value=!1}},Lt=async()=>{try{if(!window.ssp)return c("error",l("core.login.sspNotInstalled"));await J();const o=await window.ssp.request("sspwid_sign_message",{message:L.value});if(o.status==="ERROR")throw new Error(o.data||o.result);const t={zelid:o.address,signature:o.signature,loginPhrase:L.value},n=await ae.verifyLogin(t);n.data.status==="success"?(p.setPrivilege(n.data.data.privilage),p.setZelid(t.zelid),localStorage.setItem("loginType","ssp"),localStorage.setItem("zelidauth",re.stringify(t)),d("loginSuccess"),c("success",n.data.data.message)):c(n.data.status,n.data.data.message||n.data.data)}catch(o){c("error",o.message)}},St=()=>{try{const o=`zel:?action=sign&message=${L.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${pt.value}`;if(window.zelcore)window.zelcore.protocol(o);else{const t=document.createElement("a");t.href=o,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}catch{c("warning",l("core.login.signMessageFailed"))}},He=()=>{console.log("backendURLChanged triggered"),me.value=localStorage.getItem("backendURL")||lt()};return O(Z,o=>{Z.value?.reset()}),O(()=>P.value.loginPhrase,()=>{je()}),ye(async()=>{$e.on("backendURLChanged",He),J(),je()}),$t(()=>{y&&y.destroy(),W.value&&W.value.close(),$e.off("backendURLChanged",He)}),(o,t)=>(m(),V("div",bo,[r("div",_o,[r("div",Ao,[a(zt,{"icon-only":"","icon-size":96})]),e(z)==="none"?(m(),N(ot,{key:0,class:"login-card",elevation:"8"},{default:i(()=>[M.value?(m(),V("div",Lo,[r("div",So,[a(de,{indeterminate:"",color:"primary",size:"56",width:"2.5",class:"modern-spinner-outer"}),a(de,{indeterminate:"",color:"primary",size:"38",width:"2.5",class:"modern-spinner-inner"})]),r("div",Vo,[r("div",zo,v(e(l)("core.login.finishingLogin")),1),r("div",Po,v(e(l)("core.login.pleaseWait")),1)])])):A.value?(m(),V("div",Io,[a(de,{indeterminate:"",color:"primary",size:"32",class:"mb-2"}),r("div",No,v(e(l)("core.login.finishingVerification")),1),r("div",To,[r("i",null,v(e(l)("core.login.checkEmail")),1)]),a(B,{color:"error",variant:"flat",onClick:qe},{default:i(()=>[a($,{start:""},{default:i(()=>[...t[12]||(t[12]=[S(" mdi-close-circle ",-1)])]),_:1}),S(" "+v(e(l)("core.login.cancelVerification")),1)]),_:1})])):(m(),V("div",Bo,[T.value==="methods"?(m(),V("div",Ro,[r("div",$o,[a(B,{color:"#ffffff",class:"login-method-button google-button",elevation:"2",onClick:vt},{default:i(()=>[r("img",{src:e(yo),alt:"Google",width:"18",height:"18",class:"button-icon"},null,8,Eo),r("span",Do,v(e(l)("core.login.googleLogin")),1)]),_:1}),a(B,{color:"#000000",class:"login-method-button apple-button",elevation:"2",onClick:yt},{default:i(()=>[a($,{size:"20",class:"button-icon"},{default:i(()=>[...t[13]||(t[13]=[S(" mdi-apple ",-1)])]),_:1}),r("span",Uo,v(e(l)("core.login.appleLogin")),1)]),_:1}),a(B,{color:"secondary",variant:"outlined",class:"login-method-button",onClick:t[0]||(t[0]=n=>Q("wallet"))},{default:i(()=>[a($,{size:"20",class:"button-icon"},{default:i(()=>[...t[14]||(t[14]=[S(" mdi-wallet ",-1)])]),_:1}),r("span",Fo,v(e(l)("core.login.decentralizedWallets")),1)]),_:1}),u.hideManualLogin?Y("",!0):(m(),N(B,{key:0,color:"secondary",variant:"outlined",class:"login-method-button",onClick:t[1]||(t[1]=n=>Q("manual"))},{default:i(()=>[a($,{size:"20",class:"button-icon"},{default:i(()=>[...t[15]||(t[15]=[S(" mdi-account-key ",-1)])]),_:1}),r("span",Wo,v(e(l)("core.login.manualLogin")),1)]),_:1}))]),r("div",Mo,[a(we),t[16]||(t[16]=r("span",{class:"or-text"},"OR",-1)),a(we)]),a(ze,{ref_key:"emailLoginFormRef",ref:Z,onSubmit:ie(Oe,["prevent"])},{default:i(()=>[a(X,{modelValue:U.value.email,"onUpdate:modelValue":t[2]||(t[2]=n=>U.value.email=n),label:e(l)("core.login.email"),type:"email",rules:k,"validate-on":"blur submit",required:"",class:"mb-3"},null,8,["modelValue","label"]),a(X,{modelValue:U.value.password,"onUpdate:modelValue":t[3]||(t[3]=n=>U.value.password=n),label:e(l)("core.login.password"),type:"password",rules:j,"validate-on":"blur submit",required:"",class:"mb-4"},null,8,["modelValue","label"]),D.value?(m(),V("div",qo,[a(B,{color:"error",variant:"flat",class:"mb-3",onClick:qe},{default:i(()=>[a($,{start:""},{default:i(()=>[...t[17]||(t[17]=[S(" mdi-close-circle ",-1)])]),_:1}),S(" "+v(e(l)("core.login.cancelVerification")),1)]),_:1}),r("div",Oo,[a(de,{indeterminate:"",color:"primary",size:"24",class:"mb-2"}),r("div",null,v(e(l)("core.login.finishingVerification")),1),r("div",Yo,[r("i",null,v(e(l)("core.login.checkEmail")),1)])])])):(m(),V("div",Go,[a(B,{color:"primary",variant:"flat",block:"",class:"mb-3",onClick:Oe},{default:i(()=>[q.value?(m(),N(de,{key:0,indeterminate:"",color:"white",size:"20"})):(m(),V("span",jo,v(e(l)("core.login.login")),1))]),_:1}),r("div",Ho,[r("span",Qo,v(e(l)("core.login.dontHaveAccount")),1),r("a",{href:"#",class:"signup-link",onClick:ie(wt,["prevent"])},v(e(l)("core.login.signUp")),1)])]))]),_:1},512)])):Y("",!0),T.value==="wallet"?(m(),V("div",Ko,[r("div",Zo,[a(B,{icon:"mdi-arrow-left",variant:"flat",color:"secondary",class:"back-button",onClick:C},{default:i(()=>[a($,null,{default:i(()=>[...t[18]||(t[18]=[S("mdi-arrow-left",-1)])]),_:1})]),_:1}),r("div",Jo,v(e(l)("core.login.walletLoginInfo")),1)]),r("div",Xo,[r("div",{class:"wallet-item",onClick:bt},[r("img",{src:e(il),alt:"ZelCore",class:"wallet-icon",title:e(l)("core.login.loginWithZelcore")},null,8,ea),t[19]||(t[19]=r("div",{class:"wallet-label"}," ZelCore ",-1))]),r("div",{class:"wallet-item",onClick:Lt},[r("img",{src:e(f)==="dark"?e(sl):e(nl),alt:"SSP",class:"wallet-icon",title:e(l)("core.login.loginWithSSP")},null,8,ta),t[20]||(t[20]=r("div",{class:"wallet-label"}," SSP ",-1))]),r("div",{class:"wallet-item",onClick:_t},[r("img",{src:e(cl),alt:"WalletConnect",class:"wallet-icon",title:e(l)("core.login.loginWithWalletConnect")},null,8,la),t[21]||(t[21]=r("div",{class:"wallet-label"}," WalletConnect ",-1))]),r("div",{class:"wallet-item",onClick:At},[r("img",{src:e(dl),alt:"MetaMask",class:"wallet-icon",title:e(l)("core.login.loginWithMetamask")},null,8,oa),t[22]||(t[22]=r("div",{class:"wallet-label"}," MetaMask ",-1))])])])):Y("",!0),T.value==="manual"&&!u.hideManualLogin?(m(),V("div",aa,[r("div",ra,[a(B,{icon:"mdi-arrow-left",variant:"flat",color:"secondary",class:"back-button",onClick:C},{default:i(()=>[a($,null,{default:i(()=>[...t[23]||(t[23]=[S("mdi-arrow-left",-1)])]),_:1})]),_:1}),r("div",ia,v(e(l)("core.login.signWithWallet")),1)]),a(ze,{onSubmit:ie(Fe,["prevent"])},{default:i(()=>[a(X,{modelValue:P.value.loginPhrase,"onUpdate:modelValue":t[4]||(t[4]=n=>P.value.loginPhrase=n),label:e(l)("core.login.message"),placeholder:e(l)("core.login.clickToGetMessage"),readonly:"",class:"mb-3"},{"append-inner":i(()=>[a(B,{icon:"mdi-refresh",size:"x-small",variant:"text",color:"grey",onClick:J,title:e(l)("core.login.getNewLoginPhrase")},null,8,["title"]),P.value.loginPhrase?(m(),N(B,{key:0,ref_key:"copyLoginPhraseBtn",ref:se,icon:"mdi-content-copy",size:"x-small",variant:"text",color:"grey",onClick:kt,title:e(l)("core.login.copyLoginPhrase")},null,8,["title"])):Y("",!0)]),_:1},8,["modelValue","label","placeholder"]),a(X,{modelValue:P.value.zelid,"onUpdate:modelValue":t[5]||(t[5]=n=>P.value.zelid=n),label:e(l)("core.login.address"),placeholder:e(l)("core.login.insertAddress"),class:"mb-3"},null,8,["modelValue","label","placeholder"]),a(X,{modelValue:P.value.signature,"onUpdate:modelValue":t[6]||(t[6]=n=>P.value.signature=n),label:e(l)("core.login.signature"),placeholder:e(l)("core.login.insertSignature"),class:"mb-4"},null,8,["modelValue","label","placeholder"]),a(B,{color:"primary",variant:"flat",block:"",onClick:Fe},{default:i(()=>[S(v(e(l)("core.login.login")),1)]),_:1})]),_:1})])):Y("",!0)]))]),_:1})):Y("",!0),a(Xt,{modelValue:H.value,"onUpdate:modelValue":t[10]||(t[10]=n=>H.value=n),persistent:"","max-width":"500px"},{default:i(()=>[a(ot,{class:"signup-dialog"},{default:i(()=>[a(Qt,{class:"bg-primary text-white signup-title"},{default:i(()=>[a($,{class:"mr-2 ml-4"},{default:i(()=>[...t[24]||(t[24]=[S("mdi-account-plus",-1)])]),_:1}),S(" "+v(e(l)("core.login.createSSO")),1)]),_:1}),a(Kt,{class:"pt-4"},{default:i(()=>[a(ze,{ref_key:"createSSOFormRef",ref:G,onSubmit:ie(Ge,["prevent"])},{default:i(()=>[a(X,{modelValue:_.value.email,"onUpdate:modelValue":t[7]||(t[7]=n=>_.value.email=n),label:e(l)("core.login.email"),type:"email",rules:k,"validate-on":"blur submit",required:"",class:"mb-3"},null,8,["modelValue","label"]),a(X,{modelValue:_.value.pw1,"onUpdate:modelValue":t[8]||(t[8]=n=>_.value.pw1=n),label:e(l)("core.login.password"),type:"password",rules:j,"validate-on":"blur submit",required:"",class:"mb-3"},null,8,["modelValue","label"]),a(X,{modelValue:_.value.pw2,"onUpdate:modelValue":t[9]||(t[9]=n=>_.value.pw2=n),label:e(l)("core.login.confirmPassword"),type:"password",rules:te.value,"validate-on":"blur submit",required:"",class:"mb-3"},null,8,["modelValue","label","rules"])]),_:1},512),r("p",sa,[S(v(e(l)("core.login.bySigningIn"))+" ",1),r("a",{href:na,target:"_blank",rel:"noopener noreferrer"},v(e(l)("core.login.termsOfService")),1),t[25]||(t[25]=S(". ",-1))])]),_:1}),a(Zt,null,{default:i(()=>[a(Jt),a(B,{color:"error",variant:"flat",density:"comfortable",onClick:xt},{default:i(()=>[S(v(e(l)("core.login.cancel")),1)]),_:1}),a(B,{color:"primary",variant:"flat",density:"comfortable",class:"mr-4",onClick:Ge},{default:i(()=>[S(v(e(l)("core.login.ok")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ko,{modelValue:h.value.show,"onUpdate:modelValue":t[11]||(t[11]=n=>h.value.show=n),text:h.value.text,variant:h.value.variant,top:""},null,8,["modelValue","text","variant"])])]))}},Pa=Ce(ca,[["__scopeId","data-v-069217fb"]]);export{Pa as L,La as V,Sa as _,Va as a,za as b,Aa as c,Ie as h};
