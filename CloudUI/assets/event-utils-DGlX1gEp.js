import{g as L}from"./ansi-utils-ChIB8aIv.js";function k(p){return{all:p=p||new Map,on:function(v,s){var u=p.get(v);u?u.push(s):p.set(v,[s])},off:function(v,s){var u=p.get(v);u&&(s?u.splice(u.indexOf(s)>>>0,1):p.set(v,[]))},emit:function(v,s){var u=p.get(v);u&&u.slice().map(function(m){m(s)}),(u=p.get("*"))&&u.slice().map(function(m){m(v,s)})}}}var w={exports:{}},d;function O(){return d||(d=1,(function(p){var v=Object.prototype.hasOwnProperty,s="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(s=!1));function m(o,t,n){this.fn=o,this.context=t,this.once=n||!1}function E(o,t,n,r,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var l=new m(n,r||o,a),i=s?s+t:t;return o._events[i]?o._events[i].fn?o._events[i]=[o._events[i],l]:o._events[i].push(l):(o._events[i]=l,o._eventsCount++),o}function g(o,t){--o._eventsCount===0?o._events=new u:delete o._events[t]}function c(){this._events=new u,this._eventsCount=0}c.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)v.call(n,r)&&t.push(s?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t},c.prototype.listeners=function(t){var n=s?s+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,l=r.length,i=new Array(l);a<l;a++)i[a]=r[a].fn;return i},c.prototype.listenerCount=function(t){var n=s?s+t:t,r=this._events[n];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,n,r,a,l,i){var h=s?s+t:t;if(!this._events[h])return!1;var e=this._events[h],_=arguments.length,y,f;if(e.fn){switch(e.once&&this.removeListener(t,e.fn,void 0,!0),_){case 1:return e.fn.call(e.context),!0;case 2:return e.fn.call(e.context,n),!0;case 3:return e.fn.call(e.context,n,r),!0;case 4:return e.fn.call(e.context,n,r,a),!0;case 5:return e.fn.call(e.context,n,r,a,l),!0;case 6:return e.fn.call(e.context,n,r,a,l,i),!0}for(f=1,y=new Array(_-1);f<_;f++)y[f-1]=arguments[f];e.fn.apply(e.context,y)}else{var b=e.length,x;for(f=0;f<b;f++)switch(e[f].once&&this.removeListener(t,e[f].fn,void 0,!0),_){case 1:e[f].fn.call(e[f].context);break;case 2:e[f].fn.call(e[f].context,n);break;case 3:e[f].fn.call(e[f].context,n,r);break;case 4:e[f].fn.call(e[f].context,n,r,a);break;default:if(!y)for(x=1,y=new Array(_-1);x<_;x++)y[x-1]=arguments[x];e[f].fn.apply(e[f].context,y)}}return!0},c.prototype.on=function(t,n,r){return E(this,t,n,r,!1)},c.prototype.once=function(t,n,r){return E(this,t,n,r,!0)},c.prototype.removeListener=function(t,n,r,a){var l=s?s+t:t;if(!this._events[l])return this;if(!n)return g(this,l),this;var i=this._events[l];if(i.fn)i.fn===n&&(!a||i.once)&&(!r||i.context===r)&&g(this,l);else{for(var h=0,e=[],_=i.length;h<_;h++)(i[h].fn!==n||a&&!i[h].once||r&&i[h].context!==r)&&e.push(i[h]);e.length?this._events[l]=e.length===1?e[0]:e:g(this,l)}return this},c.prototype.removeAllListeners=function(t){var n;return t?(n=s?s+t:t,this._events[n]&&g(this,n)):(this._events=new u,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=s,c.EventEmitter=c,p.exports=c})(w)),w.exports}var C=O();const P=L(C);export{P as E,k as m};
