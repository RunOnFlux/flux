(globalThis["webpackChunkflux"]=globalThis["webpackChunkflux"]||[]).push([[9330],{49330:(t,e,s)=>{"use strict";s.d(e,{Z:()=>Ye});var a={};s.r(a),s.d(a,{Decoder:()=>ke,Encoder:()=>xe,PacketType:()=>we,protocol:()=>Ce});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-2",attrs:{variant:"outline-primary",pill:""},on:{click:t.goBackToApps}},[e("v-icon",{attrs:{name:"chevron-left"}}),t._v(" Back ")],1),t._v(" "+t._s(t.applicationManagementAndStatus)+" ")],1),e("b-tabs",{staticClass:"mt-2",attrs:{pills:"",vertical:"",lazy:""},on:{input:e=>t.updateManagementTab(e)}},[e("b-tab",{attrs:{title:"Local App Management",disabled:""}}),e("b-tab",{attrs:{title:"Specifications",active:!t.global,disabled:!t.isApplicationInstalledLocally}},[t.callBResponse.data&&t.callResponse.data?e("div",[t.callBResponse.data.hash!==t.callResponse.data.hash?e("div",[e("h1",[t._v("Locally running application does not match global specifications! Update needed")]),e("br"),e("br")]):e("div",[t._v(" Application is synced with Global network "),e("br"),e("br")])]):t._e(),e("h2",[t._v("Installed Specifications")]),t.callResponse.data?e("div",{staticStyle:{"text-align":"left"}},[e("b-card",{staticClass:"mx-2"},[e("list-entry",{attrs:{title:"Description",data:t.callResponse.data.name}}),e("list-entry",{attrs:{title:"Description",data:t.callResponse.data.description}}),e("list-entry",{attrs:{title:"Owner",data:t.callResponse.data.owner}}),e("list-entry",{attrs:{title:"Hash",data:t.callResponse.data.hash}}),t.callResponse.data.version>=5?e("div",[t.callResponse.data.geolocation.length?e("div",t._l(t.callResponse.data.geolocation,(function(s){return e("div",{key:s},[e("list-entry",{attrs:{title:"Geolocation",data:t.getGeolocation(s)}})],1)})),0):e("div",[e("list-entry",{attrs:{title:"Continent",data:"All"}}),e("list-entry",{attrs:{title:"Country",data:"All"}}),e("list-entry",{attrs:{title:"Region",data:"All"}})],1)]):t._e(),t.callResponse.data.instances?e("list-entry",{attrs:{title:"Instances",data:t.callResponse.data.instances.toString()}}):t._e(),e("list-entry",{attrs:{title:"Specifications version",number:t.callResponse.data.version}}),e("list-entry",{attrs:{title:"Registered on Blockheight",number:t.callResponse.data.height}}),t.callResponse.data.hash&&64===t.callResponse.data.hash.length?e("list-entry",{attrs:{title:"Expires on Blockheight",number:t.callResponse.data.height+(t.callResponse.data.expire||22e3)}}):t._e(),e("list-entry",{attrs:{title:"Period",data:t.getExpireLabel||(t.callResponse.data.expire?`${t.callResponse.data.expire} blocks`:"1 month")}}),e("list-entry",{attrs:{title:"Enterprise Nodes",data:t.callResponse.data.nodes?t.callResponse.data.nodes.toString():"Not scoped"}}),e("list-entry",{attrs:{title:"Static IP",data:t.callResponse.data.staticip?"Yes, Running only on Static IP nodes":"No, Running on all nodes"}}),e("h4",[t._v("Composition")]),t.callResponse.data.version<=3?e("div",[e("b-card",[e("list-entry",{attrs:{title:"Repository",data:t.callResponse.data.repotag}}),e("list-entry",{attrs:{title:"Custom Domains",data:t.callResponse.data.domains.toString()||"none"}}),e("list-entry",{attrs:{title:"Automatic Domains",data:t.constructAutomaticDomains(t.callResponse.data.ports,t.callResponse.data.name).toString()||"none"}}),e("list-entry",{attrs:{title:"Ports",data:t.callResponse.data.ports.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Ports",data:t.callResponse.data.containerPorts.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Data",data:t.callResponse.data.containerData.toString()||"none"}}),e("list-entry",{attrs:{title:"Environment Parameters",data:t.callResponse.data.enviromentParameters.length>0?t.callResponse.data.enviromentParameters.toString():"none"}}),e("list-entry",{attrs:{title:"Commands",data:t.callResponse.data.commands.length>0?t.callResponse.data.commands.toString():"none"}}),t.callResponse.data.tiered?e("div",[e("list-entry",{attrs:{title:"CPU Cumulus",data:`${t.callResponse.data.cpubasic} vCore`}}),e("list-entry",{attrs:{title:"CPU Nimbus",data:`${t.callResponse.data.cpusuper} vCore`}}),e("list-entry",{attrs:{title:"CPU Stratus",data:`${t.callResponse.data.cpubamf} vCore`}}),e("list-entry",{attrs:{title:"RAM Cumulus",data:`${t.callResponse.data.rambasic} MB`}}),e("list-entry",{attrs:{title:"RAM Nimbus",data:`${t.callResponse.data.ramsuper} MB`}}),e("list-entry",{attrs:{title:"RAM Stratus",data:`${t.callResponse.data.rambamf} MB`}}),e("list-entry",{attrs:{title:"SSD Cumulus",data:`${t.callResponse.data.hddbasic} GB`}}),e("list-entry",{attrs:{title:"SSD Nimbus",data:`${t.callResponse.data.hddsuper} GB`}}),e("list-entry",{attrs:{title:"SSD Stratus",data:`${t.callResponse.data.hddbamf} GB`}})],1):e("div",[e("list-entry",{attrs:{title:"CPU",data:`${t.callResponse.data.cpu} vCore`}}),e("list-entry",{attrs:{title:"RAM",data:`${t.callResponse.data.ram} MB`}}),e("list-entry",{attrs:{title:"SSD",data:`${t.callResponse.data.hdd} GB`}})],1)],1)],1):e("div",t._l(t.callResponse.data.compose,(function(s,a){return e("b-card",{key:a},[e("b-card-title",[t._v(" Component "+t._s(s.name)+" ")]),e("list-entry",{attrs:{title:"Name",data:s.name}}),e("list-entry",{attrs:{title:"Description",data:s.description}}),e("list-entry",{attrs:{title:"Repository",data:s.repotag}}),e("list-entry",{attrs:{title:"Repository Authentication",data:s.repoauth?"Content Encrypted":"Public"}}),e("list-entry",{attrs:{title:"Custom Domains",data:s.domains.toString()||"none"}}),e("list-entry",{attrs:{title:"Automatic Domains",data:t.constructAutomaticDomains(s.ports,t.callResponse.data.name,a).toString()||"none"}}),e("list-entry",{attrs:{title:"Ports",data:s.ports.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Ports",data:s.containerPorts.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Data",data:s.containerData}}),e("list-entry",{attrs:{title:"Environment Parameters",data:s.environmentParameters.length>0?s.environmentParameters.toString():"none"}}),e("list-entry",{attrs:{title:"Commands",data:s.commands.length>0?s.commands.toString():"none"}}),e("list-entry",{attrs:{title:"Secret Environment Parameters",data:s.secrets?"Content Encrypted":"none"}}),s.tiered?e("div",[e("list-entry",{attrs:{title:"CPU Cumulus",data:`${s.cpubasic} vCore`}}),e("list-entry",{attrs:{title:"CPU Nimbus",data:`${s.cpusuper} vCore`}}),e("list-entry",{attrs:{title:"CPU Stratus",data:`${s.cpubamf} vCore`}}),e("list-entry",{attrs:{title:"RAM Cumulus",data:`${s.rambasic} MB`}}),e("list-entry",{attrs:{title:"RAM Nimbus",data:`${s.ramsuper} MB`}}),e("list-entry",{attrs:{title:"RAM Stratus",data:`${s.rambamf} MB`}}),e("list-entry",{attrs:{title:"SSD Cumulus",data:`${s.hddbasic} GB`}}),e("list-entry",{attrs:{title:"SSD Nimbus",data:`${s.hddsuper} GB`}}),e("list-entry",{attrs:{title:"SSD Stratus",data:`${s.hddbamf} GB`}})],1):e("div",[e("list-entry",{attrs:{title:"CPU",data:`${s.cpu} vCore`}}),e("list-entry",{attrs:{title:"RAM",data:`${s.ram} MB`}}),e("list-entry",{attrs:{title:"SSD",data:`${s.hdd} GB`}})],1)],1)})),1)],1)],1):e("div",[t._v(" Local Specifications loading... ")]),e("h2",{staticClass:"mt-2"},[t._v(" Global Specifications ")]),t.callBResponse.data?e("div",{staticStyle:{"text-align":"left"}},[e("b-card",{staticClass:"mx-2"},[e("list-entry",{attrs:{title:"Description",data:t.callBResponse.data.name}}),e("list-entry",{attrs:{title:"Description",data:t.callBResponse.data.description}}),e("list-entry",{attrs:{title:"Owner",data:t.callBResponse.data.owner}}),e("list-entry",{attrs:{title:"Hash",data:t.callBResponse.data.hash}}),t.callBResponse.data.version>=5?e("div",[t.callBResponse.data.geolocation.length?e("div",t._l(t.callBResponse.data.geolocation,(function(s){return e("div",{key:s},[e("list-entry",{attrs:{title:"Geolocation",data:t.getGeolocation(s)}})],1)})),0):e("div",[e("list-entry",{attrs:{title:"Continent",data:"All"}}),e("list-entry",{attrs:{title:"Country",data:"All"}}),e("list-entry",{attrs:{title:"Region",data:"All"}})],1)]):t._e(),t.callBResponse.data.instances?e("list-entry",{attrs:{title:"Instances",data:t.callBResponse.data.instances.toString()}}):t._e(),e("list-entry",{attrs:{title:"Specifications version",number:t.callBResponse.data.version}}),e("list-entry",{attrs:{title:"Registered on Blockheight",number:t.callBResponse.data.height}}),t.callBResponse.data.hash&&64===t.callBResponse.data.hash.length?e("list-entry",{attrs:{title:"Expires on Blockheight",number:t.callBResponse.data.height+(t.callBResponse.data.expire||22e3)}}):t._e(),e("list-entry",{attrs:{title:"Period",data:t.getExpireLabel||(t.callBResponse.data.expire?`${t.callBResponse.data.expire} blocks`:"1 month")}}),e("list-entry",{attrs:{title:"Enterprise Nodes",data:t.callBResponse.data.nodes?t.callBResponse.data.nodes.toString():"Not scoped"}}),e("list-entry",{attrs:{title:"Static IP",data:t.callBResponse.data.staticip?"Yes, Running only on Static IP nodes":"No, Running on all nodes"}}),e("h4",[t._v("Composition")]),t.callBResponse.data.version<=3?e("div",[e("b-card",[e("list-entry",{attrs:{title:"Repository",data:t.callBResponse.data.repotag}}),e("list-entry",{attrs:{title:"Custom Domains",data:t.callBResponse.data.domains.toString()||"none"}}),e("list-entry",{attrs:{title:"Automatic Domains",data:t.constructAutomaticDomainsGlobal.toString()||"none"}}),e("list-entry",{attrs:{title:"Ports",data:t.callBResponse.data.ports.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Ports",data:t.callBResponse.data.containerPorts.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Data",data:t.callBResponse.data.containerData}}),e("list-entry",{attrs:{title:"Environment Parameters",data:t.callBResponse.data.enviromentParameters.length>0?t.callBResponse.data.enviromentParameters.toString():"none"}}),e("list-entry",{attrs:{title:"Commands",data:t.callBResponse.data.commands.length>0?t.callBResponse.data.commands.toString():"none"}}),t.callBResponse.data.tiered?e("div",[e("list-entry",{attrs:{title:"CPU Cumulus",data:`${t.callBResponse.data.cpubasic} vCore`}}),e("list-entry",{attrs:{title:"CPU Nimbus",data:`${t.callBResponse.data.cpusuper} vCore`}}),e("list-entry",{attrs:{title:"CPU Stratus",data:`${t.callBResponse.data.cpubamf} vCore`}}),e("list-entry",{attrs:{title:"RAM Cumulus",data:`${t.callBResponse.data.rambasic} MB`}}),e("list-entry",{attrs:{title:"RAM Nimbus",data:`${t.callBResponse.data.ramsuper} MB`}}),e("list-entry",{attrs:{title:"RAM Stratus",data:`${t.callBResponse.data.rambamf} MB`}}),e("list-entry",{attrs:{title:"SSD Cumulus",data:`${t.callBResponse.data.hddbasic} GB`}}),e("list-entry",{attrs:{title:"SSD Nimbus",data:`${t.callBResponse.data.hddsuper} GB`}}),e("list-entry",{attrs:{title:"SSD Stratus",data:`${t.callBResponse.data.hddbamf} GB`}})],1):e("div",[e("list-entry",{attrs:{title:"CPU",data:`${t.callBResponse.data.cpu} vCore`}}),e("list-entry",{attrs:{title:"RAM",data:`${t.callBResponse.data.ram} MB`}}),e("list-entry",{attrs:{title:"SSD",data:`${t.callBResponse.data.hdd} GB`}})],1)],1)],1):e("div",t._l(t.callBResponse.data.compose,(function(s,a){return e("b-card",{key:a},[e("b-card-title",[t._v(" Component "+t._s(s.name)+" ")]),e("list-entry",{attrs:{title:"Name",data:s.name}}),e("list-entry",{attrs:{title:"Description",data:s.description}}),e("list-entry",{attrs:{title:"Repository",data:s.repotag}}),e("list-entry",{attrs:{title:"Repository Authentication",data:s.repoauth?"Content Encrypted":"Public"}}),e("list-entry",{attrs:{title:"Custom Domains",data:s.domains.toString()||"none"}}),e("list-entry",{attrs:{title:"Automatic Domains",data:t.constructAutomaticDomains(s.ports,t.callBResponse.data.name,a).toString()||"none"}}),e("list-entry",{attrs:{title:"Ports",data:s.ports.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Ports",data:s.containerPorts.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Data",data:s.containerData}}),e("list-entry",{attrs:{title:"Environment Parameters",data:s.environmentParameters.length>0?s.environmentParameters.toString():"none"}}),e("list-entry",{attrs:{title:"Commands",data:s.commands.length>0?s.commands.toString():"none"}}),e("list-entry",{attrs:{title:"Secret Environment Parameters",data:s.secrets?"Content Encrypted":"none"}}),s.tiered?e("div",[e("list-entry",{attrs:{title:"CPU Cumulus",data:`${s.cpubasic} vCore`}}),e("list-entry",{attrs:{title:"CPU Nimbus",data:`${s.cpusuper} vCore`}}),e("list-entry",{attrs:{title:"CPU Stratus",data:`${s.cpubamf} vCore`}}),e("list-entry",{attrs:{title:"RAM Cumulus",data:`${s.rambasic} MB`}}),e("list-entry",{attrs:{title:"RAM Nimbus",data:`${s.ramsuper} MB`}}),e("list-entry",{attrs:{title:"RAM Stratus",data:`${s.rambamf} MB`}}),e("list-entry",{attrs:{title:"SSD Cumulus",data:`${s.hddbasic} GB`}}),e("list-entry",{attrs:{title:"SSD Nimbus",data:`${s.hddsuper} GB`}}),e("list-entry",{attrs:{title:"SSD Stratus",data:`${s.hddbamf} GB`}})],1):e("div",[e("list-entry",{attrs:{title:"CPU",data:`${s.cpu} vCore`}}),e("list-entry",{attrs:{title:"RAM",data:`${s.ram} MB`}}),e("list-entry",{attrs:{title:"SSD",data:`${s.hdd} GB`}})],1)],1)})),1)],1)],1):"error"===t.callBResponse.status?e("div",[t._v(" Global specifications not found! ")]):e("div",[t._v(" Global Specifications loading... ")])]),e("b-tab",{attrs:{title:"Information",disabled:!t.isApplicationInstalledLocally}},[e("h3",[t._v("Application: "+t._s(t.appSpecification.name))]),t.appSpecification.version>=4?e("div",t._l(t.callResponse.data,(function(s,a){return e("div",{key:a},[e("h4",[t._v("Component: "+t._s(s.name))]),s.callData?e("div",[e("json-viewer",{attrs:{value:s.callData,"expand-depth":5,copyable:"",boxed:"",theme:"jv-dark"}})],1):t._e()])})),0):e("div",[t.callResponse.data&&t.callResponse.data[0]?e("div",[e("json-viewer",{attrs:{value:t.callResponse.data[0].callData,"expand-depth":5,copyable:"",boxed:"",theme:"jv-dark"}})],1):t._e()])]),e("b-tab",{attrs:{title:"Resources",disabled:!t.isApplicationInstalledLocally}},[e("h3",[t._v("Application: "+t._s(t.appSpecification.name))]),t.commandExecuting?e("div",[e("v-icon",{staticClass:"spin-icon",attrs:{name:"spinner"}})],1):t._e(),t.appSpecification.version>=4?e("div",t._l(t.callResponse.data,(function(s,a){return e("div",{key:a},[e("h4",[t._v("Component: "+t._s(s.name))]),s.callData?e("div",[e("json-viewer",{attrs:{value:s.callData,"expand-depth":5,copyable:"",boxed:"",theme:"jv-dark"}})],1):t._e()])})),0):e("div",[t.callResponse.data&&t.callResponse.data[0]?e("div",[e("json-viewer",{attrs:{value:t.callResponse.data[0].callData,"expand-depth":5,copyable:"",boxed:"",theme:"jv-dark"}})],1):t._e()])]),e("b-tab",{attrs:{title:"Monitoring",disabled:!t.isApplicationInstalledLocally}},[e("h3",[t._v("History Statistics 1 hour")]),t.appSpecification.version>=4?e("div",t._l(t.callResponse.data,(function(s,a){return e("div",{key:a},[e("h4",[t._v("Component: "+t._s(s.name))]),s.callData?e("b-table",{staticClass:"stats-table",attrs:{items:t.generateStatsTableItems(s.callData.lastHour,t.appSpecification.compose.find((t=>t.name===s.name))),fields:t.statsFields}}):e("div",[t._v(" Loading... ")])],1)})),0):e("div",[t.callResponse.data&&t.callResponse.data[0]?e("b-table",{staticClass:"stats-table",attrs:{items:t.generateStatsTableItems(t.callResponse.data[0].callData.lastHour,t.appSpecification),fields:t.statsFields}}):e("div",[t._v(" Loading... ")])],1),e("br"),e("br"),e("h3",[t._v("History Statistics 24 hours")]),t.appSpecification.version>=4?e("div",t._l(t.callResponse.data,(function(s,a){return e("div",{key:a},[e("h4",[t._v("Component: "+t._s(s.name))]),s.callData?e("b-table",{staticClass:"stats-table",attrs:{items:t.generateStatsTableItems(s.callData.lastDay,t.appSpecification.compose.find((t=>t.name===s.name))),fields:t.statsFields}}):e("div",[t._v(" Loading... ")])],1)})),0):e("div",[t.callResponse.data&&t.callResponse.data[0]?e("b-table",{staticClass:"stats-table",attrs:{items:t.generateStatsTableItems(t.callResponse.data[0].callData.lastDay,t.appSpecification),fields:t.statsFields}}):e("div",[t._v(" Loading... ")])],1)]),e("b-tab",{attrs:{title:"File Changes",disabled:!t.isApplicationInstalledLocally}},[e("h3",[t._v("Application: "+t._s(t.appSpecification.name))]),t.commandExecuting?e("div",[e("v-icon",{staticClass:"spin-icon",attrs:{name:"spinner"}})],1):t._e(),t.appSpecification.version>=4?e("div",t._l(t.callResponse.data,(function(s,a){return e("div",{key:a},[e("h4",[t._v("Component: "+t._s(s.name))]),s.callData?e("div",[e("json-viewer",{attrs:{value:s.callData,"expand-depth":5,copyable:"",boxed:"",theme:"jv-dark"}})],1):t._e()])})),0):e("div",[t.callResponse.data&&t.callResponse.data[0]?e("div",[e("json-viewer",{attrs:{value:t.callResponse.data[0].callData,"expand-depth":5,copyable:"",boxed:"",theme:"jv-dark"}})],1):t._e()])]),e("b-tab",{attrs:{title:"Processes",disabled:!t.isApplicationInstalledLocally}},[e("h3",[t._v("Application: "+t._s(t.appSpecification.name))]),t.commandExecuting?e("div",[e("v-icon",{staticClass:"spin-icon",attrs:{name:"spinner"}})],1):t._e(),t.appSpecification.version>=4?e("div",t._l(t.callResponse.data,(function(s,a){return e("div",{key:a},[e("h4",[t._v("Component: "+t._s(s.name))]),s.callData?e("div",[e("json-viewer",{attrs:{value:s.callData,"expand-depth":5,copyable:"",boxed:"",theme:"jv-dark"}})],1):t._e()])})),0):e("div",[t.callResponse.data&&t.callResponse.data[0]?e("div",[e("json-viewer",{attrs:{value:t.callResponse.data[0].callData,"expand-depth":5,copyable:"",boxed:"",theme:"jv-dark"}})],1):t._e()])]),e("b-tab",{attrs:{title:"Log File",disabled:!t.isApplicationInstalledLocally}},[e("h3",[t._v("Application: "+t._s(t.appSpecification.name))]),t.appSpecification.version>=4?e("div",t._l(t.callResponse.data,(function(s,a){return e("div",{key:a},[e("h4",[t._v("Component: "+t._s(s.name))]),e("div",{staticClass:"text-center"},[e("h6",[t._v(" Click the 'Download Log File' button to download the Log file from your Application debug file. This may take a few minutes depending on file size. ")]),e("div",[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mt-2",attrs:{id:`start-download-log-${s.name}_${t.appSpecification.name}`,variant:"outline-primary",size:"md"}},[t._v(" Download Debug File ")]),e("confirm-dialog",{attrs:{target:`start-download-log-${s.name}_${t.appSpecification.name}`,"confirm-button":"Download Log"},on:{confirm:function(e){return t.downloadApplicationLog(`${s.name}_${t.appSpecification.name}`)}}})],1),e("div",[t.total&&t.downloaded?e("b-card-text",[t._v(" "+t._s(`${(t.downloaded/1e6).toFixed(2)} / ${(t.total/1e6).toFixed(2)}`)+" MB - "+t._s(`${(t.downloaded/t.total*100).toFixed(2)}%`)+" ")]):t._e(),e("h6",{staticClass:"mb-1 mt-2"},[t._v(" Last 100 lines of the log file ")]),s.callData?e("b-form-textarea",{staticClass:"mt-1",staticStyle:{"background-color":"black",color:"white",padding:"20px","font-family":"monospace","margin-bottom":"25px"},attrs:{plaintext:"","no-resize":"",rows:"15",value:t.decodeAsciiResponse(s.callData)}}):t._e()],1)])])})),0):e("div",[e("div",{staticClass:"text-center"},[e("h6",[t._v(" Click the 'Download Log File' button to download the Log file from your Application debug file. This may take a few minutes depending on file size. ")]),e("div",[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mt-2",attrs:{id:"start-download-log",variant:"outline-primary",size:"md"}},[t._v(" Download Debug File ")]),e("confirm-dialog",{attrs:{target:"start-download-log","confirm-button":"Download Log"},on:{confirm:function(e){return t.downloadApplicationLog(t.appSpecification.name)}}})],1),e("div",[t.total&&t.downloaded?e("b-card-text",[t._v(" "+t._s(`${(t.downloaded/1e6).toFixed(2)} / ${(t.total/1e6).toFixed(2)}`)+" MB - "+t._s(`${(t.downloaded/t.total*100).toFixed(2)}%`)+" ")]):t._e(),e("h6",{staticClass:"mb-1 mt-2"},[t._v(" Last 100 lines of the log file ")]),t.callResponse.data&&t.callResponse.data[0]?e("b-form-textarea",{staticClass:"mt-1",staticStyle:{"background-color":"black",color:"white",padding:"20px","font-family":"monospace","margin-bottom":"25px"},attrs:{plaintext:"","no-resize":"",rows:"15",value:t.decodeAsciiResponse(t.callResponse.data[0].callData)}}):t._e()],1)])])]),e("b-tab",{attrs:{title:"Control",disabled:!t.isApplicationInstalledLocally}},[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Control"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" General options to control running status of App. ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"start-app",variant:"success","aria-label":"Start App"}},[t._v(" Start App ")]),e("confirm-dialog",{attrs:{target:"start-app","confirm-button":"Start App"},on:{confirm:function(e){return t.startApp(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"stop-app",variant:"success","aria-label":"Stop App"}},[t._v(" Stop App ")]),e("confirm-dialog",{attrs:{target:"stop-app","confirm-button":"Stop App"},on:{confirm:function(e){return t.stopApp(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"restart-app",variant:"success","aria-label":"Restart App"}},[t._v(" Restart App ")]),e("confirm-dialog",{attrs:{target:"restart-app","confirm-button":"Restart App"},on:{confirm:function(e){return t.restartApp(t.appName)}}})],1)],1)],1),e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Pause"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" The Pause command suspends all processes in the specified App. ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"pause-app",variant:"success","aria-label":"Pause App"}},[t._v(" Pause App ")]),e("confirm-dialog",{attrs:{target:"pause-app","confirm-button":"Pause App"},on:{confirm:function(e){return t.pauseApp(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"unpause-app",variant:"success","aria-label":"Unpause App"}},[t._v(" Unpause App ")]),e("confirm-dialog",{attrs:{target:"unpause-app","confirm-button":"Unpause App"},on:{confirm:function(e){return t.unpauseApp(t.appName)}}})],1)],1)],1),e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Monitoring"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" Controls Application Monitoring ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"start-monitoring",variant:"success","aria-label":"Start Monitoring"}},[t._v(" Start Monitoring ")]),e("confirm-dialog",{attrs:{target:"start-monitoring","confirm-button":"Start Monitoring"},on:{confirm:function(e){return t.startMonitoring(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"stop-monitoring",variant:"success","aria-label":"Stop Monitoring"}},[t._v(" Stop Monitoring ")]),e("confirm-dialog",{attrs:{target:"stop-monitoring","confirm-button":"Stop Monitoring"},on:{confirm:function(e){return t.stopMonitoring(t.appName,!1)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"stop-monitoring-delete",variant:"success","aria-label":"Stop Monitoring and Delete Monitored Data"}},[t._v(" Stop Monitoring and Delete Monitored Data ")]),e("confirm-dialog",{attrs:{target:"stop-monitoring-delete","confirm-button":"Stop Monitoring"},on:{confirm:function(e){return t.stopMonitoring(t.appName,!0)}}})],1)],1)],1)],1),e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Redeploy"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" Redeployes your application. Hard redeploy removes persistant data storage. ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"redeploy-app-soft",variant:"success","aria-label":"Soft Redeploy App"}},[t._v(" Soft Redeploy App ")]),e("confirm-dialog",{attrs:{target:"redeploy-app-soft","confirm-button":"Redeploy"},on:{confirm:function(e){return t.redeployAppSoft(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"redeploy-app-hard",variant:"success","aria-label":"Hard Redeploy App"}},[t._v(" Hard Redeploy App ")]),e("confirm-dialog",{attrs:{target:"redeploy-app-hard","confirm-button":"Redeploy"},on:{confirm:function(e){return t.redeployAppHard(t.appName)}}})],1)],1)],1),e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Remove"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" Stops, uninstalls and removes all App data from this Flux node. ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"remove-app",variant:"success","aria-label":"Remove App"}},[t._v(" Remove App ")]),e("confirm-dialog",{attrs:{target:"remove-app","confirm-button":"Remove App"},on:{confirm:function(e){return t.removeApp(t.appName)}}})],1)],1)],1)],1)],1),e("b-tab",{attrs:{title:"Component Control",disabled:!t.isApplicationInstalledLocally||t.appSpecification.version<=3}},t._l(t.appSpecification.compose,(function(s,a){return e("b-card",{key:a},[e("h4",[t._v(t._s(s.name)+" Component")]),e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Control"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" General options to control running status of Component. ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:`start-app-${s.name}_${t.appSpecification.name}`,variant:"success","aria-label":"Start Component"}},[t._v(" Start Component ")]),e("confirm-dialog",{attrs:{target:`start-app-${s.name}_${t.appSpecification.name}`,"confirm-button":"Start Component"},on:{confirm:function(e){return t.startApp(`${s.name}_${t.appSpecification.name}`)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:`stop-app-${s.name}_${t.appSpecification.name}`,variant:"success","aria-label":"Stop Component"}},[t._v(" Stop Component ")]),e("confirm-dialog",{attrs:{target:`stop-app-${s.name}_${t.appSpecification.name}`,"confirm-button":"Stop App"},on:{confirm:function(e){return t.stopApp(`${s.name}_${t.appSpecification.name}`)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:`restart-app-${s.name}_${t.appSpecification.name}`,variant:"success","aria-label":"Restart Component"}},[t._v(" Restart Component ")]),e("confirm-dialog",{attrs:{target:`restart-app-${s.name}_${t.appSpecification.name}`,"confirm-button":"Restart Component"},on:{confirm:function(e){return t.restartApp(`${s.name}_${t.appSpecification.name}`)}}})],1)],1)],1),e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Pause"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" The Pause command suspends all processes in the specified Component. ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:`pause-app-${s.name}_${t.appSpecification.name}`,variant:"success","aria-label":"Pause Component"}},[t._v(" Pause Component ")]),e("confirm-dialog",{attrs:{target:`pause-app-${s.name}_${t.appSpecification.name}`,"confirm-button":"Pause Component"},on:{confirm:function(e){return t.pauseApp(`${s.name}_${t.appSpecification.name}`)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:`unpause-app-${s.name}_${t.appSpecification.name}`,variant:"success","aria-label":"Unpause Component"}},[t._v(" Unpause Component ")]),e("confirm-dialog",{attrs:{target:`unpause-app-${s.name}_${t.appSpecification.name}`,"confirm-button":"Unpause Component"},on:{confirm:function(e){return t.unpauseApp(`${s.name}_${t.appSpecification.name}`)}}})],1)],1)],1),e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Monitoring"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" Controls Component Monitoring ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:`start-monitoring-${s.name}_${t.appSpecification.name}`,variant:"success","aria-label":"Start Monitoring"}},[t._v(" Start Monitoring ")]),e("confirm-dialog",{attrs:{target:`start-monitoring-${s.name}_${t.appSpecification.name}`,"confirm-button":"Start Monitoring"},on:{confirm:function(e){return t.startMonitoring(`${s.name}_${t.appSpecification.name}`)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:`stop-monitoring-${s.name}_${t.appSpecification.name}`,variant:"success","aria-label":"Stop Monitoring"}},[t._v(" Stop Monitoring ")]),e("confirm-dialog",{attrs:{target:`stop-monitoring-${s.name}_${t.appSpecification.name}`,"confirm-button":"Stop Monitoring"},on:{confirm:function(e){return t.stopMonitoring(`${s.name}_${t.appSpecification.name}`,!1)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:`stop-monitoring-delete-${s.name}_${t.appSpecification.name}`,variant:"success","aria-label":"Stop Monitoring and Delete Monitored Data"}},[t._v(" Stop Monitoring and Delete Monitored Data ")]),e("confirm-dialog",{attrs:{target:`stop-monitoring-delete-${s.name}_${t.appSpecification.name}`,"confirm-button":"Stop Monitoring"},on:{confirm:function(e){return t.stopMonitoring(`${s.name}_${t.appSpecification.name}`,!0)}}})],1)],1)],1)],1)],1)})),1),e("b-tab",{attrs:{title:"Execute Commands",disabled:!t.isApplicationInstalledLocally}},[e("div",{staticClass:"text-center"},[e("div",[e("b-card-group",{attrs:{deck:""}},[e("b-card",{attrs:{"header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h6",{staticClass:"mb-0"},[t._v(" Browser-based Interactive Terminal ")])]},proxy:!0}])},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"mr-4"},[e("b-form-select",{attrs:{options:null,disabled:!!t.isVisible||t.isComposeSingle},model:{value:t.selectedApp,callback:function(e){t.selectedApp=e},expression:"selectedApp"}},[e("b-form-select-option",{attrs:{value:"null",disabled:""}},[t._v(" -- Please select component -- ")]),t._l(t.appSpecification.compose,(function(s){return e("b-form-select-option",{key:s.name,attrs:{value:s.name}},[t._v(" "+t._s(s.name)+" ")])}))],2)],1),e("div",{staticClass:"mr-4"},[e("b-form-select",{attrs:{options:t.options,disabled:!!t.isVisible},on:{input:t.onSelectChangeCmd},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{option:null,value:null,disabled:""}},[t._v(" -- Please select command -- ")])]},proxy:!0}]),model:{value:t.selectedCmd,callback:function(e){t.selectedCmd=e},expression:"selectedCmd"}})],1),t.isVisible||t.isConnecting?t._e():e("b-button",{staticClass:"col-2",attrs:{href:"#",variant:"success"},on:{click:function(e){return t.connectTerminal(t.selectedApp?`${t.selectedApp}_${t.appSpecification.name}`:t.appSpecification.name)}}},[t._v(" Connect ")]),t.isVisible?e("b-button",{staticClass:"col-2",attrs:{variant:"danger"},on:{click:t.disconnectTerminal}},[t._v(" Disconnect ")]):t._e(),t.isConnecting?e("b-button",{staticClass:"col-2",attrs:{variant:"primary",disabled:""}},[e("b-spinner",{attrs:{small:""}}),t._v(" Connecting... ")],1):t._e(),e("div",{staticClass:"ml-auto mt-1"},[e("div",{staticClass:"ml-auto"},[e("b-form-checkbox",{staticClass:"ml-4 d-flex align-items-center justify-content-center",attrs:{switch:"",disabled:!!t.isVisible},on:{input:t.onSelectChangeEnv},model:{value:t.enableEnvironment,callback:function(e){t.enableEnvironment=e},expression:"enableEnvironment"}},[e("div",{staticClass:"d-flex",staticStyle:{"font-size":"14px"}},[t._v(" Enable Environment ")])])],1)])],1),"Custom"!==t.selectedCmd||t.isVisible?t._e():e("div",{staticClass:"d-flex mt-1"},[e("b-form-input",{style:{width:"100%"},attrs:{placeholder:"Enter custom command (string)"},model:{value:t.customValue,callback:function(e){t.customValue=e},expression:"customValue"}})],1),t.enableEnvironment&&!t.isVisible?e("div",{staticClass:"d-flex mt-1"},[e("b-form-input",{style:{width:"100%"},attrs:{placeholder:"Enter environment parameters (string)"},model:{value:t.envInputValue,callback:function(e){t.envInputValue=e},expression:"envInputValue"}})],1):t._e(),e("div",{staticClass:"d-flex align-items-center mb-1"},[t.isVisible?e("div",{staticClass:"mt-2"},["Custom"!==t.selectedCmd?[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Exec into container")]),e("span",{style:t.selectedOptionTextStyle},[t._v(t._s(t.selectedApp||t.appSpecification.name))]),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("using command")]),e("span",{style:t.selectedOptionTextStyle},[t._v(t._s(t.selectedOptionText))])]:[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Exec into container")]),e("span",{style:t.selectedOptionTextStyle},[t._v(t._s(t.selectedApp||t.appSpecification.name))]),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("using custom command")]),e("span",{style:t.selectedOptionTextStyle},[t._v(t._s(t.customValue))])]],2):t._e()])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],ref:"terminalElement",staticStyle:{"text-align":"left"}})],1)])]),e("b-tab",{attrs:{title:"Global App Management",disabled:""}}),e("b-tab",{attrs:{title:"Global Specifications",active:t.global}},[e("h2",{staticClass:"mt-2"},[t._v(" Global Specifications ")]),t.callBResponse.data?e("div",{staticStyle:{"text-align":"left"}},[e("b-card",{staticClass:"mx-2"},[e("list-entry",{attrs:{title:"Description",data:t.callBResponse.data.name}}),e("list-entry",{attrs:{title:"Description",data:t.callBResponse.data.description}}),e("list-entry",{attrs:{title:"Owner",data:t.callBResponse.data.owner}}),e("list-entry",{attrs:{title:"Hash",data:t.callBResponse.data.hash}}),t.callBResponse.data.version>=5?e("div",[e("list-entry",{attrs:{title:"Contacts",data:t.callBResponse.data.contacts.toString()||"none"}}),t.callBResponse.data.geolocation.length?e("div",t._l(t.callBResponse.data.geolocation,(function(s){return e("div",{key:s},[e("list-entry",{attrs:{title:"Geolocation",data:t.getGeolocation(s)}})],1)})),0):e("div",[e("list-entry",{attrs:{title:"Continent",data:"All"}}),e("list-entry",{attrs:{title:"Country",data:"All"}}),e("list-entry",{attrs:{title:"Region",data:"All"}})],1)],1):t._e(),t.callBResponse.data.instances?e("list-entry",{attrs:{title:"Instances",data:t.callBResponse.data.instances.toString()}}):t._e(),e("list-entry",{attrs:{title:"Specifications version",number:t.callBResponse.data.version}}),e("list-entry",{attrs:{title:"Registered on Blockheight",number:t.callBResponse.data.height}}),t.callBResponse.data.hash&&64===t.callBResponse.data.hash.length?e("list-entry",{attrs:{title:"Expires on Blockheight",number:t.callBResponse.data.height+(t.callBResponse.data.expire||22e3)}}):t._e(),e("list-entry",{attrs:{title:"Period",data:t.getExpireLabel||(t.callBResponse.data.expire?`${t.callBResponse.data.expire} blocks`:"1 month")}}),e("list-entry",{attrs:{title:"Enterprise Nodes",data:t.callBResponse.data.nodes?t.callBResponse.data.nodes.toString():"Not scoped"}}),e("list-entry",{attrs:{title:"Static IP",data:t.callBResponse.data.staticip?"Yes, Running only on Static IP nodes":"No, Running on all nodes"}}),e("h4",[t._v("Composition")]),t.callBResponse.data.version<=3?e("b-card",[e("list-entry",{attrs:{title:"Repository",data:t.callBResponse.data.repotag}}),e("list-entry",{attrs:{title:"Custom Domains",data:t.callBResponse.data.domains.toString()||"none"}}),e("list-entry",{attrs:{title:"Automatic Domains",data:t.constructAutomaticDomainsGlobal.toString()||"none"}}),e("list-entry",{attrs:{title:"Ports",data:t.callBResponse.data.ports.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Ports",data:t.callBResponse.data.containerPorts.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Data",data:t.callBResponse.data.containerData}}),e("list-entry",{attrs:{title:"Environment Parameters",data:t.callBResponse.data.enviromentParameters.length>0?t.callBResponse.data.enviromentParameters.toString():"none"}}),e("list-entry",{attrs:{title:"Commands",data:t.callBResponse.data.commands.length>0?t.callBResponse.data.commands.toString():"none"}}),t.callBResponse.data.tiered?e("div",[e("list-entry",{attrs:{title:"CPU Cumulus",data:`${t.callBResponse.data.cpubasic} vCore`}}),e("list-entry",{attrs:{title:"CPU Nimbus",data:`${t.callBResponse.data.cpusuper} vCore`}}),e("list-entry",{attrs:{title:"CPU Stratus",data:`${t.callBResponse.data.cpubamf} vCore`}}),e("list-entry",{attrs:{title:"RAM Cumulus",data:`${t.callBResponse.data.rambasic} MB`}}),e("list-entry",{attrs:{title:"RAM Nimbus",data:`${t.callBResponse.data.ramsuper} MB`}}),e("list-entry",{attrs:{title:"RAM Stratus",data:`${t.callBResponse.data.rambamf} MB`}}),e("list-entry",{attrs:{title:"SSD Cumulus",data:`${t.callBResponse.data.hddbasic} GB`}}),e("list-entry",{attrs:{title:"SSD Nimbus",data:`${t.callBResponse.data.hddsuper} GB`}}),e("list-entry",{attrs:{title:"SSD Stratus",data:`${t.callBResponse.data.hddbamf} GB`}})],1):e("div",[e("list-entry",{attrs:{title:"CPU",data:`${t.callBResponse.data.cpu} vCore`}}),e("list-entry",{attrs:{title:"RAM",data:`${t.callBResponse.data.ram} MB`}}),e("list-entry",{attrs:{title:"SSD",data:`${t.callBResponse.data.hdd} GB`}})],1)],1):t._e(),t._l(t.callBResponse.data.compose,(function(s,a){return t.callBResponse.data.version>=4?e("b-card",{key:a},[e("b-card-title",[t._v(" Component "+t._s(s.name)+" ")]),e("list-entry",{attrs:{title:"Name",data:s.name}}),e("list-entry",{attrs:{title:"Description",data:s.description}}),e("list-entry",{attrs:{title:"Repository",data:s.repotag}}),e("list-entry",{attrs:{title:"Repository Authentication",data:s.repoauth?"Content Encrypted":"Public"}}),e("list-entry",{attrs:{title:"Custom Domains",data:s.domains.toString()||"none"}}),e("list-entry",{attrs:{title:"Automatic Domains",data:t.constructAutomaticDomains(s.ports,t.callBResponse.data.name,a).toString()||"none"}}),e("list-entry",{attrs:{title:"Ports",data:s.ports.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Ports",data:s.containerPorts.toString()||"none"}}),e("list-entry",{attrs:{title:"Container Data",data:s.containerData}}),e("list-entry",{attrs:{title:"Environment Parameters",data:s.environmentParameters.length>0?s.environmentParameters.toString():"none"}}),e("list-entry",{attrs:{title:"Commands",data:s.commands.length>0?s.commands.toString():"none"}}),e("list-entry",{attrs:{title:"Secret Environment Parameters",data:s.secrets?"Content Encrypted":"none"}}),s.tiered?e("div",[e("list-entry",{attrs:{title:"CPU Cumulus",data:`${s.cpubasic} vCore`}}),e("list-entry",{attrs:{title:"CPU Nimbus",data:`${s.cpusuper} vCore`}}),e("list-entry",{attrs:{title:"CPU Stratus",data:`${s.cpubamf} vCore`}}),e("list-entry",{attrs:{title:"RAM Cumulus",data:`${s.rambasic} MB`}}),e("list-entry",{attrs:{title:"RAM Nimbus",data:`${s.ramsuper} MB`}}),e("list-entry",{attrs:{title:"RAM Stratus",data:`${s.rambamf} MB`}}),e("list-entry",{attrs:{title:"SSD Cumulus",data:`${s.hddbasic} GB`}}),e("list-entry",{attrs:{title:"SSD Nimbus",data:`${s.hddsuper} GB`}}),e("list-entry",{attrs:{title:"SSD Stratus",data:`${s.hddbamf} GB`}})],1):e("div",[e("list-entry",{attrs:{title:"CPU",data:`${s.cpu} vCore`}}),e("list-entry",{attrs:{title:"RAM",data:`${s.ram} MB`}}),e("list-entry",{attrs:{title:"SSD",data:`${s.hdd} GB`}})],1)],1):t._e()}))],2)],1):"error"===t.callBResponse.status?e("div",[t._v(" Global specifications not found! ")]):e("div",[t._v(" Global Specifications loading... ")])]),e("b-tab",{attrs:{title:"Global Control"}},[t.globalZelidAuthorized?e("div",[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Control"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" "+t._s(t.isAppOwner?"General options to control all instances of your application":"General options to control instances of selected application running on all nodes that you own")+" ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"start-app-global",variant:"success","aria-label":"Start App"}},[t._v(" Start App ")]),e("confirm-dialog",{attrs:{target:"start-app-global","confirm-button":"Start App"},on:{confirm:function(e){return t.startAppGlobally(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"stop-app-global",variant:"success","aria-label":"Stop App"}},[t._v(" Stop App ")]),e("confirm-dialog",{attrs:{target:"stop-app-global","confirm-button":"Stop App"},on:{confirm:function(e){return t.stopAppGlobally(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"restart-app-global",variant:"success","aria-label":"Restart App"}},[t._v(" Restart App ")]),e("confirm-dialog",{attrs:{target:"restart-app-global","confirm-button":"Restart App"},on:{confirm:function(e){return t.restartAppGlobally(t.appName)}}})],1)],1)],1),e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Pause"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" "+t._s(t.isAppOwner?"The Pause command suspends all processes of all instances of your app":"The Pause command suspends all processes of selected application on all of nodes that you own")+" ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"pause-app-global",variant:"success","aria-label":"Pause App"}},[t._v(" Pause App ")]),e("confirm-dialog",{attrs:{target:"pause-app-global","confirm-button":"Pause App"},on:{confirm:function(e){return t.pauseAppGlobally(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"unpause-app-global",variant:"success","aria-label":"Unpause App"}},[t._v(" Unpause App ")]),e("confirm-dialog",{attrs:{target:"unpause-app-global","confirm-button":"Unpause App"},on:{confirm:function(e){return t.unpauseAppGlobally(t.appName)}}})],1)],1)],1)],1),e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Redeploy"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" "+t._s(t.isAppOwner?"Redeployes all instances of your application. Hard redeploy removes persistant data storage.":"Redeployes instances of selected application running on all of your nodes. Hard redeploy removes persistant data storage.")+" ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"redeploy-app-soft-global",variant:"success","aria-label":"Soft Redeploy App"}},[t._v(" Soft Redeploy App ")]),e("confirm-dialog",{attrs:{target:"redeploy-app-soft-global","confirm-button":"Redeploy"},on:{confirm:function(e){return t.redeployAppSoftGlobally(t.appName)}}}),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"redeploy-app-hard-global",variant:"success","aria-label":"Hard Redeploy App"}},[t._v(" Hard Redeploy App ")]),e("confirm-dialog",{attrs:{target:"redeploy-app-hard-global","confirm-button":"Redeploy"},on:{confirm:function(e){return t.redeployAppHardGlobally(t.appName)}}})],1)],1)],1),e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Reinstall"}},[e("b-card-text",{staticClass:"mb-2"},[t._v(" "+t._s(t.isAppOwner?"Removes all instances of your App forcing an installation on different nodes.":"Removes all instances of selected App on all of your nodes forcing installation on different nodes.")+" ")]),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mx-1 my-1",attrs:{id:"remove-app-global",variant:"success","aria-label":"Reinstall App"}},[t._v(" Reinstall App ")]),e("confirm-dialog",{attrs:{target:"remove-app-global","confirm-button":"Reinstall App"},on:{confirm:function(e){return t.removeAppGlobally(t.appName)}}})],1)],1)],1)],1)],1):e("div",[t._v(" Global management session expired. Please log out and back into FluxOS. ")])]),e("b-tab",{attrs:{title:"Running Instances"}},[e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"4",sm:"4"}},[e("b-form-group",{staticClass:"mb-0"},[e("label",{staticClass:"d-inline-block text-left mr-50"},[t._v("Per page")]),e("b-form-select",{staticClass:"w-50",attrs:{id:"perPageSelect",size:"sm",options:t.instances.pageOptions},model:{value:t.instances.perPage,callback:function(e){t.$set(t.instances,"perPage",e)},expression:"instances.perPage"}})],1)],1),e("b-col",{staticClass:"my-1",attrs:{md:"8"}},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"1","label-align-sm":"right","label-for":"filterInput"}},[e("b-input-group",{attrs:{size:"sm"}},[e("b-form-input",{attrs:{id:"filterInput",type:"search",placeholder:"Type to Search"},model:{value:t.instances.filter,callback:function(e){t.$set(t.instances,"filter",e)},expression:"instances.filter"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.instances.filter},on:{click:function(e){t.instances.filter=""}}},[t._v(" Clear ")])],1)],1)],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-table",{staticClass:"app-instances-table",attrs:{striped:"",hover:"",responsive:"","per-page":t.instances.perPage,"current-page":t.instances.currentPage,items:t.instances.data,fields:t.instances.fields,"sort-by":t.instances.sortBy,"sort-desc":t.instances.sortDesc,"sort-direction":t.instances.sortDirection,filter:t.instances.filter,"filter-included-fields":t.instances.filterOn,"show-empty":"","empty-text":`No instances of ${t.appName}`},on:{"update:sortBy":function(e){return t.$set(t.instances,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.instances,"sortBy",e)},"update:sortDesc":function(e){return t.$set(t.instances,"sortDesc",e)},"update:sort-desc":function(e){return t.$set(t.instances,"sortDesc",e)}},scopedSlots:t._u([{key:"cell(show_details)",fn:function(s){return[e("a",{on:{click:s.toggleDetails}},[s.detailsShowing?t._e():e("v-icon",{attrs:{name:"chevron-down"}}),s.detailsShowing?e("v-icon",{attrs:{name:"chevron-up"}}):t._e()],1)]}},{key:"row-details",fn:function(s){return[e("b-card",{staticClass:"mx-2"},[s.item.broadcastedAt?e("list-entry",{attrs:{title:"Broadcast",data:new Date(s.item.broadcastedAt).toLocaleString("en-GB",t.timeoptions.shortDate)}}):t._e(),s.item.expireAt?e("list-entry",{attrs:{title:"Expires",data:new Date(s.item.expireAt).toLocaleString("en-GB",t.timeoptions.shortDate)}}):t._e()],1)]}},{key:"cell(visit)",fn:function(s){return[e("div",{staticClass:"button-cell"},[e("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(e){t.openApp(s.item.name,s.item.ip.split(":")[0],t.getProperPort())}}},[t._v(" Visit App ")]),e("b-button",{staticClass:"mr-0",attrs:{size:"sm",variant:"danger"},on:{click:function(e){t.openNodeFluxOS(s.item.ip.split(":")[0],s.item.ip.split(":")[1]?+s.item.ip.split(":")[1]-1:16126)}}},[t._v(" Visit FluxNode ")])],1)]}}])})],1),e("b-col",{attrs:{cols:"12"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.instances.totalRows,"per-page":t.instances.perPage,align:"center",size:"sm"},model:{value:t.instances.currentPage,callback:function(e){t.$set(t.instances,"currentPage",e)},expression:"instances.currentPage"}}),e("span",{staticClass:"table-total"},[t._v("Total: "+t._s(t.instances.totalRows))])],1)],1)],1),e("b-tab",{attrs:{title:"Update Specifications",disabled:!t.isAppOwner}},[t.fluxCommunication?t._e():e("div",{staticClass:"text-danger"},[t._v(" Warning: Connected Flux is not communicating properly with Flux network ")]),e("h2",{staticClass:"mb-2"},[t._v(" Update Application Specifications ")]),t.appUpdateSpecification.version>=4?e("div",[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6"}},[e("b-card",{attrs:{title:"Details"}},[e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"Version","label-for":"version"}},[e("b-form-input",{attrs:{id:"version",placeholder:t.appUpdateSpecification.version.toString(),readonly:""},model:{value:t.appUpdateSpecification.version,callback:function(e){t.$set(t.appUpdateSpecification,"version",e)},expression:"appUpdateSpecification.version"}})],1),e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"Name","label-for":"name"}},[e("b-form-input",{attrs:{id:"name",placeholder:"Application Name",readonly:""},model:{value:t.appUpdateSpecification.name,callback:function(e){t.$set(t.appUpdateSpecification,"name",e)},expression:"appUpdateSpecification.name"}})],1),e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"Desc.","label-for":"desc"}},[e("b-form-textarea",{attrs:{id:"desc",placeholder:"Description",rows:"3"},model:{value:t.appUpdateSpecification.description,callback:function(e){t.$set(t.appUpdateSpecification,"description",e)},expression:"appUpdateSpecification.description"}})],1),e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"Owner","label-for":"owner"}},[e("b-form-input",{attrs:{id:"owner",placeholder:"ZelID of Application Owner"},model:{value:t.appUpdateSpecification.owner,callback:function(e){t.$set(t.appUpdateSpecification,"owner",e)},expression:"appUpdateSpecification.owner"}})],1),t.appUpdateSpecification.version>=5&&!t.isPrivateApp?e("div",[e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-1 col-form-label"},[t._v(" Contacts "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of strings of emails Contacts to get notifications ex. app about to expire, app spawns. Contacts are also PUBLIC information.",expression:"'Array of strings of emails Contacts to get notifications ex. app about to expire, app spawns. Contacts are also PUBLIC information.'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"contacs"},model:{value:t.appUpdateSpecification.contacts,callback:function(e){t.$set(t.appUpdateSpecification,"contacts",e)},expression:"appUpdateSpecification.contacts"}})],1),e("div",{staticClass:"col-0"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Uploads Contacts to Flux Storage. Contacts will be replaced with a link to Flux Storage instead. This increases maximum allowed contacts while adding enhanced privacy - nobody except FluxOS Team maintaining notifications system has access to contacts.",expression:"\n                        'Uploads Contacts to Flux Storage. Contacts will be replaced with a link to Flux Storage instead. This increases maximum allowed contacts while adding enhanced privacy - nobody except FluxOS Team maintaining notifications system has access to contacts.'\n                      ",modifiers:{hover:!0,top:!0}}],attrs:{id:"upload-contacts",variant:"outline-primary"}},[e("v-icon",{attrs:{name:"cloud-upload-alt"}})],1),e("confirm-dialog",{attrs:{target:"upload-contacts","confirm-button":"Upload Contacts",width:600},on:{confirm:function(e){return t.uploadContactsToFluxStorage()}}})],1)])]):t._e(),t.appUpdateSpecification.version>=5&&!t.isPrivateApp?e("div",[e("h4",[t._v("Allowed Geolocation")]),t._l(t.numberOfGeolocations,(function(s){return e("div",{key:`${s}pos`},[e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"1",label:`Continent - ${s}`,"label-for":"Continent"}},[e("b-form-select",{attrs:{id:"Continent",options:t.continentsOptions(!1)},on:{change:function(e){return t.adjustMaxInstancesPossible()}},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:void 0,disabled:""}},[t._v(" -- Select to restrict Continent -- ")])]},proxy:!0}],null,!0),model:{value:t.allowedGeolocations[`selectedContinent${s}`],callback:function(e){t.$set(t.allowedGeolocations,`selectedContinent${s}`,e)},expression:"allowedGeolocations[`selectedContinent${n}`]"}})],1),t.allowedGeolocations[`selectedContinent${s}`]&&"ALL"!==t.allowedGeolocations[`selectedContinent${s}`]?e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"1",label:`Country - ${s}`,"label-for":"Country"}},[e("b-form-select",{attrs:{id:"country",options:t.countriesOptions(t.allowedGeolocations[`selectedContinent${s}`],!1)},on:{change:function(e){return t.adjustMaxInstancesPossible()}},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:void 0,disabled:""}},[t._v(" -- Select to restrict Country -- ")])]},proxy:!0}],null,!0),model:{value:t.allowedGeolocations[`selectedCountry${s}`],callback:function(e){t.$set(t.allowedGeolocations,`selectedCountry${s}`,e)},expression:"allowedGeolocations[`selectedCountry${n}`]"}})],1):t._e(),t.allowedGeolocations[`selectedContinent${s}`]&&"ALL"!==t.allowedGeolocations[`selectedContinent${s}`]&&t.allowedGeolocations[`selectedCountry${s}`]&&"ALL"!==t.allowedGeolocations[`selectedCountry${s}`]?e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"1",label:`Region - ${s}`,"label-for":"Region"}},[e("b-form-select",{attrs:{id:"Region",options:t.regionsOptions(t.allowedGeolocations[`selectedContinent${s}`],t.allowedGeolocations[`selectedCountry${s}`],!1)},on:{change:function(e){return t.adjustMaxInstancesPossible()}},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:void 0,disabled:""}},[t._v(" -- Select to restrict Region -- ")])]},proxy:!0}],null,!0),model:{value:t.allowedGeolocations[`selectedRegion${s}`],callback:function(e){t.$set(t.allowedGeolocations,`selectedRegion${s}`,e)},expression:"allowedGeolocations[`selectedRegion${n}`]"}})],1):t._e()],1)})),e("div",{staticClass:"text-center"},[t.numberOfGeolocations>1?e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Remove Allowed Geolocation Restriction",expression:"'Remove Allowed Geolocation Restriction'",modifiers:{hover:!0,bottom:!0}},{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"m-1",attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.numberOfGeolocations=t.numberOfGeolocations-1,t.adjustMaxInstancesPossible()}}},[e("v-icon",{attrs:{name:"minus"}})],1):t._e(),t.numberOfGeolocations<5?e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Add Allowed Geolocation Restriction",expression:"'Add Allowed Geolocation Restriction'",modifiers:{hover:!0,bottom:!0}},{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"m-1",attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.numberOfGeolocations=t.numberOfGeolocations+1,t.adjustMaxInstancesPossible()}}},[e("v-icon",{attrs:{name:"plus"}})],1):t._e()],1)],2):t._e(),e("br"),e("br"),t.appUpdateSpecification.version>=5?e("div",[e("h4",[t._v("Forbidden Geolocation")]),t._l(t.numberOfNegativeGeolocations,(function(s){return e("div",{key:`${s}posB`},[e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"1",label:`Continent - ${s}`,"label-for":"Continent"}},[e("b-form-select",{attrs:{id:"Continent",options:t.continentsOptions(!0)},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:void 0,disabled:""}},[t._v(" -- Select to ban Continent -- ")])]},proxy:!0}],null,!0),model:{value:t.forbiddenGeolocations[`selectedContinent${s}`],callback:function(e){t.$set(t.forbiddenGeolocations,`selectedContinent${s}`,e)},expression:"forbiddenGeolocations[`selectedContinent${n}`]"}})],1),t.forbiddenGeolocations[`selectedContinent${s}`]&&"NONE"!==t.forbiddenGeolocations[`selectedContinent${s}`]?e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"1",label:`Country - ${s}`,"label-for":"Country"}},[e("b-form-select",{attrs:{id:"country",options:t.countriesOptions(t.forbiddenGeolocations[`selectedContinent${s}`],!0)},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:void 0,disabled:""}},[t._v(" -- Select to ban Country -- ")])]},proxy:!0}],null,!0),model:{value:t.forbiddenGeolocations[`selectedCountry${s}`],callback:function(e){t.$set(t.forbiddenGeolocations,`selectedCountry${s}`,e)},expression:"forbiddenGeolocations[`selectedCountry${n}`]"}})],1):t._e(),t.forbiddenGeolocations[`selectedContinent${s}`]&&"NONE"!==t.forbiddenGeolocations[`selectedContinent${s}`]&&t.forbiddenGeolocations[`selectedCountry${s}`]&&"ALL"!==t.forbiddenGeolocations[`selectedCountry${s}`]?e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"1",label:`Region - ${s}`,"label-for":"Region"}},[e("b-form-select",{attrs:{id:"Region",options:t.regionsOptions(t.forbiddenGeolocations[`selectedContinent${s}`],t.forbiddenGeolocations[`selectedCountry${s}`],!0)},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:void 0,disabled:""}},[t._v(" -- Select to ban Region -- ")])]},proxy:!0}],null,!0),model:{value:t.forbiddenGeolocations[`selectedRegion${s}`],callback:function(e){t.$set(t.forbiddenGeolocations,`selectedRegion${s}`,e)},expression:"forbiddenGeolocations[`selectedRegion${n}`]"}})],1):t._e()],1)})),e("div",{staticClass:"text-center"},[t.numberOfNegativeGeolocations>1?e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Remove Forbidden Geolocation Restriction",expression:"'Remove Forbidden Geolocation Restriction'",modifiers:{hover:!0,bottom:!0}},{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"m-1",attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.numberOfNegativeGeolocations=t.numberOfNegativeGeolocations-1}}},[e("v-icon",{attrs:{name:"minus"}})],1):t._e(),t.numberOfNegativeGeolocations<5?e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Add Forbidden Geolocation Restriction",expression:"'Add Forbidden Geolocation Restriction'",modifiers:{hover:!0,bottom:!0}},{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"m-1",attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.numberOfNegativeGeolocations=t.numberOfNegativeGeolocations+1}}},[e("v-icon",{attrs:{name:"plus"}})],1):t._e()],1)],2):t._e(),e("br"),t.appUpdateSpecification.version>=3?e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"Instances","label-for":"instances"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.appUpdateSpecification.instances)+" ")]),e("b-form-input",{attrs:{id:"instances",placeholder:"Minimum number of application instances to be spawned",type:"range",min:"3",max:t.maxInstances,step:"1"},model:{value:t.appUpdateSpecification.instances,callback:function(e){t.$set(t.appUpdateSpecification,"instances",e)},expression:"appUpdateSpecification.instances"}})],1):t._e(),e("br"),t.appUpdateSpecification.version>=6?e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"Period","label-for":"period"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.getExpireLabel||(t.appUpdateSpecification.expire?`${t.appUpdateSpecification.expire} blocks`:"1 month"))+" ")]),e("b-form-input",{attrs:{id:"period",placeholder:"How long an application will live on Flux network",type:"range",min:0,max:5,step:1},model:{value:t.expirePosition,callback:function(e){t.expirePosition=e},expression:"expirePosition"}})],1):t._e(),e("br"),t.appUpdateSpecification.version>=7?e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-form-label"},[t._v(" Static IP "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Select if your application strictly requires static IP address",expression:"'Select if your application strictly requires static IP address'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-checkbox",{staticClass:"custom-control-primary inline",attrs:{id:"staticip",switch:""},model:{value:t.appUpdateSpecification.staticip,callback:function(e){t.$set(t.appUpdateSpecification,"staticip",e)},expression:"appUpdateSpecification.staticip"}})],1)]):t._e(),e("br"),t.appUpdateSpecification.version>=7?e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-form-label"},[t._v(" Enterprise Application "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Select if your application requires private image, secrets or if you want to target specific nodes on which application can run. Geolocation targetting is not possible in this case.",expression:"'Select if your application requires private image, secrets or if you want to target specific nodes on which application can run. Geolocation targetting is not possible in this case.'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-checkbox",{staticClass:"custom-control-primary inline",attrs:{id:"enterpriseapp",switch:""},model:{value:t.isPrivateApp,callback:function(e){t.isPrivateApp=e},expression:"isPrivateApp"}})],1)]):t._e()],1)],1)],1),t._l(t.appUpdateSpecification.compose,(function(s,a){return e("b-card",{key:a},[e("b-card-title",[t._v(" Component "+t._s(s.name)+" ")]),e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"12",xl:"6"}},[e("b-card",[e("b-card-title",[t._v(" General ")]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Name "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Name of Application Component",expression:"'Name of Application Component'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`repo-${s.name}_${t.appUpdateSpecification.name}`,placeholder:"Component name",readonly:""},model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"component.name"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Description "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Description of Application Component",expression:"'Description of Application Component'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`repo-${s.name}_${t.appUpdateSpecification.name}`,placeholder:"Component description"},model:{value:s.description,callback:function(e){t.$set(s,"description",e)},expression:"component.description"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Repository "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Docker image namespace/repository:tag for component",expression:"'Docker image namespace/repository:tag for component'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`repo-${s.name}_${t.appUpdateSpecification.name}`,placeholder:"Docker image namespace/repository:tag"},model:{value:s.repotag,callback:function(e){t.$set(s,"repotag",e)},expression:"component.repotag"}})],1)]),t.appUpdateSpecification.version>=7&&t.isPrivateApp?e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Repository Authentication "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Docker image authentication for private images in the format of username:apikey. This field will be encrypted and accessible to selected enterprise nodes only.",expression:"'Docker image authentication for private images in the format of username:apikey. This field will be encrypted and accessible to selected enterprise nodes only.'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`repoauth-${s.name}_${t.appUpdateSpecification.name}`,placeholder:"Docker authentication username:apikey"},model:{value:s.repoauth,callback:function(e){t.$set(s,"repoauth",e)},expression:"component.repoauth"}})],1)]):t._e(),e("br"),e("b-card-title",[t._v(" Connectivity ")]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Ports "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of Ports on which application will be available",expression:"'Array of Ports on which application will be available'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`ports-${s.name}_${t.appUpdateSpecification.name}`},model:{value:s.ports,callback:function(e){t.$set(s,"ports",e)},expression:"component.ports"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Domains "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of strings of Domains managed by Flux Domain Manager (FDM). Length must correspond to available ports. Use empty strings for no domains",expression:"'Array of strings of Domains managed by Flux Domain Manager (FDM). Length must correspond to available ports. Use empty strings for no domains'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`domains-${s.name}_${t.appUpdateSpecification.name}`},model:{value:s.domains,callback:function(e){t.$set(s,"domains",e)},expression:"component.domains"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Cont. Ports "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Container Ports - Array of ports which your container has",expression:"'Container Ports - Array of ports which your container has'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`containerPorts-${s.name}_${t.appUpdateSpecification.name}`},model:{value:s.containerPorts,callback:function(e){t.$set(s,"containerPorts",e)},expression:"component.containerPorts"}})],1)])],1)],1),e("b-col",{attrs:{xs:"12",xl:"6"}},[e("b-card",[e("b-card-title",[t._v(" Environment ")]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Environment "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of strings of Environmental Parameters",expression:"'Array of strings of Environmental Parameters'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`environmentParameters-${s.name}_${t.appUpdateSpecification.name}`},model:{value:s.environmentParameters,callback:function(e){t.$set(s,"environmentParameters",e)},expression:"component.environmentParameters"}})],1),e("div",{staticClass:"col-0"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Uploads Enviornment to Flux Storage. Environment parameters will be replaced with a link to Flux Storage instead. This increases maximum allowed size of Env. parameters while adding basic privacy - instead of parameters, link to Flux Storage will be visible.",expression:"\n                        'Uploads Enviornment to Flux Storage. Environment parameters will be replaced with a link to Flux Storage instead. This increases maximum allowed size of Env. parameters while adding basic privacy - instead of parameters, link to Flux Storage will be visible.'\n                      ",modifiers:{hover:!0,top:!0}}],attrs:{id:"upload-env",variant:"outline-primary"}},[e("v-icon",{attrs:{name:"cloud-upload-alt"}})],1),e("confirm-dialog",{attrs:{target:"upload-env","confirm-button":"Upload Environment Parameters",width:600},on:{confirm:function(e){return t.uploadEnvToFluxStorage(a)}}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Commands "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of strings of Commands",expression:"'Array of strings of Commands'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`commands-${s.name}_${t.appUpdateSpecification.name}`},model:{value:s.commands,callback:function(e){t.$set(s,"commands",e)},expression:"component.commands"}})],1),e("div",{staticClass:"col-0"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Uploads Commands to Flux Storage. Commands will be replaced with a link to Flux Storage instead. This increases maximum allowed size of Commands while adding basic privacy - instead of commands, link to Flux Storage will be visible.",expression:"'Uploads Commands to Flux Storage. Commands will be replaced with a link to Flux Storage instead. This increases maximum allowed size of Commands while adding basic privacy - instead of commands, link to Flux Storage will be visible.'",modifiers:{hover:!0,top:!0}}],attrs:{id:"upload-cmd",variant:"outline-primary"}},[e("v-icon",{attrs:{name:"cloud-upload-alt"}})],1),e("confirm-dialog",{attrs:{target:"upload-cmd","confirm-button":"Upload Commands",width:600},on:{confirm:function(e){return t.uploadCmdToFluxStorage(a)}}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Cont. Data "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Data folder that is shared by application to App volume. Prepend with r: for synced data between instances. Eg. r:/data",expression:"'Data folder that is shared by application to App volume. Prepend with r: for synced data between instances. Eg. r:/data'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`containerData-${s.name}_${t.appUpdateSpecification.name}`},model:{value:s.containerData,callback:function(e){t.$set(s,"containerData",e)},expression:"component.containerData"}})],1)]),t.appUpdateSpecification.version>=7&&t.isPrivateApp?e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Secrets "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of strings of Secret Environmental Parameters. This will be encrypted and accessible to selected Enterprise Nodes only",expression:"'Array of strings of Secret Environmental Parameters. This will be encrypted and accessible to selected Enterprise Nodes only'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:`secrets-${s.name}_${t.appUpdateSpecification.name}`,placeholder:"[]"},model:{value:s.secrets,callback:function(e){t.$set(s,"secrets",e)},expression:"component.secrets"}})],1)]):t._e(),e("br"),e("b-card-title",[t._v(" Resources "),e("h6",{staticClass:"inline text-small"},[t._v(" Tiered: "),e("b-form-checkbox",{staticClass:"custom-control-primary inline",attrs:{id:"tiered",switch:""},model:{value:s.tiered,callback:function(e){t.$set(s,"tiered",e)},expression:"component.tiered"}})],1)]),s.tiered?t._e():e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"2",label:"CPU","label-for":"cpu"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(s.cpu)+" ")]),e("b-form-input",{attrs:{id:`cpu-${s.name}_${t.appUpdateSpecification.name}`,placeholder:"CPU cores to use by default",type:"range",min:"0.1",max:"15",step:"0.1"},model:{value:s.cpu,callback:function(e){t.$set(s,"cpu",e)},expression:"component.cpu"}})],1),s.tiered?t._e():e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"2",label:"RAM","label-for":"ram"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(s.ram)+" ")]),e("b-form-input",{attrs:{id:`ram-${s.name}_${t.appUpdateSpecification.name}`,placeholder:"RAM in MB value to use by default",type:"range",min:"100",max:"59000",step:"100"},model:{value:s.ram,callback:function(e){t.$set(s,"ram",e)},expression:"component.ram"}})],1),s.tiered?t._e():e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"2",label:"SSD","label-for":"ssd"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(s.hdd)+" ")]),e("b-form-input",{attrs:{id:`ssd-${s.name}_${t.appUpdateSpecification.name}`,placeholder:"SSD in GB value to use by default",type:"range",min:"1",max:"820",step:"1"},model:{value:s.hdd,callback:function(e){t.$set(s,"hdd",e)},expression:"component.hdd"}})],1)],1)],1)],1),s.tiered?e("b-row",[e("b-col",{attrs:{xs:"12",md:"6",lg:"4"}},[e("b-card",{attrs:{title:"Cumulus"}},[e("div",[t._v(" CPU: "+t._s(s.cpubasic)+" ")]),e("b-form-input",{attrs:{type:"range",min:"0.1",max:"3",step:"0.1"},model:{value:s.cpubasic,callback:function(e){t.$set(s,"cpubasic",e)},expression:"component.cpubasic"}}),e("div",[t._v(" RAM: "+t._s(s.rambasic)+" ")]),e("b-form-input",{attrs:{type:"range",min:"100",max:"5000",step:"100"},model:{value:s.rambasic,callback:function(e){t.$set(s,"rambasic",e)},expression:"component.rambasic"}}),e("div",[t._v(" SSD: "+t._s(s.hddbasic)+" ")]),e("b-form-input",{attrs:{type:"range",min:"1",max:"180",step:"1"},model:{value:s.hddbasic,callback:function(e){t.$set(s,"hddbasic",e)},expression:"component.hddbasic"}})],1)],1),e("b-col",{attrs:{xs:"12",md:"6",lg:"4"}},[e("b-card",{attrs:{title:"Nimbus"}},[e("div",[t._v(" CPU: "+t._s(s.cpusuper)+" ")]),e("b-form-input",{attrs:{type:"range",min:"0.1",max:"7",step:"0.1"},model:{value:s.cpusuper,callback:function(e){t.$set(s,"cpusuper",e)},expression:"component.cpusuper"}}),e("div",[t._v(" RAM: "+t._s(s.ramsuper)+" ")]),e("b-form-input",{attrs:{type:"range",min:"100",max:"28000",step:"100"},model:{value:s.ramsuper,callback:function(e){t.$set(s,"ramsuper",e)},expression:"component.ramsuper"}}),e("div",[t._v(" SSD: "+t._s(s.hddsuper)+" ")]),e("b-form-input",{attrs:{type:"range",min:"1",max:"400",step:"1"},model:{value:s.hddsuper,callback:function(e){t.$set(s,"hddsuper",e)},expression:"component.hddsuper"}})],1)],1),e("b-col",{attrs:{xs:"12",lg:"4"}},[e("b-card",{attrs:{title:"Stratus"}},[e("div",[t._v(" CPU: "+t._s(s.cpubamf)+" ")]),e("b-form-input",{attrs:{type:"range",min:"0.1",max:"15",step:"0.1"},model:{value:s.cpubamf,callback:function(e){t.$set(s,"cpubamf",e)},expression:"component.cpubamf"}}),e("div",[t._v(" RAM: "+t._s(s.rambamf)+" ")]),e("b-form-input",{attrs:{type:"range",min:"100",max:"59000",step:"100"},model:{value:s.rambamf,callback:function(e){t.$set(s,"rambamf",e)},expression:"component.rambamf"}}),e("div",[t._v(" SSD: "+t._s(s.hddbamf)+" ")]),e("b-form-input",{attrs:{type:"range",min:"1",max:"820",step:"1"},model:{value:s.hddbamf,callback:function(e){t.$set(s,"hddbamf",e)},expression:"component.hddbamf"}})],1)],1)],1):t._e()],1)})),t.appUpdateSpecification.version>=7&&t.isPrivateApp?e("b-card",{attrs:{title:"Enterprise Nodes"}},[t._v(" Only these selected enterprise nodes will be able to run your application and are used for encryption. Only these nodes are able to access your private image and secrets."),e("br"),t._v(" Changing the node list after the message is computed and encrypted will result in a failure to run. Secrets and Repository Authentication would need to be adjusted again."),e("br"),t._v(" The score determines how reputable a node and node operator are. The higher the score, the higher the reputation on the network."),e("br"),t._v(" Secrets and Repository Authentication need to be set again if this node list changes."),e("br"),t._v(" The more nodes can run your application, the more stable it is. On the other hand, more nodes will have access to your private data!"),e("br"),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"4",sm:"4"}},[e("b-form-group",{staticClass:"mb-0"},[e("label",{staticClass:"d-inline-block text-left mr-50"},[t._v("Per page")]),e("b-form-select",{staticClass:"w-50",attrs:{id:"perPageSelect",size:"sm",options:t.entNodesTable.pageOptions},model:{value:t.entNodesTable.perPage,callback:function(e){t.$set(t.entNodesTable,"perPage",e)},expression:"entNodesTable.perPage"}})],1)],1),e("b-col",{staticClass:"my-1",attrs:{md:"8"}},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"1","label-align-sm":"right","label-for":"filterInput"}},[e("b-input-group",{attrs:{size:"sm"}},[e("b-form-input",{attrs:{id:"filterInput",type:"search",placeholder:"Type to Search"},model:{value:t.entNodesTable.filter,callback:function(e){t.$set(t.entNodesTable,"filter",e)},expression:"entNodesTable.filter"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.entNodesTable.filter},on:{click:function(e){t.entNodesTable.filter=""}}},[t._v(" Clear ")])],1)],1)],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-table",{staticClass:"app-enterprise-nodes-table",attrs:{striped:"",hover:"",responsive:"","per-page":t.entNodesTable.perPage,"current-page":t.entNodesTable.currentPage,items:t.selectedEnterpriseNodes,fields:t.entNodesTable.fields,"sort-by":t.entNodesTable.sortBy,"sort-desc":t.entNodesTable.sortDesc,"sort-direction":t.entNodesTable.sortDirection,filter:t.entNodesTable.filter,"filter-included-fields":t.entNodesTable.filterOn,"show-empty":"","empty-text":"No Enterprise Nodes selected"},on:{"update:sortBy":function(e){return t.$set(t.entNodesTable,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.entNodesTable,"sortBy",e)},"update:sortDesc":function(e){return t.$set(t.entNodesTable,"sortDesc",e)},"update:sort-desc":function(e){return t.$set(t.entNodesTable,"sortDesc",e)}},scopedSlots:t._u([{key:"cell(show_details)",fn:function(s){return[e("a",{on:{click:s.toggleDetails}},[s.detailsShowing?t._e():e("v-icon",{attrs:{name:"chevron-down"}}),s.detailsShowing?e("v-icon",{attrs:{name:"chevron-up"}}):t._e()],1)]}},{key:"row-details",fn:function(s){return[e("b-card",{staticClass:"mx-2"},[s.item.ip?e("list-entry",{attrs:{title:"IP Address",data:s.item.ip}}):t._e(),e("list-entry",{attrs:{title:"Public Key",data:s.item.pubkey}}),e("list-entry",{attrs:{title:"Node Address",data:s.item.payment_address}}),e("list-entry",{attrs:{title:"Collateral",data:`${s.item.txhash}:${s.item.outidx}`}}),e("list-entry",{attrs:{title:"Tier",data:s.item.tier}}),e("list-entry",{attrs:{title:"Overall Score",data:s.item.score.toString()}}),e("list-entry",{attrs:{title:"Collateral Score",data:s.item.collateralPoints.toString()}}),e("list-entry",{attrs:{title:"Maturity Score",data:s.item.maturityPoints.toString()}}),e("list-entry",{attrs:{title:"Public Key Score",data:s.item.pubKeyPoints.toString()}}),e("list-entry",{attrs:{title:"Enterprise Apps Assigned",data:s.item.enterpriseApps.toString()}}),e("div",[e("b-button",{staticClass:"mr-0",attrs:{size:"sm",variant:"primary"},on:{click:function(e){t.openNodeFluxOS(s.item.ip.split(":")[0],s.item.ip.split(":")[1]?+s.item.ip.split(":")[1]-1:16126)}}},[t._v(" Visit FluxNode ")])],1)],1)]}},{key:"cell(ip)",fn:function(e){return[t._v(" "+t._s(e.item.ip)+" ")]}},{key:"cell(payment_address)",fn:function(e){return[t._v(" "+t._s(e.item.payment_address.slice(0,8))+"..."+t._s(e.item.payment_address.slice(e.item.payment_address.length-8,e.item.payment_address.length))+" ")]}},{key:"cell(tier)",fn:function(e){return[t._v(" "+t._s(e.item.tier)+" ")]}},{key:"cell(score)",fn:function(e){return[t._v(" "+t._s(e.item.score)+" ")]}},{key:"cell(actions)",fn:function(s){return[e("b-button",{staticClass:"mr-1 mb-1",attrs:{id:`remove-${s.item.ip}`,size:"sm",variant:"danger"}},[t._v(" Remove ")]),e("confirm-dialog",{attrs:{target:`remove-${s.item.ip}`,"confirm-button":"Remove FluxNode"},on:{confirm:function(e){return t.removeFluxNode(s.item.ip)}}}),e("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",variant:"primary"},on:{click:function(e){t.openNodeFluxOS(s.item.ip.split(":")[0],s.item.ip.split(":")[1]?+s.item.ip.split(":")[1]-1:16126)}}},[t._v(" Visit ")])]}}],null,!1,557002130)})],1),e("b-col",{attrs:{cols:"12"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.selectedEnterpriseNodes.length,"per-page":t.entNodesTable.perPage,align:"center",size:"sm"},model:{value:t.entNodesTable.currentPage,callback:function(e){t.$set(t.entNodesTable,"currentPage",e)},expression:"entNodesTable.currentPage"}}),e("span",{staticClass:"table-total"},[t._v("Total: "+t._s(t.selectedEnterpriseNodes.length))])],1)],1),e("br"),e("br"),e("div",{staticClass:"text-center"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-2 mr-2",attrs:{variant:"primary","aria-label":"Auto Select Enterprise Nodes"},on:{click:t.autoSelectNodes}},[t._v(" Auto Select Enterprise Nodes ")]),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-2 mr-2",attrs:{variant:"primary","aria-label":"Choose Enterprise Nodes"},on:{click:function(e){t.chooseEnterpriseDialog=!0}}},[t._v(" Choose Enterprise Nodes ")])],1)],1):t._e()],2):e("div",[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"12",xl:"6"}},[e("b-card",{attrs:{title:"Details"}},[e("b-form-group",{attrs:{"label-cols":"2",label:"Version","label-for":"version"}},[e("b-form-input",{attrs:{id:"version",placeholder:t.appUpdateSpecification.version.toString(),readonly:""},model:{value:t.appUpdateSpecification.version,callback:function(e){t.$set(t.appUpdateSpecification,"version",e)},expression:"appUpdateSpecification.version"}})],1),e("b-form-group",{attrs:{"label-cols":"2",label:"Name","label-for":"name"}},[e("b-form-input",{attrs:{id:"name",placeholder:"App Name",readonly:""},model:{value:t.appUpdateSpecification.name,callback:function(e){t.$set(t.appUpdateSpecification,"name",e)},expression:"appUpdateSpecification.name"}})],1),e("b-form-group",{attrs:{"label-cols":"2",label:"Desc.","label-for":"desc"}},[e("b-form-textarea",{attrs:{id:"desc",placeholder:"Description",rows:"3"},model:{value:t.appUpdateSpecification.description,callback:function(e){t.$set(t.appUpdateSpecification,"description",e)},expression:"appUpdateSpecification.description"}})],1),e("b-form-group",{attrs:{"label-cols":"2",label:"Repo","label-for":"repo"}},[e("b-form-input",{attrs:{id:"repo",placeholder:"Docker image namespace/repository:tag",readonly:""},model:{value:t.appUpdateSpecification.repotag,callback:function(e){t.$set(t.appUpdateSpecification,"repotag",e)},expression:"appUpdateSpecification.repotag"}})],1),e("b-form-group",{attrs:{"label-cols":"2",label:"Owner","label-for":"owner"}},[e("b-form-input",{attrs:{id:"owner",placeholder:"ZelID of Application Owner"},model:{value:t.appUpdateSpecification.owner,callback:function(e){t.$set(t.appUpdateSpecification,"owner",e)},expression:"appUpdateSpecification.owner"}})],1),e("br"),t.appUpdateSpecification.version>=3?e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"Instances","label-for":"instances"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.appUpdateSpecification.instances)+" ")]),e("b-form-input",{attrs:{id:"instances",placeholder:"Minimum number of application instances to be spawned",type:"range",min:"3",max:t.maxInstances,step:"1"},model:{value:t.appUpdateSpecification.instances,callback:function(e){t.$set(t.appUpdateSpecification,"instances",e)},expression:"appUpdateSpecification.instances"}})],1):t._e(),e("br"),t.appUpdateSpecification.version>=6?e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"Period","label-for":"period"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.getExpireLabel||(t.appUpdateSpecification.expire?`${t.appUpdateSpecification.expire} blocks`:"1 month"))+" ")]),e("b-form-input",{attrs:{id:"period",placeholder:"How long an application will live on Flux network",type:"range",min:0,max:5,step:1},model:{value:t.expirePosition,callback:function(e){t.expirePosition=e},expression:"expirePosition"}})],1):t._e()],1)],1),e("b-col",{attrs:{xs:"12",xl:"6"}},[e("b-card",{attrs:{title:"Environment"}},[e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Ports "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of Ports on which application will be available",expression:"'Array of Ports on which application will be available'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"ports"},model:{value:t.appUpdateSpecification.ports,callback:function(e){t.$set(t.appUpdateSpecification,"ports",e)},expression:"appUpdateSpecification.ports"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Domains "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of strings of Domains managed by Flux Domain Manager (FDM). Length must correspond to available ports. Use empty strings for no domains",expression:"'Array of strings of Domains managed by Flux Domain Manager (FDM). Length must correspond to available ports. Use empty strings for no domains'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"domains"},model:{value:t.appUpdateSpecification.domains,callback:function(e){t.$set(t.appUpdateSpecification,"domains",e)},expression:"appUpdateSpecification.domains"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Environment "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of strings of Environmental Parameters",expression:"'Array of strings of Environmental Parameters'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"environmentParameters"},model:{value:t.appUpdateSpecification.enviromentParameters,callback:function(e){t.$set(t.appUpdateSpecification,"enviromentParameters",e)},expression:"appUpdateSpecification.enviromentParameters"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Commands "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Array of strings of Commands",expression:"'Array of strings of Commands'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"commands"},model:{value:t.appUpdateSpecification.commands,callback:function(e){t.$set(t.appUpdateSpecification,"commands",e)},expression:"appUpdateSpecification.commands"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Cont. Ports "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Container Ports - Array of ports which your container has",expression:"'Container Ports - Array of ports which your container has'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"containerPorts"},model:{value:t.appUpdateSpecification.containerPorts,callback:function(e){t.$set(t.appUpdateSpecification,"containerPorts",e)},expression:"appUpdateSpecification.containerPorts"}})],1)]),e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Cont. Data "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Data folder that is shared by application to App volume. Prepend with r: for synced data between instances. Eg. r:/data",expression:"'Data folder that is shared by application to App volume. Prepend with r: for synced data between instances. Eg. r:/data'",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"containerData"},model:{value:t.appUpdateSpecification.containerData,callback:function(e){t.$set(t.appUpdateSpecification,"containerData",e)},expression:"appUpdateSpecification.containerData"}})],1)])])],1)],1),e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"12"}},[e("b-card",[e("b-card-title",[t._v(" Resources "),e("h6",{staticClass:"inline etext-small"},[t._v(" Tiered: "),e("b-form-checkbox",{staticClass:"custom-control-primary inline",attrs:{id:"tiered",switch:""},model:{value:t.appUpdateSpecification.tiered,callback:function(e){t.$set(t.appUpdateSpecification,"tiered",e)},expression:"appUpdateSpecification.tiered"}})],1)]),t.appUpdateSpecification.tiered?t._e():e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"CPU","label-for":"cpu"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.appUpdateSpecification.cpu)+" ")]),e("b-form-input",{attrs:{id:"cpu",placeholder:"CPU cores to use by default",type:"range",min:"0.1",max:"15",step:"0.1"},model:{value:t.appUpdateSpecification.cpu,callback:function(e){t.$set(t.appUpdateSpecification,"cpu",e)},expression:"appUpdateSpecification.cpu"}})],1),t.appUpdateSpecification.tiered?t._e():e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"RAM","label-for":"ram"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.appUpdateSpecification.ram)+" ")]),e("b-form-input",{attrs:{id:"ram",placeholder:"RAM in MB value to use by default",type:"range",min:"100",max:"59000",step:"100"},model:{value:t.appUpdateSpecification.ram,callback:function(e){t.$set(t.appUpdateSpecification,"ram",e)},expression:"appUpdateSpecification.ram"}})],1),t.appUpdateSpecification.tiered?t._e():e("b-form-group",{attrs:{"label-cols":"2","label-cols-lg":"1",label:"SSD","label-for":"ssd"}},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.appUpdateSpecification.hdd)+" ")]),e("b-form-input",{attrs:{id:"ssd",placeholder:"SSD in GB value to use by default",type:"range",min:"1",max:"820",step:"1"},model:{value:t.appUpdateSpecification.hdd,callback:function(e){t.$set(t.appUpdateSpecification,"hdd",e)},expression:"appUpdateSpecification.hdd"}})],1)],1)],1)],1),t.appUpdateSpecification.tiered?e("b-row",[e("b-col",{attrs:{xs:"12",md:"6",lg:"4"}},[e("b-card",{attrs:{title:"Cumulus"}},[e("div",[t._v(" CPU: "+t._s(t.appUpdateSpecification.cpubasic)+" ")]),e("b-form-input",{attrs:{type:"range",min:"0.1",max:"3",step:"0.1"},model:{value:t.appUpdateSpecification.cpubasic,callback:function(e){t.$set(t.appUpdateSpecification,"cpubasic",e)},expression:"appUpdateSpecification.cpubasic"}}),e("div",[t._v(" RAM: "+t._s(t.appUpdateSpecification.rambasic)+" ")]),e("b-form-input",{attrs:{type:"range",min:"100",max:"5000",step:"100"},model:{value:t.appUpdateSpecification.rambasic,callback:function(e){t.$set(t.appUpdateSpecification,"rambasic",e)},expression:"appUpdateSpecification.rambasic"}}),e("div",[t._v(" SSD: "+t._s(t.appUpdateSpecification.hddbasic)+" ")]),e("b-form-input",{attrs:{type:"range",min:"1",max:"180",step:"1"},model:{value:t.appUpdateSpecification.hddbasic,callback:function(e){t.$set(t.appUpdateSpecification,"hddbasic",e)},expression:"appUpdateSpecification.hddbasic"}})],1)],1),e("b-col",{attrs:{xs:"12",md:"6",lg:"4"}},[e("b-card",{attrs:{title:"Nimbus"}},[e("div",[t._v(" CPU: "+t._s(t.appUpdateSpecification.cpusuper)+" ")]),e("b-form-input",{attrs:{type:"range",min:"0.1",max:"7",step:"0.1"},model:{value:t.appUpdateSpecification.cpusuper,callback:function(e){t.$set(t.appUpdateSpecification,"cpusuper",e)},expression:"appUpdateSpecification.cpusuper"}}),e("div",[t._v(" RAM: "+t._s(t.appUpdateSpecification.ramsuper)+" ")]),e("b-form-input",{attrs:{type:"range",min:"100",max:"28000",step:"100"},model:{value:t.appUpdateSpecification.ramsuper,callback:function(e){t.$set(t.appUpdateSpecification,"ramsuper",e)},expression:"appUpdateSpecification.ramsuper"}}),e("div",[t._v(" SSD: "+t._s(t.appUpdateSpecification.hddsuper)+" ")]),e("b-form-input",{attrs:{type:"range",min:"1",max:"400",step:"1"},model:{value:t.appUpdateSpecification.hddsuper,callback:function(e){t.$set(t.appUpdateSpecification,"hddsuper",e)},expression:"appUpdateSpecification.hddsuper"}})],1)],1),e("b-col",{attrs:{xs:"12",lg:"4"}},[e("b-card",{attrs:{title:"Stratus"}},[e("div",[t._v(" CPU: "+t._s(t.appUpdateSpecification.cpubamf)+" ")]),e("b-form-input",{attrs:{type:"range",min:"0.1",max:"15",step:"0.1"},model:{value:t.appUpdateSpecification.cpubamf,callback:function(e){t.$set(t.appUpdateSpecification,"cpubamf",e)},expression:"appUpdateSpecification.cpubamf"}}),e("div",[t._v(" RAM: "+t._s(t.appUpdateSpecification.rambamf)+" ")]),e("b-form-input",{attrs:{type:"range",min:"100",max:"59000",step:"100"},model:{value:t.appUpdateSpecification.rambamf,callback:function(e){t.$set(t.appUpdateSpecification,"rambamf",e)},expression:"appUpdateSpecification.rambamf"}}),e("div",[t._v(" SSD: "+t._s(t.appUpdateSpecification.hddbamf)+" ")]),e("b-form-input",{attrs:{type:"range",min:"1",max:"820",step:"1"},model:{value:t.appUpdateSpecification.hddbamf,callback:function(e){t.$set(t.appUpdateSpecification,"hddbamf",e)},expression:"appUpdateSpecification.hddbamf"}})],1)],1)],1):t._e()],1),e("div",{staticClass:"flex"},[e("b-form-checkbox",{staticClass:"custom-control-primary inline",attrs:{id:"tos",switch:""},model:{value:t.tosAgreed,callback:function(e){t.tosAgreed=e},expression:"tosAgreed"}}),t._v(" I agree with "),e("a",{attrs:{href:"https://cdn.runonflux.io/Flux_Terms_of_Service.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Terms of Service ")]),e("br"),e("br")],1),e("div",[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-2",attrs:{variant:"success","aria-label":"Compute Update Message"},on:{click:t.checkFluxUpdateSpecificationsAndFormatMessage}},[t._v(" Compute Update Message ")])],1),t.dataToSign?e("div",[e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"2",label:"Update Message","label-for":"updatemessage"}},[e("b-form-textarea",{attrs:{id:"updatemessage",rows:"6",readonly:""},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}})],1),e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"2",label:"Signature","label-for":"updatesignature"}},[e("b-form-input",{attrs:{id:"updatesignature"},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1),e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6",lg:"8"}},[e("b-card",[e("h4",[t._v(" Note: Data has to be signed by the last application owner ")]),e("b-card-text",[t._v(" Price: "+t._s(t.appPricePerSpecs)+" FLUX ")]),e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"my-1",attrs:{variant:"success","aria-label":"Update Flux App"},on:{click:t.update}},[t._v(" Update Flux App ")])],1)],1),e("b-col",{attrs:{xs:"6",lg:"4"}},[e("b-card",{attrs:{title:"Sign with"}},[e("div",{staticClass:"loginRow"},[e("a",{attrs:{href:`zel:?action=sign&message=${t.dataToSign}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${t.callbackValue}`},on:{click:t.initiateSignWSUpdate}},[e("img",{staticClass:"zelidLogin",attrs:{src:s(94452),alt:"Zel ID",height:"100%",width:"100%"}})]),e("a",{on:{click:t.initSSP}},[e("img",{staticClass:"sspLogin",attrs:{src:s(56070),alt:"SSP",height:"100%",width:"100%"}})])]),e("div",{staticClass:"loginRow"},[e("a",{on:{click:t.initWalletConnect}},[e("img",{staticClass:"walletconnectLogin",attrs:{src:s(47622),alt:"WalletConnect",height:"100%",width:"100%"}})]),e("a",{on:{click:t.initMetamask}},[e("img",{staticClass:"metamaskLogin",attrs:{src:s(28125),alt:"Metamask",height:"100%",width:"100%"}})])])])],1)],1),t.updateHash?e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6",lg:"8"}},[e("b-card",[e("b-card-text",[t._v(" To finish the application update, please make a transaction of "+t._s(t.appPricePerSpecs)+" FLUX to address '"+t._s(t.deploymentAddress)+"' with the following message: '"+t._s(t.updateHash)+"' ")]),e("br"),t._v(" The transaction must be mined by "+t._s(new Date(t.validTill).toLocaleString("en-GB",t.timeoptions.shortDate))+" "),e("br"),e("br"),t._v(" The application will be subscribed until "+t._s(new Date(t.subscribedTill).toLocaleString("en-GB",t.timeoptions.shortDate))+" ")],1)],1),e("b-col",{attrs:{xs:"6",lg:"4"}},[e("b-card",{attrs:{title:"Pay with Zelcore"}},[e("a",{attrs:{href:`zel:?action=pay&coin=zelcash&address=${t.deploymentAddress}&amount=${t.appPricePerSpecs}&message=${t.updateHash}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`}},[e("img",{staticClass:"zelidLogin",attrs:{src:s(94452),alt:"Zel ID",height:"100%",width:"100%"}})])])],1)],1):t._e()],1):t._e()])],1),t.output?e("div",{staticClass:"actionCenter"},[e("br"),e("b-form-textarea",{staticClass:"mt-1",attrs:{plaintext:"","no-resize":"",rows:t.output.length,value:t.stringOutput()}})],1):t._e(),t._m(0),e("b-modal",{attrs:{title:"Select Enterprise Nodes",size:"xl",centered:"","button-size":"sm","ok-only":"","ok-title":"Done"},model:{value:t.chooseEnterpriseDialog,callback:function(e){t.chooseEnterpriseDialog=e},expression:"chooseEnterpriseDialog"}},[e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"4",sm:"4"}},[e("b-form-group",{staticClass:"mb-0"},[e("label",{staticClass:"d-inline-block text-left mr-50"},[t._v("Per page")]),e("b-form-select",{staticClass:"w-50",attrs:{id:"perPageSelect",size:"sm",options:t.entNodesSelectTable.pageOptions},model:{value:t.entNodesSelectTable.perPage,callback:function(e){t.$set(t.entNodesSelectTable,"perPage",e)},expression:"entNodesSelectTable.perPage"}})],1)],1),e("b-col",{staticClass:"my-1",attrs:{md:"8"}},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"1","label-align-sm":"right","label-for":"filterInput"}},[e("b-input-group",{attrs:{size:"sm"}},[e("b-form-input",{attrs:{id:"filterInput",type:"search",placeholder:"Type to Search"},model:{value:t.entNodesSelectTable.filter,callback:function(e){t.$set(t.entNodesSelectTable,"filter",e)},expression:"entNodesSelectTable.filter"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.entNodesSelectTable.filter},on:{click:function(e){t.entNodesSelectTable.filter=""}}},[t._v(" Clear ")])],1)],1)],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-table",{staticClass:"app-enterprise-nodes-table",attrs:{striped:"",hover:"",responsive:"","per-page":t.entNodesSelectTable.perPage,"current-page":t.entNodesSelectTable.currentPage,items:t.enterpriseNodes,fields:t.entNodesSelectTable.fields,"sort-by":t.entNodesSelectTable.sortBy,"sort-desc":t.entNodesSelectTable.sortDesc,"sort-direction":t.entNodesSelectTable.sortDirection,filter:t.entNodesSelectTable.filter,"filter-included-fields":t.entNodesSelectTable.filterOn,"show-empty":"","empty-text":"No Enterprise Nodes For Addition Found"},on:{"update:sortBy":function(e){return t.$set(t.entNodesSelectTable,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.entNodesSelectTable,"sortBy",e)},"update:sortDesc":function(e){return t.$set(t.entNodesSelectTable,"sortDesc",e)},"update:sort-desc":function(e){return t.$set(t.entNodesSelectTable,"sortDesc",e)}},scopedSlots:t._u([{key:"cell(show_details)",fn:function(s){return[e("a",{on:{click:s.toggleDetails}},[s.detailsShowing?t._e():e("v-icon",{attrs:{name:"chevron-down"}}),s.detailsShowing?e("v-icon",{attrs:{name:"chevron-up"}}):t._e()],1)]}},{key:"row-details",fn:function(s){return[e("b-card",{staticClass:"mx-2"},[e("list-entry",{attrs:{title:"IP Address",data:s.item.ip}}),e("list-entry",{attrs:{title:"Public Key",data:s.item.pubkey}}),e("list-entry",{attrs:{title:"Node Address",data:s.item.payment_address}}),e("list-entry",{attrs:{title:"Collateral",data:`${s.item.txhash}:${s.item.outidx}`}}),e("list-entry",{attrs:{title:"Tier",data:s.item.tier}}),e("list-entry",{attrs:{title:"Overall Score",data:s.item.score.toString()}}),e("list-entry",{attrs:{title:"Collateral Score",data:s.item.collateralPoints.toString()}}),e("list-entry",{attrs:{title:"Maturity Score",data:s.item.maturityPoints.toString()}}),e("list-entry",{attrs:{title:"Public Key Score",data:s.item.pubKeyPoints.toString()}}),e("list-entry",{attrs:{title:"Enterprise Apps Assigned",data:s.item.enterpriseApps.toString()}}),e("div",[e("b-button",{staticClass:"mr-0",attrs:{size:"sm",variant:"primary"},on:{click:function(e){t.openNodeFluxOS(t.locationRow.item.ip.split(":")[0],t.locationRow.item.ip.split(":")[1]?+t.locationRow.item.ip.split(":")[1]-1:16126)}}},[t._v(" Visit FluxNode ")])],1)],1)]}},{key:"cell(ip)",fn:function(e){return[t._v(" "+t._s(e.item.ip)+" ")]}},{key:"cell(payment_address)",fn:function(e){return[t._v(" "+t._s(e.item.payment_address.slice(0,8))+"..."+t._s(e.item.payment_address.slice(e.item.payment_address.length-8,e.item.payment_address.length))+" ")]}},{key:"cell(tier)",fn:function(e){return[t._v(" "+t._s(e.item.tier)+" ")]}},{key:"cell(score)",fn:function(e){return[t._v(" "+t._s(e.item.score)+" ")]}},{key:"cell(actions)",fn:function(s){return[e("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",variant:"primary"},on:{click:function(e){t.openNodeFluxOS(s.item.ip.split(":")[0],s.item.ip.split(":")[1]?+s.item.ip.split(":")[1]-1:16126)}}},[t._v(" Visit ")]),t.selectedEnterpriseNodes.find((t=>t.ip===s.item.ip))?t._e():e("b-button",{staticClass:"mr-1 mb-1",attrs:{id:`add-${s.item.ip}`,size:"sm",variant:"success"},on:{click:function(e){return t.addFluxNode(s.item.ip)}}},[t._v(" Add ")]),t.selectedEnterpriseNodes.find((t=>t.ip===s.item.ip))?e("b-button",{staticClass:"mr-1 mb-1",attrs:{id:`add-${s.item.ip}`,size:"sm",variant:"danger"},on:{click:function(e){return t.removeFluxNode(s.item.ip)}}},[t._v(" Remove ")]):t._e()]}}])})],1),e("b-col",{attrs:{cols:"12"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.entNodesSelectTable.totalRows,"per-page":t.entNodesSelectTable.perPage,align:"center",size:"sm"},model:{value:t.entNodesSelectTable.currentPage,callback:function(e){t.$set(t.entNodesSelectTable,"currentPage",e)},expression:"entNodesSelectTable.currentPage"}}),e("span",{staticClass:"table-total"},[t._v("Total: "+t._s(t.entNodesSelectTable.totalRows))])],1)],1)],1)],1)},o=[function(){var t=this,e=t._self._c;return e("div",[e("br"),t._v(" By managing an application I agree with "),e("a",{attrs:{href:"https://cdn.runonflux.io/Flux_Terms_of_Service.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Terms of Service ")])])}],n=(s(70560),s(98858),s(61318),s(33228),s(58887)),r=s(51015),l=s(21843),c=s(50725),p=s(23215),d=s(64206),u=s(49379),h=s(97794),m=s(26253),f=s(15193),g=s(1759),b=s(85961),v=s(54240),y=s(22183),_=s(12996),S=s(41011),C=s(78959),w=s(4060),x=s(22418),A=s(61081),k=s(5870),R=s(67166),$=s.n(R),N=s(20266),T=s(20629),P=s(34547),U=s(87156),B=s(51748),E=s(90699),O=s.n(E),D=s(43672),L=s(27616),I=s(38511),M=s(94145),F=s(12320),G=s(12617),z=s(67511),j=s(32993),W=s(12286);const V=Object.create(null);V["open"]="0",V["close"]="1",V["ping"]="2",V["pong"]="3",V["message"]="4",V["upgrade"]="5",V["noop"]="6";const q=Object.create(null);Object.keys(V).forEach((t=>{q[V[t]]=t}));const H={type:"error",data:"parser error"},Z="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),K="function"===typeof ArrayBuffer,J=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Y=({type:t,data:e},s,a)=>Z&&e instanceof Blob?s?a(e):X(e,a):K&&(e instanceof ArrayBuffer||J(e))?s?a(e):X(new Blob([e]),a):a(V[t]+(e||"")),X=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+(t||""))},s.readAsDataURL(t)};function Q(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let tt;function et(t,e){return Z&&t.data instanceof Blob?t.data.arrayBuffer().then(Q).then(e):K&&(t.data instanceof ArrayBuffer||J(t.data))?e(Q(t.data)):void Y(t,!1,(t=>{tt||(tt=new TextEncoder),e(tt.encode(t))}))}const st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",at="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Qe=0;Qe<st.length;Qe++)at[st.charCodeAt(Qe)]=Qe;const it=t=>{let e,s,a,i,o,n=.75*t.length,r=t.length,l=0;"="===t[t.length-1]&&(n--,"="===t[t.length-2]&&n--);const c=new ArrayBuffer(n),p=new Uint8Array(c);for(e=0;e<r;e+=4)s=at[t.charCodeAt(e)],a=at[t.charCodeAt(e+1)],i=at[t.charCodeAt(e+2)],o=at[t.charCodeAt(e+3)],p[l++]=s<<2|a>>4,p[l++]=(15&a)<<4|i>>2,p[l++]=(3&i)<<6|63&o;return c},ot="function"===typeof ArrayBuffer,nt=(t,e)=>{if("string"!==typeof t)return{type:"message",data:lt(t,e)};const s=t.charAt(0);if("b"===s)return{type:"message",data:rt(t.substring(1),e)};const a=q[s];return a?t.length>1?{type:q[s],data:t.substring(1)}:{type:q[s]}:H},rt=(t,e)=>{if(ot){const s=it(t);return lt(s,e)}return{base64:!0,data:t}},lt=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},ct=String.fromCharCode(30),pt=(t,e)=>{const s=t.length,a=new Array(s);let i=0;t.forEach(((t,o)=>{Y(t,!1,(t=>{a[o]=t,++i===s&&e(a.join(ct))}))}))},dt=(t,e)=>{const s=t.split(ct),a=[];for(let i=0;i<s.length;i++){const t=nt(s[i],e);if(a.push(t),"error"===t.type)break}return a};function ut(){return new TransformStream({transform(t,e){et(t,(s=>{const a=s.length;let i;if(a<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,a);else if(a<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,a)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(a))}t.data&&"string"!==typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(s)}))}})}let ht;function mt(t){return t.reduce(((t,e)=>t+e.length),0)}function ft(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let a=0;for(let i=0;i<e;i++)s[i]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),s}function gt(t,e){ht||(ht=new TextDecoder);const s=[];let a=0,i=-1,o=!1;return new TransformStream({transform(n,r){s.push(n);while(1){if(0===a){if(mt(s)<1)break;const t=ft(s,1);o=128===(128&t[0]),i=127&t[0],a=i<126?3:126===i?1:2}else if(1===a){if(mt(s)<2)break;const t=ft(s,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),a=3}else if(2===a){if(mt(s)<8)break;const t=ft(s,8),e=new DataView(t.buffer,t.byteOffset,t.length),o=e.getUint32(0);if(o>Math.pow(2,21)-1){r.enqueue(H);break}i=o*Math.pow(2,32)+e.getUint32(4),a=3}else{if(mt(s)<i)break;const t=ft(s,i);r.enqueue(nt(o?t:ht.decode(t),e)),a=0}if(0===i||i>t){r.enqueue(H);break}}}})}const bt=4;function vt(t){if(t)return yt(t)}function yt(t){for(var e in vt.prototype)t[e]=vt.prototype[e];return t}vt.prototype.on=vt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},vt.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},vt.prototype.off=vt.prototype.removeListener=vt.prototype.removeAllListeners=vt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,a=this._callbacks["$"+t];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<a.length;i++)if(s=a[i],s===e||s.fn===e){a.splice(i,1);break}return 0===a.length&&delete this._callbacks["$"+t],this},vt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],a=1;a<arguments.length;a++)e[a-1]=arguments[a];if(s){s=s.slice(0);a=0;for(var i=s.length;a<i;++a)s[a].apply(this,e)}return this},vt.prototype.emitReserved=vt.prototype.emit,vt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},vt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const _t=(()=>"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")())();function St(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const Ct=_t.setTimeout,wt=_t.clearTimeout;function xt(t,e){e.useNativeTimers?(t.setTimeoutFn=Ct.bind(_t),t.clearTimeoutFn=wt.bind(_t)):(t.setTimeoutFn=_t.setTimeout.bind(_t),t.clearTimeoutFn=_t.clearTimeout.bind(_t))}const At=1.33;function kt(t){return"string"===typeof t?Rt(t):Math.ceil((t.byteLength||t.size)*At)}function Rt(t){let e=0,s=0;for(let a=0,i=t.length;a<i;a++)e=t.charCodeAt(a),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(a++,s+=4);return s}function $t(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}function Nt(t){let e={},s=t.split("&");for(let a=0,i=s.length;a<i;a++){let t=s[a].split("=");e[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return e}class Tt extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class Pt extends vt{constructor(t){super(),this.writable=!1,xt(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,s){return super.emitReserved("error",new Tt(t,e,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=nt(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=$t(t);return e.length?"?"+e:""}}const Ut="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Bt=64,Et={};let Ot,Dt=0,Lt=0;function It(t){let e="";do{e=Ut[t%Bt]+e,t=Math.floor(t/Bt)}while(t>0);return e}function Mt(){const t=It(+new Date);return t!==Ot?(Dt=0,Ot=t):t+"."+It(Dt++)}for(;Lt<Bt;Lt++)Et[Ut[Lt]]=Lt;let Ft=!1;try{Ft="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Xe){}const Gt=Ft;function zt(t){const e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||Gt))return new XMLHttpRequest}catch(s){}if(!e)try{return new(_t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}function jt(){}function Wt(){}const Vt=function(){const t=new zt({xdomain:!1});return null!=t.responseType}();class qt extends Pt{constructor(t){if(super(t),this.polling=!1,"undefined"!==typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!==typeof location&&t.hostname!==location.hostname||s!==t.port}const e=t&&t.forceBase64;this.supportsBinary=Vt&&!e,this.opts.withCredentials&&(this.cookieJar=jt())}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};dt(t,this.socket.binaryType).forEach(e),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,pt(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Mt()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ht(this.uri(),t)}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class Ht extends vt{constructor(t,e){super(),xt(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=St(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const s=this.xhr=new zt(e);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&s.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(a){}if("POST"===this.method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var t;3===s.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(s)),4===s.readyState&&(200===s.status||1223===s.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof s.status?s.status:0)}),0))},s.send(this.data)}catch(a){return void this.setTimeoutFn((()=>{this.onError(a)}),0)}"undefined"!==typeof document&&(this.index=Ht.requestsCount++,Ht.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Wt,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete Ht.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Ht.requestsCount=0,Ht.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Zt);else if("function"===typeof addEventListener){const t="onpagehide"in _t?"pagehide":"unload";addEventListener(t,Zt,!1)}function Zt(){for(let t in Ht.requests)Ht.requests.hasOwnProperty(t)&&Ht.requests[t].abort()}const Kt=(()=>{const t="function"===typeof Promise&&"function"===typeof Promise.resolve;return t?t=>Promise.resolve().then(t):(t,e)=>e(t,0)})(),Jt=_t.WebSocket||_t.MozWebSocket,Yt=!0,Xt="arraybuffer",Qt="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class te extends Pt{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,s=Qt?{}:St(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Yt&&!Qt?e?new Jt(t,e):new Jt(t):new Jt(t,e,s)}catch(Xe){return this.emitReserved("error",Xe)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],a=e===t.length-1;Y(s,this.supportsBinary,(t=>{const e={};if(!Yt&&(s.options&&(e.compress=s.options.compress),this.opts.perMessageDeflate)){const s="string"===typeof t?Buffer.byteLength(t):t.length;s<this.opts.perMessageDeflate.threshold&&(e.compress=!1)}try{Yt?this.ws.send(t):this.ws.send(t,e)}catch(i){}a&&Kt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Mt()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!Jt}}class ee extends Pt{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=gt(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(e).getReader(),a=ut();a.readable.pipeTo(t.writable),this.writer=a.writable.getWriter();const i=()=>{s.read().then((({done:t,value:e})=>{t||(this.onPacket(e),i())})).catch((t=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],a=e===t.length-1;this.writer.write(s).then((()=>{a&&Kt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}}const se={websocket:te,webtransport:ee,polling:qt},ae=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ie=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function oe(t){if(t.length>2e3)throw"URI too long";const e=t,s=t.indexOf("["),a=t.indexOf("]");-1!=s&&-1!=a&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));let i=ae.exec(t||""),o={},n=14;while(n--)o[ie[n]]=i[n]||"";return-1!=s&&-1!=a&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=ne(o,o["path"]),o.queryKey=re(o,o["query"]),o}function ne(t,e){const s=/\/{2,9}/g,a=e.replace(s,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||a.splice(0,1),"/"==e.slice(-1)&&a.splice(a.length-1,1),a}function re(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,a){e&&(s[e]=a)})),s}class le extends vt{constructor(t,e={}){super(),this.binaryType=Xt,this.writeBuffer=[],t&&"object"===typeof t&&(e=t,t=null),t?(t=oe(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=oe(e.host).host),xt(this,e),this.secure=null!=e.secure?e.secure:"undefined"!==typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=Nt(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=bt,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new se[t](s)}open(){let t;if(this.opts.rememberUpgrade&&le.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),s=!1;le.priorWebsocketSuccess=!1;const a=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;le.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){s||(s=!0,c(),e.close(),e=null)}const o=t=>{const s=new Error("probe error: "+t);s.transport=e.name,i(),this.emitReserved("upgradeError",s)};function n(){o("transport closed")}function r(){o("socket closed")}function l(t){e&&t.name!==e.name&&i()}const c=()=>{e.removeListener("open",a),e.removeListener("error",o),e.removeListener("close",n),this.off("close",r),this.off("upgrading",l)};e.once("open",a),e.once("error",o),e.once("close",n),this.once("close",r),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{s||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",le.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){const t=this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1;if(!t)return this.writeBuffer;let e=1;for(let s=0;s<this.writeBuffer.length;s++){const t=this.writeBuffer[s].data;if(t&&(e+=kt(t)),s>0&&e>this.maxPayload)return this.writeBuffer.slice(0,s);e+=2}return this.writeBuffer}write(t,e,s){return this.sendPacket("message",t,e,s),this}send(t,e,s){return this.sendPacket("message",t,e,s),this}sendPacket(t,e,s,a){if("function"===typeof e&&(a=e,e=void 0),"function"===typeof s&&(a=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;s=s||{},s.compress=!1!==s.compress;const i={type:t,data:e,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}onError(t){le.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let s=0;const a=t.length;for(;s<a;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}le.protocol=bt;le.protocol;function ce(t,e="",s){let a=t;s=s||"undefined"!==typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof s?s.protocol+"//"+t:"https://"+t),a=oe(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=-1!==a.host.indexOf(":"),o=i?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+o+":"+a.port+e,a.href=a.protocol+"://"+o+(s&&s.port===a.port?"":":"+a.port),a}const pe="function"===typeof ArrayBuffer,de=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ue=Object.prototype.toString,he="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===ue.call(Blob),me="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===ue.call(File);function fe(t){return pe&&(t instanceof ArrayBuffer||de(t))||he&&t instanceof Blob||me&&t instanceof File}function ge(t,e){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(ge(t[e]))return!0;return!1}if(fe(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return ge(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&ge(t[s]))return!0;return!1}function be(t){const e=[],s=t.data,a=t;return a.data=ve(s,e),a.attachments=e.length,{packet:a,buffers:e}}function ve(t,e){if(!t)return t;if(fe(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let a=0;a<t.length;a++)s[a]=ve(t[a],e);return s}if("object"===typeof t&&!(t instanceof Date)){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=ve(t[a],e));return s}return t}function ye(t,e){return t.data=_e(t.data,e),delete t.attachments,t}function _e(t,e){if(!t)return t;if(t&&!0===t._placeholder){const s="number"===typeof t.num&&t.num>=0&&t.num<e.length;if(s)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=_e(t[s],e);else if("object"===typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=_e(t[s],e));return t}const Se=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ce=5;var we;(function(t){t[t["CONNECT"]=0]="CONNECT",t[t["DISCONNECT"]=1]="DISCONNECT",t[t["EVENT"]=2]="EVENT",t[t["ACK"]=3]="ACK",t[t["CONNECT_ERROR"]=4]="CONNECT_ERROR",t[t["BINARY_EVENT"]=5]="BINARY_EVENT",t[t["BINARY_ACK"]=6]="BINARY_ACK"})(we||(we={}));class xe{constructor(t){this.replacer=t}encode(t){return t.type!==we.EVENT&&t.type!==we.ACK||!ge(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===we.EVENT?we.BINARY_EVENT:we.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==we.BINARY_EVENT&&t.type!==we.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=be(t),s=this.encodeAsString(e.packet),a=e.buffers;return a.unshift(s),a}}function Ae(t){return"[object Object]"===Object.prototype.toString.call(t)}class ke extends vt{constructor(t){super(),this.reviver=t}add(t){let e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const s=e.type===we.BINARY_EVENT;s||e.type===we.BINARY_ACK?(e.type=s?we.EVENT:we.ACK,this.reconstructor=new Re(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!fe(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===we[s.type])throw new Error("unknown packet type "+s.type);if(s.type===we.BINARY_EVENT||s.type===we.BINARY_ACK){const a=e+1;while("-"!==t.charAt(++e)&&e!=t.length);const i=t.substring(a,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(i)}if("/"===t.charAt(e+1)){const a=e+1;while(++e){const s=t.charAt(e);if(","===s)break;if(e===t.length)break}s.nsp=t.substring(a,e)}else s.nsp="/";const a=t.charAt(e+1);if(""!==a&&Number(a)==a){const a=e+1;while(++e){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(a,e+1))}if(t.charAt(++e)){const a=this.tryParse(t.substr(e));if(!ke.isPayloadValid(s.type,a))throw new Error("invalid payload");s.data=a}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}static isPayloadValid(t,e){switch(t){case we.CONNECT:return Ae(e);case we.DISCONNECT:return void 0===e;case we.CONNECT_ERROR:return"string"===typeof e||Ae(e);case we.EVENT:case we.BINARY_EVENT:return Array.isArray(e)&&("number"===typeof e[0]||"string"===typeof e[0]&&-1===Se.indexOf(e[0]));case we.ACK:case we.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Re{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=ye(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function $e(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Ne=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Te extends vt{constructor(t,e,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[$e(t,"open",this.onopen.bind(this)),$e(t,"packet",this.onpacket.bind(this)),$e(t,"error",this.onerror.bind(this)),$e(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io["_reconnecting"]||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(Ne.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const s={type:we.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof e[e.length-1]){const t=this.ids++,a=e.pop();this._registerAckCallback(t,a),s.id=t}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,i=this.flags.volatile&&(!a||!this.connected);return i||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,e){var s;const a=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===a)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),a);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,[null,...t])}}emitWithAck(t,...e){const s=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((a,i)=>{e.push(((t,e)=>s?t?i(t):a(e):a(t))),this.emit(t,...e)}))}_addToQueue(t){let e;"function"===typeof t[t.length-1]&&(e=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...a)=>{if(s!==this._queue[0])return;const i=null!==t;return i?s.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...a)),s.pending=!1,this._drainQueue()})),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:we.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){const e=t.nsp===this.nsp;if(e)switch(t.type){case we.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case we.EVENT:case we.BINARY_EVENT:this.onevent(t);break;case we.ACK:case we.BINARY_ACK:this.onack(t);break;case we.DISCONNECT:this.ondisconnect();break;case we.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e);break}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"===typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let s=!1;return function(...a){s||(s=!0,e.packet({type:we.ACK,id:t,data:a}))}}onack(t){const e=this.acks[t.id];"function"===typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io["_destroy"](this)}disconnect(){return this.connected&&this.packet({type:we.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function Pe(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Pe.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-s:t+s}return 0|Math.min(t,this.max)},Pe.prototype.reset=function(){this.attempts=0},Pe.prototype.setMin=function(t){this.ms=t},Pe.prototype.setMax=function(t){this.max=t},Pe.prototype.setJitter=function(t){this.jitter=t};class Ue extends vt{constructor(t,e){var s;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,xt(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=e.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new Pe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||a;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new le(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=$e(e,"open",(function(){s.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=$e(e,"error",i);if(!1!==this._timeout){const t=this._timeout,s=this.setTimeoutFn((()=>{a(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push($e(t,"ping",this.onping.bind(this)),$e(t,"data",this.ondata.bind(this)),$e(t,"error",this.onerror.bind(this)),$e(t,"close",this.onclose.bind(this)),$e(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Kt((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Te(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const s of e){const t=this.nsps[s];if(t.active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Be={};function Ee(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};const s=ce(t,e.path||"/socket.io"),a=s.source,i=s.id,o=s.path,n=Be[i]&&o in Be[i]["nsps"],r=e.forceNew||e["force new connection"]||!1===e.multiplex||n;let l;return r?l=new Ue(a,e):(Be[i]||(Be[i]=new Ue(a,e)),l=Be[i]),s.query&&!e.query&&(e.query=s.queryKey),l.socket(s.path,e)}Object.assign(Ee,{Manager:Ue,Socket:Te,io:Ee,connect:Ee});const Oe="df787edc6839c7de49d527bba9199eaa",De={projectId:Oe,metadata:{name:"Flux Cloud",description:"Flux, Your Gateway to a Decentralized World",url:"https://home.runonflux.io",icons:["https://home.runonflux.io/img/logo.png"]}},Le={enableDebug:!0},Ie=new M.MetaMaskSDK(Le);let Me;const Fe=s(9669),Ge=s(80129),ze=s(58971),je=s(79650),We=s(63005),Ve=s(56761),qe=s(57306),He={components:{JsonViewer:O(),BTabs:n.M,BTab:r.L,BTable:l.h,BCol:c.l,BCard:p._,BCardText:d.j,BCardTitle:u._,BCardGroup:h.o,BRow:m.T,BButton:f.T,BSpinner:g.X,BFormTextarea:b.y,BFormGroup:v.x,BFormInput:y.e,BFormCheckbox:_.l,BFormSelect:S.K,BFormSelectOption:C.c,BInputGroup:w.w,BInputGroupAppend:x.B,BPagination:A.c,ConfirmDialog:U.Z,ListEntry:B.Z,ToastificationContent:P.Z,VueApexCharts:$()},directives:{"b-tooltip":k.o,Ripple:N.Z},props:{appName:{type:String,required:!0},global:{type:Boolean,required:!0},installedApps:{type:Array,required:!0}},data(){return{socket:null,terminal:null,selectedCmd:null,selectedApp:null,customValue:"",envInputValue:"",enableEnvironment:!1,isVisible:!1,isConnecting:!1,options:[{label:"Linux",options:["/bin/bash","/bin/ash","/bin/sh"]},{label:"Other",options:["Custom"]}],timeoptions:We,output:"",fluxCommunication:!1,commandExecuting:!1,getAllAppsResponse:{status:"",data:[]},updatetype:"fluxappupdate",version:1,dataForAppUpdate:{},dataToSign:"",timestamp:"",signature:"",updateHash:"",websocket:null,selectedAppOwner:"",appSpecification:{},callResponse:{status:"",data:""},callBResponse:{status:"",data:[]},appExec:{cmd:"",env:""},appUpdateSpecification:{version:3,name:"",description:"",repotag:"",owner:"",ports:"",domains:"",enviromentParameters:"",commands:"",containerPorts:"",containerData:"",instances:3,cpu:null,ram:null,hdd:null,tiered:!1,cpubasic:null,rambasic:null,hddbasic:null,cpusuper:null,ramsuper:null,hddsuper:null,cpubamf:null,rambamf:null,hddbamf:null},instances:{data:[],fields:[{key:"show_details",label:""},{key:"name",label:"Name",sortable:!0},{key:"ip",label:"IP Address",sortable:!0},{key:"hash",label:"Hash",sortable:!0},{key:"visit",label:"Visit"}],perPage:10,pageOptions:[10,25,50,100],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:"",filterOn:[],totalRows:1,currentPage:1},total:"",downloaded:"",abortToken:{},deploymentAddress:"",appPricePerSpecs:0,maxInstances:100,minInstances:3,globalZelidAuthorized:!1,monitoringStream:{},statsFields:[{key:"timestamp",label:"Date"},{key:"cpu",label:"CPU"},{key:"memory",label:"RAM"},{key:"disk",label:"DISK"},{key:"net",label:"NET I/O"},{key:"block",label:"BLOCK I/O"},{key:"pids",label:"PIDS"}],possibleLocations:[],allowedGeolocations:{},forbiddenGeolocations:{},numberOfGeolocations:1,numberOfNegativeGeolocations:1,minExpire:5e3,maxExpire:264e3,expirePosition:2,expireOptions:[{value:5e3,label:"1 week",time:6048e5},{value:11e3,label:"2 weeks",time:12096e5},{value:22e3,label:"1 month",time:2592e6},{value:66e3,label:"3 months",time:7776e6},{value:132e3,label:"6 months",time:15552e6},{value:264e3,label:"1 year",time:31536e6}],tosAgreed:!1,marketPlaceApps:[],generalMultiplier:1,enterpriseNodes:[],selectedEnterpriseNodes:[],enterprisePublicKeys:[],maximumEnterpriseNodes:120,entNodesTable:{fields:[{key:"show_details",label:""},{key:"ip",label:"IP Address",sortable:!0},{key:"payment_address",label:"Node Address",sortable:!0},{key:"tier",label:"Tier",sortable:!0},{key:"score",label:"Score",sortable:!0},{key:"actions",label:"Actions"}],perPage:10,pageOptions:[5,10,25,50,100],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:"",filterOn:[],currentPage:1},entNodesSelectTable:{fields:[{key:"show_details",label:""},{key:"ip",label:"IP Address",sortable:!0},{key:"payment_address",label:"Node Address",sortable:!0},{key:"tier",label:"Tier",sortable:!0},{key:"score",label:"Enterprise Score",sortable:!0},{key:"actions",label:"Actions"}],perPage:25,pageOptions:[5,10,25,50,100],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:"",filterOn:[],currentPage:1,totalRows:1},chooseEnterpriseDialog:!1,isPrivateApp:!1,signClient:null}},computed:{isComposeSingle(){return this.appSpecification.version<=3||1===this.appSpecification.compose?.length},selectedOptionText(){const t=this.options.flatMap((t=>t.options)).find((t=>t===this.selectedCmd));return t||""},selectedOptionTextStyle(){return{color:"red",backgroundColor:"rgba(128, 128, 128, 0.1)",fontWeight:"bold",padding:"4px 8px",borderRadius:"4px",marginRight:"10px",marginLeft:"10px"}},...(0,T.rn)("flux",["config","privilege"]),instancesLocked(){try{if(this.appUpdateSpecification.name&&this.marketPlaceApps.length){const t=this.marketPlaceApps.find((t=>this.appUpdateSpecification.name.toLowerCase().startsWith(t.name.toLowerCase())));if(t&&t.lockedValues&&t.lockedValues.includes("instances"))return!0}return!1}catch(t){return console.log(t),!1}},priceMultiplier(){try{if(this.appUpdateSpecification.name&&this.marketPlaceApps.length){const t=this.marketPlaceApps.find((t=>this.appUpdateSpecification.name.toLowerCase().startsWith(t.name.toLowerCase())));if(t&&t.multiplier>1)return t.multiplier}return this.generalMultiplier}catch(t){return console.log(t),this.generalMultiplier}},callbackValue(){const{protocol:t,hostname:e,port:s}=window.location;let a="";a+=t,a+="//";const i=/[A-Za-z]/g;if(e.match(i)){const t=e.split(".");t[0]="api",a+=t.join(".")}else{if("string"===typeof e&&this.$store.commit("flux/setUserIp",e),+s>16100){const t=+s+1;this.$store.commit("flux/setFluxPort",t)}a+=e,a+=":",a+=this.config.apiPort}const o=ze.get("backendURL")||a,n=`${o}/id/providesign`;return encodeURI(n)},isAppOwner(){const t=localStorage.getItem("zelidauth"),e=Ge.parse(t);return!!(t&&e&&e.zelid&&this.selectedAppOwner===e.zelid)},validTill(){const t=this.timestamp+36e5;return t},subscribedTill(){if(this.appUpdateSpecification.expire){const t=this.expireOptions.find((t=>t.value===this.appUpdateSpecification.expire));if(t){const e=this.timestamp+t.time;return e}const e=this.appUpdateSpecification.expire,s=12e4,a=e*s,i=this.timestamp+a;return i}const t=this.timestamp+2592e6;return t},isApplicationInstalledLocally(){if(this.installedApps){const t=this.installedApps.find((t=>t.name===this.appName));return!!t}return!1},applicationManagementAndStatus(){console.log(this.getAllAppsResponse);const t=this.getAllAppsResponse.data.find((t=>t.Names[0]===this.getAppDockerNameIdentifier()))||{},e={name:this.appName,state:t.State||"Unknown state",status:t.Status||"Unknown status"};e.state=e.state.charAt(0).toUpperCase()+e.state.slice(1),e.status=e.status.charAt(0).toUpperCase()+e.status.slice(1);let s=`${e.name} - ${e.state} - ${e.status}`;if(this.appSpecification&&this.appSpecification.version>=4){s=`${this.appSpecification.name}:`;for(const t of this.appSpecification.compose){const e=this.getAllAppsResponse.data.find((e=>e.Names[0]===this.getAppDockerNameIdentifier(`${t.name}_${this.appSpecification.name}`)))||{},a={name:t.name,state:e.State||"Unknown state",status:e.Status||"Unknown status"};a.state=a.state.charAt(0).toUpperCase()+a.state.slice(1),a.status=a.status.charAt(0).toUpperCase()+a.status.slice(1);const i=` ${a.name} - ${a.state} - ${a.status},`;s+=i}s=s.substring(0,s.length-1)}return s},constructAutomaticDomainsGlobal(){if(!this.callBResponse.data)return"loading...";if(console.log(this.callBResponse.data),!this.callBResponse.data.name)return"loading...";const t=this.callBResponse.data.name,e=t.toLowerCase();if(!this.callBResponse.data.compose){const t=JSON.parse(JSON.stringify(this.callBResponse.data.ports)),s=[`${e}.app.runonflux.io`];for(let a=0;a<t.length;a+=1){const i=`${e}_${t[a]}.app.runonflux.io`;s.push(i)}return s}const s=[`${e}.app.runonflux.io`];return this.callBResponse.data.compose.forEach((t=>{for(let a=0;a<t.ports.length;a+=1){const i=`${e}_${t.ports[a]}.app.runonflux.io`;s.push(i)}})),s},getExpireLabel(){return this.expireOptions[this.expirePosition]?this.expireOptions[this.expirePosition].label:null}},watch:{isComposeSingle(t){t&&this.appSpecification.version>=4&&(this.selectedApp=this.appSpecification.compose[0].name)},appUpdateSpecification:{handler(){this.dataToSign="",this.signature="",this.timestamp=null,this.dataForAppUpdate={},this.updateHash="",null!==this.websocket&&(this.websocket.close(),this.websocket=null)},deep:!0},expirePosition:{handler(){this.dataToSign="",this.signature="",this.timestamp=null,this.dataForAppUpdate={},this.updateHash="",null!==this.websocket&&(this.websocket.close(),this.websocket=null)}},isPrivateApp(t){this.appUpdateSpecification.version>=7&&!1===t&&(this.appUpdateSpecification.nodes=[],this.appUpdateSpecification.compose.forEach((t=>{t.secrets="",t.repoauth=""})),this.selectedEnterpriseNodes=[]),this.allowedGeolocations={},this.forbiddenGeolocations={},this.dataToSign="",this.signature="",this.timestamp=null,this.dataForAppUpdate={},this.updateHash="",null!==this.websocket&&(this.websocket.close(),this.websocket=null)}},mounted(){this.initMMSDK(),this.callBResponse.data="",this.callBResponse.status="",this.appSpecification={},this.callResponse.data="",this.callResponse.status="",this.monitoringStream={},this.appExec.cmd="",this.appExec.env="",this.checkFluxCommunication(),this.getAppOwner(),this.getGlobalApplicationSpecifics(),this.appsGetListAllApps(),s.g||this.getInstalledApplicationSpecifics(),this.appsDeploymentInformation(),this.getGeolocationData(),this.getMarketPlace(),this.getMultiplier(),this.getEnterpriseNodes()},methods:{async initMMSDK(){try{await Ie.init(),Me=Ie.getProvider()}catch(t){console.log(t)}},connectTerminal(t){if(this.appSpecification.version>=4){const t=Object.values(this.appSpecification.compose),e=t.some((t=>t.name===this.selectedApp));if(!e)return void this.showToast("danger","Please select an container app before connecting.")}const{protocol:e,hostname:s,port:a}=window.location;let i="",o=0;i+=e,i+="//";const n=/[A-Za-z]/g;if(s.match(n)){const t=s.split(".");t[0]="api",i+=t.join(".")}else i+=s,i+=":",i+=+a+1||this.config.apiPort;const r=ze.get("backendURL")||i;if(!(this.selectedApp||this.appSpecification.version<=3))return void this.showToast("danger","Please select an container app before connecting.");if(null===this.selectedCmd)return void this.showToast("danger","No command selected.");if("Custom"===this.selectedCmd){if(!this.customValue)return void this.showToast("danger","Please enter a custom command.");console.log(`Custom command: ${this.customValue}`),console.log(`App name: ${t}`)}else console.log(`Selected command: ${this.selectedCmd}`),console.log(`App name: ${t}`);this.isConnecting=!0,this.terminal=new F.Terminal({allowProposedApi:!0,cursorBlink:!0,theme:{foreground:"white",background:"black"}});const l=localStorage.getItem("zelidauth");this.socket=Ee.connect(r),this.customValue?this.socket.emit("exec",l,t,this.customValue,this.envInputValue):this.socket.emit("exec",l,t,this.selectedCmd,this.envInputValue),this.terminal.open(this.$refs.terminalElement);const c=new G.FitAddon;this.terminal.loadAddon(c);const p=new z.WebLinksAddon;this.terminal.loadAddon(p);const d=new j.Unicode11Addon;this.terminal.loadAddon(d);const u=new W.SerializeAddon;this.terminal.loadAddon(u),this.terminal._initialized=!0,this.terminal.onResize((t=>{const{cols:e,rows:s}=t;console.log("Resizing to",{cols:e,rows:s}),this.socket.emit("resize",{cols:e,rows:s})})),this.terminal.onTitleChange((t=>{console.log(t)})),window.onresize=()=>{c.fit()},this.terminal.onData((t=>{this.socket.emit("cmd",t)})),this.socket.on("error",(t=>{this.showToast("danger",t),this.disconnectTerminal()})),this.socket.on("show",(t=>{0===o&&(o=1,this.customValue||(this.socket.emit("cmd","export TERM=xterm\n"),"/bin/bash"===this.selectedCmd&&this.socket.emit("cmd",'PS1="\\[\\033[01;31m\\]\\u\\[\\033[01;33m\\]@\\[\\033[01;36m\\]\\h \\[\\033[01;33m\\]\\w \\[\\033[01;35m\\]\\$ \\[\\033[00m\\]"\n'),this.socket.emit("cmd","alias ls='ls --color'\n"),this.socket.emit("cmd","alias ll='ls -alF'\n"),this.socket.emit("cmd","clear\n")),setTimeout((()=>{this.isConnecting=!1,this.isVisible=!0,this.$nextTick((()=>{setTimeout((()=>{this.terminal.focus(),c.fit()}),500)}))}),1400)),this.terminal.write(t)})),this.socket.on("end",(()=>{this.disconnectTerminal()}))},disconnectTerminal(){this.socket&&this.socket.disconnect(),this.terminal&&this.terminal.dispose(),this.isVisible=!1,this.isConnecting=!1},onSelectChangeCmd(){"Custom"!==this.selectedCmd&&(this.customValue="")},onSelectChangeEnv(){this.enableEnvironment||(this.envInputValue="")},onFilteredSelection(t){this.entNodesSelectTable.totalRows=t.length,this.entNodesSelectTable.currentPage=1},async getMarketPlace(){try{const t=await Fe.get("https://stats.runonflux.io/marketplace/listapps");"success"===t.data.status&&(this.marketPlaceApps=t.data.data)}catch(t){console.log(t)}},async getMultiplier(){try{const t=await Fe.get("https://stats.runonflux.io/apps/multiplier");"success"===t.data.status&&"number"===typeof t.data.data&&t.data.data>=1&&(this.generalMultiplier=t.data.data)}catch(t){console.log(t)}},async appsDeploymentInformation(){const t=await D.Z.appsDeploymentInformation(),{data:e}=t.data;"success"===t.data.status?this.deploymentAddress=e.address:this.showToast("danger",t.data.data.message||t.data.data)},updateManagementTab(t){switch(this.callResponse.data="",this.callResponse.status="",this.appExec.cmd="",this.appExec.env="",this.output="",10!==t&&this.disconnectTerminal(),t){case 1:this.getInstalledApplicationSpecifics(),this.getGlobalApplicationSpecifics();break;case 2:this.getApplicationInspect();break;case 3:this.getApplicationStats();break;case 4:this.getApplicationMonitoring();break;case 5:this.getApplicationChanges();break;case 6:this.getApplicationProcesses();break;case 7:this.getApplicationLogs();break;case 12:this.getGlobalApplicationSpecifics();break;case 13:this.getZelidAuthority();break;case 14:this.getApplicationLocations();break;case 15:this.getGlobalApplicationSpecifics();break;default:break}},async appsGetListAllApps(){const t=await D.Z.listAllApps();console.log(t),this.getAllAppsResponse.status=t.data.status,this.getAllAppsResponse.data=t.data.data},goBackToApps(){this.$emit("back")},initiateSignWSUpdate(){const t=this,{protocol:e,hostname:s,port:a}=window.location;let i="";i+=e,i+="//";const o=/[A-Za-z]/g;if(s.match(o)){const t=s.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof s&&this.$store.commit("flux/setUserIp",s),+a>16100){const t=+a+1;this.$store.commit("flux/setFluxPort",t)}i+=s,i+=":",i+=this.config.apiPort}let n=ze.get("backendURL")||i;n=n.replace("https://","wss://"),n=n.replace("http://","ws://");const r=this.appUpdateSpecification.owner+this.timestamp,l=`${n}/ws/sign/${r}`,c=new WebSocket(l);this.websocket=c,c.onopen=e=>{t.onOpen(e)},c.onclose=e=>{t.onClose(e)},c.onmessage=e=>{t.onMessage(e)},c.onerror=e=>{t.onError(e)}},onError(t){console.log(t)},onMessage(t){const e=Ge.parse(t.data);"success"===e.status&&e.data&&(this.signature=e.data.signature),console.log(e),console.log(t)},onClose(t){console.log(t)},onOpen(t){console.log(t)},async getInstalledApplicationSpecifics(){const t=await D.Z.getInstalledAppSpecifics(this.appName);console.log(t),"error"!==t.data.status&&t.data.data[0]?(this.callResponse.status=t.data.status,this.callResponse.data=t.data.data[0],this.appSpecification=t.data.data[0]):this.showToast("danger",t.data.data.message||t.data.data)},getExpirePosition(t){const e=this.expireOptions.findIndex((e=>e.value===t));return e||0===e?e:2},async getGlobalApplicationSpecifics(){const t=await D.Z.getAppSpecifics(this.appName);if(console.log(t),"error"===t.data.status)this.showToast("danger",t.data.data.message||t.data.data),this.callBResponse.status=t.data.status;else{this.callBResponse.status=t.data.status,this.callBResponse.data=t.data.data;const s=t.data.data;if(console.log(s),this.appUpdateSpecification=JSON.parse(JSON.stringify(s)),this.appUpdateSpecification.instances=s.instances||3,this.instancesLocked&&(this.maxInstances=this.appUpdateSpecification.instances),this.appUpdateSpecification.version<=3)this.appUpdateSpecification.version=3,this.appUpdateSpecification.ports=s.port||this.ensureString(s.ports),this.appUpdateSpecification.domains=this.ensureString(s.domains),this.appUpdateSpecification.enviromentParameters=this.ensureString(s.enviromentParameters),this.appUpdateSpecification.commands=this.ensureString(s.commands),this.appUpdateSpecification.containerPorts=s.containerPort||this.ensureString(s.containerPorts);else{if(this.appUpdateSpecification.version<=7&&(this.appUpdateSpecification.version=7),this.appUpdateSpecification.contacts=this.ensureString([]),this.appUpdateSpecification.geolocation=this.ensureString([]),this.appUpdateSpecification.version>=5){this.appUpdateSpecification.contacts=this.ensureString(s.contacts||[]),this.appUpdateSpecification.geolocation=this.ensureString(s.geolocation||[]);try{this.decodeGeolocation(s.geolocation||[])}catch(e){console.log(e),this.appUpdateSpecification.geolocation=this.ensureString([])}}this.appUpdateSpecification.compose.forEach((t=>{t.ports=this.ensureString(t.ports),t.domains=this.ensureString(t.domains),t.environmentParameters=this.ensureString(t.environmentParameters),t.commands=this.ensureString(t.commands),t.containerPorts=this.ensureString(t.containerPorts),t.secrets=this.ensureString(t.secrets||""),t.repoauth=this.ensureString(t.repoauth||"")})),this.appUpdateSpecification.version>=6&&(this.appUpdateSpecification.expire=this.ensureNumber(s.expire||22e3),this.expirePosition=this.getExpirePosition(this.appUpdateSpecification.expire)),this.appUpdateSpecification.version>=7&&(this.appUpdateSpecification.staticip=this.appUpdateSpecification.staticip??!1,this.appUpdateSpecification.nodes=this.appUpdateSpecification.nodes||[],this.appUpdateSpecification.nodes&&this.appUpdateSpecification.nodes.length&&(this.isPrivateApp=!0),this.appUpdateSpecification.nodes.forEach((async t=>{const e=this.enterprisePublicKeys.find((e=>e.nodeip===t));if(!e){const e=await this.fetchEnterpriseKey(t);if(e){const s={nodeip:t.ip,nodekey:e},a=this.enterprisePublicKeys.find((e=>e.nodeip===t));a||this.enterprisePublicKeys.push(s)}}})),this.enterpriseNodes||await this.getEnterpriseNodes(),this.selectedEnterpriseNodes=[],this.appUpdateSpecification.nodes.forEach((t=>{if(this.enterpriseNodes){const e=this.enterpriseNodes.find((e=>e.ip===t||t===`${e.txhash}:${e.outidx}`));e&&this.selectedEnterpriseNodes.push(e)}else this.showToast("danger","Failed to load Enterprise Node List")})))}}},async update(){const t=localStorage.getItem("zelidauth"),e={type:this.updatetype,version:this.version,appSpecification:this.dataForAppUpdate,timestamp:this.timestamp,signature:this.signature};this.showToast("info","Propagating message accross Flux network...");const s=await D.Z.updateApp(t,e).catch((t=>{this.showToast("danger",t.message||t)}));console.log(s),"success"===s.data.status?(this.updateHash=s.data.data,console.log(this.updateHash),this.showToast("success",s.data.data.message||s.data.data)):this.showToast("danger",s.data.data.message||s.data.data)},async checkFluxCommunication(){const t=await D.Z.checkCommunication();"success"===t.data.status?this.fluxCommunication=!0:this.showToast("danger",t.data.data.message||t.data.data)},convertExpire(){return this.expireOptions[this.expirePosition]?this.expireOptions[this.expirePosition].value:22e3},async checkFluxUpdateSpecificationsAndFormatMessage(){try{if(!this.tosAgreed)throw new Error("Please agree to Terms of Service");const t=this.appUpdateSpecification;let e=!1;if(t.version>=7&&(this.constructNodes(),this.appUpdateSpecification.compose.forEach((t=>{if((t.repoauth||t.secrets)&&(e=!0,!this.appUpdateSpecification.nodes.length))throw new Error("Private repositories and secrets can only run on Enterprise Nodes")}))),e){this.showToast("info","Encrypting specifications, this will take a while...");const t=[];for(const e of this.appUpdateSpecification.nodes){const s=this.enterprisePublicKeys.find((t=>t.nodeip===e));if(s)t.push(s.nodekey);else{const s=await this.fetchEnterpriseKey(e);if(s){const a={nodeip:e.ip,nodekey:s},i=this.enterprisePublicKeys.find((t=>t.nodeip===e.ip));i||this.enterprisePublicKeys.push(a),t.push(s)}}}for(const e of this.appUpdateSpecification.compose){if(e.secrets&&!e.secrets.startsWith("-----BEGIN PGP MESSAGE")){const s=await this.encryptMessage(e.secrets,t);if(!s)return;e.secrets=s}if(e.repoauth&&!e.repoauth.startsWith("-----BEGIN PGP MESSAGE")){const s=await this.encryptMessage(e.repoauth,t);if(!s)return;e.repoauth=s}}}e&&this.appUpdateSpecification.compose.forEach((t=>{if(t.secrets&&!t.secrets.startsWith("-----BEGIN PGP MESSAGE"))throw new Error("Encryption failed");if(t.repoauth&&!t.repoauth.startsWith("-----BEGIN PGP MESSAGE"))throw new Error("Encryption failed")})),t.version>=5&&(t.geolocation=this.generateGeolocations()),t.version>=6&&(t.expire=this.convertExpire());const s=await D.Z.appUpdateVerification(t);if("error"===s.data.status)throw new Error(s.data.data.message||s.data.data);const a=s.data.data,i=await D.Z.appPrice(a);if(this.appPricePerSpecs=0,"error"===i.data.status)throw new Error(i.data.data.message||i.data.data);this.appPricePerSpecs=Math.ceil(+i.data.data*this.priceMultiplier*100)/100,this.timestamp=(new Date).getTime(),this.dataForAppUpdate=a,this.dataToSign=this.updatetype+this.version+JSON.stringify(a)+this.timestamp}catch(t){console.log(t.message),console.error(t),this.showToast("danger",t.message||t)}},async appExecute(t=this.appSpecification.name){try{const e=localStorage.getItem("zelidauth");if(!this.appExec.cmd)return void this.showToast("danger","No commands specified");const s=this.appExec.env?this.appExec.env:"[]",{cmd:a}=this.appExec;this.commandExecuting=!0,console.log("here");const i=await D.Z.getAppExec(e,t,Ve(a),s);console.log(i),"error"===i.data.status?this.showToast("danger",i.data.data.message||i.data.data):(this.commandExecuting=!1,this.callResponse.status=i.status,t.includes("_")?(this.callResponse.data&&Array.isArray(this.callResponse.data)||(this.callResponse.data=[]),this.callResponse.data.unshift({name:t,data:i.data})):this.callResponse.data=i.data)}catch(e){this.commandExecuting=!1,console.log(e),this.showToast("danger",e.message||e)}},cancelDownload(){this.abortToken.cancel("User download cancelled"),this.downloaded="",this.total=""},async downloadApplicationLog(t){const e=this;this.downloaded="",this.total="",this.abortToken=L.Z.cancelToken();const s=localStorage.getItem("zelidauth"),a={headers:{zelidauth:s},responseType:"blob",onDownloadProgress(t){e.downloaded=t.loaded,e.total=t.total}},i=await L.Z.justAPI().get(`/apps/applog/${t}`,a),o=window.URL.createObjectURL(new Blob([i.data])),n=document.createElement("a");n.href=o,n.setAttribute("download","app.log"),document.body.appendChild(n),n.click()},getAppIdentifier(t=this.appName){return t&&t.startsWith("zel")||t&&t.startsWith("flux")?t:"KadenaChainWebNode"===t||"FoldingAtHomeB"===t?`zel${t}`:`flux${t}`},getAppDockerNameIdentifier(t){const e=this.getAppIdentifier(t);return e&&e.startsWith("/")?e:`/${e}`},async getApplicationInspect(){const t=localStorage.getItem("zelidauth"),e=[];if(this.commandExecuting=!0,this.appSpecification.version>=4)for(const s of this.appSpecification.compose){const a=await D.Z.getAppInspect(t,`${s.name}_${this.appSpecification.name}`);if("error"===a.data.status)this.showToast("danger",a.data.data.message||a.data.data);else{const t={name:s.name,callData:a.data.data};e.push(t)}}else{const s=await D.Z.getAppInspect(t,this.appName);if("error"===s.data.status)this.showToast("danger",s.data.data.message||s.data.data);else{const t={name:this.appSpecification.name,callData:s.data.data};e.push(t)}console.log(s)}this.commandExecuting=!1,this.callResponse.status="success",this.callResponse.data=e},async getApplicationStats(){const t=localStorage.getItem("zelidauth"),e=[];if(this.commandExecuting=!0,this.appSpecification.version>=4)for(const s of this.appSpecification.compose){const a=await D.Z.getAppStats(t,`${s.name}_${this.appSpecification.name}`);if("error"===a.data.status)this.showToast("danger",a.data.data.message||a.data.data);else{const t={name:s.name,callData:a.data.data};e.push(t)}}else{const s=await D.Z.getAppStats(t,this.appName);if("error"===s.data.status)this.showToast("danger",s.data.data.message||s.data.data);else{const t={name:this.appSpecification.name,callData:s.data.data};e.push(t)}console.log(s)}this.commandExecuting=!1,this.callResponse.status="success",this.callResponse.data=e},async getApplicationMonitoring(){const t=localStorage.getItem("zelidauth"),e=[];if(this.appSpecification.version>=4)for(const s of this.appSpecification.compose){const a=await D.Z.getAppMonitoring(t,`${s.name}_${this.appSpecification.name}`);if("error"===a.data.status)this.showToast("danger",a.data.data.message||a.data.data);else{const t={name:s.name,callData:a.data.data};e.push(t)}}else{const s=await D.Z.getAppMonitoring(t,this.appName);if("error"===s.data.status)this.showToast("danger",s.data.data.message||s.data.data);else{const t={name:this.appSpecification.name,callData:s.data.data};e.push(t)}console.log(s)}this.callResponse.status="success",this.callResponse.data=e},async getApplicationMonitoringStream(){const t=this,e=localStorage.getItem("zelidauth");if(this.appSpecification.version>=4)for(const s of this.appSpecification.compose){const a={headers:{zelidauth:e},onDownloadProgress(e){t.monitoringStream[`${s.name}_${t.appSpecification.name}`]=JSON.parse(`[${e.target.response.replace(/}{"read/g,'},{"read')}]`)}},i=await D.Z.justAPI().get(`/apps/appmonitorstream/${s.name}_${this.appSpecification.name}`,a);"error"===i.data.status&&this.showToast("danger",i.data.data.message||i.data.data)}else{const s={headers:{zelidauth:e},onDownloadProgress(e){console.log(e.target.response),t.monitoringStream[t.appName]=JSON.parse(`[${e.target.response.replace(/}{/g,"},{")}]`)}},a=await D.Z.justAPI().get(`/apps/appmonitorstream/${this.appName}`,s);"error"===a.data.status&&this.showToast("danger",a.data.data.message||a.data.data)}},async stopMonitoring(t,e=!1){this.output="",this.showToast("warning",`Stopping Monitoring of ${t}`);const s=localStorage.getItem("zelidauth"),a=await D.Z.stopAppMonitoring(s,t,e);"success"===a.data.status?this.showToast("success",a.data.data.message||a.data.data):this.showToast("danger",a.data.data.message||a.data.data),console.log(a)},async startMonitoring(t){this.output="",this.showToast("warning",`Starting Monitoring of ${t}`);const e=localStorage.getItem("zelidauth"),s=await D.Z.startAppMonitoring(e,t);"success"===s.data.status?this.showToast("success",s.data.data.message||s.data.data):this.showToast("danger",s.data.data.message||s.data.data),console.log(s)},async getApplicationChanges(){const t=localStorage.getItem("zelidauth"),e=[];if(this.commandExecuting=!0,this.appSpecification.version>=4)for(const s of this.appSpecification.compose){const a=await D.Z.getAppChanges(t,`${s.name}_${this.appSpecification.name}`);if("error"===a.data.status)this.showToast("danger",a.data.data.message||a.data.data);else{const t={name:s.name,callData:a.data.data};e.push(t)}}else{const s=await D.Z.getAppChanges(t,this.appName);if("error"===s.data.status)this.showToast("danger",s.data.data.message||s.data.data);else{const t={name:this.appSpecification.name,callData:s.data.data};e.push(t)}console.log(s)}this.commandExecuting=!1,this.callResponse.status="success",this.callResponse.data=e},async getApplicationProcesses(){const t=localStorage.getItem("zelidauth"),e=[];if(this.commandExecuting=!0,this.appSpecification.version>=4)for(const s of this.appSpecification.compose){const a=await D.Z.getAppTop(t,`${s.name}_${this.appSpecification.name}`);if("error"===a.data.status)this.showToast("danger",a.data.data.message||a.data.data);else{const t={name:s.name,callData:a.data.data};e.push(t)}}else{const s=await D.Z.getAppTop(t,this.appName);if("error"===s.data.status)this.showToast("danger",s.data.data.message||s.data.data);else{const t={name:this.appSpecification.name,callData:s.data.data};e.push(t)}console.log(s)}this.commandExecuting=!1,this.callResponse.status="success",this.callResponse.data=e},async getApplicationLogs(){const t=localStorage.getItem("zelidauth"),e=[];if(this.appSpecification.version>=4)for(const s of this.appSpecification.compose){const a=await D.Z.getAppLogsTail(t,`${s.name}_${this.appSpecification.name}`);if("error"===a.data.status)this.showToast("danger",a.data.data.message||a.data.data);else{const t={name:s.name,callData:a.data.data};e.push(t)}}else{const s=await D.Z.getAppLogsTail(t,this.appName);if("error"===s.data.status)this.showToast("danger",s.data.data.message||s.data.data);else{const t={name:this.appSpecification.name,callData:s.data.data};e.push(t)}console.log(s)}this.callResponse.status="success",this.callResponse.data=e},async getApplicationLocations(){const t=await D.Z.getAppLocation(this.appName);console.log(t),"error"===t.data.status?this.showToast("danger",t.data.data.message||t.data.data):(this.instances.data=t.data.data,this.instances.totalRows=this.instances.data.length)},async getAppOwner(){const t=await D.Z.getAppOwner(this.appName);console.log(t),"error"===t.data.status&&this.showToast("danger",t.data.data.message||t.data.data),this.selectedAppOwner=t.data.data},async stopApp(t){this.output="",this.showToast("warning",`Stopping ${t}`);const e=localStorage.getItem("zelidauth"),s=await D.Z.stopApp(e,t);"success"===s.data.status?this.showToast("success",s.data.data.message||s.data.data):this.showToast("danger",s.data.data.message||s.data.data),this.appsGetListAllApps(),console.log(s)},async startApp(t){this.output="",this.showToast("warning",`Starting ${t}`);const e=localStorage.getItem("zelidauth"),s=await D.Z.startApp(e,t);"success"===s.data.status?this.showToast("success",s.data.data.message||s.data.data):this.showToast("danger",s.data.data.message||s.data.data),this.appsGetListAllApps(),console.log(s)},async restartApp(t){this.output="",this.showToast("warning",`Restarting ${t}`);const e=localStorage.getItem("zelidauth"),s=await D.Z.restartApp(e,t);"success"===s.data.status?this.showToast("success",s.data.data.message||s.data.data):this.showToast("danger",s.data.data.message||s.data.data),this.appsGetListAllApps(),console.log(s)},async pauseApp(t){this.output="",this.showToast("warning",`Pausing ${t}`);const e=localStorage.getItem("zelidauth"),s=await D.Z.pauseApp(e,t);"success"===s.data.status?this.showToast("success",s.data.data.message||s.data.data):this.showToast("danger",s.data.data.message||s.data.data),this.appsGetListAllApps(),console.log(s)},async unpauseApp(t){this.output="",this.showToast("warning",`Unpausing ${t}`);const e=localStorage.getItem("zelidauth"),s=await D.Z.unpauseApp(e,t);"success"===s.data.status?this.showToast("success",s.data.data.message||s.data.data):this.showToast("danger",s.data.data.message||s.data.data),this.appsGetListAllApps(),console.log(s)},redeployAppSoft(t){this.redeployApp(t,!1)},redeployAppHard(t){this.redeployApp(t,!0)},async redeployApp(t,e){const s=this;this.output="",this.showToast("warning",`Redeploying ${t}`);const a=localStorage.getItem("zelidauth"),i={headers:{zelidauth:a},onDownloadProgress(t){console.log(t.target.response),s.output=JSON.parse(`[${t.target.response.replace(/}{/g,"},{")}]`)}},o=await D.Z.justAPI().get(`/apps/redeploy/${t}/${e}`,i);"error"===o.data.status?this.showToast("danger",o.data.data.message||o.data.data):(this.output=JSON.parse(`[${o.data.replace(/}{/g,"},{")}]`),"error"===this.output[this.output.length-1].status?this.showToast("danger",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data):"warning"===this.output[this.output.length-1].status?this.showToast("warning",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data):this.showToast("success",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data))},async removeApp(t){const e=this;this.output="",this.showToast("warning",`Removing ${t}`);const s=localStorage.getItem("zelidauth"),a={headers:{zelidauth:s},onDownloadProgress(t){console.log(t.target.response),e.output=JSON.parse(`[${t.target.response.replace(/}{/g,"},{")}]`)}},i=await D.Z.justAPI().get(`/apps/appremove/${t}`,a);"error"===i.data.status?this.showToast("danger",i.data.data.message||i.data.data):(this.output=JSON.parse(`[${i.data.replace(/}{/g,"},{")}]`),"error"===this.output[this.output.length-1].status?this.showToast("danger",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data):"warning"===this.output[this.output.length-1].status?this.showToast("warning",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data):this.showToast("success",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data),setTimeout((()=>{e.managedApplication=""}),5e3))},getZelidAuthority(){const t=localStorage.getItem("zelidauth");this.globalZelidAuthorized=!1;const e=Ge.parse(t),s=(new Date).getTime(),a=54e5,i=e.loginPhrase.substring(0,13);this.globalZelidAuthorized=!(+i<s-a)},async delay(t){return new Promise((e=>{setTimeout(e,t)}))},async executeCommand(t,e,s,a){try{const i=localStorage.getItem("zelidauth"),o={headers:{zelidauth:i}};if(this.getZelidAuthority(),!this.globalZelidAuthorized)throw new Error("Session expired. Please log into FluxOS again");this.showToast("warning",s);let n=`/apps/${e}/${t}`;a&&(n+=`/${a}`),n+="/true";const r=await D.Z.justAPI().get(n,o);await this.delay(500),"success"===r.data.status?this.showToast("success",r.data.data.message||r.data.data):this.showToast("danger",r.data.data.message||r.data.data)}catch(i){this.showToast("danger",i.message||i)}},async stopAppGlobally(t){this.executeCommand(t,"appstop",`Stopping ${t} globally. This will take a while...`)},async startAppGlobally(t){this.executeCommand(t,"appstart",`Starting ${t} globally. This will take a while...`)},async restartAppGlobally(t){this.executeCommand(t,"apprestart",`Restarting ${t} globally. This will take a while...`)},async pauseAppGlobally(t){this.executeCommand(t,"apppause",`Pausing ${t} globally. This will take a while...`)},async unpauseAppGlobally(t){this.executeCommand(t,"appunpause",`Unpausing ${t} globally. This will take a while...`)},async redeployAppSoftGlobally(t){this.executeCommand(t,"redeploy",`Soft redeploying ${t} globally. This will take a while...`,"false")},async redeployAppHardGlobally(t){this.executeCommand(t,"redeploy",`Hard redeploying ${t} globally. This will take a while...`,"true")},async removeAppGlobally(t){this.executeCommand(t,"appremove",`Reinstalling ${t} globally. This will take a while...`,"true")},openApp(t,e,s){if(console.log(t,e,s),s&&e){const t=e,a=s,i=`http://${t}:${a}`;this.openSite(i)}else this.showToast("danger","Unable to open App :(, App does not have a port.")},getProperPort(t=this.appUpdateSpecification){if(t.port)return t.port;if(t.ports){const e="string"===typeof t.ports?JSON.parse(t.ports):t.ports;return e[0]}for(let e=0;e<t.compose.length;e+=1)for(let s=0;s<t.compose[e].ports.length;s+=1){const a="string"===typeof t.compose[e].ports?JSON.parse(t.compose[e].ports):t.compose[e].ports;if(a[s])return a[s]}return null},openNodeFluxOS(t,e){if(console.log(t,e),e&&t){const s=t,a=e,i=`http://${s}:${a}`;this.openSite(i)}else this.showToast("danger","Unable to open App :(")},openSite(t){const e=window.open(t,"_blank");e.focus()},ensureBoolean(t){let e;return"false"!==t&&0!==t&&"0"!==t&&!1!==t||(e=!1),"true"!==t&&1!==t&&"1"!==t&&!0!==t||(e=!0),e},ensureNumber(t){return"number"===typeof t?t:Number(t)},ensureObject(t){if("object"===typeof t)return t;let e;try{e=JSON.parse(t)}catch(s){e=Ge.parse(t)}return e},ensureString(t){return"string"===typeof t?t:JSON.stringify(t)},stringOutput(){let t="";return this.output.forEach((e=>{t+=`${JSON.stringify(e)}\r\n`})),t},showToast(t,e,s="InfoIcon"){this.$toast({component:P.Z,props:{title:e,icon:s,variant:t}})},decodeAsciiResponse(t){return"string"===typeof t?t.replace(/[^\x20-\x7E\t\r\n\v\f]/g,""):""},getContinent(t){const e=this.ensureObject(t),s=e.find((t=>t.startsWith("a")));if(s){const t=this.continentsOptions.find((t=>t.value===s.slice(1)));return t?t.text:"All"}return"All"},getCountry(t){const e=this.ensureObject(t),s=e.find((t=>t.startsWith("b")));if(s){const t=this.countriesOptions.find((t=>t.value===s.slice(1)));return t?t.text:"All"}return"All"},continentChanged(){if(this.selectedCountry=null,this.selectedContinent){const t=this.continentsOptions.find((t=>t.value===this.selectedContinent));this.maxInstances=t.maxInstances,this.appUpdateSpecification.instances>this.maxInstances&&(this.appUpdateSpecification.instances=this.maxInstances),this.showToast("warning",`The node type may fluctuate based upon system requirements for your application. For better results in ${t.text}, please consider specifications more suited to ${t.nodeTier} hardware.`)}else this.maxInstances=this.appUpdateSpecificationv5template.maxInstances,this.showToast("info","No geolocation set you can define up to maximum of 100 instances and up to the maximum hardware specs available on Flux network to your app.");this.instancesLocked&&(this.maxInstances=this.appUpdateSpecification.instances)},countryChanged(){if(this.selectedCountry){const t=this.countriesOptions.find((t=>t.value===this.selectedCountry));this.maxInstances=t.maxInstances,this.appUpdateSpecification.instances>this.maxInstances&&(this.appUpdateSpecification.instances=this.maxInstances),this.showToast("warning",`The node type may fluctuate based upon system requirements for your application. For better results in ${t.text}, please consider specifications more suited to ${t.nodeTier} hardware.`)}else{const t=this.continentsOptions.find((t=>t.value===this.selectedContinent));this.maxInstances=t.maxInstances,this.appUpdateSpecification.instances>this.maxInstances&&(this.appUpdateSpecification.instances=this.maxInstances),this.showToast("warning",`The node type may fluctuate based upon system requirements for your application. For better results in ${t.text}, please consider specifications more suited to ${t.nodeTier} hardware.`)}this.instancesLocked&&(this.maxInstances=this.appUpdateSpecification.instances)},generateStatsTableItems(t,e){if(console.log(t),!t||!Array.isArray(t))return[];const s=[];return t.forEach((t=>{const a=t.data.cpu_stats.online_cpus/e.cpu,i=`${((t.data.cpu_stats.cpu_usage.total_usage-t.data.precpu_stats.cpu_usage.total_usage)/(t.data.cpu_stats.system_cpu_usage-t.data.precpu_stats.system_cpu_usage)*100*a).toFixed(2)}%`,o=`${(t.data.memory_stats.usage/1e9).toFixed(2)} / ${(e.ram/1e3).toFixed(2)} GB, ${(t.data.memory_stats.usage/(1e6*e.ram)*100).toFixed(2)}%`;let n="0 / 0 GB";t.data.networks.eth0&&(n=`${(t.data.networks.eth0.rx_bytes/1e9).toFixed(2)} / ${(t.data.networks.eth0.tx_bytes/1e9).toFixed(2)} GB`);const r=`${(t.data.blkio_stats.io_service_bytes_recursive.find((t=>"read"===t.op.toLowerCase())).value/1e9).toFixed(2)} / ${(t.data.blkio_stats.io_service_bytes_recursive.find((t=>"write"===t.op.toLowerCase())).value/1e9).toFixed(2)} GB`;let l="0 / 0 GB";t.data.disk_stats&&(l=`${(t.data.disk_stats.used/1e9).toFixed(2)} / ${e.hdd.toFixed(2)} GB, ${(t.data.disk_stats.used/(1e9*e.hdd)*100).toFixed(2)}%`);const c=t.data.pids_stats.current,p={timestamp:new Date(t.timestamp).toLocaleString("en-GB",We.shortDate),cpu:i,memory:o,net:n,block:r,disk:l,pids:c};s.push(p)})),s},getCpuPercentage(t){console.log(t);const e=[];return t.forEach((t=>{const s=`${(t.data.cpu_stats.cpu_usage.total_usage/t.data.cpu_stats.cpu_usage.system_cpu_usage*100).toFixed(2)}%`;e.push(s)})),e},getTimestamps(t){const e=[];return t.forEach((t=>{e.push(t.timestamp)})),e},chartOptions(t){const e={chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"timestamp",categories:t},tooltip:{x:{format:"dd/MM/yy HH:mm"}}};return e},decodeGeolocation(t){let e=!1;t.forEach((t=>{t.startsWith("b")&&(e=!0),t.startsWith("a")&&t.startsWith("ac")&&t.startsWith("a!c")&&(e=!0)}));let s=t;if(e){const e=t.find((t=>t.startsWith("a")&&t.startsWith("ac")&&t.startsWith("a!c"))),a=t.find((t=>t.startsWith("b")));let i=`ac${e.slice(1)}`;a&&(i+=`_${a.slice(1)}`),s=[i]}const a=s.filter((t=>t.startsWith("ac"))),i=s.filter((t=>t.startsWith("a!c")));for(let o=1;o<a.length+1;o+=1){this.numberOfGeolocations=o;const t=a[o-1].slice(2),e=t.split("_"),s=e[0],i=e[1],n=e[2];this.allowedGeolocations[`selectedContinent${o}`]=s,this.allowedGeolocations[`selectedCountry${o}`]=i||"ALL",this.allowedGeolocations[`selectedRegion${o}`]=n||"ALL"}for(let o=1;o<i.length+1;o+=1){this.numberOfNegativeGeolocations=o;const t=i[o-1].slice(3),e=t.split("_"),s=e[0],a=e[1],n=e[2];this.forbiddenGeolocations[`selectedContinent${o}`]=s,this.forbiddenGeolocations[`selectedCountry${o}`]=a||"NONE",this.forbiddenGeolocations[`selectedRegion${o}`]=n||"NONE"}},async getGeolocationData(){let t=[];try{qe.continents.forEach((e=>{t.push({value:e.code,instances:e.available?100:0})})),qe.countries.forEach((e=>{t.push({value:`${e.continent}_${e.code}`,instances:e.available?100:0})}));const e=await Fe.get("https://stats.runonflux.io/fluxinfo?projection=geolocation");if("success"===e.data.status){const s=e.data.data;s.length>5e3&&(t=[],s.forEach((e=>{if(e.geolocation&&e.geolocation.continentCode&&e.geolocation.regionName&&e.geolocation.countryCode){const s=e.geolocation.continentCode,a=`${s}_${e.geolocation.countryCode}`,i=`${a}_${e.geolocation.regionName}`,o=t.find((t=>t.value===s));o?o.instances+=1:t.push({value:s,instances:1});const n=t.find((t=>t.value===a));n?n.instances+=1:t.push({value:a,instances:1});const r=t.find((t=>t.value===i));r?r.instances+=1:t.push({value:i,instances:1})}})))}else this.showToast("info","Failed to get geolocation data from FluxStats, Using stored locations")}catch(e){console.log(e),this.showToast("info","Failed to get geolocation data from FluxStats, Using stored locations")}this.possibleLocations=t},continentsOptions(t){const e=[{value:t?"NONE":"ALL",text:t?"NONE":"ALL"}];return this.possibleLocations.filter((e=>e.instances>(t?-1:3))).forEach((t=>{if(!t.value.includes("_")){const s=qe.continents.find((e=>e.code===t.value));e.push({value:t.value,text:s?s.name:t.value})}})),e},countriesOptions(t,e){const s=[{value:"ALL",text:"ALL"}];return this.possibleLocations.filter((t=>t.instances>(e?-1:3))).forEach((e=>{if(!e.value.split("_")[2]&&e.value.startsWith(`${t}_`)){const t=qe.countries.find((t=>t.code===e.value.split("_")[1]));s.push({value:e.value.split("_")[1],text:t?t.name:e.value.split("_")[1]})}})),s},regionsOptions(t,e,s){const a=[{value:"ALL",text:"ALL"}];return this.possibleLocations.filter((t=>t.instances>(s?-1:3))).forEach((s=>{s.value.startsWith(`${t}_${e}_`)&&a.push({value:s.value.split("_")[2],text:s.value.split("_")[2]})})),a},generateGeolocations(){const t=[];for(let e=1;e<this.numberOfGeolocations+1;e+=1){const s=this.allowedGeolocations[`selectedContinent${e}`],a=this.allowedGeolocations[`selectedCountry${e}`],i=this.allowedGeolocations[`selectedRegion${e}`];if(s&&"ALL"!==s){let e=`ac${s}`;a&&"ALL"!==a&&(e+=`_${a}`,i&&"ALL"!==i&&(e+=`_${i}`)),t.push(e)}}for(let e=1;e<this.numberOfNegativeGeolocations+1;e+=1){const s=this.forbiddenGeolocations[`selectedContinent${e}`],a=this.forbiddenGeolocations[`selectedCountry${e}`],i=this.forbiddenGeolocations[`selectedRegion${e}`];if(s&&"NONE"!==s){let e=`a!c${s}`;a&&"ALL"!==a&&(e+=`_${a}`,i&&"ALL"!==i&&(e+=`_${i}`)),t.push(e)}}return t},getGeolocation(t){if(t.startsWith("a")&&!t.startsWith("ac")&&!t.startsWith("a!c")){const e=t.slice(1),s=qe.continents.find((t=>t.code===e))||{name:"ALL"};return`Continent: ${s.name||"Unkown"}`}if(t.startsWith("b")){const e=t.slice(1),s=qe.countries.find((t=>t.code===e))||{name:"ALL"};return`Country: ${s.name||"Unkown"}`}if(t.startsWith("ac")){const e=t.slice(2),s=e.split("_"),a=s[0],i=s[1],o=s[2],n=qe.continents.find((t=>t.code===a))||{name:"ALL"},r=qe.countries.find((t=>t.code===i))||{name:"ALL"};let l=`Allowed location: Continent: ${n.name}`;return i&&(l+=`, Country: ${r.name}`),o&&(l+=`, Region: ${o}`),l}if(t.startsWith("a!c")){const e=t.slice(3),s=e.split("_"),a=s[0],i=s[1],o=s[2],n=qe.continents.find((t=>t.code===a))||{name:"ALL"},r=qe.countries.find((t=>t.code===i))||{name:"ALL"};let l=`Forbidden location: Continent: ${n.name}`;return i&&(l+=`, Country: ${r.name}`),o&&(l+=`, Region: ${o}`),l}return"All locations allowed"},adjustMaxInstancesPossible(){const t=this.generateGeolocations(),e=t.filter((t=>t.startsWith("ac")));console.log(t);let s=0;e.forEach((t=>{const e=this.possibleLocations.find((e=>e.value===t.slice(2)));e&&(s+=e.instances),"ALL"===t&&(s+=100)})),e.length||(s+=100),console.log(s),s=s>3?s:3;const a=s>100?100:s;this.maxInstances=a,this.instancesLocked&&(this.maxInstances=this.appUpdateSpecification.instances)},constructAutomaticDomains(t,e,s=0){const a=JSON.parse(JSON.stringify(t)),i=e.toLowerCase();if(0===s){const t=[`${i}.app.runonflux.io`];for(let e=0;e<a.length;e+=1){const s=`${i}_${a[e]}.app.runonflux.io`;t.push(s)}return t}const o=[];for(let n=0;n<a.length;n+=1){const t=`${i}_${a[n]}.app.runonflux.io`;o.push(t)}return o},async uploadEnvToFluxStorage(t){try{const e=Math.floor(999999999999999*Math.random()).toString();if(this.appUpdateSpecification.compose[t].environmentParameters.toString().includes("F_S_ENV="))return void this.showToast("warning","Environment parameters are already in Flux Storage");const s={envid:e,env:JSON.parse(this.appUpdateSpecification.compose[t].environmentParameters)},a=await Fe.post("https://storage.runonflux.io/v1/env",s);"error"===a.data.status?this.showToast("danger",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data):(this.showToast("success","Successful upload of Environment to Flux Storage"),this.appUpdateSpecification.compose[t].environmentParameters=`["F_S_ENV=https://storage.runonflux.io/v1/env/${e}"]`)}catch(e){this.showToast("danger",e.message||e)}},async uploadCmdToFluxStorage(t){try{const e=Math.floor(999999999999999*Math.random()).toString();if(this.appUpdateSpecification.compose[t].commands.toString().includes("F_S_CMD="))return void this.showToast("warning","Commands are already in Flux Storage");const s={cmdid:e,cmd:JSON.parse(this.appUpdateSpecification.compose[t].commands)},a=await Fe.post("https://storage.runonflux.io/v1/cmd",s);"error"===a.data.status?this.showToast("danger",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data):(this.showToast("success","Successful upload of Commands to Flux Storage"),this.appUpdateSpecification.compose[t].commands=`["F_S_CMD=https://storage.runonflux.io/v1/cmd/${e}"]`)}catch(e){this.showToast("danger",e.message||e)}},async uploadContactsToFluxStorage(){try{const t=Math.floor(999999999999999*Math.random()).toString();if(this.appUpdateSpecification.contacts.toString().includes("F_S_CONTACTS="))return void this.showToast("warning","Contacts are already in Flux Storage");const e={contactsid:t,contacts:JSON.parse(this.appUpdateSpecification.contacts)},s=await Fe.post("https://storage.runonflux.io/v1/contacts",e);"error"===s.data.status?this.showToast("danger",this.output[this.output.length-1].data.message||this.output[this.output.length-1].data):(this.showToast("success","Successful upload of Contacts to Flux Storage"),this.appUpdateSpecification.contacts=`["F_S_CONTACTS=https://storage.runonflux.io/v1/contacts/${t}"]`)}catch(t){this.showToast("danger",t.message||t)}},removeFluxNode(t){const e=this.selectedEnterpriseNodes.findIndex((e=>e.ip===t));e>-1&&this.selectedEnterpriseNodes.splice(e,1)},async addFluxNode(t){try{const e=this.selectedEnterpriseNodes.find((e=>e.ip===t));if(console.log(t),!e){const e=this.enterpriseNodes.find((e=>e.ip===t));this.selectedEnterpriseNodes.push(e),console.log(this.selectedEnterpriseNodes);const s=this.enterprisePublicKeys.find((e=>e.nodeip===t));if(!s){const e=await this.fetchEnterpriseKey(t);if(e){const s={nodeip:t,nodekey:e},a=this.enterprisePublicKeys.find((e=>e.nodeip===t));a||this.enterprisePublicKeys.push(s)}}}}catch(e){console.log(e)}},async autoSelectNodes(){const{instances:t}=this.appUpdateSpecification,e=+t+3,s=+t+Math.ceil(Math.max(7,.15*+t)),a=this.enterpriseNodes.filter((t=>!this.selectedEnterpriseNodes.includes(t))),i=[],o=a.filter((t=>t.enterprisePoints>0&&t.score>1e3));for(let n=0;n<o.length;n+=1){const t=this.selectedEnterpriseNodes.filter((t=>t.pubkey===o[n].pubkey)).length,a=i.filter((t=>t.pubkey===o[n].pubkey)).length;if(t+a<e&&i.push(o[n]),i.length+this.selectedEnterpriseNodes.length>=s)break}if(i.length<s)throw new Error("Not enough kyc nodes available to run your enterprise app.");i.forEach((async t=>{const e=this.selectedEnterpriseNodes.find((e=>e.ip===t.ip));if(!e){this.selectedEnterpriseNodes.push(t);const e=this.enterprisePublicKeys.find((e=>e.nodeip===t.ip));if(!e){const e=await this.fetchEnterpriseKey(t.ip);if(e){const s={nodeip:t.ip,nodekey:e},a=this.enterprisePublicKeys.find((e=>e.nodeip===t.ip));a||this.enterprisePublicKeys.push(s)}}}}))},constructNodes(){if(this.appUpdateSpecification.nodes=[],this.selectedEnterpriseNodes.forEach((t=>{this.appUpdateSpecification.nodes.push(t.ip)})),this.appUpdateSpecification.nodes.length>this.maximumEnterpriseNodes)throw new Error("Maximum of 120 Enterprise Nodes allowed")},async getEnterpriseNodes(){const t=sessionStorage.getItem("flux_enterprise_nodes");t&&(this.enterpriseNodes=JSON.parse(t),this.entNodesSelectTable.totalRows=this.enterpriseNodes.length);try{const t=await D.Z.getEnterpriseNodes();"error"===t.data.status?this.showToast("danger",t.data.data.message||t.data.data):(this.enterpriseNodes=t.data.data,this.entNodesSelectTable.totalRows=this.enterpriseNodes.length,sessionStorage.setItem("flux_enterprise_nodes",JSON.stringify(this.enterpriseNodes)))}catch(e){console.log(e)}},async fetchEnterpriseKey(t){try{const e=t.split(":")[0],s=Number(t.split(":")[1]||16127),a=await Fe.get(`https://${e.replace(/\./g,"-")}-${s}.node.api.runonflux.io/flux/pgp`);if("error"!==a.data.status){const t=a.data.data;return t}return this.showToast("danger",a.data.data.message||a.data.data),null}catch(e){return console.log(e),null}},async encryptMessage(t,e){try{const s=await Promise.all(e.map((t=>je.readKey({armoredKey:t}))));console.log(e),console.log(t);const a=await je.createMessage({text:t}),i=await je.encrypt({message:a,encryptionKeys:s});return i}catch(s){return this.showToast("danger","Data encryption failed"),null}},async onSessionConnect(t){console.log(t);const e=await this.signClient.request({topic:t.topic,chainId:"eip155:1",request:{method:"personal_sign",params:[this.dataToSign,t.namespaces.eip155.accounts[0].split(":")[2]]}});console.log(e),this.signature=e},async initWalletConnect(){try{const t=await I.ZP.init(De);this.signClient=t;const e=t.session.getAll().length-1,s=t.session.getAll()[e];if(!s)throw new Error("WalletConnect session expired. Please log into FluxOS again");this.onSessionConnect(s)}catch(t){console.error(t),this.showToast("danger",t.message)}},async siwe(t,e){try{const s=`0x${Buffer.from(t,"utf8").toString("hex")}`,a=await Me.request({method:"personal_sign",params:[s,e]});console.log(a),this.signature=a}catch(s){console.error(s),this.showToast("danger",s.message)}},async initMetamask(){try{if(!Me)return void this.showToast("danger","Metamask not detected");let t;if(Me&&!Me.selectedAddress){const e=await Me.request({method:"eth_requestAccounts",params:[]});console.log(e),t=e[0]}else t=Me.selectedAddress;this.siwe(this.dataToSign,t)}catch(t){this.showToast("danger",t.message)}},async initSSP(){try{if(!window.ssp)return void this.showToast("danger","SSP Wallet not installed");const t=await window.ssp.request("sspwid_sign_message",{message:this.dataToSign});if("ERROR"===t.status)throw new Error(t.data);this.signature=t.signature}catch(t){this.showToast("danger",t.message)}}}},Ze=He;var Ke=s(1001),Je=(0,Ke.Z)(Ze,i,o,!1,null,null,null);const Ye=Je.exports},56761:t=>{(function(){"use strict";t.exports=function(t,e,s){for(var a=e||/\s/g,i=!1,o=!1,n=[],r=[],l=t.split(""),c=0;c<l.length;++c){var p=l[c],d=p.match(a);"'"!==p||o?'"'!==p||i?i||o||!d?n.push(p):n.length>0?(r.push(n.join("")),n=[]):e&&r.push(p):(!0===s&&n.push(p),o=!o):(!0===s&&n.push(p),i=!i)}return n.length>0?r.push(n.join("")):e&&r.push(""),r}})()},12617:t=>{!function(e,s){t.exports=s()}(self,(()=>(()=>{"use strict";var t={};return(()=>{var e=t;Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0,e.FitAddon=class{activate(t){this._terminal=t}dispose(){}fit(){const t=this.proposeDimensions();if(!t||!this._terminal||isNaN(t.cols)||isNaN(t.rows))return;const e=this._terminal._core;this._terminal.rows===t.rows&&this._terminal.cols===t.cols||(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}proposeDimensions(){if(!this._terminal)return;if(!this._terminal.element||!this._terminal.element.parentElement)return;const t=this._terminal._core,e=t._renderService.dimensions;if(0===e.css.cell.width||0===e.css.cell.height)return;const s=0===this._terminal.options.scrollback?0:t.viewport.scrollBarWidth,a=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(a.getPropertyValue("height")),o=Math.max(0,parseInt(a.getPropertyValue("width"))),n=window.getComputedStyle(this._terminal.element),r=i-(parseInt(n.getPropertyValue("padding-top"))+parseInt(n.getPropertyValue("padding-bottom"))),l=o-(parseInt(n.getPropertyValue("padding-right"))+parseInt(n.getPropertyValue("padding-left")))-s;return{cols:Math.max(2,Math.floor(l/e.css.cell.width)),rows:Math.max(1,Math.floor(r/e.css.cell.height))}}}})(),t})()))},12286:function(t){!function(e,s){t.exports=s()}(0,(()=>(()=>{"use strict";var t={930:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContrastCache=void 0;const a=s(485);e.ColorContrastCache=class{constructor(){this._color=new a.TwoKeyMap,this._css=new a.TwoKeyMap}setCss(t,e,s){this._css.set(t,e,s)}getCss(t,e){return this._css.get(t,e)}setColor(t,e,s){this._color.set(t,e,s)}getColor(t,e){return this._color.get(t,e)}clear(){this._color.clear(),this._css.clear()}}},997:function(t,e,s){var a=this&&this.__decorate||function(t,e,s,a){var i,o=arguments.length,n=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,a);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(n=(o<3?i(n):o>3?i(e,s,n):i(e,s))||n);return o>3&&n&&Object.defineProperty(e,s,n),n},i=this&&this.__param||function(t,e){return function(s,a){e(s,a,t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeService=e.DEFAULT_ANSI_COLORS=void 0;const o=s(930),n=s(160),r=s(345),l=s(859),c=s(97),p=n.css.toColor("#ffffff"),d=n.css.toColor("#000000"),u=n.css.toColor("#ffffff"),h=n.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};e.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const t=[n.css.toColor("#2e3436"),n.css.toColor("#cc0000"),n.css.toColor("#4e9a06"),n.css.toColor("#c4a000"),n.css.toColor("#3465a4"),n.css.toColor("#75507b"),n.css.toColor("#06989a"),n.css.toColor("#d3d7cf"),n.css.toColor("#555753"),n.css.toColor("#ef2929"),n.css.toColor("#8ae234"),n.css.toColor("#fce94f"),n.css.toColor("#729fcf"),n.css.toColor("#ad7fa8"),n.css.toColor("#34e2e2"),n.css.toColor("#eeeeec")],e=[0,95,135,175,215,255];for(let s=0;s<216;s++){const a=e[s/36%6|0],i=e[s/6%6|0],o=e[s%6];t.push({css:n.channels.toCss(a,i,o),rgba:n.channels.toRgba(a,i,o)})}for(let s=0;s<24;s++){const e=8+10*s;t.push({css:n.channels.toCss(e,e,e),rgba:n.channels.toRgba(e,e,e)})}return t})());let f=e.ThemeService=class extends l.Disposable{get colors(){return this._colors}constructor(t){super(),this._optionsService=t,this._contrastCache=new o.ColorContrastCache,this._halfContrastCache=new o.ColorContrastCache,this._onChangeColors=this.register(new r.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:p,background:d,cursor:u,cursorAccent:h,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:n.color.blend(d,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:n.color.blend(d,m),ansi:e.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(t={}){const s=this._colors;if(s.foreground=g(t.foreground,p),s.background=g(t.background,d),s.cursor=g(t.cursor,u),s.cursorAccent=g(t.cursorAccent,h),s.selectionBackgroundTransparent=g(t.selectionBackground,m),s.selectionBackgroundOpaque=n.color.blend(s.background,s.selectionBackgroundTransparent),s.selectionInactiveBackgroundTransparent=g(t.selectionInactiveBackground,s.selectionBackgroundTransparent),s.selectionInactiveBackgroundOpaque=n.color.blend(s.background,s.selectionInactiveBackgroundTransparent),s.selectionForeground=t.selectionForeground?g(t.selectionForeground,n.NULL_COLOR):void 0,s.selectionForeground===n.NULL_COLOR&&(s.selectionForeground=void 0),n.color.isOpaque(s.selectionBackgroundTransparent)){const t=.3;s.selectionBackgroundTransparent=n.color.opacity(s.selectionBackgroundTransparent,t)}if(n.color.isOpaque(s.selectionInactiveBackgroundTransparent)){const t=.3;s.selectionInactiveBackgroundTransparent=n.color.opacity(s.selectionInactiveBackgroundTransparent,t)}if(s.ansi=e.DEFAULT_ANSI_COLORS.slice(),s.ansi[0]=g(t.black,e.DEFAULT_ANSI_COLORS[0]),s.ansi[1]=g(t.red,e.DEFAULT_ANSI_COLORS[1]),s.ansi[2]=g(t.green,e.DEFAULT_ANSI_COLORS[2]),s.ansi[3]=g(t.yellow,e.DEFAULT_ANSI_COLORS[3]),s.ansi[4]=g(t.blue,e.DEFAULT_ANSI_COLORS[4]),s.ansi[5]=g(t.magenta,e.DEFAULT_ANSI_COLORS[5]),s.ansi[6]=g(t.cyan,e.DEFAULT_ANSI_COLORS[6]),s.ansi[7]=g(t.white,e.DEFAULT_ANSI_COLORS[7]),s.ansi[8]=g(t.brightBlack,e.DEFAULT_ANSI_COLORS[8]),s.ansi[9]=g(t.brightRed,e.DEFAULT_ANSI_COLORS[9]),s.ansi[10]=g(t.brightGreen,e.DEFAULT_ANSI_COLORS[10]),s.ansi[11]=g(t.brightYellow,e.DEFAULT_ANSI_COLORS[11]),s.ansi[12]=g(t.brightBlue,e.DEFAULT_ANSI_COLORS[12]),s.ansi[13]=g(t.brightMagenta,e.DEFAULT_ANSI_COLORS[13]),s.ansi[14]=g(t.brightCyan,e.DEFAULT_ANSI_COLORS[14]),s.ansi[15]=g(t.brightWhite,e.DEFAULT_ANSI_COLORS[15]),t.extendedAnsi){const a=Math.min(s.ansi.length-16,t.extendedAnsi.length);for(let i=0;i<a;i++)s.ansi[i+16]=g(t.extendedAnsi[i],e.DEFAULT_ANSI_COLORS[i+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(t){this._restoreColor(t),this._onChangeColors.fire(this.colors)}_restoreColor(t){if(void 0!==t)switch(t){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[t]=this._restoreColors.ansi[t]}else for(let e=0;e<this._restoreColors.ansi.length;++e)this._colors.ansi[e]=this._restoreColors.ansi[e]}modifyColors(t){t(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function g(t,e){if(void 0!==t)try{return n.css.toColor(t)}catch(t){}return e}e.ThemeService=f=a([i(0,c.IOptionsService)],f)},160:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.contrastRatio=e.toPaddedHex=e.rgba=e.rgb=e.css=e.color=e.channels=e.NULL_COLOR=void 0;const a=s(399);let i=0,o=0,n=0,r=0;var l,c,p,d,u;function h(t){const e=t.toString(16);return e.length<2?"0"+e:e}function m(t,e){return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)}e.NULL_COLOR={css:"#00000000",rgba:0},function(t){t.toCss=function(t,e,s,a){return void 0!==a?`#${h(t)}${h(e)}${h(s)}${h(a)}`:`#${h(t)}${h(e)}${h(s)}`},t.toRgba=function(t,e,s,a=255){return(t<<24|e<<16|s<<8|a)>>>0}}(l||(e.channels=l={})),function(t){function e(t,e){return r=Math.round(255*e),[i,o,n]=u.toChannels(t.rgba),{css:l.toCss(i,o,n,r),rgba:l.toRgba(i,o,n,r)}}t.blend=function(t,e){if(r=(255&e.rgba)/255,1===r)return{css:e.css,rgba:e.rgba};const s=e.rgba>>24&255,a=e.rgba>>16&255,c=e.rgba>>8&255,p=t.rgba>>24&255,d=t.rgba>>16&255,u=t.rgba>>8&255;return i=p+Math.round((s-p)*r),o=d+Math.round((a-d)*r),n=u+Math.round((c-u)*r),{css:l.toCss(i,o,n),rgba:l.toRgba(i,o,n)}},t.isOpaque=function(t){return 255==(255&t.rgba)},t.ensureContrastRatio=function(t,e,s){const a=u.ensureContrastRatio(t.rgba,e.rgba,s);if(a)return u.toColor(a>>24&255,a>>16&255,a>>8&255)},t.opaque=function(t){const e=(255|t.rgba)>>>0;return[i,o,n]=u.toChannels(e),{css:l.toCss(i,o,n),rgba:e}},t.opacity=e,t.multiplyOpacity=function(t,s){return r=255&t.rgba,e(t,r*s/255)},t.toColorRGB=function(t){return[t.rgba>>24&255,t.rgba>>16&255,t.rgba>>8&255]}}(c||(e.color=c={})),function(t){let e,s;if(!a.isNode){const t=document.createElement("canvas");t.width=1,t.height=1;const a=t.getContext("2d",{willReadFrequently:!0});a&&(e=a,e.globalCompositeOperation="copy",s=e.createLinearGradient(0,0,1,1))}t.toColor=function(t){if(t.match(/#[\da-f]{3,8}/i))switch(t.length){case 4:return i=parseInt(t.slice(1,2).repeat(2),16),o=parseInt(t.slice(2,3).repeat(2),16),n=parseInt(t.slice(3,4).repeat(2),16),u.toColor(i,o,n);case 5:return i=parseInt(t.slice(1,2).repeat(2),16),o=parseInt(t.slice(2,3).repeat(2),16),n=parseInt(t.slice(3,4).repeat(2),16),r=parseInt(t.slice(4,5).repeat(2),16),u.toColor(i,o,n,r);case 7:return{css:t,rgba:(parseInt(t.slice(1),16)<<8|255)>>>0};case 9:return{css:t,rgba:parseInt(t.slice(1),16)>>>0}}const a=t.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(a)return i=parseInt(a[1]),o=parseInt(a[2]),n=parseInt(a[3]),r=Math.round(255*(void 0===a[5]?1:parseFloat(a[5]))),u.toColor(i,o,n,r);if(!e||!s)throw new Error("css.toColor: Unsupported css format");if(e.fillStyle=s,e.fillStyle=t,"string"!=typeof e.fillStyle)throw new Error("css.toColor: Unsupported css format");if(e.fillRect(0,0,1,1),[i,o,n,r]=e.getImageData(0,0,1,1).data,255!==r)throw new Error("css.toColor: Unsupported css format");return{rgba:l.toRgba(i,o,n,r),css:t}}}(p||(e.css=p={})),function(t){function e(t,e,s){const a=t/255,i=e/255,o=s/255;return.2126*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}t.relativeLuminance=function(t){return e(t>>16&255,t>>8&255,255&t)},t.relativeLuminance2=e}(d||(e.rgb=d={})),function(t){function e(t,e,s){const a=t>>24&255,i=t>>16&255,o=t>>8&255;let n=e>>24&255,r=e>>16&255,l=e>>8&255,c=m(d.relativeLuminance2(n,r,l),d.relativeLuminance2(a,i,o));for(;c<s&&(n>0||r>0||l>0);)n-=Math.max(0,Math.ceil(.1*n)),r-=Math.max(0,Math.ceil(.1*r)),l-=Math.max(0,Math.ceil(.1*l)),c=m(d.relativeLuminance2(n,r,l),d.relativeLuminance2(a,i,o));return(n<<24|r<<16|l<<8|255)>>>0}function s(t,e,s){const a=t>>24&255,i=t>>16&255,o=t>>8&255;let n=e>>24&255,r=e>>16&255,l=e>>8&255,c=m(d.relativeLuminance2(n,r,l),d.relativeLuminance2(a,i,o));for(;c<s&&(n<255||r<255||l<255);)n=Math.min(255,n+Math.ceil(.1*(255-n))),r=Math.min(255,r+Math.ceil(.1*(255-r))),l=Math.min(255,l+Math.ceil(.1*(255-l))),c=m(d.relativeLuminance2(n,r,l),d.relativeLuminance2(a,i,o));return(n<<24|r<<16|l<<8|255)>>>0}t.ensureContrastRatio=function(t,a,i){const o=d.relativeLuminance(t>>8),n=d.relativeLuminance(a>>8);if(m(o,n)<i){if(n<o){const n=e(t,a,i),r=m(o,d.relativeLuminance(n>>8));if(r<i){const e=s(t,a,i);return r>m(o,d.relativeLuminance(e>>8))?n:e}return n}const r=s(t,a,i),l=m(o,d.relativeLuminance(r>>8));if(l<i){const s=e(t,a,i);return l>m(o,d.relativeLuminance(s>>8))?r:s}return r}},t.reduceLuminance=e,t.increaseLuminance=s,t.toChannels=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},t.toColor=function(t,e,s,a){return{css:l.toCss(t,e,s,a),rgba:l.toRgba(t,e,s,a)}}}(u||(e.rgba=u={})),e.toPaddedHex=h,e.contrastRatio=m},345:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.forwardEvent=e.EventEmitter=void 0,e.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=t=>(this._listeners.push(t),{dispose:()=>{if(!this._disposed)for(let e=0;e<this._listeners.length;e++)if(this._listeners[e]===t)return void this._listeners.splice(e,1)}})),this._event}fire(t,e){const s=[];for(let a=0;a<this._listeners.length;a++)s.push(this._listeners[a]);for(let a=0;a<s.length;a++)s[a].call(void 0,t,e)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},e.forwardEvent=function(t,e){return t((t=>e.fire(t)))}},859:(t,e)=>{function s(t){for(const e of t)e.dispose();t.length=0}Object.defineProperty(e,"__esModule",{value:!0}),e.getDisposeArrayDisposable=e.disposeArray=e.toDisposable=e.MutableDisposable=e.Disposable=void 0,e.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const t of this._disposables)t.dispose();this._disposables.length=0}register(t){return this._disposables.push(t),t}unregister(t){const e=this._disposables.indexOf(t);-1!==e&&this._disposables.splice(e,1)}},e.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(t){var e;this._isDisposed||t===this._value||(null===(e=this._value)||void 0===e||e.dispose(),this._value=t)}clear(){this.value=void 0}dispose(){var t;this._isDisposed=!0,null===(t=this._value)||void 0===t||t.dispose(),this._value=void 0}},e.toDisposable=function(t){return{dispose:t}},e.disposeArray=s,e.getDisposeArrayDisposable=function(t){return{dispose:()=>s(t)}}},485:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FourKeyMap=e.TwoKeyMap=void 0;class s{constructor(){this._data={}}set(t,e,s){this._data[t]||(this._data[t]={}),this._data[t][e]=s}get(t,e){return this._data[t]?this._data[t][e]:void 0}clear(){this._data={}}}e.TwoKeyMap=s,e.FourKeyMap=class{constructor(){this._data=new s}set(t,e,a,i,o){this._data.get(t,e)||this._data.set(t,e,new s),this._data.get(t,e).set(a,i,o)}get(t,e,s,a){var i;return null===(i=this._data.get(t,e))||void 0===i?void 0:i.get(s,a)}clear(){this._data.clear()}}},399:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isChromeOS=e.isLinux=e.isWindows=e.isIphone=e.isIpad=e.isMac=e.getSafariVersion=e.isSafari=e.isLegacyEdge=e.isFirefox=e.isNode=void 0,e.isNode="undefined"==typeof navigator;const s=e.isNode?"node":navigator.userAgent,a=e.isNode?"node":navigator.platform;e.isFirefox=s.includes("Firefox"),e.isLegacyEdge=s.includes("Edge"),e.isSafari=/^((?!chrome|android).)*safari/i.test(s),e.getSafariVersion=function(){if(!e.isSafari)return 0;const t=s.match(/Version\/(\d+)/);return null===t||t.length<2?0:parseInt(t[1])},e.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(a),e.isIpad="iPad"===a,e.isIphone="iPhone"===a,e.isWindows=["Windows","Win16","Win32","WinCE"].includes(a),e.isLinux=a.indexOf("Linux")>=0,e.isChromeOS=/\bCrOS\b/.test(s)},726:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.getServiceDependencies=e.serviceRegistry=void 0;const s="di$target",a="di$dependencies";e.serviceRegistry=new Map,e.getServiceDependencies=function(t){return t[a]||[]},e.createDecorator=function(t){if(e.serviceRegistry.has(t))return e.serviceRegistry.get(t);const i=function(t,e,o){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(t,e,i){e[s]===e?e[a].push({id:t,index:i}):(e[a]=[{id:t,index:i}],e[s]=e)}(i,t,o)};return i.toString=()=>t,e.serviceRegistry.set(t,i),i}},97:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IDecorationService=e.IUnicodeService=e.IOscLinkService=e.IOptionsService=e.ILogService=e.LogLevelEnum=e.IInstantiationService=e.ICharsetService=e.ICoreService=e.ICoreMouseService=e.IBufferService=void 0;const a=s(726);var i;e.IBufferService=(0,a.createDecorator)("BufferService"),e.ICoreMouseService=(0,a.createDecorator)("CoreMouseService"),e.ICoreService=(0,a.createDecorator)("CoreService"),e.ICharsetService=(0,a.createDecorator)("CharsetService"),e.IInstantiationService=(0,a.createDecorator)("InstantiationService"),function(t){t[t.TRACE=0]="TRACE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.OFF=5]="OFF"}(i||(e.LogLevelEnum=i={})),e.ILogService=(0,a.createDecorator)("LogService"),e.IOptionsService=(0,a.createDecorator)("OptionsService"),e.IOscLinkService=(0,a.createDecorator)("OscLinkService"),e.IUnicodeService=(0,a.createDecorator)("UnicodeService"),e.IDecorationService=(0,a.createDecorator)("DecorationService")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,s),o.exports}var a={};return(()=>{var t=a;Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLSerializeHandler=t.SerializeAddon=void 0;const e=s(997);function i(t,e,s){return Math.max(e,Math.min(t,s))}class o{constructor(t){this._buffer=t}serialize(t){const e=this._buffer.getNullCell(),s=this._buffer.getNullCell();let a=e;const i=t.start.x,o=t.end.x,n=t.start.y,r=t.end.y;this._beforeSerialize(o-i,i,o);for(let l=i;l<=o;l++){const i=this._buffer.getLine(l);if(i){const o=l!==t.start.x?0:n,c=l!==t.end.x?i.length:r;for(let t=o;t<c;t++){const o=i.getCell(t,a===e?s:e);o?(this._nextCell(o,a,l,t),a=o):console.warn(`Can't get cell at row=${l}, col=${t}`)}}this._rowEnd(l,l===o)}return this._afterSerialize(),this._serializeString()}_nextCell(t,e,s,a){}_rowEnd(t,e){}_beforeSerialize(t,e,s){}_afterSerialize(){}_serializeString(){return""}}function n(t,e){return t.getFgColorMode()===e.getFgColorMode()&&t.getFgColor()===e.getFgColor()}function r(t,e){return t.getBgColorMode()===e.getBgColorMode()&&t.getBgColor()===e.getBgColor()}function l(t,e){return t.isInverse()===e.isInverse()&&t.isBold()===e.isBold()&&t.isUnderline()===e.isUnderline()&&t.isOverline()===e.isOverline()&&t.isBlink()===e.isBlink()&&t.isInvisible()===e.isInvisible()&&t.isItalic()===e.isItalic()&&t.isDim()===e.isDim()&&t.isStrikethrough()===e.isStrikethrough()}class c extends o{constructor(t,e){super(t),this._terminal=e,this._rowIndex=0,this._allRows=new Array,this._allRowSeparators=new Array,this._currentRow="",this._nullCellCount=0,this._cursorStyle=this._buffer.getNullCell(),this._cursorStyleRow=0,this._cursorStyleCol=0,this._backgroundCell=this._buffer.getNullCell(),this._firstRow=0,this._lastCursorRow=0,this._lastCursorCol=0,this._lastContentCursorRow=0,this._lastContentCursorCol=0,this._thisRowLastChar=this._buffer.getNullCell(),this._thisRowLastSecondChar=this._buffer.getNullCell(),this._nextRowFirstChar=this._buffer.getNullCell()}_beforeSerialize(t,e,s){this._allRows=new Array(t),this._lastContentCursorRow=e,this._lastCursorRow=e,this._firstRow=e}_rowEnd(t,e){var s;this._nullCellCount>0&&!r(this._cursorStyle,this._backgroundCell)&&(this._currentRow+=`[${this._nullCellCount}X`);let a="";if(!e){t-this._firstRow>=this._terminal.rows&&(null===(s=this._buffer.getLine(this._cursorStyleRow))||void 0===s||s.getCell(this._cursorStyleCol,this._backgroundCell));const e=this._buffer.getLine(t),i=this._buffer.getLine(t+1);if(i.isWrapped){a="";const s=e.getCell(e.length-1,this._thisRowLastChar),o=e.getCell(e.length-2,this._thisRowLastSecondChar),n=i.getCell(0,this._nextRowFirstChar),l=n.getWidth()>1;let c=!1;(n.getChars()&&l?this._nullCellCount<=1:this._nullCellCount<=0)&&((s.getChars()||0===s.getWidth())&&r(s,n)&&(c=!0),l&&(o.getChars()||0===o.getWidth())&&r(s,n)&&r(o,n)&&(c=!0)),c||(a="-".repeat(this._nullCellCount+1),a+="[1D[1X",this._nullCellCount>0&&(a+="[A",a+=`[${e.length-this._nullCellCount}C`,a+=`[${this._nullCellCount}X`,a+=`[${e.length-this._nullCellCount}D`,a+="[B"),this._lastContentCursorRow=t+1,this._lastContentCursorCol=0,this._lastCursorRow=t+1,this._lastCursorCol=0)}else a="\r\n",this._lastCursorRow=t+1,this._lastCursorCol=0}this._allRows[this._rowIndex]=this._currentRow,this._allRowSeparators[this._rowIndex++]=a,this._currentRow="",this._nullCellCount=0}_diffStyle(t,e){const s=[],a=!n(t,e),i=!r(t,e),o=!l(t,e);if(a||i||o)if(t.isAttributeDefault())e.isAttributeDefault()||s.push(0);else{if(a){const e=t.getFgColor();t.isFgRGB()?s.push(38,2,e>>>16&255,e>>>8&255,255&e):t.isFgPalette()?e>=16?s.push(38,5,e):s.push(8&e?90+(7&e):30+(7&e)):s.push(39)}if(i){const e=t.getBgColor();t.isBgRGB()?s.push(48,2,e>>>16&255,e>>>8&255,255&e):t.isBgPalette()?e>=16?s.push(48,5,e):s.push(8&e?100+(7&e):40+(7&e)):s.push(49)}o&&(t.isInverse()!==e.isInverse()&&s.push(t.isInverse()?7:27),t.isBold()!==e.isBold()&&s.push(t.isBold()?1:22),t.isUnderline()!==e.isUnderline()&&s.push(t.isUnderline()?4:24),t.isOverline()!==e.isOverline()&&s.push(t.isOverline()?53:55),t.isBlink()!==e.isBlink()&&s.push(t.isBlink()?5:25),t.isInvisible()!==e.isInvisible()&&s.push(t.isInvisible()?8:28),t.isItalic()!==e.isItalic()&&s.push(t.isItalic()?3:23),t.isDim()!==e.isDim()&&s.push(t.isDim()?2:22),t.isStrikethrough()!==e.isStrikethrough()&&s.push(t.isStrikethrough()?9:29))}return s}_nextCell(t,e,s,a){if(0===t.getWidth())return;const i=""===t.getChars(),o=this._diffStyle(t,this._cursorStyle);if(i?!r(this._cursorStyle,t):o.length>0){this._nullCellCount>0&&(r(this._cursorStyle,this._backgroundCell)||(this._currentRow+=`[${this._nullCellCount}X`),this._currentRow+=`[${this._nullCellCount}C`,this._nullCellCount=0),this._lastContentCursorRow=this._lastCursorRow=s,this._lastContentCursorCol=this._lastCursorCol=a,this._currentRow+=`[${o.join(";")}m`;const t=this._buffer.getLine(s);void 0!==t&&(t.getCell(a,this._cursorStyle),this._cursorStyleRow=s,this._cursorStyleCol=a)}i?this._nullCellCount+=t.getWidth():(this._nullCellCount>0&&(r(this._cursorStyle,this._backgroundCell)||(this._currentRow+=`[${this._nullCellCount}X`),this._currentRow+=`[${this._nullCellCount}C`,this._nullCellCount=0),this._currentRow+=t.getChars(),this._lastContentCursorRow=this._lastCursorRow=s,this._lastContentCursorCol=this._lastCursorCol=a+t.getWidth())}_serializeString(){let t=this._allRows.length;this._buffer.length-this._firstRow<=this._terminal.rows&&(t=this._lastContentCursorRow+1-this._firstRow,this._lastCursorCol=this._lastContentCursorCol,this._lastCursorRow=this._lastContentCursorRow);let e="";for(let r=0;r<t;r++)e+=this._allRows[r],r+1<t&&(e+=this._allRowSeparators[r]);const s=this._buffer.baseY+this._buffer.cursorY,a=this._buffer.cursorX;var i;(s!==this._lastCursorRow||a!==this._lastCursorCol)&&((i=s-this._lastCursorRow)>0?e+=`[${i}B`:i<0&&(e+=`[${-i}A`),(t=>{t>0?e+=`[${t}C`:t<0&&(e+=`[${-t}D`)})(a-this._lastCursorCol));const o=this._terminal._core._inputHandler._curAttrData,n=this._diffStyle(o,this._cursorStyle);return n.length>0&&(e+=`[${n.join(";")}m`),e}}t.SerializeAddon=class{activate(t){this._terminal=t}_serializeBuffer(t,e,s){const a=e.length,o=new c(e,t),n=void 0===s?a:i(s+t.rows,0,a);return o.serialize({start:{x:a-n,y:0},end:{x:a-1,y:t.cols}})}_serializeBufferAsHTML(t,e){var s,a;const o=t.buffer.active,n=new p(o,t,e);if(null===(s=e.onlySelection)||void 0===s||!s){const s=o.length,a=e.scrollback,r=void 0===a?s:i(a+t.rows,0,s);return n.serialize({start:{x:s-r,y:0},end:{x:s-1,y:t.cols}})}const r=null===(a=this._terminal)||void 0===a?void 0:a.getSelectionPosition();return void 0!==r?n.serialize({start:{x:r.start.y,y:r.start.x},end:{x:r.end.y,y:r.end.x}}):""}_serializeModes(t){let e="";const s=t.modes;if(s.applicationCursorKeysMode&&(e+="[?1h"),s.applicationKeypadMode&&(e+="[?66h"),s.bracketedPasteMode&&(e+="[?2004h"),s.insertMode&&(e+="[4h"),s.originMode&&(e+="[?6h"),s.reverseWraparoundMode&&(e+="[?45h"),s.sendFocusMode&&(e+="[?1004h"),!1===s.wraparoundMode&&(e+="[?7l"),"none"!==s.mouseTrackingMode)switch(s.mouseTrackingMode){case"x10":e+="[?9h";break;case"vt200":e+="[?1000h";break;case"drag":e+="[?1002h";break;case"any":e+="[?1003h"}return e}serialize(t){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");let e=this._serializeBuffer(this._terminal,this._terminal.buffer.normal,null==t?void 0:t.scrollback);return(null==t?void 0:t.excludeAltBuffer)||"alternate"!==this._terminal.buffer.active.type||(e+=`[?1049h[H${this._serializeBuffer(this._terminal,this._terminal.buffer.alternate,void 0)}`),(null==t?void 0:t.excludeModes)||(e+=this._serializeModes(this._terminal)),e}serializeAsHTML(t){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");return this._serializeBufferAsHTML(this._terminal,t||{})}dispose(){}};class p extends o{constructor(t,s,a){super(t),this._terminal=s,this._options=a,this._currentRow="",this._htmlContent="",s._core._themeService?this._ansiColors=s._core._themeService.colors.ansi:this._ansiColors=e.DEFAULT_ANSI_COLORS}_padStart(t,e,s){return e>>=0,s=null!=s?s:" ",t.length>e?t:((e-=t.length)>s.length&&(s+=s.repeat(e/s.length)),s.slice(0,e)+t)}_beforeSerialize(t,e,s){var a,i,o,n,r;this._htmlContent+="<html><body>\x3c!--StartFragment--\x3e<pre>";let l="#000000",c="#ffffff";null!==(a=this._options.includeGlobalBackground)&&void 0!==a&&a&&(l=null!==(o=null===(i=this._terminal.options.theme)||void 0===i?void 0:i.foreground)&&void 0!==o?o:"#ffffff",c=null!==(r=null===(n=this._terminal.options.theme)||void 0===n?void 0:n.background)&&void 0!==r?r:"#000000");const p=[];p.push("color: "+l+";"),p.push("background-color: "+c+";"),p.push("font-family: "+this._terminal.options.fontFamily+";"),p.push("font-size: "+this._terminal.options.fontSize+"px;"),this._htmlContent+="<div style='"+p.join(" ")+"'>"}_afterSerialize(){this._htmlContent+="</div>",this._htmlContent+="</pre>\x3c!--EndFragment--\x3e</body></html>"}_rowEnd(t,e){this._htmlContent+="<div><span>"+this._currentRow+"</span></div>",this._currentRow=""}_getHexColor(t,e){const s=e?t.getFgColor():t.getBgColor();return(e?t.isFgRGB():t.isBgRGB())?[s>>16&255,s>>8&255,255&s].map((t=>this._padStart(t.toString(16),2,"0"))).join(""):(e?t.isFgPalette():t.isBgPalette())?this._ansiColors[s].css:void 0}_diffStyle(t,e){const s=[],a=!n(t,e),i=!r(t,e),o=!l(t,e);if(a||i||o){const e=this._getHexColor(t,!0);e&&s.push("color: "+e+";");const a=this._getHexColor(t,!1);return a&&s.push("background-color: "+a+";"),t.isInverse()&&s.push("color: #000000; background-color: #BFBFBF;"),t.isBold()&&s.push("font-weight: bold;"),t.isUnderline()&&t.isOverline()?s.push("text-decoration: overline underline;"):t.isUnderline()?s.push("text-decoration: underline;"):t.isOverline()&&s.push("text-decoration: overline;"),t.isBlink()&&s.push("text-decoration: blink;"),t.isInvisible()&&s.push("visibility: hidden;"),t.isItalic()&&s.push("font-style: italic;"),t.isDim()&&s.push("opacity: 0.5;"),t.isStrikethrough()&&s.push("text-decoration: line-through;"),s}}_nextCell(t,e,s,a){if(0===t.getWidth())return;const i=""===t.getChars(),o=this._diffStyle(t,e);o&&(this._currentRow+=0===o.length?"</span><span>":"</span><span style='"+o.join(" ")+"'>"),this._currentRow+=i?" ":t.getChars()}_serializeString(){return this._htmlContent}}t.HTMLSerializeHandler=p})(),a})()))},32993:function(t){!function(e,s){t.exports=s()}(0,(()=>(()=>{"use strict";var t={433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeV11=void 0;const s=[[768,879],[1155,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1541],[1552,1562],[1564,1564],[1611,1631],[1648,1648],[1750,1757],[1759,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2045,2045],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2259,2306],[2362,2362],[2364,2364],[2369,2376],[2381,2381],[2385,2391],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2558,2558],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2641,2641],[2672,2673],[2677,2677],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2810,2815],[2817,2817],[2876,2876],[2879,2879],[2881,2884],[2893,2893],[2902,2902],[2914,2915],[2946,2946],[3008,3008],[3021,3021],[3072,3072],[3076,3076],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3201,3201],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3405,3405],[3426,3427],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4226,4226],[4229,4230],[4237,4237],[4253,4253],[4448,4607],[4957,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6158],[6277,6278],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6683,6683],[6742,6742],[6744,6750],[6752,6752],[6754,6754],[6757,6764],[6771,6780],[6783,6783],[6832,6846],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7142,7142],[7144,7145],[7149,7149],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7405,7405],[7412,7412],[7416,7417],[7616,7673],[7675,7679],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[8400,8432],[11503,11505],[11647,11647],[11744,11775],[12330,12333],[12441,12442],[42607,42610],[42612,42621],[42654,42655],[42736,42737],[43010,43010],[43014,43014],[43019,43019],[43045,43046],[43204,43205],[43232,43249],[43263,43263],[43302,43309],[43335,43345],[43392,43394],[43443,43443],[43446,43449],[43452,43453],[43493,43493],[43561,43566],[43569,43570],[43573,43574],[43587,43587],[43596,43596],[43644,43644],[43696,43696],[43698,43700],[43703,43704],[43710,43711],[43713,43713],[43756,43757],[43766,43766],[44005,44005],[44008,44008],[44013,44013],[64286,64286],[65024,65039],[65056,65071],[65279,65279],[65529,65531]],a=[[66045,66045],[66272,66272],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[68325,68326],[68900,68903],[69446,69456],[69633,69633],[69688,69702],[69759,69761],[69811,69814],[69817,69818],[69821,69821],[69837,69837],[69888,69890],[69927,69931],[69933,69940],[70003,70003],[70016,70017],[70070,70078],[70089,70092],[70191,70193],[70196,70196],[70198,70199],[70206,70206],[70367,70367],[70371,70378],[70400,70401],[70459,70460],[70464,70464],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70726,70726],[70750,70750],[70835,70840],[70842,70842],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71229,71229],[71231,71232],[71339,71339],[71341,71341],[71344,71349],[71351,71351],[71453,71455],[71458,71461],[71463,71467],[71727,71735],[71737,71738],[72148,72151],[72154,72155],[72160,72160],[72193,72202],[72243,72248],[72251,72254],[72263,72263],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72767,72767],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73018,73018],[73020,73021],[73023,73029],[73031,73031],[73104,73105],[73109,73109],[73111,73111],[73459,73460],[78896,78904],[92912,92916],[92976,92982],[94031,94031],[94095,94098],[113821,113822],[113824,113827],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121461,121461],[121476,121476],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[123184,123190],[123628,123631],[125136,125142],[125252,125258],[917505,917505],[917536,917631],[917760,917999]],i=[[4352,4447],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9725,9726],[9748,9749],[9800,9811],[9855,9855],[9875,9875],[9889,9889],[9898,9899],[9917,9918],[9924,9925],[9934,9934],[9940,9940],[9962,9962],[9970,9971],[9973,9973],[9978,9978],[9981,9981],[9989,9989],[9994,9995],[10024,10024],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11093],[11904,11929],[11931,12019],[12032,12245],[12272,12283],[12288,12329],[12334,12350],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12730],[12736,12771],[12784,12830],[12832,12871],[12880,19903],[19968,42124],[42128,42182],[43360,43388],[44032,55203],[63744,64255],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65281,65376],[65504,65510]],o=[[94176,94179],[94208,100343],[100352,101106],[110592,110878],[110928,110930],[110948,110951],[110960,111355],[126980,126980],[127183,127183],[127374,127374],[127377,127386],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128725,128725],[128747,128748],[128756,128762],[128992,129003],[129293,129393],[129395,129398],[129402,129442],[129445,129450],[129454,129482],[129485,129535],[129648,129651],[129656,129658],[129664,129666],[129680,129685],[131072,196605],[196608,262141]];let n;function r(t,e){let s,a=0,i=e.length-1;if(t<e[0][0]||t>e[i][1])return!1;for(;i>=a;)if(s=a+i>>1,t>e[s][1])a=s+1;else{if(!(t<e[s][0]))return!0;i=s-1}return!1}e.UnicodeV11=class{constructor(){if(this.version="11",!n){n=new Uint8Array(65536),n.fill(1),n[0]=0,n.fill(0,1,32),n.fill(0,127,160);for(let t=0;t<s.length;++t)n.fill(0,s[t][0],s[t][1]+1);for(let t=0;t<i.length;++t)n.fill(2,i[t][0],i[t][1]+1)}}wcwidth(t){return t<32?0:t<127?1:t<65536?n[t]:r(t,a)?0:r(t,o)?2:1}}}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,s),o.exports}var a={};return(()=>{var t=a;Object.defineProperty(t,"__esModule",{value:!0}),t.Unicode11Addon=void 0;const e=s(433);t.Unicode11Addon=class{activate(t){t.unicode.register(new e.UnicodeV11)}dispose(){}}})(),a})()))},67511:t=>{!function(e,s){t.exports=s()}(self,(()=>(()=>{"use strict";var t={6:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkComputer=e.WebLinkProvider=void 0,e.WebLinkProvider=class{constructor(t,e,s,a={}){this._terminal=t,this._regex=e,this._handler=s,this._options=a}provideLinks(t,e){const a=s.computeLink(t,this._regex,this._terminal,this._handler);e(this._addCallbacks(a))}_addCallbacks(t){return t.map((t=>(t.leave=this._options.leave,t.hover=(e,s)=>{if(this._options.hover){const{range:a}=t;this._options.hover(e,s,a)}},t)))}};class s{static computeLink(t,e,a,i){const o=new RegExp(e.source,(e.flags||"")+"g"),[n,r]=s._getWindowedLineStrings(t-1,a),l=n.join("");let c;const p=[];for(;c=o.exec(l);){const e=c[0];try{const t=new URL(e),s=decodeURI(t.toString());if(e!==s&&e+"/"!==s)continue}catch(t){continue}const[o,n]=s._mapStrIdx(a,r,0,c.index),[l,d]=s._mapStrIdx(a,o,n,e.length);if(-1===o||-1===n||-1===l||-1===d)continue;const u={start:{x:n+1,y:o+1},end:{x:d,y:l+1}};p.push({range:u,text:e,activate:i})}return p}static _getWindowedLineStrings(t,e){let s,a=t,i=t,o=0,n="";const r=[];if(s=e.buffer.active.getLine(t)){const t=s.translateToString(!0);if(s.isWrapped&&" "!==t[0]){for(o=0;(s=e.buffer.active.getLine(--a))&&o<2048&&(n=s.translateToString(!0),o+=n.length,r.push(n),s.isWrapped&&-1===n.indexOf(" ")););r.reverse()}for(r.push(t),o=0;(s=e.buffer.active.getLine(++i))&&s.isWrapped&&o<2048&&(n=s.translateToString(!0),o+=n.length,r.push(n),-1===n.indexOf(" ")););}return[r,a]}static _mapStrIdx(t,e,s,a){const i=t.buffer.active,o=i.getNullCell();let n=s;for(;a;){const t=i.getLine(e);if(!t)return[-1,-1];for(let s=n;s<t.length;++s){t.getCell(s,o);const n=o.getChars();if(o.getWidth()&&(a-=n.length||1,s===t.length-1&&""===n)){const t=i.getLine(e+1);t&&t.isWrapped&&(t.getCell(0,o),2===o.getWidth()&&(a+=1))}if(a<0)return[e,s]}e++,n=0}return[e,n]}}e.LinkComputer=s}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,s),o.exports}var a={};return(()=>{var t=a;Object.defineProperty(t,"__esModule",{value:!0}),t.WebLinksAddon=void 0;const e=s(6),i=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function o(t,e){const s=window.open();if(s){try{s.opener=null}catch(t){}s.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}t.WebLinksAddon=class{constructor(t=o,e={}){this._handler=t,this._options=e}activate(t){this._terminal=t;const s=this._options,a=s.urlRegex||i;this._linkProvider=this._terminal.registerLinkProvider(new e.WebLinkProvider(this._terminal,a,this._handler,s))}dispose(){var t;null===(t=this._linkProvider)||void 0===t||t.dispose()}}})(),a})()))}}]);