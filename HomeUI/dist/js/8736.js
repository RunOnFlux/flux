(globalThis["webpackChunkflux"]=globalThis["webpackChunkflux"]||[]).push([[8736],{7860:(t,e,a)=>{"use strict";t.exports=a.p+"img/Stripe.svg"},10982:function(t){!function(e,a){t.exports=a()}("undefined"!=typeof self&&self,function(){return function(t){function e(s){if(a[s])return a[s].exports;var i=a[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e){t.exports=function(t,e,a,s,i,o){var n,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(n=t,r=t.default);var c,d="function"==typeof r?r.options:r;if(e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0),a&&(d.functional=!0),i&&(d._scopeId=i),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=c):s&&(c=s),c){var u=d.functional,p=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(t,e){return c.call(e),p(t,e)}):d.beforeCreate=p?[].concat(p,c):[c]}return{esModule:n,exports:r,options:d}}},function(t,e,a){"use strict";var s=a(2),i=a(4),o=a(14);e.a={name:"form-wizard",components:{WizardButton:s.a,WizardStep:i.a},props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},layout:{type:String,default:"horizontal"},stepsClasses:{type:[String,Array],default:""},stepSize:{type:String,default:"md",validator:function(t){return-1!==["xs","sm","md","lg"].indexOf(t)}},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(t){return t>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return"vertical"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(t,e){this.$emit("on-change",t,e),this.$emit("update:startIndex",e)},addTab:function(t){var e=this.$slots.default.indexOf(t.$vnode);t.tabId=""+t.title.replace(/ /g,"")+e,this.tabs.splice(e,0,t),e<this.activeTabIndex+1&&(this.maxStep=e,this.changeTab(this.activeTabIndex+1,e))},removeTab:function(t){var e=this.tabs,a=e.indexOf(t);a>-1&&(a===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),a<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),e.splice(a,1))},reset:function(){this.maxStep=0,this.tabs.forEach(function(t){t.checked=!1}),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach(function(t){t.checked=!0})},navigateToTab:function(t){var e=this,a=t>this.activeTabIndex;if(t<=this.maxStep){var s=function s(){a&&t-e.activeTabIndex>1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.beforeTabChange(e.activeTabIndex,s)):(e.changeTab(e.activeTabIndex,t),e.afterTabChange(e.activeTabIndex))};a?this.beforeTabChange(this.activeTabIndex,s):(this.setValidationError(null),s())}return t<=this.maxStep},nextTab:function(){var t=this,e=function(){t.activeTabIndex<t.tabCount-1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.afterTabChange(t.activeTabIndex)):t.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,e)},prevTab:function(){var t=this,e=function(){t.activeTabIndex>0&&(t.setValidationError(null),t.changeTab(t.activeTabIndex,t.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,e):e()},focusNextTab:function(){var t=Object(o.b)(this.tabs);if(-1!==t&&t<this.tabs.length-1){var e=this.tabs[t+1];e.checked&&Object(o.a)(e.tabId)}},focusPrevTab:function(){var t=Object(o.b)(this.tabs);if(-1!==t&&t>0){var e=this.tabs[t-1].tabId;Object(o.a)(e)}},setLoading:function(t){this.loading=t,this.$emit("on-loading",t)},setValidationError:function(t){this.tabs[this.activeTabIndex].validationError=t,this.$emit("on-error",t)},validateBeforeChange:function(t,e){var a=this;if(this.setValidationError(null),Object(o.c)(t))this.setLoading(!0),t.then(function(t){a.setLoading(!1);var s=!0===t;a.executeBeforeChange(s,e)}).catch(function(t){a.setLoading(!1),a.setValidationError(t)});else{var s=!0===t;this.executeBeforeChange(s,e)}},executeBeforeChange:function(t,e){this.$emit("on-validate",t,this.activeTabIndex),t?e():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(t,e){if(!this.loading){var a=this.tabs[t];if(a&&void 0!==a.beforeChange){var s=a.beforeChange();this.validateBeforeChange(s,e)}else e()}},afterTabChange:function(t){if(!this.loading){var e=this.tabs[t];e&&void 0!==e.afterChange&&e.afterChange()}},changeTab:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.tabs[t],i=this.tabs[e];return s&&(s.active=!1),i&&(i.active=!0),a&&this.activeTabIndex!==e&&this.emitTabChange(t,e),this.activeTabIndex=e,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(t){this.$router&&t.route&&this.$router.push(t.route)},checkRouteChange:function(t){var e=-1,a=this.tabs.find(function(a,s){var i=a.route===t;return i&&(e=s),i});if(a&&!a.active){var s=e>this.activeTabIndex;this.navigateToTab(e,s)}},deactivateTabs:function(){this.tabs.forEach(function(t){t.active=!1})},activateTab:function(t){this.deactivateTabs();var e=this.tabs[t];e&&(e.active=!0,e.checked=!0,this.tryChangeRoute(e))},activateTabAndCheckStep:function(t){this.activateTab(t),t>this.maxStep&&(this.maxStep=t),this.activeTabIndex=t},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}},mounted:function(){this.initializeTabs()},watch:{"$route.path":function(t){this.checkRouteChange(t)}}}},function(t,e,a){"use strict";function s(t){a(10)}var i=a(3),o=a(11),n=a(0),r=s,l=n(i.a,o.a,!1,r,null,null);e.a=l.exports},function(t,e,a){"use strict";e.a={}},function(t,e,a){"use strict";function s(t){a(12)}var i=a(5),o=a(13),n=a(0),r=s,l=n(i.a,o.a,!1,r,null,null);e.a=l.exports},function(t,e,a){"use strict";e.a={name:"wizard-step",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:""},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return"square"===this.tab.shape},isTabShape:function(){return"tab"===this.tab.shape}}}},function(t,e,a){"use strict";e.a={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:["addTab","removeTab"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:""}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(8),i=a(16),o=a(2),n=a(4);a.d(e,"FormWizard",function(){return s.a}),a.d(e,"TabContent",function(){return i.a}),a.d(e,"WizardButton",function(){return o.a}),a.d(e,"WizardStep",function(){return n.a});var r={install:function(t){t.component("form-wizard",s.a),t.component("tab-content",i.a),t.component("wizard-button",o.a),t.component("wizard-step",n.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),e.default=r},function(t,e,a){"use strict";function s(t){a(9)}var i=a(1),o=a(15),n=a(0),r=s,l=n(i.a,o.a,!1,r,null,null);e.a=l.exports},function(t,e){},function(t,e){},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"wizard-btn",attrs:{tabindex:"-1",type:"button"}},[t._t("default")],2)},i=[],o={render:s,staticRenderFns:i};e.a=o},function(t,e){},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{class:{active:t.tab.active}},[a("a",{class:{disabled:!t.tab.checked},attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"wizard-icon-circle md",class:{checked:t.tab.checked,square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.checked?t.stepCheckedStyle:{},t.tab.validationError?t.errorStyle:{}],attrs:{role:"tab",tabindex:t.tab.checked?0:"",id:"step-"+t.tab.tabId,"aria-controls":t.tab.tabId,"aria-disabled":t.tab.active,"aria-selected":t.tab.active}},[a("transition",{attrs:{name:t.transition,mode:"out-in"}},[t.tab.active?a("div",{staticClass:"wizard-icon-container",class:{square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.active?t.iconActiveStyle:{},t.tab.validationError?t.errorStyle:{}]},[t._t("active-step",[t.tab.icon?a("i",{staticClass:"wizard-icon",class:t.tab.icon}):a("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],2):t._e(),t._v(" "),t.tab.active?t._e():t._t("default",[!t.tab.active&&t.tab.icon?a("i",{staticClass:"wizard-icon",class:t.tab.icon}):t._e(),t._v(" "),t.tab.active||t.tab.icon?t._e():a("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],2)],1),t._v(" "),t._t("title",[a("span",{staticClass:"stepTitle",class:{active:t.tab.active,has_error:t.tab.validationError},style:t.tab.active?t.stepTitleStyle:{}},[t._v("\n            "+t._s(t.tab.title)+"\n      ")])])],2)])},i=[],o={render:s,staticRenderFns:i};e.a=o},function(t,e,a){"use strict";function s(){return document.activeElement.id}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=s();return t.findIndex(function(t){return t.tabId===e})}function o(t){document.getElementById(t).focus()}function n(t){return t.then&&"function"==typeof t.then}e.b=i,e.a=o,e.c=n},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vue-form-wizard",class:[t.stepSize,{vertical:t.isVertical}],on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key)?"button"in e&&2!==e.button?null:void t.focusNextTab(e):null},function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key)?"button"in e&&0!==e.button?null:void t.focusPrevTab(e):null}]}},[a("div",{staticClass:"wizard-header"},[t._t("title",[a("h4",{staticClass:"wizard-title"},[t._v(t._s(t.title))]),t._v(" "),a("p",{staticClass:"category"},[t._v(t._s(t.subtitle))])])],2),t._v(" "),a("div",{staticClass:"wizard-navigation"},[t.isVertical?t._e():a("div",{staticClass:"wizard-progress-with-circle"},[a("div",{staticClass:"wizard-progress-bar",style:t.progressBarStyle})]),t._v(" "),a("ul",{staticClass:"wizard-nav wizard-nav-pills",class:t.stepsClasses,attrs:{role:"tablist"}},[t._l(t.tabs,function(e,s){return t._t("step",[a("wizard-step",{attrs:{tab:e,"step-size":t.stepSize,transition:t.transition,index:s},nativeOn:{click:function(e){t.navigateToTab(s)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.navigateToTab(s)}}})],{tab:e,index:s,navigateToTab:t.navigateToTab,stepSize:t.stepSize,transition:t.transition})})],2),t._v(" "),a("div",{staticClass:"wizard-tab-content"},[t._t("default",null,null,t.slotProps)],2)]),t._v(" "),t.hideButtons?t._e():a("div",{staticClass:"wizard-card-footer clearfix"},[t._t("footer",[a("div",{staticClass:"wizard-footer-left"},[t.displayPrevButton?a("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.prevTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.prevTab(e)}}},[t._t("prev",[a("wizard-button",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v("\n              "+t._s(t.backButtonText)+"\n            ")])],null,t.slotProps)],2):t._e(),t._v(" "),t._t("custom-buttons-left",null,null,t.slotProps)],2),t._v(" "),a("div",{staticClass:"wizard-footer-right"},[t._t("custom-buttons-right",null,null,t.slotProps),t._v(" "),t.isLastStep?a("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.nextTab(e)}}},[t._t("finish",[a("wizard-button",{style:t.fillButtonStyle},[t._v("\n              "+t._s(t.finishButtonText)+"\n            ")])],null,t.slotProps)],2):a("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.nextTab(e)}}},[t._t("next",[a("wizard-button",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v("\n            "+t._s(t.nextButtonText)+"\n           ")])],null,t.slotProps)],2)],2)],null,t.slotProps)],2)])},i=[],o={render:s,staticRenderFns:i};e.a=o},function(t,e,a){"use strict";var s=a(6),i=a(17),o=a(0),n=o(s.a,i.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"wizard-tab-container",attrs:{role:"tabpanel",id:t.tabId,"aria-hidden":!t.active,"aria-labelledby":"step-"+t.tabId}},[t._t("default",null,{active:t.active})],2)},i=[],o={render:s,staticRenderFns:i};e.a=o}])})},36084:(t,e,a)=>{"use strict";t.exports=a.p+"img/PayPal.png"},53886:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});var s=a(544);const i={softUpdateFlux(t){return(0,s.A)().get("/flux/softupdateflux",{headers:{zelidauth:t}})},softUpdateInstallFlux(t){return(0,s.A)().get("/flux/softupdatefluxinstall",{headers:{zelidauth:t}})},updateFlux(t){return(0,s.A)().get("/flux/updateflux",{headers:{zelidauth:t}})},hardUpdateFlux(t){return(0,s.A)().get("/flux/hardupdateflux",{headers:{zelidauth:t}})},rebuildHome(t){return(0,s.A)().get("/flux/rebuildhome",{headers:{zelidauth:t}})},updateDaemon(t){return(0,s.A)().get("/flux/updatedaemon",{headers:{zelidauth:t}})},reindexDaemon(t){return(0,s.A)().get("/flux/reindexdaemon",{headers:{zelidauth:t}})},updateBenchmark(t){return(0,s.A)().get("/flux/updatebenchmark",{headers:{zelidauth:t}})},getFluxVersion(){return(0,s.A)().get("/flux/version")},broadcastMessage(t,e){const a=e,i={headers:{zelidauth:t}};return(0,s.A)().post("/flux/broadcastmessage",JSON.stringify(a),i)},connectedPeers(){return(0,s.A)().get(`/flux/connectedpeers?timestamp=${Date.now()}`)},connectedPeersInfo(){return(0,s.A)().get(`/flux/connectedpeersinfo?timestamp=${Date.now()}`)},incomingConnections(){return(0,s.A)().get(`/flux/incomingconnections?timestamp=${Date.now()}`)},incomingConnectionsInfo(){return(0,s.A)().get(`/flux/incomingconnectionsinfo?timestamp=${Date.now()}`)},addPeer(t,e){return(0,s.A)().get(`/flux/addpeer/${e}`,{headers:{zelidauth:t}})},removePeer(t,e){return(0,s.A)().get(`/flux/removepeer/${e}`,{headers:{zelidauth:t}})},removeIncomingPeer(t,e){return(0,s.A)().get(`/flux/removeincomingpeer/${e}`,{headers:{zelidauth:t}})},adjustKadena(t,e,a){return(0,s.A)().get(`/flux/adjustkadena/${e}/${a}`,{headers:{zelidauth:t}})},adjustRouterIP(t,e){return(0,s.A)().get(`/flux/adjustrouterip/${e}`,{headers:{zelidauth:t}})},adjustBlockedPorts(t,e){const a={blockedPorts:e},i={headers:{zelidauth:t}};return(0,s.A)().post("/flux/adjustblockedports",a,i)},adjustAPIPort(t,e){return(0,s.A)().get(`/flux/adjustapiport/${e}`,{headers:{zelidauth:t}})},adjustBlockedRepositories(t,e){const a={blockedRepositories:e},i={headers:{zelidauth:t}};return(0,s.A)().post("/flux/adjustblockedrepositories",a,i)},getKadenaAccount(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/flux/kadena",t)},getRouterIP(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/flux/routerip",t)},getBlockedPorts(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/flux/blockedports",t)},getAPIPort(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/flux/apiport",t)},getBlockedRepositories(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/flux/blockedrepositories",t)},getMarketPlaceURL(){return(0,s.A)().get("/flux/marketplaceurl")},getFluxInfo(){return(0,s.A)().get("/flux/info")},getZelid(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/flux/zelid",t)},getStaticIpInfo(){return(0,s.A)().get("/flux/staticip")},restartFluxOS(t){const e={headers:{zelidauth:t,"x-apicache-bypass":!0}};return(0,s.A)().get("/flux/restart",e)},tailFluxLog(t,e){return(0,s.A)().get(`/flux/tail${t}log`,{headers:{zelidauth:e}})},justAPI(){return(0,s.A)()},cancelToken(){return s.x}}},55866:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});const s={cumulus:"#2B61D1",nimbus:"#ff9f43",stratus:"#ea5455"},i=s},56131:(t,e,a)=>{"use strict";a.d(e,{zW:()=>s});a(7588),a(61701),a(96716);const s=t=>{if(!t)return"";const e=t.split(" ");return e.map(t=>t.charAt(0).toUpperCase()).join("")}},57588:function(t,e,a){(function(e,s){t.exports=s(a(47686))})(0,function(t){"use strict";function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function a(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}t=t&&t.hasOwnProperty("default")?t["default"]:t;var s={props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0,default:function(){return[]}},width:{default:"100%"},height:{default:"auto"}},data:function(){return{chart:null}},beforeMount:function(){window.ApexCharts=t},mounted:function(){this.init()},created:function(){var t=this;this.$watch("options",function(e){!t.chart&&e?t.init():t.chart.updateOptions(t.options)}),this.$watch("series",function(e){!t.chart&&e?t.init():t.chart.updateSeries(t.series)});var e=["type","width","height"];e.forEach(function(e){t.$watch(e,function(){t.refresh()})})},beforeDestroy:function(){this.chart&&this.destroy()},render:function(t){return t("div")},methods:{init:function(){var e=this,a={chart:{type:this.type||this.options.chart.type||"line",height:this.height,width:this.width,events:{}},series:this.series};Object.keys(this.$listeners).forEach(function(t){a.chart.events[t]=e.$listeners[t]});var s=this.extend(this.options,a);return this.chart=new t(this.$el,s),this.chart.render()},isObject:function(t){return t&&"object"===e(t)&&!Array.isArray(t)&&null!=t},extend:function(t,e){var s=this;"function"!==typeof Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),a=1;a<arguments.length;a++){var s=arguments[a];if(void 0!==s&&null!==s)for(var i in s)s.hasOwnProperty(i)&&(e[i]=s[i])}return e}}();var i=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach(function(o){s.isObject(e[o])&&o in t?i[o]=s.extend(t[o],e[o]):Object.assign(i,a({},o,e[o]))}),i},refresh:function(){return this.destroy(),this.init()},destroy:function(){this.chart.destroy()},updateSeries:function(t,e){return this.chart.updateSeries(t,e)},updateOptions:function(t,e,a,s){return this.chart.updateOptions(t,e,a,s)},toggleSeries:function(t){return this.chart.toggleSeries(t)},showSeries:function(t){this.chart.showSeries(t)},hideSeries:function(t){this.chart.hideSeries(t)},appendSeries:function(t,e){return this.chart.appendSeries(t,e)},resetSeries:function(){this.chart.resetSeries()},zoomX:function(t,e){this.chart.zoomX(t,e)},toggleDataPointSelection:function(t,e){this.chart.toggleDataPointSelection(t,e)},appendData:function(t){return this.chart.appendData(t)},addText:function(t){this.chart.addText(t)},addImage:function(t){this.chart.addImage(t)},addShape:function(t){this.chart.addShape(t)},dataURI:function(){return this.chart.dataURI()},setLocale:function(t){return this.chart.setLocale(t)},addXaxisAnnotation:function(t,e){this.chart.addXaxisAnnotation(t,e)},addYaxisAnnotation:function(t,e){this.chart.addYaxisAnnotation(t,e)},addPointAnnotation:function(t,e){this.chart.addPointAnnotation(t,e)},removeAnnotation:function(t,e){this.chart.removeAnnotation(t,e)},clearAnnotations:function(){this.chart.clearAnnotations()}}},i=s;return window.ApexCharts=t,i.install=function(e){e.ApexCharts=t,window.ApexCharts=t,Object.defineProperty(e.prototype,"$apexcharts",{get:function(){return t}})},i})},68736:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>ae});var s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"inherit"}},[e("div",{staticClass:"body-content-overlay",class:{show:t.showDetailSidebar},on:{click:function(e){t.showDetailSidebar=!1}}}),e("div",{staticClass:"marketplace-app-list"},[e("div",{staticClass:"app-fixed-search d-flex align-items-center"},[e("div",{staticClass:"sidebar-toggle d-block d-lg-none ml-1"},[e("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"MenuIcon",size:"21"},on:{click:function(e){t.showDetailSidebar=!0}}})],1),e("div",{staticClass:"d-flex align-content-center justify-content-between w-100"},[e("b-input-group",{staticClass:"input-group-merge"},[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("feather-icon",{staticClass:"text-muted",attrs:{icon:"SearchIcon"}})],1),e("b-form-input",{attrs:{value:t.searchQuery,placeholder:"Search Marketplace Apps"},on:{input:t.updateRouteQuery}})],1)],1),e("div",{staticClass:"dropdown"},[e("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0 mr-1",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"MoreVerticalIcon",size:"16"}})]},proxy:!0}])},[e("b-dropdown-item",{on:{click:t.resetSortAndNavigate}},[t._v(" Reset Sort ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"title-asc"}}}},[t._v(" Sort A-Z ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"title-desc"}}}},[t._v(" Sort Z-A ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"cpu"}}}},[t._v(" Sort by CPU ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"ram"}}}},[t._v(" Sort by RAM ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"hdd"}}}},[t._v(" Sort by HDD ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"price"}}}},[t._v(" Sort by price ")])],1)],1)]),e("vue-perfect-scrollbar",{ref:"appListRef",staticClass:"marketplace-app-list scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("ul",{staticClass:"marketplace-media-list"},t._l(t.filteredApps,function(a){return e("b-media",{key:a.hash,attrs:{tag:"li","no-body":""},on:{click:function(e){return t.handleAppClick(a)}}},[e("b-media-body",{staticClass:"app-media-body"},[e("div",{staticClass:"app-title-wrapper"},[e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("span",{staticClass:"app-title"},[e("kbd",{staticClass:"alert-info no-wrap",staticStyle:{"border-radius":"15px","font-size":"16px","font-weight":"700 !important"}},[e("b-icon",{attrs:{scale:"1.2",icon:"app-indicator"}}),t._v("  "+t._s(a.name)+"  ")],1)])])]),e("div",{staticClass:"app-item-action"},[e("div",{staticClass:"badge-wrapper mr-1"},[a.extraDetail.name?e("b-badge",{staticClass:"text-capitalize",attrs:{pill:"",variant:`light-${t.resolveTagVariant(a.extraDetail)}`}},[t._v(" "+t._s(a.extraDetail.name)+" ")]):t._e()],1),e("div",[a.extraDetail?e("b-avatar",{attrs:{size:"48",variant:`light-${t.resolveAvatarVariant(a.extraDetail)}`}},[e("v-icon",{attrs:{scale:"1.75",name:`${t.resolveAvatarIcon(a.extraDetail)}`}})],1):t._e()],1)])]),e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("h6",{staticClass:"text-nowrap text-muted mr-1 mb-1 app-description",staticStyle:{width:"900px"}},[t._v(" "+t._s(a.description)+" ")])])]),e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("h6",{staticClass:"text-nowrap text-muted mr-1 app-description"},[t._v("  "),e("b-icon",{attrs:{scale:"1.4",icon:"speedometer2"}}),t._v("  "),e("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[t._v(" "),e("b",[t._v(t._s(t.resolveCpu(a))+" ")]),t._v(" ")]),t._v("   "),e("b-icon",{attrs:{scale:"1.4",icon:"cpu"}}),t._v("  "),e("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[t._v(" "),e("b",[t._v(t._s(t.resolveRam(a)))]),t._v(" ")]),t._v("   "),e("b-icon",{attrs:{scale:"1.4",icon:"hdd"}}),t._v("  "),e("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[t._v(" "),e("b",[t._v(t._s(t.resolveHdd(a))+" GB")]),t._v(" ")]),t._v("  ")],1)])]),a.priceUSD?e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("h5",{staticClass:"text-nowrap mr-1 app-description"},[t._v("  "),e("b-icon",{staticClass:"mr-1",attrs:{scale:"1.3",icon:"cash"}}),t._v(t._s(a.priceUSD)+" USD,  "),e("b-icon",{staticClass:"mr-1",attrs:{scale:"1.1",icon:"clock"}}),t._v(t._s(t.adjustPeriod(a))+" ")],1)])]):e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("h5",{staticClass:"text-nowrap mr-1 app-description"},[t._v(" Price: "+t._s(a.price)+" Flux / "+t._s(t.adjustPeriod(a))+" ")])])])])],1)}),1),e("div",{staticClass:"no-results",class:{show:0===t.filteredApps.length}},[e("h5",[t._v("No Marketplace Apps Found")])])])],1),e("app-view",{ref:"appViewRef",class:{show:t.isAppViewActive},attrs:{"app-data":t.app,zelid:t.zelid,tier:t.tier,"is-active":t.isAppViewActive},on:{"close-app-view":function(e){t.isAppViewActive=!1}}}),e("shared-nodes-view",{class:{show:t.isSharedNodesViewActive},attrs:{"app-data":t.app,zelid:t.zelid,tier:t.tier},on:{"close-sharednode-view":function(e){t.isSharedNodesViewActive=!1}}}),e("portal",{attrs:{to:"content-renderer-sidebar-left"}},[e("category-sidebar",{class:{show:t.showDetailSidebar},attrs:{zelid:t.zelid},on:{"close-left-sidebar":function(e){t.showDetailSidebar=!1},"close-app-view":function(e){t.isAppViewActive=!1,t.isSharedNodesViewActive=!1},"scroll-app-view":t.scrollAppViewToTop}})],1)],1)},i=[],o=(a(22489),a(20116),a(7588),a(18237),a(11442)),n=a(42006),r=a(63591),l=a(51130),c=a(9656),d=a(51074),u=a(83367),p=a(90226),m=a(53950),g=a(85471),v=a(56131),h=a(96716),f=a(80421),b=a(19075),x=a(80618),w=a(41109),y=a(30209),S=a.n(y),C=a(44919),k=a(53886),_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-details"},[e("div",{staticClass:"app-detail-header"},[e("div",{staticClass:"app-header-left d-flex align-items-center"},[e("span",{staticClass:"go-back mr-1 cursor-pointer"},[e("feather-icon",{staticClass:"align-bottom",attrs:{icon:t.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"20"},on:{click:function(e){return t.$emit("close-app-view")}}})],1),e("h4",{staticClass:"app-name mb-0"},[t._v(" "+t._s(t.appData.name)+" ")])])]),e("vue-perfect-scrollbar",{staticClass:"app-scroll-area scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xxl:"9",xl:"8",lg:"8",md:"12"}},[e("br"),t.userZelid?t._e():e("b-card",[e("b-card-title",[t._v("Automated Login")]),e("dl",{staticClass:"row"},[e("dd",{staticClass:"col-sm-6"},[e("b-tabs",{attrs:{"content-class":"mt-0"}},[e("b-tab",{attrs:{title:"3rd Party Login",active:""}},[e("div",{staticClass:"ssoLogin"},[e("div",{attrs:{id:"ssoLoading"}},[e("b-spinner",{attrs:{variant:"primary"}}),e("div",[t._v(" Loading Sign In Options ")])],1),e("div",{staticStyle:{display:"none"},attrs:{id:"ssoLoggedIn"}},[e("b-spinner",{attrs:{variant:"primary"}}),e("div",[t._v(" Finishing Login Process ")])],1),e("div",{staticStyle:{display:"none"},attrs:{id:"ssoVerify"}},[e("b-button",{staticClass:"mb-2",attrs:{variant:"primary",type:"submit"},on:{click:t.cancelVerification}},[t._v(" Cancel Verification ")]),e("div",[e("b-spinner",{attrs:{variant:"primary"}}),e("div",[t._v(" Finishing Verification Process ")]),e("div",[e("i",[t._v("Please check email for verification link.")])])],1)],1),e("div",{attrs:{id:"firebaseui-auth-container"}})])]),e("b-tab",{attrs:{title:"Email/Password"}},[e("dl",{staticClass:"row"},[e("dd",{staticClass:"col-sm-12 mt-1"},[e("b-form",{ref:"emailLoginForm",staticClass:"mx-5",attrs:{id:"emailLoginForm"},on:{submit:function(t){t.preventDefault()}}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Email","label-for":"h-email","label-cols-md":"4"}},[e("b-form-input",{attrs:{id:"h-email",type:"email",placeholder:"Email...",required:""},model:{value:t.emailForm.email,callback:function(e){t.$set(t.emailForm,"email",e)},expression:"emailForm.email"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Password","label-for":"h-password","label-cols-md":"4"}},[e("b-form-input",{attrs:{id:"h-password",type:"password",placeholder:"Password...",required:""},model:{value:t.emailForm.password,callback:function(e){t.$set(t.emailForm,"password",e)},expression:"emailForm.password"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{"label-cols-md":"4"}},[e("b-button",{staticClass:"w-100",attrs:{type:"submit",variant:"primary"},on:{click:t.emailLogin}},[e("div",{staticStyle:{display:"none"},attrs:{id:"emailLoginProcessing"}},[e("b-spinner",{attrs:{variant:"secondary",small:""}})],1),e("div",{attrs:{id:"emailLoginExecute"}},[t._v(" Login ")])])],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{"label-cols-md":"4"}},[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"w-100",attrs:{id:"signUpButton",type:"submit",variant:"secondary"},on:{click:t.createAccount}},[t._v(" Sign Up ")])],1)],1)],1)],1),e("div",{staticClass:"text-center",staticStyle:{display:"none"},attrs:{id:"ssoEmailVerify"}},[e("b-button",{staticClass:"mb-2",attrs:{variant:"primary",type:"submit"},on:{click:t.cancelVerification}},[t._v(" Cancel Verification ")]),e("div",[e("b-spinner",{attrs:{variant:"primary"}}),e("div",[t._v(" Finishing Verification Process ")]),e("div",[e("i",[t._v("Please check email for verification link.")])])],1)],1)],1)])])],1)],1),e("dd",{staticClass:"col-sm-6"},[e("b-card-text",{staticClass:"text-center loginText"},[t._v(" Decentralized Login ")]),e("div",{staticClass:"loginRow"},[e("a",{attrs:{title:"Login with Zelcore"},on:{click:t.initiateLoginWS}},[e("img",{staticClass:"walletIcon",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Login with SSP"},on:{click:t.initSSPLogin}},[e("img",{staticClass:"walletIcon",attrs:{src:"dark"===t.skin?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])]),e("div",{staticClass:"loginRow"},[e("a",{attrs:{title:"Login with WalletConnect"},on:{click:t.initWalletConnectLogin}},[e("img",{staticClass:"walletIcon",attrs:{src:a(38150),alt:"WalletConnect",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Login with Metamask"},on:{click:t.initMetamaskLogin}},[e("img",{staticClass:"walletIcon",attrs:{src:a(7080),alt:"Metamask",height:"100%",width:"100%"}})])])],1)])],1),t.userZelid?t._e():e("b-card",[e("b-card-title",[t._v("Manual Login")]),e("dl",{staticClass:"row"},[e("dd",{staticClass:"col-sm-12"},[e("b-card-text",{staticClass:"text-center"},[t._v(" Sign the following message with any Flux ID / SSP Wallet ID / Bitcoin / Ethereum address ")]),e("br"),e("br"),e("b-form",{staticClass:"mx-5",on:{submit:function(t){t.preventDefault()}}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Message","label-for":"h-message","label-cols-md":"3"}},[e("b-form-input",{attrs:{id:"h-message",placeholder:"Insert Login Phrase"},model:{value:t.loginForm.loginPhrase,callback:function(e){t.$set(t.loginForm,"loginPhrase",e)},expression:"loginForm.loginPhrase"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Address","label-for":"h-address","label-cols-md":"3"}},[e("b-form-input",{attrs:{id:"h-address",placeholder:"Insert Flux ID or Bitcoin address"},model:{value:t.loginForm.zelid,callback:function(e){t.$set(t.loginForm,"zelid",e)},expression:"loginForm.zelid"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Signature","label-for":"h-signature","label-cols-md":"3"}},[e("b-form-input",{attrs:{id:"h-signature",placeholder:"Insert Signature"},model:{value:t.loginForm.signature,callback:function(e){t.$set(t.loginForm,"signature",e)},expression:"loginForm.signature"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{"label-cols-md":"3"}},[e("b-button",{staticClass:"w-100",attrs:{type:"submit",variant:"primary"},on:{click:t.login}},[t._v(" Login ")])],1)],1)],1)],1)],1)])],1),t.userZelid?e("b-card",{attrs:{"no-body":"",title:"Details"}},[e("b-card-body",{staticClass:"d-flex flex-column flex-grow-1"},[e("b-form-textarea",{staticClass:"description-text",attrs:{id:"textarea-rows",rows:"2",readonly:"",value:t.appData.description}}),t.appData.contacts?e("div",{staticClass:"form-row form-group mt-2",staticStyle:{padding:"0"}},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Contact "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Add your email contact to get notifications ex. app about to expire, app spawns. Your contact will be uploaded to Flux Storage to not be public visible",expression:"'Add your email contact to get notifications ex. app about to expire, app spawns. Your contact will be uploaded to Flux Storage to not be public visible'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"contact"},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1)]):t._e(),t.appData.geolocationOptions?e("div",[e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20",label:"Deployment Location","label-for":"geolocation"}},[e("b-form-select",{attrs:{id:"geolocation",options:t.appData.geolocationOptions},model:{value:t.selectedGeolocation,callback:function(e){t.selectedGeolocation=e},expression:"selectedGeolocation"}},[e("b-form-select-option",{attrs:{value:null}},[t._v(" Worldwide ")])],1)],1)],1):t._e(),t.appData.selectInstances?e("div",[t.appData.version>=3?e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" Instances "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Minimum number of application instances to be spawned",expression:"'Minimum number of application instances to be spawned'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})]},proxy:!0}],null,!1,4262927227)},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.appInstances)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.appInstances,expression:"appInstances"}],staticClass:"form-control-range",staticStyle:{width:"100%",outline:"none"},attrs:{id:"appInstances",type:"range",min:3,max:100,step:1},domProps:{value:t.appInstances},on:{__r:function(e){t.appInstances=e.target.value}}})]):t._e()],1):t._e(),t.appData.version>=6?e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" Period "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"How long an application will live on Flux network",expression:"'How long an application will live on Flux network'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})]},proxy:!0}],null,!1,2789292708)},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.getExpireLabel)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.expirePosition,expression:"expirePosition"}],staticClass:"form-control-range",staticStyle:{width:"100%",outline:"none"},attrs:{id:"period",type:"range",min:0,max:3,step:1},domProps:{value:t.expirePosition},on:{__r:function(e){t.expirePosition=e.target.value}}})]):t._e(),e("div",{staticStyle:{padding:"0"}},[e("b-tabs",{staticClass:"mt-1",attrs:{pills:""},on:{"activate-tab":t.componentSelected}},t._l(t.appData.compose,function(a,s){return e("b-tab",{key:s,attrs:{title:a.name}},[e("div",{staticClass:"my-2 ml-2"},[e("div",{staticClass:"list-entry"},[e("p",[e("b",{staticStyle:{display:"inline-block",width:"120px"}},[t._v("Description:")]),t._v(" "+t._s(a.description))]),e("p",[e("b",{staticStyle:{display:"inline-block",width:"120px"}},[t._v("Repository:")]),t._v(" "+t._s(a.repotag))])])]),a.userEnvironmentParameters?.length>0?e("div",{attrs:{title:"Parameters","border-variant":"dark"}},[a.userEnvironmentParameters?e("b-tabs",{attrs:{pills:""}},t._l(a.userEnvironmentParameters,function(a,s){return e("b-tab",{key:s,attrs:{title:a.name}},[e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-2 col-form-label ml-2"},[t._v(" Value "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:a.description,expression:"parameter.description",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"enviromentParameters",placeholder:a.placeholder},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"parameter.value"}})],1)])])}),1):t._e()],1):t._e(),a.userSecrets?e("div",{attrs:{title:"Secrets","border-variant":"primary"}},[a.userSecrets?e("b-tabs",{attrs:{pills:""}},t._l(a.userSecrets,function(a,s){return e("b-tab",{key:s,attrs:{title:a.name}},[e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-2 col-form-label"},[t._v(" Value "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:a.description,expression:"parameter.description",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"secrets",placeholder:a.placeholder},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"parameter.value"}})],1)])])}),1):t._e()],1):t._e(),t.userZelid?e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-6",attrs:{variant:"outline-warning","aria-label":"View Additional Details"},on:{click:function(e){t.componentParamsModalShowing=!0}}},[t._v(" View Additional Details ")]):t._e()],1)}),1)],1),t.appData.enabled?e("div",{staticClass:"text-center mt-auto"},[e("div",{staticClass:"text-left mt-2"},[e("div",{staticClass:"d-flex align-items-center p-0 mt-auto"},[e("b-form-checkbox",{staticClass:"custom-control-primary",attrs:{id:"tos",switch:""},model:{value:t.tosAgreed,callback:function(e){t.tosAgreed=e},expression:"tosAgreed"}}),e("span",[t._v(" I agree with "),e("a",{attrs:{href:"https://cdn.runonflux.io/Flux_Terms_of_Service.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Terms of Service ")])])],1),t.userZelid?e("b-button",{staticClass:"mt-1 w-100",attrs:{variant:"outline-success","aria-label":"Launch Marketplace App"},on:{click:t.checkFluxSpecificationsAndFormatMessage}},[t._v(" Start Launching Marketplace Application ")]):t._e()],1)]):e("div",{staticClass:"text-center"},[e("h4",[t._v(" This Application is temporarily disabled ")])])],1)],1):t._e()],1),e("b-col",{staticClass:"d-lg-flex d-none",attrs:{xxl:"3",xl:"4",lg:"4"}},[e("br"),e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h4",{staticClass:"mb-0"},[t._v(" CPU ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"190",options:t.cpuRadialBar,series:t.cpu.series}})],1),e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h4",{staticClass:"mb-0"},[t._v(" RAM ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"190",options:t.ramRadialBar,series:t.ram.series}})],1),e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h4",{staticClass:"mb-0"},[t._v(" HDD ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"190",options:t.hddRadialBar,series:t.hdd.series}})],1)],1),e("b-row",{staticClass:"d-lg-none d-sm-none d-md-flex d-none"},[e("b-col",{attrs:{md:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h5",{staticClass:"mb-0"},[t._v(" CPU ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.cpuRadialBar,series:t.cpu.series}})],1)],1),e("b-col",{attrs:{md:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h5",{staticClass:"mb-0"},[t._v(" RAM ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.ramRadialBar,series:t.ram.series}})],1)],1),e("b-col",{attrs:{md:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h5",{staticClass:"mb-0"},[t._v(" HDD ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.hddRadialBar,series:t.hdd.series}})],1)],1)],1),e("b-row",{staticClass:"d-md-none"},[e("b-col",{attrs:{cols:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h6",{staticClass:"mb-0"},[t._v(" CPU ")])]),e("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:t.cpuRadialBarSmall,series:t.cpu.series}})],1)],1),e("b-col",{attrs:{cols:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h6",{staticClass:"mb-0"},[t._v(" RAM ")])]),e("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:t.ramRadialBarSmall,series:t.ram.series}})],1)],1),e("b-col",{attrs:{cols:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h6",{staticClass:"mb-0"},[t._v(" HDD ")])]),e("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:t.hddRadialBarSmall,series:t.hdd.series}})],1)],1)],1)],1)],1),e("b-modal",{attrs:{title:"Extra Component Parameters",size:"lg",centered:"","ok-only":"","ok-title":"Close","header-bg-variant":"primary","title-class":"custom-modal-title"},model:{value:t.componentParamsModalShowing,callback:function(e){t.componentParamsModalShowing=e},expression:"componentParamsModalShowing"}},[t.currentComponent?e("div",[e("list-entry",{attrs:{title:"Static Parameters",data:t.currentComponent.environmentParameters.join(", ")}}),e("list-entry",{attrs:{title:"Custom Domains",data:t.currentComponent.domains.join(", ")||"none"}}),e("list-entry",{attrs:{title:"Automatic Domains",data:t.constructAutomaticDomains(t.appData.name).join(", ")}}),e("list-entry",{attrs:{title:"Ports",data:t.currentComponent.ports.join(", ")}}),e("list-entry",{attrs:{title:"Container Ports",data:t.currentComponent.containerPorts.join(", ")}}),e("list-entry",{attrs:{title:"Container Data",data:t.currentComponent.containerData}}),e("list-entry",{attrs:{title:"Commands",data:t.currentComponent.commands.length>0?t.currentComponent.commands.join(", "):"none"}})],1):t._e()]),e("b-modal",{attrs:{title:"Finish Launching App?",centered:"","ok-title":"Yes","cancel-title":"No","header-bg-variant":"primary","title-class":"custom-modal-title"},on:{ok:t.closeLaunchModals},model:{value:t.confirmLaunchDialogCloseShowing,callback:function(e){t.confirmLaunchDialogCloseShowing=e},expression:"confirmLaunchDialogCloseShowing"}},[e("h5",{staticClass:"text-center"},[t._v(" Please ensure that you have paid for your app, or saved the payment details for later. ")]),e("br"),e("h5",{staticClass:"text-center"},[t._v(" Close the Launch App dialog? ")])]),e("b-modal",{attrs:{title:"Launching Marketplace App",size:"xlg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","hide-footer":"","header-bg-variant":"primary","title-class":"custom-modal-title"},on:{hide:t.confirmLaunchDialogCancel},model:{value:t.launchModalShowing,callback:function(e){t.launchModalShowing=e},expression:"launchModalShowing"}},[e("form-wizard",{ref:"formWizard",staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){return t.confirmLaunchDialogFinish()}},scopedSlots:t._u([{key:"footer",fn:function(a){return[e("div",[a.activeTabIndex>0?e("b-button",{staticClass:"wizard-footer-left",attrs:{type:"button",variant:"outline-dark"},on:{click:function(e){return t.$refs.formWizard.prevTab()}}},[t._v(" Previous ")]):t._e(),e("b-button",{staticClass:"wizard-footer-right",attrs:{type:"button",variant:"outline-dark"},on:{click:function(e){return t.$refs.formWizard.nextTab()}}},[t._v(" "+t._s(a.isLastStep?"Done":"Next")+" ")])],1)]}}])},[e("tab-content",{attrs:{title:"Check Registration"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Registration Message"}},[e("div",{staticClass:"text-wrap"},[e("b-form-textarea",{attrs:{id:"registrationmessage",rows:"6",readonly:""},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:t.tooltipText,expression:"tooltipText"}],ref:"copyButtonRef",staticClass:"clipboard icon",attrs:{scale:"1.5",icon:"clipboard"},on:{click:t.copyMessageToSign}})],1)])],1),e("tab-content",{attrs:{title:"Sign App Message","before-change":()=>null!==t.signature}},[e("div",{staticClass:"mx-auto",staticStyle:{width:"600px"}},[e("h4",{staticClass:"text-center"},[t._v(" Sign Message with same method you have used for login ")]),e("div",{staticClass:"loginRow mx-auto",staticStyle:{width:"400px"}},[e("a",{on:{click:t.initiateSignWS}},[e("img",{staticClass:"walletIcon",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{on:{click:t.initSSP}},[e("img",{staticClass:"walletIcon",attrs:{src:t.isDark?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])]),e("div",{staticClass:"loginRow mx-auto",staticStyle:{width:"400px"}},[e("a",{on:{click:t.initWalletConnect}},[e("img",{staticClass:"walletIcon",attrs:{src:a(38150),alt:"WalletConnect",height:"100%",width:"100%"}})]),e("a",{on:{click:t.initMetamask}},[e("img",{staticClass:"walletIcon",attrs:{src:a(7080),alt:"Metamask",height:"100%",width:"100%"}})])]),e("div",{staticClass:"loginRow"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"my-1",staticStyle:{width:"250px"},attrs:{variant:"primary","aria-label":"Flux Single Sign On/Email"},on:{click:t.initSignFluxSSO}},[t._v(" Flux Single Sign On (SSO)/Email ")])],1)]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"signature"},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1),e("tab-content",{attrs:{title:"Register Application","before-change":()=>null!==t.registrationHash}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Register Application"}},[e("b-card-text",[e("b-icon",{staticClass:"mr-1",attrs:{scale:"1.4",icon:"cash-coin"}}),t._v("Price:  "),e("b",[t._v(t._s(t.appPricePerDeploymentUSD)+" USD + VAT")])],1),e("div",[e("b-button",{staticClass:"my-1",staticStyle:{width:"250px"},attrs:{variant:t.loading||t.completed?"outline-success":"success","aria-label":"Register",disabled:t.loading||t.completed},on:{click:t.register}},[t.loading?[e("b-spinner",{attrs:{small:""}}),t._v(" Processing... ")]:t.completed?[t._v(" Done! ")]:[t._v(" Register ")]],2)],1),t.registrationHash?e("b-card-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mt-1",attrs:{title:t.registrationHash}},[t._v(" Registration Hash Received ")]):t._e()],1)],1),e("tab-content",{attrs:{title:"Send Payment"}},[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6",lg:"8"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send Payment"}},[e("div",{staticClass:"d-flex justify-content-center align-items-center mb-1"},[e("b-icon",{staticClass:"mr-1",attrs:{scale:"1.4",icon:"cash-coin"}}),t._v("Price:  "),e("b",[t._v(t._s(t.appPricePerDeploymentUSD)+" USD + VAT")])],1),e("b-card-text",[e("b",[t._v("Everything is ready, your payment option links, both for fiat and flux, are valid for the next 30 minutes.")])]),e("br"),t._v(" The application will be subscribed until "),e("b",[t._v(t._s(new Date(t.subscribedTill).toLocaleString("en-GB",t.timeoptions.shortDate)))]),e("br"),t._v(" To finish the application registration, pay your application with your prefered payment method or check below how to pay with Flux crypto currency. ")],1)],1),e("b-col",{attrs:{xs:"6",lg:"4"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Pay with Stripe/PayPal"}},[e("div",{staticClass:"loginRow"},[t.stripeEnabled?e("a",{on:{click:t.initStripePay}},[e("img",{staticClass:"stripePay",attrs:{src:a(7860),alt:"Stripe",height:"100%",width:"100%"}})]):t._e(),t.paypalEnabled?e("a",{on:{click:t.initPaypalPay}},[e("img",{staticClass:"paypalPay",attrs:{src:a(36084),alt:"PayPal",height:"100%",width:"100%"}})]):t._e(),t.paypalEnabled||t.stripeEnabled?t._e():e("span",[t._v("Fiat Gateways Unavailable.")])]),t.checkoutLoading?e("div",{attrs:{className:"loginRow"}},[e("b-spinner",{attrs:{variant:"primary"}}),e("div",{staticClass:"text-center"},[t._v(" Checkout Loading ... ")])],1):t._e(),t.fiatCheckoutURL?e("div",{attrs:{className:"loginRow"}},[e("a",{attrs:{href:t.fiatCheckoutURL,target:"_blank",rel:"noopener noreferrer"}},[t._v(" Click here for checkout if not redirected ")])]):t._e()])],1)],1),t.applicationPriceFluxError?t._e():e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6",lg:"8"}},[e("b-card",{staticClass:"text-center wizard-card"},[e("b-card-text",[t._v(" To pay in FLUX, please make a transaction of "),e("b",[t._v(t._s(t.appPricePerDeployment)+" FLUX")]),t._v(" to address"),e("br"),e("b",[t._v("'"+t._s(t.deploymentAddress)+"'")]),e("br"),t._v(" with the following message"),e("br"),e("b",[t._v("'"+t._s(t.registrationHash)+"'")])])],1)],1),e("b-col",{attrs:{xs:"6",lg:"4"}},[e("b-card",[t.applicationPriceFluxDiscount>0?e("h4",[e("kbd",{staticClass:"d-flex justify-content-center bg-primary mb-1"},[t._v("Discount - "+t._s(t.applicationPriceFluxDiscount)+"%")])]):t._e(),e("h4",{staticClass:"text-center mb-2"},[t._v(" Pay with Zelcore/SSP ")]),e("div",{staticClass:"loginRow"},[e("a",{on:{click:t.initZelcorePay}},[e("img",{staticClass:"walletIcon",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{on:{click:t.initSSPpay}},[e("img",{staticClass:"walletIcon",attrs:{src:t.isDark?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])])])],1)],1)],1)],1)],1)],1)},A=[],F=(a(61701),a(75532)),P=a(33052),z=a(43004),R=a(75918),T=a(99542),D=a(52578),I=a(25361),$=a(28028),L=a(41544),B=a(63405),M=a(28938),E=a(52386),O=a(30968),N=a(39412),q=a(17062),j=a(58376),U=a(10982),V=a(57588),W=a.n(V),Z=a(2497),Y=a(49469),J=a(77103),G=a(2564),H=a(55866),K=a(7039),X=a(70051),Q=a(62670),tt=a(86646),et=a(91241),at=a(86923),st=a(79988),it=a(41668),ot=a(96833),nt=a(71732),rt=a(48287)["hp"];const lt="df787edc6839c7de49d527bba9199eaa",ct={projectId:lt,metadata:{name:"Flux Cloud",description:"Flux, Your Gateway to a Decentralized World",url:"https://home.runonflux.io",icons:["https://home.runonflux.io/img/logo.png"]}},dt=new X.H(ct),ut={enableDebug:!0},pt=new Q.Mb(ut);let mt;const gt=a(55373),vt=a(86425),ht=a(74053),ft=a(95233),bt={components:{BButton:F.P,BCard:P.v,BCardHeader:z.U,BCardText:R.e,BCol:T.T,BFormInput:o.b,BFormTextarea:D.b,BModal:I.i,BRow:$.L,BTabs:L.r,BTab:B.a,BFormSelect:M.J,BFormSelectOption:E.Q,BFormGroup:O.a,FormWizard:U.FormWizard,TabContent:U.TabContent,ToastificationContent:w.A,ListEntry:Y.A,VuePerfectScrollbar:S(),VueApexCharts:W()},directives:{Ripple:b.A,"b-modal":N.u,"b-toggle":q.z,"b-tooltip":j.y},props:{appData:{type:Object,required:!0},zelid:{type:String,required:!1,default:""},tier:{type:String,required:!1,default:""},isActive:{type:Boolean,default:!1}},setup(t){const e=(0,g.getCurrentInstance)().proxy,a=(0,x.useToast)(),{skin:s}=(0,tt.A)(),i=(0,g.computed)(()=>"dark"===s.value),o=t=>"Open"===t?"warning":"Passed"===t?"success":"Unpaid"===t?"info":t&&t.startsWith("Rejected")?"danger":"primary",n=(t,e,s="InfoIcon")=>{a({component:w.A,props:{title:e,icon:s,variant:t}})},r=(0,g.ref)(!1),l=(0,g.ref)(null),c=(0,g.ref)(""),d=(0,g.ref)(null),u=(0,g.ref)(""),p=(0,g.ref)({zelid:"",signature:"",loginPhrase:""}),m=(0,g.ref)(t.zelid||""),v=(0,g.ref)({email:"",password:""}),h=(0,g.ref)(null),f=(0,g.ref)({email:"",pw1:"",pw2:""}),b=(0,g.ref)(null),y=(0,g.ref)(null),S=(0,g.ref)(null),k=(0,g.ref)(null),_=(0,g.ref)(null),A=async()=>{try{const t=await G.A.emergencyLoginPhrase();console.log(t),"error"===t.data.status?n("danger",t.data.data.message):(c.value=t.data.data,p.value.loginPhrase=t.data.data)}catch(t){console.log(t),n("danger",t)}},F=async()=>{try{const t=await G.A.loginPhrase();console.log(t.data.data),"error"===t.data.status?await A():(c.value=t.data.data,p.value.loginPhrase=t.data.data)}catch(t){console.log(t),n("danger",t)}},P=t=>"error"===t?"danger":"success",z=()=>{document.getElementById("ssoVerify").style.display="none",document.getElementById("ssoEmailVerify").style.display="none",document.getElementById("ssoLoggedIn").style.display="none",document.getElementById("emailLoginProcessing").style.display="none",document.getElementById("emailLoginExecute").style.display="block",document.getElementById("emailLoginForm").style.display="block",document.getElementById("signUpButton").style.display="block",v.value.email="",v.value.password="",h.value.reset(),h.value.start("#firebaseui-auth-container"),u.value=!1},R=()=>{z()},T=async t=>{try{if(t.emailVerified){document.getElementById("ssoLoggedIn").style.display="block";const a=t.auth.currentUser.accessToken,s=c.value,i={"Content-Type":"application/json",Authorization:`Bearer ${a}`},o=await vt.post("https://service.fluxcore.ai/api/signInOrUp",{message:s},{headers:i});if("success"!==o.data?.status)throw new Error("Login Failed, please try again.");console.log(o);const r={zelid:o.data.public_address,signature:o.data.signature,loginPhrase:c.value},l=await G.A.verifyLogin(r);if(console.log(l),"success"===l.data.status){const t={zelid:o.data.public_address,signature:o.data.signature,loginPhrase:c.value};e.$store.commit("flux/setPrivilege",l.data.data.privilege),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",gt.stringify(t)),m.value=t.zelid,n("success",l.data.data.message)}else n(P(l.data.status),l.data.data.message||l.data.data),z()}else await I(t)}catch(a){console.log(a),z(),n("warning","Login Failed, please try again.")}},D=async()=>{try{let t=(0,at.wz)();t&&u.value?(await t.reload(),t=(0,at.wz)(),t.emailVerified?(n("info","email verified"),document.getElementById("ssoVerify").style.display="none",T(t),u.value=!1):setTimeout(D,5e3)):z()}catch(t){n("warning","email verification failed"),z()}},I=async t=>{if(t.displayName){const e=/\b((http|https|ftp):\/\/[-A-Z0-9+&@#%?=~_|!:,.;]*[-A-Z0-9+&@#%=~_|]|www\.[-A-Z0-9+&@#%?=~_|!:,.;]*[-A-Z0-9+&@#%=~_|]|[-A-Z0-9]+\.[A-Z]{2,}[-A-Z0-9+&@#%?=~_|]*[-A-Z0-9+&@#%=~_|])/i;if(e.test(t.displayName))throw new Error("Login Failed, please try again.")}try{await t.sendEmailVerification(),n("info","please verify email")}catch{n("warning","failed to send new verification email")}finally{document.getElementById("ssoVerify").style.display="block",document.getElementById("ssoEmailVerify").style.display="block",document.getElementById("emailLoginForm").style.display="none",u.value=!0,await D()}},$=t=>(t.user&&T(t.user),!1),L=async()=>{try{if(document.getElementById("emailLoginForm").reportValidity()){document.getElementById("emailLoginExecute").style.display="none",document.getElementById("emailLoginProcessing").style.display="block",document.getElementById("signUpButton").style.display="none";const t=await(0,at._h)(v.value);$(t)}}catch(t){document.getElementById("emailLoginExecute").style.display="block",document.getElementById("emailLoginProcessing").style.display="none",document.getElementById("signUpButton").style.display="block",document.getElementById("ssoEmailVerify").style.display="none",n("danger","login failed, please try again")}},B=()=>{r.value=!r.value},M=async()=>{try{const t=await G.A.verifyLogin(p.value);if(console.log(t),"success"===t.data.status){const a={zelid:p.value.zelid,signature:p.value.signature,loginPhrase:p.value.loginPhrase};e.$store.commit("flux/setPrivilege",t.data.data.privilage),e.$store.commit("flux/setZelid",a.zelid),localStorage.setItem("zelidauth",gt.stringify(a)),m.value=a.zelid,await(0,g.nextTick)(),window.scrollTo({top:0}),n("success",t.data.data.message)}else n(P(t.data.status),t.data.data.message||t.data.data)}catch(t){console.log(t),n("danger",t.toString())}},E=()=>{const t=k.value?.reportValidity();return f.value.pw1.length>=8?(y.value=!0,f.value.pw2.length>=8?(S.value=!0,f.value.pw1!==f.value.pw2?(n("info","Passwords do not match."),y.value=!1,S.value=!1,null):t):(n("info","Password must be at least 8 characters."),null)):(n("info","Password must be at least 8 characters."),null)},O=()=>{f.value.email="",f.value.pw1="",f.value.pw2="",b.value=null,y.value=null,S.value=null},N=async()=>{if(E()){try{const t=await(0,at.Sf)({email:f.value.email,password:f.value.pw1});$(t)}catch(t){z(),n("danger","Account creation failed, please try again.")}await(0,g.nextTick)(()=>{_.value.hide("modal-prevent-closing")})}},q=t=>{t.preventDefault(),N()},j=t=>console.log("WebSocket opened:",t),U=t=>console.log("WebSocket closed:",t),V=t=>console.log("WebSocket error:",t),W=t=>{const a=gt.parse(t.data);if("success"===a.status&&a.data){const t={zelid:a.data.zelid,signature:a.data.signature,loginPhrase:a.data.loginPhrase};e.$store.commit("flux/setPrivilege",a.data.privilage),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",gt.stringify(t)),m.value=t.zelid,n("success",a.data.message)}console.log("Message received:",a)},Y=()=>{const{protocol:t,hostname:a,port:s}=window.location;let i="";i+=t,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),s=+e[0]+1;e[0]=s.toString(),e[2]="api",t[4]="",i+=t.join("-"),i+=e.join(".")}else if(a.match(o)){const t=a.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof a&&e.$store.commit("flux/setUserIp",a),+s>16100){const t=+s+1;e.$store.commit("flux/setFluxPort",t)}i+=a,i+=":",i+=oe.value.apiPort}const n=ht.get("backendURL")||i,r=`${n}/id/verifylogin`;return encodeURI(r)},X=()=>{try{const t=`zel:?action=sign&message=${c.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${Y()}`;if(window.zelcore)window.zelcore.protocol(t);else{const e=document.createElement("a");e.href=t,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}catch(t){n("warning","Failed to sign message, please try again.")}},Q=()=>{X();const{protocol:t,hostname:a,port:s}=window.location;let i="";i+=t,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),s=+e[0]+1;e[0]=s.toString(),e[2]="api",t[4]="",i+=t.join("-"),i+=e.join(".")}else if(a.match(o)){const t=a.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof a&&e.$store.commit("flux/setUserIp",a),+s>16100){const t=+s+1;e.$store.commit("flux/setFluxPort",t)}i+=a,i+=":",i+=oe.value.apiPort}let n=ht.get("backendURL")||i;n=n.replace("https://","wss://"),n=n.replace("http://","ws://");const r=`${n}/ws/id/${c.value}`;l.value=new WebSocket(r),l.value.onopen=t=>j(t),l.value.onclose=t=>U(t),l.value.onmessage=t=>W(t),l.value.onerror=t=>V(t)},lt={callbacks:{signInSuccessWithAuthResult:$,uiShown(){const t=document.getElementById("ssoLoading");t&&(t.style.display="none")}},popupMode:!0,signInFlow:"popup",signInOptions:[{provider:st.A.auth.GoogleAuthProvider.PROVIDER_ID,customParameters:{prompt:"select_account"}},"apple.com"],tosUrl:"https://cdn.runonflux.io/Flux_Terms_of_Service.pdf",privacyPolicyUrl:"https://runonflux.io/privacyPolicy"},ut=async t=>{console.log(t);try{const a=await d.value.request({topic:t.topic,chainId:"eip155:1",request:{method:"personal_sign",params:[c.value,t.namespaces.eip155.accounts[0].split(":")[2]]}});console.log(a);const s={zelid:t.namespaces.eip155.accounts[0].split(":")[2],signature:a,loginPhrase:c.value},i=await G.A.verifyLogin(s);if(console.log(i),"success"===i.data.status){const t=s;e.$store.commit("flux/setPrivilege",i.data.data.privilage),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",gt.stringify(t)),m.value=t.zelid,n("success",i.data.data.message)}else n(P(i.data.status),i.data.data.message||i.data.data)}catch(a){console.error(a),n("danger",a.message)}},bt=t=>{console.log(t)},xt=async()=>{try{d.value=await K.Ay.init(ct),d.value.on("session_event",({event:t})=>{console.log(t)}),d.value.on("session_update",({topic:t,params:e})=>{const{namespaces:a}=e,s=d.value.session.get(t),i={...s,namespaces:a};bt(i)}),d.value.on("session_delete",()=>{});const{uri:t,approval:e}=await d.value.connect({requiredNamespaces:{eip155:{methods:["personal_sign"],chains:["eip155:1"],events:["chainChanged","accountsChanged"]}}});if(t){dt.openModal({uri:t});const a=await e();await ut(a),dt.closeModal()}}catch(t){console.error(t),n("danger",t.message)}},wt=async()=>{try{if(!window.ssp)return void n("danger","SSP Wallet not installed");const t=await window.ssp.request("sspwid_sign_message",{message:c.value});if("ERROR"===t.status)throw new Error(t.data||t.result);const a={zelid:t.address,signature:t.signature,loginPhrase:c.value},s=await G.A.verifyLogin(a);if(console.log(s),"success"===s.data.status){const t=a;e.$store.commit("flux/setPrivilege",s.data.data.privilage),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",gt.stringify(t)),m.value=t.zelid,n("success",s.data.data.message)}else n("danger",s.data.data.message||s.data.data)}catch(t){n("danger",t.message)}},yt=async(t,a)=>{try{const s=`0x${rt.from(t,"utf8").toString("hex")}`,i=await window.ethereum.request({method:"personal_sign",params:[s,a]}),o={zelid:a,signature:i,loginPhrase:c.value},r=await G.A.verifyLogin(o);if("success"===r.data.status){const t=o;e.$store.commit("flux/setPrivilege",r.data.data.privilage),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",gt.stringify(t)),m.value=t.zelid,n("success",r.data.data.message)}else n("danger",r.data.data.message||r.data.data)}catch(s){console.error(s),n("danger",s.message)}},St=async()=>{try{if(!window.ethereum)return void n("danger","Metamask not detected");let t;if(window.ethereum.selectedAddress)t=window.ethereum.selectedAddress;else{const e=await window.ethereum.request({method:"eth_requestAccounts"});t=e[0]}await yt(c.value,t)}catch(t){n("danger",t.message)}},Ct=(0,g.ref)("");Ct.value=t.tier;const kt=(0,g.ref)(!1),_t=(0,g.ref)(!1),At=(0,g.ref)(!1),Ft=(0,g.ref)(!1),Pt=(0,g.ref)(!1),zt=(0,g.ref)(null),Rt=(0,g.ref)(1),Tt=(0,g.ref)("fluxappregister"),Dt=(0,g.ref)(null),It=(0,g.ref)(null),$t=(0,g.ref)(null),Lt=(0,g.ref)(null),Bt=(0,g.ref)(0),Mt=(0,g.ref)(0),Et=(0,g.ref)(null),Ot=(0,g.ref)(!1),Nt=(0,g.ref)(!1),qt=(0,g.ref)(""),jt=(0,g.ref)(null),Ut=(0,g.ref)(!0),Vt=(0,g.ref)(!0),Wt=(0,g.ref)([]),Zt=(0,g.ref)([]),Yt=(0,g.ref)(null),Jt=(0,g.ref)(null),Gt=(0,g.ref)(Number(3)),Ht=(0,g.ref)(null),Kt=(0,g.ref)("Copy to clipboard"),Xt=(0,g.ref)(null),Qt=(0,g.ref)([]),te=(0,g.ref)(Number(0)),ee=(0,g.ref)(!1),ae=(0,g.ref)(null),se=(0,g.ref)(0);Qt.value=[{value:22e3,label:"1 month",time:2592e6},{value:66e3,label:"3 months",time:7776e6},{value:132e3,label:"6 months",time:15552e6},{value:264e3,label:"1 year",time:31536e6}];const ie=async()=>{try{const t=await C.A.getBlockchainInfo();if("success"===t.data.status&&t.data.data){const e=t.data.data.blocks;se.value=e,e>=202e4&&(Qt.value=Qt.value.map(t=>({...t,value:4*t.value})))}}catch(t){console.error("Failed to fetch blockchain info for expire options adjustment:",t)}},oe=(0,g.computed)(()=>e.$store.state.flux.config),ne=(0,g.computed)(()=>Lt.value+36e5),re=(0,g.computed)(()=>{if(t.appData.version>=6){const t=Qt.value;if(t[te.value])return Date.now()+t[te.value].time+36e5}const e=Date.now()+2592e6+36e5;return e}),le=(0,g.computed)(()=>{const t=Qt.value;return t[te.value]?t[te.value].label:null}),ce=()=>{const{protocol:t,hostname:a,port:s}=window.location;let i="";i+=t,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),s=+e[0]+1;e[0]=s.toString(),e[2]="api",t[4]="",i+=t.join("-"),i+=e.join(".")}else if(a.match(o)){const t=a.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof a&&e.$store.commit("flux/setUserIp",a),+s>16100){const t=+s+1;e.$store.commit("flux/setFluxPort",t)}i+=a,i+=":",i+=oe.value.apiPort}const n=ht.get("backendURL")||i,r=`${n}/id/providesign`;return encodeURI(r)},de=t=>{console.log(t)},ue=t=>{const e=gt.parse(t.data);"success"===e.status&&e.data&&(It.value=e.data.signature),console.log(e),console.log(t)},pe=t=>{console.log(t)},me=t=>{console.log(t)},ge=async()=>{try{const t=Dt.value,e=(0,at.wz)();if(!e)return void n("warning","Not logged in as SSO. Login with SSO or use different signing method.");const a=e.auth.currentUser.accessToken,s={"Content-Type":"application/json",Authorization:`Bearer ${a}`},i=await vt.post("https://service.fluxcore.ai/api/signMessage",{message:t},{headers:s});if("success"!==i.data?.status&&i.data?.signature)return void n("warning","Failed to sign message, please try again.");It.value=i.data.signature,n("success","Message signed.")}catch(t){n("warning","Failed to sign message, please try again.")}},ve=()=>{try{const t=`zel:?action=pay&coin=zelcash&address=${ae.value}&amount=${Bt.value}&message=${jt.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`;if(window.zelcore)window.zelcore.protocol(t);else{const e=document.createElement("a");e.href=t,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}catch(t){n("warning","Failed to sign message, please try again.")}},he=async()=>{try{const t=`zel:?action=sign&message=${Dt.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${ce()}`;if(window.zelcore)window.zelcore.protocol(t);else if(Dt.value.length>1800){const t=Dt.value,e={publicid:Math.floor(999999999999999*Math.random()).toString(),public:t};await vt.post("https://storage.runonflux.io/v1/public",e);const a=`zel:?action=sign&message=FLUX_URL=https://storage.runonflux.io/v1/public/${e.publicid}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${ce()}`,s=document.createElement("a");s.href=a,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}else{const e=document.createElement("a");e.href=t,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}catch(t){n("warning","Failed to sign message, please try again.")}},fe=async()=>{await he();const{protocol:t,hostname:a,port:s}=window.location;let i="";i+=t,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),s=+e[0]+1;e[0]=s.toString(),e[2]="api",t[4]="",i+=t.join("-"),i+=e.join(".")}else if(a.match(o)){const t=a.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof a&&e.$store.commit("flux/setUserIp",a),+s>16100){const t=+s+1;e.$store.commit("flux/setFluxPort",t)}i+=a,i+=":",i+=oe.value.apiPort}let n=ht.get("backendURL")||i;n=n.replace("https://","wss://"),n=n.replace("http://","ws://");const r=m.value+Lt.value;console.log(`signatureMessage: ${r}`);const c=`${n}/ws/sign/${r}`,d=new WebSocket(c);l.value=d,d.onopen=t=>{me(t)},d.onclose=t=>{pe(t)},d.onmessage=t=>{ue(t)},d.onerror=t=>{de(t)}},be=async()=>{try{await pt.init(),mt=pt.getProvider()}catch(t){console.log(t)}};be();const xe=async(t,e)=>{try{const a=`0x${rt.from(t,"utf8").toString("hex")}`,s=await mt.request({method:"personal_sign",params:[a,e]});console.log(s),It.value=s}catch(a){console.error(a),n("danger",a.message)}},we=async()=>{try{if(!mt)return void n("danger","Metamask not detected");let t;if(mt&&!mt.selectedAddress){const e=await mt.request({method:"eth_requestAccounts",params:[]});console.log(e),t=e[0]}else t=mt.selectedAddress;xe(Dt.value,t)}catch(t){n("danger",t.message)}},ye=async()=>{try{if(!window.ssp)return void n("danger","SSP Wallet not installed");const t=await window.ssp.request("sspwid_sign_message",{message:Dt.value});if("ERROR"===t.status)throw new Error(t.data||t.result);It.value=t.signature}catch(t){n("danger",t.message)}},Se=async()=>{try{if(!window.ssp)return void n("danger","SSP Wallet not installed");const t={message:jt.value,amount:(+Bt.value||0).toString(),address:ae.value,chain:"flux"},e=await window.ssp.request("pay",t);if("ERROR"===e.status)throw new Error(e.data||e.result);n("success",`${e.data}: ${e.txid}`)}catch(t){n("danger",t.message)}},Ce=t=>{const e=window.open(t,"_blank");e.focus()},ke=async()=>{try{Et.value=null,Ot.value=!0;const e=jt.value,{name:a}=Ht.value,s=Mt.value,{description:i}=Ht.value,o=localStorage.getItem("zelidauth"),r=gt.parse(o),l={zelid:r.zelid,signature:r.signature,loginPhrase:r.loginPhrase,details:{name:a,description:i,hash:e,price:s,productName:a,success_url:"https://home.runonflux.io/successcheckout",cancel_url:"https://home.runonflux.io",kpi:{origin:"FluxOS",marketplace:!0,registration:!0}}},c=await vt.post(`${ot.E}/api/v1/stripe/checkout/create`,l);if("error"===c.data.status)return n("error","Failed to create stripe checkout"),void(Ot.value=!1);Et.value=c.data.data,Ot.value=!1;try{Ce(c.data.data)}catch(t){console.log(t),n("error","Failed to open Stripe checkout, pop-up blocked?")}}catch(t){console.log(t),n("error","Failed to create stripe checkout"),Ot.value=!1}},_e=async()=>{try{Et.value=null,Ot.value=!0;const e=jt.value,{name:a}=Ht.value,s=Mt.value,{description:i}=Ht.value;let o=null,r=await vt.get("https://api.ipify.org?format=json").catch(()=>{console.log("Error geting clientIp from api.ipify.org from")});r&&r.data&&r.data.ip?o=r.data.ip:(r=await vt.get("https://ipinfo.io").catch(()=>{console.log("Error geting clientIp from ipinfo.io from")}),r&&r.data&&r.data.ip?o=r.data.ip:(r=await vt.get("https://api.ip2location.io").catch(()=>{console.log("Error geting clientIp from api.ip2location.io from")}),r&&r.data&&r.data.ip&&(o=r.data.ip)));const l=localStorage.getItem("zelidauth"),c=gt.parse(l),d={zelid:c.zelid,signature:c.signature,loginPhrase:c.loginPhrase,details:{clientIP:o,name:a,description:i,hash:e,price:s,productName:a,return_url:"home.runonflux.io/successcheckout",cancel_url:"home.runonflux.io",kpi:{origin:"FluxOS",marketplace:!0,registration:!0}}},u=await vt.post(`${ot.E}/api/v1/paypal/checkout/create`,d);if("error"===u.data.status)return n("error","Failed to create PayPal checkout"),void(Ot.value=!1);Et.value=u.data.data,Ot.value=!1;try{Ce(u.data.data)}catch(t){console.log(t),n("error","Failed to open PayPal checkout, pop-up blocked?")}}catch(t){console.log(t),n("error","Failed to create PayPal checkout"),Ot.value=!1}},Ae=async t=>{console.log(t);const e=await d.value.request({topic:t.topic,chainId:"eip155:1",request:{method:"personal_sign",params:[Dt.value,t.namespaces.eip155.accounts[0].split(":")[2]]}});console.log(e),It.value=e},Fe=async()=>{try{const t=await K.Ay.init(ct);d.value=t;const e=t.session.getAll().length-1,a=t.session.getAll()[e];if(!a)throw new Error("WalletConnect session expired. Please log into FluxOS again");Ae(a)}catch(t){console.error(t),n("danger",t.message)}},Pe={maxScrollbarLength:150},ze=t=>t.compose.reduce((t,e)=>t+e.cpu,0),Re=t=>t.compose.reduce((t,e)=>t+e.ram,0),Te=t=>t.compose.reduce((t,e)=>t+e.hdd,0),De=(0,g.ref)({series:[]}),Ie=(0,g.ref)({series:[]}),$e=(0,g.ref)({series:[]}),Le=async t=>{try{const e=t.split(":")[0],a=Number(t.split(":")[1]||16127),{hostname:s}=window.location,i=/[A-Za-z]/g;let o=!0;s.match(i)&&(o=!1);let r=`https://${e.replace(/\./g,"-")}-${a}.node.api.runonflux.io/flux/pgp`;o&&(r=`http://${e}:${a}/flux/pgp`);const l=await vt.get(r);if("error"!==l.data.status){const t=l.data.data;return t}return n("danger",l.data.data.message||l.data.data),null}catch(e){return console.log(e),null}},Be=async()=>{const t=sessionStorage.getItem("flux_enterprise_nodes");if(t)return JSON.parse(t);try{const t=await J.A.getEnterpriseNodes();if("error"!==t.data.status)return sessionStorage.setItem("flux_enterprise_nodes",JSON.stringify(t.data.data)),t.data.data;n("danger",t.data.data.message||t.data.data)}catch(e){console.log(e)}return[]},Me=async(t,e)=>{try{const a=await(0,nt.C)(),s=e.map(t=>t.nodekey),i=await Promise.all(s.map(t=>a.readKey({armoredKey:t}))),o=await a.createMessage({text:t.replace("\\“",'\\"')}),n=await a.encrypt({message:o,encryptionKeys:i});return n}catch(a){return n("danger","Data encryption failed"),null}},Ee=async()=>{const t=+Gt.value+3,e=+Gt.value+Math.ceil(Math.max(7,.15*+Gt.value)),a=await Be(),s=[],i=[],o=a.filter(t=>t.enterprisePoints>0&&t.score>1e3);for(let n=0;n<o.length;n+=1){const a=i.filter(t=>t.pubkey===o[n].pubkey).length,r=s.filter(t=>t.pubkey===o[n].pubkey).length;if(a+r<t&&s.push(o[n]),s.length+i.length>=e)break}if(s.length<e)throw new Error("Not enough kyc nodes available to run your enterprise app.");return s.forEach(async t=>{const e=i.find(e=>e.ip===t.ip);if(!e){i.push(t);const e=Zt.value.find(e=>e.nodeip===t.ip);if(!e){const e=await Le(t.ip);if(e){const a={nodeip:t.ip,nodekey:e},s=Zt.value.find(e=>e.nodeip===t.ip);s||Zt.value.push(a)}}}}),console.log(i),console.log(Zt.value),i.map(t=>t.ip)};(0,g.watch)(()=>t.appData,()=>{null!==l.value&&(l.value.close(),l.value=null),De.value={series:[ze(t.appData)/15*100]},Ie.value={series:[Re(t.appData)/59e3*100]},$e.value={series:[Te(t.appData)/820*100]},t.appData.compose.forEach(t=>{const e=t.userEnvironmentParameters||[];e.forEach(e=>{Object.prototype.hasOwnProperty.call(e,"port")&&(e.value=t.ports[e.port])})}),zt.value=t.appData.compose[0],t.appData.isAutoEnterprise&&Ee().then(t=>{Wt.value=t,console.log("auto selected nodes",t)}).catch(console.log)});const Oe=t=>`${t}${Date.now()}`,Ne=t=>{if(!m.value)return["No Flux ID"];const e=Oe(t),a=e.toLowerCase(),s=[`${a}.app.runonflux.io`];return s},qe=async()=>{const t=await J.A.appsDeploymentInformation(),{data:e}=t.data;"success"===t.data.status?ae.value=e.address:n("danger",t.data.data.message||t.data.data)};qe();const je=async()=>{try{if(!ee.value)throw new Error("Please agree to Terms of Service");kt.value=!1,_t.value=!1;const e=Oe(t.appData.name),a={version:t.appData.version,name:e,description:t.appData.description,owner:m.value,instances:Gt.value,compose:[]};if(t.appData.version>=5&&(a.contacts=[],a.geolocation=[],Yt.value&&a.geolocation.push(Yt.value),Jt.value)){const t=[Jt.value],e=Math.floor(999999999999999*Math.random()).toString(),s={contactsid:e,contacts:t},i=await vt.post("https://storage.runonflux.io/v1/contacts",s);if("error"===i.data.status)throw new Error(i.data.message||i.data);n("success","Successful upload of Contact Parameter to Flux Storage"),a.contacts=[`F_S_CONTACTS=https://storage.runonflux.io/v1/contacts/${e}`]}if(t.appData.version>=6){const t=Qt.value,e=se.value>=202e4?88e3:22e3;a.expire=t[te.value].value||e}if(t.appData.version>=7)if(a.staticip=t.appData.staticip,t.appData.isAutoEnterprise){if(0===Wt.value.length){const t=await Ee();Wt.value=t}a.nodes=Wt.value}else a.nodes=t.appData.nodes||[];for(let l=0;l<t.appData.compose.length;l+=1){const e=t.appData.compose[l];let s=JSON.parse(JSON.stringify(e.environmentParameters));const i=e.userEnvironmentParameters||[];if(i.forEach(t=>{s.push(`${t.name}=${t.value}`)}),e.envFluxStorage){const t=Math.floor(999999999999999*Math.random()).toString(),e={envid:t,env:s},a=await vt.post("https://storage.runonflux.io/v1/env",e);if("error"===a.data.status)throw new Error(a.data.message||a.data);n("success","Successful upload of Environment Parameters to Flux Storage"),s=[`F_S_ENV=https://storage.runonflux.io/v1/env/${t}`]}let{ports:o}=e;if(e.portSpecs){o=[];for(let t=0;t<e.portSpecs.length;t+=1){const a=e.portSpecs[t];if("string"!==typeof a)throw new Error("Port Specs Range for the application on Marketplace is not properly configured");{const t=Number(a.split("-")[0]),e=Number(a.split("-")[1]);o.push(Math.floor(Math.random()*(e-t+1)+t))}}}t.appData.name.toLowerCase().includes("streamr")&&(s.push(`STREAMR__BROKER__CLIENT__NETWORK__CONTROL_LAYER__WEBSOCKET_PORT_RANGE__MIN=${o[0]}`),s.push(`STREAMR__BROKER__CLIENT__NETWORK__CONTROL_LAYER__WEBSOCKET_PORT_RANGE__MAX=${o[0]}`),s.push("LOG_COLORS=false"),e.containerPorts=[o[0]]);const r={name:e.name,description:e.description,repotag:e.repotag,ports:o,containerPorts:e.containerPorts,environmentParameters:s,commands:e.commands,containerData:e.containerData,domains:e.domains,cpu:e.cpu,ram:e.ram,hdd:e.hdd,tiered:e.tiered};if(e.tiered&&(r.cpubasic=e.cpubasic,r.rambasic=e.rambasic,r.hddbasic=e.hddbasic,r.cpusuper=e.cpusuper,r.ramsuper=e.ramsuper,r.hddsuper=e.hddsuper,r.cpubamf=e.cpubamf,r.rambamf=e.rambamf,r.hddbamf=e.hddbamf),t.appData.version>=7){r.secrets=t.appData.secrets||"",r.repoauth=t.appData.repoauth||"";const a=[],s=e.userSecrets||[];if(s.forEach(t=>{a.push(`${t.name}=${t.value}`)}),a.length>0){const t=await Me(JSON.stringify(a),Zt.value);if(!t)throw new Error("Secrets failed to encrypt");r.secrets=t}}a.compose.push(r)}Ht.value=a;const s=await J.A.appRegistrationVerificaiton(a);if(console.log(s),"error"===s.data.status)throw new Error(s.data.data.message||s.data.data);const i=s.data.data;Bt.value=0,Mt.value=0,Nt.value=!1,qt.value="";const o=JSON.parse(JSON.stringify(i));o.priceUSD=t.appData.priceUSD,console.log(o.priceUSD),Gt.value&&Gt.value>3&&(o.priceUSD=Number((o.priceUSD*Gt.value/3).toFixed(2))),"1"===te.value?o.priceUSD*=3:"2"===te.value?o.priceUSD*=6:"3"===te.value&&(o.priceUSD*=12);const r=await J.A.appPriceUSDandFlux(o);if("error"===r.data.status)throw new Error(r.data.data.message||r.data.data);Mt.value=+r.data.data.usd,Number.isNaN(+r.data.data.fluxDiscount)?(Nt.value=!0,n("danger","Not possible to complete payment with Flux crypto currency")):(Bt.value=+r.data.data.flux,qt.value=+r.data.data.fluxDiscount),null!==l.value&&(l.value.close(),l.value=null),Lt.value=Date.now(),$t.value=i,Dt.value=`${Tt.value}${Rt.value}${JSON.stringify(i)}${Date.now()}`,jt.value=null,It.value=null,At.value=!0}catch(e){console.log(e),n("danger",e.message||e)}},Ue={height:150,type:"radialBar",sparkline:{enabled:!0},dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}},Ve={height:200,type:"radialBar",sparkline:{enabled:!0},dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}},We={chart:Ve,colors:[Z.Sg.primary],labels:["CORES"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:Z.Sg.secondary,fontSize:"1.5rem"},value:{formatter:t=>(15*parseFloat(t)/100).toFixed(1),offsetY:10,color:Z.Sg.success,fontSize:"2.86rem",fontWeight:"300"}}}}},Ze={chart:Ue,colors:[Z.Sg.primary],labels:["CORES"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:Z.Sg.secondary,fontSize:"1.2rem"},value:{formatter:t=>(15*parseFloat(t)/100).toFixed(1),offsetY:10,color:Z.Sg.success,fontSize:"2rem",fontWeight:"300"}}}}},Ye={chart:Ve,colors:[Z.Sg.primary],labels:["MB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:Z.Sg.secondary,fontSize:"1.5rem"},value:{formatter:t=>(59e3*parseFloat(t)/100).toFixed(0),offsetY:10,color:Z.Sg.success,fontSize:"2.86rem",fontWeight:"300"}}}}},Je={chart:Ue,colors:[Z.Sg.primary],labels:["MB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:Z.Sg.secondary,fontSize:"1.2rem"},value:{formatter:t=>(59e3*parseFloat(t)/100).toFixed(0),offsetY:10,color:Z.Sg.success,fontSize:"2rem",fontWeight:"300"}}}}},Ge={chart:Ve,colors:[Z.Sg.primary],labels:["GB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:Z.Sg.secondary,fontSize:"1.5rem"},value:{formatter:t=>(820*parseFloat(t)/100).toFixed(0),offsetY:10,color:Z.Sg.success,fontSize:"2.86rem",fontWeight:"300"}}}}},He={chart:Ue,colors:[Z.Sg.primary],labels:["GB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:Z.Sg.secondary,fontSize:"1.2rem"},value:{formatter:t=>(820*parseFloat(t)/100).toFixed(0),offsetY:10,color:Z.Sg.success,fontSize:"2rem",fontWeight:"300"}}}}},Ke=async()=>{const{copy:t}=(0,et.iDZ)({source:Dt.value,legacy:!0});t(),Kt.value="Copied!",setTimeout(async()=>{await(0,g.nextTick)();const t=Xt.value;t&&(t.blur(),Kt.value="")},1e3),setTimeout(()=>{Kt.value="Copy to clipboard"},1500)},Xe=async()=>{const t=localStorage.getItem("zelidauth"),e={type:Tt.value,version:Rt.value,appSpecification:$t.value,timestamp:Lt.value,signature:It.value};n("info","Propagating message accross Flux network..."),kt.value=!0;const a=await J.A.registerApp(t,e).catch(t=>{kt.value=!1,n("danger",t.message||t)});kt.value=!1,console.log(a),"success"===a.data.status?(_t.value=!0,jt.value=a.data.data,n("success",a.data.data.message||a.data.data)):n("danger",a.data.data.message||a.data.data);const s=await(0,ot.A)();s&&(Ut.value=s.stripe,Vt.value=s.paypal)},Qe=e=>{zt.value=t.appData.compose[e]},ta=()=>{Pt.value=!0},ea=t=>{null!==jt.value&&!Pt.value&&At.value&&(t.preventDefault(),Pt.value=!0)},aa=()=>{Pt.value=!1,At.value=!1},sa=()=>{const t=document.getElementById("firebaseui-auth-container");if(t){const e=it.j.AuthUI.getInstance();h.value=e||new it.j.AuthUI(st.A.auth()),h.value?h.value.start(t,lt):console.error("Failed to initialize FirebaseUI AuthUI instance")}};return(0,g.watch)(()=>t.isActive,async t=>{t&&(await(0,g.nextTick)(),sa())}),(0,g.onMounted)(async()=>{m.value||F(),await ie()}),{closeLaunchModals:aa,tosAgreed:ee,loading:kt,completed:_t,perfectScrollbarSettings:Pe,resolveTagVariant:o,resolveCpu:ze,resolveRam:Re,resolveHdd:Te,constructAutomaticDomains:Ne,checkFluxSpecificationsAndFormatMessage:je,timeoptions:ft,cpuRadialBar:We,cpuRadialBarSmall:Ze,cpu:De,ramRadialBar:Ye,ramRadialBarSmall:Je,ram:Ie,hddRadialBar:Ge,hddRadialBarSmall:He,hdd:$e,ui:h,loginForm:p,initiateLoginWS:Q,initMetamaskLogin:St,loginPhrase:c,resetModal:O,handleOk:q,login:M,modalShow:r,emailLogin:L,initSSPLogin:wt,createAccount:B,handleSignInSuccessWithAuthResult:$,cancelVerification:R,ssoVerification:u,createSSOForm:f,emailForm:v,getZelIdLoginPhrase:F,userZelid:m,dataToSign:Dt,selectedGeolocation:Yt,contact:Jt,appInstances:Gt,signClient:d,signature:It,appPricePerDeployment:Bt,appPricePerDeploymentUSD:Mt,applicationPriceFluxDiscount:qt,applicationPriceFluxError:Nt,fiatCheckoutURL:Et,checkoutLoading:Ot,registrationHash:jt,deploymentAddress:ae,stripeEnabled:Ut,paypalEnabled:Vt,validTill:ne,subscribedTill:re,register:Xe,callbackValue:ce,callbackValueLogin:Y,initiateSignWS:fe,initMetamask:we,initSSP:ye,initSSPpay:Se,initPaypalPay:_e,initStripePay:ke,openSite:Ce,initSignFluxSSO:ge,initZelcorePay:ve,initWalletConnect:Fe,initWalletConnectLogin:xt,onSessionConnect:Ae,siwe:xe,copyMessageToSign:Ke,launchModalShowing:At,componentParamsModalShowing:Ft,confirmLaunchDialogCloseShowing:Pt,confirmLaunchDialogFinish:ta,confirmLaunchDialogCancel:ea,expirePosition:te,getExpireLabel:le,currentComponent:zt,componentSelected:Qe,tierColors:H.A,skin:s,isDark:i,tooltipText:Kt,copyButtonRef:Xt}}},xt=bt;var wt=a(81656),yt=(0,wt.A)(xt,_,A,!1,null,"436d9e9a",null);const St=yt.exports;var Ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-details"},[e("div",{staticClass:"app-detail-header"},[e("div",{staticClass:"app-header-left d-flex align-items-center flex-grow-1"},[e("span",{staticClass:"go-back mr-1"},[e("feather-icon",{staticClass:"align-bottom",attrs:{icon:t.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"20"},on:{click:function(e){return t.$emit("close-sharednode-view")}}})],1),e("h4",{staticClass:"app-name mb-0 flex-grow-1"},[t._v(" Titan Shared Nodes (Beta) ")]),e("a",{attrs:{href:"https://fluxofficial.medium.com/flux-titan-nodes-guide-useful-staking-e527278b1a2a",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Titan Guide ")])])]),e("vue-perfect-scrollbar",{staticClass:"marketplace-app-list scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("b-overlay",{attrs:{variant:"transparent",opacity:"0.95",blur:"5px","no-center":"",show:t.showOverlay()},scopedSlots:t._u([{key:"overlay",fn:function(){return[e("div",{staticClass:"mt-5"},[e("div",{staticClass:"text-center"},[t.titanConfig&&t.titanConfig.maintenanceMessage?e("b-card",{staticClass:"mx-auto",staticStyle:{"max-width":"50rem"},attrs:{"border-variant":"primary",title:"Titan Maintenance"}},[e("h1",[t._v(" "+t._s(t.titanConfig.maintenanceMessage)+" ")])]):e("b-spinner",{staticStyle:{width:"10rem",height:"10rem"},attrs:{type:"border",variant:"danger"}})],1)])]},proxy:!0}])},[e("b-card",{attrs:{"bg-variant":"transparent"}},[e("b-row",{staticClass:"match-height d-xxl-flex d-none"},[e("b-col",{attrs:{xl:"4"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[t._v(" Active Nodes ")]),e("b-card-body",{staticClass:"shared-node-info-body"},[e("h1",{staticClass:"active-node-value"},[t._v(" "+t._s(t.nodes.length)+" ")]),e("div",{staticClass:"d-flex"},[e("h4",{staticClass:"flex-grow-1"},[t._v(" Total: "+t._s(t.totalCollateral.toLocaleString())+" Flux ")]),e("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(e){return t.showNodeInfoDialog()}}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)])],1)],1),e("b-col",{attrs:{xl:"4"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[t._v(" Titan Stats ")]),e("b-card-body",{staticClass:"shared-node-info-body"},[e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" My Flux Total ")]),e("h4",[t._v(" "+t._s(t.myStakes?t.toFixedLocaleString(t.myStakes.reduce((t,e)=>t+e.collateral,0),0):0)+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Titan Flux Total ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.total):"...")+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Current Supply ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.currentsupply):"...")+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Max Supply ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.maxsupply):"...")+" ")])]),e("div",[e("hr")]),e("div",{staticClass:"d-flex flex-row"},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.tooMuchStaked?t.titanConfig?t.titanConfig.stakeDisabledMessage:t.defaultStakeDisabledMessage:"",expression:"tooMuchStaked ? (titanConfig ? titanConfig.stakeDisabledMessage : defaultStakeDisabledMessage) : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"d-flex flex-row flex-grow-1"},[t.userZelid?e("b-button",{staticClass:"flex-grow-1 .btn-relief-primary",attrs:{variant:"gradient-primary",disabled:t.tooMuchStaked},on:{click:function(e){return t.showStakeDialog(!1)}}},[t._v(" Activate Titan ")]):t._e()],1)])])])],1)],1),e("b-col",{attrs:{xl:"4"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[t._v(" Estimated % Lockup in Flux ")]),t.titanConfig?e("b-card-body",{staticClass:"shared-node-info-body"},[t._l(t.titanConfig.lockups,function(a){return e("div",{key:a.time,staticClass:"lockup"},[e("div",{staticClass:"d-flex flex-row"},[e("h2",{staticClass:"flex-grow-1"},[t._v(" "+t._s(a.name)+" ")]),e("h1",[t._v(" ~"+t._s((100*a.apr).toFixed(2))+"% ")])])])}),e("div",{staticClass:"float-right"},[e("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(e){return t.showAPRInfoDialog()}}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)],2):t._e()],1)],1)],1),e("b-row",{staticClass:"match-height d-xxl-none d-xl-flex d-lg-flex d-md-flex d-sm-flex"},[e("b-col",{attrs:{sm:"12"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase",staticStyle:{"padding-left":"1.5rem","padding-top":"1rem","margin-bottom":"0"}},[t._v(" Active Nodes ")]),e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{cols:"6"}},[e("h1",{staticClass:"active-node-value-xl"},[t._v(" "+t._s(t.nodes.length)+" ")])]),e("b-col",{attrs:{cols:"6"}},[e("h4",{staticClass:"text-center",staticStyle:{"padding-top":"2rem"}},[t._v(" Total: "+t._s(t.totalCollateral.toLocaleString())+" Flux ")]),e("h4",{staticClass:"text-center"},[e("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(e){return t.showNodeInfoDialog()}}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)])],1)],1)],1),e("b-col",{attrs:{sm:"12"}},[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{sm:"6"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title-xl"},[t._v(" Titan Stats ")]),e("b-card-body",{staticClass:"shared-node-info-body-xl"},[e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" My Flux Total ")]),e("h4",[t._v(" "+t._s(t.myStakes?t.toFixedLocaleString(t.myStakes.reduce((t,e)=>t+e.collateral,0),0):0)+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Titan Flux Total ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.total):"...")+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Current Supply ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.currentsupply):"...")+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Max Supply ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.maxsupply):"...")+" ")])]),e("div",[e("hr")]),e("div",{staticClass:"d-flex flex-row"},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.tooMuchStaked?t.titanConfig?t.titanConfig.stakeDisabledMessage:t.defaultStakeDisabledMessage:"",expression:"tooMuchStaked ? (titanConfig ? titanConfig.stakeDisabledMessage : defaultStakeDisabledMessage) : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"d-flex flex-row flex-grow-1"},[t.userZelid?e("b-button",{staticClass:"flex-grow-1 .btn-relief-primary",attrs:{variant:"gradient-primary",disabled:t.tooMuchStaked},on:{click:function(e){return t.showStakeDialog(!1)}}},[t._v(" Activate Titan ")]):t._e()],1)])])])],1)],1),e("b-col",{attrs:{sm:"6"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title-xl"},[t._v(" Lockup Period APR ")]),t.titanConfig?e("b-card-body",{staticClass:"shared-node-info-body-xl"},[t._l(t.titanConfig.lockups,function(a){return e("div",{key:a.time,staticClass:"lockup"},[e("div",{staticClass:"d-flex flex-row"},[e("h4",{staticClass:"flex-grow-1"},[t._v(" "+t._s(a.name)+" ")]),e("h4",[t._v(" ~"+t._s((100*a.apr).toFixed(2))+"% ")])])])}),e("div",{staticClass:"float-right"},[e("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(e){return t.showAPRInfoDialog()}}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)],2):t._e()],1)],1)],1)],1)],1)],1),t.userZelid?e("b-row",{},[e("b-col",{staticClass:"d-xxl-none d-xl-flex d-lg-flex d-md-flex d-sm-flex"},[e("b-card",{staticClass:"flex-grow-1",attrs:{"no-body":""}},[e("b-card-title",{staticClass:"stakes-title"},[t._v(" Redeem Flux ")]),e("b-card-body",[e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Paid: ")]),e("h4",[t._v(" "+t._s(t.calculatePaidRewards())+" Flux ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Available: ")]),e("h4",[t._v(" "+t._s(t.toFixedLocaleString(t.totalReward,2))+" Flux ")])]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.totalReward<=(t.titanConfig?t.titanConfig.redeemFee:0)?"Available balance is less than the redeem fee":"",expression:"totalReward <= (titanConfig ? titanConfig.redeemFee : 0) ? 'Available balance is less than the redeem fee' : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"float-right",staticStyle:{display:"inline-block"}},[t.totalReward>t.minStakeAmount?e("b-button",{staticClass:"mt-2 mr-1",attrs:{disabled:t.totalReward>=t.totalCollateral-t.titanStats.total,variant:"danger",size:"sm",pill:""},on:{click:function(e){return t.showStakeDialog(!0)}}},[t._v(" Re-invest Funds ")]):t._e(),e("b-button",{staticClass:"float-right mt-2",attrs:{id:"redeemButton",variant:"danger",size:"sm",pill:"",disabled:t.totalReward<=(t.titanConfig?t.titanConfig.redeemFee:0)},on:{click:function(e){return t.showRedeemDialog()}}},[t._v(" Redeem ")])],1)])],1)],1),e("b-col",{attrs:{xxl:"9"}},[e("b-card",{staticClass:"sharednodes-container",attrs:{"no-body":""}},[e("b-card-body",[e("b-tabs",[e("b-tab",{attrs:{active:"",title:"Active"}},[e("ul",{staticClass:"marketplace-media-list"},t._l(t.myStakes,function(a){return e("b-media",{key:a.uuid,attrs:{tag:"li","no-body":""},on:{click:function(e){return t.showActiveStakeInfoDialog(a)}}},[e("b-media-body",{staticClass:"app-media-body",staticStyle:{overflow:"inherit"}},[e("div",{staticClass:"d-flex flex-row row"},[-1===a.confirmations?e("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"danger",button:""},on:{click:[function(e){return t.showPaymentDetailsDialog(a)},function(t){t.stopPropagation()}]}},[e("v-icon",{attrs:{scale:"1.75",name:"hourglass-half"}})],1):t.titanConfig&&a.confirmations>=t.titanConfig.confirms?e("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-success"}},[e("v-icon",{attrs:{scale:"1.75",name:"check"}})],1):e("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-warning"}},[t._v(" "+t._s(a.confirmations)+"/"+t._s(t.titanConfig?t.titanConfig.confirms:0)+" ")]),e("div",{staticClass:"d-flex flex-column seat-column col",staticStyle:{"flex-grow":"0.8"}},[e("h3",{staticClass:"mr-auto ml-auto mt-auto mb-auto"},[t._v(" "+t._s(a.collateral.toLocaleString())+" Flux ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.timestamp).toLocaleString(t.timeoptions),expression:"new Date(stake.timestamp * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto text-center"},[t._v(" Start Date: "+t._s(new Date(1e3*a.timestamp).toLocaleDateString())+" ")]),e("h5",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.expiry).toLocaleString(t.timeoptions),expression:"new Date(stake.expiry * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto text-center"},[t._v(" End Date: "+t._s(new Date(1e3*a.expiry).toLocaleDateString())+" ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{staticClass:"mr-auto ml-auto"},[t._v(" Paid: "+t._s(t.toFixedLocaleString(a.paid,2))+" Flux ")]),e("h5",{staticClass:"mr-auto ml-auto"},[t._v(" Pending: "+t._s(t.toFixedLocaleString(a.reward,2))+" Flux ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{staticClass:"mr-auto ml-auto text-center"},[t._v(" Monthly Flux ")]),t.titanConfig?e("h5",{staticClass:"mr-auto ml-auto"},[t._v(" ~"+t._s(t.toFixedLocaleString(t.calcMonthlyReward(a),2))+" Flux "),a.autoreinvest?e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Stake will auto-reinvest",expression:"'Stake will auto-reinvest'",modifiers:{hover:!0,top:!0}}],attrs:{name:"sync"}}):t._e()],1):e("h5",{staticClass:"mr-auto ml-auto"},[t._v(" ... Flux ")])])],1),a.message?e("div",[e("div",{domProps:{innerHTML:t._s(a.message)}})]):t._e()])],1)}),1)]),t.myExpiredStakes.length>0?e("b-tab",{attrs:{title:"Expired"}},[e("ul",{staticClass:"marketplace-media-list"},t._l(t.myExpiredStakes,function(a){return e("b-media",{key:a.uuid,attrs:{tag:"li","no-body":""}},[e("b-media-body",{staticClass:"app-media-body",staticStyle:{overflow:"inherit"}},[e("div",{staticClass:"d-flex flex-row row"},[e("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-warning"}},[e("v-icon",{attrs:{scale:"1.75",name:"calendar-times"}})],1),e("div",{staticClass:"d-flex flex-column seat-column col",staticStyle:{"flex-grow":"0.8"}},[e("h3",{staticClass:"mr-auto ml-auto mt-auto mb-auto"},[t._v(" "+t._s(a.collateral.toLocaleString())+" Flux ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.timestamp).toLocaleString(t.timeoptions),expression:"new Date(stake.timestamp * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto"},[t._v(" Start Date: "+t._s(new Date(1e3*a.timestamp).toLocaleDateString())+" ")]),e("h5",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.expiry).toLocaleString(t.timeoptions),expression:"new Date(stake.expiry * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto"},[t._v(" End Date: "+t._s(new Date(1e3*a.expiry).toLocaleDateString())+" ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{staticClass:"mr-auto ml-auto"},[t._v(" Paid: "+t._s(5===a.state?t.toFixedLocaleString(a.paid-a.collateral,2):t.toFixedLocaleString(a.paid,2))+" Flux ")]),e("h5",{staticClass:"mr-auto ml-auto"},[t._v(" Pending: "+t._s(t.toFixedLocaleString(a.reward,2))+" Flux ")])]),e("div",{staticClass:"d-flex"},[e("b-button",{staticClass:"float-right mt-1 mb-1",staticStyle:{width:"100px"},attrs:{variant:a.state>=5?"outline-secondary":"danger",size:"sm",disabled:a.state>=5||t.totalReward>=t.totalCollateral-t.titanStats.total,pill:""},on:{click:function(e){return t.showReinvestDialog(a)}}},[t._v(" "+t._s(a.state>=5?"Complete":"Reinvest")+" ")])],1)],1)])],1)}),1)]):t._e(),e("b-tab",{attrs:{title:"Payments"}},[e("ul",{staticClass:"marketplace-media-list"},[e("b-table",{staticClass:"payments-table",attrs:{striped:"",hover:"",responsive:"",items:t.myPayments,fields:t.paymentFields,"show-empty":"","empty-text":"No Payments"},scopedSlots:t._u([{key:"cell(timestamp)",fn:function(e){return[t._v(" "+t._s(new Date(e.item.timestamp).toLocaleString(t.timeoptions))+" ")]}},{key:"cell(total)",fn:function(a){return[e("p",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:`Amount = ${t.toFixedLocaleString(a.item.total,2)} Flux - ${a.item.fee} Flux redeem fee`,expression:"`Amount = ${toFixedLocaleString(data.item.total, 2)} Flux - ${data.item.fee} Flux redeem fee`",modifiers:{hover:!0,right:!0}}],staticStyle:{"margin-bottom":"0"}},[t._v(" "+t._s(t.toFixedLocaleString(a.item.total-a.item.fee,2))+" Flux ")])]}},{key:"cell(address)",fn:function(a){return[e("a",{attrs:{href:`https://explorer.runonflux.io/address/${a.item.address}`,target:"_blank",rel:"noopener noreferrer"}},[t._v(" "+t._s(a.item.address)+" ")])]}},{key:"cell(txid)",fn:function(a){return[a.item.txid?e("a",{attrs:{href:`https://explorer.runonflux.io/tx/${a.item.txid}`,target:"_blank",rel:"noopener noreferrer"}},[t._v(" View on Explorer ")]):e("h5",[t._v(" "+t._s(a.item.state||"Processing")+" ")])]}}])})],1)])],1)],1)],1)],1),e("b-col",{staticClass:"d-xxl-flex d-xl-none d-lg-none d-md-none d-sm-none",attrs:{xxl:"3"}},[e("b-card",{staticClass:"flex-grow-1",attrs:{"no-body":""}},[e("b-card-title",{staticClass:"stakes-title"},[t._v(" Redeem Flux ")]),e("b-card-body",[e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Paid: ")]),e("h4",[t._v(" "+t._s(t.calculatePaidRewards())+" Flux ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Available: ")]),e("h4",[t._v(" "+t._s(t.toFixedLocaleString(t.totalReward,2))+" Flux ")])]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.totalReward<=(t.titanConfig?t.titanConfig.minimumRedeem:50)?`Available balance is less than the minimum redeem amount (${t.titanConfig?t.titanConfig.minimumRedeem:50} Flux)`:"",expression:"totalReward <= (titanConfig ? titanConfig.minimumRedeem : 50) ? `Available balance is less than the minimum redeem amount (${(titanConfig ? titanConfig.minimumRedeem : 50)} Flux)` : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"float-right",staticStyle:{display:"inline-block"}},[t.totalReward>t.minStakeAmount?e("b-button",{staticClass:"mt-2 mr-1",attrs:{disabled:t.totalReward>=t.totalCollateral-t.titanStats.total,variant:"danger",size:"sm",pill:""},on:{click:function(e){return t.showStakeDialog(!0)}}},[t._v(" Re-invest Funds ")]):t._e(),e("b-button",{staticClass:"float-right mt-2",attrs:{id:"redeemButton",variant:"danger",size:"sm",pill:"",disabled:t.totalReward<=(t.titanConfig?t.titanConfig.redeemFee:0)||t.totalReward<=(t.titanConfig?t.titanConfig.minimumRedeem:50)},on:{click:function(e){return t.showRedeemDialog()}}},[t._v(" Redeem ")])],1)])],1)],1)],1):e("b-card",{attrs:{title:"My Active Flux"}},[e("h5",[t._v(" Please login using your Flux ID to view your active Flux ")])])],1)],1),e("b-modal",{attrs:{title:"Titan Nodes",size:"lg",centered:"","button-size":"sm","ok-only":""},on:{ok:()=>t.nodeModalShowing=!1},model:{value:t.nodeModalShowing,callback:function(e){t.nodeModalShowing=e},expression:"nodeModalShowing"}},t._l(t.nodes,function(a){return e("b-card",{key:a.uuid,attrs:{title:a.name}},[e("b-row",[e("b-col",[e("h5",[t._v(" Location: "+t._s(a.location)+" ")])]),e("b-col",[e("h5",[t._v(" Collateral: "+t._s(t.toFixedLocaleString(a.collateral,0))+" ")])])],1),e("b-row",[e("b-col",[e("h5",[t._v(" Created: "+t._s(new Date(a.created).toLocaleDateString())+" ")])]),e("b-col",[e("b-button",{attrs:{pill:"",size:"sm",variant:"primary"},on:{click:function(e){return t.visitNode(a)}}},[t._v(" Visit ")])],1)],1)],1)}),1),e("b-modal",{attrs:{title:"Lockup APR",size:"md",centered:"","button-size":"sm","ok-only":""},on:{ok:()=>t.aprModalShowing=!1},model:{value:t.aprModalShowing,callback:function(e){t.aprModalShowing=e},expression:"aprModalShowing"}},[e("b-card",{attrs:{title:"APR Calculations"}},[e("p",{staticClass:"text-center"},[t._v(" The APR for a Titan Shared Nodes lockup is dependent on the number of active Stratus nodes on the Flux network and the current block reward. ")]),e("p",{staticClass:"text-center"},[t._v(" APR is calculated using this basic formula: ")]),e("p",{staticClass:"text-center"},[t._v(" Per block reward (11.25) x Blocks per day (720) x 365 /"),e("br"),t._v("  (Number of Stratus nodes * 40,000) ")]),e("p",{staticClass:"text-center"},[e("br"),e("b-avatar",{attrs:{size:"24",variant:"warning",button:""}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1),t._v(" APR does not mean the actual or predicted returns in fiat currency or Flux. ")],1)])],1),e("b-modal",{attrs:{title:"Redeem Rewards",size:"lg",centered:"","button-size":"sm","ok-only":"","no-close-on-backdrop":"","no-close-on-esc":"","ok-title":"Cancel"},on:{ok:function(e){t.redeemModalShowing=!1,t.getMyPayments(!0)}},model:{value:t.redeemModalShowing,callback:function(e){t.redeemModalShowing=e},expression:"redeemModalShowing"}},[e("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){return t.confirmRedeemDialogFinish()}}},[e("tab-content",{attrs:{title:"Redeem Amount"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Redeem Amount"}},[e("h4",[t._v(" Available: "+t._s(t.toFixedLocaleString(t.totalReward,2))+" Flux ")]),e("h4",{staticStyle:{"margin-top":"10px"}},[t._v(" You will receive ")]),e("h3",[t._v(" "+t._s(t.toFixedLocaleString(t.totalReward-t.calculateRedeemFee(),2))+" Flux ")]),e("h6",[t._v(" ("),e("span",{staticClass:"text-warning"},[t._v("Redeem Fee:")]),t.titanConfig&&t.titanConfig.maxRedeemFee?e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${t.titanConfig.redeemFee}% of your rewards, capped at ${t.titanConfig.maxRedeemFee} Flux`,expression:"`Fee of ${titanConfig.redeemFee}% of your rewards, capped at ${titanConfig.maxRedeemFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[t._v(" "+t._s(t.toFixedLocaleString(t.calculateRedeemFee(),8))+" Flux ")]):e("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.titanConfig?t.titanConfig.redeemFee:"...")+" Flux ")]),t._v(") ")])])],1),e("tab-content",{attrs:{title:"Redeem Address","before-change":()=>t.checkRedeemAddress()}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Choose Redeem Address"}},[e("b-form-select",{attrs:{options:t.redeemAddresses,disabled:t.sendingRequest||t.requestSent||t.requestFailed},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v(" -- Please select an address -- ")])]},proxy:!0}]),model:{value:t.redeemAddress,callback:function(e){t.redeemAddress=e},expression:"redeemAddress"}})],1)],1),e("tab-content",{attrs:{title:"Sign Request","before-change":()=>null!==t.signature}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign Redeem Request with Wallet"}},[e("div",{staticClass:"wallet-options"},[e("a",{attrs:{title:"Sign with Zelcore"},on:{click:t.initiateSignWS}},[e("img",{staticClass:"walletIcon mb-2",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Sign with SSP"},on:{click:t.initSSP}},[e("img",{staticClass:"walletIcon mb-2",attrs:{src:"dark"===t.skin?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])]),e("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-form-input",{attrs:{id:"signature",disabled:t.sendingRequest||t.requestSent||t.requestFailed},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)],1),e("tab-content",{attrs:{title:"Request Redeem","before-change":()=>!0===t.requestSent}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Submit Redeem Request"}},[e("div",{staticClass:"mt-3 mb-auto"},[e("b-button",{attrs:{size:"lg",disabled:t.sendingRequest||t.requestSent,variant:"warning"},on:{click:t.requestRedeem}},[t._v(" Submit Request ")]),t.requestSent?e("h4",{staticClass:"mt-3 text-success"},[t._v(" Redeem request has been received and will be processed within 24 hours ")]):t._e(),t.requestFailed?e("h4",{staticClass:"mt-3 text-danger"},[t._v(" Redeem request failed ")]):t._e()],1)])],1)],1)],1),e("b-modal",{attrs:{title:"Pending Payment",size:"md",centered:"","button-size":"sm","ok-only":"","ok-title":"OK"},on:{ok:function(e){t.paymentDetailsDialogShowing=!1}},model:{value:t.paymentDetailsDialogShowing,callback:function(e){t.paymentDetailsDialogShowing=e},expression:"paymentDetailsDialogShowing"}},[t.selectedStake?e("b-card",{staticClass:"text-center payment-details-card",attrs:{title:"Send Funds"}},[e("b-card-text",[t._v(" To complete activation, send "),e("span",{staticClass:"text-success"},[t._v(t._s(t.toFixedLocaleString(t.selectedStake.collateral)))]),t._v(" FLUX to address"),e("br"),e("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning mt-1",staticStyle:{width:"25rem"}},[t._v(" "+t._s(t.titanConfig.fundingAddress)+" ")]),t._v(" with the following message"),e("br"),e("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning mt-1",staticStyle:{width:"25rem"}},[t._v(" "+t._s(t.selectedStake.signatureHash)+" ")]),e("div",{staticClass:"d-flex flex-row mt-2"},[e("h3",{staticClass:"col text-center mt-2"},[t._v(" Pay with"),e("br"),t._v("Wallet ")]),e("div",{staticClass:"col wallet-options"},[e("a",{attrs:{title:"Pay with Zelcore"},on:{click:t.initZelcorePayB}},[e("img",{staticClass:"walletIcon",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Pay with SSP"},on:{click:t.initSSPpayB}},[e("img",{staticClass:"walletIcon",attrs:{src:"dark"===t.skin?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])])]),e("h5",{staticClass:"mt-1"},[t._v(" This activation will expire if the transaction is not on the blockchain before "),e("span",{staticClass:"text-danger"},[t._v(t._s(new Date(1e3*t.selectedStake.expiry).toLocaleString()))])])])],1):t._e()],1),e("b-modal",{attrs:{title:"Cancel Activation?",size:"sm",centered:"","button-size":"sm","ok-title":"Yes","cancel-title":"No"},on:{ok:function(e){t.confirmStakeDialogCloseShowing=!1,t.stakeModalShowing=!1}},model:{value:t.confirmStakeDialogCloseShowing,callback:function(e){t.confirmStakeDialogCloseShowing=e},expression:"confirmStakeDialogCloseShowing"}},[e("h3",{staticClass:"text-center"},[t._v(" Are you sure you want to cancel activating with Titan? ")])]),e("b-modal",{attrs:{title:"Finish Activation?",size:"sm",centered:"","button-size":"sm","ok-title":"Yes","cancel-title":"No"},on:{ok:function(e){t.confirmStakeDialogFinishShowing=!1,t.stakeModalShowing=!1}},model:{value:t.confirmStakeDialogFinishShowing,callback:function(e){t.confirmStakeDialogFinishShowing=e},expression:"confirmStakeDialogFinishShowing"}},[e("h3",{staticClass:"text-center"},[t._v(" Please ensure that you have sent payment for your activation, or saved the payment details for later. ")]),e("br"),e("h4",{staticClass:"text-center"},[t._v(" Close the dialog? ")])]),e("b-modal",{attrs:{title:"Re-invest Expired",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:function(e){t.reinvestModalShowing=!1}},model:{value:t.reinvestModalShowing,callback:function(e){t.reinvestModalShowing=e},expression:"reinvestModalShowing"}},[e("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){return t.reinvestDialogFinish()}}},[e("tab-content",{attrs:{title:"Update"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Update"}},[t.selectedStake?e("div",{staticClass:"d-flex flex-column"},[e("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.selectedStake.autoreinvest,callback:function(e){t.$set(t.selectedStake,"autoreinvest",e)},expression:"selectedStake.autoreinvest"}},[t._v(" Auto-reinvest this Flux after expiry ")]),t.titanConfig&&t.titanConfig.reinvestFee>0&&t.titanConfig.maxReinvestFee?e("div",{staticClass:"mt-2"},[e("h6",[e("span",{staticClass:"text-warning"},[t._v("Re-invest Fee:")]),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${t.titanConfig.reinvestFee}% of your rewards, capped at ${t.titanConfig.maxReinvestFee} Flux`,expression:"`Fee of ${titanConfig.reinvestFee}% of your rewards, capped at ${titanConfig.maxReinvestFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[t._v(" "+t._s(t.toFixedLocaleString(t.calculateReinvestFee(),8))+" Flux ")])])]):t._e()],1):t._e()])],1),e("tab-content",{attrs:{title:"Choose Duration","before-change":()=>t.checkReinvestDuration()}},[t.titanConfig?e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Select Lockup Period"}},t._l(t.titanConfig.lockups,function(a,s){return e("div",{key:a.time,staticClass:"mb-1"},[e("div",{staticClass:"ml-auto mr-auto"},[e("b-button",{class:s===t.selectedLockupIndex?"selectedLockupButton":"unselectedLockupButton",style:`background-color: ${t.indexedTierColors[s]} !important;`,attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},on:{click:function(e){return t.selectLockup(s)}}},[t._v(" "+t._s(a.name)+" - ~"+t._s((100*a.apr).toFixed(2))+"% ")])],1)])}),0):t._e()],1),e("tab-content",{attrs:{title:"Signing","before-change":()=>null!==t.signature}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Wallet"}},[e("div",{staticClass:"wallet-options"},[e("a",{attrs:{title:"Sign with Zelcore"},on:{click:t.initiateSignWS}},[e("img",{staticClass:"walletIcon mb-2",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Sign with SSP"},on:{click:t.initSSP}},[e("img",{staticClass:"walletIcon mb-2",attrs:{src:"dark"===t.skin?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])]),e("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-form-input",{attrs:{id:"signature",disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)],1),e("tab-content",{attrs:{title:"Re-invest Flux","before-change":()=>!0===t.stakeRegistered}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Re-invest Stake with Titan"}},[e("div",{staticClass:"mt-3 mb-auto"},[e("b-button",{attrs:{size:"lg",disabled:t.registeringStake||t.stakeRegistered,variant:"success"},on:{click:t.reinvestStake}},[t._v(" Re-invest Flux ")]),t.stakeRegistered?e("h4",{staticClass:"mt-3 text-success"},[t._v(" Registration received ")]):t._e(),t.stakeRegisterFailed?e("h4",{staticClass:"mt-3 text-danger"},[t._v(" Registration failed ")]):t._e()],1)])],1)],1)],1),e("b-modal",{attrs:{title:"Active Flux Details",size:"sm",centered:"","button-size":"sm","cancel-title":"Close","ok-title":"Edit"},on:{ok:t.editActiveStake},model:{value:t.activeStakeInfoModalShowing,callback:function(e){t.activeStakeInfoModalShowing=e},expression:"activeStakeInfoModalShowing"}},[t.selectedStake?e("b-card",[e("div",{staticClass:"d-flex"},[e("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:""},model:{value:t.selectedStake.autoreinvest,callback:function(e){t.$set(t.selectedStake,"autoreinvest",e)},expression:"selectedStake.autoreinvest"}},[t._v(" Auto-reinvest this Flux after expiry ")])],1)]):t._e()],1),e("b-modal",{attrs:{title:"Edit Active Flux",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:function(e){t.editStakeModalShowing=!1}},model:{value:t.editStakeModalShowing,callback:function(e){t.editStakeModalShowing=e},expression:"editStakeModalShowing"}},[e("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){t.editStakeModalShowing=!1,t.getMyStakes(!0)}}},[e("tab-content",{attrs:{title:"Update"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Update"}},[t.selectedStake?e("div",{staticClass:"d-flex"},[e("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.selectedStake.autoreinvest,callback:function(e){t.$set(t.selectedStake,"autoreinvest",e)},expression:"selectedStake.autoreinvest"}},[t._v(" Auto-reinvest this Flux after expiry ")])],1):t._e()])],1),e("tab-content",{attrs:{title:"Signing","before-change":()=>null!==t.signature}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Wallet"}},[e("div",{staticClass:"wallet-options"},[e("a",{attrs:{title:"Sign with Zelcore"},on:{click:t.initiateSignWS}},[e("img",{staticClass:"walletIcon mb-2",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Sign with SSP"},on:{click:t.initSSP}},[e("img",{staticClass:"walletIcon mb-2",attrs:{src:"dark"===t.skin?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])]),e("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-form-input",{attrs:{id:"signature",disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)],1),e("tab-content",{attrs:{title:"Send to Titan","before-change":()=>!0===t.stakeRegistered}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send to Titan"}},[e("div",{staticClass:"mt-3 mb-auto"},[e("b-button",{attrs:{size:"lg",disabled:t.registeringStake||t.stakeRegistered,variant:"success"},on:{click:t.sendModifiedStake}},[t._v(" Send ")]),t.stakeRegistered?e("h4",{staticClass:"mt-3 text-success"},[t._v(" Edits received by Titan ")]):t._e(),t.stakeRegisterFailed?e("h4",{staticClass:"mt-3 text-danger"},[t._v(" Editing failed ")]):t._e()],1)])],1)],1)],1),e("b-modal",{attrs:{title:"Activate Titan",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:t.confirmStakeDialogCancel},model:{value:t.stakeModalShowing,callback:function(e){t.stakeModalShowing=e},expression:"stakeModalShowing"}},[e("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){return t.confirmStakeDialogFinish()}}},[e("tab-content",{attrs:{title:"Flux Amount"}},[t.reinvestingNewStake?e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Re-investing Funds"}},[e("div",[e("h5",{staticClass:"mt-3"},[t._v(" A new Titan slot will be created using your available rewards: ")]),e("h2",{staticClass:"mt-3"},[t._v(" "+t._s(t.toFixedLocaleString(t.totalReward,2))+" Flux ")]),t.titanConfig&&t.titanConfig.reinvestFee>0&&t.titanConfig.maxReinvestFee?e("div",{staticClass:"mt-2"},[e("h6",[e("span",{staticClass:"text-warning"},[t._v("Re-invest Fee:")]),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${t.titanConfig.reinvestFee}% of your rewards, capped at ${t.titanConfig.maxReinvestFee} Flux`,expression:"`Fee of ${titanConfig.reinvestFee}% of your rewards, capped at ${titanConfig.maxReinvestFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[t._v(" "+t._s(t.toFixedLocaleString(t.calculateNewStakeReinvestFee(),8))+" Flux ")])])]):t._e()])]):e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Choose Flux Amount"}},[e("div",[e("h3",{staticClass:"float-left"},[t._v(" "+t._s(t.toFixedLocaleString(t.minStakeAmount))+" ")]),e("h3",{staticClass:"float-right"},[t._v(" "+t._s(t.toFixedLocaleString(t.maxStakeAmount))+" ")])]),e("b-form-input",{attrs:{id:"stakeamount",type:"range",min:t.minStakeAmount,max:t.maxStakeAmount,step:"5",number:"",disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.stakeAmount,callback:function(e){t.stakeAmount=e},expression:"stakeAmount"}}),e("b-form-spinbutton",{staticClass:"stakeAmountSpinner",attrs:{id:"stakeamount-spnner",min:t.minStakeAmount,max:t.maxStakeAmount,size:"lg","formatter-fn":t.toFixedLocaleString,disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.stakeAmount,callback:function(e){t.stakeAmount=e},expression:"stakeAmount"}})],1)],1),e("tab-content",{attrs:{title:"Choose Duration","before-change":()=>t.checkDuration()}},[t.titanConfig?e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Select Lockup Period"}},[t._l(t.titanConfig.lockups,function(a,s){return e("div",{key:a.time,staticClass:"mb-1"},[e("div",{staticClass:"ml-auto mr-auto"},[e("b-button",{class:(s===t.selectedLockupIndex?"selectedLockupButton":"unselectedLockupButton")+(t.reinvestingNewStake?"Small":""),style:`background-color: ${t.indexedTierColors[s]} !important;`,attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},on:{click:function(e){return t.selectLockup(s)}}},[t._v(" "+t._s(a.name)+" - ~"+t._s((100*a.apr).toFixed(2))+"% ")])],1)])}),e("div",{staticClass:"d-flex"},[e("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.autoReinvestStake,callback:function(e){t.autoReinvestStake=e},expression:"autoReinvestStake"}},[t._v(" Auto-reinvest this Flux after expiry ")])],1)],2):t._e()],1),e("tab-content",{attrs:{title:"Signing","before-change":()=>null!==t.signature}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Wallet"}},[e("div",{staticClass:"wallet-options"},[e("a",{attrs:{title:"Sign with Zelcore"},on:{click:t.initiateSignWS}},[e("img",{staticClass:"walletIcon mb-2",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Sign with SSP"},on:{click:t.initSSP}},[e("img",{staticClass:"walletIcon mb-2",attrs:{src:"dark"===t.skin?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])]),e("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-form-input",{attrs:{id:"signature",disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)],1),e("tab-content",{attrs:{title:"Register with Titan","before-change":()=>!0===t.stakeRegistered}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Register with Titan"}},[e("div",{staticClass:"mt-3 mb-auto"},[e("h5",[e("span",{staticClass:"text-danger"},[t._v("IMPORTANT:")]),t._v(" Your funds will be locked until ")]),e("h5",[e("span",{staticClass:"text-warning"},[t._v(t._s(new Date(Date.now()+1e3*t.getLockupDuration()).toLocaleString()))])]),e("h5",{staticClass:"mb-2"},[t._v(" You will not be able to withdraw your Flux until the time has passed. ")]),e("b-button",{attrs:{size:"lg",disabled:t.registeringStake||t.stakeRegistered,variant:"success"},on:{click:t.registerStake}},[t._v(" Register with Titan ")]),t.stakeRegistered?e("h4",{staticClass:"mt-3 text-success"},[t._v(" Registration received ")]):t._e(),t.stakeRegisterFailed?e("h4",{staticClass:"mt-3 text-danger"},[t._v(" Registration failed ")]):t._e()],1)])],1),t.reinvestingNewStake?t._e():e("tab-content",{attrs:{title:"Send Funds"}},[t.titanConfig&&t.signatureHash?e("div",[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send Funds"}},[e("b-card-text",[t._v(" To finish activation, make a transaction of "),e("span",{staticClass:"text-success"},[t._v(t._s(t.toFixedLocaleString(t.stakeAmount)))]),t._v(" FLUX to address"),e("br"),e("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning",staticStyle:{width:"25rem"}},[t._v(" "+t._s(t.titanConfig.fundingAddress)+" ")]),t._v(" with the following message"),e("br")]),e("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning",staticStyle:{width:"25rem"}},[t._v(" "+t._s(t.signatureHash)+" ")]),e("div",{staticClass:"d-flex flex-row mt-2"},[e("h3",{staticClass:"col text-center mt-2"},[t._v(" Pay with"),e("br"),t._v("Wallet ")]),e("div",{staticClass:"col wallet-options"},[e("a",{attrs:{title:"Pay with Zelcore"},on:{click:t.initZelcorePay}},[e("img",{staticClass:"walletIcon",attrs:{src:a(29589),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Pay with SSP"},on:{click:t.initSSPpay}},[e("img",{staticClass:"walletIcon",attrs:{src:"dark"===t.skin?a(62365):a(71463),alt:"SSP",height:"100%",width:"100%"}})])])])],1)],1):t._e()])],1)],1)],1)},kt=[],_t=a(87229),At=a(80663),Ft=a(75691),Pt=a(10410),zt=a(79406),Rt=a(30282),Tt=a(50331),Dt=a(94335),It=a(69189);const $t=a(55373),Lt=a(74053),Bt=a(95233),Mt={components:{BAvatar:m.Cq,BButton:F.P,BCard:P.v,BCardBody:_t.b,BCardText:R.e,BCardTitle:At.r,BCol:T.T,BFormCheckbox:Ft.G,BFormInput:o.b,BFormSelect:M.J,BFormSelectOption:E.Q,BFormSpinbutton:Pt.P,BMedia:d.h,BMediaBody:u.h,BModal:I.i,BOverlay:zt.n,BRow:$.L,BSpinner:Rt._,BTabs:L.r,BTab:B.a,BTable:Tt.B,FormWizard:U.FormWizard,TabContent:U.TabContent,ToastificationContent:w.A,VuePerfectScrollbar:S()},directives:{Ripple:b.A,"b-modal":N.u,"b-toggle":q.z,"b-tooltip":j.y},props:{zelid:{type:String,required:!1,default:""}},setup(t){const e=(0,g.getCurrentInstance)().proxy,{skin:a}=(0,tt.A)(),s=(0,x.useToast)(),i=(t,e,a="InfoIcon")=>{s({component:w.A,props:{title:e,icon:a,variant:t},position:"bottom-right"})},o=(0,g.ref)("");o.value=t.tier;const n=(0,g.ref)("");n.value=t.zelid;const r="https://api.titan.runonflux.io",l=(0,g.ref)(0),c=(0,g.ref)(0),d=(0,g.ref)(50),u=(0,g.ref)(50),p=(0,g.ref)(1e3),m=(0,g.ref)(0),v=(0,g.ref)(null),h=(0,g.ref)(null),f=(0,g.ref)(null),b=(0,g.ref)(null),y=(0,g.ref)(null),S=(0,g.ref)(!1),C=(0,g.ref)(!1),k=(0,g.ref)(!1),_=(0,g.computed)(()=>e.$store.state.flux.config),A=(0,g.ref)(null),F=(0,g.ref)(!0),P=(0,g.ref)(!1),z=(0,g.ref)(!0),R=(0,g.ref)("Too much Flux has registered with Titan, please wait for more Nodes to be made available"),T=(0,g.ref)(0),D=(0,g.ref)(null),I=(0,g.ref)(null),$=(0,g.ref)(!1),L=(0,g.ref)(!1),B=(0,g.ref)(!1),M=(0,g.ref)([H.A.cumulus,H.A.nimbus,H.A.stratus]),E=()=>{const{protocol:t,hostname:a}=window.location;let s="";s+=t,s+="//";const i=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),i=+e[0]+1;e[0]=i.toString(),e[2]="api",t[4]="",s+=t.join("-"),s+=e.join(".")}else if(a.match(i)){const t=a.split(".");t[0]="api",s+=t.join(".")}else"string"===typeof a&&e.$store.commit("flux/setUserIp",a),s+=a,s+=":",s+=_.value.apiPort;const o=Lt.get("backendURL")||s;return o},O=()=>{const t=E(),e=`${t}/id/providesign`;return encodeURI(e)},N=t=>{console.log(t)},q=t=>{const e=$t.parse(t.data);"success"===e.status&&e.data&&(h.value=e.data.signature),console.log(e),console.log(t)},j=t=>{console.log(t)},U=t=>{console.log(t)},V=()=>{try{const t=`zel:?action=sign&message=${v.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${O()}`;if(window.zelcore)window.zelcore.protocol(t);else{const e=document.createElement("a");e.href=t,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}catch(t){i("danger",t.message)}},W=()=>{if(S.value||k.value||C.value)return;V();const{protocol:t,hostname:a}=window.location;let s="";s+=t,s+="//";const i=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),i=+e[0]+1;e[0]=i.toString(),e[2]="api",t[4]="",s+=t.join("-"),s+=e.join(".")}else if(a.match(i)){const t=a.split(".");t[0]="api",s+=t.join(".")}else"string"===typeof a&&e.$store.commit("flux/setUserIp",a),s+=a,s+=":",s+=_.value.apiPort;let o=Lt.get("backendURL")||s;o=o.replace("https://","wss://"),o=o.replace("http://","ws://");const r=n.value+b.value;console.log(`signatureMessage: ${r}`);const l=`${o}/ws/sign/${r}`;console.log(l);const c=new WebSocket(l);y.value=c,c.onopen=t=>{U(t)},c.onclose=t=>{j(t)},c.onmessage=t=>{q(t)},c.onerror=t=>{N(t)}},Z=async()=>{try{if(S.value||k.value||C.value)return;if(!window.ssp)return void i("danger","SSP Wallet not installed");const t=await window.ssp.request("sspwid_sign_message",{message:v.value});if("ERROR"===t.status)throw new Error(t.data||t.result);h.value=t.signature,n.value=t.address}catch(t){i("danger",t.message)}},Y=(0,g.ref)(!1),J=(0,g.ref)(!1),G=(0,g.ref)(!1),K=(0,g.ref)(!1),X=(0,g.ref)(!1),Q=(0,g.ref)(!1),et=(0,g.ref)(!1),at=(0,g.ref)(!1),st=(0,g.ref)(!1),it=(0,g.ref)(!1),ot={maxScrollbarLength:150},nt=(0,g.ref)([]),rt=(0,g.ref)(0),lt=(0,g.ref)([]),ct=(0,g.ref)([]),dt=(0,g.ref)([]),ut=(0,g.ref)([{key:"timestamp",label:"Date"},{key:"total",label:"Amount"},{key:"address",label:"Address"},{key:"txid",label:"Transaction"}]),pt=(0,g.ref)(),mt=(0,g.ref)(),gt=(0,g.ref)(0),vt=(0,g.ref)(0),ht=async()=>{const t=await Dt.A.get(`${r}/registermessage`);v.value=t.data,b.value=t.data.substring(t.data.length-13)},ft=async()=>{const t=await Dt.A.get(`${r}/redeemmessage`);v.value=t.data,b.value=t.data.substring(t.data.length-13)},bt=async()=>{const t=await Dt.A.get(`${r}/modifymessage`);v.value=t.data,b.value=t.data.substring(t.data.length-13)},xt=async()=>!!D.value&&(await ft(),!0),wt=async()=>{const t=await Dt.A.get(`${r}/stats`);mt.value=t.data,z.value=rt.value<=mt.value.total+pt.value.minStake},yt=(t,e,a,s)=>{const i=e*(100-t.fee)/100,o=720,n=o/s,r=30*n*i,l=r/a,c=12*l,d=(1+c/12)**12-1;return d},St=t=>{if(0===nt.value.length)return 0;const e=yt(t,11.25,4e4,gt.value),a=yt(t,4.6875,12500,vt.value),s=nt.value.reduce((t,e)=>t+(4e4===e.collateral?1:0),0),i=nt.value.reduce((t,e)=>t+(12500===e.collateral?1:0),0);return(e*s+a*i)/(s+i)},Ct=async()=>{const t=await Dt.A.get(`${r}/nodes`),e=[];rt.value=0,t.data.forEach(t=>{const a=t;e.push(a),rt.value+=a.collateral}),nt.value=e.sort((t,e)=>t.name.toLowerCase()>e.name.toLowerCase()?1:-1),pt.value.lockups.forEach(t=>{t.apr=St(t)})},kt=async(t=!1)=>{try{if(n.value.length>0){const e=await Dt.A.get(`${r}/stakes/${n.value}${t?`?timestamp=${Date.now()}`:""}`);if(e.data&&"error"===e.data.status)return;const a=[],s=[],i=Date.now()/1e3;l.value=0,c.value=0,console.log(e.data),e.data.forEach(t=>{t.expiry<i?t.state>=4&&(s.push(t),4===t.state&&(c.value+=t.reward-t.collateral)):(a.push(t),c.value+=t.reward),l.value+=t.reward}),lt.value=a,ct.value=s}}catch(e){i("danger",e.message||e),console.log(e)}},_t=async(t=!1)=>{if(n.value.length>0){const e=await Dt.A.get(`${r}/payments/${n.value}${t?`?timestamp=${Date.now()}`:""}`);dt.value=e.data}},At=async()=>{const t=await It.A.fluxnodeCount();if("error"===t.data.status)return i({component:w.A,props:{title:t.data.data.message||t.data.data,icon:"InfoIcon",variant:"danger"}}),0;const e=t.data.data;return e},Ft=()=>!(!pt.value||!pt.value.maintenanceMode),Pt=async()=>{try{const t=await At();gt.value=t["stratus-enabled"],vt.value=t["nimbus-enabled"];const e=await Dt.A.get(`${r}/config`);pt.value=e.data,pt.value.lockups.sort((t,e)=>t.blocks-e.blocks),pt.value.lockups.forEach(t=>{t.apr=St(t)}),e.data.minStake>0&&(u.value=e.data.minStake),e.data.maxStake>0&&(p.value=e.data.maxStake),await Ct(),await wt(),kt(),_t(),rt.value-mt.value.total<p.value&&(p.value=rt.value-mt.value.total)}catch(t){i("danger",t.message||t)}};Pt(),setInterval(()=>{Pt()},12e4);const zt=(t=!1)=>{pt.value&&pt.value.maintenanceMode||(P.value=t,Y.value=!0,S.value=!1,C.value=!1,k.value=!1,d.value=u.value,m.value=0,h.value=null,f.value=null)},Rt=()=>{P.value?Y.value=!1:G.value=!0,kt(!0)},Tt=t=>{t.preventDefault(),J.value=!0},Mt=t=>{pt.value&&pt.value.maintenanceMode||(A.value=JSON.parse(JSON.stringify(t)),st.value=!0)},Et=async()=>{pt.value&&pt.value.maintenanceMode||(st.value=!1,await bt(),S.value=!1,C.value=!1,k.value=!1,h.value=null,f.value=null,it.value=!0)},Ot=async()=>{k.value=!0;const t=localStorage.getItem("zelidauth"),e={stake:A.value.uuid,timestamp:b.value,signature:h.value,data:v.value,autoreinvest:A.value.autoreinvest,reinvest:!1};i("info","Sending modifications to Titan...");const a={headers:{zelidauth:t,backend:E()}},s=await Dt.A.post(`${r}/modifystake`,e,a).catch(t=>{console.log(t),C.value=!0,i("danger",t.message||t)});console.log(s.data),s&&s.data&&"success"===s.data.status?(S.value=!0,i("success",s.data.message||s.data)):(C.value=!0,i("danger",(s.data.data?s.data.data.message:s.data.message)||s.data))},Nt=t=>{pt.value&&pt.value.maintenanceMode||(S.value=!1,C.value=!1,k.value=!1,m.value=0,h.value=null,f.value=null,A.value=JSON.parse(JSON.stringify(t)),bt(),at.value=!0)},qt=()=>{kt(!0),at.value=!1},jt=()=>{const t=A.value.reward-A.value.collateral;let e=t*(pt.value.reinvestFee/100);return e>pt.value.maxReinvestFee&&(e=pt.value.maxReinvestFee),e},Ut=()=>{const t=c.value;let e=t*(pt.value.reinvestFee/100);return e>pt.value.maxReinvestFee&&(e=pt.value.maxReinvestFee),e},Vt=()=>{if(!pt.value)return 0;if(!pt.value.maxRedeemFee)return pt.value.redeemFee;const t=c.value;let e=t*(pt.value.redeemFee/100);return e>pt.value.maxRedeemFee&&(e=pt.value.maxRedeemFee),e},Wt=t=>{m.value=t},Zt=()=>{pt.value&&pt.value.maintenanceMode||(X.value=!0)},Yt=()=>{pt.value&&pt.value.maintenanceMode||(Q.value=!0)},Jt=()=>{if(pt.value&&pt.value.maintenanceMode)return;const t=[];lt.value.forEach(e=>{e.address&&!t.some(t=>t.text===e.address)&&t.push({value:e.uuid,text:e.address})}),ct.value.forEach(e=>{e.address&&!t.some(t=>t.text===e.address)&&t.push({value:e.uuid,text:e.address})}),T.value=pt.value.redeemFee,D.value=null,I.value=t,v.value=null,h.value=null,B.value=!1,$.value=!1,L.value=!1,et.value=!0},Gt=()=>{pt.value&&pt.value.maintenanceMode||(et.value=!1,kt(!0),_t(!0))},Ht=t=>{pt.value&&pt.value.maintenanceMode||(A.value=JSON.parse(JSON.stringify(t)),K.value=!0)},Kt=async()=>{k.value=!0;const t=localStorage.getItem("zelidauth"),e={stake:A.value.uuid,timestamp:b.value,signature:h.value,data:v.value,autoreinvest:A.value.autoreinvest,reinvest:!0,lockup:pt.value.lockups[m.value]};i("info","Re-investing with Titan...");const a={headers:{zelidauth:t,backend:E()}},s=await Dt.A.post(`${r}/modifystake`,e,a).catch(t=>{console.log(t),C.value=!0,i("danger",t.message||t)});console.log(s.data),s&&s.data&&"success"===s.data.status?(S.value=!0,i("success",s.data.message||s.data)):(C.value=!0,i("danger",(s.data.data?s.data.data.message:s.data.message)||s.data))},Xt=async()=>{k.value=!0;const t=localStorage.getItem("zelidauth"),e={amount:P.value?0:d.value,lockup:pt.value.lockups[m.value],timestamp:b.value,signature:h.value,data:v.value,autoreinvest:F.value,stakefromrewards:P.value};i("info","Registering with Titan...");const a={headers:{zelidauth:t,backend:E()}},s=await Dt.A.post(`${r}/register`,e,a).catch(t=>{console.log(t),C.value=!0,i("danger",t.message||t)});console.log(s.data),s&&s.data&&"success"===s.data.status?(S.value=!0,f.value=s.data.hash,i("success",s.data.message||s.data)):(C.value=!0,i("danger",(s.data.data?s.data.data.message:s.data.message)||s.data))},Qt=(t,e=0)=>{const a=Math.floor(t*10**e)/10**e;return e<4?a.toLocaleString():`${a}`},te=async()=>{B.value=!0;const t=localStorage.getItem("zelidauth"),e={amount:l.value,stake:D.value,timestamp:b.value,signature:h.value,data:v.value};console.log(e),i("info","Sending redeem request to Titan...");const a={headers:{zelidauth:t,backend:E()}},s=await Dt.A.post(`${r}/redeem`,e,a).catch(t=>{console.log(t),L.value=!0,i("danger",t.message||t)});console.log(s.data),s&&s.data&&"success"===s.data.status?($.value=!0,i("success",s.data.message||s.data),Pt()):(L.value=!0,i("danger",(s.data.data?s.data.data.message:s.data.message)||s.data))},ee=t=>{const e=pt.value.lockups.find(e=>e.fee===t.fee);return e?t.collateral*e.apr/12:0},ae=()=>{let t=lt.value?lt.value.reduce((t,e)=>t+e.paid-(e.feePaid??0),0):0;return t+=ct.value?ct.value.reduce((t,e)=>t+e.paid-(e.feePaid??0)-(5===e.state?e.collateral:0),0):0,Qt(t,2)},se=t=>{window.open(`http://${t.address}`,"_blank")},ie=async()=>(await ht(),m.value>=0&&m.value<pt.value.lockups.length),oe=()=>pt.value?pt.value.lockups[m.value].time:0,ne=async()=>m.value>=0&&m.value<pt.value.lockups.length,re=()=>{console.log(T.value);const t=parseFloat(T.value);return console.log(t),console.log(l.value),t>pt.value.redeemFee&&t<=parseFloat(Qt(l.value,2))},le=t=>`Send a payment of ${t.collateral} Flux to<br>${pt.value.nodeAddress}<br>with a message<br>${t.signatureHash}`,ce=()=>{try{const t=`zel:?action=pay&coin=zelcash&address=${pt.value.fundingAddress}&amount=${d.value}&message=${f.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`;if(window.zelcore)window.zelcore.protocol(t);else{const e=document.createElement("a");e.href=t,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}catch(t){i("warning","Failed to sign message, please try again.")}},de=()=>{try{const t=`zel:?action=pay&coin=zelcash&address=${pt.value.fundingAddress}&amount=${A.value.collateral}&message=${A.value.signatureHash}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`;if(window.zelcore)window.zelcore.protocol(t);else{const e=document.createElement("a");e.href=t,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}catch(t){i("warning","Failed to sign message, please try again.")}},ue=async()=>{try{if(!window.ssp)return void i("danger","SSP Wallet not installed");const t={amount:(+d.value||0).toString(),address:pt.value.fundingAddress,message:f.value,chain:"flux"},e=await window.ssp.request("pay",t);if("ERROR"===e.status)throw new Error(e.data||e.result);i("success","Payment request sent successfully")}catch(t){i("danger",t.message)}},pe=async()=>{try{if(!window.ssp)return void i("danger","SSP Wallet not installed");const t={amount:(+A.value.collateral||0).toString(),address:pt.value.fundingAddress,message:A.value.signatureHash,chain:"flux"},e=await window.ssp.request("pay",t);if("ERROR"===e.status)throw new Error(e.data||e.result);i("success","Payment request sent successfully")}catch(t){i("danger",t.message)}};return{perfectScrollbarSettings:ot,timeoptions:Bt,nodes:nt,totalCollateral:rt,myStakes:lt,myExpiredStakes:ct,myPayments:dt,paymentFields:ut,totalReward:l,titanConfig:pt,titanStats:mt,tooMuchStaked:z,defaultStakeDisabledMessage:R,userZelid:n,signature:h,signatureHash:f,dataToSign:v,callbackValue:O,initiateSignWS:W,timestamp:b,getMyStakes:kt,getMyPayments:_t,calcAPR:St,calcMonthlyReward:ee,calculatePaidRewards:ae,toFixedLocaleString:Qt,formatPaymentTooltip:le,showNodeInfoDialog:Zt,nodeModalShowing:X,visitNode:se,showAPRInfoDialog:Yt,aprModalShowing:Q,stakeModalShowing:Y,showStakeDialog:zt,reinvestingNewStake:P,stakeAmount:d,minStakeAmount:u,maxStakeAmount:p,stakeRegistered:S,stakeRegisterFailed:C,selectedLockupIndex:m,selectLockup:Wt,autoReinvestStake:F,registeringStake:k,registerStake:Xt,checkDuration:ie,getLockupDuration:oe,getRegistrationMessage:ht,confirmStakeDialogCancel:Tt,confirmStakeDialogCloseShowing:J,confirmStakeDialogFinish:Rt,confirmStakeDialogFinishShowing:G,showActiveStakeInfoDialog:Mt,activeStakeInfoModalShowing:st,editActiveStake:Et,editStakeModalShowing:it,sendModifiedStake:Ot,showReinvestDialog:Nt,getModifyMessage:bt,reinvestModalShowing:at,reinvestStake:Kt,checkReinvestDuration:ne,reinvestDialogFinish:qt,calculateReinvestFee:jt,calculateNewStakeReinvestFee:Ut,showPaymentDetailsDialog:Ht,paymentDetailsDialogShowing:K,selectedStake:A,showOverlay:Ft,showRedeemDialog:Jt,redeemModalShowing:et,redeemAmount:T,redeemAddress:D,redeemAddresses:I,redeemAmountState:re,getRedeemMessage:ft,checkRedeemAddress:xt,sendingRequest:B,requestSent:$,requestFailed:L,requestRedeem:te,confirmRedeemDialogFinish:Gt,calculateRedeemFee:Vt,tierColors:H.A,indexedTierColors:M,initZelcorePay:ce,initZelcorePayB:de,initSSP:Z,initSSPpay:ue,initSSPpayB:pe,skin:a}}},Et=Mt;var Ot=(0,wt.A)(Et,Ct,kt,!1,null,"69bd7bf4",null);const Nt=Ot.exports;var qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar-left"},[e("div",{staticClass:"sidebar"},[e("div",{staticClass:"sidebar-content marketplace-sidebar"},[e("div",{staticClass:"marketplace-app-menu"},[e("div",{staticClass:"add-task"}),e("vue-perfect-scrollbar",{staticClass:"sidebar-menu-list scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("b-list-group",{staticClass:"list-group-filters"},t._l(t.taskFilters,function(a){return e("b-list-group-item",{key:a.title+t.$route.path,attrs:{to:a.route,active:t.isDynamicRouteActive(a.route)},on:{click:function(e){t.$emit("scroll-app-view"),t.$emit("close-app-view"),t.$emit("close-left-sidebar")}}},[e("v-icon",{staticClass:"mr-75 icon-spacing",attrs:{name:a.icon,scale:"1.55"}}),e("span",{staticClass:"line-height-2"},[t._v(t._s(a.title))])],1)}),1),e("hr"),e("b-list-group",{staticClass:"list-group-filters"},t._l(t.nodeActions,function(a){return e("b-list-group-item",{key:a.title+t.$route.path,attrs:{to:a.route,active:t.isDynamicRouteActive(a.route),target:"_blank",rel:"noopener noreferrer"},on:{click:function(e){t.$emit("scroll-app-view"),t.$emit("close-app-view"),t.$emit("close-left-sidebar"),t.$emit(a.event)}}},[e("v-icon",{staticClass:"mr-75 icon-spacing",attrs:{name:a.icon,scale:"1.55"}}),e("span",{staticClass:"line-height-2"},[t._v(t._s(a.title))])],1)}),1)],1)],1)])])])},jt=[],Ut=a(43580),Vt=a(55038),Wt=a(40211);const Zt={directives:{Ripple:b.A},components:{BListGroup:Ut.M,BListGroupItem:Vt.d,VuePerfectScrollbar:S()},props:{zelid:{type:String,required:!1,default:""}},setup(t){const e={maxScrollbarLength:60},a=(0,g.ref)("");a.value=t.zelid;const s=[{title:"All Categories",icon:"inbox",route:{name:"apps-marketplace"}}];Wt.categories.forEach(t=>{s.push({title:t.name,icon:t.icon,route:{name:"apps-marketplace-filter",params:{filter:t.name.toLowerCase()}}})});const i=[{title:"Shared Nodes",icon:"inbox",event:"open-shared-nodes",route:{name:"apps-marketplace-sharednodes"}}];return{perfectScrollbarSettings:e,taskFilters:s,nodeActions:i,isDynamicRouteActive:h.VY}}},Yt=Zt;var Jt=(0,wt.A)(Yt,qt,jt,!1,null,null,null);const Gt=Jt.exports,Ht=a(55373),Kt=a(86425),Xt=a(95233),Qt={components:{BFormInput:o.b,BInputGroup:n.Y,BInputGroupPrepend:r.y,BDropdown:l.U,BDropdownItem:c.H,BMedia:d.h,BMediaBody:u.h,BBadge:p.M,BAvatar:m.Cq,AppView:St,SharedNodesView:Nt,CategorySidebar:Gt,VuePerfectScrollbar:S(),ToastificationContent:w.A},directives:{Ripple:b.A},setup(){const t=(0,g.ref)(null),e=(0,g.ref)(null),a=(0,g.ref)(""),s=(0,g.ref)(null),i=async()=>{if(await(0,g.nextTick)(),await new Promise(t=>{setTimeout(t,100)}),t.value){const e=t.value.ps;if(e)e.update(),t.value.$el.scrollTop=0,setTimeout(()=>{},300);else{const e=t.value.$el;e?(e.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{console.log("Final scrollTop (native):",e.scrollTop)},300)):console.warn("Cannot find scrollbar container")}}else console.warn("appListRef is NULL. Skipping scroll.")},{route:o,router:n}=(0,h.rd)(),r=(0,g.ref)(!1),l=(0,g.ref)(!1),c=(0,x.useToast)();(0,g.onBeforeMount)(()=>{const t=localStorage.getItem("zelidauth"),a=Ht.parse(t);e.value=a.zelid,l.value="/apps/shared-nodes"===o.value.path});const d=t=>t.compose.reduce((t,e)=>t+e.cpu,0),u=t=>t.compose.reduce((t,e)=>t+e.ram,0),p=t=>t.compose.reduce((t,e)=>t+e.hdd,0),m=t=>264e3===t.expire?"1 year":66e3===t.expire?"3 months":132e3===t.expire?"6 months":1056e3===t.expire?"1 year":528e3===t.expire?"6 months":(t.expire,"1 month"),{showDetailSidebar:b}=(0,f.m)(),y=(0,g.computed)(()=>o.value.query.sort),S=(0,g.computed)(()=>o.value.query.q),_=(0,g.computed)(()=>o.value.params),A=(0,g.ref)([]),F=["latest","title-asc","title-desc","end-date","cpu","ram","hdd"],P=(0,g.ref)(y.value);(0,g.watch)(y,t=>{F.includes(t),P.value=t});const z=()=>{const t=JSON.parse(JSON.stringify(o.value.query));delete t.sort,n.replace({name:o.name,query:t}).catch(()=>{})},R=(0,g.ref)({}),T=(t,e,a="InfoIcon")=>{c({component:w.A,props:{title:e,icon:a,variant:t}})},D=t=>{const e=Wt.categories.filter(e=>e.name===t.name);return 0===e.length?Wt.defaultCategory.variant:e[0].variant},I=t=>{const e=Wt.categories.filter(e=>e.name===t.name);return 0===e.length?Wt.defaultCategory.variant:e[0].variant},$=t=>{const e=Wt.categories.filter(e=>e.name===t.name);return 0===e.length?Wt.defaultCategory.icon:e[0].icon},L=(0,g.ref)(S.value);(0,g.watch)(S,t=>{L.value=t});const B=(t,e=300)=>{let a;return(...s)=>{clearTimeout(a),a=setTimeout(()=>t(...s),e)}},M=B(t=>{const e={...o.value.query};t?e.q=t:delete e.q,n.replace({name:o.name,query:e}).catch(()=>{})},300),E=t=>{const e=Wt.categories.find(e=>e.name===t);return e||Wt.defaultCategory},O=async()=>{const t=await k.A.getMarketPlaceURL();if("success"===t.data.status&&t.data.data){const e=await Kt.get(t.data.data);if(console.log(e),"success"===e.data.status){if(A.value=e.data.data.filter(t=>t.visible),A.value.forEach(t=>{t.extraDetail=E(t.category)}),n.currentRoute.params.filter&&(A.value=A.value.filter(t=>t.extraDetail.name.toLowerCase()===n.currentRoute.params.filter.toLowerCase())),L.value){const t=L.value.toLowerCase();A.value=A.value.filter(e=>!!e.name.toLowerCase().includes(t)||!!e.description.toLowerCase().includes(t))}P.value&&A.value.sort((t,e)=>"title-asc"===P.value?t.name.localeCompare(e.name):"title-desc"===P.value?e.name.localeCompare(t.name):"cpu"===P.value?d(t)-d(e):"ram"===P.value?u(t)-u(e):"hdd"===P.value?p(t)-p(e):"price"===P.value?t.priceUSD-e.priceUSD:0)}else T("danger",e.data.data.message||e.data.data)}else T("danger",t.data.data.message||t.data.data)};(0,g.watch)([L,P],()=>O()),(0,g.watch)(_,()=>{O()});const N=async()=>{const t=await C.A.getFluxNodeStatus();"success"===t.data.status&&(a.value=t.data.data.tier),O()};N();const q=async t=>{R.value=t,r.value=!0,await(0,g.nextTick)(),window.scrollTo({top:0})},j={maxScrollbarLength:150};return{zelid:e,tier:a,appListRef:t,timeoptions:Xt,app:R,handleAppClick:q,updateRouteQuery:M,searchQuery:L,filteredApps:A,sortOptions:F,resetSortAndNavigate:z,perfectScrollbarSettings:j,resolveTagVariant:D,resolveAvatarVariant:I,resolveAvatarIcon:$,avatarText:v.zW,isAppViewActive:r,isSharedNodesViewActive:l,showDetailSidebar:b,resolveHdd:p,resolveCpu:d,resolveRam:u,adjustPeriod:m,appViewRef:s,scrollAppViewToTop:i}}},te=Qt;var ee=(0,wt.A)(te,s,i,!1,null,null,null);const ae=ee.exports},69189:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});var s=a(544);const i={listFluxNodes(){return(0,s.A)().get("/daemon/listzelnodes")},fluxnodeCount(){return(0,s.A)().get("/daemon/getzelnodecount")},blockReward(){return(0,s.A)().get("/daemon/getblocksubsidy")}}},71732:(t,e,a)=>{"use strict";a.d(e,{C:()=>o});a(20560);let s=null,i=null;async function o(){if(i)throw i;if(s)return s;try{const t=await a.e(4932).then(a.bind(a,15604));return window.crypto?.subtle||console.warn("WebCrypto not available. OpenPGP functionality may be limited."),s=t,s}catch(t){throw console.error("Failed to initialize OpenPGP:",t),i=new Error(`OpenPGP initialization failed: ${t.message}`),i}}new Proxy({},{get(t,e){return async(...t)=>{const a=await o();return"function"===typeof a[e]?a[e](...t):a[e]}}})},77103:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});var s=a(544);const i={listRunningApps(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/apps/listrunningapps",t)},listAllApps(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/apps/listallapps",t)},installedApps(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.A)().get("/apps/installedapps",t)},availableApps(){return(0,s.A)().get("/apps/availableapps")},getEnterpriseNodes(){return(0,s.A)().get("/apps/enterprisenodes")},stopApp(t,e){const a={headers:{zelidauth:t,"x-apicache-bypass":!0}};return(0,s.A)().get(`/apps/appstop/${e}`,a)},startApp(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/appstart/${e}`,a)},pauseApp(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/apppause/${e}`,a)},unpauseApp(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/appunpause/${e}`,a)},restartApp(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/apprestart/${e}`,a)},removeApp(t,e){const a={headers:{zelidauth:t},onDownloadProgress(t){console.log(t)}};return(0,s.A)().get(`/apps/appremove/${e}`,a)},registerApp(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().post("/apps/appregister",JSON.stringify(e),a)},updateApp(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().post("/apps/appupdate",JSON.stringify(e),a)},checkCommunication(){return(0,s.A)().get("/flux/checkcommunication")},checkDockerExistance(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().post("/apps/checkdockerexistance",JSON.stringify(e),a)},appsRegInformation(){return(0,s.A)().get("/apps/registrationinformation")},appsDeploymentInformation(){return(0,s.A)().get("/apps/deploymentinformation")},getAppLocation(t){return(0,s.A)().get(`/apps/location/${t}`)},globalAppSpecifications(){return(0,s.A)().get("/apps/globalappsspecifications")},myGlobalAppSpecifications(t){return(0,s.A)().get(`/apps/globalappsspecifications?owner=${t}`)},permanentMessagesOwner(t){return(0,s.A)().get(`/apps/permanentmessages?owner=${t}`)},getInstalledAppSpecifics(t){return(0,s.A)().get(`/apps/installedapps/${t}`)},getAppSpecifics(t){return(0,s.A)().get(`/apps/appspecifications/${t}`)},getAppEncryptedSpecifics(t,e,a){const i={headers:{zelidauth:e,"enterprise-key":a}};return(0,s.A)().get(`/apps/appspecifications/${t}/true`,i)},getAppOwner(t){return(0,s.A)().get(`/apps/appowner/${t}`)},getAppLogsTail(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/applog/${e}/100`,a)},getAppTop(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/apptop/${e}`,a)},getAppInspect(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/appinspect/${e}`,a)},getAppStats(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/appstats/${e}`,a)},getAppChanges(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/appchanges/${e}`,a)},getAppExec(t,e,a,i){const o={headers:{zelidauth:t}},n={appname:e,cmd:a,env:JSON.parse(i)};return(0,s.A)().post("/apps/appexec",JSON.stringify(n),o)},reindexGlobalApps(t){return(0,s.A)().get("/apps/reindexglobalappsinformation",{headers:{zelidauth:t}})},reindexLocations(t){return(0,s.A)().get("/apps/reindexglobalappslocation",{headers:{zelidauth:t}})},rescanGlobalApps(t,e,a){return(0,s.A)().get(`/apps/rescanglobalappsinformation/${e}/${a}`,{headers:{zelidauth:t}})},getFolder(t,e){return(0,s.A)().get(`/apps/fluxshare/getfolder/${e}`,{headers:{zelidauth:t}})},createFolder(t,e){return(0,s.A)().get(`/apps/fluxshare/createfolder/${e}`,{headers:{zelidauth:t}})},getFile(t,e){return(0,s.A)().get(`/apps/fluxshare/getfile/${e}`,{headers:{zelidauth:t}})},removeFile(t,e){return(0,s.A)().get(`/apps/fluxshare/removefile/${e}`,{headers:{zelidauth:t}})},shareFile(t,e){return(0,s.A)().get(`/apps/fluxshare/sharefile/${e}`,{headers:{zelidauth:t}})},unshareFile(t,e){return(0,s.A)().get(`/apps/fluxshare/unsharefile/${e}`,{headers:{zelidauth:t}})},removeFolder(t,e){return(0,s.A)().get(`/apps/fluxshare/removefolder/${e}`,{headers:{zelidauth:t}})},fileExists(t,e){return(0,s.A)().get(`/apps/fluxshare/fileexists/${e}`,{headers:{zelidauth:t}})},storageStats(t){return(0,s.A)().get("/apps/fluxshare/stats",{headers:{zelidauth:t}})},renameFileFolder(t,e,a){return(0,s.A)().get(`/apps/fluxshare/rename/${e}/${a}`,{headers:{zelidauth:t}})},appPrice(t){return(0,s.A)().post("/apps/calculateprice",JSON.stringify(t))},appPriceUSDandFlux(t){return(0,s.A)().post("/apps/calculatefiatandfluxprice",JSON.stringify(t))},appRegistrationVerificaiton(t){return(0,s.A)().post("/apps/verifyappregistrationspecifications",JSON.stringify(t))},getAppPublicKey(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().post("/apps/getpublickey",JSON.stringify(e),a)},getAppOriginalOwner(t){return(0,s.A)().get(`/apps/apporiginalowner/${t}`)},appUpdateVerification(t){return(0,s.A)().post("/apps/verifyappupdatespecifications",JSON.stringify(t))},getAppMonitoring(t,e){const a={headers:{zelidauth:t}};return(0,s.A)().get(`/apps/appmonitor/${e}`,a)},startAppMonitoring(t,e){const a={headers:{zelidauth:t}};return e?(0,s.A)().get(`/apps/startmonitoring/${e}`,a):(0,s.A)().get("/apps/startmonitoring",a)},stopAppMonitoring(t,e,a){const i={headers:{zelidauth:t}};return e&&a?(0,s.A)().get(`/apps/stopmonitoring/${e}/${a}`,i):e?(0,s.A)().get(`/apps/stopmonitoring/${e}`,i):a?(0,s.A)().get(`/apps/stopmonitoring?deletedata=${a}`,i):(0,s.A)().get("/apps/stopmonitoring",i)},justAPI(){return(0,s.A)()}}},80421:(t,e,a)=>{"use strict";a.d(e,{m:()=>o});var s=a(85471),i=a(80537);const o=()=>{const t=(0,s.ref)(!1),e=(0,s.computed)(()=>i.A.getters["app/currentBreakPoint"]);return(0,s.watch)(e,(e,a)=>{"md"===a&&"lg"===e&&(t.value=!1)}),{mqShallShowLeftSidebar:t}}},95233:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const s={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},i={year:"numeric",month:"short",day:"numeric"},o={shortDate:s,date:i}},96833:(t,e,a)=>{"use strict";a.d(e,{A:()=>o,E:()=>i});var s=a(94335);const i="https://fiatpaymentsbridge.runonflux.io";async function o(){try{const t=await s.A.get(`${i}/api/v1/gateway/status`);return"success"===t.data.status?t.data.data:null}catch(t){return null}}}}]);