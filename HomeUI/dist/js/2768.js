"use strict";(globalThis["webpackChunkflux"]=globalThis["webpackChunkflux"]||[]).push([[2768],{18237:(t,e,r)=>{var o=r(46518),a=r(72652),s=r(79306),l=r(28551),i=r(1767),n=r(9539),c=r(84549),u=r(18745),p=r(79039),d=TypeError,f=p(function(){[].keys().reduce(function(){},void 0)}),b=!f&&c("reduce",d);o({target:"Iterator",proto:!0,real:!0,forced:f||b},{reduce:function(t){l(this);try{s(t)}catch(p){n(this,"throw",p)}var e=arguments.length<2,r=e?void 0:arguments[1];if(b)return u(b,this,e?[t]:[t,r]);var o=i(this),c=0;if(a(o,function(o){e?(e=!1,r=o):r=t(r,o,c),c++},{IS_RECORD:!0}),e)throw new d("Reduce of empty iterator with no initial value");return r}})},18745:(t,e,r)=>{var o=r(40616),a=Function.prototype,s=a.apply,l=a.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?l.bind(s):function(){return l.apply(s,arguments)})},62768:(t,e,r)=>{r.r(e),r.d(e,{default:()=>B});r(22489);var o=function(){var t=this,e=t._self._c;return e("b-overlay",{attrs:{show:t.fluxListLoading,variant:"transparent",blur:"5px"}},[e("b-card",[e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"2"}},[e("b-form-group",{staticClass:"mb-0"},[e("label",{staticClass:"d-inline-block text-left mr-50"},[t._v("Per page")]),e("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),e("b-col",{staticClass:"my-1"},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filterInput"}},[e("label",{staticClass:"d-inline-block text-left mr-50"},[t._v("Filter")]),e("b-input-group",{attrs:{size:"sm"}},[e("b-form-input",{attrs:{id:"filterInput",type:"search",placeholder:"Type to Search",debounce:"1500"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v(" Clear ")])],1)],1)],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-table",{attrs:{striped:"",hover:"",responsive:"","per-page":t.perPage,"current-page":t.currentPage,items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(lastpaid)",fn:function(e){return[t._v(" "+t._s(new Date(1e3*Number(e.item.lastpaid)).toLocaleString("en-GB",t.timeoptions))+" ")]}}])})],1),e("b-col",{attrs:{cols:"12"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"center",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},a=[],s=(r(61701),r(18237),r(33052)),l=r(50331),i=r(28028),n=r(99542),c=r(24392),u=r(30968),p=r(28938),d=r(42006),f=r(11442),b=r(16167),m=r(75532),g=r(79406),y=r(69189);const h=r(86425),v={components:{BCard:s.v,BTable:l.B,BRow:i.L,BCol:n.T,BPagination:c.H,BFormGroup:u.a,BFormSelect:p.J,BInputGroup:d.Y,BFormInput:f.b,BInputGroupAppend:b.G,BButton:m.P,BOverlay:g.n},data(){return{timeoptions:{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},fluxListLoading:!0,perPage:10,pageOptions:[10,25,50,100,1e3],sortBy:"",sortDesc:!1,sortDirection:"asc",items:[],filter:"",filterOn:[],fields:[{key:"ip",label:"IP Address",sortable:!0},{key:"payment_address",label:"Address",sortable:!0},{key:"location.country",label:"Country",sortable:!0,formatter:this.formatTableEntry},{key:"location.org",label:"Provider",sortable:!0,formatter:this.formatTableEntry},{key:"lastpaid",label:"Last Paid",sortable:!0},{key:"tier",label:"Tier",sortable:!0}],totalRows:1,currentPage:1}},computed:{sortOptions(){return this.fields.filter(t=>t.sortable).map(t=>({text:t.label,value:t.key}))}},mounted(){this.getFluxList()},methods:{formatTableEntry(t){return t||"Unknown"},async getFluxList(){try{this.fluxListLoading=!0;const[t,e]=await Promise.all([h.get("https://stats.runonflux.io/fluxlocations"),y.A.listFluxNodes()]),r=t.data.data,o=e.data.data,a=r.reduce((t,e)=>({...t,[e.ip]:e}),{}),s=o.map(t=>({...t,location:a[t.ip.split(":")[0]]})).filter(t=>t.ip);this.items=s,this.totalRows=this.items.length,this.currentPage=1,this.fluxListLoading=!1,console.log(this.items)}catch(t){console.log(t)}},onFiltered(t){this.totalRows=t.length,this.currentPage=1}}},k=v;var x=r(81656),P=(0,x.A)(k,o,a,!1,null,null,null);const B=P.exports},69189:(t,e,r)=>{r.d(e,{A:()=>a});var o=r(544);const a={listFluxNodes(){return(0,o.A)().get("/daemon/listzelnodes")},fluxnodeCount(){return(0,o.A)().get("/daemon/getzelnodecount")},blockReward(){return(0,o.A)().get("/daemon/getblocksubsidy")}}}}]);