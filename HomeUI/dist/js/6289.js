(globalThis["webpackChunkflux"]=globalThis["webpackChunkflux"]||[]).push([[6289],{80166:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>ae});var s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"inherit"}},[e("div",{staticClass:"body-content-overlay",class:{show:t.showDetailSidebar},on:{click:function(e){t.showDetailSidebar=!1}}}),e("div",{staticClass:"marketplace-app-list"},[e("div",{staticClass:"app-fixed-search d-flex align-items-center"},[e("div",{staticClass:"sidebar-toggle d-block d-lg-none ml-1"},[e("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"MenuIcon",size:"21"},on:{click:function(e){t.showDetailSidebar=!0}}})],1),e("div",{staticClass:"d-flex align-content-center justify-content-between w-100"},[e("b-input-group",{staticClass:"input-group-merge"},[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("feather-icon",{staticClass:"text-muted",attrs:{icon:"SearchIcon"}})],1),e("b-form-input",{attrs:{value:t.searchQuery,placeholder:"Search Marketplace Apps"},on:{input:t.updateRouteQuery}})],1)],1),e("div",{staticClass:"dropdown"},[e("b-dropdown",{attrs:{variant:"link","no-caret":"","toggle-class":"p-0 mr-1",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"MoreVerticalIcon",size:"16"}})]},proxy:!0}])},[e("b-dropdown-item",{on:{click:t.resetSortAndNavigate}},[t._v(" Reset Sort ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"title-asc"}}}},[t._v(" Sort A-Z ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"title-desc"}}}},[t._v(" Sort Z-A ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"cpu"}}}},[t._v(" Sort by CPU ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"ram"}}}},[t._v(" Sort by RAM ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"hdd"}}}},[t._v(" Sort by HDD ")]),e("b-dropdown-item",{attrs:{to:{name:t.$route.name,query:{...t.$route.query,sort:"price"}}}},[t._v(" Sort by price ")])],1)],1)]),e("vue-perfect-scrollbar",{ref:"appListRef",staticClass:"marketplace-app-list scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("ul",{staticClass:"marketplace-media-list"},t._l(t.filteredApps,(function(a){return e("b-media",{key:a.hash,attrs:{tag:"li","no-body":""},on:{click:function(e){return t.handleAppClick(a)}}},[e("b-media-body",{staticClass:"app-media-body"},[e("div",{staticClass:"app-title-wrapper"},[e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("span",{staticClass:"app-title"},[e("kbd",{staticClass:"alert-info no-wrap",staticStyle:{"border-radius":"15px","font-size":"16px","font-weight":"700 !important"}},[e("b-icon",{attrs:{scale:"1.2",icon:"app-indicator"}}),t._v("  "+t._s(a.name)+"  ")],1)])])]),e("div",{staticClass:"app-item-action"},[e("div",{staticClass:"badge-wrapper mr-1"},[a.extraDetail.name?e("b-badge",{staticClass:"text-capitalize",attrs:{pill:"",variant:`light-${t.resolveTagVariant(a.extraDetail)}`}},[t._v(" "+t._s(a.extraDetail.name)+" ")]):t._e()],1),e("div",[a.extraDetail?e("b-avatar",{attrs:{size:"48",variant:`light-${t.resolveAvatarVariant(a.extraDetail)}`}},[e("v-icon",{attrs:{scale:"1.75",name:`${t.resolveAvatarIcon(a.extraDetail)}`}})],1):t._e()],1)])]),e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("h6",{staticClass:"text-nowrap text-muted mr-1 mb-1 app-description",staticStyle:{width:"900px"}},[t._v(" "+t._s(a.description)+" ")])])]),e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("h6",{staticClass:"text-nowrap text-muted mr-1 app-description"},[t._v("  "),e("b-icon",{attrs:{scale:"1.4",icon:"speedometer2"}}),t._v("  "),e("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[t._v(" "),e("b",[t._v(t._s(t.resolveCpu(a))+" ")]),t._v(" ")]),t._v("   "),e("b-icon",{attrs:{scale:"1.4",icon:"cpu"}}),t._v("  "),e("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[t._v(" "),e("b",[t._v(t._s(t.resolveRam(a)))]),t._v(" ")]),t._v("   "),e("b-icon",{attrs:{scale:"1.4",icon:"hdd"}}),t._v("  "),e("kbd",{staticClass:"alert-success",staticStyle:{"border-radius":"15px"}},[t._v(" "),e("b",[t._v(t._s(t.resolveHdd(a))+" GB")]),t._v(" ")]),t._v("  ")],1)])]),a.priceUSD?e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("h5",{staticClass:"text-nowrap mr-1 app-description"},[t._v("  "),e("b-icon",{staticClass:"mr-1",attrs:{scale:"1.3",icon:"cash"}}),t._v(t._s(a.priceUSD)+" USD,  "),e("b-icon",{staticClass:"mr-1",attrs:{scale:"1.1",icon:"clock"}}),t._v(t._s(t.adjustPeriod(a))+" ")],1)])]):e("div",{staticClass:"app-title-area"},[e("div",{staticClass:"title-wrapper"},[e("h5",{staticClass:"text-nowrap mr-1 app-description"},[t._v(" Price: "+t._s(a.price)+" Flux / "+t._s(t.adjustPeriod(a))+" ")])])])])],1)})),1),e("div",{staticClass:"no-results",class:{show:0===t.filteredApps.length}},[e("h5",[t._v("No Marketplace Apps Found")])])])],1),e("app-view",{class:{show:t.isAppViewActive},attrs:{"app-data":t.app,zelid:t.zelid,tier:t.tier,"is-active":t.isAppViewActive},on:{"close-app-view":function(e){t.isAppViewActive=!1}}}),e("shared-nodes-view",{class:{show:t.isSharedNodesViewActive},attrs:{"app-data":t.app,zelid:t.zelid,tier:t.tier},on:{"close-sharednode-view":function(e){t.isSharedNodesViewActive=!1}}}),e("portal",{attrs:{to:"content-renderer-sidebar-left"}},[e("category-sidebar",{class:{show:t.showDetailSidebar},attrs:{zelid:t.zelid},on:{"close-left-sidebar":function(e){t.showDetailSidebar=!1},"close-app-view":function(e){t.isAppViewActive=!1,t.isSharedNodesViewActive=!1}}})],1)],1)},i=[],o=a(22183),r=a(4060),n=a(27754),l=a(31642),c=a(87379),d=a(72775),u=a(68361),p=a(26034),m=a(47389),g=a(20144),v=a(1923),f=a(23646),h=a(6044),b=a(20266),x=a(41905),w=a(34547),y=a(91040),S=a.n(y),C=a(27616),k=a(39055),_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-details"},[e("div",{staticClass:"app-detail-header"},[e("div",{staticClass:"app-header-left d-flex align-items-center"},[e("span",{staticClass:"go-back mr-1"},[e("feather-icon",{staticClass:"align-bottom",attrs:{icon:t.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"20"},on:{click:function(e){return t.$emit("close-app-view")}}})],1),e("h4",{staticClass:"app-name mb-0"},[t._v(" "+t._s(t.appData.name)+" ")])])]),e("vue-perfect-scrollbar",{staticClass:"app-scroll-area scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xxl:"9",xl:"8",lg:"8",md:"12"}},[e("br"),t.userZelid?t._e():e("b-card",[e("b-card-title",[t._v("Automated Login")]),e("dl",{staticClass:"row"},[e("dd",{staticClass:"col-sm-6"},[e("b-tabs",{attrs:{"content-class":"mt-0"}},[e("b-tab",{attrs:{title:"3rd Party Login",active:""}},[e("div",{staticClass:"ssoLogin"},[e("div",{attrs:{id:"ssoLoading"}},[e("b-spinner",{attrs:{variant:"primary"}}),e("div",[t._v(" Loading Sign In Options ")])],1),e("div",{staticStyle:{display:"none"},attrs:{id:"ssoLoggedIn"}},[e("b-spinner",{attrs:{variant:"primary"}}),e("div",[t._v(" Finishing Login Process ")])],1),e("div",{staticStyle:{display:"none"},attrs:{id:"ssoVerify"}},[e("b-button",{staticClass:"mb-2",attrs:{variant:"primary",type:"submit"},on:{click:t.cancelVerification}},[t._v(" Cancel Verification ")]),e("div",[e("b-spinner",{attrs:{variant:"primary"}}),e("div",[t._v(" Finishing Verification Process ")]),e("div",[e("i",[t._v("Please check email for verification link.")])])],1)],1),e("div",{attrs:{id:"firebaseui-auth-container"}})])]),e("b-tab",{attrs:{title:"Email/Password"}},[e("dl",{staticClass:"row"},[e("dd",{staticClass:"col-sm-12 mt-1"},[e("b-form",{ref:"emailLoginForm",staticClass:"mx-5",attrs:{id:"emailLoginForm"},on:{submit:function(t){t.preventDefault()}}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Email","label-for":"h-email","label-cols-md":"4"}},[e("b-form-input",{attrs:{id:"h-email",type:"email",placeholder:"Email...",required:""},model:{value:t.emailForm.email,callback:function(e){t.$set(t.emailForm,"email",e)},expression:"emailForm.email"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Password","label-for":"h-password","label-cols-md":"4"}},[e("b-form-input",{attrs:{id:"h-password",type:"password",placeholder:"Password...",required:""},model:{value:t.emailForm.password,callback:function(e){t.$set(t.emailForm,"password",e)},expression:"emailForm.password"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{"label-cols-md":"4"}},[e("b-button",{staticClass:"w-100",attrs:{type:"submit",variant:"primary"},on:{click:t.emailLogin}},[e("div",{staticStyle:{display:"none"},attrs:{id:"emailLoginProcessing"}},[e("b-spinner",{attrs:{variant:"secondary",small:""}})],1),e("div",{attrs:{id:"emailLoginExecute"}},[t._v(" Login ")])])],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{"label-cols-md":"4"}},[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"w-100",attrs:{id:"signUpButton",type:"submit",variant:"secondary"},on:{click:t.createAccount}},[t._v(" Sign Up ")])],1)],1)],1)],1),e("div",{staticClass:"text-center",staticStyle:{display:"none"},attrs:{id:"ssoEmailVerify"}},[e("b-button",{staticClass:"mb-2",attrs:{variant:"primary",type:"submit"},on:{click:t.cancelVerification}},[t._v(" Cancel Verification ")]),e("div",[e("b-spinner",{attrs:{variant:"primary"}}),e("div",[t._v(" Finishing Verification Process ")]),e("div",[e("i",[t._v("Please check email for verification link.")])])],1)],1)],1)])])],1)],1),e("dd",{staticClass:"col-sm-6"},[e("b-card-text",{staticClass:"text-center loginText"},[t._v(" Decentralized Login ")]),e("div",{staticClass:"loginRow"},[e("a",{attrs:{href:`zel:?action=sign&message=${t.loginPhrase}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${t.callbackValueLogin()}`,title:"Login with Zelcore"},on:{click:t.initiateLoginWS}},[e("img",{staticClass:"walletIcon",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Login with SSP"},on:{click:t.initSSPLogin}},[e("img",{staticClass:"walletIcon",attrs:{src:"dark"===t.skin?a(56070):a(58962),alt:"SSP",height:"100%",width:"100%"}})])]),e("div",{staticClass:"loginRow"},[e("a",{attrs:{title:"Login with WalletConnect"},on:{click:t.initWalletConnectLogin}},[e("img",{staticClass:"walletIcon",attrs:{src:a(47622),alt:"WalletConnect",height:"100%",width:"100%"}})]),e("a",{attrs:{title:"Login with Metamask"},on:{click:t.initMetamaskLogin}},[e("img",{staticClass:"walletIcon",attrs:{src:a(28125),alt:"Metamask",height:"100%",width:"100%"}})])])],1)])],1),t.userZelid?t._e():e("b-card",[e("b-card-title",[t._v("Manual Login")]),e("dl",{staticClass:"row"},[e("dd",{staticClass:"col-sm-12"},[e("b-card-text",{staticClass:"text-center"},[t._v(" Sign the following message with any Flux ID / SSP Wallet ID / Bitcoin / Ethereum address ")]),e("br"),e("br"),e("b-form",{staticClass:"mx-5",on:{submit:function(t){t.preventDefault()}}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Message","label-for":"h-message","label-cols-md":"3"}},[e("b-form-input",{attrs:{id:"h-message",placeholder:"Insert Login Phrase"},model:{value:t.loginForm.loginPhrase,callback:function(e){t.$set(t.loginForm,"loginPhrase",e)},expression:"loginForm.loginPhrase"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Address","label-for":"h-address","label-cols-md":"3"}},[e("b-form-input",{attrs:{id:"h-address",placeholder:"Insert Flux ID or Bitcoin address"},model:{value:t.loginForm.zelid,callback:function(e){t.$set(t.loginForm,"zelid",e)},expression:"loginForm.zelid"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{label:"Signature","label-for":"h-signature","label-cols-md":"3"}},[e("b-form-input",{attrs:{id:"h-signature",placeholder:"Insert Signature"},model:{value:t.loginForm.signature,callback:function(e){t.$set(t.loginForm,"signature",e)},expression:"loginForm.signature"}})],1)],1),e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{"label-cols-md":"3"}},[e("b-button",{staticClass:"w-100",attrs:{type:"submit",variant:"primary"},on:{click:t.login}},[t._v(" Login ")])],1)],1)],1)],1)],1)])],1),t.userZelid?e("b-card",{attrs:{title:"Details"}},[e("b-form-textarea",{staticClass:"description-text",attrs:{id:"textarea-rows",rows:"2",readonly:"",value:t.appData.description}}),t.appData.contacts?e("div",{staticClass:"form-row form-group mt-2",staticStyle:{padding:"0"}},[e("label",{staticClass:"col-3 col-form-label"},[t._v(" Contact "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Add your email contact to get notifications ex. app about to expire, app spawns. Your contact will be uploaded to Flux Storage to not be public visible",expression:"'Add your email contact to get notifications ex. app about to expire, app spawns. Your contact will be uploaded to Flux Storage to not be public visible'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"contact"},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1)]):t._e(),t.appData.geolocationOptions?e("div",[e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20",label:"Deployment Location","label-for":"geolocation"}},[e("b-form-select",{attrs:{id:"geolocation",options:t.appData.geolocationOptions},model:{value:t.selectedGeolocation,callback:function(e){t.selectedGeolocation=e},expression:"selectedGeolocation"}},[e("b-form-select-option",{attrs:{value:null}},[t._v(" Worldwide ")])],1)],1)],1):t._e(),t.appData.selectInstances?e("div",[t.appData.version>=3?e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" Instances "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Minimum number of application instances to be spawned",expression:"'Minimum number of application instances to be spawned'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})]},proxy:!0}],null,!1,4262927227)},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.appInstances)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.appInstances,expression:"appInstances"}],staticClass:"form-control-range",staticStyle:{width:"100%",outline:"none"},attrs:{id:"appInstances",type:"range",min:3,max:100,step:1},domProps:{value:t.appInstances},on:{__r:function(e){t.appInstances=e.target.value}}})]):t._e()],1):t._e(),t.appData.version>=6?e("b-form-group",{attrs:{"label-cols":"3","label-cols-lg":"20"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" Period "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"How long an application will live on Flux network",expression:"'How long an application will live on Flux network'",modifiers:{hover:!0,top:!0}}],attrs:{name:"info-circle"}})]},proxy:!0}],null,!1,2789292708)},[e("div",{staticClass:"mx-1"},[t._v(" "+t._s(t.getExpireLabel)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.expirePosition,expression:"expirePosition"}],staticClass:"form-control-range",staticStyle:{width:"100%",outline:"none"},attrs:{id:"period",type:"range",min:0,max:3,step:1},domProps:{value:t.expirePosition},on:{__r:function(e){t.expirePosition=e.target.value}}})]):t._e(),e("b-card",{staticStyle:{padding:"0"}},[e("b-tabs",{on:{"activate-tab":t.componentSelected}},t._l(t.appData.compose,(function(a,s){return e("b-tab",{key:s,attrs:{title:a.name}},[e("div",{staticClass:"my-2 ml-2"},[e("div",{staticClass:"list-entry"},[e("p",[e("b",{staticStyle:{display:"inline-block",width:"120px"}},[t._v("Description:")]),t._v(" "+t._s(a.description))]),e("p",[e("b",{staticStyle:{display:"inline-block",width:"120px"}},[t._v("Repository:")]),t._v(" "+t._s(a.repotag))])])]),a.userEnvironmentParameters?.length>0?e("b-card",{attrs:{title:"Parameters","border-variant":"dark"}},[a.userEnvironmentParameters?e("b-tabs",t._l(a.userEnvironmentParameters,(function(a,s){return e("b-tab",{key:s,attrs:{title:a.name}},[e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-2 col-form-label ml-2"},[t._v(" Value "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:a.description,expression:"parameter.description",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"enviromentParameters",placeholder:a.placeholder},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"parameter.value"}})],1)])])})),1):t._e()],1):t._e(),a.userSecrets?e("b-card",{attrs:{title:"Secrets","border-variant":"primary"}},[a.userSecrets?e("b-tabs",t._l(a.userSecrets,(function(a,s){return e("b-tab",{key:s,attrs:{title:a.name}},[e("div",{staticClass:"form-row form-group"},[e("label",{staticClass:"col-2 col-form-label"},[t._v(" Value "),e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:a.description,expression:"parameter.description",modifiers:{hover:!0,top:!0}}],staticClass:"mr-1",attrs:{name:"info-circle"}})],1),e("div",{staticClass:"col"},[e("b-form-input",{attrs:{id:"secrets",placeholder:a.placeholder},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"parameter.value"}})],1)])])})),1):t._e()],1):t._e(),t.userZelid?e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mb-2",attrs:{variant:"outline-warning","aria-label":"View Additional Details"},on:{click:function(e){t.componentParamsModalShowing=!0}}},[t._v(" View Additional Details ")]):t._e()],1)})),1)],1),t.appData.enabled?e("div",{staticClass:"text-center mt-auto"},[t.userZelid?e("b-button",{staticClass:"mt-2 text-center",staticStyle:{position:"absolute",bottom:"20px",left:"0",right:"0","margin-left":"3.0rem","margin-right":"3.0rem"},attrs:{variant:"outline-success","aria-label":"Launch Marketplace App"},on:{click:t.checkFluxSpecificationsAndFormatMessage}},[t._v(" Start Launching Marketplace Application ")]):t._e()],1):e("div",{staticClass:"text-center"},[e("h4",[t._v(" This Application is temporarily disabled ")])])],1):t._e()],1),e("b-col",{staticClass:"d-lg-flex d-none",attrs:{xxl:"3",xl:"4",lg:"4"}},[e("br"),e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h4",{staticClass:"mb-0"},[t._v(" CPU ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.cpuRadialBar,series:t.cpu.series}})],1),e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h4",{staticClass:"mb-0"},[t._v(" RAM ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.ramRadialBar,series:t.ram.series}})],1),e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h4",{staticClass:"mb-0"},[t._v(" HDD ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.hddRadialBar,series:t.hdd.series}})],1)],1),e("b-row",{staticClass:"d-lg-none d-sm-none d-md-flex d-none"},[e("b-col",{attrs:{md:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h5",{staticClass:"mb-0"},[t._v(" CPU ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.cpuRadialBar,series:t.cpu.series}})],1)],1),e("b-col",{attrs:{md:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h5",{staticClass:"mb-0"},[t._v(" RAM ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.ramRadialBar,series:t.ram.series}})],1)],1),e("b-col",{attrs:{md:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h5",{staticClass:"mb-0"},[t._v(" HDD ")])]),e("vue-apex-charts",{staticClass:"mt-1",attrs:{type:"radialBar",height:"200",options:t.hddRadialBar,series:t.hdd.series}})],1)],1)],1),e("b-row",{staticClass:"d-md-none"},[e("b-col",{attrs:{cols:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h6",{staticClass:"mb-0"},[t._v(" CPU ")])]),e("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:t.cpuRadialBarSmall,series:t.cpu.series}})],1)],1),e("b-col",{attrs:{cols:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h6",{staticClass:"mb-0"},[t._v(" RAM ")])]),e("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:t.ramRadialBarSmall,series:t.ram.series}})],1)],1),e("b-col",{attrs:{cols:"4"}},[e("b-card",{attrs:{"no-body":""}},[e("b-card-header",{staticClass:"app-requirements-header"},[e("h6",{staticClass:"mb-0"},[t._v(" HDD ")])]),e("vue-apex-charts",{staticClass:"mt-3",attrs:{type:"radialBar",height:"130",options:t.hddRadialBarSmall,series:t.hdd.series}})],1)],1)],1)],1)],1),e("b-modal",{attrs:{title:"Extra Component Parameters",size:"lg",centered:"","button-size":"sm","ok-only":"","ok-title":"Close"},model:{value:t.componentParamsModalShowing,callback:function(e){t.componentParamsModalShowing=e},expression:"componentParamsModalShowing"}},[t.currentComponent?e("div",[e("list-entry",{attrs:{title:"Static Parameters",data:t.currentComponent.environmentParameters.join(", ")}}),e("list-entry",{attrs:{title:"Custom Domains",data:t.currentComponent.domains.join(", ")||"none"}}),e("list-entry",{attrs:{title:"Automatic Domains",data:t.constructAutomaticDomains(t.appData.name).join(", ")}}),e("list-entry",{attrs:{title:"Ports",data:t.currentComponent.ports.join(", ")}}),e("list-entry",{attrs:{title:"Container Ports",data:t.currentComponent.containerPorts.join(", ")}}),e("list-entry",{attrs:{title:"Container Data",data:t.currentComponent.containerData}}),e("list-entry",{attrs:{title:"Commands",data:t.currentComponent.commands.length>0?t.currentComponent.commands.join(", "):"none"}})],1):t._e()]),e("b-modal",{attrs:{title:"Finish Launching App?",size:"sm",centered:"","button-size":"sm","ok-title":"Yes","cancel-title":"No"},on:{ok:function(e){t.confirmLaunchDialogCloseShowing=!1,t.launchModalShowing=!1}},model:{value:t.confirmLaunchDialogCloseShowing,callback:function(e){t.confirmLaunchDialogCloseShowing=e},expression:"confirmLaunchDialogCloseShowing"}},[e("h5",{staticClass:"text-center"},[t._v(" Please ensure that you have paid for your app, or saved the payment details for later. ")]),e("br"),e("h5",{staticClass:"text-center"},[t._v(" Close the Launch App dialog? ")])]),e("b-modal",{attrs:{title:"Launching Marketplace App",size:"xlg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","hide-footer":""},on:{ok:t.confirmLaunchDialogCancel},model:{value:t.launchModalShowing,callback:function(e){t.launchModalShowing=e},expression:"launchModalShowing"}},[e("form-wizard",{ref:"formWizard",staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){return t.confirmLaunchDialogFinish()}},scopedSlots:t._u([{key:"footer",fn:function(a){return[e("div",[a.activeTabIndex>0?e("b-button",{staticClass:"wizard-footer-left",attrs:{type:"button",variant:"outline-dark"},on:{click:function(e){return t.$refs.formWizard.prevTab()}}},[t._v(" Previous ")]):t._e(),e("b-button",{staticClass:"wizard-footer-right",attrs:{type:"button",variant:"outline-dark"},on:{click:function(e){return t.$refs.formWizard.nextTab()}}},[t._v(" "+t._s(a.isLastStep?"Done":"Next")+" ")])],1)]}}])},[e("tab-content",{attrs:{title:"Check Registration"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Registration Message"}},[e("div",{staticClass:"text-wrap"},[e("b-form-textarea",{attrs:{id:"registrationmessage",rows:"6",readonly:""},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:t.tooltipText,expression:"tooltipText"}],ref:"copyButtonRef",staticClass:"clipboard icon",attrs:{scale:"1.5",icon:"clipboard"},on:{click:t.copyMessageToSign}})],1)])],1),e("tab-content",{attrs:{title:"Sign App Message","before-change":()=>null!==t.signature}},[e("div",{staticClass:"mx-auto",staticStyle:{width:"600px"}},[e("h4",{staticClass:"text-center"},[t._v(" Sign Message with same method you have used for login ")]),e("div",{staticClass:"loginRow mx-auto",staticStyle:{width:"400px"}},[e("a",{on:{click:t.initiateSignWS}},[e("img",{staticClass:"walletIcon",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{on:{click:t.initSSP}},[e("img",{staticClass:"walletIcon",attrs:{src:t.isDark?a(56070):a(58962),alt:"SSP",height:"100%",width:"100%"}})])]),e("div",{staticClass:"loginRow mx-auto",staticStyle:{width:"400px"}},[e("a",{on:{click:t.initWalletConnect}},[e("img",{staticClass:"walletIcon",attrs:{src:a(47622),alt:"WalletConnect",height:"100%",width:"100%"}})]),e("a",{on:{click:t.initMetamask}},[e("img",{staticClass:"walletIcon",attrs:{src:a(28125),alt:"Metamask",height:"100%",width:"100%"}})])]),e("div",{staticClass:"loginRow"},[e("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"my-1",staticStyle:{width:"250px"},attrs:{variant:"primary","aria-label":"Flux Single Sign On"},on:{click:t.initSignFluxSSO}},[t._v(" Flux Single Sign On (SSO) ")])],1)]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"signature"},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1),e("tab-content",{attrs:{title:"Register Application","before-change":()=>null!==t.registrationHash}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Register Application"}},[e("b-card-text",[e("b-icon",{staticClass:"mr-1",attrs:{scale:"1.4",icon:"cash-coin"}}),t._v("Price:  "),e("b",[t._v(t._s(t.appPricePerDeploymentUSD)+" USD + VAT")])],1),e("div",[e("b-button",{staticClass:"my-1",staticStyle:{width:"250px"},attrs:{variant:t.loading||t.completed?"outline-success":"success","aria-label":"Register",disabled:t.loading||t.completed},on:{click:t.register}},[t.loading?[e("b-spinner",{attrs:{small:""}}),t._v(" Processing... ")]:t.completed?[t._v(" Done! ")]:[t._v(" Register ")]],2)],1),t.registrationHash?e("b-card-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mt-1",attrs:{title:t.registrationHash}},[t._v(" Registration Hash Received ")]):t._e()],1)],1),e("tab-content",{attrs:{title:"Send Payment"}},[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6",lg:"8"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send Payment"}},[e("div",{staticClass:"d-flex justify-content-center align-items-center mb-1"},[e("b-icon",{staticClass:"mr-1",attrs:{scale:"1.4",icon:"cash-coin"}}),t._v("Price:  "),e("b",[t._v(t._s(t.appPricePerDeploymentUSD)+" USD + VAT")])],1),e("b-card-text",[e("b",[t._v("Everything is ready, your payment option links, both for fiat and flux, are valid for the next 30 minutes.")])]),e("br"),t._v(" The application will be subscribed until "),e("b",[t._v(t._s(new Date(t.subscribedTill).toLocaleString("en-GB",t.timeoptions.shortDate)))]),e("br"),t._v(" To finish the application registration, pay your application with your prefered payment method or check below how to pay with Flux crypto currency. ")],1)],1),e("b-col",{attrs:{xs:"6",lg:"4"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Pay with Stripe/PayPal"}},[e("div",{staticClass:"loginRow"},[t.stripeEnabled?e("a",{on:{click:t.initStripePay}},[e("img",{staticClass:"stripePay",attrs:{src:a(20134),alt:"Stripe",height:"100%",width:"100%"}})]):t._e(),t.paypalEnabled?e("a",{on:{click:t.initPaypalPay}},[e("img",{staticClass:"paypalPay",attrs:{src:a(36547),alt:"PayPal",height:"100%",width:"100%"}})]):t._e(),t.paypalEnabled||t.stripeEnabled?t._e():e("span",[t._v("Fiat Gateways Unavailable.")])]),t.checkoutLoading?e("div",{attrs:{className:"loginRow"}},[e("b-spinner",{attrs:{variant:"primary"}}),e("div",{staticClass:"text-center"},[t._v(" Checkout Loading ... ")])],1):t._e(),t.fiatCheckoutURL?e("div",{attrs:{className:"loginRow"}},[e("a",{attrs:{href:t.fiatCheckoutURL,target:"_blank",rel:"noopener noreferrer"}},[t._v(" Click here for checkout if not redirected ")])]):t._e()])],1)],1),t.applicationPriceFluxError?t._e():e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{xs:"6",lg:"8"}},[e("b-card",{staticClass:"text-center wizard-card"},[e("b-card-text",[t._v(" To pay in FLUX, please make a transaction of "),e("b",[t._v(t._s(t.appPricePerDeployment)+" FLUX")]),t._v(" to address"),e("br"),e("b",[t._v("'"+t._s(t.deploymentAddress)+"'")]),e("br"),t._v(" with the following message"),e("br"),e("b",[t._v("'"+t._s(t.registrationHash)+"'")])])],1)],1),e("b-col",{attrs:{xs:"6",lg:"4"}},[e("b-card",[t.applicationPriceFluxDiscount>0?e("h4",[e("kbd",{staticClass:"d-flex justify-content-center bg-primary mb-1"},[t._v("Discount - "+t._s(t.applicationPriceFluxDiscount)+"%")])]):t._e(),e("h4",{staticClass:"text-center mb-2"},[t._v(" Pay with Zelcore/SSP ")]),e("div",{staticClass:"loginRow"},[e("a",{attrs:{href:`zel:?action=pay&coin=zelcash&address=${t.deploymentAddress}&amount=${t.appPricePerDeployment}&message=${t.registrationHash}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`}},[e("img",{staticClass:"walletIcon",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),e("a",{on:{click:t.initSSPpay}},[e("img",{staticClass:"walletIcon",attrs:{src:t.isDark?a(56070):a(58962),alt:"SSP",height:"100%",width:"100%"}})])])])],1)],1)],1)],1)],1)],1)},F=[],z=(a(70560),a(15193)),R=a(86855),P=a(87047),T=a(64206),D=a(50725),A=a(333),I=a(31220),$=a(26253),L=a(58887),Z=a(51015),M=a(8051),B=a(78959),E=a(46709),N=a(82653),O=a(43028),j=a(5870),q=a(85498),V=a(67166),U=a.n(V),W=a(68934),Y=a(51748),H=a(43672),J=a(34369),G=a(72918),K=a(38511),X=a(62693),Q=a(94145),tt=a(37307),et=a(52829),at=a(5449),st=a(44866),it=a(74811),ot=a(65864),rt=a(48764)["lW"];const nt="df787edc6839c7de49d527bba9199eaa",lt={projectId:nt,metadata:{name:"Flux Cloud",description:"Flux, Your Gateway to a Decentralized World",url:"https://home.runonflux.io",icons:["https://home.runonflux.io/img/logo.png"]}},ct=new X.u(lt),dt={enableDebug:!0},ut=new Q.MetaMaskSDK(dt);let pt;const mt=a(80129),gt=a(97218),vt=a(58971),ft=a(79650),ht=a(63005),bt={components:{BButton:z.T,BCard:R._,BCardHeader:P.p,BCardText:T.j,BCol:D.l,BFormInput:o.e,BFormTextarea:A.y,BModal:I.N,BRow:$.T,BTabs:L.M,BTab:Z.L,BFormSelect:M.K,BFormSelectOption:B.c,BFormGroup:E.x,FormWizard:q.FormWizard,TabContent:q.TabContent,ToastificationContent:w.Z,ListEntry:Y.Z,VuePerfectScrollbar:S(),VueApexCharts:U()},directives:{Ripple:b.Z,"b-modal":N.T,"b-toggle":O.M,"b-tooltip":j.o},props:{appData:{type:Object,required:!0},zelid:{type:String,required:!1,default:""},tier:{type:String,required:!1,default:""},isActive:{type:Boolean,default:!1}},setup(t){const e=(0,g.getCurrentInstance)().proxy,a=(0,x.useToast)(),{skin:s}=(0,tt.Z)(),i=(0,g.computed)((()=>"dark"===s.value)),o=t=>"Open"===t?"warning":"Passed"===t?"success":"Unpaid"===t?"info":t&&t.startsWith("Rejected")?"danger":"primary",r=(t,e,s="InfoIcon")=>{a({component:w.Z,props:{title:e,icon:s,variant:t}})},n=(0,g.ref)(!1),l=(0,g.ref)(null),c=(0,g.ref)(""),d=(0,g.ref)(null),u=(0,g.ref)(""),p=(0,g.ref)({zelid:"",signature:"",loginPhrase:""}),m=(0,g.ref)(t.zelid||""),v=(0,g.ref)({email:"",password:""}),f=(0,g.ref)(null),h=(0,g.ref)({email:"",pw1:"",pw2:""}),b=(0,g.ref)(null),y=(0,g.ref)(null),S=(0,g.ref)(null),C=(0,g.ref)(null),k=(0,g.ref)(null),_=async()=>{try{const t=await J.Z.emergencyLoginPhrase();console.log(t),"error"===t.data.status?r("danger",t.data.data.message):(c.value=t.data.data,p.value.loginPhrase=t.data.data)}catch(t){console.log(t),r("danger",t)}},F=async()=>{try{const t=await J.Z.loginPhrase();console.log(t.data.data),"error"===t.data.status?await _():(c.value=t.data.data,p.value.loginPhrase=t.data.data)}catch(t){console.log(t),r("danger",t)}},z=t=>"error"===t?"danger":"success",R=()=>{document.getElementById("ssoVerify").style.display="none",document.getElementById("ssoEmailVerify").style.display="none",document.getElementById("ssoLoggedIn").style.display="none",document.getElementById("emailLoginProcessing").style.display="none",document.getElementById("emailLoginExecute").style.display="block",document.getElementById("emailLoginForm").style.display="block",document.getElementById("signUpButton").style.display="block",v.value.email="",v.value.password="",f.value.reset(),f.value.start("#firebaseui-auth-container"),u.value=!1},P=()=>{R()},T=async t=>{try{if(t.emailVerified){document.getElementById("ssoLoggedIn").style.display="block";const a=t.auth.currentUser.accessToken,s=c.value,i={"Content-Type":"application/json",Authorization:`Bearer ${a}`},o=await gt.post("https://service.fluxcore.ai/api/signInOrUp",{message:s},{headers:i});if("success"!==o.data?.status)throw new Error("Login Failed, please try again.");console.log(o);const n={zelid:o.data.public_address,signature:o.data.signature,loginPhrase:c.value},l=await J.Z.verifyLogin(n);if(console.log(l),"success"===l.data.status){const t={zelid:o.data.public_address,signature:o.data.signature,loginPhrase:c.value};e.$store.commit("flux/setPrivilege",l.data.data.privilege),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",mt.stringify(t)),m.value=t.zelid,r("success",l.data.data.message)}else r(z(l.data.status),l.data.data.message||l.data.data),R()}else await A(t)}catch(a){console.log(a),R(),r("warning","Login Failed, please try again.")}},D=async()=>{try{let t=(0,at.PR)();t&&u.value?(await t.reload(),t=(0,at.PR)(),t.emailVerified?(r("info","email verified"),document.getElementById("ssoVerify").style.display="none",T(t),u.value=!1):setTimeout(D,5e3)):R()}catch(t){r("warning","email verification failed"),R()}},A=async t=>{if(t.displayName){const e=/\b((http|https|ftp):\/\/[-A-Z0-9+&@#%?=~_|!:,.;]*[-A-Z0-9+&@#%=~_|]|www\.[-A-Z0-9+&@#%?=~_|!:,.;]*[-A-Z0-9+&@#%=~_|]|[-A-Z0-9]+\.[A-Z]{2,}[-A-Z0-9+&@#%?=~_|]*[-A-Z0-9+&@#%=~_|])/i;if(e.test(t.displayName))throw new Error("Login Failed, please try again.")}try{await t.sendEmailVerification(),r("info","please verify email")}catch{r("warning","failed to send new verification email")}finally{document.getElementById("ssoVerify").style.display="block",document.getElementById("ssoEmailVerify").style.display="block",document.getElementById("emailLoginForm").style.display="none",u.value=!0,await D()}},I=t=>(t.user&&T(t.user),!1),$=async()=>{try{if(document.getElementById("emailLoginForm").reportValidity()){document.getElementById("emailLoginExecute").style.display="none",document.getElementById("emailLoginProcessing").style.display="block",document.getElementById("signUpButton").style.display="none";const t=await(0,at.fZ)(v.value);I(t)}}catch(t){document.getElementById("emailLoginExecute").style.display="block",document.getElementById("emailLoginProcessing").style.display="none",document.getElementById("signUpButton").style.display="block",document.getElementById("ssoEmailVerify").style.display="none",r("danger","login failed, please try again")}},L=()=>{n.value=!n.value},Z=async()=>{try{const t=await J.Z.verifyLogin(p.value);if(console.log(t),"success"===t.data.status){const a={zelid:p.value.zelid,signature:p.value.signature,loginPhrase:p.value.loginPhrase};e.$store.commit("flux/setPrivilege",t.data.data.privilage),e.$store.commit("flux/setZelid",a.zelid),localStorage.setItem("zelidauth",mt.stringify(a)),m.value=a.zelid,await(0,g.nextTick)(),window.scrollTo({top:0}),r("success",t.data.data.message)}else r(z(t.data.status),t.data.data.message||t.data.data)}catch(t){console.log(t),r("danger",t.toString())}},M=()=>{const t=C.value?.reportValidity();return h.value.pw1.length>=8?(y.value=!0,h.value.pw2.length>=8?(S.value=!0,h.value.pw1!==h.value.pw2?(r("info","Passwords do not match."),y.value=!1,S.value=!1,null):t):(r("info","Password must be at least 8 characters."),null)):(r("info","Password must be at least 8 characters."),null)},B=()=>{h.value.email="",h.value.pw1="",h.value.pw2="",b.value=null,y.value=null,S.value=null},E=async()=>{if(M()){try{const t=await(0,at.wY)({email:h.value.email,password:h.value.pw1});I(t)}catch(t){R(),r("danger","Account creation failed, please try again.")}await(0,g.nextTick)((()=>{k.value.hide("modal-prevent-closing")}))}},N=t=>{t.preventDefault(),E()},O=t=>console.log("WebSocket opened:",t),j=t=>console.log("WebSocket closed:",t),q=t=>console.log("WebSocket error:",t),V=t=>{const a=mt.parse(t.data);if("success"===a.status&&a.data){const t={zelid:a.data.zelid,signature:a.data.signature,loginPhrase:a.data.loginPhrase};e.$store.commit("flux/setPrivilege",a.data.privilage),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",mt.stringify(t)),m.value=t.zelid,r("success",a.data.message)}console.log("Message received:",a)},U=()=>{const{protocol:t,hostname:a,port:s}=window.location;let i="";i+=t,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),s=+e[0]+1;e[0]=s.toString(),e[2]="api",t[4]="",i+=t.join("-"),i+=e.join(".")}else if(a.match(o)){const t=a.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof a&&e.$store.commit("flux/setUserIp",a),+s>16100){const t=+s+1;e.$store.commit("flux/setFluxPort",t)}i+=a,i+=":",i+=Qt.value.apiPort}let r=vt.get("backendURL")||i;r=r.replace("https://","wss://"),r=r.replace("http://","ws://");const n=`${r}/ws/id/${c.value}`;l.value=new WebSocket(n),l.value.onopen=t=>O(t),l.value.onclose=t=>j(t),l.value.onmessage=t=>V(t),l.value.onerror=t=>q(t)},Y=()=>{const{protocol:t,hostname:a,port:s}=window.location;let i="";i+=t,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),s=+e[0]+1;e[0]=s.toString(),e[2]="api",t[4]="",i+=t.join("-"),i+=e.join(".")}else if(a.match(o)){const t=a.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof a&&e.$store.commit("flux/setUserIp",a),+s>16100){const t=+s+1;e.$store.commit("flux/setFluxPort",t)}i+=a,i+=":",i+=Qt.value.apiPort}const r=vt.get("backendURL")||i,n=`${r}/id/verifylogin`;return encodeURI(n)},X={callbacks:{signInSuccessWithAuthResult:I,uiShown(){const t=document.getElementById("ssoLoading");t&&(t.style.display="none")}},popupMode:!0,signInFlow:"popup",signInOptions:[{provider:st.Z.auth.GoogleAuthProvider.PROVIDER_ID,customParameters:{prompt:"select_account"}},"apple.com"],tosUrl:"https://cdn.runonflux.io/Flux_Terms_of_Service.pdf",privacyPolicyUrl:"https://runonflux.io/privacyPolicy"},Q=async t=>{console.log(t);try{const a=await d.value.request({topic:t.topic,chainId:"eip155:1",request:{method:"personal_sign",params:[c.value,t.namespaces.eip155.accounts[0].split(":")[2]]}});console.log(a);const s={zelid:t.namespaces.eip155.accounts[0].split(":")[2],signature:a,loginPhrase:c.value},i=await J.Z.verifyLogin(s);if(console.log(i),"success"===i.data.status){const t=s;e.$store.commit("flux/setPrivilege",i.data.data.privilage),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",mt.stringify(t)),m.value=t.zelid,r("success",i.data.data.message)}else r(z(i.data.status),i.data.data.message||i.data.data)}catch(a){console.error(a),r("danger",a.message)}},nt=t=>{console.log(t)},dt=async()=>{try{d.value=await K.ZP.init(lt),d.value.on("session_event",(({event:t})=>{console.log(t)})),d.value.on("session_update",(({topic:t,params:e})=>{const{namespaces:a}=e,s=d.value.session.get(t),i={...s,namespaces:a};nt(i)})),d.value.on("session_delete",(()=>{}));const{uri:t,approval:e}=await d.value.connect({requiredNamespaces:{eip155:{methods:["personal_sign"],chains:["eip155:1"],events:["chainChanged","accountsChanged"]}}});if(t){ct.openModal({uri:t});const a=await e();await Q(a),ct.closeModal()}}catch(t){console.error(t),r("danger",t.message)}},bt=async()=>{try{if(!window.ssp)return void r("danger","SSP Wallet not installed");const t=await window.ssp.request("sspwid_sign_message",{message:c.value});if("ERROR"===t.status)throw new Error(t.data||t.result);const a={zelid:t.address,signature:t.signature,loginPhrase:c.value},s=await J.Z.verifyLogin(a);if(console.log(s),"success"===s.data.status){const t=a;e.$store.commit("flux/setPrivilege",s.data.data.privilage),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",mt.stringify(t)),m.value=t.zelid,r("success",s.data.data.message)}else r("danger",s.data.data.message||s.data.data)}catch(t){r("danger",t.message)}},xt=async(t,a)=>{try{const s=`0x${rt.from(t,"utf8").toString("hex")}`,i=await window.ethereum.request({method:"personal_sign",params:[s,a]}),o={zelid:a,signature:i,loginPhrase:c.value},n=await J.Z.verifyLogin(o);if("success"===n.data.status){const t=o;e.$store.commit("flux/setPrivilege",n.data.data.privilage),e.$store.commit("flux/setZelid",t.zelid),localStorage.setItem("zelidauth",mt.stringify(t)),m.value=t.zelid,r("success",n.data.data.message)}else r("danger",n.data.data.message||n.data.data)}catch(s){console.error(s),r("danger",s.message)}},wt=async()=>{try{if(!window.ethereum)return void r("danger","Metamask not detected");let t;if(window.ethereum.selectedAddress)t=window.ethereum.selectedAddress;else{const e=await window.ethereum.request({method:"eth_requestAccounts"});t=e[0]}await xt(c.value,t)}catch(t){r("danger",t.message)}},yt=(0,g.ref)("");yt.value=t.tier;const St=(0,g.ref)(!1),Ct=(0,g.ref)(!1),kt=(0,g.ref)(!1),_t=(0,g.ref)(!1),Ft=(0,g.ref)(!1),zt=(0,g.ref)(null),Rt=(0,g.ref)(1),Pt=(0,g.ref)("fluxappregister"),Tt=(0,g.ref)(null),Dt=(0,g.ref)(null),At=(0,g.ref)(null),It=(0,g.ref)(null),$t=(0,g.ref)(0),Lt=(0,g.ref)(0),Zt=(0,g.ref)(null),Mt=(0,g.ref)(!1),Bt=(0,g.ref)(!1),Et=(0,g.ref)(""),Nt=(0,g.ref)(null),Ot=(0,g.ref)(!0),jt=(0,g.ref)(!0),qt=(0,g.ref)([]),Vt=(0,g.ref)([]),Ut=(0,g.ref)(null),Wt=(0,g.ref)(null),Yt=(0,g.ref)(Number(3)),Ht=(0,g.ref)(null),Jt=(0,g.ref)("Copy to clipboard"),Gt=(0,g.ref)(null),Kt=(0,g.ref)([]),Xt=(0,g.ref)(Number(0));Kt.value=[{value:22e3,label:"1 month",time:2592e6},{value:66e3,label:"3 months",time:7776e6},{value:132e3,label:"6 months",time:15552e6},{value:264e3,label:"1 year",time:31536e6}];const Qt=(0,g.computed)((()=>e.$store.state.flux.config)),te=(0,g.computed)((()=>It.value+36e5)),ee=(0,g.computed)((()=>{if(t.appData.version>=6){const t=Kt.value;if(t[Xt.value])return Date.now()+t[Xt.value].time+36e5}const e=Date.now()+2592e6+36e5;return e})),ae=(0,g.computed)((()=>{const t=Kt.value;return t[Xt.value]?t[Xt.value].label:null})),se=()=>{const{protocol:t,hostname:a,port:s}=window.location;let i="";i+=t,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),s=+e[0]+1;e[0]=s.toString(),e[2]="api",t[4]="",i+=t.join("-"),i+=e.join(".")}else if(a.match(o)){const t=a.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof a&&e.$store.commit("flux/setUserIp",a),+s>16100){const t=+s+1;e.$store.commit("flux/setFluxPort",t)}i+=a,i+=":",i+=Qt.value.apiPort}const r=vt.get("backendURL")||i,n=`${r}/id/providesign`;return encodeURI(n)},ie=t=>{console.log(t)},oe=t=>{const e=mt.parse(t.data);"success"===e.status&&e.data&&(Dt.value=e.data.signature),console.log(e),console.log(t)},re=t=>{console.log(t)},ne=t=>{console.log(t)},le=async()=>{try{const t=Tt.value,e=(0,at.PR)();if(!e)return void r("warning","Not logged in as SSO. Login with SSO or use different signing method.");const a=e.auth.currentUser.accessToken,s={"Content-Type":"application/json",Authorization:`Bearer ${a}`},i=await gt.post("https://service.fluxcore.ai/api/signMessage",{message:t},{headers:s});if("success"!==i.data?.status&&i.data?.signature)return void r("warning","Failed to sign message, please try again.");Dt.value=i.data.signature}catch(t){r("warning","Failed to sign message, please try again.")}},ce=async()=>{if(Tt.value.length>1800){const t=Tt.value,e={publicid:Math.floor(999999999999999*Math.random()).toString(),public:t};await gt.post("https://storage.runonflux.io/v1/public",e);const a=`zel:?action=sign&message=FLUX_URL=https://storage.runonflux.io/v1/public/${e.publicid}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${se()}`;window.location.href=a}else window.location.href=`zel:?action=sign&message=${Tt.value}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${se()}`;const{protocol:t,hostname:a,port:s}=window.location;let i="";i+=t,i+="//";const o=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),s=+e[0]+1;e[0]=s.toString(),e[2]="api",t[4]="",i+=t.join("-"),i+=e.join(".")}else if(a.match(o)){const t=a.split(".");t[0]="api",i+=t.join(".")}else{if("string"===typeof a&&e.$store.commit("flux/setUserIp",a),+s>16100){const t=+s+1;e.$store.commit("flux/setFluxPort",t)}i+=a,i+=":",i+=Qt.value.apiPort}let r=vt.get("backendURL")||i;r=r.replace("https://","wss://"),r=r.replace("http://","ws://");const n=m.value+It.value;console.log(`signatureMessage: ${n}`);const c=`${r}/ws/sign/${n}`,d=new WebSocket(c);l.value=d,d.onopen=t=>{ne(t)},d.onclose=t=>{re(t)},d.onmessage=t=>{oe(t)},d.onerror=t=>{ie(t)}},de=async()=>{try{await ut.init(),pt=ut.getProvider()}catch(t){console.log(t)}};de();const ue=async(t,e)=>{try{const a=`0x${rt.from(t,"utf8").toString("hex")}`,s=await pt.request({method:"personal_sign",params:[a,e]});console.log(s),Dt.value=s}catch(a){console.error(a),r("danger",a.message)}},pe=async()=>{try{if(!pt)return void r("danger","Metamask not detected");let t;if(pt&&!pt.selectedAddress){const e=await pt.request({method:"eth_requestAccounts",params:[]});console.log(e),t=e[0]}else t=pt.selectedAddress;ue(Tt.value,t)}catch(t){r("danger",t.message)}},me=async()=>{try{if(!window.ssp)return void r("danger","SSP Wallet not installed");const t=await window.ssp.request("sspwid_sign_message",{message:Tt.value});if("ERROR"===t.status)throw new Error(t.data||t.result);Dt.value=t.signature}catch(t){r("danger",t.message)}},ge=async()=>{try{if(!window.ssp)return void r("danger","SSP Wallet not installed");const t={message:this.registrationHash,amount:(+this.appPricePerDeployment||0).toString(),address:this.deploymentAddress,chain:"flux"},e=await window.ssp.request("pay",t);if("ERROR"===e.status)throw new Error(e.data||e.result);r("success",`${e.data}: ${e.txid}`)}catch(t){r("danger",t.message)}},ve=t=>{const e=window.open(t,"_blank");e.focus()},fe=async()=>{try{Zt.value=null,Mt.value=!0;const e=Nt.value,{name:a}=Ht.value,s=Lt.value,{description:i}=Ht.value,o=localStorage.getItem("zelidauth"),n=mt.parse(o),l={zelid:n.zelid,signature:n.signature,loginPhrase:n.loginPhrase,details:{name:a,description:i,hash:e,price:s,productName:a,success_url:"https://home.runonflux.io/successcheckout",cancel_url:"https://home.runonflux.io",kpi:{origin:"FluxOS",marketplace:!0,registration:!0}}},c=await gt.post(`${ot.M}/api/v1/stripe/checkout/create`,l);if("error"===c.data.status)return r("error","Failed to create stripe checkout"),void(Mt.value=!1);Zt.value=c.data.data,Mt.value=!1;try{ve(c.data.data)}catch(t){console.log(t),r("error","Failed to open Stripe checkout, pop-up blocked?")}}catch(t){console.log(t),r("error","Failed to create stripe checkout"),Mt.value=!1}},he=async()=>{try{Zt.value=null,Mt.value=!0;const e=Nt.value,{name:a}=Ht.value,s=Lt.value,{description:i}=Ht.value;let o=null,n=await gt.get("https://api.ipify.org?format=json").catch((()=>{console.log("Error geting clientIp from api.ipify.org from")}));n&&n.data&&n.data.ip?o=n.data.ip:(n=await gt.get("https://ipinfo.io").catch((()=>{console.log("Error geting clientIp from ipinfo.io from")})),n&&n.data&&n.data.ip?o=n.data.ip:(n=await gt.get("https://api.ip2location.io").catch((()=>{console.log("Error geting clientIp from api.ip2location.io from")})),n&&n.data&&n.data.ip&&(o=n.data.ip)));const l=localStorage.getItem("zelidauth"),c=mt.parse(l),d={zelid:c.zelid,signature:c.signature,loginPhrase:c.loginPhrase,details:{clientIP:o,name:a,description:i,hash:e,price:s,productName:a,return_url:"home.runonflux.io/successcheckout",cancel_url:"home.runonflux.io",kpi:{origin:"FluxOS",marketplace:!0,registration:!0}}},u=await gt.post(`${ot.M}/api/v1/paypal/checkout/create`,d);if("error"===u.data.status)return r("error","Failed to create PayPal checkout"),void(Mt.value=!1);Zt.value=u.data.data,Mt.value=!1;try{ve(u.data.data)}catch(t){console.log(t),r("error","Failed to open PayPal checkout, pop-up blocked?")}}catch(t){console.log(t),r("error","Failed to create PayPal checkout"),Mt.value=!1}},be=async t=>{console.log(t);const e=await d.value.request({topic:t.topic,chainId:"eip155:1",request:{method:"personal_sign",params:[Tt.value,t.namespaces.eip155.accounts[0].split(":")[2]]}});console.log(e),Dt.value=e},xe=async()=>{try{const t=await K.ZP.init(lt);d.value=t;const e=t.session.getAll().length-1,a=t.session.getAll()[e];if(!a)throw new Error("WalletConnect session expired. Please log into FluxOS again");be(a)}catch(t){console.error(t),r("danger",t.message)}},we={maxScrollbarLength:150},ye=t=>t.compose.reduce(((t,e)=>t+e.cpu),0),Se=t=>t.compose.reduce(((t,e)=>t+e.ram),0),Ce=t=>t.compose.reduce(((t,e)=>t+e.hdd),0),ke=(0,g.ref)({series:[]}),_e=(0,g.ref)({series:[]}),Fe=(0,g.ref)({series:[]}),ze=async t=>{try{const e=t.split(":")[0],a=Number(t.split(":")[1]||16127),{hostname:s}=window.location,i=/[A-Za-z]/g;let o=!0;s.match(i)&&(o=!1);let n=`https://${e.replace(/\./g,"-")}-${a}.node.api.runonflux.io/flux/pgp`;o&&(n=`http://${e}:${a}/flux/pgp`);const l=await gt.get(n);if("error"!==l.data.status){const t=l.data.data;return t}return r("danger",l.data.data.message||l.data.data),null}catch(e){return console.log(e),null}},Re=async()=>{const t=sessionStorage.getItem("flux_enterprise_nodes");if(t)return JSON.parse(t);try{const t=await H.Z.getEnterpriseNodes();if("error"!==t.data.status)return sessionStorage.setItem("flux_enterprise_nodes",JSON.stringify(t.data.data)),t.data.data;r("danger",t.data.data.message||t.data.data)}catch(e){console.log(e)}return[]},Pe=async(t,e)=>{try{const a=e.map((t=>t.nodekey)),s=await Promise.all(a.map((t=>ft.readKey({armoredKey:t})))),i=await ft.createMessage({text:t.replace("\\“",'\\"')}),o=await ft.encrypt({message:i,encryptionKeys:s});return o}catch(a){return r("danger","Data encryption failed"),null}},Te=async()=>{const t=+Yt.value+3,e=+Yt.value+Math.ceil(Math.max(7,.15*+Yt.value)),a=await Re(),s=[],i=[],o=a.filter((t=>t.enterprisePoints>0&&t.score>1e3));for(let r=0;r<o.length;r+=1){const a=i.filter((t=>t.pubkey===o[r].pubkey)).length,n=s.filter((t=>t.pubkey===o[r].pubkey)).length;if(a+n<t&&s.push(o[r]),s.length+i.length>=e)break}if(s.length<e)throw new Error("Not enough kyc nodes available to run your enterprise app.");return s.forEach((async t=>{const e=i.find((e=>e.ip===t.ip));if(!e){i.push(t);const e=Vt.value.find((e=>e.nodeip===t.ip));if(!e){const e=await ze(t.ip);if(e){const a={nodeip:t.ip,nodekey:e},s=Vt.value.find((e=>e.nodeip===t.ip));s||Vt.value.push(a)}}}})),console.log(i),console.log(Vt.value),i.map((t=>t.ip))};(0,g.watch)((()=>t.appData),(()=>{null!==l.value&&(l.value.close(),l.value=null),ke.value={series:[ye(t.appData)/15*100]},_e.value={series:[Se(t.appData)/59e3*100]},Fe.value={series:[Ce(t.appData)/820*100]},t.appData.compose.forEach((t=>{const e=t.userEnvironmentParameters||[];e.forEach((e=>{Object.prototype.hasOwnProperty.call(e,"port")&&(e.value=t.ports[e.port])}))})),zt.value=t.appData.compose[0],t.appData.isAutoEnterprise&&Te().then((t=>{qt.value=t,console.log("auto selected nodes",t)})).catch(console.log)}));const De=t=>`${t}${Date.now()}`,Ae=t=>{if(!m.value)return["No Flux ID"];const e=De(t),a=e.toLowerCase(),s=[`${a}.app.runonflux.io`];return s},Ie=(0,g.ref)(null),$e=async()=>{const t=await H.Z.appsDeploymentInformation(),{data:e}=t.data;"success"===t.data.status?Ie.value=e.address:r("danger",t.data.data.message||t.data.data)};$e();const Le=async()=>{try{St.value=!1,Ct.value=!1;const e=De(t.appData.name),a={version:t.appData.version,name:e,description:t.appData.description,owner:m.value,instances:Yt.value,compose:[]};if(t.appData.version>=5&&(a.contacts=[],a.geolocation=[],Ut.value&&a.geolocation.push(Ut.value),Wt.value)){const t=[Wt.value],e=Math.floor(999999999999999*Math.random()).toString(),s={contactsid:e,contacts:t},i=await gt.post("https://storage.runonflux.io/v1/contacts",s);if("error"===i.data.status)throw new Error(i.data.message||i.data);r("success","Successful upload of Contact Parameter to Flux Storage"),a.contacts=[`F_S_CONTACTS=https://storage.runonflux.io/v1/contacts/${e}`]}if(t.appData.version>=6){const t=Kt.value;a.expire=t[Xt.value].value||22e3}if(t.appData.version>=7)if(a.staticip=t.appData.staticip,t.appData.isAutoEnterprise){if(0===qt.value.length){const t=await Te();qt.value=t}a.nodes=qt.value}else a.nodes=t.appData.nodes||[];for(let l=0;l<t.appData.compose.length;l+=1){const e=t.appData.compose[l];let s=JSON.parse(JSON.stringify(e.environmentParameters));const i=e.userEnvironmentParameters||[];if(i.forEach((t=>{s.push(`${t.name}=${t.value}`)})),e.envFluxStorage){const t=Math.floor(999999999999999*Math.random()).toString(),e={envid:t,env:s},a=await gt.post("https://storage.runonflux.io/v1/env",e);if("error"===a.data.status)throw new Error(a.data.message||a.data);r("success","Successful upload of Environment Parameters to Flux Storage"),s=[`F_S_ENV=https://storage.runonflux.io/v1/env/${t}`]}let{ports:o}=e;if(e.portSpecs){o=[];for(let t=0;t<e.portSpecs.length;t+=1){const a=e.portSpecs[t];if("string"!==typeof a)throw new Error("Port Specs Range for the application on Marketplace is not properly configured");{const t=Number(a.split("-")[0]),e=Number(a.split("-")[1]);o.push(Math.floor(Math.random()*(e-t+1)+t))}}}t.appData.name.toLowerCase().includes("streamr")&&(s.push(`STREAMR__BROKER__CLIENT__NETWORK__CONTROL_LAYER__WEBSOCKET_PORT_RANGE__MIN=${o[0]}`),s.push(`STREAMR__BROKER__CLIENT__NETWORK__CONTROL_LAYER__WEBSOCKET_PORT_RANGE__MAX=${o[0]}`),s.push("LOG_COLORS=false"),e.containerPorts=[o[0]]);const n={name:e.name,description:e.description,repotag:e.repotag,ports:o,containerPorts:e.containerPorts,environmentParameters:s,commands:e.commands,containerData:e.containerData,domains:e.domains,cpu:e.cpu,ram:e.ram,hdd:e.hdd,tiered:e.tiered};if(e.tiered&&(n.cpubasic=e.cpubasic,n.rambasic=e.rambasic,n.hddbasic=e.hddbasic,n.cpusuper=e.cpusuper,n.ramsuper=e.ramsuper,n.hddsuper=e.hddsuper,n.cpubamf=e.cpubamf,n.rambamf=e.rambamf,n.hddbamf=e.hddbamf),t.appData.version>=7){n.secrets=t.appData.secrets||"",n.repoauth=t.appData.repoauth||"";const a=[],s=e.userSecrets||[];if(s.forEach((t=>{a.push(`${t.name}=${t.value}`)})),a.length>0){const t=await Pe(JSON.stringify(a),Vt.value);if(!t)throw new Error("Secrets failed to encrypt");n.secrets=t}}a.compose.push(n)}Ht.value=a;const s=await H.Z.appRegistrationVerificaiton(a);if(console.log(s),"error"===s.data.status)throw new Error(s.data.data.message||s.data.data);const i=s.data.data;$t.value=0,Lt.value=0,Bt.value=!1,Et.value="";const o=JSON.parse(JSON.stringify(i));o.priceUSD=t.appData.priceUSD,console.log(o.priceUSD),Yt.value&&Yt.value>3&&(o.priceUSD=Number((o.priceUSD*Yt.value/3).toFixed(2))),"1"===Xt.value?o.priceUSD*=3:"2"===Xt.value?o.priceUSD*=6:"3"===Xt.value&&(o.priceUSD*=12);const n=await H.Z.appPriceUSDandFlux(o);if("error"===n.data.status)throw new Error(n.data.data.message||n.data.data);Lt.value=+n.data.data.usd,Number.isNaN(+n.data.data.fluxDiscount)?(Bt.value=!0,r("danger","Not possible to complete payment with Flux crypto currency")):($t.value=+n.data.data.flux,Et.value=+n.data.data.fluxDiscount),null!==l.value&&(l.value.close(),l.value=null),It.value=Date.now(),At.value=i,Tt.value=`${Pt.value}${Rt.value}${JSON.stringify(i)}${Date.now()}`,Nt.value=null,Dt.value=null,kt.value=!0}catch(e){console.log(e),r("danger",e.message||e)}},Ze={height:150,type:"radialBar",sparkline:{enabled:!0},dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}},Me={height:200,type:"radialBar",sparkline:{enabled:!0},dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}},Be={chart:Me,colors:[W.j.primary],labels:["CORES"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.5rem"},value:{formatter:t=>(15*parseFloat(t)/100).toFixed(1),offsetY:10,color:W.j.success,fontSize:"2.86rem",fontWeight:"300"}}}}},Ee={chart:Ze,colors:[W.j.primary],labels:["CORES"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.2rem"},value:{formatter:t=>(15*parseFloat(t)/100).toFixed(1),offsetY:10,color:W.j.success,fontSize:"2rem",fontWeight:"300"}}}}},Ne={chart:Me,colors:[W.j.primary],labels:["MB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.5rem"},value:{formatter:t=>(59e3*parseFloat(t)/100).toFixed(0),offsetY:10,color:W.j.success,fontSize:"2.86rem",fontWeight:"300"}}}}},Oe={chart:Ze,colors:[W.j.primary],labels:["MB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.2rem"},value:{formatter:t=>(59e3*parseFloat(t)/100).toFixed(0),offsetY:10,color:W.j.success,fontSize:"2rem",fontWeight:"300"}}}}},je={chart:Me,colors:[W.j.primary],labels:["GB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.5rem"},value:{formatter:t=>(820*parseFloat(t)/100).toFixed(0),offsetY:10,color:W.j.success,fontSize:"2.86rem",fontWeight:"300"}}}}},qe={chart:Ze,colors:[W.j.primary],labels:["GB"],stroke:{lineCap:"round"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{size:"65%"},dataLabels:{name:{offsetY:-15,color:W.j.secondary,fontSize:"1.2rem"},value:{formatter:t=>(820*parseFloat(t)/100).toFixed(0),offsetY:10,color:W.j.success,fontSize:"2rem",fontWeight:"300"}}}}},Ve=async()=>{const{copy:t}=(0,et.VPI)({source:Tt.value,legacy:!0});t(),Jt.value="Copied!",setTimeout((async()=>{await(0,g.nextTick)();const t=Gt.value;t&&(t.blur(),Jt.value="")}),1e3),setTimeout((()=>{Jt.value="Copy to clipboard"}),1500)},Ue=async()=>{const t=localStorage.getItem("zelidauth"),e={type:Pt.value,version:Rt.value,appSpecification:At.value,timestamp:It.value,signature:Dt.value};r("info","Propagating message accross Flux network..."),St.value=!0;const a=await H.Z.registerApp(t,e).catch((t=>{St.value=!1,r("danger",t.message||t)}));St.value=!1,console.log(a),"success"===a.data.status?(Ct.value=!0,Nt.value=a.data.data,r("success",a.data.data.message||a.data.data)):r("danger",a.data.data.message||a.data.data);const s=await(0,ot.Z)();s&&(Ot.value=s.stripe,jt.value=s.paypal)},We=e=>{zt.value=t.appData.compose[e]},Ye=()=>{Ft.value=!0},He=t=>{null!==Nt.value&&(t.preventDefault(),Ft.value=!0)},Je=()=>{const t=document.getElementById("firebaseui-auth-container");if(t){const e=it.I.AuthUI.getInstance();f.value=e||new it.I.AuthUI(st.Z.auth()),f.value?f.value.start(t,X):console.error("Failed to initialize FirebaseUI AuthUI instance")}};return(0,g.watch)((()=>t.isActive),(async t=>{t&&(await(0,g.nextTick)(),Je())})),(0,g.onMounted)((async()=>{m.value||F()})),{loading:St,completed:Ct,perfectScrollbarSettings:we,resolveTagVariant:o,resolveCpu:ye,resolveRam:Se,resolveHdd:Ce,constructAutomaticDomains:Ae,checkFluxSpecificationsAndFormatMessage:Le,timeoptions:ht,cpuRadialBar:Be,cpuRadialBarSmall:Ee,cpu:ke,ramRadialBar:Ne,ramRadialBarSmall:Oe,ram:_e,hddRadialBar:je,hddRadialBarSmall:qe,hdd:Fe,ui:f,loginForm:p,initiateLoginWS:U,initMetamaskLogin:wt,loginPhrase:c,resetModal:B,handleOk:N,login:Z,modalShow:n,emailLogin:$,initSSPLogin:bt,createAccount:L,handleSignInSuccessWithAuthResult:I,cancelVerification:P,ssoVerification:u,createSSOForm:h,emailForm:v,getZelIdLoginPhrase:F,userZelid:m,dataToSign:Tt,selectedGeolocation:Ut,contact:Wt,appInstances:Yt,signClient:d,signature:Dt,appPricePerDeployment:$t,appPricePerDeploymentUSD:Lt,applicationPriceFluxDiscount:Et,applicationPriceFluxError:Bt,fiatCheckoutURL:Zt,checkoutLoading:Mt,registrationHash:Nt,deploymentAddress:Ie,stripeEnabled:Ot,paypalEnabled:jt,validTill:te,subscribedTill:ee,register:Ue,callbackValue:se,callbackValueLogin:Y,initiateSignWS:ce,initMetamask:pe,initSSP:me,initSSPpay:ge,initPaypalPay:he,initStripePay:fe,openSite:ve,initSignFluxSSO:le,initWalletConnect:xe,initWalletConnectLogin:dt,onSessionConnect:be,siwe:ue,copyMessageToSign:Ve,launchModalShowing:kt,componentParamsModalShowing:_t,confirmLaunchDialogCloseShowing:Ft,confirmLaunchDialogFinish:Ye,confirmLaunchDialogCancel:He,expirePosition:Xt,getExpireLabel:ae,currentComponent:zt,componentSelected:We,tierColors:G.Z,skin:s,isDark:i,tooltipText:Jt,copyButtonRef:Gt}}},xt=bt;var wt=a(1001),yt=(0,wt.Z)(xt,_,F,!1,null,"7d007cff",null);const St=yt.exports;var Ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-details"},[e("div",{staticClass:"app-detail-header"},[e("div",{staticClass:"app-header-left d-flex align-items-center flex-grow-1"},[e("span",{staticClass:"go-back mr-1"},[e("feather-icon",{staticClass:"align-bottom",attrs:{icon:t.$store.state.appConfig.isRTL?"ChevronRightIcon":"ChevronLeftIcon",size:"20"},on:{click:function(e){return t.$emit("close-sharednode-view")}}})],1),e("h4",{staticClass:"app-name mb-0 flex-grow-1"},[t._v(" Titan Shared Nodes (Beta) ")]),e("a",{attrs:{href:"https://fluxofficial.medium.com/flux-titan-nodes-guide-useful-staking-e527278b1a2a",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Titan Guide ")])])]),e("vue-perfect-scrollbar",{staticClass:"marketplace-app-list scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("b-overlay",{attrs:{variant:"transparent",opacity:"0.95",blur:"5px","no-center":"",show:t.showOverlay()},scopedSlots:t._u([{key:"overlay",fn:function(){return[e("div",{staticClass:"mt-5"},[e("div",{staticClass:"text-center"},[t.titanConfig&&t.titanConfig.maintenanceMessage?e("b-card",{staticClass:"mx-auto",staticStyle:{"max-width":"50rem"},attrs:{"border-variant":"primary",title:"Titan Maintenance"}},[e("h1",[t._v(" "+t._s(t.titanConfig.maintenanceMessage)+" ")])]):e("b-spinner",{staticStyle:{width:"10rem",height:"10rem"},attrs:{type:"border",variant:"danger"}})],1)])]},proxy:!0}])},[e("b-card",{attrs:{"bg-variant":"transparent"}},[e("b-row",{staticClass:"match-height d-xxl-flex d-none"},[e("b-col",{attrs:{xl:"4"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[t._v(" Active Nodes ")]),e("b-card-body",{staticClass:"shared-node-info-body"},[e("h1",{staticClass:"active-node-value"},[t._v(" "+t._s(t.nodes.length)+" ")]),e("div",{staticClass:"d-flex"},[e("h4",{staticClass:"flex-grow-1"},[t._v(" Total: "+t._s(t.totalCollateral.toLocaleString())+" Flux ")]),e("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(e){return t.showNodeInfoDialog()}}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)])],1)],1),e("b-col",{attrs:{xl:"4"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[t._v(" Titan Stats ")]),e("b-card-body",{staticClass:"shared-node-info-body"},[e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" My Flux Total ")]),e("h4",[t._v(" "+t._s(t.myStakes?t.toFixedLocaleString(t.myStakes.reduce(((t,e)=>t+e.collateral),0),0):0)+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Titan Flux Total ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.total):"...")+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Current Supply ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.currentsupply):"...")+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Max Supply ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.maxsupply):"...")+" ")])]),e("div",[e("hr")]),e("div",{staticClass:"d-flex flex-row"},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.tooMuchStaked?t.titanConfig?t.titanConfig.stakeDisabledMessage:t.defaultStakeDisabledMessage:"",expression:"tooMuchStaked ? (titanConfig ? titanConfig.stakeDisabledMessage : defaultStakeDisabledMessage) : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"d-flex flex-row flex-grow-1"},[t.userZelid?e("b-button",{staticClass:"flex-grow-1 .btn-relief-primary",attrs:{variant:"gradient-primary",disabled:t.tooMuchStaked},on:{click:function(e){return t.showStakeDialog(!1)}}},[t._v(" Activate Titan ")]):t._e()],1)])])])],1)],1),e("b-col",{attrs:{xl:"4"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title"},[t._v(" Estimated % Lockup in Flux ")]),t.titanConfig?e("b-card-body",{staticClass:"shared-node-info-body"},[t._l(t.titanConfig.lockups,(function(a){return e("div",{key:a.time,staticClass:"lockup"},[e("div",{staticClass:"d-flex flex-row"},[e("h2",{staticClass:"flex-grow-1"},[t._v(" "+t._s(a.name)+" ")]),e("h1",[t._v(" ~"+t._s((100*a.apr).toFixed(2))+"% ")])])])})),e("div",{staticClass:"float-right"},[e("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(e){return t.showAPRInfoDialog()}}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)],2):t._e()],1)],1)],1),e("b-row",{staticClass:"match-height d-xxl-none d-xl-flex d-lg-flex d-md-flex d-sm-flex"},[e("b-col",{attrs:{sm:"12"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase",staticStyle:{"padding-left":"1.5rem","padding-top":"1rem","margin-bottom":"0"}},[t._v(" Active Nodes ")]),e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{cols:"6"}},[e("h1",{staticClass:"active-node-value-xl"},[t._v(" "+t._s(t.nodes.length)+" ")])]),e("b-col",{attrs:{cols:"6"}},[e("h4",{staticClass:"text-center",staticStyle:{"padding-top":"2rem"}},[t._v(" Total: "+t._s(t.totalCollateral.toLocaleString())+" Flux ")]),e("h4",{staticClass:"text-center"},[e("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(e){return t.showNodeInfoDialog()}}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)])],1)],1)],1),e("b-col",{attrs:{sm:"12"}},[e("b-row",{staticClass:"match-height"},[e("b-col",{attrs:{sm:"6"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title-xl"},[t._v(" Titan Stats ")]),e("b-card-body",{staticClass:"shared-node-info-body-xl"},[e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" My Flux Total ")]),e("h4",[t._v(" "+t._s(t.myStakes?t.toFixedLocaleString(t.myStakes.reduce(((t,e)=>t+e.collateral),0),0):0)+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Titan Flux Total ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.total):"...")+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Current Supply ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.currentsupply):"...")+" ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Max Supply ")]),e("h4",[t._v(" "+t._s(t.titanStats?t.toFixedLocaleString(t.titanStats.maxsupply):"...")+" ")])]),e("div",[e("hr")]),e("div",{staticClass:"d-flex flex-row"},[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.tooMuchStaked?t.titanConfig?t.titanConfig.stakeDisabledMessage:t.defaultStakeDisabledMessage:"",expression:"tooMuchStaked ? (titanConfig ? titanConfig.stakeDisabledMessage : defaultStakeDisabledMessage) : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"d-flex flex-row flex-grow-1"},[t.userZelid?e("b-button",{staticClass:"flex-grow-1 .btn-relief-primary",attrs:{variant:"gradient-primary",disabled:t.tooMuchStaked},on:{click:function(e){return t.showStakeDialog(!1)}}},[t._v(" Activate Titan ")]):t._e()],1)])])])],1)],1),e("b-col",{attrs:{sm:"6"}},[e("b-card",{attrs:{"border-variant":"primary","no-body":""}},[e("b-card-title",{staticClass:"text-white text-uppercase shared-node-info-title-xl"},[t._v(" Lockup Period APR ")]),t.titanConfig?e("b-card-body",{staticClass:"shared-node-info-body-xl"},[t._l(t.titanConfig.lockups,(function(a){return e("div",{key:a.time,staticClass:"lockup"},[e("div",{staticClass:"d-flex flex-row"},[e("h4",{staticClass:"flex-grow-1"},[t._v(" "+t._s(a.name)+" ")]),e("h4",[t._v(" ~"+t._s((100*a.apr).toFixed(2))+"% ")])])])})),e("div",{staticClass:"float-right"},[e("b-avatar",{attrs:{size:"24",variant:"primary",button:""},on:{click:function(e){return t.showAPRInfoDialog()}}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1)],1)],2):t._e()],1)],1)],1)],1)],1)],1),t.userZelid?e("b-row",{},[e("b-col",{staticClass:"d-xxl-none d-xl-flex d-lg-flex d-md-flex d-sm-flex"},[e("b-card",{staticClass:"flex-grow-1",attrs:{"no-body":""}},[e("b-card-title",{staticClass:"stakes-title"},[t._v(" Redeem Flux ")]),e("b-card-body",[e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Paid: ")]),e("h4",[t._v(" "+t._s(t.calculatePaidRewards())+" Flux ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Available: ")]),e("h4",[t._v(" "+t._s(t.toFixedLocaleString(t.totalReward,2))+" Flux ")])]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.totalReward<=(t.titanConfig?t.titanConfig.redeemFee:0)?"Available balance is less than the redeem fee":"",expression:"totalReward <= (titanConfig ? titanConfig.redeemFee : 0) ? 'Available balance is less than the redeem fee' : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"float-right",staticStyle:{display:"inline-block"}},[t.totalReward>t.minStakeAmount?e("b-button",{staticClass:"mt-2 mr-1",attrs:{disabled:t.totalReward>=t.totalCollateral-t.titanStats.total,variant:"danger",size:"sm",pill:""},on:{click:function(e){return t.showStakeDialog(!0)}}},[t._v(" Re-invest Funds ")]):t._e(),e("b-button",{staticClass:"float-right mt-2",attrs:{id:"redeemButton",variant:"danger",size:"sm",pill:"",disabled:t.totalReward<=(t.titanConfig?t.titanConfig.redeemFee:0)},on:{click:function(e){return t.showRedeemDialog()}}},[t._v(" Redeem ")])],1)])],1)],1),e("b-col",{attrs:{xxl:"9"}},[e("b-card",{staticClass:"sharednodes-container",attrs:{"no-body":""}},[e("b-card-body",[e("b-tabs",[e("b-tab",{attrs:{active:"",title:"Active"}},[e("ul",{staticClass:"marketplace-media-list"},t._l(t.myStakes,(function(a){return e("b-media",{key:a.uuid,attrs:{tag:"li","no-body":""},on:{click:function(e){return t.showActiveStakeInfoDialog(a)}}},[e("b-media-body",{staticClass:"app-media-body",staticStyle:{overflow:"inherit"}},[e("div",{staticClass:"d-flex flex-row row"},[-1===a.confirmations?e("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"danger",button:""},on:{click:[function(e){return t.showPaymentDetailsDialog(a)},function(t){t.stopPropagation()}]}},[e("v-icon",{attrs:{scale:"1.75",name:"hourglass-half"}})],1):t.titanConfig&&a.confirmations>=t.titanConfig.confirms?e("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-success"}},[e("v-icon",{attrs:{scale:"1.75",name:"check"}})],1):e("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-warning"}},[t._v(" "+t._s(a.confirmations)+"/"+t._s(t.titanConfig?t.titanConfig.confirms:0)+" ")]),e("div",{staticClass:"d-flex flex-column seat-column col",staticStyle:{"flex-grow":"0.8"}},[e("h3",{staticClass:"mr-auto ml-auto mt-auto mb-auto"},[t._v(" "+t._s(a.collateral.toLocaleString())+" Flux ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.timestamp).toLocaleString(t.timeoptions),expression:"new Date(stake.timestamp * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto text-center"},[t._v(" Start Date: "+t._s(new Date(1e3*a.timestamp).toLocaleDateString())+" ")]),e("h5",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.expiry).toLocaleString(t.timeoptions),expression:"new Date(stake.expiry * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto text-center"},[t._v(" End Date: "+t._s(new Date(1e3*a.expiry).toLocaleDateString())+" ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{staticClass:"mr-auto ml-auto"},[t._v(" Paid: "+t._s(t.toFixedLocaleString(a.paid,2))+" Flux ")]),e("h5",{staticClass:"mr-auto ml-auto"},[t._v(" Pending: "+t._s(t.toFixedLocaleString(a.reward,2))+" Flux ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{staticClass:"mr-auto ml-auto text-center"},[t._v(" Monthly Flux ")]),t.titanConfig?e("h5",{staticClass:"mr-auto ml-auto"},[t._v(" ~"+t._s(t.toFixedLocaleString(t.calcMonthlyReward(a),2))+" Flux "),a.autoreinvest?e("v-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Stake will auto-reinvest",expression:"'Stake will auto-reinvest'",modifiers:{hover:!0,top:!0}}],attrs:{name:"sync"}}):t._e()],1):e("h5",{staticClass:"mr-auto ml-auto"},[t._v(" ... Flux ")])])],1),a.message?e("div",[e("div",{domProps:{innerHTML:t._s(a.message)}})]):t._e()])],1)})),1)]),t.myExpiredStakes.length>0?e("b-tab",{attrs:{title:"Expired"}},[e("ul",{staticClass:"marketplace-media-list"},t._l(t.myExpiredStakes,(function(a){return e("b-media",{key:a.uuid,attrs:{tag:"li","no-body":""}},[e("b-media-body",{staticClass:"app-media-body",staticStyle:{overflow:"inherit"}},[e("div",{staticClass:"d-flex flex-row row"},[e("b-avatar",{staticClass:"node-status mt-auto mb-auto",attrs:{size:"48",variant:"light-warning"}},[e("v-icon",{attrs:{scale:"1.75",name:"calendar-times"}})],1),e("div",{staticClass:"d-flex flex-column seat-column col",staticStyle:{"flex-grow":"0.8"}},[e("h3",{staticClass:"mr-auto ml-auto mt-auto mb-auto"},[t._v(" "+t._s(a.collateral.toLocaleString())+" Flux ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.timestamp).toLocaleString(t.timeoptions),expression:"new Date(stake.timestamp * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto"},[t._v(" Start Date: "+t._s(new Date(1e3*a.timestamp).toLocaleDateString())+" ")]),e("h5",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:new Date(1e3*a.expiry).toLocaleString(t.timeoptions),expression:"new Date(stake.expiry * 1000).toLocaleString(timeoptions)",modifiers:{hover:!0,top:!0}}],staticClass:"mr-auto ml-auto"},[t._v(" End Date: "+t._s(new Date(1e3*a.expiry).toLocaleDateString())+" ")])]),e("div",{staticClass:"d-flex flex-column seat-column col"},[e("h4",{staticClass:"mr-auto ml-auto"},[t._v(" Paid: "+t._s(5===a.state?t.toFixedLocaleString(a.paid-a.collateral,2):t.toFixedLocaleString(a.paid,2))+" Flux ")]),e("h5",{staticClass:"mr-auto ml-auto"},[t._v(" Pending: "+t._s(t.toFixedLocaleString(a.reward,2))+" Flux ")])]),e("div",{staticClass:"d-flex"},[e("b-button",{staticClass:"float-right mt-1 mb-1",staticStyle:{width:"100px"},attrs:{variant:a.state>=5?"outline-secondary":"danger",size:"sm",disabled:a.state>=5||t.totalReward>=t.totalCollateral-t.titanStats.total,pill:""},on:{click:function(e){return t.showReinvestDialog(a)}}},[t._v(" "+t._s(a.state>=5?"Complete":"Reinvest")+" ")])],1)],1)])],1)})),1)]):t._e(),e("b-tab",{attrs:{title:"Payments"}},[e("ul",{staticClass:"marketplace-media-list"},[e("b-table",{staticClass:"payments-table",attrs:{striped:"",hover:"",responsive:"",items:t.myPayments,fields:t.paymentFields,"show-empty":"","empty-text":"No Payments"},scopedSlots:t._u([{key:"cell(timestamp)",fn:function(e){return[t._v(" "+t._s(new Date(e.item.timestamp).toLocaleString(t.timeoptions))+" ")]}},{key:"cell(total)",fn:function(a){return[e("p",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",value:`Amount = ${t.toFixedLocaleString(a.item.total,2)} Flux - ${a.item.fee} Flux redeem fee`,expression:"`Amount = ${toFixedLocaleString(data.item.total, 2)} Flux - ${data.item.fee} Flux redeem fee`",modifiers:{hover:!0,right:!0}}],staticStyle:{"margin-bottom":"0"}},[t._v(" "+t._s(t.toFixedLocaleString(a.item.total-a.item.fee,2))+" Flux ")])]}},{key:"cell(address)",fn:function(a){return[e("a",{attrs:{href:`https://explorer.runonflux.io/address/${a.item.address}`,target:"_blank",rel:"noopener noreferrer"}},[t._v(" "+t._s(a.item.address)+" ")])]}},{key:"cell(txid)",fn:function(a){return[a.item.txid?e("a",{attrs:{href:`https://explorer.runonflux.io/tx/${a.item.txid}`,target:"_blank",rel:"noopener noreferrer"}},[t._v(" View on Explorer ")]):e("h5",[t._v(" "+t._s(a.item.state||"Processing")+" ")])]}}])})],1)])],1)],1)],1)],1),e("b-col",{staticClass:"d-xxl-flex d-xl-none d-lg-none d-md-none d-sm-none",attrs:{xxl:"3"}},[e("b-card",{staticClass:"flex-grow-1",attrs:{"no-body":""}},[e("b-card-title",{staticClass:"stakes-title"},[t._v(" Redeem Flux ")]),e("b-card-body",[e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Paid: ")]),e("h4",[t._v(" "+t._s(t.calculatePaidRewards())+" Flux ")])]),e("div",{staticClass:"d-flex flex-row"},[e("h5",{staticClass:"flex-grow-1"},[t._v(" Available: ")]),e("h4",[t._v(" "+t._s(t.toFixedLocaleString(t.totalReward,2))+" Flux ")])]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:t.totalReward<=(t.titanConfig?t.titanConfig.minimumRedeem:50)?`Available balance is less than the minimum redeem amount (${t.titanConfig?t.titanConfig.minimumRedeem:50} Flux)`:"",expression:"totalReward <= (titanConfig ? titanConfig.minimumRedeem : 50) ? `Available balance is less than the minimum redeem amount (${(titanConfig ? titanConfig.minimumRedeem : 50)} Flux)` : ''",modifiers:{hover:!0,bottom:!0}}],staticClass:"float-right",staticStyle:{display:"inline-block"}},[t.totalReward>t.minStakeAmount?e("b-button",{staticClass:"mt-2 mr-1",attrs:{disabled:t.totalReward>=t.totalCollateral-t.titanStats.total,variant:"danger",size:"sm",pill:""},on:{click:function(e){return t.showStakeDialog(!0)}}},[t._v(" Re-invest Funds ")]):t._e(),e("b-button",{staticClass:"float-right mt-2",attrs:{id:"redeemButton",variant:"danger",size:"sm",pill:"",disabled:t.totalReward<=(t.titanConfig?t.titanConfig.redeemFee:0)||t.totalReward<=(t.titanConfig?t.titanConfig.minimumRedeem:50)},on:{click:function(e){return t.showRedeemDialog()}}},[t._v(" Redeem ")])],1)])],1)],1)],1):e("b-card",{attrs:{title:"My Active Flux"}},[e("h5",[t._v(" Please login using your Flux ID to view your active Flux ")])])],1)],1),e("b-modal",{attrs:{title:"Titan Nodes",size:"lg",centered:"","button-size":"sm","ok-only":""},on:{ok:()=>t.nodeModalShowing=!1},model:{value:t.nodeModalShowing,callback:function(e){t.nodeModalShowing=e},expression:"nodeModalShowing"}},t._l(t.nodes,(function(a){return e("b-card",{key:a.uuid,attrs:{title:a.name}},[e("b-row",[e("b-col",[e("h5",[t._v(" Location: "+t._s(a.location)+" ")])]),e("b-col",[e("h5",[t._v(" Collateral: "+t._s(t.toFixedLocaleString(a.collateral,0))+" ")])])],1),e("b-row",[e("b-col",[e("h5",[t._v(" Created: "+t._s(new Date(a.created).toLocaleDateString())+" ")])]),e("b-col",[e("b-button",{attrs:{pill:"",size:"sm",variant:"primary"},on:{click:function(e){return t.visitNode(a)}}},[t._v(" Visit ")])],1)],1)],1)})),1),e("b-modal",{attrs:{title:"Lockup APR",size:"md",centered:"","button-size":"sm","ok-only":""},on:{ok:()=>t.aprModalShowing=!1},model:{value:t.aprModalShowing,callback:function(e){t.aprModalShowing=e},expression:"aprModalShowing"}},[e("b-card",{attrs:{title:"APR Calculations"}},[e("p",{staticClass:"text-center"},[t._v(" The APR for a Titan Shared Nodes lockup is dependent on the number of active Stratus nodes on the Flux network and the current block reward. ")]),e("p",{staticClass:"text-center"},[t._v(" APR is calculated using this basic formula: ")]),e("p",{staticClass:"text-center"},[t._v(" Per block reward (11.25) x Blocks per day (720) x 365 /"),e("br"),t._v("  (Number of Stratus nodes * 40,000) ")]),e("p",{staticClass:"text-center"},[e("br"),e("b-avatar",{attrs:{size:"24",variant:"warning",button:""}},[e("v-icon",{attrs:{scale:"0.9",name:"info"}})],1),t._v(" APR does not mean the actual or predicted returns in fiat currency or Flux. ")],1)])],1),e("b-modal",{attrs:{title:"Redeem Rewards",size:"lg",centered:"","button-size":"sm","ok-only":"","no-close-on-backdrop":"","no-close-on-esc":"","ok-title":"Cancel"},on:{ok:function(e){t.redeemModalShowing=!1,t.getMyPayments(!0)}},model:{value:t.redeemModalShowing,callback:function(e){t.redeemModalShowing=e},expression:"redeemModalShowing"}},[e("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){return t.confirmRedeemDialogFinish()}}},[e("tab-content",{attrs:{title:"Redeem Amount"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Redeem Amount"}},[e("h4",[t._v(" Available: "+t._s(t.toFixedLocaleString(t.totalReward,2))+" Flux ")]),e("h4",{staticStyle:{"margin-top":"10px"}},[t._v(" You will receive ")]),e("h3",[t._v(" "+t._s(t.toFixedLocaleString(t.totalReward-t.calculateRedeemFee(),2))+" Flux ")]),e("h6",[t._v(" ("),e("span",{staticClass:"text-warning"},[t._v("Redeem Fee:")]),t.titanConfig&&t.titanConfig.maxRedeemFee?e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${t.titanConfig.redeemFee}% of your rewards, capped at ${t.titanConfig.maxRedeemFee} Flux`,expression:"`Fee of ${titanConfig.redeemFee}% of your rewards, capped at ${titanConfig.maxRedeemFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[t._v(" "+t._s(t.toFixedLocaleString(t.calculateRedeemFee(),8))+" Flux ")]):e("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.titanConfig?t.titanConfig.redeemFee:"...")+" Flux ")]),t._v(") ")])])],1),e("tab-content",{attrs:{title:"Redeem Address","before-change":()=>t.checkRedeemAddress()}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Choose Redeem Address"}},[e("b-form-select",{attrs:{options:t.redeemAddresses,disabled:t.sendingRequest||t.requestSent||t.requestFailed},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v(" -- Please select an address -- ")])]},proxy:!0}]),model:{value:t.redeemAddress,callback:function(e){t.redeemAddress=e},expression:"redeemAddress"}})],1)],1),e("tab-content",{attrs:{title:"Sign Request","before-change":()=>null!==t.signature}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign Redeem Request with Zelcore"}},[e("a",{attrs:{href:t.sendingRequest||t.requestSent||t.requestFailed?"#":`zel:?action=sign&message=${t.dataToSign}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${t.callbackValue()}`},on:{click:t.initiateSignWS}},[e("img",{staticClass:"zelidLogin mb-2",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),e("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-form-input",{attrs:{id:"signature",disabled:t.sendingRequest||t.requestSent||t.requestFailed},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)],1),e("tab-content",{attrs:{title:"Request Redeem","before-change":()=>!0===t.requestSent}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Submit Redeem Request"}},[e("div",{staticClass:"mt-3 mb-auto"},[e("b-button",{attrs:{size:"lg",disabled:t.sendingRequest||t.requestSent,variant:"warning"},on:{click:t.requestRedeem}},[t._v(" Submit Request ")]),t.requestSent?e("h4",{staticClass:"mt-3 text-success"},[t._v(" Redeem request has been received and will be processed within 24 hours ")]):t._e(),t.requestFailed?e("h4",{staticClass:"mt-3 text-danger"},[t._v(" Redeem request failed ")]):t._e()],1)])],1)],1)],1),e("b-modal",{attrs:{title:"Pending Payment",size:"md",centered:"","button-size":"sm","ok-only":"","ok-title":"OK"},on:{ok:function(e){t.paymentDetailsDialogShowing=!1}},model:{value:t.paymentDetailsDialogShowing,callback:function(e){t.paymentDetailsDialogShowing=e},expression:"paymentDetailsDialogShowing"}},[t.selectedStake?e("b-card",{staticClass:"text-center payment-details-card",attrs:{title:"Send Funds"}},[e("b-card-text",[t._v(" To complete activation, send "),e("span",{staticClass:"text-success"},[t._v(t._s(t.toFixedLocaleString(t.selectedStake.collateral)))]),t._v(" FLUX to address"),e("br"),e("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning mt-1",staticStyle:{width:"25rem"}},[t._v(" "+t._s(t.titanConfig.fundingAddress)+" ")]),t._v(" with the following message"),e("br"),e("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning mt-1",staticStyle:{width:"25rem"}},[t._v(" "+t._s(t.selectedStake.signatureHash)+" ")]),e("div",{staticClass:"d-flex flex-row mt-2"},[e("h3",{staticClass:"col text-center mt-2"},[t._v(" Pay with"),e("br"),t._v("Zelcore ")]),e("a",{staticClass:"col",attrs:{href:`zel:?action=pay&coin=zelcash&address=${t.titanConfig.fundingAddress}&amount=${t.selectedStake.collateral}&message=${t.selectedStake.signatureHash}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`}},[e("img",{staticClass:"zelidLogin",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})])]),e("h5",{staticClass:"mt-1"},[t._v(" This activation will expire if the transaction is not on the blockchain before "),e("span",{staticClass:"text-danger"},[t._v(t._s(new Date(1e3*t.selectedStake.expiry).toLocaleString()))])])])],1):t._e()],1),e("b-modal",{attrs:{title:"Cancel Activation?",size:"sm",centered:"","button-size":"sm","ok-title":"Yes","cancel-title":"No"},on:{ok:function(e){t.confirmStakeDialogCloseShowing=!1,t.stakeModalShowing=!1}},model:{value:t.confirmStakeDialogCloseShowing,callback:function(e){t.confirmStakeDialogCloseShowing=e},expression:"confirmStakeDialogCloseShowing"}},[e("h3",{staticClass:"text-center"},[t._v(" Are you sure you want to cancel activating with Titan? ")])]),e("b-modal",{attrs:{title:"Finish Activation?",size:"sm",centered:"","button-size":"sm","ok-title":"Yes","cancel-title":"No"},on:{ok:function(e){t.confirmStakeDialogFinishShowing=!1,t.stakeModalShowing=!1}},model:{value:t.confirmStakeDialogFinishShowing,callback:function(e){t.confirmStakeDialogFinishShowing=e},expression:"confirmStakeDialogFinishShowing"}},[e("h3",{staticClass:"text-center"},[t._v(" Please ensure that you have sent payment for your activation, or saved the payment details for later. ")]),e("br"),e("h4",{staticClass:"text-center"},[t._v(" Close the dialog? ")])]),e("b-modal",{attrs:{title:"Re-invest Expired",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:function(e){t.reinvestModalShowing=!1}},model:{value:t.reinvestModalShowing,callback:function(e){t.reinvestModalShowing=e},expression:"reinvestModalShowing"}},[e("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){return t.reinvestDialogFinish()}}},[e("tab-content",{attrs:{title:"Update"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Update"}},[t.selectedStake?e("div",{staticClass:"d-flex flex-column"},[e("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.selectedStake.autoreinvest,callback:function(e){t.$set(t.selectedStake,"autoreinvest",e)},expression:"selectedStake.autoreinvest"}},[t._v(" Auto-reinvest this Flux after expiry ")]),t.titanConfig&&t.titanConfig.reinvestFee>0&&t.titanConfig.maxReinvestFee?e("div",{staticClass:"mt-2"},[e("h6",[e("span",{staticClass:"text-warning"},[t._v("Re-invest Fee:")]),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${t.titanConfig.reinvestFee}% of your rewards, capped at ${t.titanConfig.maxReinvestFee} Flux`,expression:"`Fee of ${titanConfig.reinvestFee}% of your rewards, capped at ${titanConfig.maxReinvestFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[t._v(" "+t._s(t.toFixedLocaleString(t.calculateReinvestFee(),8))+" Flux ")])])]):t._e()],1):t._e()])],1),e("tab-content",{attrs:{title:"Choose Duration","before-change":()=>t.checkReinvestDuration()}},[t.titanConfig?e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Select Lockup Period"}},t._l(t.titanConfig.lockups,(function(a,s){return e("div",{key:a.time,staticClass:"mb-1"},[e("div",{staticClass:"ml-auto mr-auto"},[e("b-button",{class:s===t.selectedLockupIndex?"selectedLockupButton":"unselectedLockupButton",style:`background-color: ${t.indexedTierColors[s]} !important;`,attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},on:{click:function(e){return t.selectLockup(s)}}},[t._v(" "+t._s(a.name)+" - ~"+t._s((100*a.apr).toFixed(2))+"% ")])],1)])})),0):t._e()],1),e("tab-content",{attrs:{title:"Signing","before-change":()=>null!==t.signature}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Zelcore"}},[e("a",{attrs:{href:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed?"#":`zel:?action=sign&message=${t.dataToSign}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${t.callbackValue()}`},on:{click:t.initiateSignWS}},[e("img",{staticClass:"zelidLogin mb-2",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),e("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-form-input",{attrs:{id:"signature",disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)],1),e("tab-content",{attrs:{title:"Re-invest Flux","before-change":()=>!0===t.stakeRegistered}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Re-invest Stake with Titan"}},[e("div",{staticClass:"mt-3 mb-auto"},[e("b-button",{attrs:{size:"lg",disabled:t.registeringStake||t.stakeRegistered,variant:"success"},on:{click:t.reinvestStake}},[t._v(" Re-invest Flux ")]),t.stakeRegistered?e("h4",{staticClass:"mt-3 text-success"},[t._v(" Registration received ")]):t._e(),t.stakeRegisterFailed?e("h4",{staticClass:"mt-3 text-danger"},[t._v(" Registration failed ")]):t._e()],1)])],1)],1)],1),e("b-modal",{attrs:{title:"Active Flux Details",size:"sm",centered:"","button-size":"sm","cancel-title":"Close","ok-title":"Edit"},on:{ok:t.editActiveStake},model:{value:t.activeStakeInfoModalShowing,callback:function(e){t.activeStakeInfoModalShowing=e},expression:"activeStakeInfoModalShowing"}},[t.selectedStake?e("b-card",[e("div",{staticClass:"d-flex"},[e("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:""},model:{value:t.selectedStake.autoreinvest,callback:function(e){t.$set(t.selectedStake,"autoreinvest",e)},expression:"selectedStake.autoreinvest"}},[t._v(" Auto-reinvest this Flux after expiry ")])],1)]):t._e()],1),e("b-modal",{attrs:{title:"Edit Active Flux",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:function(e){t.editStakeModalShowing=!1}},model:{value:t.editStakeModalShowing,callback:function(e){t.editStakeModalShowing=e},expression:"editStakeModalShowing"}},[e("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){t.editStakeModalShowing=!1,t.getMyStakes(!0)}}},[e("tab-content",{attrs:{title:"Update"}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Update"}},[t.selectedStake?e("div",{staticClass:"d-flex"},[e("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.selectedStake.autoreinvest,callback:function(e){t.$set(t.selectedStake,"autoreinvest",e)},expression:"selectedStake.autoreinvest"}},[t._v(" Auto-reinvest this Flux after expiry ")])],1):t._e()])],1),e("tab-content",{attrs:{title:"Signing","before-change":()=>null!==t.signature}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Zelcore"}},[e("a",{attrs:{href:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed?"#":`zel:?action=sign&message=${t.dataToSign}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${t.callbackValue()}`},on:{click:t.initiateSignWS}},[e("img",{staticClass:"zelidLogin mb-2",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),e("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-form-input",{attrs:{id:"signature",disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)],1),e("tab-content",{attrs:{title:"Send to Titan","before-change":()=>!0===t.stakeRegistered}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send to Titan"}},[e("div",{staticClass:"mt-3 mb-auto"},[e("b-button",{attrs:{size:"lg",disabled:t.registeringStake||t.stakeRegistered,variant:"success"},on:{click:t.sendModifiedStake}},[t._v(" Send ")]),t.stakeRegistered?e("h4",{staticClass:"mt-3 text-success"},[t._v(" Edits received by Titan ")]):t._e(),t.stakeRegisterFailed?e("h4",{staticClass:"mt-3 text-danger"},[t._v(" Editing failed ")]):t._e()],1)])],1)],1)],1),e("b-modal",{attrs:{title:"Activate Titan",size:"lg",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","button-size":"sm","ok-only":"","ok-title":"Cancel"},on:{ok:t.confirmStakeDialogCancel},model:{value:t.stakeModalShowing,callback:function(e){t.stakeModalShowing=e},expression:"stakeModalShowing"}},[e("form-wizard",{staticClass:"wizard-vertical mb-3",attrs:{color:t.tierColors.cumulus,title:null,subtitle:null,layout:"vertical","back-button-text":"Previous"},on:{"on-complete":function(e){return t.confirmStakeDialogFinish()}}},[e("tab-content",{attrs:{title:"Flux Amount"}},[t.reinvestingNewStake?e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Re-investing Funds"}},[e("div",[e("h5",{staticClass:"mt-3"},[t._v(" A new Titan slot will be created using your available rewards: ")]),e("h2",{staticClass:"mt-3"},[t._v(" "+t._s(t.toFixedLocaleString(t.totalReward,2))+" Flux ")]),t.titanConfig&&t.titanConfig.reinvestFee>0&&t.titanConfig.maxReinvestFee?e("div",{staticClass:"mt-2"},[e("h6",[e("span",{staticClass:"text-warning"},[t._v("Re-invest Fee:")]),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:`Fee of ${t.titanConfig.reinvestFee}% of your rewards, capped at ${t.titanConfig.maxReinvestFee} Flux`,expression:"`Fee of ${titanConfig.reinvestFee}% of your rewards, capped at ${titanConfig.maxReinvestFee} Flux`",modifiers:{hover:!0,bottom:!0}}],staticClass:"text-danger"},[t._v(" "+t._s(t.toFixedLocaleString(t.calculateNewStakeReinvestFee(),8))+" Flux ")])])]):t._e()])]):e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Choose Flux Amount"}},[e("div",[e("h3",{staticClass:"float-left"},[t._v(" "+t._s(t.toFixedLocaleString(t.minStakeAmount))+" ")]),e("h3",{staticClass:"float-right"},[t._v(" "+t._s(t.toFixedLocaleString(t.maxStakeAmount))+" ")])]),e("b-form-input",{attrs:{id:"stakeamount",type:"range",min:t.minStakeAmount,max:t.maxStakeAmount,step:"5",number:"",disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.stakeAmount,callback:function(e){t.stakeAmount=e},expression:"stakeAmount"}}),e("b-form-spinbutton",{staticClass:"stakeAmountSpinner",attrs:{id:"stakeamount-spnner",min:t.minStakeAmount,max:t.maxStakeAmount,size:"lg","formatter-fn":t.toFixedLocaleString,disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.stakeAmount,callback:function(e){t.stakeAmount=e},expression:"stakeAmount"}})],1)],1),e("tab-content",{attrs:{title:"Choose Duration","before-change":()=>t.checkDuration()}},[t.titanConfig?e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Select Lockup Period"}},[t._l(t.titanConfig.lockups,(function(a,s){return e("div",{key:a.time,staticClass:"mb-1"},[e("div",{staticClass:"ml-auto mr-auto"},[e("b-button",{class:(s===t.selectedLockupIndex?"selectedLockupButton":"unselectedLockupButton")+(t.reinvestingNewStake?"Small":""),style:`background-color: ${t.indexedTierColors[s]} !important;`,attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},on:{click:function(e){return t.selectLockup(s)}}},[t._v(" "+t._s(a.name)+" - ~"+t._s((100*a.apr).toFixed(2))+"% ")])],1)])})),e("div",{staticClass:"d-flex"},[e("b-form-checkbox",{staticClass:"ml-auto mr-auto",staticStyle:{float:"left"},attrs:{disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.autoReinvestStake,callback:function(e){t.autoReinvestStake=e},expression:"autoReinvestStake"}},[t._v(" Auto-reinvest this Flux after expiry ")])],1)],2):t._e()],1),e("tab-content",{attrs:{title:"Signing","before-change":()=>null!==t.signature}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Sign with Zelcore"}},[e("a",{attrs:{href:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed?"#":`zel:?action=sign&message=${t.dataToSign}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2FzelID.svg&callback=${t.callbackValue()}`},on:{click:t.initiateSignWS}},[e("img",{staticClass:"zelidLogin mb-2",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})]),e("b-form-input",{staticClass:"mb-1",attrs:{id:"data",disabled:!0},model:{value:t.dataToSign,callback:function(e){t.dataToSign=e},expression:"dataToSign"}}),e("b-form-input",{attrs:{id:"signature",disabled:t.stakeRegistered||t.registeringStake||t.stakeRegisterFailed},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)],1),e("tab-content",{attrs:{title:"Register with Titan","before-change":()=>!0===t.stakeRegistered}},[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Register with Titan"}},[e("div",{staticClass:"mt-3 mb-auto"},[e("h5",[e("span",{staticClass:"text-danger"},[t._v("IMPORTANT:")]),t._v(" Your funds will be locked until ")]),e("h5",[e("span",{staticClass:"text-warning"},[t._v(t._s(new Date(Date.now()+1e3*t.getLockupDuration()).toLocaleString()))])]),e("h5",{staticClass:"mb-2"},[t._v(" You will not be able to withdraw your Flux until the time has passed. ")]),e("b-button",{attrs:{size:"lg",disabled:t.registeringStake||t.stakeRegistered,variant:"success"},on:{click:t.registerStake}},[t._v(" Register with Titan ")]),t.stakeRegistered?e("h4",{staticClass:"mt-3 text-success"},[t._v(" Registration received ")]):t._e(),t.stakeRegisterFailed?e("h4",{staticClass:"mt-3 text-danger"},[t._v(" Registration failed ")]):t._e()],1)])],1),t.reinvestingNewStake?t._e():e("tab-content",{attrs:{title:"Send Funds"}},[t.titanConfig&&t.signatureHash?e("div",[e("b-card",{staticClass:"text-center wizard-card",attrs:{title:"Send Funds"}},[e("b-card-text",[t._v(" To finish activation, make a transaction of "),e("span",{staticClass:"text-success"},[t._v(t._s(t.toFixedLocaleString(t.stakeAmount)))]),t._v(" FLUX to address"),e("br"),e("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning",staticStyle:{width:"25rem"}},[t._v(" "+t._s(t.titanConfig.fundingAddress)+" ")]),t._v(" with the following message"),e("br")]),e("h5",{staticClass:"text-wrap ml-auto mr-auto text-warning",staticStyle:{width:"25rem"}},[t._v(" "+t._s(t.signatureHash)+" ")]),e("div",{staticClass:"d-flex flex-row mt-2"},[e("h3",{staticClass:"col text-center mt-2"},[t._v(" Pay with"),e("br"),t._v("Zelcore ")]),e("a",{staticClass:"col",attrs:{href:`zel:?action=pay&coin=zelcash&address=${t.titanConfig.fundingAddress}&amount=${t.stakeAmount}&message=${t.signatureHash}&icon=https%3A%2F%2Fraw.githubusercontent.com%2Frunonflux%2Fflux%2Fmaster%2Fflux_banner.png`}},[e("img",{staticClass:"zelidLogin",attrs:{src:a(96358),alt:"Flux ID",height:"100%",width:"100%"}})])])],1)],1):t._e()])],1)],1)],1)},kt=[],_t=a(19279),Ft=a(49379),zt=a(19692),Rt=a(44390),Pt=a(66126),Tt=a(1759),Dt=a(16521),At=a(87066),It=a(51136);const $t=a(80129),Lt=a(58971),Zt=a(63005),Mt={components:{BAvatar:m.SH,BButton:z.T,BCard:R._,BCardBody:_t.O,BCardText:T.j,BCardTitle:Ft._,BCol:D.l,BFormCheckbox:zt.l,BFormInput:o.e,BFormSelect:M.K,BFormSelectOption:B.c,BFormSpinbutton:Rt.G,BMedia:d.P,BMediaBody:u.D,BModal:I.N,BOverlay:Pt.X,BRow:$.T,BSpinner:Tt.X,BTabs:L.M,BTab:Z.L,BTable:Dt.h,FormWizard:q.FormWizard,TabContent:q.TabContent,ToastificationContent:w.Z,VuePerfectScrollbar:S()},directives:{Ripple:b.Z,"b-modal":N.T,"b-toggle":O.M,"b-tooltip":j.o},props:{zelid:{type:String,required:!1,default:""}},setup(t){const e=(0,g.getCurrentInstance)().proxy,a=(0,x.useToast)(),s=(t,e,s="InfoIcon")=>{a({component:w.Z,props:{title:e,icon:s,variant:t},position:"bottom-right"})},i=(0,g.ref)("");i.value=t.tier;const o=(0,g.ref)("");o.value=t.zelid;const r="https://api.titan.runonflux.io",n=(0,g.ref)(0),l=(0,g.ref)(0),c=(0,g.ref)(50),d=(0,g.ref)(50),u=(0,g.ref)(1e3),p=(0,g.ref)(0),m=(0,g.ref)(null),v=(0,g.ref)(null),f=(0,g.ref)(null),h=(0,g.ref)(null),b=(0,g.ref)(null),y=(0,g.ref)(!1),S=(0,g.ref)(!1),C=(0,g.ref)(!1),k=(0,g.computed)((()=>e.$store.state.flux.config)),_=(0,g.ref)(null),F=(0,g.ref)(!0),z=(0,g.ref)(!1),R=(0,g.ref)(!0),P=(0,g.ref)("Too much Flux has registered with Titan, please wait for more Nodes to be made available"),T=(0,g.ref)(0),D=(0,g.ref)(null),A=(0,g.ref)(null),I=(0,g.ref)(!1),$=(0,g.ref)(!1),L=(0,g.ref)(!1),Z=(0,g.ref)([G.Z.cumulus,G.Z.nimbus,G.Z.stratus]),M=()=>{const{protocol:t,hostname:a}=window.location;let s="";s+=t,s+="//";const i=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),i=+e[0]+1;e[0]=i.toString(),e[2]="api",t[4]="",s+=t.join("-"),s+=e.join(".")}else if(a.match(i)){const t=a.split(".");t[0]="api",s+=t.join(".")}else"string"===typeof a&&e.$store.commit("flux/setUserIp",a),s+=a,s+=":",s+=k.value.apiPort;const o=Lt.get("backendURL")||s;return o},B=()=>{const t=M(),e=`${t}/id/providesign`;return encodeURI(e)},E=t=>{console.log(t)},N=t=>{const e=$t.parse(t.data);"success"===e.status&&e.data&&(v.value=e.data.signature),console.log(e),console.log(t)},O=t=>{console.log(t)},j=t=>{console.log(t)},q=()=>{if(y.value||C.value||S.value)return;const{protocol:t,hostname:a}=window.location;let s="";s+=t,s+="//";const i=/[A-Za-z]/g;if(a.split("-")[4]){const t=a.split("-"),e=t[4].split("."),i=+e[0]+1;e[0]=i.toString(),e[2]="api",t[4]="",s+=t.join("-"),s+=e.join(".")}else if(a.match(i)){const t=a.split(".");t[0]="api",s+=t.join(".")}else"string"===typeof a&&e.$store.commit("flux/setUserIp",a),s+=a,s+=":",s+=k.value.apiPort;let r=Lt.get("backendURL")||s;r=r.replace("https://","wss://"),r=r.replace("http://","ws://");const n=o.value+h.value;console.log(`signatureMessage: ${n}`);const l=`${r}/ws/sign/${n}`;console.log(l);const c=new WebSocket(l);b.value=c,c.onopen=t=>{j(t)},c.onclose=t=>{O(t)},c.onmessage=t=>{N(t)},c.onerror=t=>{E(t)}},V=(0,g.ref)(!1),U=(0,g.ref)(!1),W=(0,g.ref)(!1),Y=(0,g.ref)(!1),H=(0,g.ref)(!1),J=(0,g.ref)(!1),K=(0,g.ref)(!1),X=(0,g.ref)(!1),Q=(0,g.ref)(!1),tt=(0,g.ref)(!1),et={maxScrollbarLength:150},at=(0,g.ref)([]),st=(0,g.ref)(0),it=(0,g.ref)([]),ot=(0,g.ref)([]),rt=(0,g.ref)([]),nt=(0,g.ref)([{key:"timestamp",label:"Date"},{key:"total",label:"Amount"},{key:"address",label:"Address"},{key:"txid",label:"Transaction"}]),lt=(0,g.ref)(),ct=(0,g.ref)(),dt=(0,g.ref)(0),ut=(0,g.ref)(0),pt=async()=>{const t=await At.Z.get(`${r}/registermessage`);m.value=t.data,h.value=t.data.substring(t.data.length-13)},mt=async()=>{const t=await At.Z.get(`${r}/redeemmessage`);m.value=t.data,h.value=t.data.substring(t.data.length-13)},gt=async()=>{const t=await At.Z.get(`${r}/modifymessage`);m.value=t.data,h.value=t.data.substring(t.data.length-13)},vt=async()=>!!D.value&&(await mt(),!0),ft=async()=>{const t=await At.Z.get(`${r}/stats`);ct.value=t.data,R.value=st.value<=ct.value.total+lt.value.minStake},ht=(t,e,a,s)=>{const i=e*(100-t.fee)/100,o=720,r=o/s,n=30*r*i,l=n/a,c=12*l,d=(1+c/12)**12-1;return d},bt=t=>{if(0===at.value.length)return 0;const e=ht(t,11.25,4e4,dt.value),a=ht(t,4.6875,12500,ut.value),s=at.value.reduce(((t,e)=>t+(4e4===e.collateral?1:0)),0),i=at.value.reduce(((t,e)=>t+(12500===e.collateral?1:0)),0);return(e*s+a*i)/(s+i)},xt=async()=>{const t=await At.Z.get(`${r}/nodes`),e=[];st.value=0,t.data.forEach((t=>{const a=t;e.push(a),st.value+=a.collateral})),at.value=e.sort(((t,e)=>t.name.toLowerCase()>e.name.toLowerCase()?1:-1)),lt.value.lockups.forEach((t=>{t.apr=bt(t)}))},wt=async(t=!1)=>{try{if(o.value.length>0){const e=await At.Z.get(`${r}/stakes/${o.value}${t?`?timestamp=${Date.now()}`:""}`);if(e.data&&"error"===e.data.status)return;const a=[],s=[],i=Date.now()/1e3;n.value=0,l.value=0,console.log(e.data),e.data.forEach((t=>{t.expiry<i?t.state>=4&&(s.push(t),4===t.state&&(l.value+=t.reward-t.collateral)):(a.push(t),l.value+=t.reward),n.value+=t.reward})),it.value=a,ot.value=s}}catch(e){s("danger",e.message||e),console.log(e)}},yt=async(t=!1)=>{if(o.value.length>0){const e=await At.Z.get(`${r}/payments/${o.value}${t?`?timestamp=${Date.now()}`:""}`);rt.value=e.data}},St=async()=>{const t=await It.Z.fluxnodeCount();if("error"===t.data.status)return s({component:w.Z,props:{title:t.data.data.message||t.data.data,icon:"InfoIcon",variant:"danger"}}),0;const e=t.data.data;return e},Ct=()=>!(!lt.value||!lt.value.maintenanceMode),kt=async()=>{try{const t=await St();dt.value=t["stratus-enabled"],ut.value=t["nimbus-enabled"];const e=await At.Z.get(`${r}/config`);lt.value=e.data,lt.value.lockups.sort(((t,e)=>t.blocks-e.blocks)),lt.value.lockups.forEach((t=>{t.apr=bt(t)})),e.data.minStake>0&&(d.value=e.data.minStake),e.data.maxStake>0&&(u.value=e.data.maxStake),await xt(),await ft(),wt(),yt(),st.value-ct.value.total<u.value&&(u.value=st.value-ct.value.total)}catch(t){s("danger",t.message||t)}};kt(),setInterval((()=>{kt()}),12e4);const _t=(t=!1)=>{lt.value&&lt.value.maintenanceMode||(z.value=t,V.value=!0,y.value=!1,S.value=!1,C.value=!1,c.value=d.value,p.value=0,v.value=null,f.value=null)},Ft=()=>{z.value?V.value=!1:W.value=!0,wt(!0)},zt=t=>{t.preventDefault(),U.value=!0},Rt=t=>{lt.value&&lt.value.maintenanceMode||(_.value=JSON.parse(JSON.stringify(t)),Q.value=!0)},Pt=async()=>{lt.value&&lt.value.maintenanceMode||(Q.value=!1,await gt(),y.value=!1,S.value=!1,C.value=!1,v.value=null,f.value=null,tt.value=!0)},Tt=async()=>{C.value=!0;const t=localStorage.getItem("zelidauth"),e={stake:_.value.uuid,timestamp:h.value,signature:v.value,data:m.value,autoreinvest:_.value.autoreinvest,reinvest:!1};s("info","Sending modifications to Titan...");const a={headers:{zelidauth:t,backend:M()}},i=await At.Z.post(`${r}/modifystake`,e,a).catch((t=>{console.log(t),S.value=!0,s("danger",t.message||t)}));console.log(i.data),i&&i.data&&"success"===i.data.status?(y.value=!0,s("success",i.data.message||i.data)):(S.value=!0,s("danger",(i.data.data?i.data.data.message:i.data.message)||i.data))},Dt=t=>{lt.value&&lt.value.maintenanceMode||(y.value=!1,S.value=!1,C.value=!1,p.value=0,v.value=null,f.value=null,_.value=JSON.parse(JSON.stringify(t)),gt(),X.value=!0)},Mt=()=>{wt(!0),X.value=!1},Bt=()=>{const t=_.value.reward-_.value.collateral;let e=t*(lt.value.reinvestFee/100);return e>lt.value.maxReinvestFee&&(e=lt.value.maxReinvestFee),e},Et=()=>{const t=l.value;let e=t*(lt.value.reinvestFee/100);return e>lt.value.maxReinvestFee&&(e=lt.value.maxReinvestFee),e},Nt=()=>{if(!lt.value)return 0;if(!lt.value.maxRedeemFee)return lt.value.redeemFee;const t=l.value;let e=t*(lt.value.redeemFee/100);return e>lt.value.maxRedeemFee&&(e=lt.value.maxRedeemFee),e},Ot=t=>{p.value=t},jt=()=>{lt.value&&lt.value.maintenanceMode||(H.value=!0)},qt=()=>{lt.value&&lt.value.maintenanceMode||(J.value=!0)},Vt=()=>{if(lt.value&&lt.value.maintenanceMode)return;const t=[];it.value.forEach((e=>{e.address&&!t.some((t=>t.text===e.address))&&t.push({value:e.uuid,text:e.address})})),ot.value.forEach((e=>{e.address&&!t.some((t=>t.text===e.address))&&t.push({value:e.uuid,text:e.address})})),T.value=lt.value.redeemFee,D.value=null,A.value=t,m.value=null,v.value=null,L.value=!1,I.value=!1,$.value=!1,K.value=!0},Ut=()=>{lt.value&&lt.value.maintenanceMode||(K.value=!1,wt(!0),yt(!0))},Wt=t=>{lt.value&&lt.value.maintenanceMode||(_.value=JSON.parse(JSON.stringify(t)),Y.value=!0)},Yt=async()=>{C.value=!0;const t=localStorage.getItem("zelidauth"),e={stake:_.value.uuid,timestamp:h.value,signature:v.value,data:m.value,autoreinvest:_.value.autoreinvest,reinvest:!0,lockup:lt.value.lockups[p.value]};s("info","Re-investing with Titan...");const a={headers:{zelidauth:t,backend:M()}},i=await At.Z.post(`${r}/modifystake`,e,a).catch((t=>{console.log(t),S.value=!0,s("danger",t.message||t)}));console.log(i.data),i&&i.data&&"success"===i.data.status?(y.value=!0,s("success",i.data.message||i.data)):(S.value=!0,s("danger",(i.data.data?i.data.data.message:i.data.message)||i.data))},Ht=async()=>{C.value=!0;const t=localStorage.getItem("zelidauth"),e={amount:z.value?0:c.value,lockup:lt.value.lockups[p.value],timestamp:h.value,signature:v.value,data:m.value,autoreinvest:F.value,stakefromrewards:z.value};s("info","Registering with Titan...");const a={headers:{zelidauth:t,backend:M()}},i=await At.Z.post(`${r}/register`,e,a).catch((t=>{console.log(t),S.value=!0,s("danger",t.message||t)}));console.log(i.data),i&&i.data&&"success"===i.data.status?(y.value=!0,f.value=i.data.hash,s("success",i.data.message||i.data)):(S.value=!0,s("danger",(i.data.data?i.data.data.message:i.data.message)||i.data))},Jt=(t,e=0)=>{const a=Math.floor(t*10**e)/10**e;return e<4?a.toLocaleString():`${a}`},Gt=async()=>{L.value=!0;const t=localStorage.getItem("zelidauth"),e={amount:n.value,stake:D.value,timestamp:h.value,signature:v.value,data:m.value};console.log(e),s("info","Sending redeem request to Titan...");const a={headers:{zelidauth:t,backend:M()}},i=await At.Z.post(`${r}/redeem`,e,a).catch((t=>{console.log(t),$.value=!0,s("danger",t.message||t)}));console.log(i.data),i&&i.data&&"success"===i.data.status?(I.value=!0,s("success",i.data.message||i.data),kt()):($.value=!0,s("danger",(i.data.data?i.data.data.message:i.data.message)||i.data))},Kt=t=>{const e=lt.value.lockups.find((e=>e.fee===t.fee));return e?t.collateral*e.apr/12:0},Xt=()=>{let t=it.value?it.value.reduce(((t,e)=>t+e.paid-(e.feePaid??0)),0):0;return t+=ot.value?ot.value.reduce(((t,e)=>t+e.paid-(e.feePaid??0)-(5===e.state?e.collateral:0)),0):0,Jt(t,2)},Qt=t=>{window.open(`http://${t.address}`,"_blank")},te=async()=>(await pt(),p.value>=0&&p.value<lt.value.lockups.length),ee=()=>lt.value?lt.value.lockups[p.value].time:0,ae=async()=>p.value>=0&&p.value<lt.value.lockups.length,se=()=>{console.log(T.value);const t=parseFloat(T.value);return console.log(t),console.log(n.value),t>lt.value.redeemFee&&t<=parseFloat(Jt(n.value,2))},ie=t=>`Send a payment of ${t.collateral} Flux to<br>${lt.value.nodeAddress}<br>with a message<br>${t.signatureHash}`;return{perfectScrollbarSettings:et,timeoptions:Zt,nodes:at,totalCollateral:st,myStakes:it,myExpiredStakes:ot,myPayments:rt,paymentFields:nt,totalReward:n,titanConfig:lt,titanStats:ct,tooMuchStaked:R,defaultStakeDisabledMessage:P,userZelid:o,signature:v,signatureHash:f,dataToSign:m,callbackValue:B,initiateSignWS:q,timestamp:h,getMyStakes:wt,getMyPayments:yt,calcAPR:bt,calcMonthlyReward:Kt,calculatePaidRewards:Xt,toFixedLocaleString:Jt,formatPaymentTooltip:ie,showNodeInfoDialog:jt,nodeModalShowing:H,visitNode:Qt,showAPRInfoDialog:qt,aprModalShowing:J,stakeModalShowing:V,showStakeDialog:_t,reinvestingNewStake:z,stakeAmount:c,minStakeAmount:d,maxStakeAmount:u,stakeRegistered:y,stakeRegisterFailed:S,selectedLockupIndex:p,selectLockup:Ot,autoReinvestStake:F,registeringStake:C,registerStake:Ht,checkDuration:te,getLockupDuration:ee,getRegistrationMessage:pt,confirmStakeDialogCancel:zt,confirmStakeDialogCloseShowing:U,confirmStakeDialogFinish:Ft,confirmStakeDialogFinishShowing:W,showActiveStakeInfoDialog:Rt,activeStakeInfoModalShowing:Q,editActiveStake:Pt,editStakeModalShowing:tt,sendModifiedStake:Tt,showReinvestDialog:Dt,getModifyMessage:gt,reinvestModalShowing:X,reinvestStake:Yt,checkReinvestDuration:ae,reinvestDialogFinish:Mt,calculateReinvestFee:Bt,calculateNewStakeReinvestFee:Et,showPaymentDetailsDialog:Wt,paymentDetailsDialogShowing:Y,selectedStake:_,showOverlay:Ct,showRedeemDialog:Vt,redeemModalShowing:K,redeemAmount:T,redeemAddress:D,redeemAddresses:A,redeemAmountState:se,getRedeemMessage:mt,checkRedeemAddress:vt,sendingRequest:L,requestSent:I,requestFailed:$,requestRedeem:Gt,confirmRedeemDialogFinish:Ut,calculateRedeemFee:Nt,tierColors:G.Z,indexedTierColors:Z}}},Bt=Mt;var Et=(0,wt.Z)(Bt,Ct,kt,!1,null,"7a37a067",null);const Nt=Et.exports;var Ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar-left"},[e("div",{staticClass:"sidebar"},[e("div",{staticClass:"sidebar-content marketplace-sidebar"},[e("div",{staticClass:"marketplace-app-menu"},[e("div",{staticClass:"add-task"}),e("vue-perfect-scrollbar",{staticClass:"sidebar-menu-list scroll-area",attrs:{settings:t.perfectScrollbarSettings}},[e("b-list-group",{staticClass:"list-group-filters"},t._l(t.taskFilters,(function(a){return e("b-list-group-item",{key:a.title+t.$route.path,attrs:{to:a.route,active:t.isDynamicRouteActive(a.route)},on:{click:function(e){t.$emit("close-app-view"),t.$emit("close-left-sidebar")}}},[e("v-icon",{staticClass:"mr-75 icon-spacing",attrs:{name:a.icon,scale:"1.55"}}),e("span",{staticClass:"line-height-2"},[t._v(t._s(a.title))])],1)})),1),e("hr"),e("b-list-group",{staticClass:"list-group-filters"},t._l(t.nodeActions,(function(a){return e("b-list-group-item",{key:a.title+t.$route.path,attrs:{to:a.route,active:t.isDynamicRouteActive(a.route),target:"_blank",rel:"noopener noreferrer"},on:{click:function(e){t.$emit("close-app-view"),t.$emit("close-left-sidebar"),t.$emit(a.event)}}},[e("v-icon",{staticClass:"mr-75 icon-spacing",attrs:{name:a.icon,scale:"1.55"}}),e("span",{staticClass:"line-height-2"},[t._v(t._s(a.title))])],1)})),1)],1)],1)])])])},jt=[],qt=a(70322),Vt=a(88367),Ut=a(82162);const Wt={directives:{Ripple:b.Z},components:{BListGroup:qt.N,BListGroupItem:Vt.f,VuePerfectScrollbar:S()},props:{zelid:{type:String,required:!1,default:""}},setup(t){const e={maxScrollbarLength:60},a=(0,g.ref)("");a.value=t.zelid;const s=[{title:"All Categories",icon:"inbox",route:{name:"apps-marketplace"}}];Ut.categories.forEach((t=>{s.push({title:t.name,icon:t.icon,route:{name:"apps-marketplace-filter",params:{filter:t.name.toLowerCase()}}})}));const i=[{title:"Shared Nodes",icon:"inbox",event:"open-shared-nodes",route:{name:"apps-marketplace-sharednodes"}}];return{perfectScrollbarSettings:e,taskFilters:s,nodeActions:i,isDynamicRouteActive:f._d}}},Yt=Wt;var Ht=(0,wt.Z)(Yt,Ot,jt,!1,null,null,null);const Jt=Ht.exports,Gt=a(80129),Kt=a(97218),Xt=a(63005),Qt={components:{BFormInput:o.e,BInputGroup:r.w,BInputGroupPrepend:n.P,BDropdown:l.R,BDropdownItem:c.E,BMedia:d.P,BMediaBody:u.D,BBadge:p.k,BAvatar:m.SH,AppView:St,SharedNodesView:Nt,CategorySidebar:Jt,VuePerfectScrollbar:S(),ToastificationContent:w.Z},directives:{Ripple:b.Z},setup(){const t=(0,g.ref)(null),e=(0,g.ref)(null),a=(0,g.ref)(""),{route:s,router:i}=(0,f.tv)(),o=(0,g.ref)(!1),r=(0,g.ref)(!1),n=(0,x.useToast)();(0,g.onBeforeMount)((()=>{const t=localStorage.getItem("zelidauth"),a=Gt.parse(t);e.value=a.zelid,r.value="/apps/shared-nodes"===s.value.path}));const l=t=>t.compose.reduce(((t,e)=>t+e.cpu),0),c=t=>t.compose.reduce(((t,e)=>t+e.ram),0),d=t=>t.compose.reduce(((t,e)=>t+e.hdd),0),u=t=>264e3===t.expire?"1 year":66e3===t.expire?"3 months":132e3===t.expire?"6 months":"1 month",{showDetailSidebar:p}=(0,h.w)(),m=(0,g.computed)((()=>s.value.query.sort)),b=(0,g.computed)((()=>s.value.query.q)),y=(0,g.computed)((()=>s.value.params)),S=(0,g.ref)([]),_=["latest","title-asc","title-desc","end-date","cpu","ram","hdd"],F=(0,g.ref)(m.value);(0,g.watch)(m,(t=>{_.includes(t),F.value=t}));const z=()=>{const t=JSON.parse(JSON.stringify(s.value.query));delete t.sort,i.replace({name:s.name,query:t}).catch((()=>{}))},R=(0,g.ref)({}),P=(t,e,a="InfoIcon")=>{n({component:w.Z,props:{title:e,icon:a,variant:t}})},T=t=>{const e=Ut.categories.filter((e=>e.name===t.name));return 0===e.length?Ut.defaultCategory.variant:e[0].variant},D=t=>{const e=Ut.categories.filter((e=>e.name===t.name));return 0===e.length?Ut.defaultCategory.variant:e[0].variant},A=t=>{const e=Ut.categories.filter((e=>e.name===t.name));return 0===e.length?Ut.defaultCategory.icon:e[0].icon},I=(0,g.ref)(b.value);(0,g.watch)(b,(t=>{I.value=t}));const $=t=>{const e=JSON.parse(JSON.stringify(s.value.query));t?e.q=t:delete e.q,i.replace({name:s.name,query:e})},L=t=>{const e=Ut.categories.find((e=>e.name===t));return e||Ut.defaultCategory},Z=async()=>{const t=await k.Z.getMarketPlaceURL();if("success"===t.data.status&&t.data.data){const e=await Kt.get(t.data.data);if(console.log(e),"success"===e.data.status){if(S.value=e.data.data.filter((t=>t.visible)),S.value.forEach((t=>{t.extraDetail=L(t.category)})),i.currentRoute.params.filter&&(S.value=S.value.filter((t=>t.extraDetail.name.toLowerCase()===i.currentRoute.params.filter.toLowerCase()))),I.value){const t=I.value.toLowerCase();S.value=S.value.filter((e=>!!e.name.toLowerCase().includes(t)||!!e.description.toLowerCase().includes(t)))}F.value&&S.value.sort(((t,e)=>"title-asc"===F.value?t.name.localeCompare(e.name):"title-desc"===F.value?e.name.localeCompare(t.name):"cpu"===F.value?l(t)-l(e):"ram"===F.value?c(t)-c(e):"hdd"===F.value?d(t)-d(e):"price"===F.value?t.price-e.price:0))}else P("danger",e.data.data.message||e.data.data)}else P("danger",t.data.data.message||t.data.data)};(0,g.watch)([I,F],(()=>Z())),(0,g.watch)(y,(()=>{Z()}));const M=async()=>{const t=await C.Z.getFluxNodeStatus();"success"===t.data.status&&(a.value=t.data.data.tier),Z()};M();const B=async t=>{R.value=t,o.value=!0,await(0,g.nextTick)(),window.scrollTo({top:0})},E={maxScrollbarLength:150};return{zelid:e,tier:a,appListRef:t,timeoptions:Xt,app:R,handleAppClick:B,updateRouteQuery:$,searchQuery:I,filteredApps:S,sortOptions:_,resetSortAndNavigate:z,perfectScrollbarSettings:E,resolveTagVariant:T,resolveAvatarVariant:D,resolveAvatarIcon:A,avatarText:v.k3,isAppViewActive:o,isSharedNodesViewActive:r,showDetailSidebar:p,resolveHdd:d,resolveCpu:l,resolveRam:c,adjustPeriod:u}}},te=Qt;var ee=(0,wt.Z)(te,s,i,!1,null,null,null);const ae=ee.exports},6044:(t,e,a)=>{"use strict";a.d(e,{w:()=>o});var s=a(20144),i=a(73507);const o=()=>{const t=(0,s.ref)(!1),e=(0,s.computed)((()=>i.Z.getters["app/currentBreakPoint"]));return(0,s.watch)(e,((e,a)=>{"md"===a&&"lg"===e&&(t.value=!1)})),{mqShallShowLeftSidebar:t}}},1923:(t,e,a)=>{"use strict";a.d(e,{k3:()=>s});a(70560),a(23646);const s=t=>{if(!t)return"";const e=t.split(" ");return e.map((t=>t.charAt(0).toUpperCase())).join("")}},72918:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});const s={cumulus:"#2B61D1",nimbus:"#ff9f43",stratus:"#ea5455"},i=s},63005:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const s={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},i={year:"numeric",month:"short",day:"numeric"},o={shortDate:s,date:i}},65864:(t,e,a)=>{"use strict";a.d(e,{M:()=>i,Z:()=>o});var s=a(87066);const i="https://fiatpaymentsbridge.runonflux.io";async function o(){try{const t=await s.Z.get(`${i}/api/v1/gateway/status`);return"success"===t.data.status?t.data.data:null}catch(t){return null}}},43672:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});var s=a(80914);const i={listRunningApps(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/apps/listrunningapps",t)},listAllApps(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/apps/listallapps",t)},installedApps(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/apps/installedapps",t)},availableApps(){return(0,s.Z)().get("/apps/availableapps")},getEnterpriseNodes(){return(0,s.Z)().get("/apps/enterprisenodes")},stopApp(t,e){const a={headers:{zelidauth:t,"x-apicache-bypass":!0}};return(0,s.Z)().get(`/apps/appstop/${e}`,a)},startApp(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/appstart/${e}`,a)},pauseApp(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/apppause/${e}`,a)},unpauseApp(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/appunpause/${e}`,a)},restartApp(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/apprestart/${e}`,a)},removeApp(t,e){const a={headers:{zelidauth:t},onDownloadProgress(t){console.log(t)}};return(0,s.Z)().get(`/apps/appremove/${e}`,a)},registerApp(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().post("/apps/appregister",JSON.stringify(e),a)},updateApp(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().post("/apps/appupdate",JSON.stringify(e),a)},checkCommunication(){return(0,s.Z)().get("/flux/checkcommunication")},checkDockerExistance(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().post("/apps/checkdockerexistance",JSON.stringify(e),a)},appsRegInformation(){return(0,s.Z)().get("/apps/registrationinformation")},appsDeploymentInformation(){return(0,s.Z)().get("/apps/deploymentinformation")},getAppLocation(t){return(0,s.Z)().get(`/apps/location/${t}`)},globalAppSpecifications(){return(0,s.Z)().get("/apps/globalappsspecifications")},permanentMessagesOwner(t){return(0,s.Z)().get(`/apps/permanentmessages?owner=${t}`)},getInstalledAppSpecifics(t){return(0,s.Z)().get(`/apps/installedapps/${t}`)},getAppSpecifics(t){return(0,s.Z)().get(`/apps/appspecifications/${t}`)},getAppOwner(t){return(0,s.Z)().get(`/apps/appowner/${t}`)},getAppLogsTail(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/applog/${e}/100`,a)},getAppTop(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/apptop/${e}`,a)},getAppInspect(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/appinspect/${e}`,a)},getAppStats(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/appstats/${e}`,a)},getAppChanges(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/appchanges/${e}`,a)},getAppExec(t,e,a,i){const o={headers:{zelidauth:t}},r={appname:e,cmd:a,env:JSON.parse(i)};return(0,s.Z)().post("/apps/appexec",JSON.stringify(r),o)},reindexGlobalApps(t){return(0,s.Z)().get("/apps/reindexglobalappsinformation",{headers:{zelidauth:t}})},reindexLocations(t){return(0,s.Z)().get("/apps/reindexglobalappslocation",{headers:{zelidauth:t}})},rescanGlobalApps(t,e,a){return(0,s.Z)().get(`/apps/rescanglobalappsinformation/${e}/${a}`,{headers:{zelidauth:t}})},getFolder(t,e){return(0,s.Z)().get(`/apps/fluxshare/getfolder/${e}`,{headers:{zelidauth:t}})},createFolder(t,e){return(0,s.Z)().get(`/apps/fluxshare/createfolder/${e}`,{headers:{zelidauth:t}})},getFile(t,e){return(0,s.Z)().get(`/apps/fluxshare/getfile/${e}`,{headers:{zelidauth:t}})},removeFile(t,e){return(0,s.Z)().get(`/apps/fluxshare/removefile/${e}`,{headers:{zelidauth:t}})},shareFile(t,e){return(0,s.Z)().get(`/apps/fluxshare/sharefile/${e}`,{headers:{zelidauth:t}})},unshareFile(t,e){return(0,s.Z)().get(`/apps/fluxshare/unsharefile/${e}`,{headers:{zelidauth:t}})},removeFolder(t,e){return(0,s.Z)().get(`/apps/fluxshare/removefolder/${e}`,{headers:{zelidauth:t}})},fileExists(t,e){return(0,s.Z)().get(`/apps/fluxshare/fileexists/${e}`,{headers:{zelidauth:t}})},storageStats(t){return(0,s.Z)().get("/apps/fluxshare/stats",{headers:{zelidauth:t}})},renameFileFolder(t,e,a){return(0,s.Z)().get(`/apps/fluxshare/rename/${e}/${a}`,{headers:{zelidauth:t}})},appPrice(t){return(0,s.Z)().post("/apps/calculateprice",JSON.stringify(t))},appPriceUSDandFlux(t){return(0,s.Z)().post("/apps/calculatefiatandfluxprice",JSON.stringify(t))},appRegistrationVerificaiton(t){return(0,s.Z)().post("/apps/verifyappregistrationspecifications",JSON.stringify(t))},appUpdateVerification(t){return(0,s.Z)().post("/apps/verifyappupdatespecifications",JSON.stringify(t))},getAppMonitoring(t,e){const a={headers:{zelidauth:t}};return(0,s.Z)().get(`/apps/appmonitor/${e}`,a)},startAppMonitoring(t,e){const a={headers:{zelidauth:t}};return e?(0,s.Z)().get(`/apps/startmonitoring/${e}`,a):(0,s.Z)().get("/apps/startmonitoring",a)},stopAppMonitoring(t,e,a){const i={headers:{zelidauth:t}};return e&&a?(0,s.Z)().get(`/apps/stopmonitoring/${e}/${a}`,i):e?(0,s.Z)().get(`/apps/stopmonitoring/${e}`,i):a?(0,s.Z)().get(`/apps/stopmonitoring?deletedata=${a}`,i):(0,s.Z)().get("/apps/stopmonitoring",i)},justAPI(){return(0,s.Z)()}}},51136:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});var s=a(80914);const i={listFluxNodes(){return(0,s.Z)().get("/daemon/listzelnodes")},fluxnodeCount(){return(0,s.Z)().get("/daemon/getzelnodecount")},blockReward(){return(0,s.Z)().get("/daemon/getblocksubsidy")}}},39055:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});var s=a(80914);const i={softUpdateFlux(t){return(0,s.Z)().get("/flux/softupdateflux",{headers:{zelidauth:t}})},softUpdateInstallFlux(t){return(0,s.Z)().get("/flux/softupdatefluxinstall",{headers:{zelidauth:t}})},updateFlux(t){return(0,s.Z)().get("/flux/updateflux",{headers:{zelidauth:t}})},hardUpdateFlux(t){return(0,s.Z)().get("/flux/hardupdateflux",{headers:{zelidauth:t}})},rebuildHome(t){return(0,s.Z)().get("/flux/rebuildhome",{headers:{zelidauth:t}})},updateDaemon(t){return(0,s.Z)().get("/flux/updatedaemon",{headers:{zelidauth:t}})},reindexDaemon(t){return(0,s.Z)().get("/flux/reindexdaemon",{headers:{zelidauth:t}})},updateBenchmark(t){return(0,s.Z)().get("/flux/updatebenchmark",{headers:{zelidauth:t}})},getFluxVersion(){return(0,s.Z)().get("/flux/version")},broadcastMessage(t,e){const a=e,i={headers:{zelidauth:t}};return(0,s.Z)().post("/flux/broadcastmessage",JSON.stringify(a),i)},connectedPeers(){return(0,s.Z)().get(`/flux/connectedpeers?timestamp=${Date.now()}`)},connectedPeersInfo(){return(0,s.Z)().get(`/flux/connectedpeersinfo?timestamp=${Date.now()}`)},incomingConnections(){return(0,s.Z)().get(`/flux/incomingconnections?timestamp=${Date.now()}`)},incomingConnectionsInfo(){return(0,s.Z)().get(`/flux/incomingconnectionsinfo?timestamp=${Date.now()}`)},addPeer(t,e){return(0,s.Z)().get(`/flux/addpeer/${e}`,{headers:{zelidauth:t}})},removePeer(t,e){return(0,s.Z)().get(`/flux/removepeer/${e}`,{headers:{zelidauth:t}})},removeIncomingPeer(t,e){return(0,s.Z)().get(`/flux/removeincomingpeer/${e}`,{headers:{zelidauth:t}})},adjustKadena(t,e,a){return(0,s.Z)().get(`/flux/adjustkadena/${e}/${a}`,{headers:{zelidauth:t}})},adjustRouterIP(t,e){return(0,s.Z)().get(`/flux/adjustrouterip/${e}`,{headers:{zelidauth:t}})},adjustBlockedPorts(t,e){const a={blockedPorts:e},i={headers:{zelidauth:t}};return(0,s.Z)().post("/flux/adjustblockedports",a,i)},adjustAPIPort(t,e){return(0,s.Z)().get(`/flux/adjustapiport/${e}`,{headers:{zelidauth:t}})},adjustBlockedRepositories(t,e){const a={blockedRepositories:e},i={headers:{zelidauth:t}};return(0,s.Z)().post("/flux/adjustblockedrepositories",a,i)},getKadenaAccount(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/kadena",t)},getRouterIP(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/routerip",t)},getBlockedPorts(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/blockedports",t)},getAPIPort(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/apiport",t)},getBlockedRepositories(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/blockedrepositories",t)},getMarketPlaceURL(){return(0,s.Z)().get("/flux/marketplaceurl")},getZelid(){const t={headers:{"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/zelid",t)},getStaticIpInfo(){return(0,s.Z)().get("/flux/staticip")},restartFluxOS(t){const e={headers:{zelidauth:t,"x-apicache-bypass":!0}};return(0,s.Z)().get("/flux/restart",e)},tailFluxLog(t,e){return(0,s.Z)().get(`/flux/tail${t}log`,{headers:{zelidauth:e}})},justAPI(){return(0,s.Z)()},cancelToken(){return s.S}}},85498:function(t){!function(e,a){t.exports=a()}("undefined"!=typeof self&&self,(function(){return function(t){function e(s){if(a[s])return a[s].exports;var i=a[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e){t.exports=function(t,e,a,s,i,o){var r,n=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,n=t.default);var c,d="function"==typeof n?n.options:n;if(e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0),a&&(d.functional=!0),i&&(d._scopeId=i),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=c):s&&(c=s),c){var u=d.functional,p=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(t,e){return c.call(e),p(t,e)}):d.beforeCreate=p?[].concat(p,c):[c]}return{esModule:r,exports:n,options:d}}},function(t,e,a){"use strict";var s=a(2),i=a(4),o=a(14);e.a={name:"form-wizard",components:{WizardButton:s.a,WizardStep:i.a},props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},layout:{type:String,default:"horizontal"},stepsClasses:{type:[String,Array],default:""},stepSize:{type:String,default:"md",validator:function(t){return-1!==["xs","sm","md","lg"].indexOf(t)}},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(t){return t>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return"vertical"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(t,e){this.$emit("on-change",t,e),this.$emit("update:startIndex",e)},addTab:function(t){var e=this.$slots.default.indexOf(t.$vnode);t.tabId=""+t.title.replace(/ /g,"")+e,this.tabs.splice(e,0,t),e<this.activeTabIndex+1&&(this.maxStep=e,this.changeTab(this.activeTabIndex+1,e))},removeTab:function(t){var e=this.tabs,a=e.indexOf(t);a>-1&&(a===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),a<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),e.splice(a,1))},reset:function(){this.maxStep=0,this.tabs.forEach((function(t){t.checked=!1})),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach((function(t){t.checked=!0}))},navigateToTab:function(t){var e=this,a=t>this.activeTabIndex;if(t<=this.maxStep){var s=function s(){a&&t-e.activeTabIndex>1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.beforeTabChange(e.activeTabIndex,s)):(e.changeTab(e.activeTabIndex,t),e.afterTabChange(e.activeTabIndex))};a?this.beforeTabChange(this.activeTabIndex,s):(this.setValidationError(null),s())}return t<=this.maxStep},nextTab:function(){var t=this,e=function(){t.activeTabIndex<t.tabCount-1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.afterTabChange(t.activeTabIndex)):t.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,e)},prevTab:function(){var t=this,e=function(){t.activeTabIndex>0&&(t.setValidationError(null),t.changeTab(t.activeTabIndex,t.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,e):e()},focusNextTab:function(){var t=Object(o.b)(this.tabs);if(-1!==t&&t<this.tabs.length-1){var e=this.tabs[t+1];e.checked&&Object(o.a)(e.tabId)}},focusPrevTab:function(){var t=Object(o.b)(this.tabs);if(-1!==t&&t>0){var e=this.tabs[t-1].tabId;Object(o.a)(e)}},setLoading:function(t){this.loading=t,this.$emit("on-loading",t)},setValidationError:function(t){this.tabs[this.activeTabIndex].validationError=t,this.$emit("on-error",t)},validateBeforeChange:function(t,e){var a=this;if(this.setValidationError(null),Object(o.c)(t))this.setLoading(!0),t.then((function(t){a.setLoading(!1);var s=!0===t;a.executeBeforeChange(s,e)})).catch((function(t){a.setLoading(!1),a.setValidationError(t)}));else{var s=!0===t;this.executeBeforeChange(s,e)}},executeBeforeChange:function(t,e){this.$emit("on-validate",t,this.activeTabIndex),t?e():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(t,e){if(!this.loading){var a=this.tabs[t];if(a&&void 0!==a.beforeChange){var s=a.beforeChange();this.validateBeforeChange(s,e)}else e()}},afterTabChange:function(t){if(!this.loading){var e=this.tabs[t];e&&void 0!==e.afterChange&&e.afterChange()}},changeTab:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.tabs[t],i=this.tabs[e];return s&&(s.active=!1),i&&(i.active=!0),a&&this.activeTabIndex!==e&&this.emitTabChange(t,e),this.activeTabIndex=e,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(t){this.$router&&t.route&&this.$router.push(t.route)},checkRouteChange:function(t){var e=-1,a=this.tabs.find((function(a,s){var i=a.route===t;return i&&(e=s),i}));if(a&&!a.active){var s=e>this.activeTabIndex;this.navigateToTab(e,s)}},deactivateTabs:function(){this.tabs.forEach((function(t){t.active=!1}))},activateTab:function(t){this.deactivateTabs();var e=this.tabs[t];e&&(e.active=!0,e.checked=!0,this.tryChangeRoute(e))},activateTabAndCheckStep:function(t){this.activateTab(t),t>this.maxStep&&(this.maxStep=t),this.activeTabIndex=t},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}},mounted:function(){this.initializeTabs()},watch:{"$route.path":function(t){this.checkRouteChange(t)}}}},function(t,e,a){"use strict";function s(t){a(10)}var i=a(3),o=a(11),r=a(0),n=s,l=r(i.a,o.a,!1,n,null,null);e.a=l.exports},function(t,e,a){"use strict";e.a={}},function(t,e,a){"use strict";function s(t){a(12)}var i=a(5),o=a(13),r=a(0),n=s,l=r(i.a,o.a,!1,n,null,null);e.a=l.exports},function(t,e,a){"use strict";e.a={name:"wizard-step",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:""},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return"square"===this.tab.shape},isTabShape:function(){return"tab"===this.tab.shape}}}},function(t,e,a){"use strict";e.a={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:["addTab","removeTab"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:""}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(8),i=a(16),o=a(2),r=a(4);a.d(e,"FormWizard",(function(){return s.a})),a.d(e,"TabContent",(function(){return i.a})),a.d(e,"WizardButton",(function(){return o.a})),a.d(e,"WizardStep",(function(){return r.a}));var n={install:function(t){t.component("form-wizard",s.a),t.component("tab-content",i.a),t.component("wizard-button",o.a),t.component("wizard-step",r.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),e.default=n},function(t,e,a){"use strict";function s(t){a(9)}var i=a(1),o=a(15),r=a(0),n=s,l=r(i.a,o.a,!1,n,null,null);e.a=l.exports},function(t,e){},function(t,e){},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"wizard-btn",attrs:{tabindex:"-1",type:"button"}},[t._t("default")],2)},i=[],o={render:s,staticRenderFns:i};e.a=o},function(t,e){},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{class:{active:t.tab.active}},[a("a",{class:{disabled:!t.tab.checked},attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"wizard-icon-circle md",class:{checked:t.tab.checked,square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.checked?t.stepCheckedStyle:{},t.tab.validationError?t.errorStyle:{}],attrs:{role:"tab",tabindex:t.tab.checked?0:"",id:"step-"+t.tab.tabId,"aria-controls":t.tab.tabId,"aria-disabled":t.tab.active,"aria-selected":t.tab.active}},[a("transition",{attrs:{name:t.transition,mode:"out-in"}},[t.tab.active?a("div",{staticClass:"wizard-icon-container",class:{square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.active?t.iconActiveStyle:{},t.tab.validationError?t.errorStyle:{}]},[t._t("active-step",[t.tab.icon?a("i",{staticClass:"wizard-icon",class:t.tab.icon}):a("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],2):t._e(),t._v(" "),t.tab.active?t._e():t._t("default",[!t.tab.active&&t.tab.icon?a("i",{staticClass:"wizard-icon",class:t.tab.icon}):t._e(),t._v(" "),t.tab.active||t.tab.icon?t._e():a("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],2)],1),t._v(" "),t._t("title",[a("span",{staticClass:"stepTitle",class:{active:t.tab.active,has_error:t.tab.validationError},style:t.tab.active?t.stepTitleStyle:{}},[t._v("\n            "+t._s(t.tab.title)+"\n      ")])])],2)])},i=[],o={render:s,staticRenderFns:i};e.a=o},function(t,e,a){"use strict";function s(){return document.activeElement.id}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=s();return t.findIndex((function(t){return t.tabId===e}))}function o(t){document.getElementById(t).focus()}function r(t){return t.then&&"function"==typeof t.then}e.b=i,e.a=o,e.c=r},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vue-form-wizard",class:[t.stepSize,{vertical:t.isVertical}],on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key)?"button"in e&&2!==e.button?null:void t.focusNextTab(e):null},function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key)?"button"in e&&0!==e.button?null:void t.focusPrevTab(e):null}]}},[a("div",{staticClass:"wizard-header"},[t._t("title",[a("h4",{staticClass:"wizard-title"},[t._v(t._s(t.title))]),t._v(" "),a("p",{staticClass:"category"},[t._v(t._s(t.subtitle))])])],2),t._v(" "),a("div",{staticClass:"wizard-navigation"},[t.isVertical?t._e():a("div",{staticClass:"wizard-progress-with-circle"},[a("div",{staticClass:"wizard-progress-bar",style:t.progressBarStyle})]),t._v(" "),a("ul",{staticClass:"wizard-nav wizard-nav-pills",class:t.stepsClasses,attrs:{role:"tablist"}},[t._l(t.tabs,(function(e,s){return t._t("step",[a("wizard-step",{attrs:{tab:e,"step-size":t.stepSize,transition:t.transition,index:s},nativeOn:{click:function(e){t.navigateToTab(s)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.navigateToTab(s)}}})],{tab:e,index:s,navigateToTab:t.navigateToTab,stepSize:t.stepSize,transition:t.transition})}))],2),t._v(" "),a("div",{staticClass:"wizard-tab-content"},[t._t("default",null,null,t.slotProps)],2)]),t._v(" "),t.hideButtons?t._e():a("div",{staticClass:"wizard-card-footer clearfix"},[t._t("footer",[a("div",{staticClass:"wizard-footer-left"},[t.displayPrevButton?a("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.prevTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.prevTab(e)}}},[t._t("prev",[a("wizard-button",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v("\n              "+t._s(t.backButtonText)+"\n            ")])],null,t.slotProps)],2):t._e(),t._v(" "),t._t("custom-buttons-left",null,null,t.slotProps)],2),t._v(" "),a("div",{staticClass:"wizard-footer-right"},[t._t("custom-buttons-right",null,null,t.slotProps),t._v(" "),t.isLastStep?a("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.nextTab(e)}}},[t._t("finish",[a("wizard-button",{style:t.fillButtonStyle},[t._v("\n              "+t._s(t.finishButtonText)+"\n            ")])],null,t.slotProps)],2):a("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.nextTab(e)}}},[t._t("next",[a("wizard-button",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v("\n            "+t._s(t.nextButtonText)+"\n           ")])],null,t.slotProps)],2)],2)],null,t.slotProps)],2)])},i=[],o={render:s,staticRenderFns:i};e.a=o},function(t,e,a){"use strict";var s=a(6),i=a(17),o=a(0),r=o(s.a,i.a,!1,null,null,null);e.a=r.exports},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"wizard-tab-container",attrs:{role:"tabpanel",id:t.tabId,"aria-hidden":!t.active,"aria-labelledby":"step-"+t.tabId}},[t._t("default",null,{active:t.active})],2)},i=[],o={render:s,staticRenderFns:i};e.a=o}])}))},20134:(t,e,a)=>{"use strict";t.exports=a.p+"img/Stripe.svg"},36547:(t,e,a)=>{"use strict";t.exports=a.p+"img/PayPal.png"}}]);